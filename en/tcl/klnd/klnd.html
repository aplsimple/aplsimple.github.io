<!DOCTYPE html><html><head><meta charset="utf-8"/>
<link rel="stylesheet" href="../../../zoo/sh/styles/aplsimple.css">
<title>::klnd reference</title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:Consolas,"Courier New",monospace;font-size:100%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto 10px;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:9.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:10.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:0;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}

/* Ruff default CSS */

body {
  /*max-width: 70em;*/
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft { font-size: x-small; font-family: Arial, sans-serif;
  text-align: left;
  border-top: 1px solid #0B3467;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #0B3467;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #0B3467;
 color: #0B3467;
}

p.linkline {
  text-align: right;
  font-size: smaller;
  /*    margin-top: -1em; */
  margin-bottom: 0;
}

.tinylink {
  font-size: x-small;
  font-variant: normal;
  font-family: Arial, sans-serif;
  float: right;
  padding:2px;
}

h1 .tinylink a {
  color: white;
}

#bd {
font-family: Arial, sans-serif;
/*font-size: 108%;*/
}

div.navbox {
  /* margin-top: 1em; */
  background-color: #0B3467;
  color: white;
  padding: 3px 4px 2px 4px;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

div.navbox:hover {
  overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
  font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #0B3467;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
  position: relative;
  /* display: inline-block; */
}

.tooltip .tooltiptext {
  width: 100%;
  font-weight: bold;
  background-color: white;
  color: #0B3467;
  text-align: left;
  border: 1px solid #0B3467;
  /* border-radius: 4px; */
  position: absolute;
  z-index: 1;
  margin-left: 4px;
  padding: 2px 3px;
  visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
  visibility: visible;
}

span.ns_scope {
  color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
  background-color: #0B3467;
  color: #ffffff;
  padding-left: 0.2em;
  font-family: "Times New Roman", serif;
}
h2.ruff {
  font-variant: small-caps;
  color: #0B3467;
  font-weight: bold;
  font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
  color: #0B3467;
}
h5.ruff {
  font-style: italic;
  font-weight: normal;
}
h6.ruff {
  font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
  border-bottom: thin solid #0B3467;
  color: #0B3467;
  margin-bottom: 0.2em;
}

pre {
  background-color: #f9f9f9;
  margin-top: 1em;
  margin-left: 1em;
  padding: 5px;
  font-family: Consolas, "Courier New", monospace;
  /* width: max-content; --- to leave footsteps */ overflow: auto;
  line-height: 1.2em;
}

.ruff_dyn_src {
  display: none; /* Displayed via JS */
}

.ruff_synopsis {
  border: thin solid #cccccc;
  background: #f9f9f9;
  font-family: Consolas, "Courier New", monospace;
  padding: 5px;
  margin: 0em 2em 1em;
}
.ruff_const, .ruff_cmd, ruff_defitem {
  font-weight: bold;
  font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
  font-style: italic;
  font-family: Consolas, "Courier New", monospace;
}

.ruff_source_link {
  font-size: smaller;
}

.ruff_index {
  font-size: small;
  color: grey;
  line-height: 1;
}

.ruff_index ul li {
  list-style-type: none;
}

.ruff_index ul li a {
  text-decoration: none;
}
</style>
<script>function toggleSource( id )
{
  /* Copied from Rails */
  var elem
  var link

  if( document.getElementById )
  {
      elem = document.getElementById( id )
      link = document.getElementById( "l_" + id )
  }
  else if ( document.all )
  {
      elem = eval( "document.all." + id )
      link = eval( "document.all.l_" + id )
  }
  else
      return false;

  if( elem.style.display == "block" )
  {
      elem.style.display = "none"
      link.innerHTML = "Show source"
  }
  else
  {
      elem.style.display = "block"
      link.innerHTML = "Hide source"
  }
}
</script></head>
<meta name="author" content="aplsimple">
<meta name="description" content="aplsimple's home page">
<meta name="keywords" content="aplsimple,home">
<link rel="stylesheet" href="../../../en/zoo/style.css">
<style>
table{
background-color: #f9f9f9;
margin: 0%;
margin-bottom: 2%;
padding: 0%;
box-shadow: none;
filter: none;
}
pre{
margin: 0%;
margin-bottom: 2%;
padding: 0%;
}
</style>
<link rel="icon" type="image/jpg" href="../../../zoo/favicon.jpg">
<body>
<div id="wrapper">
<div name="divd1" ALIGN="CENTER"> <FONT SIZE=5em color=#b01c20><B>
<noscript>THIS PAGE IS NOT WORKING WITHOUT JAVASCRIPT!
<BR>
<BR>PLEASE, SWITCH ON JAVASCRIPT IN SETTINGS OF YOUR BROWSER AND RELOAD THE PAGE.
</noscript>
</B></FONT></div>
<div id='doc3' class='yui-t2'>
<script src="../../../zoo/funcs.js"></script>
<script src="../../../en/zoo/this.js"></script>
<section id=sec2>
<div id='hd' class='banner'>
<a name='klnd.html'>::klnd reference</a>
</div>
<div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::klnd'></a>::klnd<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>The <em>klnd</em> package provides a calendar widget to use along with <a href="https://aplsimple.github.io/en/tcl/pave" >apave</a> package.</p>
<p class='ruff'>Features:</p>
<ul class='ruff'>
<li>displays localized days' and months' names</li>
<li>gets a chosen day through <code>-value</code> or <code>-tvar</code> (variable name) option</li>
<li>uses arrow keys to navigate through days, months and years</li>
<li>provides hot keys to navigate through months and years</li>
<li>provides buttons to navigate through months and years</li>
<li>provides a button and a hot key to set a current date</li>
<li>buttons' tips</li>
<li>shown at +X+Y coordinates / under a widget / in a parent's center / in a screen's center or under the mouse pointer</li>
<li>customizable title, date format, first week day (Sunday/Monday)</li>
<li>themeable (with ttk and apave themes)</li>
<li>may be a modal (by default) or non-modal window</li>
</ul>
<p class='ruff'>The calendar looks like this:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/pave/files/widgdat2.png" class="media" alt=""></p>
<p class='ruff'><hr></p>
<p class='ruff'>To directly call the calendar, use the following commands:</p>
<pre class='ruff'><br><code class="tcl"><b><font color=#923B23>package</font></b> require klnd
klnd::calendar ?<font color=#463e11>-option</font> value ... ?

<i><font color=#646464># or this way</font></i>
<b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::apave::apaveDir</font> pickers klnd klnd.tcl]
klnd::calendar ?<font color=#463e11>-option</font> value ... ?
<br></code></pre>
<p class='ruff'>where <code>option</code> may be:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>-value</code></td><td class='ruff_defitem'>sets an input date (omittable)</td></tr>
<tr><td class='ruff_defitem'><code>-tvar</code></td><td class='ruff_defitem'>sets a variable name to hold the input/output value (omittable)</td></tr>
<tr><td class='ruff_defitem'><code>-dateformat</code></td><td class='ruff_defitem'>sets the input/output date format (%D by default)</td></tr>
<tr><td class='ruff_defitem'><code>-weekday</code></td><td class='ruff_defitem'>sets a first week day: %w for Sunday, %u for Monday (default)</td></tr>
<tr><td class='ruff_defitem'><code>-modal</code></td><td class='ruff_defitem'><code>yes</code> if the calendar should be a modal window (default)</td></tr>
<tr><td class='ruff_defitem'><code>-title</code></td><td class='ruff_defitem'>sets the calendar's title</td></tr>
<tr><td class='ruff_defitem'><code>-geometry</code></td><td class='ruff_defitem'>sets the calendar's geometry</td></tr>
<tr><td class='ruff_defitem'><code>-entry</code></td><td class='ruff_defitem'>sets a widget's path to show the calendar under</td></tr>
<tr><td class='ruff_defitem'><code>-parent</code></td><td class='ruff_defitem'>sets a parent toplevel window to center the calendar in</td></tr>
<tr><td class='ruff_defitem'><code>-centerme</code></td><td class='ruff_defitem'><code>yes</code> if the calendar should be centered in the screen</td></tr>
</table>
<p class='ruff'>If <code>-value</code> and <code>-tvar</code> options are both set, the <code>-tvar</code> is preferred. If both omitted, a current system date is used as input.</p>
<p class='ruff'>The calendar returns a chosen date (setting also the <code>-tvar</code> variable if any) or &quot;&quot; at no choice.</p>
<p class='ruff'>The priority of geometry options: <code>-geometry, -entry, -parent, -centerme</code>. At no geometry option given, the calendar is shown under the mouse pointer.</p>
<p class='ruff'>The <code>-parent</code> option may be used along with <code>-geometry, -entry</code>, as it allows a child window to inherit the parent's attributes.</p>
<p class='ruff'><hr></p>
<p class='ruff'>An example of using the calendar for <em>apave</em> layout:</p>
<pre class='ruff'><br><code class="tcl">{dat1 labDat1 L 1 1 {} {<font color=#463e11>-tvar</font> ::N::dat1 <font color=#463e11>-title</font> {Date of the event} <font color=#463e11>-dateformat</font> %d.%m.%Y <font color=#463e11>-weekday</font> %w}}
<br></code></pre>
<p class='ruff'>This example includes <code>-tvar</code> option meaning a variable name to hold the date.</p>
<p class='ruff'><hr></p>
<p class='ruff'>The calendar provides the hotkeys Left, Right, Up, Down, PageUp, PageDown, Home, End and F3 to navigate through days, months and years.</p>
<p class='ruff'>The Enter / Space keys or Double-Click are used to pick a date.</p>
<br><h2 class='ruff'><a name='::klnd-Commands'></a>Commands<span class='tinylink'><a href='klnd.html#::klnd'>klnd</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::klnd::calendar'>calendar</a><span class='ns_scope'> [<a href="klnd.html#::klnd" title="::klnd" class='ruff_cmd'>::klnd</a>]</span><span class='tinylink'><a href='klnd.html#::klnd'>klnd</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>The main procedure of the calendar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>calendar</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of the calendar</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_1' href="javascript:toggleSource('1')">Show source</a></p>
<div id='1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::calendar {args} {

  <i><font color=#646464># The main procedure of the calendar.</font></i>
  <i><font color=#646464>#   args - options of the calendar</font></i>

  <b><font color=#923B23>variable</font></b> my::p
  <i><font color=#646464># get options and initialize the calendar's settings</font></i>
  <b><font color=#923B23>lassign</font></b> [::apave::parseOptions <font color=#4A181B>$args</font> <font color=#463e11>-title</font> <font color=#035103>&quot;Calendar&quot;</font> <font color=#463e11>-value</font> <font color=#035103>&quot;&quot;</font> <font color=#463e11>-tvar</font> <font color=#035103>&quot;&quot;</font>  <font color=#463e11>-parent</font> <font color=#035103>&quot;&quot;</font> <font color=#463e11>-dateformat</font> %D <font color=#463e11>-weekday</font> <font color=#035103>&quot;&quot;</font> <font color=#463e11>-centerme</font> <font color=#035103>&quot;&quot;</font> <font color=#463e11>-geometry</font> <font color=#035103>&quot;&quot;</font> <font color=#463e11>-entry</font> <font color=#035103>&quot;&quot;</font>]  title datevalue tvar parent my::p(dformat) my::p(weekday) centerme geo entry
  <b><font color=#923B23>set</font></b> args [::apave::removeOptions <font color=#4A181B>$args</font> <font color=#463e11>-title</font> <font color=#463e11>-value</font> <font color=#463e11>-tvar</font> <font color=#463e11>-parent</font> <font color=#463e11>-dateformat</font> <font color=#463e11>-weekday</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tvar</font> ne <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> datevalue [<b><font color=#923B23>set</font></b> <font color=#4A181B>$tvar</font>]}
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>unset</font></b> my::p(after)} ;<i><font color=#646464># to pause more at start</font></i>
  my::InitCalendar
  <b><font color=#923B23>set</font></b> p(close) [<b><font color=#923B23>string</font></b> map {& <font color=#035103>&quot;&quot;</font>} [::msgcat::mc <font color=#035103>&quot;Close&quot;</font>]]
  <i><font color=#646464># make the icons</font></i>
  <b><font color=#923B23>foreach</font></b> {i icon} {0 date 1 previous2 2 previous 3 next 4 next2} {
    <b><font color=#7A040E>image</font></b> create photo IM_AP_<font color=#4A181B>$i</font> <font color=#463e11>-data</font> [::apave::iconData <font color=#4A181B>$icon</font>]
  }
  <i><font color=#646464># priority of geometry options: -geometry, -entry, -parent, -centerme</font></i>
  <i><font color=#646464># if no geometry option, show the calendar under the mouse pointer</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$geo</font> ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-geometry <font color=#4A181B>$</font>geo&quot;</font>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$entry</font> ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>set</font></b> x [<b><font color=#7A040E>winfo</font></b> rootx <font color=#4A181B>$entry</font>]
    <b><font color=#923B23>set</font></b> y [<b><font color=#923B23>expr</font></b> {[<b><font color=#7A040E>winfo</font></b> rooty <font color=#4A181B>$entry</font>]+32}]
    <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-geometry +<font color=#4A181B>$</font>x+<font color=#4A181B>$</font>y&quot;</font>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$parent</font> ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-centerme <font color=#4A181B>$</font>parent&quot;</font>    ;<i><font color=#646464># to center in a toplevel window</font></i>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$centerme</font> ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-centerme <font color=#4A181B>$</font>centerme&quot;</font>  ;<i><font color=#646464># it's an option of apave's</font></i>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-geometry +<font color=#4A181B>[</font>expr <font color=#4A181B>{[</font>winfo pointerx .<font color=#4A181B>]</font>+10<font color=#4A181B>}]</font>+<font color=#4A181B>[</font>expr <font color=#4A181B>{[</font>winfo pointery .<font color=#4A181B>]</font>+10<font color=#4A181B>}]</font>&quot;</font>
  }
  <b><font color=#923B23>set</font></b> parent [<b><font color=#923B23>string</font></b> trimright <font color=#4A181B>$parent</font> .]
  <b><font color=#923B23>set</font></b> win [<b><font color=#923B23>set</font></b> my::p(win) <font color=#035103>&quot;<font color=#4A181B>$</font>parent._apave_CALENDAR_&quot;</font>]
  <b><font color=#923B23>catch</font></b> {<font color=#4A181B>$my::p(obj)</font> destroy}
  <i><font color=#646464># create apave object and layout its window</font></i>
  <b><font color=#923B23>set</font></b> my::p(obj) [::apave::APaveInput create APAVE_CLND <font color=#4A181B>$win</font>]
  <font color=#4A181B>$my::p(obj)</font> makeWindow <font color=#4A181B>$win</font>.fra <font color=#4A181B>$title</font>
  <font color=#4A181B>$my::p(obj)</font> paveWindow <font color=#4A181B>$win</font>.fra {
    {fraTool - - 1 10 {<font color=#463e11>-st</font> new} {}}
    {fraTool.tool - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top} {<font color=#463e11>-array</font> {
      IM_AP_0 {::klnd::my::SetCurrentDay} sev 6
      IM_AP_1 {{::klnd::my::GoYear -1} <font color=#463e11>-tooltip</font> <font color=#035103>&quot;Previous year (Home)@@-under 5&quot;</font>} h_ 2
      IM_AP_2 {{::klnd::my::GoMonth -1} <font color=#463e11>-tooltip</font> <font color=#035103>&quot;Previous month (PageUp)@@-under 5&quot;</font>} h_ 3
      LabMonth {<font color=#035103>&quot;&quot;</font> {<font color=#463e11>-fill</font> x <font color=#463e11>-expand</font> 1} {<font color=#463e11>-anchor</font> center}} h_ 2
      IM_AP_3 {{::klnd::my::GoMonth 1} <font color=#463e11>-tooltip</font> <font color=#035103>&quot;Next month (PageDown)@@-under 5&quot;</font>} h_ 3
      IM_AP_4 {{::klnd::my::GoYear 1} <font color=#463e11>-tooltip</font> <font color=#035103>&quot;Next year (End)@@-under 5&quot;</font>} h_ 2
    }}}
    {fraDays fraTool T - - {<font color=#463e11>-st</font> nsew}}
    {fraDays.tcl {
      <i><font color=#646464># make headers and buttons of days</font></i>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$::tcl_platform(platform)</font> eq <font color=#035103>&quot;windows&quot;</font>} {
        <b><font color=#923B23>set</font></b> att <font color=#035103>&quot;-highlightthickness 1 -w 6&quot;</font>
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> att <font color=#035103>&quot;-highlightthickness 0 -w 3&quot;</font>
      }
      <b><font color=#923B23>set</font></b> wt -
      <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;50} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>&lt;8} {<b><font color=#923B23>set</font></b> cur <font color=#035103>&quot;fraDays.LabDay<font color=#4A181B>$</font>i&quot;</font>} {<b><font color=#923B23>set</font></b> cur <font color=#035103>&quot;fraDays.BuTSTD<font color=#4A181B>[</font>expr <font color=#4A181B>{$</font>i-7<font color=#4A181B>}]</font>&quot;</font>}
        <b><font color=#923B23>if</font></b> {(<font color=#4A181B>$i</font>%7)!=1} {<b><font color=#923B23>set</font></b> p L; <b><font color=#923B23>set</font></b> pw <font color=#4A181B>$pr</font>} {<b><font color=#923B23>set</font></b> p T; <b><font color=#923B23>set</font></b> pw <font color=#4A181B>$wt</font>; <b><font color=#923B23>set</font></b> wt <font color=#4A181B>$cur</font>}
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>&lt;8} {
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;<font color=#4A181B>$</font>cur <font color=#4A181B>$</font>pw <font color=#4A181B>$</font>p 1 1 <font color=#4A181B>{</font>-st ew<font color=#4A181B>}</font> <font color=#4A181B>{</font>-anchor center -foreground <font color=#4A181B>$</font>::klnd::my::p(fgh)<font color=#4A181B>}</font>&quot;</font>
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;<font color=#4A181B>$</font>cur <font color=#4A181B>$</font>pw <font color=#4A181B>$</font>p 1 1 <font color=#4A181B>{</font>-st ew<font color=#4A181B>}</font> <font color=#4A181B>{</font>-relief flat -overrelief flat -bd 0 -takefocus 0 -pady 2 -com <font color=#4A181B>{</font>::klnd::my::Enter <font color=#4A181B>[</font>expr <font color=#4A181B>{$</font>i-7<font color=#4A181B>}]}</font> <font color=#4A181B>$</font>att<font color=#4A181B>}</font>&quot;</font>
        }
        %C <font color=#4A181B>$lwid</font>
        <b><font color=#923B23>set</font></b> pr <font color=#4A181B>$cur</font>
      }
    }}
    {seh FraDays T 1 10 {<font color=#463e11>-pady</font> 4}}
    {fraBottom seh T - - {<font color=#463e11>-st</font> ew}}
    {fraBottom.h_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1 <font color=#463e11>-side</font> left} {}}
    {fraBottom.ButClose - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;<font color=#4A181B>$</font>::klnd::my::p(close)&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;<font color=#4A181B>$</font>::klnd::my::p(obj) res <font color=#4A181B>$</font>win 0&quot;</font>}}
  }
  <i><font color=#646464># binds for day buttons and 'Close'</font></i>
  <b><font color=#923B23>foreach</font></b> {ev prc} { &lt;Home&gt; <font color=#035103>&quot;::klnd::my::GoYear -1 yes&quot;</font> &lt;End&gt; <font color=#035103>&quot;::klnd::my::GoYear 1 yes&quot;</font>  &lt;Prior&gt; <font color=#035103>&quot;::klnd::my::GoMonth -1 yes&quot;</font> &lt;Next&gt; <font color=#035103>&quot;::klnd::my::GoMonth 1 yes&quot;</font>} {
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;38} {<b><font color=#923B23>incr</font></b> i} {
      <b><font color=#923B23>set</font></b> but [<font color=#4A181B>$my::p(obj)</font> BuTSTD<font color=#4A181B>$i</font>]
      <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$but</font> <font color=#4A181B>$ev</font> <font color=#4A181B>$prc</font>
      <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$but</font> &lt;FocusIn&gt; <font color=#035103>&quot;::klnd::my::Enter <font color=#4A181B>$</font>i&quot;</font>
      <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$but</font> &lt;KeyPress&gt; <font color=#035103>&quot;::klnd::my::KeyPress <font color=#4A181B>$</font>i %K&quot;</font>
      <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$but</font> &lt;Double-1&gt; <font color=#035103>&quot;::klnd::my::DoubleClick <font color=#4A181B>$</font>win <font color=#4A181B>$</font>i&quot;</font>
    }
    <b><font color=#7A040E>bind</font></b> [<font color=#4A181B>$my::p(obj)</font> ButClose] <font color=#4A181B>$ev</font> <font color=#4A181B>$prc</font>
  }
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$win</font> &lt;F3&gt; ::klnd::my::SetCurrentDay
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$win</font> &lt;KeyPress&gt; <font color=#035103>&quot;::klnd::my::Leave&quot;</font>
  <i><font color=#646464># get the day to display at start</font></i>
  <b><font color=#923B23>set</font></b> m <font color=#4A181B>$my::p(m)</font>
  <b><font color=#923B23>set</font></b> y <font color=#4A181B>$my::p(y)</font>
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> ym [<b><font color=#923B23>clock</font></b> scan <font color=#4A181B>$datevalue</font> <font color=#463e11>-format</font> <font color=#4A181B>$my::p(dformat)</font>]}]} {
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>clock</font></b> format <font color=#4A181B>$ym</font> <font color=#463e11>-format</font> %N]
    <b><font color=#923B23>set</font></b> y [<b><font color=#923B23>clock</font></b> format <font color=#4A181B>$ym</font> <font color=#463e11>-format</font> %Y]
    <b><font color=#923B23>set</font></b> my::p(dvis) [<b><font color=#923B23>clock</font></b> format <font color=#4A181B>$ym</font> <font color=#463e11>-format</font> %e]
  }
  <i><font color=#646464># show and work with the calendar</font></i>
  <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;::klnd::my::ShowMonth <font color=#4A181B>$</font>m <font color=#4A181B>$</font>y&quot;</font>
  <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$my::p(obj)</font> showModal <font color=#4A181B>$win</font> <font color=#463e11>-resizable</font> {0 0} {*}<font color=#4A181B>$args</font> {*}<font color=#4A181B>$geo</font>]
  <i><font color=#646464># get the result of the selection if any</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> && <font color=#4A181B>$my::p(dvis)</font>} {
    <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>clock</font></b> format [<b><font color=#923B23>clock</font></b> scan <font color=#4A181B>$my::p(mvis)</font>/<font color=#4A181B>$my::p(dvis)</font>/<font color=#4A181B>$my::p(yvis)</font> <font color=#463e11>-format</font> %D] <font color=#463e11>-format</font> <font color=#4A181B>$my::p(dformat)</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tvar</font> ne <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> <font color=#4A181B>$tvar</font> <font color=#4A181B>$res</font>}
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> res <font color=#035103>&quot;&quot;</font>
  }
  <font color=#4A181B>$my::p(obj)</font> destroy
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::klnd::my'></a>::klnd::my<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>The <code>::klnd::my</code> namespace contains procedures for the &quot;internal&quot; usage by <em>klnd</em> package.</p>
<p class='ruff'>All of them are upper-cased, in contrast with the UI procedures of <code>klnd</code> namespace.</p>
<br><h2 class='ruff'><a name='::klnd::my-Commands'></a>Commands<span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::klnd::my::CurrentDate'>CurrentDate</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the current date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentDate</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_2' href="javascript:toggleSource('2')">Show source</a></p>
<div id='2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::CurrentDate {} {

  <i><font color=#646464># Gets the current date.</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>set</font></b> sec [<b><font color=#923B23>clock</font></b> seconds]
  <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> [<b><font color=#923B23>clock</font></b> format <font color=#4A181B>$sec</font> <font color=#463e11>-format</font> <font color=#4A181B>$p(FINT)</font>] /] p(y) p(m) p(d)
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$sec</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::DoubleClick'>DoubleClick</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes double-clicking a button (to choose or ignore).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoubleClick</span> <span class='ruff_arg'>win i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>button index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_3' href="javascript:toggleSource('3')">Show source</a></p>
<div id='3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::DoubleClick {win i} {

  <i><font color=#646464># Processes double-clicking a button (to choose or ignore).</font></i>
  <i><font color=#646464>#   win - window's path</font></i>
  <i><font color=#646464>#   i - button index</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>if</font></b> {[IsDay <font color=#4A181B>$i</font>]} {<font color=#4A181B>$p(obj)</font> res <font color=#4A181B>$win</font> 1}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::Enter'>Enter</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a button and makes it current.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Enter</span> <span class='ruff_arg'>i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>button index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_4' href="javascript:toggleSource('4')">Show source</a></p>
<div id='4' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::Enter {i} {

  <i><font color=#646464># Highlights a button and makes it current.</font></i>
  <i><font color=#646464>#   i - button index</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>if</font></b> {![IsDay <font color=#4A181B>$i</font>]} <b><font color=#A106A1>return</font></b>
  Leave
  [<b><font color=#923B23>set</font></b> w [<font color=#4A181B>$p(obj)</font> BuTSTD<font color=#4A181B>$i</font>]] configure <font color=#463e11>-fg</font> <font color=#4A181B>$p(fg)</font> <font color=#463e11>-bg</font> <font color=#4A181B>$p(bg)</font>
  <b><font color=#923B23>set</font></b> p(ienter) <font color=#4A181B>$i</font>
  <b><font color=#923B23>set</font></b> p(dvis) [<font color=#4A181B>$w</font> cget <font color=#463e11>-text</font>]
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>after</font></b> cancel <font color=#4A181B>$p(after2)</font>}
  <b><font color=#923B23>set</font></b> p(after2) [<b><font color=#923B23>after</font></b> 10 <font color=#035103>&quot;if \[winfo exists <font color=#4A181B>$</font>w\] <font color=#4A181B>{</font>focus -force <font color=#4A181B>$</font>w<font color=#4A181B>}</font>&quot;</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::GoMonth'>GoMonth</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shifts the month backward/forward.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GoMonth</span> <span class='ruff_arg'>i ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>increment for the current month</td></tr>
<tr><td class='ruff_defitem'><code><code>dobreak</code></code></td><td class='ruff_defitem'>yes when called from 'bind'; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_5' href="javascript:toggleSource('5')">Show source</a></p>
<div id='5' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::GoMonth {i {dobreak no}} {

  <i><font color=#646464># Shifts the month backward/forward.</font></i>
  <i><font color=#646464>#   i - increment for the current month</font></i>
  <i><font color=#646464>#   dobreak - yes when called from 'bind'</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$p(mvis)</font>+(<font color=#4A181B>$i)</font>}]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$m</font>&gt;12} {<b><font color=#923B23>set</font></b> m 1; <b><font color=#923B23>incr</font></b> p(yvis)}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$m</font>&lt;1} {<b><font color=#923B23>set</font></b> m 12; <b><font color=#923B23>incr</font></b> p(yvis) -1}
  ShowMonth <font color=#4A181B>$m</font> <font color=#4A181B>$p(yvis)</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dobreak</font>} {<b><font color=#A106A1>return</font></b> <font color=#463e11>-code</font> break}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::GoYear'>GoYear</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shifts the year backward/forward.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GoYear</span> <span class='ruff_arg'>i ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>increment for the current year</td></tr>
<tr><td class='ruff_defitem'><code><code>dobreak</code></code></td><td class='ruff_defitem'>yes when called from 'bind'; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_6' href="javascript:toggleSource('6')">Show source</a></p>
<div id='6' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::GoYear {i {dobreak no}} {

  <i><font color=#646464># Shifts the year backward/forward.</font></i>
  <i><font color=#646464>#   i - increment for the current year</font></i>
  <i><font color=#646464>#   dobreak - yes when called from 'bind'</font></i>

  <b><font color=#923B23>variable</font></b> p
  ShowMonth <font color=#4A181B>$p(mvis)</font> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$p(yvis)</font>+(<font color=#4A181B>$i)</font>}]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dobreak</font>} {<b><font color=#A106A1>return</font></b> <font color=#463e11>-code</font> break}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::HighlightCurrentDay'>HighlightCurrentDay</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights the current day's button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightCurrentDay</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_7' href="javascript:toggleSource('7')">Show source</a></p>
<div id='7' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::HighlightCurrentDay {} {

  <i><font color=#646464># Highlights the current day's button.</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>catch</font></b> {[<font color=#4A181B>$p(obj)</font> BuTSTD<font color=#4A181B>$p(icurr)</font>] configure <font color=#463e11>-fg</font> <font color=#4A181B>$p(fg2)</font> <font color=#463e11>-bg</font> <font color=#4A181B>$p(bg2)</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::InitCalendar'>InitCalendar</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes the settings of the calendar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitCalendar</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_8' href="javascript:toggleSource('8')">Show source</a></p>
<div id='8' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::InitCalendar {} {

  <i><font color=#646464># Initializes the settings of the calendar.</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>variable</font></b> locales
  <b><font color=#923B23>package</font></b> require msgcat
  <i><font color=#646464># colors to be used</font></i>
  <b><font color=#923B23>lassign</font></b> [::apave::obj csGet] p(fg0) p(fg1) p(bg0) p(bg1) - p(bg) p(fg) - - p(fgh) - - - - p(fg2) p(bg2)
  CurrentDate
  <b><font color=#923B23>set</font></b> p(yvis) <font color=#4A181B>$p(y)</font>  ;<i><font color=#646464># by default, the selected date = the current date</font></i>
  <b><font color=#923B23>set</font></b> p(mvis) <font color=#4A181B>$p(m)</font>
  <b><font color=#923B23>set</font></b> p(dvis) <font color=#4A181B>$p(d)</font>
  <i><font color=#646464># get localized setting of 1st week day</font></i>
  <b><font color=#923B23>set</font></b> loc [<b><font color=#923B23>lindex</font></b> [msgcat::mcpreferences] 0]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$p(weekday)</font> eq <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>array</font></b> names locales <font color=#4A181B>$loc</font>] ne <font color=#035103>&quot;&quot;</font>} {
      <b><font color=#923B23>set</font></b> p(weekday) <font color=#4A181B>$locales(</font>$loc)
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> p(weekday) %u  ;<i><font color=#646464># by default, 1st day of week is Monday</font></i>
    }
  }
  <i><font color=#646464># get localized week day names</font></i>
  <b><font color=#923B23>set</font></b> p(days) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> i {0 1 2 3 4 5 6} {
    <b><font color=#923B23>lappend</font></b> p(days) [<b><font color=#923B23>clock</font></b> format [<b><font color=#923B23>clock</font></b> scan <font color=#035103>&quot;06/<font color=#4A181B>[</font>expr <font color=#4A181B>{</font>22+<font color=#4A181B>$</font>i<font color=#4A181B>}]</font>/1941&quot;</font> <font color=#463e11>-format</font> %D]  <font color=#463e11>-format</font> %a <font color=#463e11>-locale</font> <font color=#4A181B>$loc</font>]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$p(weekday)</font> eq <font color=#035103>&quot;%u&quot;</font>} {  ;<i><font color=#646464># Sunday be the last day of week</font></i>
    <b><font color=#923B23>set</font></b> d1 [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$p(days)</font> 0]
    <b><font color=#923B23>set</font></b> p(days) [<b><font color=#923B23>list</font></b> {*}[<b><font color=#923B23>lrange</font></b> <font color=#4A181B>$p(days)</font> 1 end] <font color=#4A181B>$d1</font>]
  }
  <i><font color=#646464># get localized month names</font></i>
  <b><font color=#923B23>set</font></b> p(months) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> i {01 02 03 04 05 06 07 08 09 10 11 12} {
    <b><font color=#923B23>lappend</font></b> p(months) [<b><font color=#923B23>clock</font></b> format [<b><font color=#923B23>clock</font></b> scan <font color=#035103>&quot;<font color=#4A181B>$</font>i/01/1941&quot;</font> <font color=#463e11>-format</font> %D]  <font color=#463e11>-format</font> %B <font color=#463e11>-locale</font> <font color=#4A181B>$loc</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::IsDay'>IsDay</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check if a button shows a day.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsDay</span> <span class='ruff_arg'>i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>button index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_9' href="javascript:toggleSource('9')">Show source</a></p>
<div id='9' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::IsDay {i} {

  <i><font color=#646464># Check if a button shows a day.</font></i>
  <i><font color=#646464>#   i - button index</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>expr</font></b> {![<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> w [<font color=#4A181B>$p(obj)</font> BuTSTD<font color=#4A181B>$i</font>]}] && [<font color=#4A181B>$w</font> cget <font color=#463e11>-takefocus</font>]}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::KeyPress'>KeyPress</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes the key presses on buttons.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyPress</span> <span class='ruff_arg'>i K</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>button index</td></tr>
<tr><td class='ruff_defitem'><code><code>K</code></code></td><td class='ruff_defitem'>pressed key</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_10' href="javascript:toggleSource('10')">Show source</a></p>
<div id='10' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::KeyPress {i K} {

  <i><font color=#646464># Processes the key presses on buttons.</font></i>
  <i><font color=#646464>#   i - button index</font></i>
  <i><font color=#646464>#   K - pressed key</font></i>

  <b><font color=#923B23>variable</font></b> p
  Leave <font color=#4A181B>$i</font>
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-glob</font> <font color=#4A181B>$K</font> {
    Left {<b><font color=#923B23>set</font></b> n [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>-1}]}
    Right {<b><font color=#923B23>set</font></b> n [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>+1}]}
    Up {<b><font color=#923B23>set</font></b> n [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>-7}]}
    Down {<b><font color=#923B23>set</font></b> n [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>+7}]}
    Enter - Return - space {<font color=#4A181B>$p(obj)</font> res <font color=#4A181B>$p(win)</font> 1; <b><font color=#A106A1>return</font></b> <font color=#463e11>-code</font> break}
    *Tab* {Leave; <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$p(obj)</font> ButClose]; <b><font color=#A106A1>return</font></b> <font color=#463e11>-code</font> break}
    <b><font color=#923B23>default</font></b> {Enter <font color=#4A181B>$i</font>; <b><font color=#A106A1>return</font></b>}
  }
  <b><font color=#923B23>if</font></b> {[IsDay <font color=#4A181B>$n</font>]} {
    Enter <font color=#4A181B>$n</font>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$K</font> in {Left Up}} {
    GoMonth -1
  } <b><font color=#923B23>else</font></b> {
    GoMonth 1
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::Leave'>Leave</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unhighlights a button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Leave</span> <span class='ruff_arg'>?i?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>button index; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_11' href="javascript:toggleSource('11')">Show source</a></p>
<div id='11' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::Leave {{i 0}} {

  <i><font color=#646464># Unhighlights a button.</font></i>
  <i><font color=#646464>#   i - button index</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font> && ![[<font color=#4A181B>$p(obj)</font> BuTSTD<font color=#4A181B>$i</font>] cget <font color=#463e11>-takefocus</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>foreach</font></b> n [<b><font color=#923B23>list</font></b> <font color=#4A181B>$i</font> <font color=#4A181B>$p(ienter)</font>] {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$n</font>} {[<font color=#4A181B>$p(obj)</font> BuTSTD<font color=#4A181B>$n</font>] configure <font color=#463e11>-fg</font> <font color=#4A181B>$p(fg1)</font> <font color=#463e11>-bg</font> <font color=#4A181B>$p(bg1)</font>}
  }
  HighlightCurrentDay
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::SetCurrentDay'>SetCurrentDay</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Goes to the current date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetCurrentDay</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_12' href="javascript:toggleSource('12')">Show source</a></p>
<div id='12' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::SetCurrentDay {} {

  <i><font color=#646464># Goes to the current date.</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>set</font></b> p(dvis) 0
  ShowMonth <font color=#4A181B>$p(m)</font> <font color=#4A181B>$p(y)</font>
  Enter <font color=#4A181B>$p(icurr)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::klnd::my::ShowMonth'>ShowMonth</a><span class='ns_scope'> [<a href="klnd.html#::klnd::my" title="::klnd::my" class='ruff_cmd'>::klnd::my</a>]</span><span class='tinylink'><a href='klnd.html#::klnd::my'>my</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a month's days.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowMonth</span> <span class='ruff_arg'>m y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month y -year</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_13' href="javascript:toggleSource('13')">Show source</a></p>
<div id='13' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::klnd::my::ShowMonth {m y} {

  <i><font color=#646464># Displays a month's days.</font></i>
  <i><font color=#646464>#   m - month</font></i>
  <i><font color=#646464>#   y -year</font></i>

  <b><font color=#923B23>variable</font></b> p
  <b><font color=#923B23>set</font></b> sec [CurrentDate]
  <b><font color=#923B23>set</font></b> y [<b><font color=#923B23>expr</font></b> {max(<font color=#4A181B>$y</font>,1753)}]
  ::baltip::tip [<font color=#4A181B>$p(obj)</font> BuT_IM_AP_0]  <font color=#035103>&quot;Current date (F3)\n<font color=#4A181B>[</font>clock format <font color=#4A181B>$</font>sec -format <font color=#4A181B>$</font>p(dformat)<font color=#4A181B>]</font>&quot;</font> <font color=#463e11>-under</font> 5
  <i><font color=#646464># display month & year</font></i>
  [<font color=#4A181B>$p(obj)</font> LabMonth] configure <font color=#463e11>-text</font>  <font color=#035103>&quot;<font color=#4A181B>[</font>lindex <font color=#4A181B>$</font>p(months) <font color=#4A181B>[</font>expr <font color=#4A181B>{$</font>m-1<font color=#4A181B>}]]</font> <font color=#4A181B>$</font>y&quot;</font>  <font color=#463e11>-font</font> <font color=#035103>&quot;<font color=#4A181B>[$</font>p(obj) csFontDef<font color=#4A181B>]</font> -size <font color=#4A181B>[</font>expr <font color=#4A181B>{[$</font>p(obj) basicFontSize<font color=#4A181B>]</font>+3<font color=#4A181B>}]</font>&quot;</font>
  <i><font color=#646464># display day names</font></i>
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;8} {<b><font color=#923B23>incr</font></b> i} {
    [<font color=#4A181B>$p(obj)</font> LabDay<font color=#4A181B>$i</font>] configure <font color=#463e11>-text</font> <font color=#035103>&quot; <font color=#4A181B>[</font>lindex <font color=#4A181B>$</font>p(days) <font color=#4A181B>$</font>i-1<font color=#4A181B>]</font> &quot;</font>
  }
  <i><font color=#646464># 1st day of the month's first week:</font></i>
  <b><font color=#923B23>set</font></b> i0 [<b><font color=#923B23>clock</font></b> format [<b><font color=#923B23>clock</font></b> scan <font color=#035103>&quot;<font color=#4A181B>$</font>m/1/<font color=#4A181B>$</font>y&quot;</font> <font color=#463e11>-format</font> %D] <font color=#463e11>-format</font> %w]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$p(weekday)</font> eq <font color=#035103>&quot;%u&quot;</font>} {<b><font color=#923B23>if</font></b> {<font color=#4A181B>$i0</font>} {<b><font color=#923B23>incr</font></b> i0 -1} {<b><font color=#923B23>set</font></b> i0 6}}
  <i><font color=#646464># get the last day of month</font></i>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> yl <font color=#4A181B>$y</font>] && [<b><font color=#923B23>set</font></b> ml <font color=#4A181B>$m</font>]==12} {<b><font color=#923B23>set</font></b> ml 1; <b><font color=#923B23>incr</font></b> yl}
  <b><font color=#923B23>set</font></b> lday [<b><font color=#923B23>clock</font></b> format [<b><font color=#923B23>clock</font></b> scan <font color=#035103>&quot;<font color=#4A181B>[</font>incr ml<font color=#4A181B>]</font>/1/<font color=#4A181B>$</font>yl 1 day ago&quot;</font>] <font color=#463e11>-format</font> %d]
  <b><font color=#923B23>set</font></b> iday [<b><font color=#923B23>set</font></b> p(icurr) 0]
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;43} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>&lt;=<font color=#4A181B>$i0</font> || <font color=#4A181B>$iday</font>&gt;=<font color=#4A181B>$lday</font>} {
      <b><font color=#923B23>set</font></b> att <font color=#035103>&quot;-takefocus 0 -text <font color=#4A181B>{</font>    <font color=#4A181B>}</font> -activebackground <font color=#4A181B>$</font>p(bg1)&quot;</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> att <font color=#035103>&quot;-takefocus 1 -text <font color=#4A181B>{[</font>incr iday<font color=#4A181B>]}</font> -activeforeground <font color=#4A181B>$</font>p(fg0) -activebackground <font color=#4A181B>$</font>p(bg0)&quot;</font>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$iday</font>==<font color=#4A181B>$p(dvis)</font> || (<font color=#4A181B>$iday</font>==<font color=#4A181B>$lday</font> && <font color=#4A181B>$iday</font>&lt;<font color=#4A181B>$p(dvis))</font>} {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists p(after)]} {<b><font color=#923B23>set</font></b> af 20} {<b><font color=#923B23>set</font></b> af 200} ;<i><font color=#646464># less at key pressing tight</font></i>
        <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>after</font></b> cancel <font color=#4A181B>$p(after)</font>}
        <b><font color=#923B23>set</font></b> p(after) [<b><font color=#923B23>after</font></b> <font color=#4A181B>$af</font> <font color=#035103>&quot;::klnd::my::Enter <font color=#4A181B>$</font>i; ::klnd::my::HighlightCurrentDay&quot;</font>]
      }
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$iday</font>==1} {<b><font color=#923B23>set</font></b> p(d1st) <font color=#4A181B>$i</font>}
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$y</font>==<font color=#4A181B>$p(y)</font> && <font color=#4A181B>$m</font>==<font color=#4A181B>$p(m)</font> && <font color=#4A181B>$iday</font>==<font color=#4A181B>$p(d)</font>} {
        <b><font color=#923B23>set</font></b> p(icurr) <font color=#4A181B>$i</font>  ;<i><font color=#646464># button's index of the current date</font></i>
      }
    }
    [<font color=#4A181B>$p(obj)</font> BuTSTD<font color=#4A181B>$i</font>] configure {*}<font color=#4A181B>$att</font> <font color=#463e11>-fg</font> <font color=#4A181B>$p(fg1)</font> <font color=#463e11>-bg</font> <font color=#4A181B>$p(bg1)</font> <font color=#463e11>-relief</font> flat <font color=#463e11>-overrelief</font> flat
  }
  <b><font color=#923B23>set</font></b> p(mvis) <font color=#4A181B>$m</font>  ;<i><font color=#646464># month & year currently visible</font></i>
  <b><font color=#923B23>set</font></b> p(yvis) <font color=#4A181B>$y</font>
}<br><br></code></pre></div>
</div></div></div><div class='yui-b navbox' ><h1><a href='#::klnd'>klnd</a></h1><h2><a href='#::klnd-Commands'>Commands</a></h2><h4 class='tooltip'><a href='klnd.html#::klnd::calendar'>calendar</a><span class='tooltiptext'>The main procedure of the calendar.
</span></h4><h1><a href='#::klnd::my'>klnd::my</a></h1><h2><a href='#::klnd::my-Commands'>Commands</a></h2><h4 class='tooltip'><a href='klnd.html#::klnd::my::CurrentDate'>CurrentDate</a><span class='tooltiptext'>Gets the current date.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::DoubleClick'>DoubleClick</a><span class='tooltiptext'>Processes double-clicking a button (to choose or ignore).
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::Enter'>Enter</a><span class='tooltiptext'>Highlights a button and makes it current.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::GoMonth'>GoMonth</a><span class='tooltiptext'>Shifts the month backward/forward.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::GoYear'>GoYear</a><span class='tooltiptext'>Shifts the year backward/forward.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::HighlightCurrentDay'>HighlightCurrentDay</a><span class='tooltiptext'>Highlights the current day's button.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::InitCalendar'>InitCalendar</a><span class='tooltiptext'>Initializes the settings of the calendar.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::IsDay'>IsDay</a><span class='tooltiptext'>Check if a button shows a day.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::KeyPress'>KeyPress</a><span class='tooltiptext'>Processes the key presses on buttons.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::Leave'>Leave</a><span class='tooltiptext'>Unhighlights a button.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::SetCurrentDay'>SetCurrentDay</a><span class='tooltiptext'>Goes to the current date.
</span></h4><h4 class='tooltip'><a href='klnd.html#::klnd::my::ShowMonth'>ShowMonth</a><span class='tooltiptext'>Displays a month's days.
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
