<!DOCTYPE html>
<html lang="ru">
<head><meta charset="UTF-8">
<meta name="author" content="aplsimple">
<meta name="description" content="pave - a sort of geometry manager for Tcl/Tk">
<meta name="keywords" content="Tcl/Tk,geometry manager,pave">
<link rel="stylesheet" href="../../zoo/style.css">
<link rel="icon" type="image/jpg" href="../../../zoo/favicon.jpg">
</head>
<body>
<div id="wrapper">
<div name="divd1" ALIGN="CENTER"> <FONT SIZE=5em color=#b01c20><B>
<noscript>THIS PAGE IS NOT WORKING WITHOUT JAVASCRIPT!
<BR>
<BR>PLEASE, SWITCH ON JAVASCRIPT IN SETTINGS OF YOUR BROWSER AND RELOAD THE PAGE.
</noscript>
</B></FONT></div>

<script src="../../../zoo/funcs.js"></script>
<script src="../../zoo/this.js"></script>

<section id=sec2>

<title>pave - a sort of geometry manager for Tcl/Tk</title>
</head>

<div id="bodyContent" class="dokuwiki">
<div id="dw__toc" class="dw__toc">
<h3 class="toggle open" style="cursor: pointer;">Table of Contents</h3>
<div aria-expanded="true" style="">

<ul class="toc">
<li class="level2"><div class="li"><a href="#intro">Introduction</a></div></li>
<li class="level2"><div class="li"><a href="#introduction_to_Pave">Idea of Pave</a></div></li>
<li class="level2"><div class="li"><a href="#use_Pave">Use of Pave</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#example_Pave">Example</a></div></li>
<li class="level3"><div class="li"><a href="#description_Pave">Description</a></div></li>
<li class="level3"><div class="li"><a href="#methods_Pave">Methods</a></div></li>
<li class="level3"><div class="li"><a href="#examples_Pave">More Examples</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#use_PaveDialog">Use of PaveDialog</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#PaveDialog_options">Options</a></div></li>
<li class="level3"><div class="li"><a href="#PaveDialog_input">Input dialog</a></div></li>
</ul>

<li class="level2"><div class="li"><a href="#tips">Tips & Tricks</a></div></li>

</li>
<li class="level2"><div class="li"><a href="#download">Download</a></div></li>
<li class="level2"><div class="li"><a href="#see_also">See also</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<br>

<h1 id="intro">Introduction</h1>
<div class="level1">
<br>

<p>
The <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> software provides a sort of geometry manager for <a href="http://www.tcl.tk/" title="http://www.tcl.tk" rel="nofollow">Tcl/Tk</a>.
</p>

<p>
The <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> isn't designed to replace the exiting Tk geometry managers (Tk GMs). Rather it tries to simplify the window layout by using their best.
</p>

<p>
  The Tk GMs have the following drawbacks:
<ul>
<li class="level2"><div class="li"> The <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/place.htm" class="wikilink1" title="place GM">place</a></span> is very good when you need e.g. the overlapping popup messages. Still it is rarely used because of its complexity esp. when you need a resizable window of multiple widgets.
</div></li>
<li class="level2"><div class="li"> The <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/pack.htm" class="wikilink1" title="pack GM">pack</a></span> is very good for simple layouts. But if your layout is growing in  contents and complexity, its packs start being more and more tricky, sometimes even mystic.</div></li>
<li class="level2"><div class="li"> The <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/grid.htm" class="wikilink1" title="grid GM">grid</a></span> is best of all. However it is tiresome and tricky at the modifications of existing layouts. The inserting/removing a cell can become a real torment with those recalculations of cells/rows and sticky/weight attributes. The usage of relative (- x ^) <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/grid.htm" class="wikilink1" title="grid GM">grid</a></span> is restricted with simple layouts of table type.
</div></li>
</ul>
</p>

<p>
  All of the Tk GMs have the common drawback consisting in that the widgets' creation, configuration and layout are separated in space and time. In practice it means that to modify the layout you need look at the 2-3-4.. places of your code, namely the widgets creation / configuration / geometry management. You are happy if those separated places are spanned by your editor's screen.

</p>
<p>
The proposed <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> allows you to get rid of these drawbacks by means of:
<ul>
<li class="level2"><div class="li"> uniting the creation of widgets (and mostly their configuration) with their layout
</div></li>
<li class="level2"><div class="li"> minimizing a coder's efforts at inserting/removing and naming/accessing widgets
</div></li>
<li class="level2"><div class="li"> using a batch of 'mega-widgets'
</div></li>
<li class="level2"><div class="li">joining the power of <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/grid.htm" class="wikilink1" title="grid GM">grid</a></span> and <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/pack.htm" class="wikilink1" title="pack GM">pack</a></span>
</div></li>
</ul>
</p>

<p>
The <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> is implemented as <em>PaveMe oo::class</em>, so that you can enhance it with your own inherited class.
</p>

<p>
Also, you can employ <em>PaveDialog oo::class</em> and <em>PaveInput oo::class</em> that allow you:
<ul>
<li class="level2"><div class="li"> to call the standard dialogs with a checkbox of "Don't show again" type
</div></li>
<li class="level2"><div class="li"> to call the standard dialogs with tagged text
</div></li>
<li class="level2"><div class="li"> to call the input dialog using entry, combobox, text, spinbox, checkbutton, radiobutton, file / directory / color / font / date pickers
</div></li>
<li class="level2"><div class="li"> to use menubar, toolbar, statusbar and the mentioned pickers as 'mega-widgets'
</div></li>
<li class="level2"><div class="li"> to resize windows neatly (however strange, not done in Tk standard dialogs)
</div></li>
</ul>
</p>
<p>The theming facility of pave is enabled by <em>ObjectTheming oo::class</em> which embraces ttk as well as non-ttk widgets. This is seen on <a href="https://aplsimple.github.io/files/test2pave.mp4" class="wikilink1" title="Video of test2_pave.tcl">the demo video</a>.
</p>

<p>
<br>

</p>

</div>

<h1 id="introduction_to_Pave">Idea of Pave</h1>
<div class="level1">

<p>
The main idea of <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> is that while inserting or removing a cell you need to have in mind only its neighborhood. This way of thinking is applicable to the creation as well as to the modification of layout.
</p>

<p>
For example, while adding a new widget cell to layout you need to have in mind only its top or left neighbor, this way:
</p>
</p>
<pre class="code">
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

                         --------------
. . . . . . . . . . . .  | T neighbor | . . . . . . . . . .
                         --------------
                               ^
                               |
        --------------    ------------
. . . . | L neighbor |<---| new cell |
        --------------    ------------
</pre>

<p>
Just at the adding, while inserting a widget in the middle of layout, you think only of its relations to the future neighbors. Thus, you always think of widgets in terms of relations to their neighbors who as such are easily observable. You never evaluate the widgets' absolute rows/columns and all appropriate correlations.
</p>

<p>
The second idea of <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> is to minimize your key-pressing which is achieved through:
<ul>
<li class="level2"><div class="li"> smart naming of the widgets
</div></li>
<li class="level2"><div class="li"> abbreviating of the widgets options
</div></li>
<li class="level2"><div class="li"> default settings of most popular options (perhaps the scroll options are most odious)
</div></li>
<li class="level2"><div class="li"> providing the popular pickers (file, directory, color) as widgets
</div></li>
</ul>
</p>

<p>
In practice you pass to <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> a list containing the records (lists also) of the following structure:
</p>

<p>

<div class="table sectionedit1"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Widget name</th>
		<th class="col1"> Neighbor name<br> (or "-")</th>
		<th class="col2"> Position of neighbor <br> ("L", "T" or "-")</th>
		<th class="col3"> Row <br> span</th>
		<th class="col4"> Column <br> span</th>
		<th class="col5"> grid/pack <br> options</th>
		<th class="col6"> Widget <br> attributes</th>
	</tr>
	</thead>
</table>
</div>
</p>

<p>
For example, this code sample
<pre class="code">. . .
{but4 . . .
{sehC but4 T 1 1 {-st ews}}
{butC sehC T 3 1 {-st we} {-t "Close All" -com "exit"}}
. . .</pre>
means the creation and the gridding a horizontal separator (sehC) and a button (butC). The sehC spans 1 row and 1 column, while the butC spans 3 rows and 1 column. The "-st" option means "-sticky". The "-t" means "-text", the "-com" means "-command".
</p>

<p>
  Notice also that
<ul>
<li class="level2"><div class="li"> the widgets are related as "T" neighbors (but4 is above sehC that is above butC)
</div></li>
<li class="level2"><div class="li"> the widget attributes are omitted in the sehC
</div></li>
<li class="level2"><div class="li"> the grid/pack options and both spans (being 1 as default) can be omitted as well
</div></li>
<li class="level2"><div class="li"> the neighbor options cannot be omitted, e.g. you can set <pre>{h_ lab T}</pre> but not <pre>{h_ lab}</pre> as "T" sets the relation of "h_" to its "lab" neighbor.
</div></li>
</ul>
<p>
<br>

</p>

</div>

<h1 id="use_Pave">Use of Pave</h1>
<br>

<h2 id="example_Pave">Example of Pave Usage</h2>
<div class="level2">

<p>
Here we use the <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> to make the following dialog:
</p>

<p>
<img src="files/findreplace.jpg" alt="Find and Replace dialog">
</p>

<p>
  It's created by this code:

<pre class="code">package require Tk
ttk::style theme use clam
source paveme.tcl
PaveMe create pave
set win .win
pave makeWindow $win.fra "Find and Replace"
set v1 [set v2 1]
set c1 [set c2 [set c3 0]]
set en1 [set en2 ""]
pave window $win.fra {
  {lab1 - - 1 1    {-st es}  {-t "Find: "}}
  {ent1 lab1 L 1 9 {-st wes} {-tvar ::en1}}
  {lab2 lab1 T 1 1 {-st es}  {-t "Replace: "}}
  {ent2 lab2 L 1 9 {-st wes} {-tvar ::en2}}
  {labm lab2 T 1 1 {-st es} {-t "Match: "}}
  {radA labm L 1 1 {-st ws} {-t "Exact" -var ::v1 -value 1}}
  {radB radA L 1 1 {-st ws} {-t "Glob" -var ::v1 -value 2}}
  {radC radB L 1 1 {-st es} {-t "RE  " -var ::v1 -value 3}}
  {h_2 radC L 1 2  {-cw 1}}
  {h_3 labm T 1 9  {-st es -rw 1}}
  {seh  h_3 T 1 9  {-st ews}}
  {chb1 seh  T 1 2 {-st w} {-t "Match whole word only" -var ::c1}}
  {chb2 chb1 T 1 2 {-st w} {-t "Match case"  -var ::c2}}
  {chb3 chb2 T 1 2 {-st w} {-t "Wrap around" -var ::c3}}
  {sev1 chb1 L 3 1 }
  {lab3 sev1 L 1 2 {-st w} {-t "Direction:"}}
  {rad1 lab3 T 1 1 {-st we} {-t "Down" -var ::v2 -value 1}}
  {rad2 rad1 L 1 1 {-st we} {-t "Up"   -var ::v2 -value 2}}
  {sev2 ent1 L 8 1 }
  {but1 sev2 L 1 1 {-st we} {-t "Find" -com "::pave res $win 1"}}
  {but2 but1 T 1 1 {-st we} {-t "Find All" -com "::pave res $win 2"}}
  {but3 but2 T 1 1 {-st we} {-t "Replace"  -com "::pave res $win 3"}}
  {but4 but3 T 1 1 {-st nwe} {-t "Replace All" -com "::pave res $win 4"}}
  {seh3 but4 T 1 1 {-st ewn}}
  {but5 seh3 T 3 1 {-st we} {-t "Close" -com "::pave res $win 0"}}
}
set res [pave showModal $win -focus $win.fra.ent1 -geometry +200+200]
puts "
  Entry1=$en1
  Entry2=$en2
  E/G/R=$v1
  CheckBox1=$c1
  CheckBox2=$c2
  CheckBox3=$c3
  Direction=$v2
  Result=$res
  "
pave destroy
destroy $win</pre>

Below we'll consider this code line by line.
</p>

<p>
The 1-2 lines are preparatory for using Tk widgets. The 3-6 lines initialize <code>pave</code> object that makes the <code>.win</code> window with "Find and Replace" title. The 7-9 lines initialize the variables used in the dialog. Still nothing special:
<pre class="code">1  package require Tk
2  ttk::style theme use clam
3  source paveme.tcl
4  PaveMe create pave
5  set win .win
6  pave makeWindow $win.fra "Find and Replace"
7  set v1 [set v2 1]
8  set c1 [set c2 [set c3 0]]
9  set en1 [set en2 ""]</pre>
</p>

<p><br>
The 10 line calls <code> pave window</code> method that is passed two arguments: the window name and the list of widgets' options. The <code> pave window</code> does all layout work.
<br>
Note that the window name is passed as .win.fra, so we create a window named .win and a ttk::frame named .win.fra, thus we'll have the themed background. This way we save the keypressing like this: <em>pack [ttk::frame $w] -expand 1 -fill both</em>.
<br>
The 11 line creates <code>lab1</code> label with text "Find:". It begins the layout so it has no neighbors and as such has "-" standing for neighborhood. The "-st es" means the "-sticky es" option.
<br> The 12 line creates an entry <code>ent1</code> where the "find string" would be entered. The neighbor of <code>ent1</code> is the left (L) <code>lab1</code>. We expect that the  <code>ent1</code> would be expanded while resizing the window so we set its columnspan to "9" and "-st wes". The textvariable receiving the input is <code>::en1</code>. Note that the variable should be fully qualified.
<br> The 13-14 lines create the label and the entry for "replace string" and are similar to the previous.
<pre class="code">10  pave window $win.fra {
11    {lab1 - - 1 1    {-st es}  {-t "Find: "}}
12    {ent1 lab1 L 1 9 {-st wes} {-tvar ::en1}}
13    {lab2 lab1 T 1 1 {-st es}  {-t "Replace: "}}
14    {ent2 lab2 L 1 9 {-st wes} {-tvar ::en2}}</pre>
</p>

<p> Stopped by now we'd see the following dialog:
</p>
<p>
<img src="files/findreplace1.jpg" alt="Lines 10-14">
</p>

<p>
<br>The 15-18 lines set the prompt and the radiobuttons titled "Exact", "Glob", "RE" (the matching modes at finding). Each of them has a left (L) neighbor, spans 1 row and 1 cell and has the textvariable <code>::v1</code> that would receive the input from them.
<pre class="code">15    {labm lab2 T 1 1 {-st es} {-t "Match: "}}
16    {radA labm L 1 1 {-st ws} {-t "Exact" -var ::v1 -value 1}}
17    {radB radA L 1 1 {-st ws} {-t "Glob" -var ::v1 -value 2}}
18    {radC radB L 1 1 {-st es} {-t "RE  " -var ::v1 -value 3}}</pre>
</p>

<p> Stopped by now we'd see the following dialog:
</p>
<p>
<img src="files/findreplace2.jpg" alt="Lines 15-18">
</p>

<p><br>
  The 19-20 lines set the horizontal spacers that are necessary to make the clear  resizing of the window.
  <br>The <code>h_2</code> spacer has "-cw 1" grid option which means that its spanned cells would be expanded while resizing the window. It's just we need because the cells would expand also the entry fields.
  <br>The <code>h_3</code> spacer is located under the previous <code>labm</code> label and has "-rw 1" grid option which means that its row would be expanded while resizing the window.
<br> The 21 line sets the horizontal separator <code>seh</code> that spans 9 columns.
<br> Just under the separator are located the checkboxes of find options. They are located one under another (T) and have the variables <code>::c1</code>, <code>::c2</code>, <code>::c3</code> for receiving their input.
<pre class="code">19    {h_2 radC L 1 2  {-cw 1}}
20    {h_3 labm T 1 9  {-st es -rw 1}}
21    {seh  h_3 T 1 9  {-st ews}}
22    {chb1 seh  T 1 2 {-st w} {-t "Match whole word only" -var ::c1}}
23    {chb2 chb1 T 1 2 {-st w} {-t "Match case"  -var ::c2}}
24    {chb3 chb2 T 1 2 {-st w} {-t "Wrap around" -var ::c3}}</pre>

<p> Stopped by now we'd see the following dialog:
</p>
<p>
<img src="files/findreplace3.jpg" alt="Lines 19-24">
</p>

<p><br>
The 25 line sets the vertical separator <code>sev1</code> that has the left (L) neighbor <code>chb1</code> (checkbox "Match whole word only") and spans 3 rows.
<br>In 26-28 lines we have a label ("Direction") and two radiobuttons of find direction.
<br>The 29 line sets the vertical separator <code>sev2</code> that has the left (L) neighbor <code>ent1</code> (find entry) and spans 8 rows.
<pre class="code">25    {sev1 chb1 L 3 1 }
26    {lab3 sev1 L 1 2 {-st w} {-t "Direction:"}}
27    {rad1 lab3 T 1 1 {-st we} {-t "Down" -var ::v2 -value 1}}
28    {rad2 rad1 L 1 1 {-st we} {-t "Up"   -var ::v2 -value 2}}
29    {sev2 ent1 L 8 1 }</pre>
</p>

<p> Stopped by now we'd see the following dialog:
</p>
<p>
<img src="files/findreplace4.jpg" alt="Lines 25-29">
</p>

<p><br>
At last, we lay out the buttons. The first <code>but1</code> ("Find") has a left neighbor <code>sev2</code>, all others are located one under another. There is also a horizontal separator <code>seh3</code> to separate the "Close" button from others.
<br>The buttons have the commands ("-com") that set an internal variable of <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> to the corresponding value (e.g. "::pave res $win 1" sets it to 1). Changing this variable would  stop the window's event cycle.
<pre class="code">30    {but1 sev2 L 1 1 {-st we} {-t "Find" -com "::pave res $win 1"}}
31    {but2 but1 T 1 1 {-st we} {-t "Find All" -com "::pave res $win 2"}}
32    {but3 but2 T 1 1 {-st we} {-t "Replace"  -com "::pave res $win 3"}}
33    {but4 but3 T 1 1 {-st nwe} {-t "Replace All" -com "::pave res $win 4"}}
34    {seh3 but4 T 1 1 {-st ews}}
35    {but5 seh3 T 3 1 {-st we} {-t "Close" -com "::pave res $win 0"}}
36 }</pre>
</p>

<p>
So, in <u>36 lines</u> we have created the full-featured "Find and Replace" dialog  <a href="#example_Pave">shown above</a>.
</p>

<p>
While being resized the dialog behaves rather decently:
</p>
<p>
<img src="files/findreplace5.jpg" alt="Resizing">
</p>

<p><br>The line:
<pre class="code">37  set res [pave showModal $win -focus $win.fra.ent1 -geometry +200+200]</pre>
calls the dialog as modal passing it the window name, the focused field name and the geometry arguments (the last two may be omitted).
<br>The main result (i.e. the pressed button's number) is returned to <code>res</code> variable.
<br>Other results are returned as the values of corresponding variables.
<br>We should also delete the pave object if it would not be used farther.
</p>
<p>
<pre class="code">38  puts "
39    Entry1=$en1
40    Entry2=$en2
41    E/G/R=$v1
42    CheckBox1=$c1
43    CheckBox2=$c2
44    CheckBox3=$c3
45    Direction=$v2
46    Result=$res
47    "
48  pave destroy
49  destroy $win</pre>
</p>
<br>
<p id="example2_Pave">
  The most remarkable feature of <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> is the easy way of modifications.
  <br>Let's imagine e.g. we need the "Stay on top" checkbox in our Find/Replace dialog.
 As for the layout, we should only include <font color=red>1</font> and modify <font color=red>3</font> lines, this way:
<pre class="code">.......
25  <font color=red>{chb4 chb3 T 1 2 {-st w} {-t "Stay on top" -var ::c4}}</font>
26  {sev1 chb1 L <font color=red>4</font> 1 }
.......
30  {sev2 ent1 L <font color=red>9</font> 1 }
.......
36  {but5 seh3 T <font color=red>4</font> 1 {-st we} {-t "Close" -com "::pave res $win 0"}}</pre>
Note that we made only those modifications that are relevant indeed: inserting the new widget and incrementing the row spans of existing widgets. No calculations of rows, columns, weights etc.
<br>The result:
</p>
<p>
<img src="files/findreplace6.jpg" alt="Resizing">
</p>

<p>
<br>

</p>

</div>

<h2 id="description_Pave">Description of Pave</h2>

<br>
<h3>Making PaveMe Object</h3>
<div class="level3">
<p>The creation of a <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> object and a paved window are rather straightforward. Firstly we source the paveme.tcl, secondly we create the pave object, at last we make the window, this way:
<pre class="code">package require Tk
source paveme.tcl
PaveMe create pave
pave makeWindow $win $title</div>
where <code>win</code> contains the window's path, <code>title</code> contains the window's title.
</p>

<p>
<br>

</p>

</div>
<h3>Widget Option List</h3>
<div class="level3">

<p>
The widget option list is passed to <code>pane window</code> method as a second argument, this way:
<pre class="code">pave window $win $widget_option_list</pre>
The <code>widget_option_list</code> is a list of lists of the following structure:
<p>
<div class="table sectionedit1"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Widget name</th>
		<th class="col1"> Neighbor name<br> (or "-")</th>
		<th class="col2"> Position of neighbor <br> ("L", "T" or "-")</th>
		<th class="col3"> Row <br> span</th>
		<th class="col4"> Column <br> span</th>
		<th class="col5"> grid/pack <br> options</th>
		<th class="col6"> Widget <br> attributes</th>
		<th class="col6"> Add <br> command</th>
		<th class="col6"> After <br> command(s)</th>
	</tr>
	</thead>
</table>
</div>
</p>
</p>

<p>
where:
<ul>
<li class="level2"><div class="li"> <code>Widget name </code> is a relative pathname of widget (e.g. butOK, fra1.lab1)</div></li>
<li class="level2"><div class="li"> <code>Neighbor name </code> is a neighboring widget's pathname or "-" (no neighbor) or "#" (no neighbor and no grid/pack) </div></li>
<li class="level2"><div class="li"> <code>Position of neighbor </code> may be "L" (left neighbor), "T" (top neighbor) or "-" (no neighbor)</div></li>
<li class="level2"><div class="li"> <code>Row span </code> is a rowspan grid option (optional, by default equals to 1)</div></li>
<li class="level2"><div class="li"> <code>Column span </code> is a columnspan grid option (optional, by default equals to 1)</div></li>
<li class="level2"><div class="li"> <code>grid/pack options </code>is a grid/pack options (optional)<br>
  by default the options refer to the <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/grid.htm" class="wikilink1" title="grid GM">grid</a></span>, however when the options begin with "pack" they refers to the <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/pack.htm" class="wikilink1" title="pack GM">pack</a></span>
</div></li>
<li class="level2"><div class="li"> <code>Widget attributes </code> is a widget attributes according to its type e.g. "label", "ttk:button" etc. (optional)</div></li>
<li class="level2"><div class="li"> <code>Add command </code> is <em>add ?options?</em> command of ttk::panedwindow (optional)</div></li>
<li class="level2"><div class="li"> <code>After command(s) </code> are additional commands to be executed after gridding/packing/adding a widget, at that "~" is expanded to a widget name, e.g. <em>{~ start}</em> to start a progressbar (optional)</div></li>
</ul>
</p>

<p>
The last two facilities are rarely used. See examples of these in test2_pave.tcl (fra.pan.panL and .lfrT.pro widgets).
</p>

<p>
Some widget attributes are specific to <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span>, namely:
<ul>
<li class="level2"><div class="li"> <em>-title {title}</em> for fil*, fis*, dir*, fon*, clr*, dat* widgets (choosers)
  </div></li>
<li class="level2"><div class="li"> <em>-dateformat format</em> for the date chooser
  </div></li>
<li class="level2"><div class="li"> <em>-array {imagename {"command"} ...}</em> for the toolbar
  </div></li>
<li class="level2"><div class="li"> <em>-array {{"prompt"} width ...}</em> for the statusbar
  </div></li>
</ul>
</p>

<p>
The widgets are included in the list normally from top to bottom and from left to right. The widgets succession in the list defines their tab order in the window, so you can define the successive widgets according to your requirements.
</p>

<p>The widgets should be previously defined in the list to use them as neighbors.
</p>

<p>
<br>

</p>

</div>
<h3>Widget Names</h3>
<div class="level3">

<p>In <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span>, the initial three letters of widget name define its type. This method (sort of <a href="https://en.wikipedia.org/wiki/Hungarian_notation">Hungarian notation</a>) saves a lot of keypressing.
</p>

<p>
The compound widget paths have the widget type according to the tail (e.g. <code>fra1.but1</code> is of <code>ttk::button</code> type).
</p>

<p><b>Note</b>: ttk::widgets have the lower case patterns while their non-ttk counterparts have an uppercased 3rd letter (e.g. <code>but</code> vs <code>buT</code>).
</p>

<p>
The widget name patterns and their matters are presented in the table below.
</p>

<div class="level3">
<p>
<div class="table sectionedit1"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Name pattern</th><th class="col1">Widget type</th><th class="col2">Default options</th><th class="col3">Examples and comments</th>
	</tr>
	</thead>
	<tbody>
	  <tr>		<td class="col0"> <em>bit*</em> </td><td class="col1"> bitmap </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>but*</em> </td><td class="col1"> ttk::button </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>buT*</em> </td><td class="col1"> button </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>can*</em> </td><td class="col1"> canvas </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>chb*</em> </td><td class="col1"> ttk::checkbutton </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>chB*</em> </td><td class="col1"> checkbutton </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>cbx*</em> </td><td class="col1"> ttk::combobox </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>ent*</em> </td><td class="col1"> ttk::entry </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>enT*</em> </td><td class="col1"> entry </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>fra*</em> </td><td class="col1"> ttk::frame </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>frA*</em> </td><td class="col1"> frame </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>lab*</em> </td><td class="col1"> ttk::label </td><td class="col2"> -st w </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>laB*</em> </td><td class="col1"> label </td><td class="col2"> -st w </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>lfr*</em> </td><td class="col1"> ttk::labelframe </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>lfR*</em> </td><td class="col1"> labelframe </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>lbx*</em> </td><td class="col1"> listbox </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>meb*</em> </td><td class="col1"> ttk::menubutton </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>meB*</em> </td><td class="col1"> menubutton </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>men*</em> </td><td class="col1"> menu </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>not*</em> </td><td class="col1"> ttk::notebook </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>pan*</em> </td><td class="col1"> ttk::panedwindow </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>pro*</em> </td><td class="col1"> ttk::progressbar </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>rad*</em> </td><td class="col1"> ttk::radiobutton </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>raD*</em> </td><td class="col1"> radiobutton </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>sca*</em> </td><td class="col1"> ttk::scale </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>scA*</em> </td><td class="col1"> scale </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>sbh*</em> </td><td class="col1"> ttk::scrollbar -orient horizontal </td><td class="col2"> -st ew </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>sbH*</em> </td><td class="col1"> scrollbar -orient horizontal </td><td class="col2"> -st ew </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>sbv*</em> </td><td class="col1"> ttk::scrollbar -orient vertical</td><td class="col2"> -st ns </td><td class="col3">
The <span class="curid"><a href="http://tcl.tk/man/tcl8.7/TkCmd/pack.htm" class="wikilink1" title="pack GM">pack</a></span> GM is used for a scrollable text.
<br> Note also that no scrolling commands are set below.
<br> The vertical scrollbar "knows" that the left neighbor is a scrollable text:
<br> {fraD labD L 1 1 {-st nswe -padx 5} {}}
<br> {fraD.texD - - 1 1 {pack -side left -expand 1 -fill both} {-h 8 -w 50 -wrap word}}
<br>{fraD.sbvD fraD.texD L 1 1 {pack}}
  </td></tr>
		<tr><td class="col0"> <em>sbV*</em> </td><td class="col1"> scrollbar -orient vertical </td><td class="col2"> -st ns </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>seh*</em> </td><td class="col1"> ttk::separator -orient horizontal</td><td class="col2"> -st ew </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>sev*</em> </td><td class="col1"> ttk::separator -orient vertical</td><td class="col2"> -st ns </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>siz*</em> </td><td class="col1"> ttk::sizegrip </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>spx*</em> </td><td class="col1"> ttk::spinbox </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>spX*</em> </td><td class="col1"> spinbox </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>tex*</em> </td><td class="col1"> text </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>tre*</em> </td><td class="col1"> ttk::treeview </td><td class="col2">  </td><td class="col3">  </td></tr>
		<tr><td class="col0"> <em>h_*</em> </td><td class="col1"> frame </td><td class="col2"> -st ew -csz 3 -padx 3 </td><td class="col3"> The horizontal spacer </td></tr>
		<tr><td class="col0"> <em>v_*</em> </td><td class="col1"> frame </td><td class="col2"> -st ns -rsz 3 -pady 3 </td><td class="col3"> The vertical spacer </td></tr>
		<tr><td class="col0"> <em>fil*</em> </td><td class="col1"> file picker </td><td class="col2"> </td><td class="col3"> The file picker (see examples <a href="#use_PaveDialog_for_input">below</a>)</td></tr>
		<tr><td class="col0"> <em>fis*</em> </td><td class="col1"> 'file to save' picker </td><td class="col2"> </td><td class="col3"> The saved file picker (see examples <a href="#use_PaveDialog_for_input">below</a>)</td></tr>
		<tr><td class="col0"> <em>dir*</em> </td><td class="col1"> directory picker </td><td class="col2"> </td><td class="col3"> The directory picker (see examples <a href="#use_PaveDialog_for_input">below</a>)</td></tr>
		<tr><td class="col0"> <em>clr*</em> </td><td class="col1"> color picker </td><td class="col2"> </td><td class="col3"> The color picker (see examples <a href="#use_PaveDialog_for_input">below</a>)</td></tr>
		<tr><td class="col0"> <em>dat*</em> </td><td class="col1"> date picker </td><td class="col2"> </td><td class="col3"> The date picker (i.e. calendar, see examples <a href="#use_PaveDialog_for_input">below</a>)</td></tr>
		<tr><td class="col0"> <em>men*</em> </td><td class="col1"> menubar </td><td class="col2"> </td><td class="col3"> The menubar (containing the menubar items, see examples <a href="#test2_pave">below</a>)</td></tr>
		<tr><td class="col0"> <em>too*</em> </td><td class="col1"> toolbar </td><td class="col2"> </td><td class="col3"> The toolbar (containing images and commands, see examples <a href="#test2_pave">below</a>)</td></tr>
		<tr><td class="col0"> <em>sta*</em> </td><td class="col1"> statusbar </td><td class="col2"> </td><td class="col3"> The statusbar (containing fields for hints, see examples <a href="#test2_pave">below</a>)</td></tr>
	</tbody>
</table>
</div>
</p>

<p>
Notice that <em>h_*</em> (spacer) and <em>sev*</em> (vertical separator) can be used in <em>-array</em> options of toolbar and statusbar widgets. In these cases the <em>h_*</em> and <em>sev*</em> are followed with widths. See examples in test2_pave.tcl illustrated <a href="#test2_pave">below</a>.
</p>

<p>
<br>

</p>

</div>

<h3>Option Abbreviations</h3>
<div class="level3">
<p>
The <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> provides the option abbreviations to save the keypressing. That said, you can use the full options and be happy with them.
<br>However, as for <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span>, you may use the abbreviations:
</p>

<div class="table sectionedit1"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Abbreviation</th><th class="col1">Option</th></tr>
	</thead>
	<tbody><tr class="row1"><td class="col0"><em> -st </em></td><td class="col1"> -sticky </td>
	<tr class="row1">
		<td class="col0"><em> -com </em></td><td class="col1"> -command </td></tr>
	<tr class="row1">
		<td class="col0"><em> -t </em></td><td class="col1"> -text </td></tr>
	<tr class="row1">
		<td class="col0"><em> -w </em></td><td class="col1"> -width </td></tr>
	<tr class="row1">
		<td class="col0"><em> -h </em></td><td class="col1"> -height </td></tr>
	<tr class="row1">
		<td class="col0"><em> -var </em></td><td class="col1"> -variable </td></tr>
	<tr class="row1">
		<td class="col0"><em> -tvar </em></td><td class="col1"> -textvariable </td></tr>
	<tr class="row1">
		<td class="col0"><em> -lvar </em></td><td class="col1"> -listvariable </td></tr>
	<tr class="row1">
		<td class="col0"><em> -rw $val </em></td><td class="col1"> grid rowconfigure -weight $val </td></tr>
	<tr class="row1">
		<td class="col0"><em> -cw $val </em></td><td class="col1"> grid columnconfigure -weight $val </td></tr>
	<tr class="row1">
		<td class="col0"><em> -rsz $val </em></td><td class="col1"> grid rowconfigure -minsize $val </td></tr>
	<tr class="row1">
		<td class="col0"><em> -csz $val </em></td><td class="col1"> grid columnconfigure -minsize $val </td></tr>
</tbody>
</table>
</div>

<p>

<p>
<br>

</p>

</div>

<h2 id="methods_Pave">PaveMe Methods</h2>
<div class="level2">
<p>
Assuming <code>pobj</code> is a PaveMe object, the pobj methods are described below.
</p>

<br><p>1. <b>pobj makeWindow</b> is to make the window. This method is useful to define and to configure some specific widgets prior their laying out. The calling format:<br>
<pre class="code">
pobj makeWindow <em>win ttl</em>

where:

  <em>win </em>is the window pathname
  <em>ttl </em>is the window's title
</pre>
For example:
<em>
<br>  pobj makeWindow .win "Hello world!"
</em>
</p>

<br><p>2. <b>pobj window</b> is to lay out the window. The calling format:<br>
<pre class="code">
pobj window <em>win lwidg</em>

where:

  <em>win   </em> is the window pathname
  <em>lwidg </em> is the list of widgets' options
</pre>
For example:
<em>
<br>  pobj window .win {
<br>    {lab1 - - 1 1    {-st es}  {-t "Find: "}}
<br>    {ent1 lab1 L 1 9 {-st wes} {-tvar ::en1}}
<br>    {lab2 lab1 T 1 1 {-st es}  {-t "Replace: "}}
<br>    {ent2 lab2 L 1 9 {-st wes} {-tvar ::en2}}
<br>  }
  </em>
</p>


<br><p>3. <b>pobj showModal</b> is to show the window as modal. The calling format:<br>
<pre class="code">
pobj showModal <em>win args</em>

where:

  <em>win  </em>is the window pathname
  <em>args </em>are the optional arguments that can be:
          <em>-focus widget </em> sets a widget to be focused
          <em>-onclose comm </em> sets a command to be executed on [X] clicking
          <em>-geometry +X+Y</em> sets a (X,Y) position of the window
          <em>-decor 1      </em> sets a window's decoration icons
</pre>
For example:
<em>
<br>  proc doClose {varName} {
<br>  # varName is the name of variable that can be changed to 0 (1)
<br>  # in order to close the window.
<br>  # This value is returned by pobj showModal.
<br>  ...
<br>  set $varName 0
<br>  ...
<br>  }
<br>  ...
<br>  pobj showModal .win -focus .win.lab1 -geometry +200+100 -onclose {doClose}
</em>
</p>

<br><p>4. <b>pobj res</b> is to get/set a result of variable that used for closing the window. The calling format:<br>
<pre class="code">
pobj res <em>win ?val?</em>

where:

  <em>win </em>is the window pathname
  <em>val </em>is the value of variable for closing the window
         (if "val" omitted, "pobj res" returns the variable value)
</pre>
For example:
<em>
<br>  pobj res .win 0
<br>  ...
<br>  pobj res .win 1
<br>  ...
<br>  set res [pobj res .win]
</em>
</p>

<br><p>5. <b>pobj displayTaggedText</b> is to display the tagged text in the text widget. The calling format:<br>
<pre class="code">
pobj displayTaggedText <em>txtWidg txtName txtTags</em>

where:

  <em>txtWidg </em>is the text widget pathname
  <em>txtName </em>is the name of variable containing the text
  <em>txtTags </em>is the list of tags
</pre>
For example:
<em>
<br> set textTags [list \
<br> [list "b" "-font {-weight bold -size 14}"] \
<br> [list "i" "-font {-slant italic -size 14}"]]
<br> set contents "&lt;i&gt;&lt;b&gt;Hello world!&lt;/b>&lt;/i&gt;"
<br> pobj displayTaggedText .win.texD contents $textTags
</em>
</p>
<p>
<br>

</p>

</div>
<h2 id="examples_Pave">More Examples of Pave</h2>
<div class="level2">
<p>
The picture below is the screenshot of <a href="http://tke.sourceforge.net/" class="wikilink1" title="TKE editor's home page">TKE Editor</a>
 plugin named "Adding Shortcuts".
</p>

<p>This dialog was being made (as usual) in several steps. At that, each modification had to be supposedly more complex than previous one.
<br>However, in practice all of them were rather of the same difficulty level due to the simple and clear tool.
</p>

<p>
<img src="files/tkeplugin.jpg" class="media" alt="TKE plugin using pave">
</p>

<p><br>
The layout of this dialog is set by the code below. Run the code with <em>wish</em> and press <em>Exit</em> to exit.
<br>The code works as a pure form. So it has no contents and its event handlers are actually handling the errors.
<br>
<pre class="code">source pavedialog.tcl
set win .win
PaveDialog create pdlg
pdlg makeWindow $win "Adding Shortcuts"
set fontbold "-font \"-weight bold\""
pdlg window $win {
  {frAU - - 1 6   {-st new} {-relief groove -borderwidth 1}}
  {frAU.v_00 - - 1 1}
  {frAU.laB0 frAU.v_00 T 1 1 - {-t "This TKE plugin allows you to create the shortcuts bound to existing ones. Thus you can enable localized shortcuts."}}
  {frAU.laB1 frAU.laB0 T 1 1 - {-t "You can also make a miscellany that contains: event handler(s), menu invoker(s), command caller(s)."}}
  {frAU.laB2 frAU.laB1 T 1 1 - {-t "Press the shortcut in the ID field. Confirm your choice by pressing Enter / Return key."}}
  {frAU.v_0 frAU.laB2 T 1 1}
  {v_0 frAU T 1 6}
  {laB1 v_0 T 1 2 - {-t " Group info " $fontbold}}
  {laB2 laB1 T 1 1 {-st e} {-t "Name:"}}
  {entOrig laB2 L 1 1 {-st we -padx 5 -cw 3} {-tvar adsh__No}}
  {v_1 laB2 T 1 2}
  {laB3 v_1 T 1 1 - {-t " Shortcut info " $fontbold}}
  {laB4 laB3 T 1 1 {-st e} {-t "Name:"}}
  {entName laB4 L 1 1 {-st we -padx 5} {-tvar adsh__Na}}
  {laB5 laB4 T 1 1 {-st e} {-t "Shortcut ID:"}}
  {entID laB5 L 1 1 {-st we -padx 5} {-tvar adsh__ID -state readonly}}
  {v_2 laB5 T 1 1 {-pady 8}}
  {laB12 v_2 T 1 1 {-st e} {-t "Type:"}}
  {cbxTyp laB12 L 1 1 {-st w -padx 5 -cw 3} {-tvar adsh__Typ -width 10 -values {MENU EVENT COMMAND} -state readonly}}
  {laB52 laB12 T 1 1 {-st en -rw 1} {-t "Contents:"}}
  {fraComm laB52 L 1 1 {-st nswe -padx 5} {}}
  {texComm - - 1 1 {pack -side left -expand 1 -fill both -in $win.fraComm} {-h 6 -w 50 -fg black -bg white -wrap word}}
  {sbvComm texComm L 1 1 {pack -in $win.fraComm}}
  {laB53 laB52 T 1 1 {-st en -rw 1} {-t "Description:"}}
  {fraDesc laB53 L 1 1 {-st nswe -padx 5} {}}
  {texDesc - - 1 1 {pack -side left -expand 1 -fill both -in $win.fraDesc} {-h 8 -w 50 -state disabled -wrap word}}
  {sbvDesc texDesc L 1 1 {pack -in $win.fraDesc}}
  {v_3 laB53 T 1 2}
  {laBSort v_3 T 1 1 - {-t " Options " $fontbold}}
  {frAOpt laBSort L 1 1 {-st nsew}}
  {chBActive - - 1 1 {-in $win.frAOpt} {-t " Active " -var adsh__active}}
  {chBAuto chBActive L 1 1 {-in $win.frAOpt} {-t " AutoStart " -var adsh__auto}}
  {chBSort chBAuto L 1 1 {-in $win.frAOpt} {-t " Sorted list " -var adsh__sort -com adsh__sortToggle}}
  {v_4 laBSort T 1 2 {-rsz 10} {}}
  {fra v_4 T 1 2 {-st e -padx 5} {-relief groove -borderwidth 1}}
  {fra.butInsert - - 1 1 {-st w} {-t "Add" -com adsh__addItem}}
  {fra.butChange fra.butInsert L 1 1 {-st w} {-t "Change" -com adsh__changeItem}}
  {fra.butDelete fra.butChange L 1 1 {-st w} {-t "Delete" -com adsh__deleteItem}}
  {fra.h_ fra.butDelete L 1 1 {-padx 10}}
  {fra.butTest fra.h_ L 1 1 {-st w} {-t "Test" -com adsh__testItem}}
  {fraTr laB1 L 14 3 {-st nsew}}
  {tre1 - - 1 1 {pack -side left -in $win.fraTr -expand 1  -fill both} {-columns "ID A S"}}
  {sbv tre1 L 1 1 {pack -in $win.fraTr}}
  {v__u fra T 1 6}
  {seh v__u T 1 6}
  {laBMess seh T 1 2 {} "-foreground white -font \"-weight bold\""}
  {laBh_1 laBMess L 1 1 {-cw 1}}
  {fra2 laBh_1 L}
  {fra2.butApply - - 1 1 {} {-t "Apply" -com "adsh__doApply"}}
  {fra2.butOK fra2.butApply L 1 1 {} {-t "Save" -com "adsh__doSaveExit"}}
  {fra2.butCancel fra2.butOK L 1 1 {} {-t "Exit" -com "exit"}}
}
pdlg showModal $win -focus $win.entOrig -geometry +100+100 -decor 1</pre>
</p>

<p><br>
In ./tests directory of <a href="#download">downloaded pave.rar</a> there are also the following demo tests:
<ul>
<li><div class="li"><code>test0_pave.tcl</code> - the "Find and Replace" dialog described <a href="#example_Pave">above</a>.
</div></li>
<li><div class="li"><code>test1_pave.tcl</code> - the "Find and Replace" dialog with "Stay on top" checkbox described <a href="#example2_Pave">above</a>.
</div></li>
<li><div class="li"><code>test2_pave.tcl</code> - a bit more complex dialog "Preferences" with <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> being applied to the frames of notebook.
</div></li>
<li><div class="li"><code>test3_pave.tcl</code> - a demo of three windows illistrating how to add a new widget and enlarge an existing widget.
</div></li>
<li><div class="li"><code>test_pavedialog.tcl</code> - a demo of dialogs using <code>PaveDialog</code> oo::class described <a href="#use_PaveDialog">below</a>.
</div></li>
<li><div class="li"><code>test_property.tcl</code> - a demo of <code>ObjectProperty</code> oo::class that may be mixined to the <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> objects.
</div></li>
</p>
</div>


<p id=test2_pave>Below is a screenshot of test2_pave.tcl:
</p>

<p>
<img src="files/test2.png" class="media" alt="TKE plugin using pave">
</p>

<br>
<p id=test2_pave>... and its themed version:
</p>

<p>
<img src="files/test2t.png" class="media" alt="TKE plugin using pave">
</p>
<br>
<p>
... and here is a video of it:<br>
<a href="https://aplsimple.github.io/files/test2pave.mp4" class="wikilink1" title="Video of test2_pave.tcl">test2pave.mp4</a>
</p>

<p>
<br>

</p>

</div>

<h1 id="use_PaveDialog">Use of PaveDialog</h1>
<div class="level1">

<p>The <code>PaveDialog</code> oo::class is inherited from <code>PaveMe</code> oo::class and as such can be used instead of it.
</p>
<p>
The <code>PaveDialog</code> oo::class provides a batch of standard dialogs that are enhanced by a checkbox (titled e.g. "Don't show again") and a tagged text option.
</p>
<p>Also, the <code>PaveDialog</code> oo::class provides the input facilities. You can call it, e.g., to edit a file or put the data. The plugin applications are most suitable for these facilities as they allow storing the dialogs in the form of data files.
</p>
<p>
Assuming <code>dlg</code> is a PaveDialog object (except for <code>dlg input</code>), below there are several examples of using <code>PaveDialog</code> oo::class all taken from downloaded <a href="#download">test_pavedialog.tcl</a>.
</p>
<p>

<div class="table sectionedit1"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Description</th><th class="col1">Calling</th><th class="col2">Screenshot</th>
	</tr>
	<tbody>

  <tr class="row1">
	  <td class="col0">
<br>A usual info dialog.
  <br><br>A geometry (+X+Y) and a checkbox (-ch) are set.
</td>
    <td class="col1">
<br><pre class="code">dlg ok info "Dialog OK"
"Hey that Pushkin!\nHey that son of bitch!"
-g +200+200 -ch "Don't show this again"</pre>
    </td>
    <td class="col2">
<img src="files/dialog1.png" class="media" vspace=16 alt="PaveDialog example 1">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>A retrycancel error dialog.
     <br><br>The RETRY argument sets a focused button as the dialog opens.
    </td>
    <td class="col1">
<br><pre class="code">dlg retrycancel err "Dialog RETRYCANCEL"
"Hey that Pushkin!\nHey that son of bitch!
---
Retry the reading of Pushkin? Cancel if not."
RETRY -g +300+300 -ch "Don't show this again"</pre>
    </td>
    <td class="col2">
<img src="files/dialog2.png" class="media" vspace=16 alt="PaveDialog example 2">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>A yesnocancel question dialog.
    </td>
    <td class="col1">
<br><pre class="code">dlg yesnocancel ques "Dialog YESNOCANCEL"
"Hey that Pushkin!\nHey that son of bitch!
---
Do you agree?
Or hate the question?
(Choose Cancel in such case)"
YES -g +275+275 -ch "Don't show this again"</pre>
    </td>
    <td class="col2">
<img src="files/dialog3.png" class="media" vspace=16 alt="PaveDialog example 3">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>An abortretrycancel error dialog.
    </td>
    <td class="col1">
<br><pre class="code">dlg abortretrycancel err
"Dialog ABORTRETRYCANCEL"
"Hey that Pushkin!\nHey that son of bitch!
---
Abort or retry the reading of Pushkin? \
Cancel if not sure." RETRY -g +325+325
-ch "Don't show this again"</pre>
    </td>
    <td class="col2">
<img src="files/dialog4.png" class="media" vspace=16 alt="PaveDialog example 4">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>An okcancel warning dialog.
     <br><br>The message is shown as the text (-text 1) having the tags (-tags textTags).
     <br><br>The width and the height (in characters and rows) are set. The text font options are set as "-weight bold -size 12 -bg white".
    </td>
    <td class="col1">
<br><pre class="code">set textTags [list \
[list b "-font {-weight bold -size 14}"] \
[list i "-font {-slant italic -size 14}"] \
[list red "-foreground red"]]

dlg okcancel warn "Dialog OKCANCEL"
 "
 Hey that &lt;red&gt;&lt;b&gt; Pushkin &lt;/b&gt;&lt;/red&gt;!
 Hey that son of bitch!
 ---
 Do you agree? &lt;i&gt;Cancel&lt;/i&gt; if not.
 " OK -g +250+250 -width 30 -height 6 \
 -weight bold -size 12 -bg white \
 -text 1 -tags textTags</pre>
    </td>
    <td class="col2">
<img src="files/dialog5.png" class="media" vspace=16 alt="PaveDialog example 5">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>An okcancel warning dialog.
     <br><br>The message is not read-only as default, due to the "-ro 0" (or "-readonly 0") attribute.
     <br><br>If the focused button is TEXT and the text isn't read-only, the focus is set on the text of message.
     <br><br>The changed text of message is returned by the dialog along with the pressed button.
    </td>
    <td class="col1">
<br><pre class="code">set textTags [list \
[list b "-font {-weight bold -size 14}"] \
[list i "-font {-slant italic -size 14}"] \
[list red "-foreground red"]]

dlg okcancel warn "Dialog OKCANCEL"
 "
 Hey that &lt;red&gt;&lt;b&gt; Pushkin &lt;/b&gt;&lt;/red&gt;!
 Hey that son of bitch!
 ---
 Do you agree? &lt;i&gt;Cancel&lt;/i&gt; if not.
 " TEXT -width 30 -height 6 -weight bold \
 -size 12 -bg white -ro 0 -text 1 \
 -tags textTags</pre>
    </td>
    <td class="col2">
<img src="files/dialog5ro.png" class="media" vspace=16 alt="PaveDialog example 5">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>A misc info dialog.
     <br><br>By this dialog you can set as many and as various
       questions and answers as (reasonably) you want.
    </td>
    <td class="col1">
<br><pre class="code">set retval [dlg misc info "Dialog MSC" \
 "\nAsk for HELLO\n" {Hello 1 {Bye baby} 2 \
 Misc3 3 Misc4 4 "Misc 5" 5 Cancel 0 } 2]</pre>
    </td>
    <td class="col2">
<img src="files/dialog7.png" class="media" vspace=16 alt="PaveDialog example 7" height="190" width="640">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>An okcancel editing dialog.
     <br><br>The dialog has a heading that is set as "-head" option.
     <br><br>The icon is set as "" and as such is absent.
     <br><br>The dialog is a small editor. Use Ctrl+F and F3 to find strings.
     <br><br>The return values can include the cursor position used for the next call of this editorling.
    </td>
    <td class="col1">
<br><pre class="code">set textTags [list \
[list b "-font {-weight bold -size 14}"] \
[list i "-font {-slant italic -size 14}"] \
[list red "-foreground red"]]

set retval [dlg okcancel "" "Dialog OKCANCEL"
 "
 Hey that &lt;red&gt;&lt;b&gt; Pushkin &lt;/b&gt;&lt;/red&gt;!
 Hey that son of bitch!
 ---
 Do you agree? &lt;i&gt;Cancel&lt;/i&gt; if not.
 " TEXT -width 30 -height 6 -weight bold \
 -size 12 -bg #ffffc4 -ro 0 -text 1 -tags \
 textTags -head "It's a changeable text \
 message.\nChange all you want."]</pre>
    </td>
    <td class="col2">
<img src="files/dialog5rw.png" class="media" vspace=16 alt="PaveDialog example 5">
    </td></tr>

  <tr class="row1" id="use_PaveDialog_for_input">
	  <td class="col0">
     <br>An input dialog.
     <br><br>By this dialog you can get/put the data.
     <br><br>All available widgets are presented in this code sample.
     <br><br>After choosing "OK" the dialog would return the input values as a list.
    </td>
    <td class="col1">
<br><pre class="code">PaveInput create dlg
set retval [dlg input "" "Dialog INPUT" \
{ seh1 {{} {-pady 9}} {}
  ent1 {{Enter general info........}} {}
  fil1 {{Choose a file to read.....}} {}
  fis1 {{Choose a file to save.....}} {}
  dir1 {{Choose a directory........}} {}
  fon1 {{Choose a font.............}} {}
  clr1 {{Choose a color............}} {}
  dat1 {{Choose a date.............}} {}
  seh2 {{} {-pady 9}} {}
  chb1 {{Check the demo checkbox...}} {}
  rad1 {{Check the radio button....}} { \
  Big Giant Big Small "None of these"}
  seh3 {{} {-pady 9}} {}
  spx1 {{Spinbox from 0 to 99......} {} \
  {-from 0 -to 99}} {}
  cbx1 {{Combobox of relations.....} {}
  {-stat read -h 7}} {Son Father Mother \
  Son Daughter Brother Sister Uncle Aunt \
  Cousin "Second cousin" "1000th cousin"}
  seh4 {{} {-pady 9}} {}
  tex1 {{Text field................} {} \
  {-h 4 -w 55}} {It's a sample of
multiline entry field aka
- text\n- memo\n- note}
} -size 14 -weight bold -head \
"Entries, choosers, switchers, boxes..."]</pre>
    </td>
    <td class="col2">
<img src="files/dialog8.png" class="media" vspace=16 alt="PaveDialog example 8">
    </td></tr>

  <tr class="row1">
	  <td class="col0">
     <br>A yesno warning dialog (themed).
     <br><br>The dialog is called in a cycle and breaks it if answered "Yes".
     <br><br>The color (-c) of message is set as Tk standard color ("ghost white").
     <br><br>When the geometry is passed to a dialog, it returns [list answer geometry], so to get its answer the <code>lindex</code> command is used.
    </td>
    <td class="col1">
<br><pre class="code">if {[lindex [dlg yesno warn \
"UFF..." "\n Break the dance? \n" NO \
-g +350+350 -weight bold -size 22 \
-c {"ghost white"}] 0] == 1} {
    break
}</pre>
    </td>
    <td class="col2">
<img src="files/dialog6.png" class="media" vspace=16 alt="PaveDialog example 6">
    </td></tr>
</div>
  </tbody></table></div>
<p>
<br>

</p>

</div>

<h2 id="PaveDialog_options">Options of PaveDialog dialogs</h2>
<div class="level2">

    <p>
      <b>-ch, -checkbox</b> sets a checkbox message
    </p>
    <p>
      <b>-g, -geometry</b> sets a geometry (+X+Y) of dialog
    </p>
    <p>
      <b>-c, -color</b> sets a foreground color for labels
    </p>
    <p>
      <b> -t 1, -text 1</b> sets a text widget instead of labels
    </p>
    <p>
      <b>-H, -head</b> sets a heading of text
    </p>
    <p>
      <b>-tags</b> sets a tags list for text font
    </p>
    <p>
      <b>-ro 0, -readonly 0</b> makes the text editable
    </p>
    <p>
      <b>-w, -width</b> sets a width of text in characters
    </p>
    <p>
      <b>-h, -height</b> sets a height of text in lines
    </p>
    <p>
      <b>-fg</b> sets a foreground color for text
    </p>
    <p>
      <b>-bg </b> sets a background color for text
    </p>
    <p>
      <b>-cc</b> sets a cursor color for text
    </p>
    <p>
      <b>-pos</b> sets a cursor position for text
    </p>
    <p>
      <b>-root</b> sets a root window (to center the dialog)
    </p>
    <p>
      <b>-focus</b> focuses on a widget at opening the input dialog
    </p>

<p>
<br>

</p>

</div>
<h2 id="PaveDialog_input">Input dialog</h2>
<div class="level2">
 <p>
   To call the input dialog, use the following format:
 </p>
 <p>
   <b>PaveInput create dlg
   <br>set res [dlg input <em>icon title widgets ?dialog options?</em>]
   <br>dlg destroy
 </b>
 </p>
 <p>
   where:
  <ul id="footer-info">
    <li id="footer-info-lastmod">
   <em><b>icon</b></em> is <em>info, warn, err, ques or ""</em>
    </li>
    <li id="footer-info-lastmod">
   <em><b>title</b></em> is a title of dialog window
    </li>
    <li id="footer-info-lastmod">
   <em><b>widgets</b></em> is a list of the following structure:
    <ul>
      <li>
       <em>name of field</em> is a widget name that also sets its type:
       <ul>
        <em>seh</em> - horizontal separator
        <br><em>ent</em> - entry
        <br><em>fil</em> - file chooser (to read)
        <br><em>fis</em> - file chooser (to save)
        <br><em>dir</em> - directory chooser
        <br><em>clr</em> - color chooser
        <br><em>dat</em> - date chooser
        <br><em>chb</em> - checkbox
        <br><em>rad</em> - radiobutton
        <br><em>spx</em> - spinbox
        <br><em>cbx</em> - combobox
        <br><em>tex</em> - text
        </ul>
      </li>
      <li>
       <em>prompt and options</em> are the following:
        <ul>
        <em>prompt</em> - a prompt for the field or {}, e.g. "Login:"
        <br><em>grid options</em> - grid options of the field or {}, e.g. "-pady 5"
        <br><em>attributes</em> - attributes of the field or {}, e.g. "-h 4 -w 40"
        </li>
        </ul>
    </ul>
    </li>
    <li id="footer-info-lastmod">
   <em><b>dialog options</b></em> are options used by PaveDialog dialogs (see above)
    </li>
  </ul>
 </p>
 <p>
 Example:
 </p>
 <p>
 <pre class="code">PaveInput create dlg
set res [dlg input ques "My site" {
  entLogin {{Login......}} {}
  entPassw {{Password...} {} {-show *}} {}
} -weight bold -head "\n Enter to register here:"]
dlg destroy</pre>
 </p>
 This code would result in something like:
 <br>
 <img src="files/dlgexample.png" class="media" vspace=16 alt="Login dialog">
</p>

<p>Notice that because of PaveInput is inherited from PaveDialog which is in turn inherited from PaveMe, you can use the PaveInput object instead of (and along with) PaveDialog and PaveMe objects. In this case, <em>source paveinput.tcl</em> would be sufficient for all paved objects to enable.
</p>

<p>
<br>

</p>

</div>
<h2 id="tips">Tips & Tricks</h2>
<div class="level2">
 <p>
<em>The Tips & Tricks are mostly taken from <b>test2_pave.tcl</b> of  <a href="#download">downloaded archive file</a>.</em>
 </p>
 <p><b>1.</b> You can save your keypresses at paving a window by using "." as beginning character of widget name. This would mean that a widget name consists of a previous "normal" name + this name. For example:
 <pre class="code">...
{fral - - 8 1   {-st nes -rw 1}}
{.but1 -       - 1 1 {-st we} {-t "General" -com "t::chanTab nb"}}
{.but2 fral.but1 T 1 1 {-st we} {-t "View" -com "t::chanTab nb2"}}
{.but3 fral.but2 T 1 1 {-st we} {-t "Editor" -com "t::chanTab nb3"}}
...</pre>
 - here we are making the following widgets:
<ul>
<li><em>fral</em> - a frame</li>
<li><em>fral.but1</em> - a button ("General") in the fral frame</li>
<li><em>fral.but2</em> - a button ("View") in the fral frame</li>
<li><em>fral.but3</em> - a button ("Editor") in the fral frame</li>
</ul>
 Notice that neighbors (fral.but1 and fral.but2) are defined with their "normal" names.
</p>
<p>
 <b>2.</b> Another method of keypress saving is a use of uppercased names. For example:

 <pre class="code">...
{.lfrB.Text - - - - {pack -side left -expand 1 -fill both} {-borderwidth 0 -w 76}}
...
[pobj Text] replace 1.0 end "...some text..."
...</pre>
 This code means the following:
<ul>
<li>the real text widget is named as <em>...lfrB.text</em> (in <em>test2_pave.tcl</em>, its name is <em>.win.fNB.nb.f2.fra.pan.panR.lfrB.text</em> - a mess of notebook tabs, frames and panes) </li>
<li>the Text method is created in paved object allowing to get the real name of widget through just <em>[pobj Text]</em></li>
</ul>
Also the image names of toolbar can be uppercased so that the corresponding buttons can be referred through e.g. <em>[pobj BuT_Img1]</em> instead of <em>.win.fNB.nb.f2.tool.buT_Img1</em>  (see <em>test2_pave.tcl</em>).
<br><br>
Of course, the uppercased names must be unique for a paved object and be not overlapped by the object's methods.
</p>
<p>
 <b>3.</b> If the window name is passed to <em>PaveMe makeWindow</em> and <em>PaveMe window</em> methods as <em>$win.fra</em> :
 <pre class="code">pobj makeWindow $win.fra "Title"
pobj window $win.fra {
  {lab1 - - 1 1    {-st es}  {-t "Find: "}}
  ...
}</pre>
 it would create a window named $win and a ttk::frame named $win.fra, thus you'll have the themed background. This method would save your keypressing like this: <em>pack [ttk::frame $w] -expand 1 -fill both</em>. See the example in <em>test0_pave.tcl</em>.
</p>
<p>
 <b>4.</b> If you have a batch of container widgets made outside of <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span>, you can pave them in one call of <em>PaveMe window</em> method. For example:
 <pre class="code">pobj window .win.fNB.nb.f1 {
  ...
} .win.fNB.nb.f2 {
  ...
} .win.fNB.nb.f3 {
  ...
}</pre>
In fact, the <em>PaveMe window</em> method can take as many "window/container & its layout" pairs as you need to layout a whole window.
 </p>
 <p>

<p>
<b>5.</b> The widget list passed to  <em>pobj window</em> can include comments. They are recognized by the "#" as first symbol of widget name. After the "#" you can include multiline comments as well as just "###...###" to underline any blocks.
<br>For example:
<pre class="code">pobj window .win {
   ###<----it's-a-comment-(being-a-record-of-one-continuous-string)
   #
   {# <--- it's a comment mark (being first in a {...} record)

   Comments are marked by "#" as the 1st character of layout record.
   This is a multi-line comment.

   }
   ####################################################################
   {lab1 - - 1 1   {-st es}  {-t "First option:"}}
   {ent1 labB1 L 1 9 {-st wes -cw 1} {-tvar ::ent1}}
   ####################################################################
}</pre>
 </p>
</p>

<b>6.</b> The <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> provides a navigation by arrows and Return for some widgets (entries, buttons, checkboxes etc.). You can switch off this behavior by including "STD" into a widget name. For example, <em>frame.entrySTD</em> would not participate in this navigation, so that only Tab & Shift+Tab would be enabling the keyboard navigation.
</p>
<p>

<b>7.</b> You can improve a little the performance by filling the menu contents (and doing other initializations) after paving a window. Use <em>after idle</em> (no wonder), e.g. this way:
 <pre class="code">pobj window .win.fNB.nb.f1 {
  ...
}
after idle [list fillMenu_Binding_Etc $w]</pre>
 <p>
However, the main menu bar can be made in a call of <em>PaveMe window</em>. See the example in <b>test2_pave.tcl</b>.
</p>
<p>

<b>8.</b> The theming facility is enabled by <em>ObjectTheming oo::class</em> (of <em>obbit.tcl</em>).
 <br>For example, it's used in <b>test2_pave.tcl</b> as follows:
 <pre class="code">source [file join $pavedir obbit.tcl]
...
oo::define PaveMe {mixin ObjectTheming}
PaveMe create pobj
...
pobj themingWindow .win \
  white #364c64 #d2d2d2 #292a2a white #4a6984 grey #364c64 #02ffff #00a0f0 \
  TButton -foreground focus black \
  TButton -background focus white</pre>
 <p>
Here, the <em>themingWindow</em> method is receiving the following arguments:
<br>&nbsp;&nbsp;&nbsp;<em>.win</em> - window path
<br>&nbsp;&nbsp;&nbsp;<em>white #364c64</em> - main colors (fore- and background)
<br>&nbsp;&nbsp;&nbsp;<em>#d2d2d2 #292a2a</em> - input colors
<br>&nbsp;&nbsp;&nbsp;<em>white #4a6984</em> - selection colors
<br>&nbsp;&nbsp;&nbsp;<em>grey #364c64</em> - disabling colors
<br>&nbsp;&nbsp;&nbsp;<em>#02ffff</em> - cursor color
<br>&nbsp;&nbsp;&nbsp;<em>#00a0f0</em> - current widget's border color
<br>&nbsp;&nbsp;&nbsp;<em>TButton -foreground focus black ...</em> - additional style options (here not necessary)
<br>
See <a href="#test2_pave">above</a> the screenshot of it.
<br>
The theming colors are actual for ttk as well as non-ttk widgets. This is seen on <a href="https://aplsimple.github.io/files/test2pave.mp4">the video</a>.
</p>

<p>
<b>9.</b> A question is when to call the <em>pobj themingWindow</em>? You might consider the following ways:
 <ul>
<li>If it were called <u>before</u> <em>pobj window</em>, the theming would embrace only ttk widgets.</li>
<li>If it were called <u>after</u> <em>pobj window</em>, the theming would embrace all widgets including the non-ttk.</li>
<li>If, just after creating pave object, you call <em>pobj themingWindow </em> with "." <u>as window path</u>, you would provide the theming for all widgets of this <em>pobj</em> each time you would call <em>pobj showModal</em>.</li>
</ul>
The last way is preferable. In this case you don't need to repeat the <em>pobj themingWindow</em> for this pobj and all its future layouted windows.
<br>For example:
 <pre class="code">pobj themingWindow . white #364c64 #d2d2d2 #292a2a white #4a6984 grey #364c64 #02ffff #00a0f0
...
pobj showModal .win1 -geometry +300+80 -decor 1 -onclose ::ns::exitWin1
...
pobj showModal .win2 -geometry +400+80 -decor 1 -onclose ::ns::exitWin2
...</pre>
 </p>

<p>
<br>

</p>

</div>


<h2 id="download">Download</h2>
<div class="level2">

<p>
<span class="curid"><a href="#" class="wikilink1" title="Table of 
Contents">pave</a></span> stuff is available here:
</p>

<ul>
<li class="level1"><div class="li"> 
<a href="https://aplsimple.github.io/bin/pave.rar" title="https://aplsimple.github.io/bin/pave.rar" rel="nofollow">pave.rar</a>
</li>
</ul>

<p>
Notice that <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span> is still disposed to update. At least I would try and support its <a href="https://aplsimple.github.io/bin/pave.rar" title="https://aplsimple.github.io/bin/pave.rar" rel="nofollow">aplsimple.github.io</a> version in a working state.
</p>

<p>
<br>

</p>

</div>

<h2 id="see_also">See also</h2>
<div class="level2">

<p>
The links about and around <span class="curid"><a href="#" class="wikilink1" title="Table of Contents">pave</a></span>:
</p>

<p>The review of geometry management in Tcl/Tk:
<br>
<a href="https://wiki.tcl-lang.org/page/Geometry+Managers" title="https://wiki.tcl-lang.org" rel="nofollow">
  https://wiki.tcl-lang.org/page/Geometry+Managers
</a>
</p>

<p>The Pave page on wiki.tcl-lang.org:
<br>
<a href="https://wiki.tcl-lang.org/page/Pave%2C+sort+of+geometry+manager" title="https://wiki.tcl-lang.org" rel="nofollow">
  https://wiki.tcl-lang.org/page/Pave%2C+sort+of+geometry+manager
</a>
</p>

</div>
</section>

<script>
  writeFooter('<a href="#" class="wikilink1" title="Table of Contents">pave</a> - a sort of geometry manager for <a href="http://www.tcl.tk/" title="http://www.tcl.tk" rel="nofollow">Tcl/Tk</a>');
</script>

</div>
</body>
</html>
