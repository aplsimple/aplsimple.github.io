<!DOCTYPE html><html><head><meta charset="utf-8"/>
<link rel="stylesheet" href="../../../zoo/sh/styles/aplsimple.css">
<title>::alited reference</title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:Consolas,"Courier New",monospace;font-size:100%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:9.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:10.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:0;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}

/* Ruff default CSS */

body {
  /*max-width: 70em;*/
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft { font-size: x-small; font-family: Arial, sans-serif;
  text-align: left;
  border-top: 1px solid #0B3467;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #0B3467;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #0B3467;
 color: #0B3467;
}

p.linkline {
  text-align: right;
  font-size: smaller;
  /*    margin-top: -1em; */
  margin-bottom: 0;
}

.tinylink {
  font-size: x-small;
  font-variant: normal;
  font-family: Arial, sans-serif;
  float: right;
  padding:2px;
}

h1 .tinylink a {
  color: white;
}

#bd {
font-family: Arial, sans-serif;
/*font-size: 108%;*/
}

div.navbox {
  /* margin-top: 1em; */
  background-color: #0B3467;
  color: white;
  padding: 3px 4px 2px 4px;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

div.navbox:hover {
  overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
  font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #0B3467;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
  position: relative;
  /* display: inline-block; */
}

.tooltip .tooltiptext {
  width: 100%;
  font-weight: bold;
  background-color: white;
  color: #0B3467;
  text-align: left;
  border: 1px solid #0B3467;
  /* border-radius: 4px; */
  position: absolute;
  z-index: 1;
  margin-left: 4px;
  padding: 2px 3px;
  visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
  visibility: visible;
}

span.ns_scope {
  color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
  background-color: #0B3467;
  color: #ffffff;
  padding-left: 0.2em;
  font-family: "Times New Roman", serif;
}
h2.ruff {
  font-variant: small-caps;
  color: #0B3467;
  font-weight: bold;
  font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
  color: #0B3467;
}
h5.ruff {
  font-style: italic;
  font-weight: normal;
}
h6.ruff {
  font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
  border-bottom: thin solid #0B3467;
  color: #0B3467;
  margin-bottom: 0.2em;
}

pre {
  background-color: #f9f9f9;
  margin-top: 1em;
  margin-left: 1em;
  padding: 5px;
  font-family: Consolas, "Courier New", monospace;
  /* width: max-content; --- to leave footsteps */ overflow: auto;
  line-height: 1.2em;
}

.ruff_dyn_src {
  display: none; /* Displayed via JS */
}

.ruff_synopsis {
  border: thin solid #cccccc;
  background: #f9f9f9;
  font-family: Consolas, "Courier New", monospace;
  padding: 5px;
  margin: 0em 2em 1em;
}
.ruff_const, .ruff_cmd, ruff_defitem {
  font-weight: bold;
  font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
  font-style: italic;
  font-family: Consolas, "Courier New", monospace;
}

.ruff_source_link {
  font-size: smaller;
}

.ruff_index {
  font-size: small;
  color: grey;
  line-height: 1;
}

.ruff_index ul li {
  list-style-type: none;
}

.ruff_index ul li a {
  text-decoration: none;
}
</style>
<script>function toggleSource( id )
{
  /* Copied from Rails */
  var elem
  var link

  if( document.getElementById )
  {
      elem = document.getElementById( id )
      link = document.getElementById( "l_" + id )
  }
  else if ( document.all )
  {
      elem = eval( "document.all." + id )
      link = eval( "document.all.l_" + id )
  }
  else
      return false;

  if( elem.style.display == "block" )
  {
      elem.style.display = "none"
      link.innerHTML = "Show source"
  }
  else
  {
      elem.style.display = "block"
      link.innerHTML = "Hide source"
  }
}
</script></head>
<meta name="author" content="aplsimple">
<meta name="description" content="aplsimple's home page">
<meta name="keywords" content="aplsimple,home">
<link rel="stylesheet" href="../../../en/zoo/style.css">
<style>
table{
background-color: #f9f9f9;
margin: 0%;
margin-bottom: 2%;
padding: 0%;
box-shadow: none;
filter: none;
}
pre{
margin: 0%;
margin-bottom: 2%;
padding: 0%;
}
</style>
<link rel="icon" type="image/jpg" href="../../../zoo/favicon.jpg">
<body>
<div id="wrapper">
<div name="divd1" ALIGN="CENTER"> <FONT SIZE=5em color=#b01c20><B>
<noscript>THIS PAGE IS NOT WORKING WITHOUT JAVASCRIPT!
<BR>
<BR>PLEASE, SWITCH ON JAVASCRIPT IN SETTINGS OF YOUR BROWSER AND RELOAD THE PAGE.
</noscript>
</B></FONT></div>
<div id='doc3' class='yui-t2'>
<script src="../../../zoo/funcs.js"></script>
<script src="../../../en/zoo/this.js"></script>
<section id=sec2>
<div id='hd' class='banner'>
<a name='alited.html'>::alited reference</a>
</div>
<div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::alited'></a>::alited<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited-What's that'></a>What's that<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<p class='ruff'><a href="https://github.com/aplsimple/alited" >alited</a> stands for <em>a lite editor</em>.</p>
<p class='ruff'>It satisfies most requirements of <a href="https://wiki.tcl-lang.org/Tcl+Editors" >Tcl Editors</a>, adding its own features. It pretends to be the best of the <a href="https://wiki.tcl-lang.org/Tcl+Editors" >Tcl Editors</a>.</p>
<p class='ruff'>The main features of <a href="https://github.com/aplsimple/alited" >alited</a> are:</p>
<ul class='ruff'>
<li>structured <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code</li>
<li>easy access to <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code</li>
<li>born for development of <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> projects</li>
</ul>
<p class='ruff'>Edited by <a href="https://github.com/aplsimple/alited" >alited</a> are <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> files. The C/C++ code is another target of <a href="https://github.com/aplsimple/alited" >alited</a>, still for development of <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> projects all the same.</p>
<p class='ruff'><a href="https://github.com/aplsimple/alited" >alited</a> facilitates the development and the maintenance of <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code, particularly because of the <a href="https://aplsimple.github.io/en/tcl/alited/index.html#units" >unit tree</a> being a sort of documentation.</p>
<p class='ruff'><a href="https://github.com/aplsimple/alited" >alited</a> is suspected of being very good with large <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> projects, i.e. when, in one session, you deal with 30-40-50... <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> scripts, to say nothing of others.</p>
<p class='ruff'>It is quick at starting.</p>
<p class='ruff'>It is quick at switching projects.</p>
<p class='ruff'>It is quick at organizing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It is quick at navigating <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It is quick at searching <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It is quick at writing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It is quick at testing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It is quick at saving <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It is quick at maintaining <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>Briefly, <a href="https://github.com/aplsimple/alited" >alited</a> is totally quick, being at that <em>a pure <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> application.</em></p>
<p class='ruff'>For a quick acquaintance of <a href="https://github.com/aplsimple/alited" >alited</a>, a few of <a href="https://github.com/aplsimple/alited/releases/tag/Demos_of_alited-1.6" >its demos</a> are available.</p>
<p class='ruff'>For a quick installation of <a href="https://github.com/aplsimple/alited" >alited</a>, just run an <a href="https://github.com/aplsimple/alited/releases/tag/install-alited-v1.6" >installer of alited</a>.</p>
<br><h2 class='ruff'><a name='::alited-Links'></a>Links<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<ul class='ruff'>
<li><a href="https://github.com/aplsimple/alited/releases/tag/install-alited-v1.6" >Installers</a></li>
<li><a href="https://chiselapp.com/user/aplsimple/repository/alited/download" >Source #1</a></li>
<li><a href="https://github.com/aplsimple/alited" >Source #2</a></li>
<li><a href="https://aplsimple.github.io/en/tcl/alited/index.html" >Description</a></li>
<li><a href="https://aplsimple.github.io/en/tcl/alited/alited.html" >Reference</a></li>
<li><a href="https://aplsimple.github.io/en/tcl/printer/alited/index.html" >Project printer</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/tag/Demos_of_alited-1.6" >Demos</a></li>
</ul>
<br><h2 class='ruff'><a name='::alited-Inevitable blah-blah'></a>Inevitable blah-blah<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<p class='ruff'><a href="https://github.com/aplsimple/alited" >alited</a> project started 1 March 2021.</p>
<p class='ruff'>In fact, <a href="https://github.com/aplsimple/alited" >alited</a> has been developed by its own v0.2 since 24 April 2021. Inspite of permanent overheads of this way, it turned out to be amazingly productive, more and more in the course of time.</p>
<p class='ruff'>When developing a weekend or small Tcl/Tk project, you can nicely do it with <a href="https://www.geany.org" >Geany</a> or <a href="https://kate-editor.org" >Kate</a> or something else. The situation becomes not so nice with middle and large Tcl/Tk projects, however good and smart those editors are (they are indeed).</p>
<p class='ruff'>What is <em>the large Tcl project</em>? The <a href="http://www.posoft.de/index.html" >poApps by Paul Obermeier</a> may be considered the canonical large Tcl project. Its main source directories (poApplib, poTcllib, poTklib) contain about 70 Tcl scripts of size 2.5 Mb (total about 150 files, 5 Mb). Also, <a href="https://github.com/aplsimple/alited" >alited</a> by itself is rather large project containing about 60 main Tcl scripts of size 1.7 Mb (total about 1150 files, 5 Mb), so that no wonder its editing session includes 70-80 files.</p>
<p class='ruff'>It is with the middle and large Tcl projects that <a href="https://github.com/aplsimple/alited" >alited</a> reveals all its best, while it has 0 Kb of dependencies for developing Tcl/Tk 8.6.10+ and is in no way a half gigabyte monster.</p>
<p class='ruff'>The cause is obvious: those other editors are not Tclish, while <a href="https://github.com/aplsimple/alited" >alited</a> is. It is intended specifically for developing Tcl/Tk projects, not for being a universal plug to every hole. Going its own way, of course. Do not forget that it has been coded in Tcl/Tk.</p>
<p class='ruff'>By the way, sometimes I still return to the good old <a href="https://www.geany.org" >Geany</a> or <a href="http://mate-desktop.org" >Pluma</a> (when my <a href="https://github.com/aplsimple/alited" >alited</a> is busy with an open dialogue) - just to confirm once more how good <a href="https://github.com/aplsimple/alited" >alited</a> is.</p>
<p class='ruff'>One just becomes more productive with <a href="https://github.com/aplsimple/alited" >alited</a> at developing Tcl code. Just so simple.</p>
<br><h2 class='ruff'><a name='::alited-Typical story'></a>Typical story<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<p class='ruff'>One day I decided to change the data format of <a href="https://aplsimple.github.io/en/tcl/e_menu/index.html" >e_menu</a> because the old .mnu files seemed to be too complex. The <a href="https://aplsimple.github.io/en/tcl/e_menu/index.html" >e_menu</a> project had started in 2018, when I was an active user of <a href="https://www.geany.org" >Geany</a>. As a result, its main scripts (<em>e_menu.tcl</em> and <em>e_addon.tcl</em>) were seen as chaotic mixtures of procedures - no structure, no consistency, no order.</p>
<p class='ruff'>I tried and tried to implement the format change, getting in the real trouble with the task that seemed to be so hard...</p>
<p class='ruff'>Finally, in one moment, I decided to rearrange my scripts by <strong>means of alited</strong>, i.e. to make a proper unit tree and to place the code units in their proper branches.</p>
<p class='ruff'>It was only after the radical rearrangement of <em>e_menu.tcl</em> and <em>e_addon.tcl</em> that I felt the format change can be easily implemented. I did it in two days instead of two weeks as it threatened to be at first.</p>
<p class='ruff'>Along the way, I got two nice unit trees of code. Being two nice pieces of documentation too.</p>
<p class='ruff'>In other words, <strong>alited is a sort of code architect and documentation generator</strong> that organizes and documents Tcl code &quot;on fly&quot; along with the coding.</p>
<p class='ruff'>The unit tree of alited is so good that it by itself can drastically improve Tcl code and enhance the productivity of Tclers. Not to mention other sweets of alited.</p>
<br><h2 class='ruff'><a name='::alited-Screenshots'></a>Screenshots<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<p class='ruff'>Below is a screenshot of <a href="https://github.com/aplsimple/alited" >alited</a>, just to glance at it:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-en.png" class="media" alt=""></p>
<p class='ruff'>and its localized and themed variant:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-ru.png" class="media" alt=""></p>
<p class='ruff'>and its dark theme on Windows 10:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-win10.png" class="media" alt=""></p>
<p class='ruff'>and its 1.6.5 version installed 24.01.2024 on x86 machine with Debian v6.0 (Linux core v2.6.32) and GNOME v2.30.2, deployed far back in 2010:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited_in_debian6.png" class="media" alt=""></p>
<p class='ruff'>and its localized variant running <a href="https://www.winehq.org" >under Wine</a> of <a href="https://linuxmint.com/download_lmde.php" >Linux Mint DE</a> on x86 machine (with Windows console started by <a href="https://github.com/aplsimple/alited" >alited</a>, Linux console started by <a href="https://linuxmint.com/" >Linux Mint</a>):</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-wine.png" class="media" alt=""></p>
<br><h2 class='ruff'><a name='::alited-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::Balloon'>Balloon</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in a balloon window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Balloon</span> <span class='ruff_arg'>msg ?red? ?timo? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>red</code></code></td><td class='ruff_defitem'>yes for red background; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>timo</code></code></td><td class='ruff_defitem'>millisec. before showing the message; <i>optional, default</i> <code>100</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of baltip::tip</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Balloon' href="javascript:toggleSource('alited_Balloon')">Show source</a></p>
<div id='alited_Balloon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Balloon {msg {red no} {timo 100} args} {
  <i><font color=#4b5d50># Displays a message in a balloon window.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   red - yes for red background</font></i>
  <i><font color=#4b5d50>#   timo - millisec. before showing the message</font></i>
  <i><font color=#4b5d50>#   args - options of baltip::tip</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>variable</font></b> obPav
  <b><font color=#3a6797>set</font></b> cs [<font color=#1b1baa>$obPav</font> csGet]
  <b><font color=#3a6797>set</font></b> fg [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cs</font> 14]  ;<i><font color=#4b5d50># colors of tips</font></i>
  <b><font color=#3a6797>set</font></b> bg [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cs</font> 15]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$red</font>} {<b><font color=#3a6797>set</font></b> fg #6e0000}
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>winfo</font></b> geometry <font color=#1b1baa>$al(WIN)</font>] x+] w h x y
  <b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;+(<font color=#1b1baa>[</font>expr <font color=#1b1baa>{$</font>w+<font color=#1b1baa>$</font>x<font color=#1b1baa>}]</font>-W)+<font color=#1b1baa>$</font>y-60&quot;</font>
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n <font color=#8b2a0e>&quot;  \n  &quot;</font>] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$msg</font> \n]]==1} {<b><font color=#3a6797>set</font></b> msg \n<font color=#1b1baa>$msg</font>\n}
  ::baltip clear <font color=#1b1baa>$al(WIN)</font>
  <b><font color=#3a6797>after</font></b> <font color=#1b1baa>$timo</font> [<b><font color=#3a6797>list</font></b> ::baltip tip <font color=#1b1baa>$al(WIN)</font> <font color=#1b1baa>$msg</font> <font color=#6c3e67>-fg</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-bg</font> <font color=#1b1baa>$bg</font> <font color=#6c3e67>-alpha</font> 0.9  <font color=#6c3e67>-font</font> {<font color=#6c3e67>-weight</font> bold <font color=#6c3e67>-size</font> 11} <font color=#6c3e67>-pause</font> 1000 <font color=#6c3e67>-fade</font> 1000  <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo</font> <font color=#6c3e67>-bell</font> <font color=#1b1baa>$red</font> <font color=#6c3e67>-on</font> yes <font color=#6c3e67>-relief</font> groove {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Balloon1'>Balloon1</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a balloon about non-existing file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Balloon1</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Balloon1' href="javascript:toggleSource('alited_Balloon1')">Show source</a></p>
<div id='alited_Balloon1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Balloon1 {fname} {
  <i><font color=#4b5d50># Shows a balloon about non-existing file.</font></i>
  <i><font color=#4b5d50>#   fname - file's name</font></i>

  <b><font color=#3a6797>variable</font></b> al
  Balloon [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$al(MC,filenoexist)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::CheckRun'>CheckRun</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Check Tcl&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_CheckRun' href="javascript:toggleSource('alited_CheckRun')">Show source</a></p>
<div id='alited_CheckRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::CheckRun {} {
  <i><font color=#4b5d50># Runs &quot;Check Tcl&quot;.</font></i>

  CheckSource
  check::_run
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::CheckSource'>CheckSource</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sources check.tcl (at need).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckSource</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_CheckSource' href="javascript:toggleSource('alited_CheckSource')">Show source</a></p>
<div id='alited_CheckSource' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::CheckSource {} {
  <i><font color=#4b5d50># Sources check.tcl (at need).</font></i>

  ScriptSource check
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::CloseDlg'>CloseDlg</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tries to close a Help dialogue, open non-modal aside by the current dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseDlg</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_CloseDlg' href="javascript:toggleSource('alited_CloseDlg')">Show source</a></p>
<div id='alited_CloseDlg' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::CloseDlg {} {
  <i><font color=#4b5d50># Tries to close a Help dialogue, open non-modal aside by the current dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> obDlg
  <b><font color=#3a6797>catch</font></b> {[<font color=#1b1baa>$obDlg</font> ButOK] invoke}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::destroyWindow'>destroyWindow</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys current window and focuses on previously focused widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>destroyWindow</span> <span class='ruff_arg'>win foc ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>current window passed as %w</td></tr>
<tr><td class='ruff_defitem'><code><code>foc</code></code></td><td class='ruff_defitem'>previously focused widget</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_destroyWindow' href="javascript:toggleSource('alited_destroyWindow')">Show source</a></p>
<div id='alited_destroyWindow' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::destroyWindow {win foc args} {
  <i><font color=#4b5d50># Destroys current window and focuses on previously focused widget.</font></i>
  <i><font color=#4b5d50>#   win - current window passed as %w</font></i>
  <i><font color=#4b5d50>#   foc - previously focused widget</font></i>

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <b><font color=#3a6797>after</font></b> idle after 100 <font color=#8b2a0e>&quot;focusByForce <font color=#1b1baa>$</font>foc&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::EditExt'>EditExt</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an edited file's extention without '.'.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EditExt</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_EditExt' href="javascript:toggleSource('alited_EditExt')">Show source</a></p>
<div id='alited_EditExt' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::EditExt {{fname {}}} {
  <i><font color=#4b5d50># Gets an edited file's extention without '.'.</font></i>
  <i><font color=#4b5d50>#   fname - the file name</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} {<b><font color=#3a6797>set</font></b> fname [bar::FileName]}
  <b><font color=#3a6797>string</font></b> trimleft [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>] .
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::EnsureAlArray'>EnsureAlArray</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Ensures restoring an array at calling a proc.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EnsureAlArray</span> <span class='ruff_arg'>arName ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>arName</code></code></td><td class='ruff_defitem'>fully qualified array name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>proc name &amp; arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_EnsureAlArray' href="javascript:toggleSource('alited_EnsureAlArray')">Show source</a></p>
<div id='alited_EnsureAlArray' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::EnsureAlArray {arName args} {
  <i><font color=#4b5d50># Ensures restoring an array at calling a proc.</font></i>
  <i><font color=#4b5d50>#   arName - fully qualified array name</font></i>
  <i><font color=#4b5d50>#   args - proc name & arguments</font></i>

  <b><font color=#3a6797>set</font></b> foc [<b><font color=#134070>focus</font></b>]
  ::apave::EnsureArray <font color=#1b1baa>$arName</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
   focusByForce <font color=#1b1baa>$foc</font> 20
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Exit'>Exit</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes alited application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Exit</span> <span class='ruff_arg'>?w? ?res? ?ask?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>not used; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>result of running of main window; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>ask</code></code></td><td class='ruff_defitem'>if &quot;yes&quot;, requests the confirmation of the exit; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Exit' href="javascript:toggleSource('alited_Exit')">Show source</a></p>
<div id='alited_Exit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Exit {{w {}} {res 0} {ask yes}} {
  <i><font color=#4b5d50># Closes alited application.</font></i>
  <i><font color=#4b5d50>#   w - not used</font></i>
  <i><font color=#4b5d50>#   res - result of running of main window</font></i>
  <i><font color=#4b5d50>#   ask - if &quot;yes&quot;, requests the confirmation of the exit</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>variable</font></b> obPav
  <b><font color=#3a6797>set</font></b> al(INI,isfindrepl) [<b><font color=#3a6797>expr</font></b> {[<b><font color=#134070>winfo</font></b> exist <font color=#1b1baa>$al(WIN)</font>.winFind]}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,confirmexit)</font>&gt;1} {
    <b><font color=#3a6797>set</font></b> timo <font color=#8b2a0e>&quot;-timeout <font color=#1b1baa>{$</font>al(INI,confirmexit) ButOK<font color=#1b1baa>}</font>&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> timo {}
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ask</font> || !<font color=#1b1baa>$al(INI,confirmexit)</font> ||  [msg okcancel info [msgcat::mc {Quitting alited.}] OK {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$timo</font>]} {
    <b><font color=#3a6797>if</font></b> {[file::AllSaved]} {
      alited::menu::SaveCascadeMenuGeo
      <b><font color=#3a6797>catch</font></b> {find::CloseFind}  ;<i><font color=#4b5d50># save Find/Replace geometry</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> eq {2}} {
        <i><font color=#4b5d50># save alited's settings: in main::_run not saved yet</font></i>
        <b><font color=#3a6797>catch</font></b> {ini::SaveIni}
      }
      tool::_close                     ;<i><font color=#4b5d50># close all of the</font></i>
      <b><font color=#3a6797>catch</font></b> {run::Cancel}              ;<i><font color=#4b5d50># possibly open</font></i>
      <b><font color=#3a6797>catch</font></b> {check::Cancel}            ;<i><font color=#4b5d50># non-modal</font></i>
      <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$::alited::find::win2</font>}    ;<i><font color=#4b5d50># windows</font></i>
      <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$::alited::al(FN2WINDOW)</font>} ;<i><font color=#4b5d50># and its possible children</font></i>
      <b><font color=#3a6797>catch</font></b> {paver::Destroy}
      <font color=#1b1baa>$obPav</font> res <font color=#1b1baa>$al(WIN)</font> <font color=#1b1baa>$res</font>
      ::apave::endWM
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::FgAdditional'>FgAdditional</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the list of additional colors: branch, red, todo.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FgAdditional</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_FgAdditional' href="javascript:toggleSource('alited_FgAdditional')">Show source</a></p>
<div id='alited_FgAdditional' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::FgAdditional {} {
  <i><font color=#4b5d50># Gets the list of additional colors: branch, red, todo.</font></i>

  <b><font color=#3a6797>lassign</font></b> [::hl_tcl::addingColors {} <font color=#6c3e67>-AddTags</font>] - - fgbr - - fgred - - - fgtodo
  <b><font color=#3a6797>list</font></b>  <font color=#1b1baa>$fgbr</font> <font color=#1b1baa>$fgred</font> <font color=#1b1baa>$fgtodo</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::FgFgBold'>FgFgBold</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets foregrounds of normal and colored text of current color scheme and red color of TODOs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FgFgBold</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_FgFgBold' href="javascript:toggleSource('alited_FgFgBold')">Show source</a></p>
<div id='alited_FgFgBold' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::FgFgBold {} {
  <i><font color=#4b5d50># Gets foregrounds of normal and colored text of current color scheme</font></i>
  <i><font color=#4b5d50># and red color of TODOs.</font></i>

  <b><font color=#3a6797>variable</font></b> obPav
  <b><font color=#3a6797>lassign</font></b> [FgAdditional] -&gt; fgred
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> lst [<font color=#1b1baa>$obPav</font> csGet]}]} {
    <b><font color=#3a6797>set</font></b> fg [<b><font color=#134070>ttk::style</font></b> lookup <font color=#8b2a0e>&quot;.&quot;</font> <font color=#6c3e67>-foreground</font>]
    <b><font color=#3a6797>set</font></b> bg [<b><font color=#134070>ttk::style</font></b> lookup <font color=#8b2a0e>&quot;.&quot;</font> <font color=#6c3e67>-background</font>]
    <b><font color=#3a6797>set</font></b> fgbold <font color=#1b1baa>$fgred</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$lst</font> - fg - bg fgbold
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fg</font> <font color=#1b1baa>$fgbold</font> <font color=#1b1baa>$fgred</font> <font color=#1b1baa>$bg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::FocusText'>FocusText</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Focuses a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_FocusText' href="javascript:toggleSource('alited_FocusText')">Show source</a></p>
<div id='alited_FocusText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::FocusText {} {
  <i><font color=#4b5d50># Focuses a current text.</font></i>

  <b><font color=#3a6797>after</font></b> idle after 100 {focusByForce [alited::main::CurrentWTXT]}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Font'>Font</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets editor's font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Font</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Font' href="javascript:toggleSource('alited_Font')">Show source</a></p>
<div id='alited_Font' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Font {} {
  <i><font color=#4b5d50># Gets editor's font.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$al(FONT,txt)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a help file for a procedure.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>win ?suff? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>suffix for a help file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of HelpFile</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Help' href="javascript:toggleSource('alited_Help')">Show source</a></p>
<div id='alited_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Help {win {suff {}} args} {
  <i><font color=#4b5d50># Shows a help file for a procedure.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   suff - suffix for a help file's name</font></i>
  <i><font color=#4b5d50>#   args - options of HelpFile</font></i>

  HelpFile <font color=#1b1baa>$win</font> [HelpFname <font color=#1b1baa>$win</font> <font color=#1b1baa>$suff</font>] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpAbout'>HelpAbout</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows &quot;About...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpAbout</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_HelpAbout' href="javascript:toggleSource('alited_HelpAbout')">Show source</a></p>
<div id='alited_HelpAbout' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpAbout {} {
  <i><font color=#4b5d50># Shows &quot;About...&quot; dialogue.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands about::About] eq {}} {
    <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::SRCDIR</font> about.tcl]
  }
  about::About
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpAlited'>HelpAlited</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a main help of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpAlited</span> <span class='ruff_arg'>?ilink?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ilink</code></code></td><td class='ruff_defitem'>internal link; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_HelpAlited' href="javascript:toggleSource('alited_HelpAlited')">Show source</a></p>
<div id='alited_HelpAlited' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpAlited {{ilink {}}} {
  <i><font color=#4b5d50># Shows a main help of alited.</font></i>
  <i><font color=#4b5d50>#   ilink - internal link</font></i>

  openDoc file://[<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::DIR</font> doc index.html]<font color=#1b1baa>$ilink</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpFile'>HelpFile</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads and shows a help file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpFile</span> <span class='ruff_arg'>win fname ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>option of msg</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_HelpFile' href="javascript:toggleSource('alited_HelpFile')">Show source</a></p>
<div id='alited_HelpFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpFile {win fname args} {
  <i><font color=#4b5d50># Reads and shows a help file.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   fname - the file's name</font></i>
  <i><font color=#4b5d50>#   args - option of msg</font></i>

  <b><font color=#3a6797>variable</font></b> obDlg
  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {[HelpOnce 1 <font color=#1b1baa>$fname</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions args <font color=#6c3e67>-ale1Help</font> no <font color=#6c3e67>-ontop</font> 0] ale1Help ontop
  <b><font color=#3a6797>if</font></b> {[::asKDE]} {<b><font color=#3a6797>set</font></b> ontop 1}
  <b><font color=#3a6797>set</font></b> tags [MessageTags]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> msg [readTextFile <font color=#1b1baa>$fname</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg <font color=#8b2a0e>&quot;Here should be a text of\n\&quot;<font color=#1b1baa>$</font>fname\&quot;&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::DEBUG</font>} {<b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;help file: <font color=#1b1baa>$</font>fname&quot;</font>}
  <b><font color=#3a6797>set</font></b> wmax 1
  <b><font color=#3a6797>foreach</font></b> ln [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$msg</font> \n] {
    <b><font color=#3a6797>set</font></b> oc 0
    <b><font color=#3a6797>foreach</font></b> tag {r b link} {
      <b><font color=#3a6797>foreach</font></b> yn {{} /} {
        <b><font color=#3a6797>set</font></b> ln2 <font color=#1b1baa>$ln</font>
        <b><font color=#3a6797>set</font></b> t &lt;<font color=#1b1baa>$yn$tag</font>&gt;
        <b><font color=#3a6797>set</font></b> ln [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$t</font> {}] <font color=#1b1baa>$ln</font>]
        <b><font color=#3a6797>incr</font></b> oc [<b><font color=#3a6797>expr</font></b> {([<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ln2</font>]-[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ln</font>])/([<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$t</font>]+1)}]
      }
    }
    <b><font color=#3a6797>set</font></b> wmax [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$wmax</font>,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ln</font>]+<font color=#1b1baa>$oc</font>)}]
  }
  <b><font color=#3a6797>set</font></b> pobj <font color=#1b1baa>$obDlg</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands <font color=#1b1baa>$pobj</font>] eq {}} {
    <i><font color=#4b5d50># at first start, there are no apave objects bound to the main window of alited</font></i>
    <i><font color=#4b5d50># -&gt; create an independent one to be deleted afterwards</font></i>
    <b><font color=#3a6797>set</font></b> pobj alitedHelpObjToDel
    <b><font color=#3a6797>catch</font></b> {::apave::APave create <font color=#1b1baa>$pobj</font>}
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$msg</font> \n]]&gt;30} {
    <b><font color=#3a6797>set</font></b> args [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$args</font> 0 <font color=#6c3e67>-h</font> 30 <font color=#6c3e67>-scroll</font> 1]
  }
  <b><font color=#3a6797>after</font></b> 200 [<b><font color=#3a6797>list</font></b> alited::HelpOnce 0 <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ale1Help</font>} {
    <i><font color=#4b5d50># if run from &quot;Help/Context&quot;, remove its predecessor</font></i>
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$al(DLGPREV)</font>}
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;set ::alited::al(DLGPREV) \[<font color=#1b1baa>$</font>pobj dlgPath\]&quot;</font>
  }
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$pobj</font> ok {} Help <font color=#8b2a0e>&quot;\n<font color=#1b1baa>$</font>msg\n&quot;</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> no  <font color=#6c3e67>-onclose</font> <font color=#8b2a0e>&quot;alited::destroyWindow %w <font color=#1b1baa>[</font>focus<font color=#1b1baa>]</font>&quot;</font> <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$win</font> <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-scroll</font> no  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tags</font> <font color=#6c3e67>-ontop</font> <font color=#1b1baa>$ontop</font> <font color=#6c3e67>-w</font> [<b><font color=#3a6797>incr</font></b> wmax] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpFname'>HelpFname</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a help file's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpFname</span> <span class='ruff_arg'>win ?suff?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>suffix for a help file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_HelpFname' href="javascript:toggleSource('alited_HelpFname')">Show source</a></p>
<div id='alited_HelpFname' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpFname {win {suff {}}} {
  <i><font color=#4b5d50># Gets a help file's name.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   suff - suffix for a help file's name</font></i>

  <b><font color=#3a6797>variable</font></b> DATADIR
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>dict</font></b> get [<b><font color=#3a6797>info</font></b> frame -2] proc] :] end-2]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> help] <font color=#1b1baa>$fname$suff</font>.txt]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a help file for a procedure with &quot;Don't show again&quot; checkbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> <span class='ruff_arg'>win ?suff?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>suffix for a help file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_HelpMe' href="javascript:toggleSource('alited_HelpMe')">Show source</a></p>
<div id='alited_HelpMe' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpMe {win {suff {}}} {
  <i><font color=#4b5d50># Shows a help file for a procedure with &quot;Don't show again&quot; checkbox.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   suff - suffix for a help file's name</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>variable</font></b> helpedMe
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$helpedMe</font> <font color=#1b1baa>$win</font>]&gt;-1} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> ans [HelpFile <font color=#1b1baa>$win</font> [HelpFname <font color=#1b1baa>$win</font> <font color=#1b1baa>$suff</font>] <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$ans</font> 0]==11} {
    <b><font color=#3a6797>lappend</font></b> helpedMe <font color=#1b1baa>$win</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpOnce'>HelpOnce</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Help&quot; window to have the only instance of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpOnce</span> <span class='ruff_arg'>mode fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>1 to check for existance the help; 0 to register it</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file of help</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_HelpOnce' href="javascript:toggleSource('alited_HelpOnce')">Show source</a></p>
<div id='alited_HelpOnce' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpOnce {mode fname} {
  <i><font color=#4b5d50># Handles &quot;Help&quot; window to have the only instance of it.</font></i>
  <i><font color=#4b5d50>#   mode - 1 to check for existance the help; 0 to register it</font></i>
  <i><font color=#4b5d50>#   fname - file of help</font></i>

  <b><font color=#3a6797>variable</font></b> al2
  <b><font color=#3a6797>variable</font></b> obDlg
  <b><font color=#3a6797>set</font></b> key _help_<font color=#1b1baa>$fname</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font>} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al2(<font color=#1b1baa>$key</font>)] && [<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$al2($key)</font>]} {
      ::apave::deiconify <font color=#1b1baa>$al2($key)</font>
      <b><font color=#ca14ca>return</font></b> 1
    }
    <b><font color=#ca14ca>return</font></b> 0
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al2(<font color=#1b1baa>$key</font>) [<font color=#1b1baa>$obDlg</font> dlgPath]}]} {<b><font color=#3a6797>set</font></b> al2(<font color=#1b1baa>$key</font>) 0}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HighlightAddon'>HighlightAddon</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tries to highlight add-on extensions.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightAddon</span> <span class='ruff_arg'>wtxt fname colors ?fontsize?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>current file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>colors</code></code></td><td class='ruff_defitem'>colors of highlighting</td></tr>
<tr><td class='ruff_defitem'><code><code>fontsize</code></code></td><td class='ruff_defitem'>font size; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_HighlightAddon' href="javascript:toggleSource('alited_HighlightAddon')">Show source</a></p>
<div id='alited_HighlightAddon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HighlightAddon {wtxt fname colors {fontsize {}}} {
  <i><font color=#4b5d50># Tries to highlight add-on extensions.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   fname - current file's name</font></i>
  <i><font color=#4b5d50>#   colors - colors of highlighting</font></i>
  <i><font color=#4b5d50>#   fontsize - font size</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al LIBDIR LIBDIR
  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>set</font></b> ext [EditExt <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ext</font> ne {}} {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$ext</font> {
        htm - ui - tpl1 {<b><font color=#3a6797>set</font></b> ext html}
        ale - conf {<b><font color=#3a6797>set</font></b> ext ini}
      }
      <b><font color=#3a6797>set</font></b> addon hl_<font color=#1b1baa>$ext</font>
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$LIBDIR</font> addon <font color=#1b1baa>$addon</font>.tcl]] fhl
      <b><font color=#3a6797>set</font></b> addon [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fhl</font>]]
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::<font color=#1b1baa>$addon</font>]} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>source</font></b> <font color=#1b1baa>$fhl</font>} err]} {
          alited::Message <font color=#1b1baa>$err</font> 4
          <b><font color=#ca14ca>return</font></b> {}
        }
      }
      <b><font color=#3a6797>lappend</font></b> colors [FgFgBold]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fontsize</font> ne {}} {
        <b><font color=#3a6797>set</font></b> fsz <font color=#1b1baa>$fontsize</font>
      } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>dict</font></b> exists <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-size</font>]} {
        <b><font color=#3a6797>set</font></b> fsz [<b><font color=#3a6797>dict</font></b> get <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-size</font>]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> fsz <font color=#1b1baa>$al(FONTSIZE,std)</font>
      }
      <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>${addon}</font>::init <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$al(FONT,txt)</font> <font color=#1b1baa>$fsz</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$colors</font>]
      obj set_highlight_matches <font color=#1b1baa>$wtxt</font>
      <b><font color=#3a6797>foreach</font></b> tag {sel hilited hilited2} {<b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$wtxt</font> tag raise <font color=#1b1baa>$tag</font>}
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Hl_Colors'>Hl_Colors</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets highlighting colors.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Hl_Colors</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Hl_Colors' href="javascript:toggleSource('alited_Hl_Colors')">Show source</a></p>
<div id='alited_Hl_Colors' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Hl_Colors {} {
  <i><font color=#4b5d50># Gets highlighting colors.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>foreach</font></b> nam [::hl_tcl::hl_colorNames] {<b><font color=#3a6797>lappend</font></b> colors <font color=#1b1baa>$al(ED,$nam)</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$colors</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::InitUnitTree'>InitUnitTree</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes the unit tree of file to be processed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitUnitTree</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_InitUnitTree' href="javascript:toggleSource('alited_InitUnitTree')">Show source</a></p>
<div id='alited_InitUnitTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::InitUnitTree {TID} {
  <i><font color=#4b5d50># Initializes the unit tree of file to be processed.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [main::GetWTXT <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> ne {}} {unit::RecreateUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>}
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::isTclScript'>isTclScript</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check if the tab's file is of .tcl type.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>isTclScript</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's info</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_isTclScript' href="javascript:toggleSource('alited_isTclScript')">Show source</a></p>
<div id='alited_isTclScript' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::isTclScript {tab} {
  <i><font color=#4b5d50># Check if the tab's file is of .tcl type.</font></i>
  <i><font color=#4b5d50>#   tab - tab's info</font></i>

  <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
  <b><font color=#3a6797>set</font></b> fn [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fn</font>]] eq {.tcl}}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::IsTipable'>IsTipable</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a tip on the tree/favorites can be shown.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsTipable</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_IsTipable' href="javascript:toggleSource('alited_IsTipable')">Show source</a></p>
<div id='alited_IsTipable' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::IsTipable {} {
  <i><font color=#4b5d50># Checks if a tip on the tree/favorites can be shown.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> foc [<b><font color=#134070>focus</font></b>]] eq {} || [<b><font color=#3a6797>string</font></b> match *tearoff* <font color=#1b1baa>$foc</font>]} {
    <b><font color=#ca14ca>return</font></b> no  ;<i><font color=#4b5d50># no tips while focusing on a tearoff menu</font></i>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> toplevel <font color=#1b1baa>$foc</font>] ne <font color=#1b1baa>$al(WIN)</font>} {
    <b><font color=#ca14ca>return</font></b> no  ;<i><font color=#4b5d50># no tips while focusing on a toplevel other than alited's main</font></i>
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ListPaved'>ListPaved</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of apave objects for dialogues.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ListPaved</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of apave objects for dialogues.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ListPaved' href="javascript:toggleSource('alited_ListPaved')">Show source</a></p>
<div id='alited_ListPaved' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ListPaved {} {
  <i><font color=#4b5d50># Returns a list of apave objects for dialogues.</font></i>

  <b><font color=#3a6797>list</font></b> obDlg obDl2 obFND obFN2 obCHK obRun
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main_user_dirs'>main_user_dirs</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets names of main user directories for settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>main_user_dirs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_user_dirs' href="javascript:toggleSource('alited_main_user_dirs')">Show source</a></p>
<div id='alited_main_user_dirs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main_user_dirs {} {
  <i><font color=#4b5d50># Gets names of main user directories for settings.</font></i>

  <b><font color=#3a6797>set</font></b> ::alited::USERDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::CONFIGDIR</font> alited]
  <b><font color=#3a6797>set</font></b> ::alited::INIDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> ini]
  <b><font color=#3a6797>set</font></b> ::alited::PRJDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> prj]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Map'>Map</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Maps wildcards and %% in a string.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Map</span> <span class='ruff_arg'>opts str ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>options of &quot;string map&quot; command</td></tr>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>string</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of wildcards and values: {%w1 <code>$val1</code> %w2 <code>$val2</code> ...}</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Map' href="javascript:toggleSource('alited_Map')">Show source</a></p>
<div id='alited_Map' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Map {opts str args} {
  <i><font color=#4b5d50># Maps wildcards and %% in a string.</font></i>
  <i><font color=#4b5d50>#   opts - options of &quot;string map&quot; command</font></i>
  <i><font color=#4b5d50>#   str - string</font></i>
  <i><font color=#4b5d50>#   args - list of wildcards and values: {%w1 $val1 %w2 $val2 ...}</font></i>

    <b><font color=#3a6797>set</font></b> abra {<b><font color=#3a6797>*</font></b>^e!`i@U50=|}
    <b><font color=#3a6797>set</font></b> str [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %% <font color=#1b1baa>$abra</font>] <font color=#1b1baa>$str</font>]
    <b><font color=#3a6797>foreach</font></b> {wc val} <font color=#1b1baa>$args</font> {
      <b><font color=#3a6797>set</font></b> str [<b><font color=#3a6797>string</font></b> map {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wc</font> <font color=#1b1baa>$val</font>] <font color=#1b1baa>$str</font>]
    }
    <b><font color=#3a6797>set</font></b> str [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$abra</font> %] <font color=#1b1baa>$str</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::MapWildCards'>MapWildCards</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Maps some common wildcards in a command</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MapWildCards</span> <span class='ruff_arg'>com</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>com</code></code></td><td class='ruff_defitem'>the command</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Wildcards:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>%H</code></td><td class='ruff_defitem'>home directory</td></tr>
<tr><td class='ruff_defitem'><code>%P</code></td><td class='ruff_defitem'>directory of current project</td></tr>
<tr><td class='ruff_defitem'><code>%F</code></td><td class='ruff_defitem'>current file name</td></tr>
<tr><td class='ruff_defitem'><code>%D</code></td><td class='ruff_defitem'>directory of current file</td></tr>
<tr><td class='ruff_defitem'><code>%A</code></td><td class='ruff_defitem'>directory of alited</td></tr>
<tr><td class='ruff_defitem'><code>%M</code></td><td class='ruff_defitem'>directory of e_menu's menus</td></tr>
<tr><td class='ruff_defitem'><code>%E</code></td><td class='ruff_defitem'>Tcl/Tk executable as set in Preferences/Tools</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_MapWildCards' href="javascript:toggleSource('alited_MapWildCards')">Show source</a></p>
<div id='alited_MapWildCards' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::MapWildCards {com} {
  <i><font color=#4b5d50># Maps some common wildcards in a command</font></i>
  <i><font color=#4b5d50>#   com - the command</font></i>
  <i><font color=#4b5d50># Wildcards:</font></i>
  <i><font color=#4b5d50>#   %H - home directory</font></i>
  <i><font color=#4b5d50>#   %P - directory of current project</font></i>
  <i><font color=#4b5d50>#   %F - current file name</font></i>
  <i><font color=#4b5d50>#   %D - directory of current file</font></i>
  <i><font color=#4b5d50>#   %A - directory of alited</font></i>
  <i><font color=#4b5d50>#   %M - directory of e_menu's menus</font></i>
  <i><font color=#4b5d50>#   %E - Tcl/Tk executable as set in Preferences/Tools</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>variable</font></b> DIR
  <b><font color=#3a6797>set</font></b> filename [bar::FileName]
  <b><font color=#3a6797>set</font></b> dirname [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$filename</font>]
  <b><font color=#3a6797>set</font></b> com [Map {} <font color=#1b1baa>$com</font>  %H [apave::HomeDir]  %P <font color=#1b1baa>$al(prjroot)</font>  %F <font color=#1b1baa>$filename</font>  %D <font color=#1b1baa>$dirname</font>  %A <font color=#1b1baa>$DIR</font>  %M <font color=#1b1baa>$al(EM,mnudir)</font>  %E [Tclexe]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode? ?lab? ?first?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>1: simple; 2: bold; 3: bold color; 4: bold red bell; 5: static; 6: bold red; <i>optional, default</i> <code>2</code></td></tr>
<tr><td class='ruff_defitem'><code><code>lab</code></code></td><td class='ruff_defitem'>label's name to display the message in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>first</code></code></td><td class='ruff_defitem'>serves to recursively erase the message; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Message' href="javascript:toggleSource('alited_Message')">Show source</a></p>
<div id='alited_Message' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Message {msg {mode 2} {lab {}} {first yes}} {
  <i><font color=#4b5d50># Displays a message in statusbar.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - 1: simple; 2: bold; 3: bold color; 4: bold red bell; 5: static; 6: bold red</font></i>
  <i><font color=#4b5d50>#   lab - label's name to display the message in</font></i>
  <i><font color=#4b5d50>#   first - serves to recursively erase the message</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>variable</font></b> obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands <font color=#1b1baa>$obPav</font>] eq {} || [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> [FgFgBold] fg fgbold fgred bg}]} {
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># at exiting app</font></i>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lab</font> eq {}} {<b><font color=#3a6797>set</font></b> lab [<font color=#1b1baa>$obPav</font> Labstat3]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$first</font>} {<b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#1b1baa>$msg</font>]}
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$first</font> && <font color=#1b1baa>$msg</font> ne {} && [<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$lab</font>]} {
    <b><font color=#3a6797>set</font></b> curmsg [<font color=#1b1baa>$lab</font> cget <font color=#6c3e67>-text</font>]
    <i><font color=#4b5d50># if a message changed or expired, don't touch it (don't cover it with old 'msg')</font></i>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$msg</font> <font color=#1b1baa>$curmsg</font>]&lt;0} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> font [[<font color=#1b1baa>$obPav</font> Labstat2] cget <font color=#6c3e67>-font</font>]
  <b><font color=#3a6797>set</font></b> fontB [<b><font color=#3a6797>list</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$font</font> <font color=#6c3e67>-weight</font> bold]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> range [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n { } \r {}] <font color=#1b1baa>$msg</font>] 0 500]
  <b><font color=#3a6797>set</font></b> slen [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$msg</font>}] || !<font color=#1b1baa>$slen</font>} <b><font color=#ca14ca>return</font></b>
  <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> &gt; 1} {
    <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-font</font> <font color=#1b1baa>$fontB</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> == 4} {
      <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgred</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$first</font>} <b><font color=#134070>bell</font></b>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$mode</font> == 3 || <font color=#1b1baa>$mode</font> == 5} {
      <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgbold</font>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$mode</font> == 6} {
      <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgred</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> == 5} {
    <b><font color=#3a6797>update</font></b>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$first</font>} {
    <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>expr</font></b> {200*<font color=#1b1baa>$slen</font>}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> &gt; 1} {
      <b><font color=#3a6797>set</font></b> opts <font color=#8b2a0e>&quot;-font <font color=#1b1baa>{$</font>fontB<font color=#1b1baa>}</font>&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> opts {}
    }
    <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$msg</font> 0 130]]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$msg</font> [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tip</font>] end]] ne {}} {
      <b><font color=#3a6797>append</font></b> tip ...
    }
    baltip::tip <font color=#1b1baa>$lab</font> <font color=#1b1baa>$tip</font> <font color=#6c3e67>-command</font> [<b><font color=#3a6797>list</font></b> alited::TipMessage %w %t] <font color=#6c3e67>-per10</font> 0 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$msg</font> 0 end-1]
    <b><font color=#3a6797>set</font></b> msec 10
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al(afterID)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$msec</font>&gt;0} {
    <b><font color=#3a6797>set</font></b> al(afterID) [<b><font color=#3a6797>after</font></b> <font color=#1b1baa>$msec</font> [<b><font color=#3a6797>list</font></b> ::alited::Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> <font color=#1b1baa>$lab</font> no]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::MessageError'>MessageError</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Doubles error message: in infobar and in status bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MessageError</span> <span class='ruff_arg'>msg</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>error message</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_MessageError' href="javascript:toggleSource('alited_MessageError')">Show source</a></p>
<div id='alited_MessageError' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::MessageError {msg} {
  <i><font color=#4b5d50># Doubles error message: in infobar and in status bar.</font></i>
  <i><font color=#4b5d50>#   msg - error message</font></i>

    info::Put <font color=#1b1baa>$msg</font> {} yes yes yes <font color=#6c3e67>-fg</font>
    Message <font color=#1b1baa>$msg</font> 4
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::MessageNotDisturb'>MessageNotDisturb</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows &quot;Don't disturb&quot; message.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MessageNotDisturb</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_MessageNotDisturb' href="javascript:toggleSource('alited_MessageNotDisturb')">Show source</a></p>
<div id='alited_MessageNotDisturb' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::MessageNotDisturb {} {
  <i><font color=#4b5d50># Shows &quot;Don't disturb&quot; message.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>lassign</font></b> [alited::complete::TextCursorCoordinates] X Y
  <b><font color=#3a6797>set</font></b> msg <font color=#8b2a0e>&quot;Working...\nDon't disturb.&quot;</font>
  Message <font color=#1b1baa>$msg</font> 3
  ::baltip::showBalloon <font color=#1b1baa>$msg</font>  <font color=#6c3e67>-geometry</font> <font color=#8b2a0e>&quot;+<font color=#1b1baa>$</font>X+<font color=#1b1baa>$</font>Y&quot;</font> <font color=#6c3e67>-fg</font> <font color=#1b1baa>$al(MOVEFG)</font> <font color=#6c3e67>-bg</font> <font color=#1b1baa>$al(MOVEBG)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::MessageTags'>MessageTags</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tags for texts shown with messages.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MessageTags</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;-tags option&quot; for messages.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_MessageTags' href="javascript:toggleSource('alited_MessageTags')">Show source</a></p>
<div id='alited_MessageTags' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::MessageTags {} {
  <i><font color=#4b5d50># Gets tags for texts shown with messages.</font></i>
  <i><font color=#4b5d50># Returns &quot;-tags option&quot; for messages.</font></i>

  <b><font color=#3a6797>lassign</font></b> [FgFgBold] -&gt; fS
  <b><font color=#3a6797>set</font></b> ::alited::textTags [<b><font color=#3a6797>list</font></b>  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;r&quot;</font> <font color=#8b2a0e>&quot;-font <font color=#1b1baa>{$</font>::apave::FONTMAINBOLD<font color=#1b1baa>}</font> -foreground <font color=#1b1baa>$</font>fS&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;b&quot;</font> <font color=#8b2a0e>&quot;-foreground <font color=#1b1baa>$</font>fS&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://%l@@&quot;</font>]  ]
  <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;-tags ::alited::textTags&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Msg'>Msg</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message in text box.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Msg</span> <span class='ruff_arg'>inf ?ic? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inf</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>ic</code></code></td><td class='ruff_defitem'>icon; <i>optional, default</i> <code>info</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Msg' href="javascript:toggleSource('alited_Msg')">Show source</a></p>
<div id='alited_Msg' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Msg {inf {ic info} args} {
  <i><font color=#4b5d50># Shows a message in text box.</font></i>
  <i><font color=#4b5d50>#   inf - the message</font></i>
  <i><font color=#4b5d50>#   ic - icon</font></i>

  msg ok <font color=#1b1baa>$ic</font> <font color=#1b1baa>$inf</font> <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-w</font> 50 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::msg'>msg</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message and asks for an answer.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>msg</span> <span class='ruff_arg'>type icon message ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>ok/yesno/okcancel/yesnocancel</td></tr>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>info/warn/err</td></tr>
<tr><td class='ruff_defitem'><code><code>message</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>default button (for not &quot;ok&quot; dialogs); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments (-title and font's option)</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>For &quot;ok&quot; dialogue, 'defb' is omitted (being a part of args).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_msg' href="javascript:toggleSource('alited_msg')">Show source</a></p>
<div id='alited_msg' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::msg {type icon message {defb {}} args} {
  <i><font color=#4b5d50># Shows a message and asks for an answer.</font></i>
  <i><font color=#4b5d50>#   type - ok/yesno/okcancel/yesnocancel</font></i>
  <i><font color=#4b5d50>#   icon - info/warn/err</font></i>
  <i><font color=#4b5d50>#   message - the message</font></i>
  <i><font color=#4b5d50>#   defb - default button (for not &quot;ok&quot; dialogs)</font></i>
  <i><font color=#4b5d50>#   args - additional arguments (-title and font's option)</font></i>
  <i><font color=#4b5d50># For &quot;ok&quot; dialogue, 'defb' is omitted (being a part of args).</font></i>

  <b><font color=#3a6797>variable</font></b> obDlg
  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$type</font> eq {ok}} {
    <b><font color=#3a6797>set</font></b> args [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$args</font> 0 <font color=#1b1baa>$defb</font>]
    <b><font color=#3a6797>set</font></b> defb {}
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$defb</font> eq {}} {
    <b><font color=#3a6797>set</font></b> defb YES
  }
  <b><font color=#3a6797>lappend</font></b> defb <font color=#6c3e67>-centerme</font> [::apave::rootModalWindow <font color=#1b1baa>$al(WIN)</font>]
  <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions args <font color=#6c3e67>-title</font> {} <font color=#6c3e67>-noesc</font> 0] title noesc
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$title</font> eq {}} {
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$icon</font> {
      warn {<b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$al(MC,warning)</font>}
      err  {<b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$al(MC,error)</font>}
      ques {<b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$al(MC,question)</font>}
      <b><font color=#3a6797>default</font></b> {<b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$al(MC,info)</font>}
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> title [msgcat::mc <font color=#1b1baa>$title</font>]
  }
  <b><font color=#3a6797>set</font></b> message [msgcat::mc <font color=#1b1baa>$message</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(obDlg-BUSY)]} {
    <i><font color=#4b5d50># the obDlg is engaged: no actions, just a message</font></i>
    Message <font color=#1b1baa>$message</font> 4
    <b><font color=#3a6797>set</font></b> res 0
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(obDlg-BUSY) yes
    <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDlg</font> <font color=#1b1baa>$type</font> <font color=#1b1baa>$icon</font> <font color=#1b1baa>$title</font> <font color=#8b2a0e>&quot;\n<font color=#1b1baa>$</font>message\n&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$defb</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
    <b><font color=#3a6797>unset</font></b> <font color=#6c3e67>-nocomplain</font> al(obDlg-BUSY)
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$res</font> 0]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::msgcatMessages'>msgcatMessages</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets common localized messages.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>msgcatMessages</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_msgcatMessages' href="javascript:toggleSource('alited_msgcatMessages')">Show source</a></p>
<div id='alited_msgcatMessages' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::msgcatMessages {} {
  <i><font color=#4b5d50># Sets common localized messages.</font></i>

  <i><font color=#4b5d50># alited_checked</font></i>

  <b><font color=#3a6797>variable</font></b> al

  <i><font color=#4b5d50>## _ common _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,nofile)      [msgcat::mc {No name}]
  <b><font color=#3a6797>set</font></b> al(MC,info)        [msgcat::mc Information]
  <b><font color=#3a6797>set</font></b> al(MC,warning)     [msgcat::mc Warning]
  <b><font color=#3a6797>set</font></b> al(MC,error)       [msgcat::mc Error]
  <b><font color=#3a6797>set</font></b> al(MC,question)    [msgcat::mc Question]
  <b><font color=#3a6797>set</font></b> al(MC,wait)        [msgcat::mc {Wait a little ...}]
  <b><font color=#3a6797>set</font></b> al(MC,help)        [msgcat::mc Help]
  <b><font color=#3a6797>set</font></b> al(MC,select)      [msgcat::mc Select]  ;<i><font color=#4b5d50># verb</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,notsaved)    [msgcat::mc <font color=#8b2a0e>&quot;\&quot;%f\&quot; wasn't saved.\n\nSave it?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,saving)      [msgcat::mc Saving]
  <b><font color=#3a6797>set</font></b> al(MC,files)       [msgcat::mc Files]
  <b><font color=#3a6797>set</font></b> al(MC,moving)      [msgcat::mc Moving]
  <b><font color=#3a6797>set</font></b> al(MC,run)         [msgcat::mc Run]
  <b><font color=#3a6797>set</font></b> al(MC,runAsIs)     [msgcat::mc {Run as Is}]
  <b><font color=#3a6797>set</font></b> al(MC,new)         [msgcat::mc New]
  <b><font color=#3a6797>set</font></b> al(MC,open...)     [msgcat::mc Open...]
  <b><font color=#3a6797>set</font></b> al(MC,openwith)    [msgcat::mc {Open Selected Files with}]
  <b><font color=#3a6797>set</font></b> al(MC,close)       [msgcat::mc Close]
  <b><font color=#3a6797>set</font></b> al(MC,save)        [msgcat::mc Save]
  <b><font color=#3a6797>set</font></b> al(MC,saveas...)   [msgcat::mc {Save as...}]
  <b><font color=#3a6797>set</font></b> al(MC,saveall)     [msgcat::mc {Save All}]
  <b><font color=#3a6797>set</font></b> al(MC,clall)       [msgcat::mc {... All}]
  <b><font color=#3a6797>set</font></b> al(MC,clallleft)   [msgcat::mc {... All at Left}]
  <b><font color=#3a6797>set</font></b> al(MC,clallright)  [msgcat::mc {... All at Right}]
  <b><font color=#3a6797>set</font></b> al(MC,detach)      [msgcat::mc Detach]
  <b><font color=#3a6797>set</font></b> al(MC,detachsel)   [msgcat::mc {Detach Selected Files}]
  <b><font color=#3a6797>set</font></b> al(MC,pref)        [msgcat::mc Preferences]
  <b><font color=#3a6797>set</font></b> al(MC,pref...)     [msgcat::mc Preferences...]
  <b><font color=#3a6797>set</font></b> al(MC,notrecomm)   [msgcat::mc <font color=#8b2a0e>&quot;Not recommended for projects\nwith large files (&gt;2000 LOC)!&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,quit)        [msgcat::mc Quit]
  <b><font color=#3a6797>set</font></b> al(MC,indent)      [msgcat::mc Indent]
  <b><font color=#3a6797>set</font></b> al(MC,unindent)    [msgcat::mc Unindent]
  <b><font color=#3a6797>set</font></b> al(MC,corrindent)  [msgcat::mc {Correct Indentation}]
  <b><font color=#3a6797>set</font></b> al(MC,comment)     [msgcat::mc Comment]
  <b><font color=#3a6797>set</font></b> al(MC,uncomment)   [msgcat::mc Uncomment]
  <b><font color=#3a6797>set</font></b> al(MC,findreplace) [msgcat::mc {Find / Replace}]
  <b><font color=#3a6797>set</font></b> al(MC,findnext)    [msgcat::mc {Find Next}]
  <b><font color=#3a6797>set</font></b> al(MC,alloffile)   [msgcat::mc <font color=#8b2a0e>&quot;All of \&quot;%f\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,lines)       [msgcat::mc Lines]
  <b><font color=#3a6797>set</font></b> al(MC,moveupU)     [msgcat::mc {Move Unit Up}]
  <b><font color=#3a6797>set</font></b> al(MC,movedownU)   [msgcat::mc {Move Unit Down}]
  <b><font color=#3a6797>set</font></b> al(MC,moveupF)     [msgcat::mc {Move File Up}]
  <b><font color=#3a6797>set</font></b> al(MC,movedownF)   [msgcat::mc {Move File Down}]
  <b><font color=#3a6797>set</font></b> al(MC,FavLists)    [msgcat::mc {Saved Lists of Favorites}]
  <b><font color=#3a6797>set</font></b> al(MC,swfiles)     [msgcat::mc {Switch to Unit Tree}]
  <b><font color=#3a6797>set</font></b> al(MC,swunits)     [msgcat::mc {Switch to File Tree}]
  <b><font color=#3a6797>set</font></b> al(MC,filesadd)    [msgcat::mc {Create File}]
  <b><font color=#3a6797>set</font></b> al(MC,filesadd...) [msgcat::mc {Create File...}]
  <b><font color=#3a6797>set</font></b> al(MC,filesadd2)   [msgcat::mc <font color=#8b2a0e>&quot;Enter a name of file to create in:\n%d\n\nIf it is a directory, check 'Directory' box.\nThe directory can include subdirectories (a/b/c).&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,filesdel)    [msgcat::mc {Delete File}]
  <b><font color=#3a6797>set</font></b> al(MC,fileexist)   [msgcat::mc <font color=#8b2a0e>&quot;\nFile \&quot;%f\&quot; already exists in\n%d\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,filenoexist) [msgcat::mc <font color=#8b2a0e>&quot;\nFile\n  \&quot;%f\&quot;\ndoesn't exist.\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,unitsdel)    [msgcat::mc {Delete Unit(s)}]
  <b><font color=#3a6797>set</font></b> al(MC,favoradd)    [msgcat::mc {Add to Favorites}]
  <b><font color=#3a6797>set</font></b> al(MC,favordel)    [msgcat::mc {Delete}]
  <b><font color=#3a6797>set</font></b> al(MC,favorren)    [msgcat::mc {Rename}]
  <b><font color=#3a6797>set</font></b> al(MC,favordelall) [msgcat::mc {Delete All}]
  <b><font color=#3a6797>set</font></b> al(MC,updtree)     [msgcat::mc {Update Tree}]
  <b><font color=#3a6797>set</font></b> al(MC,movefile)    [msgcat::mc <font color=#8b2a0e>&quot;Move %f\nto\n%d\n?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,introln1)    [msgcat::mc {First Lines}]
  <b><font color=#3a6797>set</font></b> al(MC,introln2)    [msgcat::mc {Can't touch the first %n lines.}]
  <b><font color=#3a6797>set</font></b> al(MC,favorites)   [msgcat::mc Favorites]
  <b><font color=#3a6797>set</font></b> al(MC,currfavs)    [msgcat::mc {Current list of favorites}]
  <b><font color=#3a6797>set</font></b> al(MC,lastvisit)   [msgcat::mc {Last Visited}]
  <b><font color=#3a6797>set</font></b> al(MC,addfavor)    [msgcat::mc <font color=#8b2a0e>&quot;Add \&quot;%n\&quot; of %f\nto Favorites?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,addexist)    [msgcat::mc <font color=#8b2a0e>&quot;Item \&quot;%n\&quot; of %f\nis already in Favorites.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,delfavor)    [msgcat::mc <font color=#8b2a0e>&quot;Remove \&quot;%n\&quot; of %f\nfrom Favorites?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,notfavor)    [msgcat::mc <font color=#8b2a0e>&quot;\&quot;%n\&quot; unit of %f is not in the list.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,selfavor)    [msgcat::mc <font color=#8b2a0e>&quot;Click \&quot;%t\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,copydecl)    [msgcat::mc {Copy Declaration}]
  <b><font color=#3a6797>set</font></b> al(MC,openofdir)   [msgcat::mc <font color=#8b2a0e>&quot;Open All Tcl Files of \&quot;%n\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,delitem)     [msgcat::mc <font color=#8b2a0e>&quot;Remove \&quot;%n\&quot;\nfrom \&quot;%f\&quot;?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,delfile)     [msgcat::mc <font color=#8b2a0e>&quot;Delete \&quot;%f\&quot;?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,modiffile)   [msgcat::mc <font color=#8b2a0e>&quot;File \&quot;%f\&quot; was modified by some application.\n\nCancel your edition and reload the file?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,wasdelfile)  [msgcat::mc <font color=#8b2a0e>&quot;File \&quot;%f\&quot; was deleted by some application.\n\nSave the file?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,Row:)        [msgcat::mc {Row }]
  <b><font color=#3a6797>set</font></b> al(MC,Col:)        [msgcat::mc { Col }]
  <b><font color=#3a6797>set</font></b> al(MC,Item)        [msgcat::mc Item]
  <b><font color=#3a6797>set</font></b> al(MC,errmove)     [msgcat::mc <font color=#8b2a0e>&quot;\&quot;%n\&quot; contains unbalanced \{\}: %1!=%2&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,afterstart)  [msgcat::mc {For Start}]
  <b><font color=#3a6797>set</font></b> al(MC,locale)      [msgcat::mc <font color=#8b2a0e>&quot;This is a language code: ru, uk, de...\nIn alited, \&quot;en\&quot; means American English.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,noask)       [msgcat::mc {Don't show anymore}]
  <b><font color=#3a6797>set</font></b> al(MC,needcs)      [msgcat::mc <font color=#8b2a0e>&quot;These themes need\nlight / dark color schemes\naccordingly&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,nocs)        [msgcat::mc {No color scheme at all}]
  <b><font color=#3a6797>set</font></b> al(MC,fitcs)       [msgcat::mc {Fit for theme}]
  <b><font color=#3a6797>set</font></b> al(MC,hue)         [msgcat::mc {Makes colors darker .. lighter}]
  <b><font color=#3a6797>set</font></b> al(MC,maxbak)      [msgcat::mc {Maximum of backup copies per a file}]
  <b><font color=#3a6797>set</font></b> al(MC,othertcl)    [msgcat::mc {Do it in other Tcl files}]
  <b><font color=#3a6797>set</font></b> al(MC,otherfiles)  [msgcat::mc {Do it in other files}]
  <b><font color=#3a6797>set</font></b> al(MC,inconsole)   [msgcat::mc {in console}]
  <b><font color=#3a6797>set</font></b> al(MC,intkcon)     [msgcat::mc {in Tkcon}]
  <b><font color=#3a6797>set</font></b> al(MC,asis)        [msgcat::mc {as is}]
  <b><font color=#3a6797>set</font></b> al(MC,on)          [msgcat::mc on]
  <b><font color=#3a6797>set</font></b> al(MC,test)        [msgcat::mc Test]
  <b><font color=#3a6797>set</font></b> al(MC,restart)     [msgcat::mc <font color=#8b2a0e>&quot;For the settings to be active,\nalited application should be restarted.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,incorrname)  [msgcat::mc {Incorrect name: <font color=#8b2a0e>&quot;%n&quot;</font>}]
  <b><font color=#3a6797>set</font></b> al(MC,allfiles)    [msgcat::mc {All files}]
  <b><font color=#3a6797>set</font></b> al(MC,currfile)    [msgcat::mc {Current}]
  <b><font color=#3a6797>set</font></b> al(MC,none)        [msgcat::mc {None}]

  <i><font color=#4b5d50>## _  menu items _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,lookdecl)    [msgcat::mc {Look for Declaration}]
  <b><font color=#3a6797>set</font></b> al(MC,lookword)    [msgcat::mc {Look for Word}]
  <b><font color=#3a6797>set</font></b> al(MC,toline)      [msgcat::mc {Go to Line}]
  <b><font color=#3a6797>set</font></b> al(MC,tomatched)   [msgcat::mc {To Matched Bracket}]
  <b><font color=#3a6797>set</font></b> al(MC,hlcolors)    [msgcat::mc {Display Colors}]
  <b><font color=#3a6797>set</font></b> al(MC,playtkl)     [msgcat::mc {Play Macro}]
  <b><font color=#3a6797>set</font></b> al(MC,quickmacro)  {Quick macro}
  <b><font color=#3a6797>set</font></b> al(MC,formatdesc)  [msgcat::mc {Moving Unit Descriptions}]
  <b><font color=#3a6797>set</font></b> al(MC,formatdesc...) [msgcat::mc {Moving Unit Descriptions...}]
  <b><font color=#3a6797>set</font></b> al(MC,middlefont)  [msgcat::mc {Middle font size:}]

  <i><font color=#4b5d50>## _  project options _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,Ign:)        [msgcat::mc {Skip files/directories:}]
  <b><font color=#3a6797>set</font></b> al(MC,EOL:)        [msgcat::mc {End of line:}]
  <b><font color=#3a6797>set</font></b> al(MC,indent:)     [msgcat::mc {Indentation:}]
  <b><font color=#3a6797>set</font></b> al(MC,indentAuto)  [msgcat::mc {Auto detection}]
  <b><font color=#3a6797>set</font></b> al(MC,redunit)     [msgcat::mc {Unit lines per 1 red bar:}]
  <b><font color=#3a6797>set</font></b> al(MC,multiline)   [msgcat::mc {Multi-line strings:}]
  <b><font color=#3a6797>set</font></b> al(MC,trailwhite)  [msgcat::mc {Remove trailing whitespaces:}]
  <b><font color=#3a6797>set</font></b> al(MC,useleafRE)   [msgcat::mc {Use leaf's regexp:}]
  <b><font color=#3a6797>set</font></b> al(MC,leafRE)      [msgcat::mc {Leaf's regexp:}]

  <i><font color=#4b5d50>## _ templates _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,tpl)         [msgcat::mc Templates]
  <b><font color=#3a6797>set</font></b> al(MC,tplsel)      [msgcat::mc {Click a template}]
  <b><font color=#3a6797>set</font></b> al(MC,tplnew)      [msgcat::mc {The template #%n added}]
  <b><font color=#3a6797>set</font></b> al(MC,tplupd)      [msgcat::mc {The template #%n updated}]
  <b><font color=#3a6797>set</font></b> al(MC,tplrem)      [msgcat::mc {The template #%n removed}]
  <b><font color=#3a6797>set</font></b> al(MC,tplent1)     [msgcat::mc {Enter a name of the template}]
  <b><font color=#3a6797>set</font></b> al(MC,tplent2)     [msgcat::mc {Enter a text of the template}]
  <b><font color=#3a6797>set</font></b> al(MC,tplent3)     [msgcat::mc <font color=#8b2a0e>&quot;Choose a hot key combination\nfor the template insertion.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,tplaft1)     [msgcat::mc <font color=#8b2a0e>&quot;Inserts a template\nbelow a current line&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,tplaft2)     [msgcat::mc <font color=#8b2a0e>&quot;Inserts a template\nbelow a current unit&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,tplaft3)     [msgcat::mc <font color=#8b2a0e>&quot;Inserts a template at the cursor\n(good for one-liners)&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,tplaft4)     [msgcat::mc <font color=#8b2a0e>&quot;Inserts a template after 1st line of a file\n(License, Introduction etc.)&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,tplexists)   [msgcat::mc {A template with the attribute(s) already exists.}]
  <b><font color=#3a6797>set</font></b> al(MC,tpldelq)     [msgcat::mc {Delete a template #%n ?}]

  <i><font color=#4b5d50>## _ projects _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,projects)    [msgcat::mc Projects]
  <b><font color=#3a6797>set</font></b> al(MC,prjgoing)    [msgcat::mc {You are going to %n!}]
  <b><font color=#3a6797>set</font></b> al(MC,prjadd)      [msgcat::mc {Add a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjchg)      [msgcat::mc {Change a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjdel1)     [msgcat::mc {Delete a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjcantdel)  [msgcat::mc {Don't delete the current project!}]
  <b><font color=#3a6797>set</font></b> al(MC,prjnew)      [msgcat::mc <font color=#8b2a0e>&quot;The project \&quot;%n\&quot; added&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjupd)      [msgcat::mc <font color=#8b2a0e>&quot;The project \&quot;%n\&quot; updated&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjdel2)     [msgcat::mc <font color=#8b2a0e>&quot;The project \&quot;%n\&quot; removed&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjOptions)  [msgcat::mc Options]
  <b><font color=#3a6797>set</font></b> al(MC,prjName)     [msgcat::mc {Project:}]
  <b><font color=#3a6797>set</font></b> al(MC,prjaddfl)    [msgcat::mc Add]
  <b><font color=#3a6797>set</font></b> al(MC,prjsubstfl)  [msgcat::mc Substitute]
  <b><font color=#3a6797>set</font></b> al(MC,prjdelfl)    [msgcat::mc Delete]
  <b><font color=#3a6797>set</font></b> al(MC,prjnochfl)   [msgcat::mc {Don't change}]
  <b><font color=#3a6797>set</font></b> al(MC,prjsel)      [msgcat::mc {Click a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjdelq)     [msgcat::mc <font color=#8b2a0e>&quot;Delete a project \&quot;%n\&quot; ?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjexists)   [msgcat::mc <font color=#8b2a0e>&quot;A project \&quot;%n\&quot; already exists.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,DEFopts)     [msgcat::mc {Options for new projects are set in <font color=#8b2a0e>&quot;Preferences/General/Projects&quot;</font>}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTdelete)  [msgcat::mc {Erase a text}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTpaste)   [msgcat::mc {Paste a text}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTundo)    [msgcat::mc {Undo changes}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTredo)    [msgcat::mc {Redo changes}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTtext)    [msgcat::mc {Text of a reminder}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTprevious)  [msgcat::mc {TODO previous day}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTprevious2) [msgcat::mc {TODO previous week}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTnext)    [msgcat::mc {TODO next day}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTnext2)   [msgcat::mc {TODO next week}]
  <b><font color=#3a6797>set</font></b> al(MC,TemplPrj)    [msgcat::mc <font color=#8b2a0e>&quot;Enter a tree of directories for the project template.\nIndent them by equal indents to mean subdirectories.\n\nFiles like README*, CHANGELOG* will be created blank.\nFiles like LICENSE* will be taken from the current project.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,CrTemplPrj)  [msgcat::mc {Create a project by template}]
  <b><font color=#3a6797>set</font></b> al(MC,ViewDir)     [msgcat::mc {Project directory}]
  <b><font color=#3a6797>set</font></b> al(MC,com)         [msgcat::mc Command]
  <b><font color=#3a6797>set</font></b> al(MC,coms)        [msgcat::mc Commands]

  <i><font color=#4b5d50>## _ favorites _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,favsel)      [msgcat::mc {Click a list of favorites}]
  <b><font color=#3a6797>set</font></b> al(MC,favnew)      [msgcat::mc {The list #%n added}]
  <b><font color=#3a6797>set</font></b> al(MC,favupd)      [msgcat::mc {The list #%n updated}]
  <b><font color=#3a6797>set</font></b> al(MC,favrem)      [msgcat::mc {The list #%n removed}]
  <b><font color=#3a6797>set</font></b> al(MC,favent1)     [msgcat::mc {Enter a name of the list}]
  <b><font color=#3a6797>set</font></b> al(MC,favent3)     [msgcat::mc {The current list is empty!}]
  <b><font color=#3a6797>set</font></b> al(MC,favexists)   [msgcat::mc {This list already exists}]
  <b><font color=#3a6797>set</font></b> al(MC,faverrsav)   [msgcat::mc <font color=#8b2a0e>&quot;This list not saved to\n\&quot;%f\&quot;.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,favdelq)     [msgcat::mc {Delete a favorites' list #%n ?}]
  <b><font color=#3a6797>set</font></b> al(MC,unitprocsd)  [msgcat::mc {%f processed, units affected: %n - ALREADY PROCESSED?}]

  <i><font color=#4b5d50>## _ find-replace dialogue _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,frMatch) [msgcat::mc {Match: }]
  <b><font color=#3a6797>set</font></b> al(MC,frWord)  [msgcat::mc {Match whole word}]
  <b><font color=#3a6797>set</font></b> al(MC,frExact) [msgcat::mc {Exact}]
  <b><font color=#3a6797>set</font></b> al(MC,frCase)  [msgcat::mc {Match case}]
  <b><font color=#3a6797>set</font></b> al(MC,frres1)  [msgcat::mc <font color=#8b2a0e>&quot;Found %n matches for \&quot;%s\&quot;.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frres2)  [msgcat::mc <font color=#8b2a0e>&quot;Made %n replacements of \&quot;%s\&quot; with \&quot;%r\&quot; in \&quot;%f\&quot;.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frres3)  [msgcat::mc <font color=#8b2a0e>&quot;Made %n replacements of \&quot;%s\&quot; with \&quot;%r\&quot; in all of session.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frdoit1) [msgcat::mc <font color=#8b2a0e>&quot;Replace all of \&quot;%s\&quot;\n\nwith \&quot;%r\&quot;\n\nin \&quot;%f\&quot; ?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frdoit2) [msgcat::mc <font color=#8b2a0e>&quot;Replace all of \&quot;%s\&quot;\n\nwith \&quot;%r\&quot;\n\nin all%Stexts?&quot;</font>]

  <i><font color=#4b5d50>## _ file & directory _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,removed)     [msgcat::mc <font color=#8b2a0e>&quot;\&quot;%f\&quot; removed to \&quot;%d\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,nottoopen)   [msgcat::mc <font color=#8b2a0e>&quot;The file \&quot;%f\&quot; seems to be not of types\n%s.\n\nStill do you want to open it?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,renamefile)  [msgcat::mc {Rename File}]
  <b><font color=#3a6797>set</font></b> al(MC,renamefile...) [msgcat::mc {Rename File...}]
  <b><font color=#3a6797>set</font></b> al(MC,clonefile)   [msgcat::mc {Clone File}]
  <b><font color=#3a6797>set</font></b> al(MC,clonefile...) [msgcat::mc {Clone File...}]
  <b><font color=#3a6797>set</font></b> al(MC,openselfile) [msgcat::mc {Open Selected Files}]
  <b><font color=#3a6797>set</font></b> al(MC,filelist)    [msgcat::mc {File List}]

  <i><font color=#4b5d50>## _ start and update _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,chini1)      [msgcat::mc {Choosing Directory for Settings}]
  <b><font color=#3a6797>set</font></b> al(MC,chini2)      [msgcat::mc <font color=#8b2a0e>&quot;\n The \&quot;alited\&quot; needs a configuration directory to store its settings.\n You can pass its name to alited as an argument.\n\n The default configuration directory is \&quot;%d\&quot;.\n It's preferable as used to run \&quot;alited\&quot; without arguments.\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,chini3)      [msgcat::mc {Choose a directory}]
  <b><font color=#3a6797>set</font></b> al(MC,updateALE)   [msgcat::mc {Updating alited}]
  <b><font color=#3a6797>set</font></b> al(MC,updLab1)     [msgcat::mc <font color=#8b2a0e>&quot; You are highly recommended to accept\n these changes in order to complete updating:&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,updmnu)      [msgcat::mc {.em files for <font color=#8b2a0e>&quot;Tools&quot;</font>}]
  <b><font color=#3a6797>set</font></b> al(MC,updini)      [msgcat::mc {.ini file for <font color=#8b2a0e>&quot;Templates&quot;</font>}]
  <b><font color=#3a6797>set</font></b> al(MC,updLab2)     [msgcat::mc { Your previous files will be saved to:}]

  <i><font color=#4b5d50>## _ misc _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,notes)       [msgcat::mc <font color=#8b2a0e>&quot;Sort of diary.\nList of TODOs etc.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,checktcl)    [msgcat::mc {Check Tcl}]
  <b><font color=#3a6797>set</font></b> al(MC,checktcl...) [msgcat::mc {Check Tcl...}]
  <b><font color=#3a6797>set</font></b> al(MC,colorpicker) [msgcat::mc {Color Picker}]
  <b><font color=#3a6797>set</font></b> al(MC,datepicker)  [msgcat::mc {Date Picker}]
  <b><font color=#3a6797>set</font></b> al(MC,marks)       [msgcat::mc Marks]

  <i><font color=#4b5d50>## _ icons of toolbar _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,icofile)     [msgcat::mc <font color=#8b2a0e>&quot;Create a file\nCtrl+N&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoOpenFile) [msgcat::mc <font color=#8b2a0e>&quot;Open a file\nCtrl+O&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoSaveFile) [msgcat::mc {Save the file}]
  <b><font color=#3a6797>set</font></b> al(MC,icosaveall)  [msgcat::mc <font color=#8b2a0e>&quot;Save all files\nCtrl+Shift+S&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icohelp)     [msgcat::mc <font color=#8b2a0e>&quot;Tcl/Tk help on the selection\nF1&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoreplace)  [msgcat::mc <font color=#8b2a0e>&quot;Find / Replace\nCtrl+F&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icook)       <font color=#1b1baa>$al(MC,checktcl)</font>
  <b><font color=#3a6797>set</font></b> al(MC,icocolor)    <font color=#1b1baa>$al(MC,colorpicker)</font>
  <b><font color=#3a6797>set</font></b> al(MC,icodate)     <font color=#1b1baa>$al(MC,datepicker)</font>
  <b><font color=#3a6797>set</font></b> al(MC,icoother)    Tkcon
  <b><font color=#3a6797>set</font></b> al(MC,icorun)      [msgcat::mc {Run the file}]
  <b><font color=#3a6797>set</font></b> al(MC,icoe_menu)   [msgcat::mc {Run e_menu}]
  <b><font color=#3a6797>set</font></b> al(MC,icoundo)     [msgcat::mc <font color=#8b2a0e>&quot;Undo changes\nCtrl+Z&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoredo)     [msgcat::mc <font color=#8b2a0e>&quot;Redo changes\nCtrl+Shift+Z&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icobox)      [msgcat::mc Projects]

  <i><font color=#4b5d50>## _ find units _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,findunit)    [msgcat::mc <font color=#8b2a0e>&quot;Use glob patterns to find units' declarations\ne.g. \&quot;s*rt\&quot; would find \&quot;start\&quot; and \&quot;insert\&quot;.\nThe letter case is ignored.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,notfndunit)  [msgcat::mc {Unit not found: %u}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::open_files_and_raise'>open_files_and_raise</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files of CLI.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>open_files_and_raise</span> <span class='ruff_arg'>iin ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>iin</code></code></td><td class='ruff_defitem'>count of call</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of file names</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::bar::FillBar" title="bar::FillBar" class='ruff_cmd'>bar::FillBar</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_open_files_and_raise' href="javascript:toggleSource('alited_open_files_and_raise')">Show source</a></p>
<div id='alited_open_files_and_raise' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::open_files_and_raise {iin args} {
  <i><font color=#4b5d50># Opens files of CLI.</font></i>
  <i><font color=#4b5d50>#   iin - count of call</font></i>
  <i><font color=#4b5d50>#   args - list of file names</font></i>
  <i><font color=#4b5d50># See also: bar::FillBar</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iin</font>&lt;10} {
    <i><font color=#4b5d50># let the tab bar be filled first</font></i>
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists ::alited::al(BID)]} {
      <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after 1000 [<b><font color=#3a6797>list</font></b> ::alited::open_files_and_raise [<b><font color=#3a6797>incr</font></b> iin] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]]
      <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>foreach</font></b> fname [<b><font color=#3a6797>lreverse</font></b> <font color=#1b1baa>$args</font>] {
      <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$fname</font> <font color=#8b2a0e>&quot;\&quot;\{\}&quot;</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isfile <font color=#1b1baa>$fname</font>]} {
        file::OpenFile <font color=#1b1baa>$fname</font> yes
      } <b><font color=#3a6797>else</font></b> {
        Balloon1 <font color=#1b1baa>$fname</font>
        file::NewFile <font color=#1b1baa>$fname</font>
      }
    }
  }
  raise_window
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::PrinterRun'>PrinterRun</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Project Printer&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PrinterRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_PrinterRun' href="javascript:toggleSource('alited_PrinterRun')">Show source</a></p>
<div id='alited_PrinterRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::PrinterRun {} {
  <i><font color=#4b5d50># Runs &quot;Project Printer&quot;.</font></i>

  ScriptSource printer
  printer::_run
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ProcEOL'>ProcEOL</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms \n to &quot;EOL chars&quot; and vise versa.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcEOL</span> <span class='ruff_arg'>val mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>string to transform</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;in&quot;, gets \n-valued; if &quot;out&quot;, gets EOL-valued.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ProcEOL' href="javascript:toggleSource('alited_ProcEOL')">Show source</a></p>
<div id='alited_ProcEOL' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ProcEOL {val mode} {
  <i><font color=#4b5d50># Transforms \n to &quot;EOL chars&quot; and vise versa.</font></i>
  <i><font color=#4b5d50>#   val - string to transform</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;in&quot;, gets \n-valued; if &quot;out&quot;, gets EOL-valued.</font></i>

  <b><font color=#3a6797>variable</font></b> EOL
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq {in}} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$EOL</font> \n] <font color=#1b1baa>$val</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n <font color=#1b1baa>$EOL</font>] <font color=#1b1baa>$val</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ProcessFiles'>ProcessFiles</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes files according to Selected/All choice.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcessFiles</span> <span class='ruff_arg'>procname what</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>procname</code></code></td><td class='ruff_defitem'>name of command to run on files (TID passed)</td></tr>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>what to process: 1 - selected, 2 - all</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns numbers of all and processed files.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::SessionList" title="SessionList" class='ruff_cmd'>SessionList</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ProcessFiles' href="javascript:toggleSource('alited_ProcessFiles')">Show source</a></p>
<div id='alited_ProcessFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ProcessFiles {procname what} {
  <i><font color=#4b5d50># Processes files according to Selected/All choice.</font></i>
  <i><font color=#4b5d50>#   procname - name of command to run on files (TID passed)</font></i>
  <i><font color=#4b5d50>#   what - what to process: 1 - selected, 2 - all</font></i>
  <i><font color=#4b5d50># Returns numbers of all and processed files.</font></i>
  <i><font color=#4b5d50># See also: SessionList</font></i>

  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>set</font></b> all [<b><font color=#3a6797>set</font></b> processed 0]
  <b><font color=#3a6797>foreach</font></b> tab [alited::SessionList <font color=#1b1baa>$what</font>] {
    <b><font color=#3a6797>incr</font></b> all
    <b><font color=#3a6797>incr</font></b> processed [<font color=#1b1baa>$procname</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]]
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$all</font> <font color=#1b1baa>$processed</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::raise_window'>raise_window</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Raises the app's window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>raise_window</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_raise_window' href="javascript:toggleSource('alited_raise_window')">Show source</a></p>
<div id='alited_raise_window' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::raise_window {} {
  <i><font color=#4b5d50># Raises the app's window.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#134070>wm</font></b> withdraw <font color=#1b1baa>$al(WIN)</font>
    <b><font color=#134070>wm</font></b> deiconify <font color=#1b1baa>$al(WIN)</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::RestoreRunOptions'>RestoreRunOptions</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores options of &quot;Run...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreRunOptions</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_RestoreRunOptions' href="javascript:toggleSource('alited_RestoreRunOptions')">Show source</a></p>
<div id='alited_RestoreRunOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::RestoreRunOptions {} {
  <i><font color=#4b5d50># Restores options of &quot;Run...&quot; dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al(_SavedRunOptions_)</font>  al(prjincons) al(comForce) al(comForceLs) al(comForceCh) al(prjbeforerun)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Run'>Run</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Tcl/Tk script.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Run</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>script's name and arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Run' href="javascript:toggleSource('alited_Run')">Show source</a></p>
<div id='alited_Run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Run {args} {
  <i><font color=#4b5d50># Runs Tcl/Tk script.</font></i>
  <i><font color=#4b5d50>#   args - script's name and arguments</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> trimright <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>args&quot;</font> &]
  <b><font color=#3a6797>if</font></b> {{TEST_ALITED} in <font color=#1b1baa>$args</font>} {
    <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> { TEST_ALITED} {}] <font color=#1b1baa>$com</font>]
    <b><font color=#3a6797>puts</font></b> [Tclexe]\ <font color=#1b1baa>$com</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$args</font> <font color=#6c3e67>-dir</font>]]&gt;=0} {
    <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> [<b><font color=#3a6797>incr</font></b> i]]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> dir <font color=#1b1baa>$al(prjroot)</font>
  }
  <b><font color=#3a6797>set</font></b> curdir [<b><font color=#3a6797>pwd</font></b>]
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>cd</font></b> <font color=#1b1baa>$dir</font>}
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>pid</font></b> [<b><font color=#3a6797>open</font></b> |[<b><font color=#3a6797>list</font></b> [Tclexe] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$com</font>]]]
  <b><font color=#3a6797>cd</font></b> <font color=#1b1baa>$curdir</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run_remote'>run_remote</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a command that was started by another process.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>run_remote</span> <span class='ruff_arg'>cmd ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cmd</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_remote' href="javascript:toggleSource('alited_run_remote')">Show source</a></p>
<div id='alited_run_remote' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run_remote {cmd args} {
  <i><font color=#4b5d50># Runs a command that was started by another process.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> { <font color=#1b1baa>$cmd</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font> } err]} {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$err</font>
    <b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> error
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Runtime'>Runtime</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Tcl/Tk script by alited's Tcl/Tk runtime.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Runtime</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>script's name and arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Runtime' href="javascript:toggleSource('alited_Runtime')">Show source</a></p>
<div id='alited_Runtime' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Runtime {args} {
  <i><font color=#4b5d50># Runs Tcl/Tk script by alited's Tcl/Tk runtime.</font></i>
  <i><font color=#4b5d50>#   args - script's name and arguments</font></i>

  <b><font color=#3a6797>exec</font></b> -- [<b><font color=#3a6797>info</font></b> nameofexecutable] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font> &
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::SaveRunOptions'>SaveRunOptions</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves options of &quot;Run...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveRunOptions</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_SaveRunOptions' href="javascript:toggleSource('alited_SaveRunOptions')">Show source</a></p>
<div id='alited_SaveRunOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::SaveRunOptions {} {
  <i><font color=#4b5d50># Saves options of &quot;Run...&quot; dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>set</font></b> al(_SavedRunOptions_) [<b><font color=#3a6797>list</font></b>  <font color=#1b1baa>$al(prjincons)</font> <font color=#1b1baa>$al(comForce)</font> <font color=#1b1baa>$al(comForceLs)</font> <font color=#1b1baa>$al(comForceCh)</font> <font color=#1b1baa>$al(prjbeforerun)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ScriptSource'>ScriptSource</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sources script.tcl (at need).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ScriptSource</span> <span class='ruff_arg'>script</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>script</code></code></td><td class='ruff_defitem'>the script name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ScriptSource' href="javascript:toggleSource('alited_ScriptSource')">Show source</a></p>
<div id='alited_ScriptSource' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ScriptSource {script} {
  <i><font color=#4b5d50># Sources script.tcl (at need).</font></i>
  <i><font color=#4b5d50>#   script - the script name</font></i>

  <b><font color=#3a6797>variable</font></b> SRCDIR
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands ::alited::<font color=#1b1baa>${script}</font>::_run] eq {}} {
    <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$SRCDIR</font> <font color=#1b1baa>$script</font>.tcl]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::SessionList'>SessionList</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of all tabs or selected tabs (if set).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SessionList</span> <span class='ruff_arg'>?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>0 get selected or all, 1 force selected, 2 force all; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of all tabs or selected tabs (if set).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_SessionList' href="javascript:toggleSource('alited_SessionList')">Show source</a></p>
<div id='alited_SessionList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::SessionList {{mode 0}} {
  <i><font color=#4b5d50># Returns a list of all tabs or selected tabs (if set).</font></i>
  <i><font color=#4b5d50>#   mode - 0 get selected or all, 1 force selected, 2 force all</font></i>

  <b><font color=#3a6797>set</font></b> res [alited::bar::BAR listFlag s]
  <b><font color=#3a6797>if</font></b> {(!<font color=#1b1baa>$mode</font> && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>]==1) || <font color=#1b1baa>$mode</font>==2} {
    <b><font color=#3a6797>set</font></b> res [alited::bar::BAR listTab]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::SessionTclList'>SessionTclList</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of all tabs or selected tabs of .tcl files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SessionTclList</span> <span class='ruff_arg'>?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>0 get selected or all, 1 force selected, 2 force all; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of all tabs or selected tabs of .tcl files.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_SessionTclList' href="javascript:toggleSource('alited_SessionTclList')">Show source</a></p>
<div id='alited_SessionTclList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::SessionTclList {{mode 0}} {
  <i><font color=#4b5d50># Returns a list of all tabs or selected tabs of .tcl files.</font></i>
  <i><font color=#4b5d50>#   mode - 0 get selected or all, 1 force selected, 2 force all</font></i>

  <b><font color=#3a6797>set</font></b> ltabs [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tab [alited::SessionList <font color=#1b1baa>$mode</font>] {
    <b><font color=#3a6797>if</font></b> {[alited::isTclScript <font color=#1b1baa>$tab</font>]} {
      <b><font color=#3a6797>lappend</font></b> ltabs <font color=#1b1baa>$tab</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ltabs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Source_e_menu'>Source_e_menu</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sources e_menu.tcl at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Source_e_menu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Source_e_menu' href="javascript:toggleSource('alited_Source_e_menu')">Show source</a></p>
<div id='alited_Source_e_menu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Source_e_menu {} {
  <i><font color=#4b5d50># Sources e_menu.tcl at need.</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists ::em::geometry]} {
    <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::e_menu_dir</font> e_menu.tcl]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::SyntaxColors'>SyntaxColors</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets colors for syntax highlighting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SyntaxColors</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_SyntaxColors' href="javascript:toggleSource('alited_SyntaxColors')">Show source</a></p>
<div id='alited_SyntaxColors' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::SyntaxColors {} {
  <i><font color=#4b5d50># Gets colors for syntax highlighting.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>foreach</font></b> nam [::hl_tcl::hl_colorNames] {<b><font color=#3a6797>lappend</font></b> colors <font color=#1b1baa>$al(ED,$nam)</font>}
  <b><font color=#3a6797>lassign</font></b> [::hl_tcl::addingColors] clrCURL clrCMN2
  <b><font color=#3a6797>lappend</font></b> colors <font color=#1b1baa>$clrCURL</font> <font color=#1b1baa>$clrCMN2</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$colors</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::SyntaxHighlight'>SyntaxHighlight</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a text being syntax highlighted.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SyntaxHighlight</span> <span class='ruff_arg'>lng wtxt colors ?cs? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lng</code></code></td><td class='ruff_defitem'>language (tcl, c)</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>colors</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
<tr><td class='ruff_defitem'><code><code>cs</code></code></td><td class='ruff_defitem'>color scheme; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>other options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_SyntaxHighlight' href="javascript:toggleSource('alited_SyntaxHighlight')">Show source</a></p>
<div id='alited_SyntaxHighlight' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::SyntaxHighlight {lng wtxt colors {cs {}} args} {
  <i><font color=#4b5d50># Makes a text being syntax highlighted.</font></i>
  <i><font color=#4b5d50>#   lng - language (tcl, c)</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   colors - highlighting colors</font></i>
  <i><font color=#4b5d50>#   cs - color scheme</font></i>
  <i><font color=#4b5d50>#   args - other options</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cs</font> eq {}} {<b><font color=#3a6797>set</font></b> cs [obj csCurrent]}
  ::hl_<font color=#1b1baa>${lng}</font>::hl_init <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-dark</font> [obj csDark <font color=#1b1baa>$cs</font>] <font color=#6c3e67>-colors</font> <font color=#1b1baa>$colors</font>  <font color=#6c3e67>-multiline</font> 1 <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-cmdpos</font> ::apave::None <font color=#6c3e67>-dobind</font> yes {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
  ::hl_<font color=#1b1baa>${lng}</font>::hl_text <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Tclexe'>Tclexe</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets Tcl's executable file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tclexe</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Tclexe' href="javascript:toggleSource('alited_Tclexe')">Show source</a></p>
<div id='alited_Tclexe' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Tclexe {} {
  <i><font color=#4b5d50># Gets Tcl's executable file.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,Tcl)</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(IsWindows)</font>} {
      <i><font color=#4b5d50># important: refer to tclsh (not wish), to run it in Windows console</font></i>
      <i><font color=#4b5d50># though not good for deployed Tcl/Tk 8.6-</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> tclexe [::apave::autoexec tclsh .exe]] eq {}} {
        <b><font color=#3a6797>set</font></b> tclexe [<b><font color=#3a6797>info</font></b> nameofexecutable]
      }
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> tclexe [<b><font color=#3a6797>info</font></b> nameofexecutable]
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tclexe <font color=#1b1baa>$al(EM,Tcl)</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tclexe</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::TextIcon'>TextIcon</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a picture from a character and vice versa.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TextIcon</span> <span class='ruff_arg'>ico ?to?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ico</code></code></td><td class='ruff_defitem'>picture or character</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>&quot;in&quot; gets in-chars, &quot;out&quot; gets out-chars; <i>optional, default</i> <code>out</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_TextIcon' href="javascript:toggleSource('alited_TextIcon')">Show source</a></p>
<div id='alited_TextIcon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::TextIcon {ico {to out}} {
  <i><font color=#4b5d50># Gets a picture from a character and vice versa.</font></i>
  <i><font color=#4b5d50>#   ico - picture or character</font></i>
  <i><font color=#4b5d50>#   to - &quot;in&quot; gets in-chars, &quot;out&quot; gets out-chars</font></i>

  <b><font color=#3a6797>set</font></b> in [<b><font color=#3a6797>list</font></b> 0 1 2 3 4 5 6 7 8 9 & ~ = @]
  <b><font color=#3a6797>set</font></b> out [<b><font color=#3a6797>list</font></b> ∀ ∃ ∏ ∑ ⁂ ⊍ ⋀ ⋁ ⋈ ⋒ ⌗ ⌛ ⌬ ⏏]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {out}} {
    <b><font color=#3a6797>set</font></b> lfrom <font color=#1b1baa>$in</font>
    <b><font color=#3a6797>set</font></b> lto <font color=#1b1baa>$out</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> lfrom <font color=#1b1baa>$out</font>
    <b><font color=#3a6797>set</font></b> lto <font color=#1b1baa>$in</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$lfrom</font> <font color=#1b1baa>$ico</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> tico [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$lto</font> <font color=#1b1baa>$i</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tico <font color=#1b1baa>$ico</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tico</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::TipMessage'>TipMessage</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a tip on status message and clears the status message.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TipMessage</span> <span class='ruff_arg'>lab tip</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lab</code></code></td><td class='ruff_defitem'>message label's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>text of tip</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_TipMessage' href="javascript:toggleSource('alited_TipMessage')">Show source</a></p>
<div id='alited_TipMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::TipMessage {lab tip} {
  <i><font color=#4b5d50># Shows a tip on status message and clears the status message.</font></i>
  <i><font color=#4b5d50>#   lab - message label's path</font></i>
  <i><font color=#4b5d50>#   tip - text of tip</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tip</font> ne {}} {<font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-text</font> {}}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::TmpFile'>TmpFile</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a temporary file's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TmpFile</span> <span class='ruff_arg'>tname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tname</code></code></td><td class='ruff_defitem'>tailing part of the name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_TmpFile' href="javascript:toggleSource('alited_TmpFile')">Show source</a></p>
<div id='alited_TmpFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::TmpFile {tname} {
  <i><font color=#4b5d50># Gets a temporary file's name.</font></i>
  <i><font color=#4b5d50>#   tname - tailing part of the name</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(EM,mnudir)</font> <font color=#1b1baa>$tname</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Tnext'>Tnext</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns &quot;next &amp; prev widgets&quot; for Tab &amp; Shift/Tab keys, just to skip &quot;Help&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tnext</span> <span class='ruff_arg'>?wprev?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wprev</code></code></td><td class='ruff_defitem'>widget for Shift/Tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Used by obPrf &amp; obPrj objects.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;next &amp; prev widgets&quot; for Tab &amp; Shift/Tab keys, just to skip &quot;Help&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_Tnext' href="javascript:toggleSource('alited_Tnext')">Show source</a></p>
<div id='alited_Tnext' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Tnext {{wprev {}}} {
  <i><font color=#4b5d50># Returns &quot;next & prev widgets&quot; for Tab & Shift/Tab keys, just to skip &quot;Help&quot;.</font></i>
  <i><font color=#4b5d50>#   wprev - widget for Shift/Tab</font></i>
  <i><font color=#4b5d50># Used by obPrf & obPrj objects.</font></i>

  <b><font color=#3a6797>list</font></b> *.ButOK <font color=#1b1baa>$wprev</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::about'></a>::alited::about<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::about-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::about'>about</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::about::About'>About</a><span class='ns_scope'> [<a href="alited.html#::alited::about" title="::alited::about" class='ruff_cmd'>::alited::about</a>]</span><span class='tinylink'><a href='alited.html#::alited::about'>about</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows &quot;About&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>About</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_about_About' href="javascript:toggleSource('alited_about_About')">Show source</a></p>
<div id='alited_about_About' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::about::About {} {
  <i><font color=#4b5d50># Shows &quot;About&quot; dialogue.</font></i>

  <i><font color=#4b5d50># alited_checked</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DIR DIR
  <b><font color=#3a6797>variable</font></b> textTags

  <i><font color=#4b5d50>## ________________________ Preparing tabs _________________________ ##</font></i>

  ::alited::Source_e_menu
  ::alited::edit::MacroInit
  <b><font color=#3a6797>lassign</font></b> [obj csGet] fg fg2 bg bg2 - bS fS
  ::apave::InitAwThemesPath <font color=#1b1baa>$::alited::LIBDIR</font>
  <b><font color=#3a6797>foreach</font></b> _ {alited apave bartabs baltip hl_tcl playtkl} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> v<font color=#1b1baa>$_</font> v[<b><font color=#3a6797>package</font></b> versions <font color=#1b1baa>$_</font>]] eq {v}  && [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> v<font color=#1b1baa>$_</font> v[<b><font color=#3a6797>package</font></b> require <font color=#1b1baa>$_</font>]}]} {
      <b><font color=#3a6797>set</font></b> v<font color=#1b1baa>$_</font> {}
    }
  }
  <b><font color=#3a6797>set</font></b> font [obj csFontDef]
  obj initLinkFont {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$font</font> <font color=#6c3e67>-underline</font> 1 <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg2</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$bg2</font>
  <b><font color=#3a6797>append</font></b> font <font color=#8b2a0e>&quot; -weight bold&quot;</font>

  <i><font color=#4b5d50>### ________________________ Tags and links _________________________ ###</font></i>

  <b><font color=#3a6797>set</font></b> textTags [<b><font color=#3a6797>list</font></b>  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;red&quot;</font> <font color=#8b2a0e>&quot;-font <font color=#1b1baa>{$</font>font<font color=#1b1baa>}</font> -foreground <font color=#1b1baa>$</font>fS -background <font color=#1b1baa>$</font>bS&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link1&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://%l@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link2&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/recent@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkapl&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/aplsimple/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkCN&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://www.nemethi.de/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkSH&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Steve+Huntley@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkHE&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/HE@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkRD&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/rdbende@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkPO&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Paul+Obermeier@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkPW&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/PW@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkRK&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://rkeene.org/projects/info@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkMIT&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://en.wikipedia.org/wiki/MIT_License@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkJS&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Jeff+Smith@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkRS&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@http://wiki.tcl-lang.org/page/Richard+Suchenwirth@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkAN&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://www.magicsplat.com/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkDF&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Donal+Fellows@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkJO&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://www.johann-oberdorfer.eu/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkTW&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/phase1geo@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkCM&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Colin+Macleod@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkDB&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/dbohdan&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkDG&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Detlef+Groth&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkPY&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Poor+Yorick&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkMH&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Matthias+Hoffmann&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkNB&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/sl1200mk2@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkTZ&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/thanoulis@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkCW&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/chw@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkAK&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Andreas+Kupries@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkAG&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Andy+Goth@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkDA&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/ray2501@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkET&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/eht16&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-apave&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/pave&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-e_menu&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/e_menu&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-baltip&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/baltip/baltip.html&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-bartabs&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/bartabs&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-hl_tcl&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/hl_tcl/hl_tcl.html&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-aloupe&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/aloupe/aloupe.html&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-playtkl&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/playtkl/playtkl.html&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-tkcc&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/tcl/tkcc&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-repl&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/apnadkarni/tcl-repl&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-ale_themes&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/aplsimple/ale_themes&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link-tkcon&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Tkcon&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;link_&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://aplsimple.github.io/en/misc/links/links.html@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkRH&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@http://www.hwaci.com/drh/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkBL&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/bll@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkFF&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/FF@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkSS&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/antirez@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkML&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Martin+Lemburg@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkDN&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/par7133@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkAM&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://en.wikipedia.org/wiki/Argentina@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkHO&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://wiki.tcl-lang.org/page/Harald+Oehlmann@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkJM&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/jgm@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkJN&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/johannish@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkGN&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/gregnix@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;linkGR&quot;</font> <font color=#8b2a0e>&quot;openDoc %t@@https://github.com/georgtree@@&quot;</font>]  ]

  <i><font color=#4b5d50>### ________________________ &quot;General&quot; tab _________________________ ###</font></i>

  <b><font color=#3a6797>set</font></b> head <font color=#8b2a0e>&quot;alited <font color=#1b1baa>$</font>valited&quot;</font>
  <b><font color=#3a6797>set</font></b> clog [readTextFile [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DIR</font> CHANGELOG.md]]
  <b><font color=#3a6797>foreach</font></b> line [textsplit <font color=#1b1baa>$clog</font>] {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {Version `.+(\(.+\))`} <font color=#1b1baa>$line</font>] -&gt; line
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> ne {}} {
      <b><font color=#3a6797>append</font></b> head <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>line&quot;</font>
      <b><font color=#ca14ca>break</font></b>
    }
  }

  <b><font color=#3a6797>set</font></b> long1 [msgcat::mc {And well fit for programming with it.}]
  <b><font color=#3a6797>set</font></b> long2 __________________________________________
  <b><font color=#3a6797>set</font></b> long3 [<b><font color=#3a6797>file</font></b> nativename [<b><font color=#3a6797>info</font></b> nameofexecutable]]
  <b><font color=#3a6797>set</font></b> msg <font color=#8b2a0e>&quot;  &lt;red&gt;<font color=#1b1baa>$</font>head&lt;/red&gt;, a lite editor.\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Written in pure Tcl/Tk.<font color=#1b1baa>}]</font> \n  <font color=#1b1baa>$</font>long1\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Details:<font color=#1b1baa>}]</font> \n\n  \u2022 &lt;link1&gt;aplsimple.github.io/en/tcl/alited&lt;/link1&gt;\n  \u2022 &lt;link1&gt;github.com/aplsimple/alited&lt;/link1&gt;\n  \u2022 &lt;link1&gt;chiselapp.com/user/aplsimple/repository/alited&lt;/link1&gt;\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Authors:<font color=#1b1baa>}]</font> \n\n  \u2022 &lt;linkapl&gt;Alex Plotnikov&lt;/linkapl&gt;\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>License:<font color=#1b1baa>}]</font> &lt;linkMIT&gt;MIT&lt;/linkMIT&gt;\n  <font color=#1b1baa>$</font>long2\n  \n  &lt;red&gt; <font color=#1b1baa>$</font>long3 &lt;/red&gt;\n  \n  &lt;red&gt; Tcl/Tk <font color=#1b1baa>$</font>::alited::tcltk_version &lt;/red&gt; &lt;link2&gt;&lt;/link2&gt;\n  \n  &lt;red&gt; <font color=#1b1baa>$</font>::tcl_platform(os) <font color=#1b1baa>$</font>::tcl_platform(osVersion) &lt;/red&gt;&quot;</font>

  <i><font color=#4b5d50>### ________________________ &quot;Packages&quot; tab _________________________ ###</font></i>

  <b><font color=#3a6797>set</font></b> packages [msgcat::mc {Packages used by &lt;red&gt;alited %ver&lt;/red&gt;:}]
  <b><font color=#3a6797>set</font></b> packages [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %ver <font color=#1b1baa>$valited</font>] <font color=#1b1baa>$packages</font>]
  <b><font color=#3a6797>set</font></b> vemenu   v[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$::em::em_version</font> 1]
  <b><font color=#3a6797>set</font></b> ::alited::AboutPack <font color=#8b2a0e>&quot;\n <font color=#1b1baa>$</font>packages\n\n  \u2022 &lt;link-apave&gt;apave <font color=#1b1baa>$</font>vapave&lt;/link-apave&gt;\n\n  \u2022 &lt;link-e_menu&gt;e_menu <font color=#1b1baa>$</font>vemenu&lt;/link-e_menu&gt;\n\n  \u2022 &lt;link-ale_themes&gt;ale_themes&lt;/link-ale_themes&gt;\n\n  \u2022 &lt;link-baltip&gt;baltip <font color=#1b1baa>$</font>vbaltip&lt;/link-baltip&gt;\n\n  \u2022 &lt;link-bartabs&gt;bartabs <font color=#1b1baa>$</font>vbartabs&lt;/link-bartabs&gt;\n\n  \u2022 &lt;link-hl_tcl&gt;hl_tcl <font color=#1b1baa>$</font>vhl_tcl&lt;/link-hl_tcl&gt;\n\n  \u2022 &lt;link-aloupe&gt;aloupe v1.8.1&lt;/link-aloupe&gt;\n\n  \u2022 &lt;link-playtkl&gt;playtkl <font color=#1b1baa>$</font>vplaytkl&lt;/link-playtkl&gt;\n\n  \u2022 &lt;link-tkcc&gt;tkcc&lt;/link-tkcc&gt;\n\n  \u2022 &lt;link-repl&gt;tcl-repl&lt;/link-repl&gt;\n\n  \u2022 &lt;link-tkcon&gt;tkcon v2.7&lt;/link-tkcon&gt;\n  \n menus/*.em v<font color=#1b1baa>$</font>al(MNUversion)  \n alited.ini v<font color=#1b1baa>$</font>al(INIversion)&quot;</font>

  <i><font color=#4b5d50>### ________________________ &quot;Acknowledgements&quot; tab _________________________ ###</font></i>

  <b><font color=#3a6797>set</font></b> ackn [msgcat::mc <font color=#8b2a0e>&quot;Many thanks to the following people  \n who have contributed to this project  \n with their participation, advice and code&quot;</font>]
  <b><font color=#3a6797>set</font></b> spec [msgcat::mc <font color=#8b2a0e>&quot;Special thanks also to&quot;</font>]
  <b><font color=#3a6797>set</font></b> ::alited::AboutAckn <font color=#8b2a0e>&quot;\n <font color=#1b1baa>$</font>ackn\n\n  \u2022 &lt;linkSH&gt;Steve Huntley&lt;/linkSH&gt;\n  \u2022 &lt;linkHE&gt;Holger Ewert&lt;/linkHE&gt;\n  \u2022 &lt;linkCN&gt;Csaba Nemethi&lt;/linkCN&gt;\n  \u2022 &lt;linkPO&gt;Paul Obermeier&lt;/linkPO&gt;\n  \u2022 &lt;linkAN&gt;Ashok P. Nadkarni&lt;/linkAN&gt;\n  \u2022 &lt;linkRD&gt;rdbende&lt;/linkRD&gt;\n  \u2022 &lt;linkBL&gt;Brad Lanam&lt;/linkBL&gt;\n  \u2022 &lt;linkPW&gt;Paul Walton&lt;/linkPW&gt;\n  \u2022 &lt;linkJO&gt;Johann Oberdorfer&lt;/linkJO&gt;\n  \u2022 &lt;linkRS&gt;Richard Suchenwirth&lt;/linkRS&gt;\n  \u2022 &lt;linkCW&gt;Christian Werner&lt;/linkCW&gt;\n  \u2022 &lt;linkNB&gt;Nicolas Bats&lt;/linkNB&gt;\n  \u2022 &lt;linkTZ&gt;Thanos Zygouris&lt;/linkTZ&gt;\n  \u2022 &lt;linkFF&gt;Federico Ferri&lt;/linkFF&gt;\n  \u2022 &lt;linkSS&gt;Salvatore Sanfilippo&lt;/linkSS&gt;\n  \u2022 &lt;linkML&gt;Martin Lemburg&lt;/linkML&gt;\n  \u2022 &lt;linkDN&gt;Daniele Bonini&lt;/linkDN&gt;\n  \u2022 &lt;linkAM&gt;Alexis Martin&lt;/linkAM&gt;\n  \u2022 &lt;linkJN&gt;Johann&lt;/linkJN&gt;\n  \u2022 &lt;linkGN&gt;Gregor&lt;/linkGN&gt;\n  \u2022 &lt;linkGR&gt;George&lt;/linkGR&gt;\n  \n <font color=#1b1baa>$</font>spec\n\n  \u2022 &lt;linkTW&gt;Trevor Williams&lt;/linkTW&gt;\n  \u2022 &lt;linkDF&gt;Donal K. Fellows&lt;/linkDF&gt;\n  \u2022 &lt;linkJS&gt;Jeff Smith&lt;/linkJS&gt;\n  \u2022 &lt;linkRK&gt;Roy Keene&lt;/linkRK&gt;\n  \u2022 &lt;linkDB&gt;D. Bohdan&lt;/linkDB&gt;\n  \u2022 &lt;linkDG&gt;Detlef Groth&lt;/linkDG&gt;\n  \u2022 &lt;linkCM&gt;Colin Macleod&lt;/linkCM&gt;\n  \u2022 &lt;linkPY&gt;Nathan Coulter&lt;/linkPY&gt;\n  \u2022 &lt;linkAK&gt;Andreas Kupries&lt;/linkAK&gt;\n  \u2022 &lt;linkRH&gt;D. Richard Hipp&lt;/linkRH&gt;\n  \u2022 &lt;linkMH&gt;Matthias Hoffmann&lt;/linkMH&gt;\n  \u2022 &lt;linkAG&gt;Andy Goth&lt;/linkAG&gt;\n  \u2022 &lt;linkDA&gt;Danilo Chang&lt;/linkDA&gt;\n  \u2022 &lt;linkET&gt;Enrico Troeger&lt;/linkET&gt;\n  \u2022 &lt;linkHO&gt;Harald Oehlmann&lt;/linkHO&gt;\n  \u2022 &lt;linkJM&gt;John MacFarlane&lt;/linkJM&gt;\n  \n &lt;link_&gt;Excuse my memory if I omitted someone's name.&lt;/link_&gt;\n&quot;</font>

  <i><font color=#4b5d50>### ________________________ Combining tabs _________________________ ###</font></i>

  <b><font color=#3a6797>set</font></b> wmax [<b><font color=#3a6797>expr</font></b> {4+max([<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$long1</font>],  [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$long2</font>],[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$long3</font>])}]
  <b><font color=#3a6797>set</font></b> tab2 [<b><font color=#3a6797>list</font></b> General Packages <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>fra - - 1 99 <font color=#1b1baa>{</font>-st nsew -rw 1 -cw 1<font color=#1b1baa>}}</font>  <font color=#1b1baa>{</font>.TexPack - - - - <font color=#1b1baa>{</font>pack -side left -expand 1 -fill both<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-w <font color=#1b1baa>$</font>wmax -h 31  -rotext ::alited::AboutPack -tags ::alited::about::textTags<font color=#1b1baa>}}</font>&quot;</font>  Acknowledgements <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>fra - - 1 99 <font color=#1b1baa>{</font>-st nsew -rw 1 -cw 1<font color=#1b1baa>}}</font>  <font color=#1b1baa>{</font>.TexAckn - - - - <font color=#1b1baa>{</font>pack -side left -expand 1 -fill both<font color=#1b1baa>}</font>  <font color=#1b1baa>{</font>-w <font color=#1b1baa>$</font>wmax -h 34 -rotext ::alited::AboutAckn -tags ::alited::about::textTags<font color=#1b1baa>}}</font>  <font color=#1b1baa>{</font>.sbv .texAckn L - - <font color=#1b1baa>{</font>pack -side right<font color=#1b1baa>}}</font>&quot;</font>]

  <i><font color=#4b5d50>## ________________________ Change default options _________________________ ##</font></i>

  <i><font color=#4b5d50># invert link colors</font></i>
  <b><font color=#3a6797>set</font></b> aopts <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>-fg <font color=#1b1baa>$</font>::apave::FGMAIN -bg <font color=#1b1baa>$</font>::apave::BGMAIN<font color=#1b1baa>}</font>&quot;</font>
  obj untouchWidgets <font color=#8b2a0e>&quot;*.texM <font color=#1b1baa>$</font>aopts&quot;</font> <font color=#8b2a0e>&quot;*.texPack <font color=#1b1baa>$</font>aopts&quot;</font> <font color=#8b2a0e>&quot;*.texAckn <font color=#1b1baa>$</font>aopts&quot;</font>
  <b><font color=#3a6797>lassign</font></b> [obj csGet] fg fg2 bg bg2
  <b><font color=#3a6797>lappend</font></b> textTags <font color=#8b2a0e>&quot;FG <font color=#1b1baa>$</font>fg2&quot;</font> <font color=#8b2a0e>&quot;FG2 <font color=#1b1baa>$</font>fg&quot;</font> <font color=#8b2a0e>&quot;BG <font color=#1b1baa>$</font>bg2&quot;</font> <font color=#8b2a0e>&quot;BG2 <font color=#1b1baa>$</font>bg&quot;</font>

  <i><font color=#4b5d50># tooltips to show in the left & bottom point from the mouse pointer</font></i>
  <b><font color=#3a6797>lassign</font></b> [::baltip cget <font color=#6c3e67>-shiftX</font>] -&gt; shiftX
  ::baltip configure <font color=#6c3e67>-shiftX</font> 10

  <i><font color=#4b5d50>## ________________________ Open dialogue _________________________ ##</font></i>

  ::alited::msg ok {} <font color=#1b1baa>$msg</font>  <font color=#6c3e67>-title</font> [msgcat::mc About] <font color=#6c3e67>-t</font> 1 <font color=#6c3e67>-w</font> <font color=#1b1baa>$wmax</font> <font color=#6c3e67>-h</font> {30 30} <font color=#6c3e67>-scroll</font> 0  <font color=#6c3e67>-tags</font> ::alited::about::textTags <font color=#6c3e67>-my</font> <font color=#8b2a0e>&quot;after idle <font color=#1b1baa>{</font>alited::about::textImaged %w<font color=#1b1baa>}</font>&quot;</font>  <font color=#6c3e67>-tab2</font> <font color=#1b1baa>$tab2</font>

  <i><font color=#4b5d50>## ________________________ Restore defaults _________________________ ##</font></i>

  ::baltip configure <font color=#6c3e67>-shiftX</font> <font color=#1b1baa>$shiftX</font>
  obj touchWidgets *.texM *.texPack *.texAckn
  <b><font color=#3a6797>unset</font></b> <font color=#6c3e67>-nocomplain</font> ::alited::AboutAckn
  <b><font color=#3a6797>unset</font></b> <font color=#6c3e67>-nocomplain</font> ::alited::AboutPack
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::about::textImaged'>textImaged</a><span class='ns_scope'> [<a href="alited.html#::alited::about" title="::alited::about" class='ruff_cmd'>::alited::about</a>]</span><span class='tinylink'><a href='alited.html#::alited::about'>about</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes the feather blink.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>textImaged</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>window's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_about_textImaged' href="javascript:toggleSource('alited_about_textImaged')">Show source</a></p>
<div id='alited_about_textImaged' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::about::textImaged {w} {
  <i><font color=#4b5d50># Makes the feather blink.</font></i>
  <i><font color=#4b5d50>#  w - window's path</font></i>

  obj labelFlashing [obj textLink <font color=#1b1baa>$w</font> 5] <font color=#8b2a0e>&quot;&quot;</font> 1  <font color=#6c3e67>-data</font> <font color=#1b1baa>$::alited::img::_AL_IMG(feather)</font> <font color=#6c3e67>-pause</font> 0.5 <font color=#6c3e67>-incr</font> 0.1 <font color=#6c3e67>-after</font> 40
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::bar'></a>::alited::bar<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::bar-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::bar::BAR'>BAR</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs the tab bar's method.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BAR</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>method's name and its arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_BAR' href="javascript:toggleSource('alited_bar_BAR')">Show source</a></p>
<div id='alited_bar_BAR' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::BAR {args} {
  <i><font color=#4b5d50># Runs the tab bar's method.</font></i>
  <i><font color=#4b5d50>#   args - method's name and its arguments</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> 0] eq {popList}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$args</font>] eq 1} {<b><font color=#3a6797>lappend</font></b> args {} {}}
    <b><font color=#3a6797>lappend</font></b> args <font color=#1b1baa>$al(sortList)</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> 1] eq {cget}} {
    <b><font color=#3a6797>if</font></b> {![al(bts) isTab [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> 0]]} {
      <b><font color=#ca14ca>return</font></b> {} ;<i><font color=#4b5d50># at closing tabs: cget must return &quot;&quot; to &quot;after&quot; proc</font></i>
    }
  }
  <b><font color=#ca14ca>return</font></b> [al(bts) <font color=#1b1baa>$al(BID)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::ColorBar'>ColorBar</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes the bar of tabs to have a &quot;marked tab&quot; color consistent with current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorBar</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_ColorBar' href="javascript:toggleSource('alited_bar_ColorBar')">Show source</a></p>
<div id='alited_bar_ColorBar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::ColorBar {} {
  <i><font color=#4b5d50># Makes the bar of tabs to have a &quot;marked tab&quot; color</font></i>
  <i><font color=#4b5d50># consistent with current color scheme.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> cs [<font color=#1b1baa>$obPav</font> csCurrent]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cs</font>&gt;-1} {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> csGet <font color=#1b1baa>$cs</font>] cfg2 cfg1 cbg2 cbg1 cfhh - - - - - - - - - - - - fgmark
    <i><font color=#4b5d50># %t wildcard means &quot;a tooltip on the list of files&quot;:</font></i>
    BAR configure <font color=#6c3e67>-fgmark</font> <font color=#1b1baa>$fgmark</font> <font color=#6c3e67>-comlist</font> {::alited::bar::SelFile %ID <font color=#8b2a0e>&quot;%t&quot;</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CompareByDate'>CompareByDate</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Compares two tabs by date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CompareByDate</span> <span class='ruff_arg'>t1 t2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>t1</code></code></td><td class='ruff_defitem'>1st tab</td></tr>
<tr><td class='ruff_defitem'><code><code>t2</code></code></td><td class='ruff_defitem'>2nd tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_CompareByDate' href="javascript:toggleSource('alited_bar_CompareByDate')">Show source</a></p>
<div id='alited_bar_CompareByDate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CompareByDate {t1 t2} {
  <i><font color=#4b5d50># Compares two tabs by date.</font></i>
  <i><font color=#4b5d50>#   t1 - 1st tab</font></i>
  <i><font color=#4b5d50>#   t2 - 2nd tab</font></i>

  <b><font color=#3a6797>lassign</font></b> [SortData <font color=#1b1baa>$t1</font>] fname1 - date1
  <b><font color=#3a6797>lassign</font></b> [SortData <font color=#1b1baa>$t2</font>] fname2 - date2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$date1</font> &lt; <font color=#1b1baa>$date2</font>} {
    <b><font color=#3a6797>set</font></b> res -1
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$date1</font> &gt; <font color=#1b1baa>$date2</font>} {
    <b><font color=#3a6797>set</font></b> res 1
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$::alited::al(incdec)</font> eq {increasing}} {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$fname1</font> <font color=#1b1baa>$fname2</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$fname2</font> <font color=#1b1baa>$fname1</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CompareByExtn'>CompareByExtn</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Compares two tabs by extension.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CompareByExtn</span> <span class='ruff_arg'>t1 t2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>t1</code></code></td><td class='ruff_defitem'>1st tab</td></tr>
<tr><td class='ruff_defitem'><code><code>t2</code></code></td><td class='ruff_defitem'>2nd tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_CompareByExtn' href="javascript:toggleSource('alited_bar_CompareByExtn')">Show source</a></p>
<div id='alited_bar_CompareByExtn' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CompareByExtn {t1 t2} {
  <i><font color=#4b5d50># Compares two tabs by extension.</font></i>
  <i><font color=#4b5d50>#   t1 - 1st tab</font></i>
  <i><font color=#4b5d50>#   t2 - 2nd tab</font></i>

  <b><font color=#3a6797>lassign</font></b> [SortData <font color=#1b1baa>$t1</font>] fname1 ext1
  <b><font color=#3a6797>lassign</font></b> [SortData <font color=#1b1baa>$t2</font>] fname2 ext2
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$ext1</font> <font color=#1b1baa>$ext2</font>]]==0} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(incdec)</font> eq {increasing}} {
      <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$fname1</font> <font color=#1b1baa>$fname2</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$fname2</font> <font color=#1b1baa>$fname1</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CompareBySize'>CompareBySize</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Compares two tabs by size.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CompareBySize</span> <span class='ruff_arg'>t1 t2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>t1</code></code></td><td class='ruff_defitem'>1st tab</td></tr>
<tr><td class='ruff_defitem'><code><code>t2</code></code></td><td class='ruff_defitem'>2nd tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_CompareBySize' href="javascript:toggleSource('alited_bar_CompareBySize')">Show source</a></p>
<div id='alited_bar_CompareBySize' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CompareBySize {t1 t2} {
  <i><font color=#4b5d50># Compares two tabs by size.</font></i>
  <i><font color=#4b5d50>#   t1 - 1st tab</font></i>
  <i><font color=#4b5d50>#   t2 - 2nd tab</font></i>

  <b><font color=#3a6797>lassign</font></b> [SortData <font color=#1b1baa>$t1</font>] fname1 - - size1
  <b><font color=#3a6797>lassign</font></b> [SortData <font color=#1b1baa>$t2</font>] fname2 - - size2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$size1</font> &lt; <font color=#1b1baa>$size2</font>} {
    <b><font color=#3a6797>set</font></b> res -1
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$size1</font> &gt; <font color=#1b1baa>$size2</font>} {
    <b><font color=#3a6797>set</font></b> res 1
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$::alited::al(incdec)</font> eq {increasing}} {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$fname1</font> <font color=#1b1baa>$fname2</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$fname2</font> <font color=#1b1baa>$fname1</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::ControlTab'>ControlTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches between last two active tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ControlTab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_ControlTab' href="javascript:toggleSource('alited_bar_ControlTab')">Show source</a></p>
<div id='alited_bar_ControlTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::ControlTab {} {
  <i><font color=#4b5d50># Switches between last two active tabs.</font></i>

  <b><font color=#3a6797>variable</font></b> ctrltablist
  alited::favor::SkipVisited yes
  <b><font color=#3a6797>set</font></b> fname [CurrentControlTab]
  <b><font color=#3a6797>set</font></b> found no
  <b><font color=#3a6797>while</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ctrltablist</font>]} {
    <b><font color=#3a6797>set</font></b> fnext [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$ctrltablist</font> 0]
    <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
      <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnext</font> eq [FileName <font color=#1b1baa>$TID</font>]} {
        <b><font color=#3a6797>set</font></b> found yes
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font>} <b><font color=#ca14ca>break</font></b>
    <i><font color=#4b5d50># if the file was closed, remove it from the ctrl-tabbed</font></i>
    <b><font color=#3a6797>set</font></b> ctrltablist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$ctrltablist</font> 0 0]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font>} {
    CurrentControlTab <font color=#1b1baa>$fname</font>
    BAR <font color=#1b1baa>$TID</font> show
  }
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;focus \[alited::main::CurrentWTXT\]; alited::favor::SkipVisited no&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentControlTab'>CurrentControlTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Keeps a list of last switched files, to switch between last two.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentControlTab</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_CurrentControlTab' href="javascript:toggleSource('alited_bar_CurrentControlTab')">Show source</a></p>
<div id='alited_bar_CurrentControlTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CurrentControlTab {{fname {}}} {
  <i><font color=#4b5d50># Keeps a list of last switched files, to switch between last two.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>variable</font></b> ctrltablist
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ret [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$fname</font> eq {}}]]} {
    <b><font color=#3a6797>set</font></b> fname [FileName]
  }
  ::apave::PushInList ctrltablist <font color=#1b1baa>$fname</font> <font color=#1b1baa>$ret</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentTab'>CurrentTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an attribute of the current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentTab</span> <span class='ruff_arg'>io ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>io</code></code></td><td class='ruff_defitem'>0 to get ID, 1 - short name (tab label), 2 - full name, 3 - index</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_CurrentTab' href="javascript:toggleSource('alited_bar_CurrentTab')">Show source</a></p>
<div id='alited_bar_CurrentTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CurrentTab {io {TID {}}} {
  <i><font color=#4b5d50># Gets an attribute of the current tab.</font></i>
  <i><font color=#4b5d50>#   io - 0 to get ID, 1 - short name (tab label), 2 - full name, 3 - index</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [CurrentTabID]}
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$io</font> {
    0 {<b><font color=#3a6797>set</font></b> res <font color=#1b1baa>$TID</font>}
    1 {<b><font color=#3a6797>set</font></b> res [BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-text</font>]}
    2 {<b><font color=#3a6797>set</font></b> res [FileName <font color=#1b1baa>$TID</font>]}
    3 {<b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 [BAR listTab] <font color=#1b1baa>$TID</font>]}
    <b><font color=#3a6797>default</font></b> {<b><font color=#3a6797>set</font></b> res {}}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentTabID'>CurrentTabID</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID of the current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentTabID</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_CurrentTabID' href="javascript:toggleSource('alited_bar_CurrentTabID')">Show source</a></p>
<div id='alited_bar_CurrentTabID' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CurrentTabID {} {
  <i><font color=#4b5d50># Gets ID of the current tab.</font></i>

  <b><font color=#ca14ca>return</font></b> [BAR cget <font color=#6c3e67>-tabcurrent</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::Detach'>Detach</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an attribute of the current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Detach</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_Detach' href="javascript:toggleSource('alited_bar_Detach')">Show source</a></p>
<div id='alited_bar_Detach' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::Detach {TID} {
  <i><font color=#4b5d50># Gets an attribute of the current tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>set</font></b> TIDs [BAR listFlag s]]]&lt;=1} {
    <b><font color=#3a6797>set</font></b> TIDs <font color=#1b1baa>$TID</font>
  }
  <b><font color=#3a6797>set</font></b> foc [<b><font color=#134070>focus</font></b>]
  <b><font color=#3a6797>foreach</font></b> TID <font color=#1b1baa>$TIDs</font> {
    alited::file::Detach {} <font color=#1b1baa>$TID</font>
  }
  <b><font color=#3a6797>after</font></b> idle after 200 apave::focusByForce <font color=#1b1baa>$foc</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::DisableTabLeft'>DisableTabLeft</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for left tabs to disable &quot;select all at left&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisableTabLeft</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1, if no left tab exists, thus disabling the menu's item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_DisableTabLeft' href="javascript:toggleSource('alited_bar_DisableTabLeft')">Show source</a></p>
<div id='alited_bar_DisableTabLeft' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::DisableTabLeft {tab} {
  <i><font color=#4b5d50># Checks for left tabs to disable &quot;select all at left&quot;.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>
  <i><font color=#4b5d50># Returns 1, if no left tab exists, thus disabling the menu's item.</font></i>

  <b><font color=#3a6797>set</font></b> i [CurrentTab 3 <font color=#1b1baa>$tab</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>} {<b><font color=#ca14ca>return</font></b> 0}
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::DisableTabRight'>DisableTabRight</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for right tabs to disable &quot;select all at right&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisableTabRight</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1, if no right tab exists, thus disabling the menu's item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_DisableTabRight' href="javascript:toggleSource('alited_bar_DisableTabRight')">Show source</a></p>
<div id='alited_bar_DisableTabRight' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::DisableTabRight {tab} {
  <i><font color=#4b5d50># Checks for right tabs to disable &quot;select all at right&quot;.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>
  <i><font color=#4b5d50># Returns 1, if no right tab exists, thus disabling the menu's item.</font></i>

  <b><font color=#3a6797>set</font></b> i [CurrentTab 3 <font color=#1b1baa>$tab</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> &lt; ([<b><font color=#3a6797>llength</font></b> [BAR listTab]]-1)} {<b><font color=#ca14ca>return</font></b> 0}
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FileName'>FileName</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileName</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_FileName' href="javascript:toggleSource('alited_bar_FileName')">Show source</a></p>
<div id='alited_bar_FileName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::FileName {{TID {}}} {
  <i><font color=#4b5d50># Gets a file name of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [CurrentTabID]}
  <b><font color=#3a6797>set</font></b> tip [BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-tip</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tip</font> \n] 0]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FilesTIDs'>FilesTIDs</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a list of pairs &quot;filename &amp; TID&quot;. Useful at massive calls of FileTID proc.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FilesTIDs</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::bar::FileTID" title="FileTID" class='ruff_cmd'>FileTID</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_FilesTIDs' href="javascript:toggleSource('alited_bar_FilesTIDs')">Show source</a></p>
<div id='alited_bar_FilesTIDs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::FilesTIDs {} {
  <i><font color=#4b5d50># Gets a list of pairs &quot;filename & TID&quot;.</font></i>
  <i><font color=#4b5d50># Useful at massive calls of FileTID proc.</font></i>
  <i><font color=#4b5d50># See also: FileTID</font></i>

  <b><font color=#3a6797>set</font></b> filesTIDs [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lappend</font></b> filesTIDs [<b><font color=#3a6797>list</font></b> [FileName <font color=#1b1baa>$TID</font>] <font color=#1b1baa>$TID</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$filesTIDs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FileTID'>FileTID</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tab's ID of a file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileTID</span> <span class='ruff_arg'>fname ?filesTIDs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>filesTIDs</code></code></td><td class='ruff_defitem'>prepared list of pairs &quot;filename &amp; TID&quot; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>filesTIDs</em> is useful at massive calls of this proc.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::bar::FilesTIDs" title="FilesTIDs" class='ruff_cmd'>FilesTIDs</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_FileTID' href="javascript:toggleSource('alited_bar_FileTID')">Show source</a></p>
<div id='alited_bar_FileTID' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::FileTID {fname {filesTIDs {}}} {
  <i><font color=#4b5d50># Gets a tab's ID of a file name.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   filesTIDs - prepared list of pairs &quot;filename & TID&quot;</font></i>
  <i><font color=#4b5d50># The *filesTIDs* is useful at massive calls of this proc.</font></i>
  <i><font color=#4b5d50># See also: FilesTIDs</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$filesTIDs</font>]} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$filesTIDs</font> <font color=#1b1baa>$fname</font>]]&gt;=0} {
      <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$filesTIDs</font> <font color=#1b1baa>$i</font> 1]
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
      <b><font color=#3a6797>set</font></b> TID2 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq [FileName <font color=#1b1baa>$TID2</font>]} {
        <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID2</font>
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FillBar'>FillBar</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills the bar of tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillBar</span> <span class='ruff_arg'>wframe ?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wframe</code></code></td><td class='ruff_defitem'>frame's path to place the bar in</td></tr>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>if yes, creates the bar from scratch; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_FillBar' href="javascript:toggleSource('alited_bar_FillBar')">Show source</a></p>
<div id='alited_bar_FillBar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::FillBar {wframe {newproject no}} {
  <i><font color=#4b5d50># Fills the bar of tabs.</font></i>
  <i><font color=#4b5d50>#   wframe - frame's path to place the bar in</font></i>
  <i><font color=#4b5d50>#   newproject - if yes, creates the bar from scratch</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>update</font></b> ;<i><font color=#4b5d50># to get real sizes of -wbase</font></i>
  <b><font color=#3a6797>set</font></b> wbase [<font color=#1b1baa>$obPav</font> LbxInfo]
  <b><font color=#3a6797>set</font></b> lab0 [msgcat::mc (Un)Select]
  <b><font color=#3a6797>set</font></b> lab1 [msgcat::mc {... Visible}]
  <b><font color=#3a6797>set</font></b> lab2 [msgcat::mc {... All at Left}]
  <b><font color=#3a6797>set</font></b> lab3 [msgcat::mc {... All at Right}]
  <b><font color=#3a6797>set</font></b> lab4 [msgcat::mc {... All}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(ED,btsbd)</font>} {<b><font color=#3a6797>set</font></b> bd {<font color=#6c3e67>-bd</font> 2 <font color=#6c3e67>-relief</font> sunken}} {<b><font color=#3a6797>set</font></b> bd {}}
  <b><font color=#3a6797>set</font></b> bar1Opts [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-wbar</font> <font color=#1b1baa>$wframe</font> <font color=#6c3e67>-wbase</font> <font color=#1b1baa>$wbase</font> <font color=#6c3e67>-pady</font> 2 <font color=#6c3e67>-scrollsel</font> no <font color=#6c3e67>-lifo</font> <font color=#1b1baa>$al(lifo)</font>  <font color=#6c3e67>-lowlist</font> <font color=#1b1baa>$al(FONTSIZE,small)</font> <font color=#6c3e67>-lablen</font> <font color=#1b1baa>$al(INI,barlablen)</font> <font color=#6c3e67>-tiplen</font> <font color=#1b1baa>$al(INI,bartiplen)</font>  <font color=#6c3e67>-bg</font> [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$obPav</font> csGet] 3] <font color=#6c3e67>-popuptip</font> ::alited::bar::PopupTip  <font color=#6c3e67>-menu</font> [<b><font color=#3a6797>list</font></b>  sep  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>lab0<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTab %t<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font>&quot;</font>  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>lab1<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabVis<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font>&quot;</font>  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>lab2<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabLeft %t<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{{</font>\[::alited::bar::DisableTabLeft %t\]<font color=#1b1baa>}}</font>&quot;</font>  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>lab3<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabRight %t<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{{</font>\[::alited::bar::DisableTabRight %t\]<font color=#1b1baa>}}</font>&quot;</font>  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>lab4<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabAll<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font>&quot;</font>]  <font color=#6c3e67>-separator</font> no <font color=#6c3e67>-font</font> apaveFontDefTypedsmall  <font color=#6c3e67>-csel2</font> {alited::bar::OnTabSelection %t}  <font color=#6c3e67>-csel3</font> alited::bar::OnControlClick  <font color=#6c3e67>-cdel</font> {alited::file::CloseFile %t yes}  <font color=#6c3e67>-cmov2</font> alited::bar::OnTabMove  <font color=#6c3e67>-cmov3</font> {alited::bar::OnTabMove3 %t}  <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,filelist)</font>  <font color=#6c3e67>-expand</font> 9 <font color=#6c3e67>-padx</font> 0 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$bd</font>]
  <b><font color=#3a6797>set</font></b> tabs [<b><font color=#3a6797>set</font></b> files [<b><font color=#3a6797>set</font></b> posis [<b><font color=#3a6797>set</font></b> wraps [<b><font color=#3a6797>list</font></b>]]]]
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$al(tabs)</font> {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tab</font> \t] tab pos wrap
    <b><font color=#3a6797>lappend</font></b> files <font color=#1b1baa>$tab</font>
    <b><font color=#3a6797>lappend</font></b> posis <font color=#1b1baa>$pos</font>
    <b><font color=#3a6797>lappend</font></b> wraps <font color=#1b1baa>$wrap</font>
    <b><font color=#3a6797>set</font></b> tab [UniqueTab <font color=#1b1baa>$tabs</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$tab</font>]]
    <b><font color=#3a6797>lappend</font></b> tabs <font color=#1b1baa>$tab</font>
    <b><font color=#3a6797>lappend</font></b> bar1Opts <font color=#6c3e67>-tab</font> <font color=#1b1baa>$tab</font>
  }
  <b><font color=#3a6797>set</font></b> byname [msgcat::mc Sort]
  <b><font color=#3a6797>set</font></b> bydate [msgcat::mc {... by date}]
  <b><font color=#3a6797>set</font></b> bysize [msgcat::mc {... by size}]
  <b><font color=#3a6797>set</font></b> byextn [msgcat::mc {... by extension}]
  <b><font color=#3a6797>set</font></b> ttl [msgcat::mc {Files to Beginning}]
  <b><font color=#3a6797>set</font></b> tip [msgcat::mc  <font color=#8b2a0e>&quot;If it's checked, open files would be placed\nonto the beginning page of the bar.&quot;</font>]
  <b><font color=#3a6797>lappend</font></b> bar1Opts <font color=#6c3e67>-menu</font> [<b><font color=#3a6797>list</font></b>  sep  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>byname<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>alited::bar::Sort Name<font color=#1b1baa>}</font>&quot;</font>  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>bydate<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>alited::bar::Sort Date <font color=#1b1baa>{</font>\n<font color=#1b1baa>$</font>bydate<font color=#1b1baa>}}</font>&quot;</font>  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>bysize<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>alited::bar::Sort Size <font color=#1b1baa>{</font>\n<font color=#1b1baa>$</font>bysize<font color=#1b1baa>}}</font>&quot;</font>  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>byextn<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>alited::bar::Sort Extn <font color=#1b1baa>{</font>\n<font color=#1b1baa>$</font>byextn<font color=#1b1baa>}}</font>&quot;</font>  sep  <font color=#8b2a0e>&quot;com <font color=#1b1baa>{$</font>al(MC,detach)<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>alited::bar::Detach %t<font color=#1b1baa>}</font>&quot;</font>  sep  <font color=#8b2a0e>&quot;chb <font color=#1b1baa>{$</font>ttl<font color=#1b1baa>}</font> alited::bar::Lifo <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{$</font>tip<font color=#1b1baa>}</font> ::alited::al(lifo)&quot;</font>  ]
  <b><font color=#3a6797>set</font></b> curname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$al(curtab)</font>]
  <b><font color=#3a6797>catch</font></b> {BAR removeAll}
  <b><font color=#3a6797>catch</font></b> {::bartabs::Bars create al(bts)}   ;<i><font color=#4b5d50># al(bts) is Bars object</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newproject</font> || [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(BID) [al(bts) create al(bt) <font color=#1b1baa>$bar1Opts</font> <font color=#1b1baa>$curname</font>]}]} {
    <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {BAR insertTab <font color=#1b1baa>$tab</font>}
  }
  <b><font color=#3a6797>set</font></b> tabs [BAR listTab]
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> fname <font color=#1b1baa>$files</font> pos <font color=#1b1baa>$posis</font> wrap <font color=#1b1baa>$wraps</font> {
    <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    SetTabState <font color=#1b1baa>$tid</font> <font color=#6c3e67>--fname</font> <font color=#1b1baa>$fname</font> <font color=#6c3e67>--pos</font> <font color=#1b1baa>$pos</font> <font color=#6c3e67>--wrap</font> <font color=#1b1baa>$wrap</font>
    BAR <font color=#1b1baa>$tid</font> configure <font color=#6c3e67>-tip</font> [alited::file::FileStat <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>set</font></b> curname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$files</font> <font color=#1b1baa>$al(curtab)</font>]
  SetBarState -1 <font color=#1b1baa>$curname</font> [<font color=#1b1baa>$obPav</font> Text] [<font color=#1b1baa>$obPav</font> SbvText]
  ColorBar
  alited::file::CheckForNew
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::GetBarState'>GetBarState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets attributes of a tab that are specific for alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetBarState</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_GetBarState' href="javascript:toggleSource('alited_bar_GetBarState')">Show source</a></p>
<div id='alited_bar_GetBarState' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::GetBarState {} {
  <i><font color=#4b5d50># Gets attributes of a tab that are specific for alited.</font></i>

  <b><font color=#ca14ca>return</font></b> [BAR cget <font color=#6c3e67>-ALITED</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::GetTabState'>GetTabState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets attributes of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTabState</span> <span class='ruff_arg'>?TID? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID (current one by default); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_GetTabState' href="javascript:toggleSource('alited_bar_GetTabState')">Show source</a></p>
<div id='alited_bar_GetTabState' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::GetTabState {{TID {}} args} {
  <i><font color=#4b5d50># Gets attributes of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID (current one by default)</font></i>
  <i><font color=#4b5d50>#   args - list of attributes + values</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [CurrentTabID]}
  <b><font color=#3a6797>if</font></b> {![BAR isTab <font color=#1b1baa>$TID</font>]} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#ca14ca>return</font></b> [BAR <font color=#1b1baa>$TID</font> cget {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::InsertTab'>InsertTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a new tab into the beginning of bar of tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertTab</span> <span class='ruff_arg'>tab tip</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>the tab</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>the tab's tip</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_InsertTab' href="javascript:toggleSource('alited_bar_InsertTab')">Show source</a></p>
<div id='alited_bar_InsertTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::InsertTab {tab tip} {
  <i><font color=#4b5d50># Inserts a new tab into the beginning of bar of tabs.</font></i>
  <i><font color=#4b5d50>#   tab - the tab</font></i>
  <i><font color=#4b5d50>#   tip - the tab's tip</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> TID [BAR insertTab <font color=#1b1baa>$tab</font> 0]
  BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-tip</font> <font color=#1b1baa>$tip</font>
  SetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--fname</font> <font color=#1b1baa>$tip</font>
  alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onadd)</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::Lifo'>Lifo</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets -lifo option of the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Lifo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_Lifo' href="javascript:toggleSource('alited_bar_Lifo')">Show source</a></p>
<div id='alited_bar_Lifo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::Lifo {} {
  <i><font color=#4b5d50># Sets -lifo option of the bar.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  BAR configure <font color=#6c3e67>-lifo</font> <font color=#1b1baa>$al(lifo)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnControlClick'>OnControlClick</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a number of tabs selected by Ctrl+Click.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnControlClick</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_OnControlClick' href="javascript:toggleSource('alited_bar_OnControlClick')">Show source</a></p>
<div id='alited_bar_OnControlClick' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::OnControlClick {} {
  <i><font color=#4b5d50># Shows a number of tabs selected by Ctrl+Click.</font></i>

  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR cget <font color=#6c3e67>-select</font>]]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map <font color=#8b2a0e>&quot;%n <font color=#1b1baa>$</font>llen&quot;</font> [msgcat::mc {Selected files: %n}]]
  alited::Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnTabMove'>OnTabMove</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles moving a tab in the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnTabMove</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_OnTabMove' href="javascript:toggleSource('alited_bar_OnTabMove')">Show source</a></p>
<div id='alited_bar_OnTabMove' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::OnTabMove {} {
  <i><font color=#4b5d50># Handles moving a tab in the bar.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onmove)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnTabMove3'>OnTabMove3</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles moving selected tab(s) in the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnTabMove3</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>if empty, the selected tabs are moved; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_OnTabMove3' href="javascript:toggleSource('alited_bar_OnTabMove3')">Show source</a></p>
<div id='alited_bar_OnTabMove3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::OnTabMove3 {{TID {}}} {
  <i><font color=#4b5d50># Handles moving selected tab(s) in the bar.</font></i>
  <i><font color=#4b5d50>#   TID - if empty, the selected tabs are moved</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onmove)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {
    <i><font color=#4b5d50># no selection of tabs after moving</font></i>
    BAR unselectTab
    OnControlClick
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnTabSelection'>OnTabSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles selecting a tab in the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnTabSelection</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_OnTabSelection' href="javascript:toggleSource('alited_bar_OnTabSelection')">Show source</a></p>
<div id='alited_bar_OnTabSelection' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::OnTabSelection {TID} {
  <i><font color=#4b5d50># Handles selecting a tab in the bar.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> whilesorting
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$whilesorting</font>} <b><font color=#ca14ca>return</font></b>
  alited::favor::SkipVisited yes
  <b><font color=#3a6797>set</font></b> fname [FileName <font color=#1b1baa>$TID</font>]
  alited::main::ShowText
  alited::file::SbhText
  alited::find::ClearTags
  alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onselect)</font>
  alited::edit::CheckSaveIcons [alited::file::IsModified <font color=#1b1baa>$TID</font>]
  alited::edit::CheckUndoRedoIcons [alited::main::CurrentWTXT] <font color=#1b1baa>$TID</font>
  <b><font color=#3a6797>if</font></b> {[alited::edit::CommentChar] ne {}} {<b><font color=#3a6797>set</font></b> cmnst normal} {<b><font color=#3a6797>set</font></b> cmnst disabled}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]] ne {}} {
    <b><font color=#3a6797>set</font></b> al(wrapwords) [<b><font color=#3a6797>expr</font></b> {[<font color=#1b1baa>$wtxt</font> cget <font color=#6c3e67>-wrap</font>] eq {word}}]
  }
  CurrentControlTab <font color=#1b1baa>$fname</font>
  alited::menu::FillRunItems <font color=#1b1baa>$fname</font>
  alited::main::HighlightLine
  <b><font color=#3a6797>lassign</font></b> [alited::main::CalcIndentation <font color=#1b1baa>$wtxt</font>] indent indentchar
  ::apave::setTextIndent <font color=#1b1baa>$indent</font> <font color=#1b1baa>$indentchar</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindentAuto)</font>} {alited::main::UpdateProjectInfo <font color=#1b1baa>$indent</font>}
  <b><font color=#3a6797>after</font></b> 10 {
    ::alited::tree::SeeSelection
    ::alited::main::UpdateGutter
    ::alited::favor::SkipVisited no
  }
  <b><font color=#3a6797>if</font></b> {![alited::file::IsNoName <font color=#1b1baa>$fname</font>] && ![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> alited::Balloon1 <font color=#1b1baa>$fname</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::PopupTip'>PopupTip</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes tooltips (full file names) for popup menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupTip</span> <span class='ruff_arg'>wmenu idx TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wmenu</code></code></td><td class='ruff_defitem'>path to popup menu</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of item</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of item's tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_PopupTip' href="javascript:toggleSource('alited_bar_PopupTip')">Show source</a></p>
<div id='alited_bar_PopupTip' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::PopupTip {wmenu idx TID} {
  <i><font color=#4b5d50># Makes tooltips (full file names) for popup menu items.</font></i>
  <i><font color=#4b5d50># wmenu - path to popup menu</font></i>
  <i><font color=#4b5d50># idx - index of item</font></i>
  <i><font color=#4b5d50># TID - ID of item's tab</font></i>

  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wmenu</font> cget <font color=#6c3e67>-tearoff</font>]} {<b><font color=#3a6797>incr</font></b> idx}
  ::baltip::tip <font color=#1b1baa>$wmenu</font> [alited::file::FileStat [FileName <font color=#1b1baa>$TID</font>]] <font color=#6c3e67>-index</font> <font color=#1b1baa>$idx</font> <font color=#6c3e67>-shiftX</font> 10 <font color=#6c3e67>-ontop</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::RenameTitles'>RenameTitles</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>After closing a tab, seeks and renames synonyms of tabs: &quot;name (2)&quot;, &quot;name (3)&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RenameTitles</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>closed tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_RenameTitles' href="javascript:toggleSource('alited_bar_RenameTitles')">Show source</a></p>
<div id='alited_bar_RenameTitles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::RenameTitles {TID} {
  <i><font color=#4b5d50># After closing a tab, seeks and renames synonyms of tabs: &quot;name (2)&quot;, &quot;name (3)&quot;</font></i>
  <i><font color=#4b5d50>#   TID - closed tab's ID</font></i>

  <b><font color=#3a6797>set</font></b> names [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID2 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID2</font> ne <font color=#1b1baa>$TID</font>} {
      <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>file</font></b> tail [FileName <font color=#1b1baa>$TID2</font>]]
      <b><font color=#3a6797>set</font></b> icnt 1
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 1 <font color=#1b1baa>$names</font> <font color=#1b1baa>$name</font>]]&gt;-1} {
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$names</font> <font color=#1b1baa>$i</font>] tid name icnt
        <b><font color=#3a6797>incr</font></b> icnt
        <b><font color=#3a6797>set</font></b> names [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$names</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tid</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$icnt</font>]]
        <b><font color=#3a6797>set</font></b> name <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>name (<font color=#1b1baa>$</font>icnt)&quot;</font>
      }
      <b><font color=#3a6797>lappend</font></b> names [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID2</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$icnt</font>]
    }
  }
  <b><font color=#3a6797>set</font></b> doupdate no
  <b><font color=#3a6797>foreach</font></b> name <font color=#1b1baa>$names</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$name</font> TID2 name
    <b><font color=#3a6797>if</font></b> {[BAR <font color=#1b1baa>$TID2</font> cget <font color=#6c3e67>-text</font>] ne <font color=#1b1baa>$name</font>} {
      <b><font color=#3a6797>set</font></b> doupdate yes
      BAR <font color=#1b1baa>$TID2</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$name</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doupdate</font>} {BAR draw no}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelFile'>SelFile</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Open a file from the file list even when it's closed (the file list may be open due to -tearoff option).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelFile</span> <span class='ruff_arg'>TID tip</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>tip of tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SelFile' href="javascript:toggleSource('alited_bar_SelFile')">Show source</a></p>
<div id='alited_bar_SelFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelFile {TID tip} {
  <i><font color=#4b5d50># Open a file from the file list even when it's closed</font></i>
  <i><font color=#4b5d50># (the file list may be open due to -tearoff option).</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   tip - tip of tab</font></i>

  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tip</font> \n] fname
  <b><font color=#3a6797>if</font></b> {[alited::file::OpenFile <font color=#1b1baa>$fname</font> yes] eq {}} {
    BAR <font color=#1b1baa>$TID</font> show
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> alited::Balloon1 <font color=#1b1baa>$fname</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTab'>SelTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a tab selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTab</span> <span class='ruff_arg'>tab ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if 1, selects the tab; <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SelTab' href="javascript:toggleSource('alited_bar_SelTab')">Show source</a></p>
<div id='alited_bar_SelTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTab {tab {mode -1}} {
  <i><font color=#4b5d50># Makes a tab selected / unselected.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>
  <i><font color=#4b5d50>#   mode - if 1, selects the tab</font></i>

  <b><font color=#3a6797>set</font></b> selected [BAR cget <font color=#6c3e67>-select</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> == 1 || <font color=#1b1baa>$tab</font> in <font color=#1b1baa>$selected</font>} {
    BAR unselectTab <font color=#1b1baa>$tab</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$mode</font> == 0 || <font color=#1b1baa>$tab</font> ni <font color=#1b1baa>$selected</font>} {
    BAR selectTab <font color=#1b1baa>$tab</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabAll'>SelTabAll</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SelTabAll' href="javascript:toggleSource('alited_bar_SelTabAll')">Show source</a></p>
<div id='alited_bar_SelTabAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabAll {} {
  <i><font color=#4b5d50># Makes all tabs selected / unselected.</font></i>

  <b><font color=#3a6797>set</font></b> mode [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> [BAR cget <font color=#6c3e67>-select</font>]]&gt;0}]
  <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
    SelTab [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0] <font color=#1b1baa>$mode</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabLeft'>SelTabLeft</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all left tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabLeft</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SelTabLeft' href="javascript:toggleSource('alited_bar_SelTabLeft')">Show source</a></p>
<div id='alited_bar_SelTabLeft' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabLeft {tab} {
  <i><font color=#4b5d50># Makes all left tabs selected / unselected.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>

  <b><font color=#3a6797>foreach</font></b> t [BAR listTab] {
    <b><font color=#3a6797>set</font></b> t [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$t</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$t</font> eq <font color=#1b1baa>$tab</font>} <b><font color=#ca14ca>break</font></b>
    SelTab <font color=#1b1baa>$t</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabRight'>SelTabRight</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all right tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabRight</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SelTabRight' href="javascript:toggleSource('alited_bar_SelTabRight')">Show source</a></p>
<div id='alited_bar_SelTabRight' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabRight {tab} {
  <i><font color=#4b5d50># Makes all right tabs selected / unselected.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>

  <b><font color=#3a6797>set</font></b> cntrd no
  <b><font color=#3a6797>foreach</font></b> t [BAR listTab] {
    <b><font color=#3a6797>set</font></b> t [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$t</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$t</font> eq <font color=#1b1baa>$tab</font>} {
      <b><font color=#3a6797>set</font></b> cntrd yes
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$cntrd</font>} {
      SelTab <font color=#1b1baa>$t</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabVis'>SelTabVis</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes visible tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabVis</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SelTabVis' href="javascript:toggleSource('alited_bar_SelTabVis')">Show source</a></p>
<div id='alited_bar_SelTabVis' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabVis {} {
  <i><font color=#4b5d50># Makes visible tabs selected / unselected.</font></i>

  <b><font color=#3a6797>foreach</font></b> tab [BAR listFlag v] {
    SelTab <font color=#1b1baa>$tab</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SetBarState'>SetBarState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets attributes of the tab bar that are specific for alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetBarState</span> <span class='ruff_arg'>TID ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SetBarState' href="javascript:toggleSource('alited_bar_SetBarState')">Show source</a></p>
<div id='alited_bar_SetBarState' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SetBarState {TID args} {
  <i><font color=#4b5d50># Sets attributes of the tab bar that are specific for alited.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   args - list of attributes + values</font></i>

  BAR configure <font color=#6c3e67>-ALITED</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SetTabState'>SetTabState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets attributes of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTabState</span> <span class='ruff_arg'>TID ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SetTabState' href="javascript:toggleSource('alited_bar_SetTabState')">Show source</a></p>
<div id='alited_bar_SetTabState' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SetTabState {TID args} {
  <i><font color=#4b5d50># Sets attributes of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   args - list of attributes + values</font></i>

  <b><font color=#3a6797>if</font></b> {![BAR isTab <font color=#1b1baa>$TID</font>]} <b><font color=#ca14ca>return</font></b>
  BAR <font color=#1b1baa>$TID</font> configure {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::Sort'>Sort</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sorts tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Sort</span> <span class='ruff_arg'>by ?ttl?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>by</code></code></td><td class='ruff_defitem'>sort type (by name is default)</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>sort title; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_Sort' href="javascript:toggleSource('alited_bar_Sort')">Show source</a></p>
<div id='alited_bar_Sort' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::Sort {by {ttl {}}} {
  <i><font color=#4b5d50># Sorts tabs.</font></i>
  <i><font color=#4b5d50>#   by - sort type (by name is default)</font></i>
  <i><font color=#4b5d50>#   ttl - sort title</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> whilesorting
  <b><font color=#3a6797>set</font></b> ::alited::al(incdec) [<b><font color=#3a6797>set</font></b> ::alited::al(incdec<font color=#1b1baa>$by</font>)]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} [msgcat::mc Sort] [<b><font color=#3a6797>list</font></b>  radA  {{  }} {<font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>::alited::al(incdec)&quot;</font> increasing decreasing}  ] <font color=#6c3e67>-head</font> [msgcat::mc {Sort files}]<font color=#1b1baa>$ttl</font>] res ::alited::al(incdec)
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> whilesorting yes
    SortData
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$by</font> eq {Name}} {<b><font color=#3a6797>set</font></b> cmd {}} {<b><font color=#3a6797>set</font></b> cmd alited::bar::CompareBy<font color=#1b1baa>$by</font>}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(incdec)</font> in [<b><font color=#3a6797>list</font></b> increasing [msgcat::mc increasing]]} {
      <b><font color=#3a6797>set</font></b> ::alited::al(incdec) increasing
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> ::alited::al(incdec) decreasing
    }
    BAR sort -<font color=#1b1baa>$::alited::al(incdec)</font> <font color=#1b1baa>$cmd</font>
    <b><font color=#3a6797>set</font></b> ::alited::al(incdec<font color=#1b1baa>$by</font>) <font color=#1b1baa>$::alited::al(incdec)</font>
    <b><font color=#3a6797>set</font></b> whilesorting no
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SortData'>SortData</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets or gets data for sorting bar tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SortData</span> <span class='ruff_arg'>?tab?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab info (if empty, sets all tabs' data); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of file's name, extension, date and size.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_SortData' href="javascript:toggleSource('alited_bar_SortData')">Show source</a></p>
<div id='alited_bar_SortData' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SortData {{tab {}}} {
  <i><font color=#4b5d50># Sets or gets data for sorting bar tabs.</font></i>
  <i><font color=#4b5d50>#   tab - tab info (if empty, sets all tabs' data)</font></i>
  <i><font color=#4b5d50># Returns a list of file's name, extension, date and size.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> eq {}} {
    <b><font color=#3a6797>set</font></b> sortdata [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
      <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>set</font></b> fname [FileName <font color=#1b1baa>$tid</font>]
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> stat <font color=#1b1baa>$fname</font> ares}]} {
        BAR <font color=#1b1baa>$tid</font> configure <font color=#6c3e67>--sortdate</font> <font color=#1b1baa>$ares(mtime)</font> <font color=#6c3e67>--sortsize</font> <font color=#1b1baa>$ares(size)</font>
      }
    }
    <b><font color=#ca14ca>return</font></b> {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lassign</font></b> [BAR <font color=#1b1baa>$tid</font> cget <font color=#6c3e67>-text</font> <font color=#6c3e67>--sortdate</font> <font color=#6c3e67>--sortsize</font>] fname date size
    <b><font color=#3a6797>set</font></b> ext [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first <font color=#8b2a0e>&quot; \(&quot;</font> <font color=#1b1baa>$ext</font>]]&gt;-1} {
      <b><font color=#3a6797>set</font></b> ext [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$ext</font> 0 <font color=#1b1baa>$i</font>-1]
    }
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$ext</font> <font color=#1b1baa>$date</font> <font color=#1b1baa>$size</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::TabName'>TabName</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tab's title.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabName</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_TabName' href="javascript:toggleSource('alited_bar_TabName')">Show source</a></p>
<div id='alited_bar_TabName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::TabName {{TID {}}} {
  <i><font color=#4b5d50># Gets a tab's title.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [CurrentTabID]}
  <b><font color=#ca14ca>return</font></b> [BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-text</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::UniqueListTab'>UniqueListTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a unique tab name for a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UniqueListTab</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a unique tab name for a file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_UniqueListTab' href="javascript:toggleSource('alited_bar_UniqueListTab')">Show source</a></p>
<div id='alited_bar_UniqueListTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::UniqueListTab {fname} {
  <i><font color=#4b5d50># Returns a unique tab name for a file.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  UniqueTab [BAR listTab] [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] <font color=#6c3e67>-index</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::UniqueTab'>UniqueTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a unique name for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UniqueTab</span> <span class='ruff_arg'>tabs tab ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tabs</code></code></td><td class='ruff_defitem'>list of tabs</td></tr>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab name to be checked for its duplicate</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of lsearch to find a duplicate name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If some file has a tail name (tab name) equal to an existing one's, the new tab name should get &quot;(N)&quot; suffix to be unique. This is required by bartabs package: no duplicates allowed.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a unique name for a tab.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_bar_UniqueTab' href="javascript:toggleSource('alited_bar_UniqueTab')">Show source</a></p>
<div id='alited_bar_UniqueTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::UniqueTab {tabs tab args} {
  <i><font color=#4b5d50># Returns a unique name for a tab.</font></i>
  <i><font color=#4b5d50>#   tabs - list of tabs</font></i>
  <i><font color=#4b5d50>#   tab - tab name to be checked for its duplicate</font></i>
  <i><font color=#4b5d50>#   args - options of lsearch to find a duplicate name</font></i>
  <i><font color=#4b5d50># If some file has a tail name (tab name) equal to an existing one's,</font></i>
  <i><font color=#4b5d50># the new tab name should get &quot;(N)&quot; suffix to be unique.</font></i>
  <i><font color=#4b5d50># This is required by bartabs package: no duplicates allowed.</font></i>

  <b><font color=#3a6797>set</font></b> cnttab 1
  <b><font color=#3a6797>set</font></b> taborig <font color=#1b1baa>$tab</font>
  <b><font color=#3a6797>while</font></b> {1} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$tab</font>]==-1} <b><font color=#ca14ca>break</font></b>
    <b><font color=#3a6797>set</font></b> tab <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>taborig (<font color=#1b1baa>[</font>incr cnttab<font color=#1b1baa>]</font>)&quot;</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tab</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::check'></a>::alited::check<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::check-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::check::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Checking&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check__create' href="javascript:toggleSource('alited_check__create')">Show source</a></p>
<div id='alited_check__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::_create {} {
  <i><font color=#4b5d50># Creates &quot;Checking&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obCHK obCHK
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <font color=#1b1baa>$obCHK</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$al(MC,checktcl)</font>
  <font color=#1b1baa>$obCHK</font> paveWindow <font color=#1b1baa>$win</font>.fra {
    {v_ - -}
    {labHead v_ T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Checks available:&quot;</font>}}
    {chb1 labHead T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> ::alited::check::chBrace <font color=#6c3e67>-t</font> {Consistency of {} }}}
    {chb2 + T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> ::alited::check::chBracket <font color=#6c3e67>-t</font> {Consistency of []}}}
    {chb3 + T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> ::alited::check::chParenthesis <font color=#6c3e67>-t</font> {Consistency of ()}}}
    {chb4 + T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> ::alited::check::chQuotes <font color=#6c3e67>-t</font> {Consistency of <font color=#8b2a0e>&quot;&quot;</font>}}}
    {chb9 + T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> ::alited::check::chDuplUnits <font color=#6c3e67>-t</font> {Duplicate units}}}
    {v_2 + T}
    {fra + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {fra.lab - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Check:&quot;</font>}}
    {fra.radA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 9}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;current file&quot;</font> <font color=#6c3e67>-var</font> ::alited::check::what <font color=#6c3e67>-value</font> 1}}
    {fra.radB - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 9}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;all of session files&quot;</font> <font color=#6c3e67>-var</font> ::alited::check::what <font color=#6c3e67>-value</font> 2}}
    {fra2 fra T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,help)</font>} <font color=#6c3e67>-tip</font> F1 <font color=#6c3e67>-com</font> {alited::HelpAlited #checktool}}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}}
    {.ButOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Check&quot;</font> <font color=#6c3e67>-com</font> ::alited::check::Check}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> ::alited::check::Cancel}}
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obCHK ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> geo <font color=#1b1baa>$al(checkgeo)</font>] ne {}} {
    <b><font color=#3a6797>set</font></b> geo [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$geo</font> [<b><font color=#3a6797>string</font></b> first + <font color=#1b1baa>$geo</font>] end]
    <b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>$</font>geo&quot;</font>
  }
  <font color=#1b1baa>$obCHK</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> no <font color=#6c3e67>-onclose</font> alited::check::Cancel  <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obCHK</font> ButOK] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Checking&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check__run' href="javascript:toggleSource('alited_check__run')">Show source</a></p>
<div id='alited_check__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::_run {} {
  <i><font color=#4b5d50># Runs &quot;Checking&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obCHK obCHK
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> atopen
  <b><font color=#3a6797>set</font></b> atopen yes
  <b><font color=#3a6797>if</font></b> {[::apave::repaintWindow <font color=#1b1baa>$win</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>obCHK ButOK&quot;</font>]} {
    <b><font color=#134070>wm</font></b> deiconify <font color=#1b1baa>$win</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>after</font></b> idle alited::check::Check
    _create
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check_Cancel' href="javascript:toggleSource('alited_check_Cancel')">Show source</a></p>
<div id='alited_check_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::Cancel {args} {
  <i><font color=#4b5d50># Handles hitting &quot;Cancel&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> al(checkgeo) [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  alited::CloseDlg
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Check'>Check</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs checking.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Check</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check_Check' href="javascript:toggleSource('alited_check_Check')">Show source</a></p>
<div id='alited_check_Check' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::Check {} {
  <i><font color=#4b5d50># Runs checking.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> what
  <b><font color=#3a6797>variable</font></b> atopen
  <b><font color=#3a6797>variable</font></b> errors
  <b><font color=#3a6797>variable</font></b> fileerrors
  alited::info::Clear
  alited::info::Put <font color=#1b1baa>$al(MC,wait)</font> {} yes yes
  <b><font color=#3a6797>set</font></b> errors [<b><font color=#3a6797>set</font></b> fileerrors 0]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$atopen</font> || <font color=#1b1baa>$what</font>==1} {  ;<i><font color=#4b5d50># at start, check a current file</font></i>
    CheckFile
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$what</font>==2} {
    CheckAll
  }
  ShowResults
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckAll'>CheckAll</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks all files of session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check_CheckAll' href="javascript:toggleSource('alited_check_CheckAll')">Show source</a></p>
<div id='alited_check_CheckAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::CheckAll {} {
  <i><font color=#4b5d50># Checks all files of session.</font></i>

  <b><font color=#3a6797>update</font></b>
  <b><font color=#3a6797>set</font></b> allfnd [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font>] curfile wtxt
    CheckFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckFile'>CheckFile</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckFile</span> <span class='ruff_arg'>?fname? ?wtxt? ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the file's text widget; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>the file's tab ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check_CheckFile' href="javascript:toggleSource('alited_check_CheckFile')">Show source</a></p>
<div id='alited_check_CheckFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::CheckFile {{fname {}} {wtxt {}} {TID {}}} {
  <i><font color=#4b5d50># Checks a file.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   wtxt - the file's text widget</font></i>
  <i><font color=#4b5d50>#   TID - the file's tab ID</font></i>

  <b><font color=#3a6797>variable</font></b> errors
  <b><font color=#3a6797>variable</font></b> fileerrors
  <b><font color=#3a6797>variable</font></b> errors1
  <b><font color=#3a6797>variable</font></b> errors2
  <b><font color=#3a6797>variable</font></b> errors3
  <b><font color=#3a6797>variable</font></b> errors4
  <b><font color=#3a6797>variable</font></b> chDuplUnits
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} {
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> ne [alited::bar::FileName] && ![alited::file::IsTcl <font color=#1b1baa>$fname</font>]} {
    <i><font color=#4b5d50># do check only a current file and Tcl scripts</font></i>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> curfile [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> textcont [<font color=#1b1baa>$wtxt</font> get 1.0 end]
  <b><font color=#3a6797>set</font></b> unittree [alited::unit::GetUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$textcont</font>]
  <i><font color=#4b5d50># check for errors of a whole file</font></i>
  <b><font color=#3a6797>set</font></b> errors1 [<b><font color=#3a6797>set</font></b> errors2 [<b><font color=#3a6797>set</font></b> errors3 [<b><font color=#3a6797>set</font></b> errors4 0]]]
  <b><font color=#3a6797>set</font></b> fileerrs [CheckUnit <font color=#1b1baa>$wtxt</font> 1.0 end]
  <i><font color=#4b5d50># check for duplicate units</font></i>
  <b><font color=#3a6797>set</font></b> errduplist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chDuplUnits</font>} {
    <b><font color=#3a6797>set</font></b> prevtitle <font color=#8b2a0e>&quot;\{\$\}&quot;</font>
    <b><font color=#3a6797>set</font></b> errmsg [msgcat::mc {duplicate unit:}]
    <b><font color=#3a6797>set</font></b> uniterr 0
    <b><font color=#3a6797>foreach</font></b> item [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-index</font> 3 <font color=#1b1baa>$unittree</font>] {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prevtitle</font> eq <font color=#1b1baa>$title</font> && <font color=#1b1baa>$title</font> ni {<b><font color=#ca14ca>constructor</font></b> destructor}} {
        <b><font color=#3a6797>set</font></b> uniterr 1
        <b><font color=#3a6797>lappend</font></b> errduplist [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>curfile: <font color=#1b1baa>$</font>errmsg <font color=#1b1baa>$</font>title&quot;</font> <font color=#1b1baa>$l1</font>]
      }
      <b><font color=#3a6797>set</font></b> prevtitle <font color=#1b1baa>$title</font>
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$fileerrs</font>} {<b><font color=#3a6797>set</font></b> fileerrs <font color=#1b1baa>$uniterr</font>}
  }
  <i><font color=#4b5d50># put a whole file's statistics on errors</font></i>
  <b><font color=#3a6797>incr</font></b> fileerrors <font color=#1b1baa>$fileerrs</font>
  <b><font color=#3a6797>set</font></b> und [<b><font color=#3a6797>string</font></b> repeat _ 30]
  <b><font color=#3a6797>set</font></b> pos1 [alited::bar::GetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--pos</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> $<font color=#1b1baa>$pos1</font>]} {<b><font color=#3a6797>set</font></b> pos1 1.0}
  <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos1</font>)}]]
  alited::info::Put <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>und <font color=#1b1baa>$</font>fileerrs (<font color=#1b1baa>$</font>errors1/<font color=#1b1baa>$</font>errors2/<font color=#1b1baa>$</font>errors3/<font color=#1b1baa>$</font>errors4) file errors of <font color=#1b1baa>$</font>curfile <font color=#1b1baa>$</font>und<font color=#1b1baa>$</font>und<font color=#1b1baa>$</font>und&quot;</font> <font color=#1b1baa>$info</font>
  <i><font color=#4b5d50># put a list of duplicate units</font></i>
  <b><font color=#3a6797>foreach</font></b> errdup <font color=#1b1baa>$errduplist</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$errdup</font> msg pos1
    alited::info::Put <font color=#1b1baa>$msg</font> [PosInfo <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos1</font>]
  }
  <i><font color=#4b5d50># check for errors of specific units</font></i>
  <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$unittree</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$leaf</font> || <font color=#1b1baa>$title</font> eq {}} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> title <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>curfile: <font color=#1b1baa>$</font>title&quot;</font>
    <b><font color=#3a6797>set</font></b> err [CheckUnit <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end <font color=#1b1baa>$TID</font> <font color=#1b1baa>$title</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} {
      <b><font color=#3a6797>incr</font></b> errors <font color=#1b1baa>$err</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckUnit'>CheckUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks a unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUnit</span> <span class='ruff_arg'>wtxt pos1 pos2 ?TID? ?title? ?bold? ?see?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position of the unit in the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>ending position of the unit in the text</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>title of the unit; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>bold</code></code></td><td class='ruff_defitem'>if yes, displays errors bolded; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>see</code></code></td><td class='ruff_defitem'>if yes, displays errors in red color; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::info::Put" title="info::Put" class='ruff_cmd'>info::Put</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check_CheckUnit' href="javascript:toggleSource('alited_check_CheckUnit')">Show source</a></p>
<div id='alited_check_CheckUnit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::CheckUnit {wtxt pos1 pos2 {TID {}} {title {}} {bold no} {see no}} {
  <i><font color=#4b5d50># Checks a unit.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   pos1 - starting position of the unit in the text</font></i>
  <i><font color=#4b5d50>#   pos2 - ending position of the unit in the text</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   title - title of the unit</font></i>
  <i><font color=#4b5d50>#   bold - if yes, displays errors bolded</font></i>
  <i><font color=#4b5d50>#   see - if yes, displays errors in red color</font></i>
  <i><font color=#4b5d50># See also: info::Put</font></i>

  <b><font color=#3a6797>variable</font></b> chBrace
  <b><font color=#3a6797>variable</font></b> chBracket
  <b><font color=#3a6797>variable</font></b> chParenthesis
  <b><font color=#3a6797>variable</font></b> chQuotes
  <b><font color=#3a6797>variable</font></b> chDuplUnits
  <b><font color=#3a6797>variable</font></b> errors1
  <b><font color=#3a6797>variable</font></b> errors2
  <b><font color=#3a6797>variable</font></b> errors3
  <b><font color=#3a6797>variable</font></b> errors4
  <b><font color=#3a6797>set</font></b> cc1 [<b><font color=#3a6797>set</font></b> cc2 [<b><font color=#3a6797>set</font></b> ck1 [<b><font color=#3a6797>set</font></b> ck2 [<b><font color=#3a6797>set</font></b> cp1 [<b><font color=#3a6797>set</font></b> cp2 [<b><font color=#3a6797>set</font></b> cq1 0]]]]]]
  <b><font color=#3a6797>set</font></b> mapB1 [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>\[<font color=#1b1baa>}</font>&quot;</font> {}] ;<i><font color=#4b5d50># skip this usage (not regexp's alas)</font></i>
  <b><font color=#3a6797>set</font></b> mapB2 [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>\]<font color=#1b1baa>}</font>&quot;</font> {}]
  <b><font color=#3a6797>set</font></b> mapP1 [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>\(<font color=#1b1baa>}</font>&quot;</font> {}]
  <b><font color=#3a6797>set</font></b> mapP2 [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>\)<font color=#1b1baa>}</font>&quot;</font> {}]
  <b><font color=#3a6797>set</font></b> mapQ [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>{</font>\&quot;<font color=#1b1baa>}</font>&quot;</font> {}]
  <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>] \n] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#6c3e67>-nocase</font> *#*alited*check* <font color=#1b1baa>$line</font>]  ||  [<b><font color=#3a6797>string</font></b> match <font color=#6c3e67>-nocase</font> *#*check*alited* <font color=#1b1baa>$line</font>]} {
      <i><font color=#4b5d50># if a line is &quot;checked by alited&quot;, skip this unit as checked by a human</font></i>
      <b><font color=#ca14ca>return</font></b> 0
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chBrace</font>} {
      <b><font color=#3a6797>incr</font></b> cc1 [::apave::countChar <font color=#1b1baa>$line</font> \{]
      <b><font color=#3a6797>incr</font></b> cc2 [::apave::countChar <font color=#1b1baa>$line</font> \}]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chBracket</font>} {
      <b><font color=#3a6797>incr</font></b> ck1 [::apave::countChar [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$mapB1</font> <font color=#1b1baa>$line</font>] \[]
      <b><font color=#3a6797>incr</font></b> ck2 [::apave::countChar [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$mapB2</font> <font color=#1b1baa>$line</font>] \]]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chParenthesis</font>} {
      <b><font color=#3a6797>incr</font></b> cp1 [::apave::countChar [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$mapP1</font> <font color=#1b1baa>$line</font>] (]
      <b><font color=#3a6797>incr</font></b> cp2 [::apave::countChar [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$mapP2</font> <font color=#1b1baa>$line</font>] )]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chQuotes</font>} {
      <b><font color=#3a6797>incr</font></b> cq1 [::apave::countChar [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$mapQ</font> <font color=#1b1baa>$line</font>] \&quot;]
    }
  }
  <b><font color=#3a6797>set</font></b> err 0
  <b><font color=#3a6797>set</font></b> arg [<b><font color=#3a6797>list</font></b> [PosInfo <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos1</font>] <font color=#1b1baa>$bold</font> <font color=#1b1baa>$see</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cc1</font> != <font color=#1b1baa>$cc2</font>} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors1
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>title: inconsistent \{\}: <font color=#1b1baa>$</font>cc1 != <font color=#1b1baa>$</font>cc2&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$arg</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ck1</font> != <font color=#1b1baa>$ck2</font>} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>title: inconsistent \[\]: <font color=#1b1baa>$</font>ck1 != <font color=#1b1baa>$</font>ck2&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$arg</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cp1</font> != <font color=#1b1baa>$cp2</font>} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors3
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>title: inconsistent (): <font color=#1b1baa>$</font>cp1 != <font color=#1b1baa>$</font>cp2&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$arg</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cq1</font> % 2} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors4
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>title: inconsistent \&quot;\&quot;: <font color=#1b1baa>$</font>cq1&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$arg</font>}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$err</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::PosInfo'>PosInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an info on a unit's position (for Put procedure).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PosInfo</span> <span class='ruff_arg'>TID pos1</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position of the unit in the text</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of TID and the normalized unit's position.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::info::Put" title="info::Put" class='ruff_cmd'>info::Put</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check_PosInfo' href="javascript:toggleSource('alited_check_PosInfo')">Show source</a></p>
<div id='alited_check_PosInfo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::PosInfo {TID pos1} {
  <i><font color=#4b5d50># Gets an info on a unit's position (for Put procedure).</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   pos1 - starting position of the unit in the text</font></i>
  <i><font color=#4b5d50># Returns a list of TID and the normalized unit's position.</font></i>
  <i><font color=#4b5d50># See also: info::Put</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {
    <b><font color=#3a6797>set</font></b> res {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos1</font>] ? int(<font color=#1b1baa>$pos1</font>) : 1}]]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::ShowResults'>ShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays results of checking.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_check_ShowResults' href="javascript:toggleSource('alited_check_ShowResults')">Show source</a></p>
<div id='alited_check_ShowResults' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::ShowResults {} {
  <i><font color=#4b5d50># Displays results of checking.</font></i>

  <b><font color=#3a6797>variable</font></b> errors
  <b><font color=#3a6797>variable</font></b> fileerrors
  <b><font color=#3a6797>variable</font></b> atopen
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$errors</font> || <font color=#1b1baa>$fileerrors</font>} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Found %f file error(s), %u unit error(s).}]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fileerrors</font> %u <font color=#1b1baa>$errors</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$atopen</font>} <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {No errors found.}]
  }
  alited::info::Put <font color=#1b1baa>$msg</font> {} yes
  <b><font color=#3a6797>set</font></b> atopen no
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::complete'></a>::alited::complete<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::complete-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::complete::AllSessionCommands'>AllSessionCommands</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets all commands available in Tcl/Tk and in session files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AllSessionCommands</span> <span class='ruff_arg'>?currentTID? ?idx1?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>currentTID</code></code></td><td class='ruff_defitem'>ID of a current tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>idx1</code></code></td><td class='ruff_defitem'>starting position of the current word; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If currentTID is set, the commands of this TID are shown unqualified.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of &quot;proc variables + commands&quot; and a flag &quot;with commands&quot;</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_AllSessionCommands' href="javascript:toggleSource('alited_complete_AllSessionCommands')">Show source</a></p>
<div id='alited_complete_AllSessionCommands' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::AllSessionCommands {{currentTID {}} {idx1 0}} {
  <i><font color=#4b5d50># Gets all commands available in Tcl/Tk and in session files.</font></i>
  <i><font color=#4b5d50>#   currentTID - ID of a current tab</font></i>
  <i><font color=#4b5d50>#   idx1 - starting position of the current word</font></i>
  <i><font color=#4b5d50># If currentTID is set, the commands of this TID are shown unqualified.</font></i>
  <i><font color=#4b5d50># Returns a list of &quot;proc variables + commands&quot; and a flag &quot;with commands&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isread [<b><font color=#3a6797>info</font></b> exists al(_SessionCommands)]]} {
    <b><font color=#3a6797>unset</font></b> al(_SessionCommands)
  } <b><font color=#3a6797>else</font></b> {
    alited::info::Put <font color=#1b1baa>$al(MC,wait)</font> {} yes yes
    <b><font color=#3a6797>update</font></b>
  }
  <b><font color=#3a6797>set</font></b> al(_SessionCommands) [<b><font color=#3a6797>dict</font></b> create]
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <i><font color=#4b5d50># first, add variables</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>lassign</font></b> [alited::favor::CurrentName] itemID name l1 l2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l2</font> eq {}} {<b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>set</font></b> l2 0]}
  <b><font color=#3a6797>catch</font></b> {
    <i><font color=#4b5d50># get variables from the current proc's header</font></i>
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l1</font>+4}].0] \n] h1 h2 h3 h4
    <b><font color=#3a6797>foreach</font></b> i {2 3 4} {
      <b><font color=#3a6797>incr</font></b> l1
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$h1</font> end] eq <font color=#8b2a0e>&quot;\\&quot;</font>} {
        <b><font color=#3a6797>set</font></b> h1 [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$h1</font> \\]\ [<b><font color=#3a6797>set</font></b> h<font color=#1b1baa>$i</font>]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$h1</font> \{] typ - argums
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$typ</font> in {<b><font color=#ca14ca>proc</font></b> method}} {
      <b><font color=#3a6797>foreach</font></b> v <font color=#1b1baa>$argums</font> {
        <b><font color=#3a6797>lappend</font></b> res \$[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$v</font> 0]
      }
    }
  }
  <i><font color=#4b5d50># get variables from the current proc's body</font></i>
  <b><font color=#3a6797>set</font></b> RE {(?:(((^\s*|\[\s*|\{\s*)+((set|unset|append|lappend|incr|variable|global)\s+)}
  <b><font color=#3a6797>append</font></b> RE {)|\$)([:a-zA-Z0-9_]*[\(]*[:a-zA-Z0-9_,\$]*[\)]*))}
  <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 [<b><font color=#3a6797>incr</font></b> l2].0] \n] {
    <b><font color=#3a6797>foreach</font></b> {- - - - - - v} [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-all</font> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$RE</font> <font color=#1b1baa>$line</font>] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match *(* <font color=#1b1baa>$v</font>] || [<b><font color=#3a6797>string</font></b> match *)* <font color=#1b1baa>$v</font>]} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match *(*) <font color=#1b1baa>$v</font>]} {
          <b><font color=#3a6797>set</font></b> v [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$v</font> ()]
        }
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$v</font> ni {{} : ::} && [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$res</font> <font color=#1b1baa>$v</font>]==-1} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match \$* <font color=#1b1baa>$v</font>]} {<b><font color=#3a6797>set</font></b> v \$<font color=#1b1baa>$v</font>}
        <b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$v</font>
      }
    }
  }
  <b><font color=#3a6797>set</font></b> idx1 [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}].<font color=#1b1baa>$idx1</font>
  <i><font color=#4b5d50># check for $ dollar char</font></i>
  <b><font color=#3a6797>set</font></b> isdol [<b><font color=#3a6797>expr</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx1 -1 c&quot;</font>] eq {$}}]
  <b><font color=#3a6797>set</font></b> isdol1 [<b><font color=#3a6797>expr</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx1 -2 c&quot;</font> <font color=#1b1baa>$idx1</font>] eq {<font color=#1b1baa>$:</font>}}]
  <b><font color=#3a6797>set</font></b> isdol2 [<b><font color=#3a6797>expr</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx1 -3 c&quot;</font> <font color=#1b1baa>$idx1</font>] eq {<font color=#1b1baa>$::</font>}}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isdol1</font> || <font color=#1b1baa>$isdol2</font>} {
    <b><font color=#3a6797>foreach</font></b> v [<b><font color=#3a6797>info</font></b> vars ::*] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$v</font>]==1} {<b><font color=#3a6797>lappend</font></b> res \$<font color=#1b1baa>$v</font>}
    }
  }
  <i><font color=#4b5d50># if it isn't a variable's value, add also commands</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> withcom [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$isdol</font> && !<font color=#1b1baa>$isdol1</font> && !<font color=#1b1baa>$isdol2</font>}]]} {
    <i><font color=#4b5d50># get commands available in files of current session</font></i>
    <b><font color=#3a6797>foreach</font></b> tab [alited::SessionList] {
      <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] curfile wtxt
      <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 ttl l1 l2
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font> && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ttl</font>]==1} {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq <font color=#1b1baa>$currentTID</font>} {
            <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$ttl</font> :] end]
          }
          <b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$ttl</font>
          <i><font color=#4b5d50># save arguments of proc/method</font></i>
          <b><font color=#3a6797>set</font></b> h [alited::unit::GetHeader {} {} 0 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$ttl</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
          <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>dict</font></b> set al(_SessionCommands) <font color=#1b1baa>$ttl</font> [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$h</font> \n] 0 2]}
        }
      }
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(ED,TclKeyWords)</font>]} {
      <b><font color=#3a6797>lappend</font></b> res {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(ED,TclKeyWords)</font>  ;<i><font color=#4b5d50># user's commands</font></i>
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isread</font>} {alited::info::Clear end}
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$res</font> <font color=#1b1baa>$withcom</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::AutoCompleteCommand'>AutoCompleteCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs auto completion of commands.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AutoCompleteCommand</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_AutoCompleteCommand' href="javascript:toggleSource('alited_complete_AutoCompleteCommand')">Show source</a></p>
<div id='alited_complete_AutoCompleteCommand' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::AutoCompleteCommand {} {
  <i><font color=#4b5d50># Runs auto completion of commands.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> tclcoms
  <b><font color=#3a6797>variable</font></b> wordorig
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> row [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> charsOn [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos -1 char&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos +1 char&quot;</font>]]
  <b><font color=#3a6797>set</font></b> leftpart [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$row</font>.0 <font color=#1b1baa>$pos</font>]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(acc_19)</font> eq {Tab} && <font color=#1b1baa>$charsOn</font> ne {$} &&  (![<b><font color=#3a6797>regexp</font></b> {[[:alnum:]_]} <font color=#1b1baa>$charsOn</font>] || <font color=#1b1baa>$leftpart</font> eq {})} {
    <i><font color=#4b5d50># (if the cursor isn't over a word)</font></i>
    <i><font color=#4b5d50># Tab is the indentation on the line's beginning or Tab char otherwise</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leftpart</font> eq {}} {
      <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$pos</font> [alited::main::CalcPad <font color=#1b1baa>$wtxt</font>]
    } <b><font color=#3a6797>else</font></b> {
      <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$pos</font> \t
    }
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tclcoms</font>]} {
    <b><font color=#3a6797>set</font></b> tclcoms [::hl_tcl::hl_commands]
    <b><font color=#3a6797>foreach</font></b> cmd {<b><font color=#3a6797>exit</font></b> break continue pwd pid} {
      <i><font color=#4b5d50># these commands mostly without arguments: below, don't add { } after them</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tclcoms</font> <font color=#1b1baa>$cmd</font>]]&gt;-1} {
        <b><font color=#3a6797>set</font></b> tclcoms [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tclcoms</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
      }
    }
  }
  <b><font color=#3a6797>lassign</font></b> [MatchedCommands] wordorig idx1 idx2
  <b><font color=#3a6797>while</font></b> 1 {
    <b><font color=#3a6797>set</font></b> com [PickCommand <font color=#1b1baa>$wtxt</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$com</font>]==2 && [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$com</font> 0] eq {_alited_}} {
      <b><font color=#3a6797>set</font></b> wordorig [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$com</font> 1]
      MatchedCommands <font color=#1b1baa>$wordorig</font> <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
    <b><font color=#3a6797>set</font></b> isvar [<b><font color=#3a6797>string</font></b> match \$* <font color=#1b1baa>$com</font>]
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>row.<font color=#1b1baa>$</font>idx1 -1 c&quot;</font>] eq <font color=#8b2a0e>&quot;\$&quot;</font>} {
      <b><font color=#3a6797>incr</font></b> idx1 -1
    } <b><font color=#3a6797>elseif</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>row.<font color=#1b1baa>$</font>idx1 -2 c&quot;</font> <font color=#1b1baa>$row</font>.<font color=#1b1baa>$idx1</font>] eq <font color=#8b2a0e>&quot;\$:&quot;</font>} {
      <b><font color=#3a6797>incr</font></b> idx1 -2
    } <b><font color=#3a6797>elseif</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>row.<font color=#1b1baa>$</font>idx1 -3 c&quot;</font> <font color=#1b1baa>$row</font>.<font color=#1b1baa>$idx1</font>] eq <font color=#8b2a0e>&quot;\$::&quot;</font>} {
      <b><font color=#3a6797>incr</font></b> idx1 -3
    } <b><font color=#3a6797>elseif</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$row</font>.<font color=#1b1baa>$idx1</font>] eq <font color=#8b2a0e>&quot;\$&quot;</font>} {
      <i><font color=#4b5d50># replace $variable</font></i>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$isvar</font>} {
      <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$com</font> 1 end]
    }
    <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$row</font>.<font color=#1b1baa>$idx1</font> <font color=#1b1baa>$row</font>.[<b><font color=#3a6797>incr</font></b> idx2]
    <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$row</font>.<font color=#1b1baa>$idx1</font>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isvar</font>} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>dict</font></b> exists <font color=#1b1baa>$al(_SessionCommands)</font> <font color=#1b1baa>$com</font>]
      && [<b><font color=#3a6797>set</font></b> argums [<b><font color=#3a6797>dict</font></b> get <font color=#1b1baa>$al(_SessionCommands)</font> <font color=#1b1baa>$com</font>]] ne {}} {
        <i><font color=#4b5d50># add all of the unit's arguments</font></i>
        <b><font color=#3a6797>catch</font></b> {
          <b><font color=#3a6797>foreach</font></b> ar <font color=#1b1baa>$argums</font> {
            <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ar</font>]==1} {
              <b><font color=#3a6797>append</font></b> com <font color=#8b2a0e>&quot; \$<font color=#1b1baa>$</font>ar&quot;</font>
            } <b><font color=#3a6797>else</font></b> {
              <b><font color=#3a6797>append</font></b> com <font color=#8b2a0e>&quot; <font color=#1b1baa>{</font>\$<font color=#1b1baa>$</font>ar<font color=#1b1baa>}</font>&quot;</font> ;<i><font color=#4b5d50># default value to be seen</font></i>
            }
          }
        }
      } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$com</font> in <font color=#1b1baa>$tclcoms</font>} {
        <b><font color=#3a6797>append</font></b> com { }
      }
    }
    <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$pos</font> <font color=#1b1baa>$com</font>
    ::alited::main::HighlightLine
  }
  <b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::ColorPick'>ColorPick</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets colors for pick list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorPick</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_ColorPick' href="javascript:toggleSource('alited_complete_ColorPick')">Show source</a></p>
<div id='alited_complete_ColorPick' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::ColorPick {wtxt} {
  <i><font color=#4b5d50># Sets colors for pick list.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>variable</font></b> obj
  <b><font color=#3a6797>variable</font></b> comms
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obj</font> Lbx]
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$comms</font>]
  <b><font color=#3a6797>lassign</font></b> [::hl_tcl::hl_colors <font color=#1b1baa>$wtxt</font>] fgcom - - fgvar
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>foreach</font></b> com <font color=#1b1baa>$comms</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$com</font> 0] eq {$}} {
      <font color=#1b1baa>$lbx</font> itemconfigure <font color=#1b1baa>$i</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgvar</font>  ;<i><font color=#4b5d50># variable</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <font color=#1b1baa>$lbx</font> itemconfigure <font color=#1b1baa>$i</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgcom</font>  ;<i><font color=#4b5d50># command</font></i>
    }
    <b><font color=#3a6797>incr</font></b> i
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::CursorCoordsChar'>CursorCoordsChar</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets cursor's screen coordinates and a character under cursor in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CursorCoordsChar</span> <span class='ruff_arg'>?wtxt? ?shift?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>shift</code></code></td><td class='ruff_defitem'>shift from the cursor where to get non-empty char; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of X, Y coordinates and a character under the cursor.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_CursorCoordsChar' href="javascript:toggleSource('alited_complete_CursorCoordsChar')">Show source</a></p>
<div id='alited_complete_CursorCoordsChar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::CursorCoordsChar {{wtxt {}} {shift {}}} {
  <i><font color=#4b5d50># Gets cursor's screen coordinates and a character under cursor in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   shift - shift from the cursor where to get non-empty char</font></i>
  <i><font color=#4b5d50># Returns a list of X, Y coordinates and a character under the cursor.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {<b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]}
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>set</font></b> poi [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> ch [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$poi</font> [<font color=#1b1baa>$wtxt</font> index {insert +1c}]]
  <b><font color=#3a6797>set</font></b> nl [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$poi</font>)}]
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$nl</font>.0 <font color=#1b1baa>$nl</font>.end] eq {}} {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> bbox insert] X Y - h
    <b><font color=#3a6797>set</font></b> w 0
    <b><font color=#3a6797>set</font></b> ch -
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$ch</font>] eq {} || <font color=#1b1baa>$shift</font> eq {linestart}} {
      <b><font color=#3a6797>set</font></b> pos <font color=#8b2a0e>&quot;insert <font color=#1b1baa>$</font>shift&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> pos insert
    }
    <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index <font color=#1b1baa>$pos</font>]
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> bbox <font color=#1b1baa>$pos</font>] X Y w h
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$h</font> eq {}} {<b><font color=#3a6797>set</font></b> X [<b><font color=#3a6797>set</font></b> Y [<b><font color=#3a6797>set</font></b> w [<b><font color=#3a6797>set</font></b> h 0]]]}
  <b><font color=#3a6797>incr</font></b> X <font color=#1b1baa>$w</font>
  <b><font color=#3a6797>incr</font></b> Y <font color=#1b1baa>$h</font>
  <b><font color=#3a6797>set</font></b> p [<b><font color=#134070>winfo</font></b> parent <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>while</font></b> 1 {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>winfo</font></b> geometry <font color=#1b1baa>$p</font>] x+] w h x y
    <b><font color=#3a6797>incr</font></b> X <font color=#1b1baa>$x</font>
    <b><font color=#3a6797>incr</font></b> Y <font color=#1b1baa>$y</font>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> p [<b><font color=#134070>winfo</font></b> parent <font color=#1b1baa>$p</font>]}] || <font color=#1b1baa>$p</font> in {{} {.}}} <b><font color=#ca14ca>break</font></b>
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font> <font color=#1b1baa>$ch</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::EntReturn'>EntReturn</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles pressing Return on entry.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EntReturn</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_EntReturn' href="javascript:toggleSource('alited_complete_EntReturn')">Show source</a></p>
<div id='alited_complete_EntReturn' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::EntReturn {} {
  <i><font color=#4b5d50># Handles pressing Return on entry.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> obj
  <b><font color=#3a6797>variable</font></b> word
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obj</font> Lbx]
  <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$lbx</font> curselection]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font> eq {} || [<b><font color=#3a6797>set</font></b> com [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]] eq {}} {
    <b><font color=#3a6797>set</font></b> com <font color=#1b1baa>$word</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {<font color=#1b1baa>$obj</font> res <font color=#1b1baa>$win</font> <font color=#1b1baa>$com</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::IsMatch'>IsMatch</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check matching a word to a command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsMatch</span> <span class='ruff_arg'>curword com</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>curword</code></code></td><td class='ruff_defitem'>the word</td></tr>
<tr><td class='ruff_defitem'><code><code>com</code></code></td><td class='ruff_defitem'>the command</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_IsMatch' href="javascript:toggleSource('alited_complete_IsMatch')">Show source</a></p>
<div id='alited_complete_IsMatch' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::IsMatch {curword com} {
  <i><font color=#4b5d50># Check matching a word to a command.</font></i>
  <i><font color=#4b5d50>#   curword - the word</font></i>
  <i><font color=#4b5d50>#   com - the command</font></i>

  <b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$curword</font>* <font color=#1b1baa>$com</font>] || [<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$curword</font>*  [<b><font color=#3a6797>namespace</font></b> tail <font color=#1b1baa>$com</font>]] || [<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^\[\$\]?<font color=#1b1baa>$</font>curword&quot;</font> <font color=#1b1baa>$com</font>]}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::MatchedCommands'>MatchedCommands</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets commands that are matched to a current (under cursor) word.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MatchedCommands</span> <span class='ruff_arg'>?curword? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>curword</code></code></td><td class='ruff_defitem'>current word to match; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains idx1, idx2 indices</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns list of current word, begin and end of it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_MatchedCommands' href="javascript:toggleSource('alited_complete_MatchedCommands')">Show source</a></p>
<div id='alited_complete_MatchedCommands' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::MatchedCommands {{curword {}} args} {
  <i><font color=#4b5d50># Gets commands that are matched to a current (under cursor) word.</font></i>
  <i><font color=#4b5d50>#   curword - current word to match</font></i>
  <i><font color=#4b5d50>#   args - contains idx1, idx2 indices</font></i>
  <i><font color=#4b5d50># Returns list of current word, begin and end of it.</font></i>

  <b><font color=#3a6797>variable</font></b> comms
  <b><font color=#3a6797>variable</font></b> commsorig
  <b><font color=#3a6797>variable</font></b> maxwidth
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curword</font> eq {}} {
    <b><font color=#3a6797>lassign</font></b> [alited::find::GetWordOfText noselect2 yes] curword idx1 idx2
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> idx1 idx2
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::repl]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::LIBDIR</font> repl repl.tcl]
    }
  }
  <b><font color=#3a6797>lassign</font></b> [AllSessionCommands [alited::bar::CurrentTabID] <font color=#1b1baa>$idx1</font>] allcomms withcomms
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$withcomms</font>} {
    <b><font color=#3a6797>lappend</font></b> allcomms {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>lindex</font></b> [::alited::repl::complete command {}] 1]
  }
  <b><font color=#3a6797>set</font></b> comms [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> excluded [<b><font color=#3a6797>list</font></b> {[._]*} alimg_* bts_*]
  <b><font color=#3a6797>set</font></b> maxwidth 20
  <b><font color=#3a6797>foreach</font></b> com <font color=#1b1baa>$allcomms</font> {
    <b><font color=#3a6797>set</font></b> incl 1
    <b><font color=#3a6797>foreach</font></b> ex <font color=#1b1baa>$excluded</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$ex</font> <font color=#1b1baa>$com</font>]} {
        <b><font color=#3a6797>set</font></b> incl 0
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$incl</font> && [IsMatch <font color=#1b1baa>$curword</font> <font color=#1b1baa>$com</font>]} {
      <b><font color=#3a6797>lappend</font></b> comms <font color=#1b1baa>$com</font>
      <b><font color=#3a6797>set</font></b> maxwidth [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$maxwidth</font>,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$com</font>])}]
    }
  }
  <b><font color=#3a6797>set</font></b> commsorig <font color=#1b1baa>$comms</font>
  <b><font color=#3a6797>set</font></b> comms [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#6c3e67>-unique</font> <font color=#1b1baa>$comms</font>]
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$curword</font> <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::PickCommand'>PickCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a frame of commands for auto completion, allowing a user to select from it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickCommand</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_PickCommand' href="javascript:toggleSource('alited_complete_PickCommand')">Show source</a></p>
<div id='alited_complete_PickCommand' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::PickCommand {wtxt} {
  <i><font color=#4b5d50># Shows a frame of commands for auto completion,</font></i>
  <i><font color=#4b5d50># allowing a user to select from it.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> obj
  <b><font color=#3a6797>variable</font></b> word
  <b><font color=#3a6797>variable</font></b> comms
  <b><font color=#3a6797>variable</font></b> commsorig
  <b><font color=#3a6797>variable</font></b> wordorig
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$comms</font>]]==0} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> word <font color=#1b1baa>$wordorig</font>
  <i><font color=#4b5d50># check for variables if any exist</font></i>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> il 0; <b><font color=#3a6797>set</font></b> icv -1} {<font color=#1b1baa>$il</font>&lt;<font color=#1b1baa>$llen</font>}  {<b><font color=#3a6797>incr</font></b> il} {
    <b><font color=#3a6797>set</font></b> cv [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$comms</font> <font color=#1b1baa>$il</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first \$ <font color=#1b1baa>$cv</font>]&lt;0} <b><font color=#ca14ca>break</font></b>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cv</font> eq <font color=#8b2a0e>&quot;\$<font color=#1b1baa>$</font>wordorig&quot;</font>} {<b><font color=#3a6797>set</font></b> icv <font color=#1b1baa>$il</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icv</font>&gt;=0 && <font color=#1b1baa>$il</font>&gt;1 && [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$wordorig</font>]==1} {
    <b><font color=#3a6797>set</font></b> i 0
    <b><font color=#3a6797>foreach</font></b> c <font color=#1b1baa>$commsorig</font> {<b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$c</font> eq <font color=#8b2a0e>&quot;\$wordorig&quot;</font>} {<b><font color=#3a6797>incr</font></b> i}}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;2} { ;<i><font color=#4b5d50># 1 occurence of 1 letter =&gt; remove it</font></i>
      <b><font color=#3a6797>set</font></b> comms [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$comms</font> <font color=#1b1baa>$icv</font> <font color=#1b1baa>$icv</font>]
      <b><font color=#3a6797>incr</font></b> llen -1
      <b><font color=#3a6797>incr</font></b> il -1
    }
  }
  <b><font color=#3a6797>set</font></b> commsorig <font color=#1b1baa>$comms</font>
  <b><font color=#3a6797>set</font></b> mlen 16
  <b><font color=#3a6797>set</font></b> lht [<b><font color=#3a6797>expr</font></b> {max(min(<font color=#1b1baa>$llen</font>,<font color=#1b1baa>$mlen</font>),1)}]
  <b><font color=#3a6797>set</font></b> obj ::alited::pavedPickCommand
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obj</font> destroy}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(IsWindows)</font>} {
    <b><font color=#134070>toplevel</font></b> <font color=#1b1baa>$win</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#134070>frame</font></b> <font color=#1b1baa>$win</font>
    <b><font color=#134070>wm</font></b> manage <font color=#1b1baa>$win</font>
    <i><font color=#4b5d50># the line below is of an issue in kubuntu (KDE?): small sizes of the popup window</font></i>
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> ::alited::complete::WinGeometry <font color=#1b1baa>$lht</font>]
  }
  <b><font color=#134070>wm</font></b> withdraw <font color=#1b1baa>$win</font>
  <b><font color=#134070>wm</font></b> overrideredirect <font color=#1b1baa>$win</font> 1
  ::apave::APave create <font color=#1b1baa>$obj</font> <font color=#1b1baa>$win</font>
  <b><font color=#3a6797>set</font></b> lwidgets [<b><font color=#3a6797>list</font></b>  <font color=#8b2a0e>&quot;Ent - - - - <font color=#1b1baa>{</font>pack -expand 1 -fill x<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-w <font color=#1b1baa>$</font>::alited::complete::maxwidth  -tvar ::alited::complete::word -validate key  -validatecommand <font color=#1b1baa>{</font>alited::complete::PickValid <font color=#1b1baa>$</font>wtxt %V %d %i %s %S<font color=#1b1baa>}}</font>&quot;</font>  <font color=#8b2a0e>&quot;fra - - - - <font color=#1b1baa>{</font>pack -expand 1 -fill both<font color=#1b1baa>}</font>&quot;</font>  <font color=#8b2a0e>&quot;.Lbx - - - - <font color=#1b1baa>{</font>pack -side left -expand 1 -fill both<font color=#1b1baa>}</font>  <font color=#1b1baa>{</font>-h <font color=#1b1baa>$</font>lht -w <font color=#1b1baa>$</font>::alited::complete::maxwidth  -lvar ::alited::complete::comms -exportselection 0<font color=#1b1baa>}</font>&quot;</font>
  ]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>&gt;<font color=#1b1baa>$mlen</font>} {
    <i><font color=#4b5d50># add vertical scrollbar if number of items exceeds max.height</font></i>
    <b><font color=#3a6797>lappend</font></b> lwidgets {.sbvPick + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both} {}}
  }
  <font color=#1b1baa>$obj</font> paveWindow <font color=#1b1baa>$win</font> <font color=#1b1baa>$lwidgets</font>
  <b><font color=#3a6797>set</font></b> ent [<font color=#1b1baa>$obj</font> Ent]
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obj</font> Lbx]
  <b><font color=#3a6797>foreach</font></b> ev {ButtonPress-1 Return KP_Enter KeyPress-space} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;<font color=#1b1baa>$ev</font>&gt; <font color=#8b2a0e>&quot;after idle <font color=#1b1baa>{</font>::alited::complete::SelectCommand <font color=#1b1baa>$</font>obj <font color=#1b1baa>$</font>lbx<font color=#1b1baa>}</font>&quot;</font>}
  }
  ColorPick <font color=#1b1baa>$wtxt</font>
  <font color=#1b1baa>$lbx</font> selection set 0
  <b><font color=#3a6797>lassign</font></b> [TextCursorCoordinates <font color=#1b1baa>$wtxt</font>] X Y
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(IsWindows)</font>} {
    <b><font color=#3a6797>incr</font></b> X 10
    <b><font color=#3a6797>incr</font></b> Y 40
    <b><font color=#3a6797>after</font></b> 100 <font color=#8b2a0e>&quot;wm deiconify <font color=#1b1baa>$</font>win&quot;</font>
  }
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;wm withdraw <font color=#1b1baa>$</font>win; ::apave::CursorAtEnd <font color=#1b1baa>$</font>ent; wm deiconify <font color=#1b1baa>$</font>win&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$ent</font> &lt;Return&gt; {+ alited::complete::EntReturn}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;FocusOut&gt; {alited::complete::PickFocusOut %W}
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obj</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-focus</font> <font color=#1b1baa>$ent</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-geometry</font> +<font color=#1b1baa>$X</font>+<font color=#1b1baa>$Y</font>]
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obj</font> destroy}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne <font color=#8b2a0e>&quot;0&quot;</font>} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>}
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::PickFocusOut'>PickFocusOut</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes the word picker at &quot;focus out&quot; event.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickFocusOut</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>a current widget</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_PickFocusOut' href="javascript:toggleSource('alited_complete_PickFocusOut')">Show source</a></p>
<div id='alited_complete_PickFocusOut' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::PickFocusOut {w} {
  <i><font color=#4b5d50># Closes the word picker at &quot;focus out&quot; event.</font></i>
  <i><font color=#4b5d50>#   w - a current widget</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> obj
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>focus</font></b>] ni [<b><font color=#3a6797>list</font></b> [<font color=#1b1baa>$obj</font> Ent] [<font color=#1b1baa>$obj</font> Lbx]]} {
    <font color=#1b1baa>$obj</font> res <font color=#1b1baa>$win</font> 0
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::PickValid'>PickValid</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Validates the word picker's input.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickValid</span> <span class='ruff_arg'>wtxt V d i s S</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>V</code></code></td><td class='ruff_defitem'>%V of -validatecommand: validation condition</td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>%d of -validatecommand: 1 for insert, 0 for delete</td></tr>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>%i of -validatecommand: index of character</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>%s of -validatecommand: current value of entry</td></tr>
<tr><td class='ruff_defitem'><code><code>S</code></code></td><td class='ruff_defitem'>%S of -validatecommand: string being inserted/deleted</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_PickValid' href="javascript:toggleSource('alited_complete_PickValid')">Show source</a></p>
<div id='alited_complete_PickValid' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::PickValid {wtxt V d i s S} {
  <i><font color=#4b5d50># Validates the word picker's input.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   V - %V of -validatecommand: validation condition</font></i>
  <i><font color=#4b5d50>#   d - %d of -validatecommand: 1 for insert, 0 for delete</font></i>
  <i><font color=#4b5d50>#   i - %i of -validatecommand: index of character</font></i>
  <i><font color=#4b5d50>#   s - %s of -validatecommand: current value of entry</font></i>
  <i><font color=#4b5d50>#   S - %S of -validatecommand: string being inserted/deleted</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> obj
  <b><font color=#3a6797>variable</font></b> comms
  <b><font color=#3a6797>variable</font></b> commsorig
  <b><font color=#3a6797>variable</font></b> wordorig
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$V</font> eq {focusin}} {
    ::apave::CursorAtEnd [<font color=#1b1baa>$obj</font> Ent]
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$d</font> {
    0 {
      <b><font color=#3a6797>set</font></b> curword [<b><font color=#3a6797>string</font></b> replace <font color=#1b1baa>$s</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>set</font></b> lc [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$curword</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lc</font> && <font color=#1b1baa>$lc</font>&lt;[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$wordorig</font>]} {
        <font color=#1b1baa>$obj</font> res <font color=#1b1baa>$win</font> [<b><font color=#3a6797>list</font></b> _alited_ <font color=#1b1baa>$curword</font>] ;<i><font color=#4b5d50># to remake the list</font></i>
      }
    }
    1 {
      <b><font color=#3a6797>set</font></b> curword [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$s</font> 0 <font color=#1b1baa>$i</font>]<font color=#1b1baa>$S</font>[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$s</font> <font color=#1b1baa>$i</font> end]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$curword</font>]==1 && <font color=#1b1baa>$curword</font> ne <font color=#1b1baa>$wordorig</font>} {
        <font color=#1b1baa>$obj</font> res <font color=#1b1baa>$win</font> [<b><font color=#3a6797>list</font></b> _alited_ <font color=#1b1baa>$curword</font>] ;<i><font color=#4b5d50># to remake the list</font></i>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$d</font> != -1} {
    <b><font color=#3a6797>set</font></b> fltcomms [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> com <font color=#1b1baa>$commsorig</font> {
      <b><font color=#3a6797>if</font></b> {[IsMatch <font color=#1b1baa>$curword</font> <font color=#1b1baa>$com</font>]} {
        <b><font color=#3a6797>lappend</font></b> fltcomms <font color=#1b1baa>$com</font>
      }
    }
    <b><font color=#3a6797>set</font></b> comms <font color=#1b1baa>$fltcomms</font>
    ColorPick <font color=#1b1baa>$wtxt</font>
    <b><font color=#3a6797>update</font></b>
  }
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obj</font> Lbx]
    <font color=#1b1baa>$lbx</font> selection clear 0 end
    <font color=#1b1baa>$lbx</font> selection set 0
    <font color=#1b1baa>$lbx</font> activate 0
    <font color=#1b1baa>$lbx</font> see 0
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obj</font> csGet] - - - - - bg fg
    <font color=#1b1baa>$lbx</font> itemconfigure 0 <font color=#6c3e67>-selectbackground</font> <font color=#1b1baa>$bg</font> <font color=#6c3e67>-selectforeground</font> <font color=#1b1baa>$fg</font>
  }
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::SelectCommand'>SelectCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection of command for auto completion.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectCommand</span> <span class='ruff_arg'>obj lbx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>obj</code></code></td><td class='ruff_defitem'>apave object</td></tr>
<tr><td class='ruff_defitem'><code><code>lbx</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_SelectCommand' href="javascript:toggleSource('alited_complete_SelectCommand')">Show source</a></p>
<div id='alited_complete_SelectCommand' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::SelectCommand {obj lbx} {
  <i><font color=#4b5d50># Handles a selection of command for auto completion.</font></i>
  <i><font color=#4b5d50>#   obj - apave object</font></i>
  <i><font color=#4b5d50>#   lbx - listbox's path</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <font color=#1b1baa>$obj</font> res <font color=#1b1baa>$win</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$::alited::complete::comms</font> [<font color=#1b1baa>$lbx</font> curselection]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::TextCursorCoordinates'>TextCursorCoordinates</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets cursor's screen coordinates under cursor in a text. Also, sets the focus on the text (to make this task be possible at all).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TextCursorCoordinates</span> <span class='ruff_arg'>?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of X and Y coordinates.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_TextCursorCoordinates' href="javascript:toggleSource('alited_complete_TextCursorCoordinates')">Show source</a></p>
<div id='alited_complete_TextCursorCoordinates' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::TextCursorCoordinates {{wtxt {}}} {
  <i><font color=#4b5d50># Gets cursor's screen coordinates under cursor in a text.</font></i>
  <i><font color=#4b5d50># Also, sets the focus on the text (to make this task be possible at all).</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50># Returns a list of X and Y coordinates.</font></i>

  <b><font color=#3a6797>set</font></b> res [CursorCoordsChar <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$res</font> X Y ch
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font> eq {} || <font color=#1b1baa>$ch</font> eq <font color=#8b2a0e>&quot;\n&quot;</font>} {
    <i><font color=#4b5d50># EOL =&gt; get a previous char's coordinates</font></i>
    <b><font color=#3a6797>set</font></b> res [CursorCoordsChar <font color=#1b1baa>$wtxt</font> -1c]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::WinGeometry'>WinGeometry</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks and corrects the completion window's geometry (esp. for KDE).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WinGeometry</span> <span class='ruff_arg'>lht</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lht</code></code></td><td class='ruff_defitem'>height of completion list</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_complete_WinGeometry' href="javascript:toggleSource('alited_complete_WinGeometry')">Show source</a></p>
<div id='alited_complete_WinGeometry' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::WinGeometry {lht} {
  <i><font color=#4b5d50># Checks and corrects the completion window's geometry (esp. for KDE).</font></i>
  <i><font color=#4b5d50>#   lht - height of completion list</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>update</font></b>
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>] x+] w h
  <b><font color=#3a6797>lassign</font></b> [TextCursorCoordinates] x y
  <b><font color=#3a6797>set</font></b> w2 [<b><font color=#134070>winfo</font></b> reqwidth <font color=#1b1baa>$win</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$w2</font>&gt;<font color=#1b1baa>$w</font>} {<b><font color=#3a6797>set</font></b> w <font color=#1b1baa>$w2</font>}
  <b><font color=#3a6797>set</font></b> h2 [<b><font color=#134070>winfo</font></b> reqheight <font color=#1b1baa>$win</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$h2</font>&gt;20} {
    <b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font> <font color=#1b1baa>${w}</font>x<font color=#1b1baa>${h2}</font>+<font color=#1b1baa>${x}</font>+<font color=#1b1baa>${y}</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font> 220x325+<font color=#1b1baa>${x}</font>+<font color=#1b1baa>${y}</font>
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::detached'></a>::alited::detached<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::detached-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::detached::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles detached editor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>edited file's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached__create' href="javascript:toggleSource('alited_detached__create')">Show source</a></p>
<div id='alited_detached__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::_create {fname} {
  <i><font color=#4b5d50># Handles detached editor.</font></i>
  <i><font color=#4b5d50>#   fname - edited file's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [Options] id pobj win geo
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$id</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> isfile <font color=#1b1baa>$fname</font>]} {
    alited::Balloon1 <font color=#1b1baa>$fname</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$geo</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geo</font> ne {}} {<b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>$</font>geo&quot;</font>}
  <b><font color=#3a6797>set</font></b> al(detachtools) {}
  <b><font color=#3a6797>foreach</font></b> icon {SaveFile undo redo cut copy paste} {
    <b><font color=#3a6797>set</font></b> img [alited::ini::CreateIcon <font color=#1b1baa>$icon</font>]
    <b><font color=#3a6797>append</font></b> al(detachtools) <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>img \{<font color=#1b1baa>{}</font> &quot;</font>
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$icon</font> {
      SaveFile {
        <b><font color=#3a6797>append</font></b> al(detachtools)  <font color=#8b2a0e>&quot;-com <font color=#1b1baa>{</font>alited::detached::SaveFile <font color=#1b1baa>$</font>pobj <font color=#1b1baa>$</font>fname <font color=#1b1baa>$</font>win<font color=#1b1baa>}</font> -state disabled&quot;</font>
        <b><font color=#3a6797>set</font></b> tip <font color=#1b1baa>$::alited::al(MC,ico$icon)</font>
      }
      undo - redo - cut - copy - paste {
        <b><font color=#3a6797>append</font></b> al(detachtools) <font color=#8b2a0e>&quot;-com <font color=#1b1baa>{</font>alited::detached::Tool <font color=#1b1baa>$</font>pobj <font color=#1b1baa>$</font>icon<font color=#1b1baa>}</font>&quot;</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icon</font> in {undo redo}} {<b><font color=#3a6797>append</font></b> al(detachtools) <font color=#8b2a0e>&quot; -state disabled&quot;</font>}
        <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> totitle <font color=#1b1baa>$icon</font>]
      }
    }
    <b><font color=#3a6797>append</font></b> al(detachtools) <font color=#8b2a0e>&quot; -tip <font color=#1b1baa>{$</font>tip@@ -under 4<font color=#1b1baa>}</font>\}&quot;</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icon</font> in {SaveFile redo}} {
      <b><font color=#3a6797>append</font></b> al(detachtools) <font color=#8b2a0e>&quot; sev 6&quot;</font>
    }
  }
  <b><font color=#3a6797>append</font></b> al(detachtools) <font color=#8b2a0e>&quot; sev 16 lab1 <font color=#1b1baa>{{</font>Find: <font color=#1b1baa>}}</font> CbxFind <font color=#1b1baa>{</font>-font <font color=#1b1baa>{$</font>::apave::FONTMAIN<font color=#1b1baa>}}</font>&quot;</font>
  ::apave::APave create <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$pobj</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$fname</font>
  <font color=#1b1baa>$pobj</font> paveWindow <font color=#1b1baa>$win</font>.fra {
    {fra1 - - 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-cw</font> 1}}
    {.ToolTop - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-array</font> {<font color=#1b1baa>$::alited::al(detachtools)</font>} <font color=#6c3e67>-relief</font> groove <font color=#6c3e67>-borderwidth</font> 1}}
    {.GutText - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 0 <font color=#6c3e67>-fill</font> both}}
    {.FrAText - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both  <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-ipady</font> 0} {<font color=#6c3e67>-background</font> <font color=#1b1baa>$::apave::BGMAIN2</font>}}
    {.frAText.Text - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-h</font> 20 <font color=#6c3e67>-gutter</font> GutText <font color=#6c3e67>-gutterwidth</font> <font color=#1b1baa>$al(ED,gutterwidth)</font>  <font color=#6c3e67>-guttershift</font> <font color=#1b1baa>$al(ED,guttershift)</font>}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> y}}
  }
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$pobj</font> Text]
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$pobj</font> CbxFind]
  <b><font color=#3a6797>foreach</font></b> ev {Return KP_Enter F3} {
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$cbx</font> &lt;<font color=#1b1baa>$ev</font>&gt; <font color=#8b2a0e>&quot;alited::detached::Find <font color=#1b1baa>$</font>pobj <font color=#1b1baa>$</font>wtxt&quot;</font>
  }
  <b><font color=#3a6797>foreach</font></b> ev {f F} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-<font color=#1b1baa>$ev</font>&gt; <font color=#8b2a0e>&quot;focus <font color=#1b1baa>$</font>cbx&quot;</font>}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;F3&gt; <font color=#8b2a0e>&quot;alited::detached::Find <font color=#1b1baa>$</font>pobj <font color=#1b1baa>$</font>wtxt 1&quot;</font>
  <b><font color=#3a6797>foreach</font></b> ev [alited::pref::BindKey2 0 -] {
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;<font color=#1b1baa>$ev</font>&gt; <font color=#8b2a0e>&quot;alited::detached::SaveFile <font color=#1b1baa>$</font>pobj <font color=#1b1baa>$</font>fname <font color=#1b1baa>$</font>win&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(fontdetach)</font>} {<b><font color=#3a6797>set</font></b> fsz <font color=#1b1baa>$al(FONTSIZE,std)</font>} {<b><font color=#3a6797>set</font></b> fsz {}}
  <b><font color=#3a6797>after</font></b> 50 after idle <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pobj fillGutter <font color=#1b1baa>$</font>wtxt; alited::file::MakeThemHighlighted <font color=#1b1baa>{}</font> <font color=#1b1baa>$</font>wtxt; alited::detached::DisplayText <font color=#1b1baa>$</font>pobj <font color=#1b1baa>{$</font>fname<font color=#1b1baa>}</font>; alited::main::HighlightText <font color=#1b1baa>{}</font> <font color=#1b1baa>{$</font>fname<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>wtxt <font color=#1b1baa>{</font>alited::detached::Modified <font color=#1b1baa>$</font>pobj <font color=#1b1baa>$</font>win<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>$</font>fsz; &quot;</font>
  <font color=#1b1baa>$pobj</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> no <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {300 200}  <font color=#6c3e67>-onclose</font> <font color=#8b2a0e>&quot;alited::detached::Close <font color=#1b1baa>$</font>id <font color=#1b1baa>$</font>pobj <font color=#1b1baa>$</font>win <font color=#1b1baa>{$</font>fname<font color=#1b1baa>}</font>&quot;</font> <font color=#6c3e67>-focus</font> <font color=#1b1baa>$wtxt</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
  <b><font color=#3a6797>after</font></b> [<b><font color=#3a6797>expr</font></b> {300+(<font color=#1b1baa>$id</font>%9)*100}] after idle <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pobj fillGutter <font color=#1b1baa>$</font>wtxt&quot;</font> ;<i><font color=#4b5d50># for sure</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Open files in detached editors.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>fnames</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fnames</code></code></td><td class='ruff_defitem'>file name list</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached__run' href="javascript:toggleSource('alited_detached__run')">Show source</a></p>
<div id='alited_detached__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::_run {fnames} {
  <i><font color=#4b5d50># Open files in detached editors.</font></i>
  <i><font color=#4b5d50>#   fnames - file name list</font></i>

  <b><font color=#3a6797>foreach</font></b> fn <font color=#1b1baa>$fnames</font> {
    _create <font color=#1b1baa>$fn</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::Close'>Close</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes detached editor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Close</span> <span class='ruff_arg'>id pobj win fname ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>id</code></code></td><td class='ruff_defitem'>editor's index</td></tr>
<tr><td class='ruff_defitem'><code><code>pobj</code></code></td><td class='ruff_defitem'>apave object</td></tr>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>editor's window</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached_Close' href="javascript:toggleSource('alited_detached_Close')">Show source</a></p>
<div id='alited_detached_Close' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::Close {id pobj win fname args} {
  <i><font color=#4b5d50># Closes detached editor.</font></i>
  <i><font color=#4b5d50>#   id - editor's index</font></i>
  <i><font color=#4b5d50>#   pobj - apave object</font></i>
  <i><font color=#4b5d50>#   win - editor's window</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$id</font>&lt;=8} {
    <i><font color=#4b5d50># save only first ones' geometry (avoiding fat history)</font></i>
    <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$pobj</font> [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  }
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$pobj</font> Text]
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> edit modified]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Save changes made to the text?}]
    <b><font color=#3a6797>switch</font></b> [alited::msg yesnocancel warn <font color=#1b1baa>$msg</font> {} <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$win</font>] {
      1 {SaveFile <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$win</font>}
      2 {}
      <b><font color=#3a6797>default</font></b> {<b><font color=#ca14ca>return</font></b>}
    }
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <font color=#1b1baa>$pobj</font> destroy
  alited::ini::SaveIni
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::DisplayText'>DisplayText</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays file's text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisplayText</span> <span class='ruff_arg'>pobj fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pobj</code></code></td><td class='ruff_defitem'>apave object of detached editor</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached_DisplayText' href="javascript:toggleSource('alited_detached_DisplayText')">Show source</a></p>
<div id='alited_detached_DisplayText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::DisplayText {pobj fname} {
  <i><font color=#4b5d50># Displays file's text.</font></i>
  <i><font color=#4b5d50>#   pobj - apave object of detached editor</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <font color=#1b1baa>$pobj</font> displayText [<font color=#1b1baa>$pobj</font> Text] [readTextFile <font color=#1b1baa>$fname</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::Find'>Find</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds string in text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Find</span> <span class='ruff_arg'>pobj wtxt ?donext?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pobj</code></code></td><td class='ruff_defitem'>apave object of detached editor</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>donext</code></code></td><td class='ruff_defitem'>&quot;1&quot; means 'from a current position'; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached_Find' href="javascript:toggleSource('alited_detached_Find')">Show source</a></p>
<div id='alited_detached_Find' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::Find {pobj wtxt {donext 0}} {
  <i><font color=#4b5d50># Finds string in text.</font></i>
  <i><font color=#4b5d50>#   pobj - apave object of detached editor</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   donext - &quot;1&quot; means 'from a current position'</font></i>

  <b><font color=#3a6797>variable</font></b> varFind
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$pobj</font> CbxFind]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> varFind [<font color=#1b1baa>$cbx</font> get]] ne {}} {
    <font color=#1b1baa>$pobj</font> findInText <font color=#1b1baa>$donext</font> <font color=#1b1baa>$wtxt</font> ::alited::detached::varFind
    <b><font color=#3a6797>set</font></b> values [<font color=#1b1baa>$cbx</font> cget <font color=#6c3e67>-values</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$varFind</font> ni <font color=#1b1baa>$values</font>} {
      <font color=#1b1baa>$cbx</font> configure <font color=#6c3e67>-values</font> [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$values</font> 0 <font color=#1b1baa>$varFind</font>]
    }
  }
  <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$pobj</font> Text]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::Modified'>Modified</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Callback for modifying text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Modified</span> <span class='ruff_arg'>pobj win wtxt ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pobj</code></code></td><td class='ruff_defitem'>apave object of detached editor</td></tr>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached_Modified' href="javascript:toggleSource('alited_detached_Modified')">Show source</a></p>
<div id='alited_detached_Modified' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::Modified {pobj win wtxt args} {
  <i><font color=#4b5d50># Callback for modifying text.</font></i>
  <i><font color=#4b5d50>#   pobj - apave object of detached editor</font></i>
  <i><font color=#4b5d50>#   win - window's path</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>string</font></b> trimleft [<b><font color=#134070>wm</font></b> title <font color=#1b1baa>$win</font>] *]
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> edit modified]} {
      <b><font color=#3a6797>set</font></b> ttl *<font color=#1b1baa>$ttl</font>
      <b><font color=#3a6797>set</font></b> state normal
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> state disabled
    }
    <b><font color=#134070>wm</font></b> title <font color=#1b1baa>$win</font> <font color=#1b1baa>$ttl</font>
    [<font color=#1b1baa>$pobj</font> ToolTop].buT_alimg_SaveFile configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
    <b><font color=#3a6797>foreach</font></b> do {undo redo} {
      <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> edit can<font color=#1b1baa>$do</font>]} {<b><font color=#3a6797>set</font></b> state normal} <b><font color=#3a6797>else</font></b> {<b><font color=#3a6797>set</font></b> state disabled}
      [<font color=#1b1baa>$pobj</font> ToolTop].buT_alimg_<font color=#1b1baa>$do</font> configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
    }

  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::Options'>Options</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of new detached editor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Options</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of index, apave object name, window path, geometry. The geometry is of some previously used window or &quot;&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached_Options' href="javascript:toggleSource('alited_detached_Options')">Show source</a></p>
<div id='alited_detached_Options' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::Options {} {
  <i><font color=#4b5d50># Gets options of new detached editor.</font></i>
  <i><font color=#4b5d50># Returns a list of index, apave object name, window path, geometry.</font></i>
  <i><font color=#4b5d50># The geometry is of some previously used window or &quot;&quot;.</font></i>

  <b><font color=#3a6797>while</font></b> {[<b><font color=#3a6797>incr</font></b> id]&lt;99} {
    <b><font color=#3a6797>lassign</font></b> [alited::file::DetachedInfo <font color=#1b1baa>$id</font>] pobj win
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists <font color=#1b1baa>$pobj</font>]} {
      <b><font color=#3a6797>set</font></b> geo {}  ;<i><font color=#4b5d50># vacant yet</font></i>
    } <b><font color=#3a6797>elseif</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
      <b><font color=#3a6797>set</font></b> geo [::apave::checkGeometry [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$pobj</font>]] ;<i><font color=#4b5d50># was used</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#ca14ca>continue</font></b>
    }
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$id</font> <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$win</font> <font color=#1b1baa>$geo</font>]
  }
  alited::Balloon <font color=#8b2a0e>&quot;Too many requests for detachments!&quot;</font>
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::SaveFile'>SaveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves changed text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFile</span> <span class='ruff_arg'>pobj fname win</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pobj</code></code></td><td class='ruff_defitem'>apave object of detached editor</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached_SaveFile' href="javascript:toggleSource('alited_detached_SaveFile')">Show source</a></p>
<div id='alited_detached_SaveFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::SaveFile {pobj fname win} {
  <i><font color=#4b5d50># Saves changed text.</font></i>
  <i><font color=#4b5d50>#   pobj - apave object of detached editor</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   win - window's path</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$pobj</font> Text]
  <b><font color=#3a6797>if</font></b> {[alited::file::SaveText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$fname</font>]} {
    <font color=#1b1baa>$wtxt</font> edit modified no
    alited::detached::Modified <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$win</font> <font color=#1b1baa>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::detached::Tool'>Tool</a><span class='ns_scope'> [<a href="alited.html#::alited::detached" title="::alited::detached" class='ruff_cmd'>::alited::detached</a>]</span><span class='tinylink'><a href='alited.html#::alited::detached'>detached</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Applies tool to text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tool</span> <span class='ruff_arg'>pobj tool</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pobj</code></code></td><td class='ruff_defitem'>apave object of detached editor</td></tr>
<tr><td class='ruff_defitem'><code><code>tool</code></code></td><td class='ruff_defitem'>tool of toolbar</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_detached_Tool' href="javascript:toggleSource('alited_detached_Tool')">Show source</a></p>
<div id='alited_detached_Tool' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::detached::Tool {pobj tool} {
  <i><font color=#4b5d50># Applies tool to text.</font></i>
  <i><font color=#4b5d50>#   pobj - apave object of detached editor</font></i>
  <i><font color=#4b5d50>#   tool - tool of toolbar</font></i>

  <b><font color=#134070>event</font></b> generate [<font color=#1b1baa>$pobj</font> Text] &lt;&lt;[<b><font color=#3a6797>string</font></b> totitle <font color=#1b1baa>$tool</font>]&gt;&gt;
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::edit'></a>::alited::edit<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::edit-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupDirFileNames'>BackupDirFileNames</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets directory and file names for backuping.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupDirFileNames</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>current tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of names: directory, source file, target original file</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_BackupDirFileNames' href="javascript:toggleSource('alited_edit_BackupDirFileNames')">Show source</a></p>
<div id='alited_edit_BackupDirFileNames' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::BackupDirFileNames {TID} {
  <i><font color=#4b5d50># Gets directory and file names for backuping.</font></i>
  <i><font color=#4b5d50>#   TID - current tab's ID</font></i>
  <i><font color=#4b5d50># Returns a list of names:</font></i>
  <i><font color=#4b5d50>#   directory, source file, target original file</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(BACKUP)</font> eq {}} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$al(BACKUP)</font>]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$dir</font>] && [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$dir</font>} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font>
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> fname3 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$dir</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupFile'>BackupFile</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a backup copy of a file after the first modification of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupFile</span> <span class='ruff_arg'>TID ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID of the file</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if {orig}, makes an original copy of a file, otherwise makes .bak copy; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_BackupFile' href="javascript:toggleSource('alited_edit_BackupFile')">Show source</a></p>
<div id='alited_edit_BackupFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::BackupFile {TID {mode {}}} {
  <i><font color=#4b5d50># Makes a backup copy of a file after the first modification of it.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID of the file</font></i>
  <i><font color=#4b5d50>#   mode - if {orig}, makes an original copy of a file, otherwise makes .bak copy</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [BackupDirFileNames <font color=#1b1baa>$TID</font>] dir fname fname2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dir</font> ne {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq {}} {
      <b><font color=#3a6797>set</font></b> fname2 [BackupFileName <font color=#1b1baa>$fname2</font>]
    }
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>file</font></b> copy <font color=#6c3e67>-force</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>
      ::apave::logMessage <font color=#8b2a0e>&quot;backup <font color=#1b1baa>$</font>fname -&gt; <font color=#1b1baa>$</font>fname2&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupFileName'>BackupFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a backup name for a file (checking for backup's maximum).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupFileName</span> <span class='ruff_arg'>fname ?iincr?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>name of target file</td></tr>
<tr><td class='ruff_defitem'><code><code>iincr</code></code></td><td class='ruff_defitem'>incrementation for backup index; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The iincr parameter is used to get the last backup's name: if no backups, the empty string is returned.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_BackupFileName' href="javascript:toggleSource('alited_edit_BackupFileName')">Show source</a></p>
<div id='alited_edit_BackupFileName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::BackupFileName {fname {iincr 1}} {
  <i><font color=#4b5d50># Gets a backup name for a file (checking for backup's maximum).</font></i>
  <i><font color=#4b5d50>#   fname - name of target file</font></i>
  <i><font color=#4b5d50>#   iincr - incrementation for backup index</font></i>
  <i><font color=#4b5d50># The iincr parameter is used to get the last backup's name:</font></i>
  <i><font color=#4b5d50># if no backups, the empty string is returned.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(MAXBACKUP)</font>&gt;1} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> baks [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> <font color=#1b1baa>${fname}<b><font color=#3a6797></font>*</font></b>]] eq {}} {
      <b><font color=#3a6797>set</font></b> nbak 1
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$iincr</font>} {<b><font color=#ca14ca>return</font></b> {}} ;<i><font color=#4b5d50># no backups yet</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>foreach</font></b> bak <font color=#1b1baa>$baks</font> {
        <b><font color=#3a6797>lappend</font></b> bakdata [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$bak</font>] <font color=#1b1baa>$bak</font>]
      }
      <b><font color=#3a6797>set</font></b> bakdata [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#1b1baa>$bakdata</font>]
      <b><font color=#3a6797>set</font></b> bak1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$bakdata</font> 0 1]
      <b><font color=#3a6797>set</font></b> nbak [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$bak1</font> -.] end-1]
      <b><font color=#3a6797>foreach</font></b> delbak [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$bakdata</font> <font color=#1b1baa>$al(MAXBACKUP)</font> end] {
        <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$delbak</font> 1]}
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>incr</font></b> nbak <font color=#1b1baa>$iincr</font>}] || <font color=#1b1baa>$nbak</font>&gt;<font color=#1b1baa>$al(MAXBACKUP)</font>} {<b><font color=#3a6797>set</font></b> nbak 1}
    }
    <b><font color=#3a6797>append</font></b> fname -<font color=#1b1baa>$nbak</font>.bak
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::BindPluginables'>BindPluginables</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds pluginable formatters to the edited text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindPluginables</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_BindPluginables' href="javascript:toggleSource('alited_edit_BindPluginables')">Show source</a></p>
<div id='alited_edit_BindPluginables' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::BindPluginables {wtxt} {
  <i><font color=#4b5d50># Binds pluginable formatters to the edited text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> lformat [<b><font color=#3a6797>array</font></b> names al <font color=#6c3e67>-glob</font> FORMATS,*]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$lformat</font>]} {
    SourceFormatTcl
    <b><font color=#3a6797>foreach</font></b> n <font color=#1b1baa>$lformat</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al($n)</font> fullformname ev
      <b><font color=#3a6797>set</font></b> fform [FormatterName <font color=#1b1baa>$fullformname</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists ::alited::format::bind6(<font color=#1b1baa>$fform</font>)] &&  [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$::alited::format::bind6($fform)</font>]} {
        <b><font color=#3a6797>foreach</font></b> b <font color=#1b1baa>$::alited::format::bind6($fform)</font> {
          <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$b</font> ev com
          <b><font color=#3a6797>catch</font></b> {
            <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$ev</font> <font color=#1b1baa>$com</font>
          }
        }
      } <b><font color=#3a6797>else</font></b> {
        RunFormat <font color=#1b1baa>$fullformname</font> yes
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CheckSaveIcons'>CheckSaveIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for states of save buttons at modifications of files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckSaveIcons</span> <span class='ruff_arg'>modif</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>modif</code></code></td><td class='ruff_defitem'>yes, if a file has been modified</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_CheckSaveIcons' href="javascript:toggleSource('alited_edit_CheckSaveIcons')">Show source</a></p>
<div id='alited_edit_CheckSaveIcons' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::CheckSaveIcons {modif} {
  <i><font color=#4b5d50># Checks for states of save buttons at modifications of files.</font></i>
  <i><font color=#4b5d50>#   modif - yes, if a file has been modified</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> marked [alited::bar::BAR listFlag <font color=#8b2a0e>&quot;m&quot;</font>]
  <b><font color=#3a6797>set</font></b> b_save [alited::tool::ToolButName SaveFile]
  <b><font color=#3a6797>set</font></b> b_saveall [alited::tool::ToolButName saveall]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$marked</font>]} {
    <b><font color=#3a6797>foreach</font></b> but {SaveFile saveall} {
      [alited::tool::ToolButName <font color=#1b1baa>$but</font>] configure <font color=#6c3e67>-state</font> disabled
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$modif</font>} {<b><font color=#3a6797>set</font></b> stat normal} {<b><font color=#3a6797>set</font></b> stat disabled}
    <font color=#1b1baa>$b_save</font> configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stat</font>
    <font color=#1b1baa>$b_saveall</font> configure <font color=#6c3e67>-state</font> normal
  }
  <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 5 <font color=#6c3e67>-state</font> [<font color=#1b1baa>$b_save</font> cget <font color=#6c3e67>-state</font>]
  <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 7 <font color=#6c3e67>-state</font> [<font color=#1b1baa>$b_saveall</font> cget <font color=#6c3e67>-state</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CheckUndoRedoIcons'>CheckUndoRedoIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for states of undo/redo button for a file being modified.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUndoRedoIcons</span> <span class='ruff_arg'>wtxt TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID of the file</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_CheckUndoRedoIcons' href="javascript:toggleSource('alited_edit_CheckUndoRedoIcons')">Show source</a></p>
<div id='alited_edit_CheckUndoRedoIcons' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::CheckUndoRedoIcons {wtxt TID} {
  <i><font color=#4b5d50># Checks for states of undo/redo button for a file being modified.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID of the file</font></i>

  <b><font color=#3a6797>set</font></b> TIDundo [alited::bar::BAR cget <font color=#6c3e67>--TIDundo</font>]
  <b><font color=#3a6797>set</font></b> oldundo [alited::bar::BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>--undo</font>]
  <b><font color=#3a6797>set</font></b> oldredo [alited::bar::BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>--redo</font>]
  <b><font color=#3a6797>set</font></b> newundo [<font color=#1b1baa>$wtxt</font> edit canundo]
  <b><font color=#3a6797>set</font></b> newredo [<font color=#1b1baa>$wtxt</font> edit canredo]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TIDundo</font> ne <font color=#1b1baa>$TID</font> || <font color=#1b1baa>$oldundo</font> ne <font color=#1b1baa>$newundo</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newundo</font>} {<b><font color=#3a6797>set</font></b> stat normal} {<b><font color=#3a6797>set</font></b> stat disabled}
    [alited::tool::ToolButName undo] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stat</font>
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>--undo</font> <font color=#1b1baa>$newundo</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TIDundo</font> ne <font color=#1b1baa>$TID</font> || <font color=#1b1baa>$oldredo</font> ne <font color=#1b1baa>$newredo</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newredo</font>} {<b><font color=#3a6797>set</font></b> stat normal} {<b><font color=#3a6797>set</font></b> stat disabled}
    [alited::tool::ToolButName redo] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stat</font>
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>--redo</font> <font color=#1b1baa>$newredo</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldundo</font> ne {} && !<font color=#1b1baa>$oldundo</font> && !<font color=#1b1baa>$oldredo</font> && <font color=#1b1baa>$newundo</font>} {
    BackupFile <font color=#1b1baa>$TID</font> orig
  }
  alited::bar::BAR configure <font color=#6c3e67>--TIDundo</font> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Comment'>Comment</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Comments selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Comment</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::edit::UnComment" title="UnComment" class='ruff_cmd'>UnComment</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_Comment' href="javascript:toggleSource('alited_edit_Comment')">Show source</a></p>
<div id='alited_edit_Comment' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::Comment {} {
  <i><font color=#4b5d50># Comments selected lines of text.</font></i>
  <i><font color=#4b5d50># See also: UnComment</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav al al
  <b><font color=#3a6797>set</font></b> ch [CommentChar]
  <b><font color=#3a6797>set</font></b> sels [SelectedLines]
  <b><font color=#3a6797>set</font></b> wtxt [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$sels</font> 0]
  undoIn <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>foreach</font></b> {l1 l2} [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$sels</font> 1 end] {
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
      <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
      <b><font color=#3a6797>set</font></b> col [<font color=#1b1baa>$obPav</font> leadingSpaces <font color=#1b1baa>$line</font>]
      <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$al(commentmode)</font> {
        1 {<font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$ch</font>}
        2 {<font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$l</font>.<font color=#1b1baa>$col</font> <font color=#1b1baa>$ch</font>}
        <b><font color=#3a6797>default</font></b> {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font> eq <font color=#8b2a0e>&quot;#&quot;</font>} {
            <i><font color=#4b5d50># comment-out with TODO comment: to see / to find / to do them afterwards</font></i>
            <i><font color=#4b5d50># for Tcl code: it needs to disable also all braces with #\{ #\} patterns</font></i>
            <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \} #\\\} \{ #\\\{] <font color=#1b1baa>$line</font>]
          }
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$ch</font>!
        }
      }
    }
  }
  undoOut <font color=#1b1baa>$wtxt</font>
  SelectLines <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>
  <b><font color=#3a6797>after</font></b> idle alited::tree::RecreateTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CommentChar'>CommentChar</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the commenting chars for a current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CommentChar</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the commenting chars for a current file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_CommentChar' href="javascript:toggleSource('alited_edit_CommentChar')">Show source</a></p>
<div id='alited_edit_CommentChar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::CommentChar {} {
  <i><font color=#4b5d50># Returns the commenting chars for a current file.</font></i>

  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {[alited::file::IsClang <font color=#1b1baa>$fname</font>]} {
    <b><font color=#ca14ca>return</font></b> //
  }
  <b><font color=#ca14ca>return</font></b> #
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CompareByLength'>CompareByLength</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Compares two string by length.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CompareByLength</span> <span class='ruff_arg'>s1 s2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>s1</code></code></td><td class='ruff_defitem'>1st string</td></tr>
<tr><td class='ruff_defitem'><code><code>s2</code></code></td><td class='ruff_defitem'>2nd string</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_CompareByLength' href="javascript:toggleSource('alited_edit_CompareByLength')">Show source</a></p>
<div id='alited_edit_CompareByLength' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::CompareByLength {s1 s2} {
  <i><font color=#4b5d50># Compares two string by length.</font></i>
  <i><font color=#4b5d50>#   s1 - 1st string</font></i>
  <i><font color=#4b5d50>#   s2 - 2nd string</font></i>

  <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$s1</font>]
  <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$s2</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l1</font>&gt;<font color=#1b1baa>$l2</font>} {
    <b><font color=#ca14ca>return</font></b> 1
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$l1</font>&lt;<font color=#1b1baa>$l2</font>} {
    <b><font color=#ca14ca>return</font></b> -1
  }
  <b><font color=#ca14ca>return</font></b> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ControlLeft'>ControlLeft</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Goes to a previous word's start/end as seen from programmer's viewpoint.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ControlLeft</span> <span class='ruff_arg'>txt s</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>key state</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The code is rather efficient with long sequences of non-word chars.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="https://core.tcl-lang.org/tk/tktview/168f3ef130" >Going_on_words_with_Ctrl+arrow</a>, <a href="https://core.tcl-lang.org/tk/tktview/57b821d2db" >text_index_{insert_wordstart}</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_ControlLeft' href="javascript:toggleSource('alited_edit_ControlLeft')">Show source</a></p>
<div id='alited_edit_ControlLeft' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ControlLeft {txt s} {
  <i><font color=#4b5d50># Goes to a previous word's start/end as seen from programmer's viewpoint.</font></i>
  <i><font color=#4b5d50>#   txt - text's path</font></i>
  <i><font color=#4b5d50>#   s - key state</font></i>
  <i><font color=#4b5d50># The code is rather efficient with long sequences of non-word chars.</font></i>
  <i><font color=#4b5d50># See also:</font></i>
  <i><font color=#4b5d50>#   [Going_on_words_with_Ctrl+arrow](https://core.tcl-lang.org/tk/tktview/168f3ef130)</font></i>
  <i><font color=#4b5d50>#   [text_index_{insert_wordstart}](https://core.tcl-lang.org/tk/tktview/57b821d2db)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$s</font> % 2} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$txt</font> index insert]
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$pos</font> .] -&gt; col
  <b><font color=#3a6797>set</font></b> linestart [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>while</font></b> {<font color=#1b1baa>$linestart</font>&gt;=0} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$txt</font> get <font color=#1b1baa>$linestart</font>.0 <font color=#1b1baa>$linestart</font>.<font color=#1b1baa>$col</font>]
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$line</font>]} {[<b><font color=#3a6797>incr</font></b> i -1]&gt;=0} {} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is wordchar <font color=#6c3e67>-strict</font> [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>]]} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is wordchar <font color=#6c3e67>-strict</font> [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>-1}]]]} {
          <b><font color=#3a6797>set</font></b> pos1 <font color=#1b1baa>$linestart</font>.<font color=#1b1baa>$i</font>
          <b><font color=#3a6797>set</font></b> pos2 [<font color=#1b1baa>$txt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos1 wordend&quot;</font>]
          <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$txt</font> compare <font color=#1b1baa>$pos2</font> &lt; <font color=#1b1baa>$pos</font>]} {<b><font color=#3a6797>set</font></b> pos1 <font color=#1b1baa>$pos2</font>}
          ::tk::TextSetCursor <font color=#1b1baa>$txt</font> <font color=#1b1baa>$pos1</font>
          <b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> break
        }
      }
    }
    <b><font color=#3a6797>incr</font></b> linestart -1
    <b><font color=#3a6797>set</font></b> col {end +1c}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> break
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ControlRight'>ControlRight</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Goes to a next word's start as seen from programmer's viewpoint.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ControlRight</span> <span class='ruff_arg'>txt s</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>key state</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The code is rather efficient with long sequences of non-word chars. <a href="https://core.tcl-lang.org/tk/tktview/168f3ef130" >Going_on_words_with_Ctrl+arrow</a> <a href="https://core.tcl-lang.org/tk/tktview/57b821d2db" >text_index_{insert_wordstart}</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_ControlRight' href="javascript:toggleSource('alited_edit_ControlRight')">Show source</a></p>
<div id='alited_edit_ControlRight' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ControlRight {txt s} {
  <i><font color=#4b5d50># Goes to a next word's start as seen from programmer's viewpoint.</font></i>
  <i><font color=#4b5d50>#   txt - text's path</font></i>
  <i><font color=#4b5d50>#   s - key state</font></i>
  <i><font color=#4b5d50># The code is rather efficient with long sequences of non-word chars.</font></i>
  <i><font color=#4b5d50>#   [Going_on_words_with_Ctrl+arrow](https://core.tcl-lang.org/tk/tktview/168f3ef130)</font></i>
  <i><font color=#4b5d50>#   [text_index_{insert_wordstart}](https://core.tcl-lang.org/tk/tktview/57b821d2db)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$s</font> % 2} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$txt</font> index <font color=#8b2a0e>&quot;insert wordend&quot;</font>]
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$pos</font> .] -&gt; col
  <b><font color=#3a6797>set</font></b> linestart [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$txt</font> index insert])}]
  <b><font color=#3a6797>set</font></b> lineend [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$txt</font> index end])}]
  <b><font color=#3a6797>while</font></b> {<font color=#1b1baa>$linestart</font> &lt;= <font color=#1b1baa>$lineend</font>} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$txt</font> get <font color=#1b1baa>$linestart</font>.0 <font color=#1b1baa>$linestart</font>.end]
    <b><font color=#3a6797>if</font></b> {int(<font color=#1b1baa>$pos</font>)&gt;<font color=#1b1baa>$linestart</font>} {
      <b><font color=#3a6797>set</font></b> col [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$line</font>]
    }
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-indices</font> <font color=#6c3e67>-start</font> <font color=#1b1baa>$col</font> <font color=#6c3e67>-inline</font> <font color=#8b2a0e>&quot;\\w<font color=#1b1baa>{</font>1<font color=#1b1baa>}</font>&quot;</font> <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>]} {
      ::tk::TextSetCursor <font color=#1b1baa>$txt</font> <font color=#1b1baa>$linestart</font>.[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$res</font> 0 0]
      <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>incr</font></b> linestart].[<b><font color=#3a6797>set</font></b> col 0]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> break
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::DispatchMacro'>DispatchMacro</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Dispatches macro actions.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DispatchMacro</span> <span class='ruff_arg'>?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>what to do; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_DispatchMacro' href="javascript:toggleSource('alited_edit_DispatchMacro')">Show source</a></p>
<div id='alited_edit_DispatchMacro' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::DispatchMacro {{mode {}}} {
  <i><font color=#4b5d50># Dispatches macro actions.</font></i>
  <i><font color=#4b5d50>#   mode - what to do</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> macrosmode
  MacroInit
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> ne {}} {<b><font color=#3a6797>set</font></b> macrosmode <font color=#1b1baa>$mode</font>}
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$macrosmode</font> {
    <font color=#8b2a0e>&quot;item*&quot;</font>    {InputMacro [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$macrosmode</font> 4 end]}
    <font color=#8b2a0e>&quot;record&quot;</font>   {
      <b><font color=#3a6797>set</font></b> fname [MacroFileName <font color=#1b1baa>$al(activemacro)</font>]
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(macrocomment)]} {ReadMacroComment <font color=#1b1baa>$fname</font>}  ;<i><font color=#4b5d50># get the comment</font></i>
      ::playtkl::end <font color=#1b1baa>$al(macrocomment)</font>
      <b><font color=#3a6797>set</font></b> macrosmode {}
    }
    <font color=#8b2a0e>&quot;quickrec&quot;</font> {
      <b><font color=#3a6797>set</font></b> al(activemacro) <font color=#1b1baa>$al(MC,quickmacro)</font>
      <b><font color=#3a6797>set</font></b> al(macromouse) no
      DoMacro record <font color=#1b1baa>$al(MC,quickmacro)</font>
    }
    <font color=#8b2a0e>&quot;init&quot;</font>     {
      <i><font color=#4b5d50># the very first call of DispatchMacro: activate an old active macro</font></i>
      MacroMenu <font color=#1b1baa>$al(activemacro)</font> yes
      DoMacro play <font color=#1b1baa>$al(activemacro)</font>
      <b><font color=#3a6797>set</font></b> macrosmode {}
      <b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>set</font></b> alited::edit::macrosmode play}
    }
    <font color=#8b2a0e>&quot;play&quot;</font>     {
      DoMacro play
      <b><font color=#3a6797>set</font></b> macrosmode {}
      <b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>set</font></b> alited::edit::macrosmode play}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::DoMacro'>DoMacro</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Plays or records a macro.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoMacro</span> <span class='ruff_arg'>mode ?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>play / record</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>name of recorded file; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_DoMacro' href="javascript:toggleSource('alited_edit_DoMacro')">Show source</a></p>
<div id='alited_edit_DoMacro' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::DoMacro {mode {fname {}}} {
  <i><font color=#4b5d50># Plays or records a macro.</font></i>
  <i><font color=#4b5d50>#   mode - play / record</font></i>
  <i><font color=#4b5d50>#   fname - name of recorded file</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> macrosmode
  MacroInit
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$macrosmode</font> eq <font color=#8b2a0e>&quot;record&quot;</font>} {  ;<i><font color=#4b5d50># repeated recording?</font></i>
    ::playtkl::end
    WatchMacro
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fname [MacroFileName <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq <font color=#8b2a0e>&quot;play&quot;</font>} {
      <b><font color=#3a6797>if</font></b> {[MacroExists <font color=#1b1baa>$fname</font>]} {
        <i><font color=#4b5d50># play the macro after a pause to dismiss intervening events</font></i>
        <b><font color=#3a6797>after</font></b> 50 [<b><font color=#3a6797>list</font></b> after idle [<b><font color=#3a6797>list</font></b> after 50 [<b><font color=#3a6797>list</font></b> after idle alited::edit::DoMacro <font color=#1b1baa>$mode</font>]]]
      }
      <b><font color=#ca14ca>return</font></b> no
    }
  }
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;focus <font color=#1b1baa>$</font>wtxt&quot;</font>
  <b><font color=#3a6797>set</font></b> macrosmode <font color=#1b1baa>$mode</font>
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$mode</font> {
    <font color=#8b2a0e>&quot;record&quot;</font> {
      <b><font color=#3a6797>set</font></b> al(activemacro) <font color=#1b1baa>$name</font>
      <b><font color=#3a6797>after</font></b> 100 [<b><font color=#3a6797>list</font></b> ::playtkl::record <font color=#1b1baa>$fname</font> <font color=#1b1baa>$al(acc_16)</font> <font color=#1b1baa>$al(macromouse)</font>]
      <b><font color=#3a6797>after</font></b> 200 alited::edit::WatchMacro
      alited::Message <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>msgcat::mc Recording:<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>name&quot;</font> 5; <b><font color=#134070>bell</font></b>
      <b><font color=#134070>bell</font></b>
    }
    <font color=#8b2a0e>&quot;play&quot;</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> ne {}} {
        alited::Message <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>msgcat::mc Playing:<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>name&quot;</font> 3
      } <b><font color=#3a6797>else</font></b> {
        alited::Message {}
      }
      <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtxt</font>
      undoIn <font color=#1b1baa>$wtxt</font>
      ::playtkl::replay <font color=#1b1baa>$fname</font> <font color=#8b2a0e>&quot;::apave::undoOut <font color=#1b1baa>$</font>wtxt&quot;</font> [<b><font color=#3a6797>list</font></b> *frAText.text* <font color=#1b1baa>$wtxt</font>] yes <font color=#1b1baa>$wtxt</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::EscapeValue'>EscapeValue</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Escapes a value's backslashes and braces.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EscapeValue</span> <span class='ruff_arg'>value</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>value</code></code></td><td class='ruff_defitem'>the value</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_EscapeValue' href="javascript:toggleSource('alited_edit_EscapeValue')">Show source</a></p>
<div id='alited_edit_EscapeValue' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::EscapeValue {value} {
  <i><font color=#4b5d50># Escapes a value's backslashes and braces.</font></i>
  <i><font color=#4b5d50>#   value - the value</font></i>

  <b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\ \\\\ \} \\\} \{ \\\{] <font color=#1b1baa>$value</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::FindColorValues'>FindColorValues</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds color values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindColorValues</span> <span class='ruff_arg'>mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>1 for &quot;find in all text&quot;, 2 for &quot;find in current page&quot;, 3 &quot;return RF&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_FindColorValues' href="javascript:toggleSource('alited_edit_FindColorValues')">Show source</a></p>
<div id='alited_edit_FindColorValues' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::FindColorValues {mode} {
  <i><font color=#4b5d50># Finds color values.</font></i>
  <i><font color=#4b5d50>#   mode - 1 for &quot;find in all text&quot;, 2 for &quot;find in current page&quot;, 3 &quot;return RF&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> RF {#([0-9a-fA-F]{3,6})}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font>==3} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$RF</font>}
  <b><font color=#3a6797>set</font></b> RE {#([0-9a-f]{3}([^0-9a-z]|$)|[0-9a-f]{6}([^0-9a-z]|$))}
  <b><font color=#3a6797>set</font></b> txt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> l1 1.0
  <b><font color=#3a6797>set</font></b> l2 end
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> in {2 12} &&  ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> gcon [<font color=#1b1baa>$obPav</font> gutterContents <font color=#1b1baa>$txt</font>]}] && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$gcon</font>]} {
    <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$gcon</font> 0 1]].0
    <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$gcon</font> end 1]].end
  }
  <b><font color=#3a6797>set</font></b> lenList [<b><font color=#3a6797>set</font></b> hlcolors [<b><font color=#3a6797>list</font></b>]]
  <b><font color=#3a6797>set</font></b> posList [<font color=#1b1baa>$txt</font> search <font color=#6c3e67>-count</font> lenList <font color=#6c3e67>-regexp</font> <font color=#6c3e67>-nocase</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-strictlimits</font> <font color=#1b1baa>$RE</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
  <b><font color=#3a6797>foreach</font></b> pos <font color=#1b1baa>$posList</font> len <font color=#1b1baa>$lenList</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$len</font> eq {}} {
      <b><font color=#3a6797>set</font></b> st [<font color=#1b1baa>$txt</font> get <font color=#1b1baa>$pos</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos lineend + 1 char&quot;</font>]
      <b><font color=#3a6797>set</font></b> len [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-nocase</font> <font color=#6c3e67>-indices</font> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$RE</font> <font color=#1b1baa>$st</font>] 1 1]
    }
    <b><font color=#3a6797>set</font></b> pos2 [<font color=#1b1baa>$txt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos + <font color=#1b1baa>$</font>len char&quot;</font>]
    <b><font color=#3a6797>set</font></b> hlc [<font color=#1b1baa>$txt</font> get <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pos2</font>]
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>lassign</font></b> [apave::InvertBg <font color=#1b1baa>$hlc</font>] fg bg
      <font color=#1b1baa>$txt</font> tag configure <font color=#1b1baa>$hlc</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$bg</font>
      <font color=#1b1baa>$txt</font> tag add <font color=#1b1baa>$hlc</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pos2</font>
      <b><font color=#3a6797>lappend</font></b> hlcolors <font color=#1b1baa>$hlc</font>
    }
  }
  <b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$hlcolors</font>] <font color=#1b1baa>$RF</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::FormatterName'>FormatterName</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets formatter's file name from its full name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FormatterName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>full name of formatter file</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_FormatterName' href="javascript:toggleSource('alited_edit_FormatterName')">Show source</a></p>
<div id='alited_edit_FormatterName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::FormatterName {fname} {
  <i><font color=#4b5d50># Gets formatter's file name from its full name.</font></i>
  <i><font color=#4b5d50>#   fname - full name of formatter file</font></i>

  <b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::FormatUnitDesc'>FormatUnitDesc</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>FormatUnitDesc</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_FormatUnitDesc' href="javascript:toggleSource('alited_edit_FormatUnitDesc')">Show source</a></p>
<div id='alited_edit_FormatUnitDesc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::FormatUnitDesc {} {
  SourceFormatTcl
  alited::format::UnitDesc
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::HelpOnMacro'>HelpOnMacro</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows Play Macro help.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpOnMacro</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_HelpOnMacro' href="javascript:toggleSource('alited_edit_HelpOnMacro')">Show source</a></p>
<div id='alited_edit_HelpOnMacro' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::HelpOnMacro {} {
  <i><font color=#4b5d50># Shows Play Macro help.</font></i>

  alited::HelpAlited #macros
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::HideColorValues'>HideColorValues</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unhighlights color values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HideColorValues</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_HideColorValues' href="javascript:toggleSource('alited_edit_HideColorValues')">Show source</a></p>
<div id='alited_edit_HideColorValues' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::HideColorValues {} {
  <i><font color=#4b5d50># Unhighlights color values.</font></i>

  <b><font color=#3a6797>set</font></b> RF [FindColorValues 3]
  <b><font color=#3a6797>set</font></b> txt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>foreach</font></b> hlc [<font color=#1b1baa>$txt</font> tag names] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$RF</font> <font color=#1b1baa>$hlc</font>]} {
      <font color=#1b1baa>$txt</font> tag remove <font color=#1b1baa>$hlc</font> 1.0 end
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Indent'>Indent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Indent selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Indent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_Indent' href="javascript:toggleSource('alited_edit_Indent')">Show source</a></p>
<div id='alited_edit_Indent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::Indent {} {
  <i><font color=#4b5d50># Indent selected lines of text.</font></i>

  <b><font color=#3a6797>set</font></b> indent <font color=#1b1baa>$::apave::_AP_VARS(INDENT)</font>
  <b><font color=#3a6797>set</font></b> len [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$::apave::_AP_VARS(INDENT)</font>]
  <b><font color=#3a6797>set</font></b> sels [SelectedLines]
  <b><font color=#3a6797>set</font></b> wtxt [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$sels</font> 0]
  undoIn <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>foreach</font></b> {l1 l2} [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$sels</font> 1 end] {
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
      <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] eq {}} {
        <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end {}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> leadsp [obj leadingSpaces <font color=#1b1baa>$line</font>]
        <b><font color=#3a6797>set</font></b> sp [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$leadsp</font> % <font color=#1b1baa>$len</font>}]
        <i><font color=#4b5d50># align by the indent edge</font></i>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sp</font>==0} {
          <b><font color=#3a6797>set</font></b> ind <font color=#1b1baa>$indent</font>
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> ind [<b><font color=#3a6797>string</font></b> repeat <font color=#8b2a0e>&quot; &quot;</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$len</font> - <font color=#1b1baa>$sp</font>}]]
        }
        <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$ind</font>
      }
    }
  }
  undoOut <font color=#1b1baa>$wtxt</font>
  alited::main::HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::IniParameter'>IniParameter</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets parameter value from a line of ini-file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IniParameter</span> <span class='ruff_arg'>parname line ?case? ?defval?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>parname</code></code></td><td class='ruff_defitem'>parameter name (can contain several names separated with comma)</td></tr>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>line content</td></tr>
<tr><td class='ruff_defitem'><code><code>case</code></code></td><td class='ruff_defitem'>option &quot;-nocase&quot; for regexp (default) or any other option; <i>optional, default</i> <code>-nocase</code></td></tr>
<tr><td class='ruff_defitem'><code><code>defval</code></code></td><td class='ruff_defitem'>default value; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_IniParameter' href="javascript:toggleSource('alited_edit_IniParameter')">Show source</a></p>
<div id='alited_edit_IniParameter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::IniParameter {parname line {case <font color=#6c3e67>-nocase</font>} {defval {}}} {
  <i><font color=#4b5d50># Gets parameter value from a line of ini-file.</font></i>
  <i><font color=#4b5d50>#   parname - parameter name (can contain several names separated with comma)</font></i>
  <i><font color=#4b5d50>#   line - line content</font></i>
  <i><font color=#4b5d50>#   case - option &quot;-nocase&quot; for regexp (default) or any other option</font></i>
  <i><font color=#4b5d50>#   defval - default value</font></i>

  <b><font color=#3a6797>foreach</font></b> pname [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$parname</font> ,] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$case</font> <font color=#8b2a0e>&quot;^\\s*<font color=#1b1baa>$</font>pname\\s*=\\s*&quot;</font> <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$line</font>]
      <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> [<b><font color=#3a6797>incr</font></b> i] end]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$res</font>] eq {}} {<b><font color=#3a6797>set</font></b> res -}
      <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$res</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::InputMacro'>InputMacro</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enters/changes a macro.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InputMacro</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index in macro menu</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_InputMacro' href="javascript:toggleSource('alited_edit_InputMacro')">Show source</a></p>
<div id='alited_edit_InputMacro' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::InputMacro {idx} {
  <i><font color=#4b5d50># Enters/changes a macro.</font></i>
  <i><font color=#4b5d50>#   idx - index in macro menu</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> macrosmode
  <b><font color=#3a6797>set</font></b> win <font color=#1b1baa>$al(WIN)</font>.macro
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
    focusByForce [<font color=#1b1baa>$obDl2</font> chooserPath Fil]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> m <font color=#1b1baa>$al(MENUEDIT)</font>.playtkl
  <b><font color=#3a6797>incr</font></b> idx ;<i><font color=#4b5d50># for -tearoff menu</font></i>
  <b><font color=#3a6797>set</font></b> al(macromouse) no
  <b><font color=#3a6797>set</font></b> al(_macro) [<font color=#1b1baa>$m</font> entrycget <font color=#1b1baa>$idx</font> <font color=#6c3e67>-label</font>]
  <b><font color=#3a6797>set</font></b> al(_macroDir) {}
  <b><font color=#3a6797>set</font></b> dir [MacroDir]
  ReadMacroComment <font color=#1b1baa>$al(_macro)</font>
  <b><font color=#3a6797>set</font></b> head [msgcat::mc <font color=#8b2a0e>&quot;The macro is updated at its recording.\nPress %s to play it.&quot;</font>]
  <b><font color=#3a6797>set</font></b> head [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %s <font color=#1b1baa>$al(acc_16)</font>] <font color=#1b1baa>$head</font>]
  <font color=#1b1baa>$obDl2</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$al(MC,playtkl)</font>
  <font color=#1b1baa>$obDl2</font> paveWindow <font color=#1b1baa>$win</font>.fra {  {lab - - 1 4 {<font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$head</font>}}}  {Fil + T 1 4 {<font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-padx</font> 4 <font color=#6c3e67>-st</font> ew}  <font color=#8b2a0e>&quot;-tvar ::alited::al(_macro) -validate all  -validatecommand alited::edit::ValidMacro -w 30 -initialdir <font color=#1b1baa>{$</font>dir<font color=#1b1baa>}</font>  -filetypes <font color=#1b1baa>{{{</font>Macros<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>al(macroext)<font color=#1b1baa>}</font> <font color=#1b1baa>{{</font>All files<font color=#1b1baa>}</font> .*<font color=#1b1baa>}}</font>&quot;</font>}  {chb + T 1 4 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 4} {<font color=#6c3e67>-t</font> {Record mouse} <font color=#6c3e67>-var</font> ::alited::al(macromouse)}}  {seh + T 1 4 {<font color=#6c3e67>-pady</font> 4}}  {lab2 + T 1 4 {} {<font color=#6c3e67>-t</font> Comment:}}  {fra0 + T 1 4 {<font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-st</font> nsew}}  {.TexCmn L + - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-h</font> 4 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> *.buth <font color=#6c3e67>-rotext</font> ::alited::al(macrocomment) <font color=#6c3e67>-ro</font> 0}}  {.sbvText + L - - pack}  {seh2 fra0 T 1 4 {<font color=#6c3e67>-pady</font> 4}}  {fra + T 1 1 {<font color=#6c3e67>-st</font> w}}  {.ButPlay - - 1 1 {<font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-com</font> 1 <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Play Macro&quot;</font> <font color=#6c3e67>-image</font> alimg_run}}  {.ButRec + L 1 1 {} {<font color=#6c3e67>-com</font> 2 <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Record Macro&quot;</font> <font color=#6c3e67>-image</font> alimg_change}}  {.ButDel + L 1 1 {<font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-com</font> 3 <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Delete Macro&quot;</font> <font color=#6c3e67>-image</font> alimg_delete}}  {h_ fra L 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-cw</font> 1}}  {buth + L 1 1 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-t</font> Help <font color=#6c3e67>-com</font> alited::edit::HelpOnMacro}}  {but + L 1 1 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-com</font> 0 <font color=#6c3e67>-t</font> Cancel}}  }
  <b><font color=#3a6797>set</font></b> tex [<font color=#1b1baa>$obDl2</font> TexCmn]
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; alited::edit::HelpOnMacro
  <b><font color=#3a6797>set</font></b> butplay [<font color=#1b1baa>$obDl2</font> ButPlay]
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;<font color=#1b1baa>$al(acc_16)</font>&gt; <font color=#8b2a0e>&quot;if <font color=#1b1baa>{</font>\[<font color=#1b1baa>$</font>butplay cget -state\] eq <font color=#1b1baa>{</font>normal<font color=#1b1baa>}}</font> <font color=#1b1baa>{$</font>butplay invoke<font color=#1b1baa>}</font>&quot;</font>
  <b><font color=#3a6797>after</font></b> 200 ::apave::MouseOnWidget <font color=#1b1baa>$butplay</font>
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl2</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-focus</font> <font color=#1b1baa>$win</font>.fra.entfil <font color=#6c3e67>-geometry</font> pointer+10+10]
  <b><font color=#3a6797>set</font></b> al(macrocomment) [<font color=#1b1baa>$tex</font> get 1.0 end]
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <b><font color=#3a6797>set</font></b> name [::apave::NormalizeFileName [<b><font color=#3a6797>file</font></b> root [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$al(_macro)</font>]]]
  <b><font color=#3a6797>set</font></b> fname [MacroFileName <font color=#1b1baa>$name</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(_macroDir)</font> ni {. <font color=#8b2a0e>&quot;&quot;</font>}} {
    <i><font color=#4b5d50># if chosen macro doesn't exist in user's dir, copy it there</font></i>
    <b><font color=#3a6797>set</font></b> fchosen [MacroFileName <font color=#1b1baa>$name</font> <font color=#1b1baa>$al(_macroDir)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fchosen</font> ne <font color=#1b1baa>$fname</font> && ![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$fchosen</font> <font color=#1b1baa>$fname</font>}
      <b><font color=#3a6797>after</font></b> idle alited::menu::FillMacroItems
    }
    <b><font color=#3a6797>set</font></b> fname <font color=#1b1baa>$fchosen</font>
  }
  <b><font color=#3a6797>unset</font></b> al(_macro)
  <b><font color=#3a6797>unset</font></b> al(_macroDir)
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> macrosmode <font color=#8b2a0e>&quot;init&quot;</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$name</font>]&gt;99 || <font color=#1b1baa>$name</font> eq {}} {
    alited::Msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,incorrname)</font>] err
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$res</font> {
    1 {
      MacroMenu <font color=#1b1baa>$name</font> no
      <b><font color=#3a6797>if</font></b> {[DoMacro play <font color=#1b1baa>$name</font>]} {
        <b><font color=#3a6797>set</font></b> macrosmode <font color=#8b2a0e>&quot;play&quot;</font>
      }
    }
    2 {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(macrotorew)] || ![<b><font color=#3a6797>string</font></b> match *10 <font color=#1b1baa>$al(macrotorew)</font>]} {
          <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] %d [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>]]  <font color=#1b1baa>$al(MC,fileexist)</font>]
          <b><font color=#3a6797>set</font></b> dlg [::apave::APave new]
          <b><font color=#3a6797>set</font></b> al(macrotorew) [<font color=#1b1baa>$dlg</font> misc warn  <font color=#1b1baa>$al(MC,playtkl)</font> <font color=#1b1baa>$msg</font> {<font color=#8b2a0e>&quot;Rewrite&quot;</font> File <font color=#8b2a0e>&quot;Edit&quot;</font> Change <font color=#8b2a0e>&quot;Cancel&quot;</font> 0}  0 <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font> <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$al(WIN)</font>]
          <font color=#1b1baa>$dlg</font> destroy
        }
        <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$al(macrotorew)</font> {
          File* {}
          Change* {alited::file::OpenFile <font color=#1b1baa>$fname</font> yes; <b><font color=#ca14ca>return</font></b>}
          <b><font color=#3a6797>default</font></b> {<b><font color=#3a6797>set</font></b> al(macrotorew) {}; <b><font color=#ca14ca>return</font></b>}
        }
      }
      <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> alited::edit::DoMacro record <font color=#1b1baa>$name</font>]
      }
    3 {
      <b><font color=#3a6797>if</font></b> {![MacroExists <font color=#1b1baa>$fname</font>]} <b><font color=#ca14ca>return</font></b>
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(macrotodel)] || <font color=#1b1baa>$al(macrotodel)</font>&lt;10} {
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,delfile)</font>]
        <b><font color=#3a6797>set</font></b> al(macrotodel) [alited::msg yesno warn <font color=#1b1baa>$msg</font> NO <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(macrotodel)</font>} {
        <b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$fname</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq <font color=#1b1baa>$al(activemacro)</font>} {
          <b><font color=#3a6797>set</font></b> al(activemacro) {}
        }
        <b><font color=#3a6797>set</font></b> macrosmode <font color=#8b2a0e>&quot;init&quot;</font>
        <b><font color=#3a6797>after</font></b> idle alited::menu::FillMacroItems
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::InvertStringCase'>InvertStringCase</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inverts cases in a string (e.g. InversE -&gt; iNVERSe).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InvertStringCase</span> <span class='ruff_arg'>str</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>the string</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_InvertStringCase' href="javascript:toggleSource('alited_edit_InvertStringCase')">Show source</a></p>
<div id='alited_edit_InvertStringCase' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::InvertStringCase {str} {
  <i><font color=#4b5d50># Inverts cases in a string (e.g. InversE -&gt; iNVERSe).</font></i>
  <i><font color=#4b5d50>#   str - the string</font></i>

  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>lmap</font></b> ch [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$str</font> {}] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is lower <font color=#1b1baa>$ch</font>]} {
      <b><font color=#3a6797>set</font></b> ch [<b><font color=#3a6797>string</font></b> toupper <font color=#1b1baa>$ch</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> ch [<b><font color=#3a6797>string</font></b> tolower <font color=#1b1baa>$ch</font>]
    }
    <b><font color=#3a6797>append</font></b> res <font color=#1b1baa>$ch</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::MacroDir'>MacroDir</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a directory name of macros.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroDir</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_MacroDir' href="javascript:toggleSource('alited_edit_MacroDir')">Show source</a></p>
<div id='alited_edit_MacroDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::MacroDir {} {
  <i><font color=#4b5d50># Gets a directory name of macros.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> dirname [MacroFileName .]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::MacroExists'>MacroExists</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for existing macro. If the macro doesn't exist, shows a message and updates the macros list menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroExists</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>macro file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_MacroExists' href="javascript:toggleSource('alited_edit_MacroExists')">Show source</a></p>
<div id='alited_edit_MacroExists' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::MacroExists {fname} {
  <i><font color=#4b5d50># Checks for existing macro.</font></i>
  <i><font color=#4b5d50># If the macro doesn't exist, shows a message and updates the macros list menu.</font></i>
  <i><font color=#4b5d50>#   fname - macro file name</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {<b><font color=#ca14ca>return</font></b> yes}
  alited::Balloon1 <font color=#1b1baa>$fname</font>
  <b><font color=#3a6797>after</font></b> idle alited::menu::FillMacroItems
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::MacroFileName'>MacroFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name for a macro.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroFileName</span> <span class='ruff_arg'>name ?dir?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>macro's name</td></tr>
<tr><td class='ruff_defitem'><code><code>dir</code></code></td><td class='ruff_defitem'>macro's directory; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_MacroFileName' href="javascript:toggleSource('alited_edit_MacroFileName')">Show source</a></p>
<div id='alited_edit_MacroFileName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::MacroFileName {name {dir {}}} {
  <i><font color=#4b5d50># Gets a file name for a macro.</font></i>
  <i><font color=#4b5d50>#   name - macro's name</font></i>
  <i><font color=#4b5d50>#   dir - macro's directory</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al USERDIR USERDIR
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$name</font>] ne <font color=#1b1baa>$al(macroext)</font>} {
    <b><font color=#3a6797>append</font></b> name <font color=#1b1baa>$al(macroext)</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dir</font> eq {}} {
    <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$USERDIR</font> macro]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> normalize [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$name</font>]]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::MacroInit'>MacroInit</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes macro stuff.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroInit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_MacroInit' href="javascript:toggleSource('alited_edit_MacroInit')">Show source</a></p>
<div id='alited_edit_MacroInit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::MacroInit {} {
  <i><font color=#4b5d50># Initializes macro stuff.</font></i>

  MacroSource
  ::playtkl::inform no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::MacroMenu'>MacroMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Recreate macros' menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroMenu</span> <span class='ruff_arg'>name doit</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>current macro</td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>yes if update anyway</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_MacroMenu' href="javascript:toggleSource('alited_edit_MacroMenu')">Show source</a></p>
<div id='alited_edit_MacroMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::MacroMenu {name doit} {
  <i><font color=#4b5d50># Recreate macros' menu.</font></i>
  <i><font color=#4b5d50>#   name - current macro</font></i>
  <i><font color=#4b5d50>#   doit - yes if update anyway</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  MacroSource
  <b><font color=#3a6797>set</font></b> fname [MacroFileName <font color=#1b1baa>$name</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font> || <font color=#1b1baa>$al(activemacro)</font> ne <font color=#1b1baa>$name</font>} {
    <b><font color=#3a6797>set</font></b> al(activemacro) <font color=#1b1baa>$name</font>
    playtkl::readcontents <font color=#1b1baa>$fname</font>
    alited::menu::FillMacroItems
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(activemacro)</font> eq <font color=#1b1baa>$name</font>} {
    playtkl::readcontents <font color=#1b1baa>$fname</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::MacroSource'>MacroSource</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Loads playtkl package.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroSource</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_MacroSource' href="javascript:toggleSource('alited_edit_MacroSource')">Show source</a></p>
<div id='alited_edit_MacroSource' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::MacroSource {} {
  <i><font color=#4b5d50># Loads playtkl package.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> command ::playtkl::play] eq {}} {
    <b><font color=#ca14ca>namespace</font></b> eval :: {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::LIBDIR</font> playtkl playtkl.tcl]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::MacroUpdate'>MacroUpdate</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>If a file is a macro, updates macros' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroUpdate</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_MacroUpdate' href="javascript:toggleSource('alited_edit_MacroUpdate')">Show source</a></p>
<div id='alited_edit_MacroUpdate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::MacroUpdate {fname} {
  <i><font color=#4b5d50># If a file is a macro, updates macros' list.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>] eq <font color=#1b1baa>$al(macroext)</font>} {
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> alited::edit::MacroMenu <font color=#1b1baa>$fname</font> yes]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::makeRect'>makeRect</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a rectangle.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>makeRect</span> <span class='ruff_arg'>wtxt alnl alnc nl nc</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the current text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>alnl</code></code></td><td class='ruff_defitem'>starting row</td></tr>
<tr><td class='ruff_defitem'><code><code>alnc</code></code></td><td class='ruff_defitem'>starting column</td></tr>
<tr><td class='ruff_defitem'><code><code>nl</code></code></td><td class='ruff_defitem'>current row</td></tr>
<tr><td class='ruff_defitem'><code><code>nc</code></code></td><td class='ruff_defitem'>current column</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_makeRect' href="javascript:toggleSource('alited_edit_makeRect')">Show source</a></p>
<div id='alited_edit_makeRect' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::makeRect {wtxt alnl alnc nl nc} {
  <i><font color=#4b5d50># Selects a rectangle.</font></i>
  <i><font color=#4b5d50>#   wtxt - the current text's path</font></i>
  <i><font color=#4b5d50>#   alnl - starting row</font></i>
  <i><font color=#4b5d50>#   alnc - starting column</font></i>
  <i><font color=#4b5d50>#   nl - current row</font></i>
  <i><font color=#4b5d50>#   nc - current column</font></i>

  <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {min(<font color=#1b1baa>$alnl</font>,<font color=#1b1baa>$nl</font>)}]
  <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$alnl</font>,<font color=#1b1baa>$nl</font>)}]
  <b><font color=#3a6797>set</font></b> c1 [<b><font color=#3a6797>expr</font></b> {min(<font color=#1b1baa>$alnc</font>,<font color=#1b1baa>$nc</font>)}]
  <b><font color=#3a6797>set</font></b> c2 [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$alnc</font>,<font color=#1b1baa>$nc</font>)}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$c1</font>==<font color=#1b1baa>$c2</font>} {<b><font color=#3a6797>set</font></b> c2 end}  ;<i><font color=#4b5d50># to select &quot;all to line ends&quot;</font></i>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
    <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$l</font>.<font color=#1b1baa>$c1</font> <font color=#1b1baa>$l</font>.<font color=#1b1baa>$c2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Modified'>Modified</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a modification of file, recreating the unit tree at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Modified</span> <span class='ruff_arg'>TID wtxt ?l1? ?l2? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_Modified' href="javascript:toggleSource('alited_edit_Modified')">Show source</a></p>
<div id='alited_edit_Modified' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::Modified {TID wtxt {l1 0} {l2 0} args} {
  <i><font color=#4b5d50># Handles a modification of file, recreating the unit tree at need.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line of unit</font></i>
  <i><font color=#4b5d50>#   l2 - last line of unit</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
    <b><font color=#3a6797>set</font></b> old [alited::file::IsModified <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>set</font></b> new [<font color=#1b1baa>$wtxt</font> edit modified]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$old</font> != <font color=#1b1baa>$new</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$new</font>} {
        alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
      } <b><font color=#3a6797>else</font></b> {
        alited::bar::BAR unmarkTab <font color=#1b1baa>$TID</font>
      }
      CheckSaveIcons <font color=#1b1baa>$new</font>
    }
    CheckUndoRedoIcons <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
      <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
      <b><font color=#3a6797>set</font></b> todoTree no
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> todoTree [<font color=#1b1baa>$wtree</font> tag has tagTODO [alited::tree::CurrentItem]]}
      <i><font color=#4b5d50># when text's TODO tag isn't equal to tree's, recreate the tree</font></i>
      <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag nextrange tagCMN2  [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos linestart&quot;</font>] [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos lineend&quot;</font>]] p1 p2
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p2</font> ne {} && [<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$pos</font> &gt;= <font color=#1b1baa>$p1</font>] && [<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$pos</font> &lt;= <font color=#1b1baa>$p2</font>]} {
        <b><font color=#3a6797>set</font></b> todo [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$todoTree</font>}]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> todo <font color=#1b1baa>$todoTree</font>
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$todo</font>} {
        alited::tree::RecreateTree
      } <b><font color=#3a6797>elseif</font></b> {![<b><font color=#3a6797>info</font></b> exists al(RECREATE)] || <font color=#1b1baa>$al(RECREATE)</font>} {
        <b><font color=#3a6797>set</font></b> doit no
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font>]]} {
          <b><font color=#3a6797>set</font></b> lastrow [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$llen</font>-1 5]
          <b><font color=#3a6797>set</font></b> doit [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lastrow</font> != int([<font color=#1b1baa>$wtxt</font> index {end -1c}])}]
        }
        <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
        <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font> || (![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> ifound [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 4 <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$l1</font>]}]  && <font color=#1b1baa>$ifound</font>&gt;-1) || [<b><font color=#3a6797>regexp</font></b> [alited::unit::UnitRegexp] <font color=#1b1baa>$line</font>]} {
          alited::tree::RecreateTree
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> REtd {(#\s*(!|TODO))|(//\s*(!|TODO))} ;<i><font color=#4b5d50># RE for todo in Tcl and C</font></i>
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,LEAF)</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,leaf)</font> <font color=#1b1baa>$line</font>] || [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$REtd</font> <font color=#1b1baa>$line</font>]  || !<font color=#1b1baa>$al(INI,LEAF)</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$line</font>] || [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,branch)</font> <font color=#1b1baa>$line</font>]} {
            alited::tree::RecreateTree
          }
        }
      }
    }
  }
  alited::main::ShowHeader
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::NormIndent'>NormIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Normalizes a current text's indenting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NormIndent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_NormIndent' href="javascript:toggleSource('alited_edit_NormIndent')">Show source</a></p>
<div id='alited_edit_NormIndent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::NormIndent {} {
  <i><font color=#4b5d50># Normalizes a current text's indenting.</font></i>

  alited::main::CalcIndentation {} yes
  alited::main::UpdateProjectInfo
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::indent]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::SRCDIR</font> indent.tcl]
    }
  }
  alited::indent::normalize
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::OpenFormatFile'>OpenFormatFile</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens file(s) from data/format directory or its subdirectories.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFormatFile</span> <span class='ruff_arg'>dir</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dir</code></code></td><td class='ruff_defitem'>(sub)directory name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_OpenFormatFile' href="javascript:toggleSource('alited_edit_OpenFormatFile')">Show source</a></p>
<div id='alited_edit_OpenFormatFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::OpenFormatFile {dir} {
  <i><font color=#4b5d50># Opens file(s) from data/format directory or its subdirectories.</font></i>
  <i><font color=#4b5d50>#   dir - (sub)directory name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav DATADIR DATADIR
  <b><font color=#3a6797>set</font></b> ::alited::al(TMPfname) {}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> <font color=#6c3e67>-directory</font> <font color=#1b1baa>$dir</font> *] eq {}} {
    <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$dir</font>]
  }
  <b><font color=#3a6797>set</font></b> fnames [<font color=#1b1baa>$obPav</font> chooser tk_getOpenFile ::alited::al(TMPfname)  <font color=#6c3e67>-initialdir</font> <font color=#1b1baa>$dir</font> <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-multiple</font> 1]
  <b><font color=#3a6797>unset</font></b> ::alited::al(TMPfname)
  <b><font color=#3a6797>foreach</font></b> fn [<b><font color=#3a6797>lreverse</font></b> [<b><font color=#3a6797>lsort</font></b> <font color=#1b1baa>$fnames</font>]] {
    alited::file::OpenFile <font color=#1b1baa>$fn</font> yes
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::OpenMacroFile'>OpenMacroFile</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a file of macro.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenMacroFile</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_OpenMacroFile' href="javascript:toggleSource('alited_edit_OpenMacroFile')">Show source</a></p>
<div id='alited_edit_OpenMacroFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::OpenMacroFile {} {
  <i><font color=#4b5d50># Opens a file of macro.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> al(TMPfname) [MacroFileName <font color=#1b1baa>$al(MC,quickmacro)</font>]
  <b><font color=#3a6797>set</font></b> types [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>list</font></b> {Macro Files} <font color=#1b1baa>$al(macroext)</font>]]
  <b><font color=#3a6797>set</font></b> fname [<font color=#1b1baa>$obDl2</font> chooser tk_getOpenFile ::alited::al(TMPfname)  <font color=#6c3e67>-initialdir</font> [MacroDir] <font color=#6c3e67>-filetypes</font> <font color=#1b1baa>$types</font> <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font>]
  <b><font color=#3a6797>unset</font></b> al(TMPfname)
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> ne {}} {alited::file::OpenFile <font color=#1b1baa>$fname</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::pasteRect'>pasteRect</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Pastes a rectangle.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>pasteRect</span> <span class='ruff_arg'>wtxt nl nc</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the current text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>nl</code></code></td><td class='ruff_defitem'>current row</td></tr>
<tr><td class='ruff_defitem'><code><code>nc</code></code></td><td class='ruff_defitem'>current column</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_pasteRect' href="javascript:toggleSource('alited_edit_pasteRect')">Show source</a></p>
<div id='alited_edit_pasteRect' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::pasteRect {wtxt nl nc} {
  <i><font color=#4b5d50># Pastes a rectangle.</font></i>
  <i><font color=#4b5d50>#   wtxt - the current text's path</font></i>
  <i><font color=#4b5d50>#   nl - current row</font></i>
  <i><font color=#4b5d50>#   nc - current column</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(rectSel,text)</font>]} {
    undoIn <font color=#1b1baa>$wtxt</font>
    <font color=#1b1baa>$wtxt</font> tag remove sel 1.0 end
    <b><font color=#3a6797>set</font></b> sels [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$al(rectSel,text)</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> ne {}} {
        <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$nl</font>.<font color=#1b1baa>$nc</font> <font color=#1b1baa>$line</font>
        <b><font color=#3a6797>set</font></b> pos2 <font color=#1b1baa>$nl</font>.[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$nc</font>+[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$line</font>]}]
        <b><font color=#3a6797>lappend</font></b> sels <font color=#1b1baa>$nl</font>.<font color=#1b1baa>$nc</font> <font color=#1b1baa>$pos2</font>
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists pos1]} {<b><font color=#3a6797>set</font></b> pos1 <font color=#1b1baa>$pos2</font>}
      }
      <b><font color=#3a6797>incr</font></b> nl
    }
    <b><font color=#3a6797>catch</font></b> {::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos1</font>}
    <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtxt</font> tag add sel {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$sels</font>}
    undoOut <font color=#1b1baa>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::PluginAccelerator'>PluginAccelerator</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds -accelerator to Formats menu item or returns a list of accelerators used by pluginables.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PluginAccelerator</span> <span class='ruff_arg'>mnu ?itemttl? ?ev? ?retlist?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>menu path</td></tr>
<tr><td class='ruff_defitem'><code><code>itemttl</code></code></td><td class='ruff_defitem'>item's title; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>ev</code></code></td><td class='ruff_defitem'>event; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>retlist</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_PluginAccelerator' href="javascript:toggleSource('alited_edit_PluginAccelerator')">Show source</a></p>
<div id='alited_edit_PluginAccelerator' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::PluginAccelerator {mnu {itemttl {}} {ev {}} {retlist {}}} {
  <i><font color=#4b5d50># Adds -accelerator to Formats menu item or returns a list of</font></i>
  <i><font color=#4b5d50># accelerators used by pluginables.</font></i>
  <i><font color=#4b5d50>#   mnu - menu path</font></i>
  <i><font color=#4b5d50>#   itemttl - item's title</font></i>
  <i><font color=#4b5d50>#   ev - event</font></i>

  <b><font color=#3a6797>set</font></b> nitems [<font color=#1b1baa>$mnu</font> index end]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$nitems</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> typ [<font color=#1b1baa>$mnu</font> type <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> ttl [<font color=#1b1baa>$mnu</font> entrycget <font color=#1b1baa>$i</font> <font color=#6c3e67>-label</font>]}]} {<b><font color=#3a6797>set</font></b> ttl {}}
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$typ</font> {
      command {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemttl</font> ne {} && <font color=#1b1baa>$itemttl</font> eq <font color=#1b1baa>$ttl</font>} {
          <font color=#1b1baa>$mnu</font> entryconfigure <font color=#1b1baa>$i</font> <font color=#6c3e67>-accelerator</font> [::apave::KeyAccelerator <font color=#1b1baa>$ev</font>]
          <b><font color=#ca14ca>break</font></b> ;<i><font color=#4b5d50># it's call to set an accelerator</font></i>
        }
        <b><font color=#3a6797>set</font></b> acc [<font color=#1b1baa>$mnu</font> entrycget <font color=#1b1baa>$i</font> <font color=#6c3e67>-accelerator</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$acc</font> ne {}} {
          <b><font color=#3a6797>set</font></b> acc [<b><font color=#3a6797>string</font></b> map {+ - Ctrl Control} <font color=#1b1baa>$acc</font>]
          <b><font color=#3a6797>lappend</font></b> retlist <font color=#1b1baa>$acc</font>
        }
      }
      cascade {
        <b><font color=#3a6797>set</font></b> cascade [<font color=#1b1baa>$mnu</font> entrycget <font color=#1b1baa>$i</font> <font color=#6c3e67>-menu</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cascade</font> ne {}} {
          <b><font color=#3a6797>set</font></b> retlist [PluginAccelerator <font color=#1b1baa>$cascade</font> <font color=#1b1baa>$itemttl</font> <font color=#1b1baa>$ev</font> <font color=#1b1baa>$retlist</font>]
          <b><font color=#ca14ca>continue</font></b>
        }
      }
      separator - tearoff {}
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$retlist</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ReadMacroComment'>ReadMacroComment</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads macro's comment.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadMacroComment</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the macro's file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_ReadMacroComment' href="javascript:toggleSource('alited_edit_ReadMacroComment')">Show source</a></p>
<div id='alited_edit_ReadMacroComment' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ReadMacroComment {fname} {
  <i><font color=#4b5d50># Reads macro's comment.</font></i>
  <i><font color=#4b5d50>#  fname - the macro's file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fcont [readTextFile [MacroFileName <font color=#1b1baa>$fname</font>]]
  <b><font color=#3a6797>set</font></b> al(macrocomment) {}
  <b><font color=#3a6797>foreach</font></b> ln [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$fcont</font> \n] {
    <b><font color=#3a6797>set</font></b> ln [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$ln</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$ln</font>]} {
      <b><font color=#3a6797>append</font></b> al(macrocomment) [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$ln</font> #] \n
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::RectSelection'>RectSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Starts, ends, does, cuts, copies and pastes a rectangular selection. mode: 0 for start/end, 1 do, 2 cut, 3 copy, 4 paste</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RectSelection</span> <span class='ruff_arg'>mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_RectSelection' href="javascript:toggleSource('alited_edit_RectSelection')">Show source</a></p>
<div id='alited_edit_RectSelection' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::RectSelection {mode} {
  <i><font color=#4b5d50># Starts, ends, does, cuts, copies and pastes a rectangular selection.</font></i>
  <i><font color=#4b5d50>#   mode: 0 for start/end, 1 do, 2 cut, 3 copy, 4 paste</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font>==1 && !<font color=#1b1baa>$al(rectSel)</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> index insert] .] nl nc
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font>==0} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(rectSel)</font>} {
      <b><font color=#3a6797>set</font></b> al(rectSel,TID) <font color=#1b1baa>$TID</font>  ;<i><font color=#4b5d50># starts selecting</font></i>
      <b><font color=#3a6797>set</font></b> al(rectSel,nl) <font color=#1b1baa>$nl</font>
      <b><font color=#3a6797>set</font></b> al(rectSel,nc) <font color=#1b1baa>$nc</font>
      <b><font color=#3a6797>set</font></b> al(rectSel,text) [<b><font color=#3a6797>list</font></b>]
      <b><font color=#3a6797>set</font></b> mode 1
      alited::Message [msgcat::mc {Move the cursor to select a rectangle.}] 3
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> al(rectSel,TID) {}    ;<i><font color=#4b5d50># ends selecting</font></i>
    }
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$mode</font> {
    1 {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(rectSel)</font> && <font color=#1b1baa>$al(rectSel,TID)</font> eq <font color=#1b1baa>$TID</font>} {
        makeRect <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$al(rectSel,nl)</font> <font color=#1b1baa>$al(rectSel,nc)</font> <font color=#1b1baa>$nl</font> <font color=#1b1baa>$nc</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> al(rectSel,TID) {}  ;<i><font color=#4b5d50># at switching tabs</font></i>
        <b><font color=#3a6797>set</font></b> al(rectSel) 0
      }
    }
    2 - 3 {saveRect <font color=#1b1baa>$mode</font> <font color=#1b1baa>$wtxt</font>}
    4     {pasteRect <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$nl</font> <font color=#1b1baa>$nc</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(rectSel)</font>} {<b><font color=#3a6797>set</font></b> ico none} {<b><font color=#3a6797>set</font></b> ico run}
  <font color=#1b1baa>$al(MENUEDIT)</font>.rectsel entryconfigure 1 <font color=#6c3e67>-image</font> alimg_<font color=#1b1baa>$ico</font>
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::RemoveTrailWhites'>RemoveTrailWhites</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes trailing spaces of lines - all of lines or a selection of lines.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemoveTrailWhites</span> <span class='ruff_arg'>?TID? ?doit? ?skipGUI?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, trimright all of text without questions; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>skipGUI</code></code></td><td class='ruff_defitem'>if yes, no updating GUI; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_RemoveTrailWhites' href="javascript:toggleSource('alited_edit_RemoveTrailWhites')">Show source</a></p>
<div id='alited_edit_RemoveTrailWhites' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::RemoveTrailWhites {{TID {}} {doit no} {skipGUI no}} {
  <i><font color=#4b5d50># Removes trailing spaces of lines - all of lines or a selection of lines.</font></i>
  <i><font color=#4b5d50>#   TID - tab ID</font></i>
  <i><font color=#4b5d50>#   doit - if yes, trimright all of text without questions</font></i>
  <i><font color=#4b5d50>#   skipGUI - if yes, no updating GUI</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> ans 1
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font>} {
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <i><font color=#4b5d50># ask about trailing all lines of a current file (with option: all of other files)</font></i>
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;Remove trailing whitespaces of all lines\nof \&quot;%f\&quot;?&quot;</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName]]] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>set</font></b> ans [alited::msg yesno ques <font color=#1b1baa>$msg</font>  YES <font color=#6c3e67>-title</font> {Remove trailing whitespaces} <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,otherfiles)</font>]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>set</font></b> doit <font color=#1b1baa>$ans</font>]} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> waseditcurr no
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font>==11 || <font color=#1b1baa>$tid</font> eq <font color=#1b1baa>$TID</font>} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> curt [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$tid</font> eq [alited::bar::CurrentTabID]}]]} {
        <b><font color=#3a6797>set</font></b> curl [<b><font color=#3a6797>expr</font></b> {int([[alited::main::GetWTXT <font color=#1b1baa>$tid</font> ] index insert])}]
      }
      <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$tid</font> no no] -&gt; wtxt
      <b><font color=#3a6797>set</font></b> l1 1
      <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index {end -1c}])}]
      <b><font color=#3a6797>set</font></b> wasedit no
      <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
        <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> trimmed [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$line</font>]] ne <font color=#1b1baa>$line</font> && <font color=#1b1baa>$curt</font> && <font color=#1b1baa>$l</font>!=<font color=#1b1baa>$curl</font>} {
          <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$wasedit</font>} {undoIn <font color=#1b1baa>$wtxt</font>}
          <b><font color=#3a6797>set</font></b> wasedit yes
          <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end <font color=#1b1baa>$trimmed</font>
        }
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wasedit</font>} {
        undoOut <font color=#1b1baa>$wtxt</font>
        alited::bar::BAR markTab <font color=#1b1baa>$tid</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq [alited::main::CurrentWTXT]} {
          <b><font color=#3a6797>set</font></b> waseditcurr yes  ;<i><font color=#4b5d50># update the current text's view only</font></i>
        }
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$skipGUI</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$waseditcurr</font>} {
      alited::main::UpdateTextGutterTreeIcons
    } <b><font color=#3a6797>else</font></b> {
      alited::main::UpdateIcons
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ReverseString'>ReverseString</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>The same as &quot;string reverse&quot;, but counts escaping braces made in format::Mode2.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReverseString</span> <span class='ruff_arg'>str</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>the string to reverse</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::format::Mode2" title="format::Mode2" class='ruff_cmd'>format::Mode2</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_ReverseString' href="javascript:toggleSource('alited_edit_ReverseString')">Show source</a></p>
<div id='alited_edit_ReverseString' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ReverseString {str} {
  <i><font color=#4b5d50># The same as &quot;string reverse&quot;, but counts escaping braces made in format::Mode2.</font></i>
  <i><font color=#4b5d50>#   str - the string to reverse</font></i>
  <i><font color=#4b5d50># See also: format::Mode2</font></i>

  <b><font color=#3a6797>set</font></b> str [UnEscapeValue <font color=#1b1baa>$str</font>]
  <b><font color=#3a6797>set</font></b> str [<b><font color=#3a6797>string</font></b> reverse <font color=#1b1baa>$str</font>]
  EscapeValue <font color=#1b1baa>$str</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::RunFormat'>RunFormat</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Does format according to a format file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunFormat</span> <span class='ruff_arg'>fname ?forbind?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>format file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>forbind</code></code></td><td class='ruff_defitem'>if no, called from menu; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_RunFormat' href="javascript:toggleSource('alited_edit_RunFormat')">Show source</a></p>
<div id='alited_edit_RunFormat' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::RunFormat {fname {forbind no}} {
  <i><font color=#4b5d50># Does format according to a format file.</font></i>
  <i><font color=#4b5d50>#   fname - format file's name</font></i>
  <i><font color=#4b5d50>#   forbind - if no, called from menu</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  SourceFormatTcl
  <b><font color=#3a6797>set</font></b> initfile [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] init.tcl]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$initfile</font>]} {<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>source</font></b> <font color=#1b1baa>$initfile</font>}}
  <b><font color=#3a6797>set</font></b> fcont [<b><font color=#3a6797>split</font></b> [readTextFile <font color=#1b1baa>$fname</font>] \n]
  <b><font color=#3a6797>set</font></b> fform [FormatterName <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>unset</font></b> <font color=#6c3e67>-nocomplain</font> al(FORMATS,<font color=#1b1baa>$fform</font>)
  <b><font color=#3a6797>set</font></b> mode 0
  <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> backslashed {}
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$fcont</font> {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> end] eq <font color=#8b2a0e>&quot;\\&quot;</font>} {
      <b><font color=#3a6797>append</font></b> backslashed { } [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$line</font> \\]
      <b><font color=#ca14ca>continue</font></b>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$backslashed</font> ne {}} {
      <b><font color=#3a6797>set</font></b> line <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>backslashed <font color=#1b1baa>$</font>line&quot;</font>
      <b><font color=#3a6797>set</font></b> backslashed {}
    }
    <b><font color=#3a6797>lappend</font></b> cont <font color=#1b1baa>$line</font>
  }
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>incr</font></b> iline
    <b><font color=#3a6797>set</font></b> mode [IniParameter mode <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> in {1 2 3 4 5 6}} {
      <b><font color=#3a6797>set</font></b> ev [alited::format::Mode<font color=#1b1baa>$mode</font>  [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$iline</font> end] <font color=#1b1baa>$fname</font> [alited::bar::FileName]]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$forbind</font> && <font color=#1b1baa>$mode</font>==6 && <font color=#1b1baa>$ev</font> ne {}} {
        <b><font color=#3a6797>set</font></b> ev [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$ev</font> &lt;&gt;]
        <b><font color=#3a6797>set</font></b> mitem [alited::menu::FormatsItemName <font color=#1b1baa>$fform</font>]
        <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Use %e to run <font color=#8b2a0e>&quot;%m&quot;</font>}]
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %e <font color=#1b1baa>$ev</font> %m <font color=#1b1baa>$mitem</font>] <font color=#1b1baa>$msg</font>]
        alited::Message <font color=#1b1baa>$msg</font> 3
        alited::ini::SaveIni
      }
      <b><font color=#ca14ca>break</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::saveRect'>saveRect</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Cuts &amp; copies a rectangle.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>saveRect</span> <span class='ruff_arg'>mode wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>2 cut, 3 copy</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the current text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_saveRect' href="javascript:toggleSource('alited_edit_saveRect')">Show source</a></p>
<div id='alited_edit_saveRect' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::saveRect {mode wtxt} {
  <i><font color=#4b5d50># Cuts & copies a rectangle.</font></i>
  <i><font color=#4b5d50>#   mode - 2 cut, 3 copy</font></i>
  <i><font color=#4b5d50>#   wtxt - the current text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtxt</font> tag ranges sel]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]} {
    undoIn <font color=#1b1baa>$wtxt</font>
    <b><font color=#3a6797>set</font></b> ln1 999999999
    <b><font color=#3a6797>set</font></b> al(rectSel,text) [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> {from to} <font color=#1b1baa>$selection</font> {
      <b><font color=#3a6797>set</font></b> ln2 [::apave::pint <font color=#1b1baa>$from</font>]
      <b><font color=#3a6797>while</font></b> {[<b><font color=#3a6797>incr</font></b> ln1]&lt;<font color=#1b1baa>$ln2</font>} {       ;<i><font color=#4b5d50># empty intermediate lines</font></i>
        <b><font color=#3a6797>lappend</font></b> al(rectSel,text) {}   ;<i><font color=#4b5d50># to be included too</font></i>
      }
      <b><font color=#3a6797>lappend</font></b> al(rectSel,text) [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$from</font> <font color=#1b1baa>$to</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font>==2} {<font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$from</font> <font color=#1b1baa>$to</font>}
      <b><font color=#3a6797>set</font></b> ln1 [::apave::pint <font color=#1b1baa>$to</font>]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font>==2} {
      <b><font color=#3a6797>catch</font></b> {::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selection</font> 0 0]}
    }
    undoOut <font color=#1b1baa>$wtxt</font>
  }
  <b><font color=#3a6797>set</font></b> al(rectSel) 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::SelectedLines'>SelectedLines</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a range of lines of text that are selected at least partly.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectedLines</span> <span class='ruff_arg'>?wtxt? ?strict?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>strict</code></code></td><td class='ruff_defitem'>if yes, only a real selection is counted; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of the text widget's path and ranges of selected lines.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_SelectedLines' href="javascript:toggleSource('alited_edit_SelectedLines')">Show source</a></p>
<div id='alited_edit_SelectedLines' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::SelectedLines {{wtxt {}} {strict no}} {
  <i><font color=#4b5d50># Gets a range of lines of text that are selected at least partly.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   strict - if yes, only a real selection is counted</font></i>
  <i><font color=#4b5d50># Returns a list of the text widget's path and ranges of selected lines.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {<b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]}
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtxt</font> tag ranges sel} sels] || ![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$sels</font>]} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$strict</font>} {
      <b><font color=#3a6797>set</font></b> sels [<b><font color=#3a6797>list</font></b>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> pos1 [<b><font color=#3a6797>set</font></b> pos2 [<font color=#1b1baa>$wtxt</font> index insert]]
      <b><font color=#3a6797>set</font></b> sels [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>]
    }
  }
  <b><font color=#3a6797>foreach</font></b> {pos1 pos2} <font color=#1b1baa>$sels</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos1</font> ne {}} {
      <b><font color=#3a6797>set</font></b> pos21 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos2 linestart&quot;</font>]
      <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$pos21</font> <font color=#1b1baa>$pos2</font>] eq {}} {
        <b><font color=#3a6797>set</font></b> pos2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos2 - 1 line&quot;</font>]
      }
    }
    <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos1</font>)}]
    <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$l1</font>,int(<font color=#1b1baa>$pos2</font>))}]
    <b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::SelectLines'>SelectLines</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects lines (all their contents) of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectLines</span> <span class='ruff_arg'>wtxt l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>starting line</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>ending line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_SelectLines' href="javascript:toggleSource('alited_edit_SelectLines')">Show source</a></p>
<div id='alited_edit_SelectLines' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::SelectLines {wtxt l1 l2} {
  <i><font color=#4b5d50># Selects lines (all their contents) of text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   l1 - starting line</font></i>
  <i><font color=#4b5d50>#   l2 - ending line</font></i>

  <font color=#1b1baa>$wtxt</font> tag remove sel 1.0 end
  <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$l1</font>.0 [<b><font color=#3a6797>incr</font></b> l2].0 ;<i><font color=#4b5d50># $l1.0 $l2.end</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ShowColorValues'>ShowColorValues</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights color values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowColorValues</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_ShowColorValues' href="javascript:toggleSource('alited_edit_ShowColorValues')">Show source</a></p>
<div id='alited_edit_ShowColorValues' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ShowColorValues {} {
  <i><font color=#4b5d50># Highlights color values.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#3a6797>variable</font></b> hlcolors
  <b><font color=#3a6797>variable</font></b> ans_hlcolors
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans_hlcolors</font>&lt;10} {
    <b><font color=#3a6797>set</font></b> ans_hlcolors [alited::msg yesnocancel ques  [msgcat::mc {Display colors in the whole text?}] YES  <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,hlcolors)</font> <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ans_hlcolors</font>} <b><font color=#ca14ca>return</font></b>
  HideColorValues
  <b><font color=#3a6797>lassign</font></b> [FindColorValues <font color=#1b1baa>$ans_hlcolors</font>] llen RF
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$::alited::find::win</font>] && [<b><font color=#134070>winfo</font></b> ismapped <font color=#1b1baa>$::alited::find::win</font>]} {
    <b><font color=#3a6797>set</font></b> ::alited::find::data(en1) <font color=#1b1baa>$RF</font>  ;<i><font color=#4b5d50># if &quot;Find/Replace&quot; is shown, set Find = RE</font></i>
    [<font color=#1b1baa>$obFND</font> Cbx1] selection clear
    <b><font color=#3a6797>set</font></b> msg <font color=#8b2a0e>&quot;   (<font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>check RE in Find/Replace box<font color=#1b1baa>}]</font>)&quot;</font>
    <b><font color=#3a6797>set</font></b> mode 3
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg {}
    <b><font color=#3a6797>set</font></b> mode 1
  }
  alited::Message <font color=#1b1baa>$al(MC,hlcolors)</font>:\ <font color=#1b1baa>$llen</font>\ <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::SourceFormatTcl'>SourceFormatTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sources format.tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SourceFormatTcl</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_SourceFormatTcl' href="javascript:toggleSource('alited_edit_SourceFormatTcl')">Show source</a></p>
<div id='alited_edit_SourceFormatTcl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::SourceFormatTcl {} {
  <i><font color=#4b5d50># Sources format.tcl.</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::format]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::SRCDIR</font> format.tcl]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::SqueezeLines'>SqueezeLines</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Squeezes a list of lines.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SqueezeLines</span> <span class='ruff_arg'>strlist</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>strlist</code></code></td><td class='ruff_defitem'>the list</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_SqueezeLines' href="javascript:toggleSource('alited_edit_SqueezeLines')">Show source</a></p>
<div id='alited_edit_SqueezeLines' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::SqueezeLines {strlist} {
  <i><font color=#4b5d50># Squeezes a list of lines.</font></i>
  <i><font color=#4b5d50>#   strlist - the list</font></i>

  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> str <font color=#1b1baa>$strlist</font> {<b><font color=#3a6797>lappend</font></b> res [SqueezeString <font color=#1b1baa>$str</font>]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::SqueezeString'>SqueezeString</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Squeezes multiple spaces to one space (except for leading spaces) and removes tailing spaces, e.g. &quot;   a  b   c &quot; =&gt; &quot;   a b c&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SqueezeString</span> <span class='ruff_arg'>str</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>the string</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_SqueezeString' href="javascript:toggleSource('alited_edit_SqueezeString')">Show source</a></p>
<div id='alited_edit_SqueezeString' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::SqueezeString {str} {
  <i><font color=#4b5d50># Squeezes multiple spaces to one space (except for leading spaces)</font></i>
  <i><font color=#4b5d50># and removes tailing spaces, e.g. &quot;   a  b   c &quot; =&gt; &quot;   a b c&quot;.</font></i>
  <i><font color=#4b5d50>#   str - the string</font></i>

  <b><font color=#3a6797>set</font></b> isp [obj leadingSpaces <font color=#1b1baa>$str</font>]
  <b><font color=#3a6797>set</font></b> substring [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$str</font> <font color=#1b1baa>$isp</font> end]
  <b><font color=#3a6797>set</font></b> splist [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> {[ ]+} <font color=#1b1baa>$substring</font>]
  <b><font color=#3a6797>set</font></b> splist [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-command</font> alited::edit::CompareByLength <font color=#1b1baa>$splist</font>]
  <b><font color=#3a6797>foreach</font></b> sp <font color=#1b1baa>$splist</font> {
    <b><font color=#3a6797>set</font></b> substring [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$sp</font> { }] <font color=#1b1baa>$substring</font>]
  }
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> repeat { } <font color=#1b1baa>$isp</font>]
  <b><font color=#3a6797>append</font></b> res [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$substring</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::UnComment'>UnComment</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Uncomments selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnComment</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::edit::Comment" title="Comment" class='ruff_cmd'>Comment</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_UnComment' href="javascript:toggleSource('alited_edit_UnComment')">Show source</a></p>
<div id='alited_edit_UnComment' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::UnComment {} {
  <i><font color=#4b5d50># Uncomments selected lines of text.</font></i>
  <i><font color=#4b5d50># See also: Comment</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav al al
  <b><font color=#3a6797>set</font></b> ch [CommentChar]
  <b><font color=#3a6797>set</font></b> lch [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ch</font>]
  <b><font color=#3a6797>set</font></b> lch0 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lch</font>-1}]
  <b><font color=#3a6797>set</font></b> sels [SelectedLines]
  <b><font color=#3a6797>set</font></b> wtxt [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$sels</font> 0]
  undoIn <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>foreach</font></b> {l1 l2} [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$sels</font> 1 end] {
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
      <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
      <b><font color=#3a6797>set</font></b> isp [<font color=#1b1baa>$obPav</font> leadingSpaces <font color=#1b1baa>$line</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$isp</font> <font color=#1b1baa>$isp</font>+<font color=#1b1baa>$lch0</font>] eq <font color=#1b1baa>$ch</font>} {
        <b><font color=#3a6797>set</font></b> lch2 <font color=#1b1baa>$lch</font>
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^\\s*<font color=#1b1baa>$</font>ch!&quot;</font> <font color=#1b1baa>$line</font>]} {<b><font color=#3a6797>incr</font></b> lch2}  ;<i><font color=#4b5d50># remove TODO comment</font></i>
        <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$l</font>.<font color=#1b1baa>$isp</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>l.<font color=#1b1baa>$</font>isp + <font color=#1b1baa>${</font>lch2<font color=#1b1baa>}</font>c&quot;</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font> eq <font color=#8b2a0e>&quot;#&quot;</font> && !<font color=#1b1baa>$al(commentmode)</font>} {
          <i><font color=#4b5d50># for Tcl code: it needs to enable also all braces with #\{ #\} patterns</font></i>
          <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
          <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> #\\\} \} #\\\{ \{] <font color=#1b1baa>$line</font>]
        }
      }
    }
  }
  undoOut <font color=#1b1baa>$wtxt</font>
  SelectLines <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>
  <b><font color=#3a6797>after</font></b> idle alited::tree::RecreateTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::UnEscapeValue'>UnEscapeValue</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unescapes a value's backslashes and braces.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnEscapeValue</span> <span class='ruff_arg'>value</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>value</code></code></td><td class='ruff_defitem'>the value</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_UnEscapeValue' href="javascript:toggleSource('alited_edit_UnEscapeValue')">Show source</a></p>
<div id='alited_edit_UnEscapeValue' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::UnEscapeValue {value} {
  <i><font color=#4b5d50># Unescapes a value's backslashes and braces.</font></i>
  <i><font color=#4b5d50>#   value - the value</font></i>

  <b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\\\ \\ \\\}  \} \\\{ \{] <font color=#1b1baa>$value</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::UnIndent'>UnIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unindent selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnIndent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_UnIndent' href="javascript:toggleSource('alited_edit_UnIndent')">Show source</a></p>
<div id='alited_edit_UnIndent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::UnIndent {} {
  <i><font color=#4b5d50># Unindent selected lines of text.</font></i>

  <b><font color=#3a6797>set</font></b> len [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$::apave::_AP_VARS(INDENT)</font>]
  <b><font color=#3a6797>set</font></b> spaces [<b><font color=#3a6797>list</font></b> { } \t]
  <b><font color=#3a6797>set</font></b> sels [SelectedLines]
  <b><font color=#3a6797>set</font></b> wtxt [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$sels</font> 0]
  undoIn <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>foreach</font></b> {l1 l2} [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$sels</font> 1 end] {
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
      <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] eq {}} {
        <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end {}
      } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> 0] in <font color=#1b1baa>$spaces</font>} {
        <b><font color=#3a6797>set</font></b> leadsp [obj leadingSpaces <font color=#1b1baa>$line</font>]
        <i><font color=#4b5d50># align by the indent edge</font></i>
        <b><font color=#3a6797>set</font></b> sp [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$leadsp</font> % <font color=#1b1baa>$len</font>}]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sp</font>==0} {<b><font color=#3a6797>set</font></b> sp <font color=#1b1baa>$len</font>}
        <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$l</font>.0 <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>l.0 + <font color=#1b1baa>${</font>sp<font color=#1b1baa>}</font>c&quot;</font>
      }
    }
  }
  undoOut <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ValidMacro'>ValidMacro</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Validates the macro name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidMacro</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_ValidMacro' href="javascript:toggleSource('alited_edit_ValidMacro')">Show source</a></p>
<div id='alited_edit_ValidMacro' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ValidMacro {} {
  <i><font color=#4b5d50># Validates the macro name.</font></i>

  <b><font color=#3a6797>after</font></b> idle alited::edit::ValidMacroReal
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ValidMacroReal'>ValidMacroReal</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets &quot;root tail&quot; of the file name and saves its directory name. Changes the record icon depending on the macro file exists or not.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidMacroReal</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_ValidMacroReal' href="javascript:toggleSource('alited_edit_ValidMacroReal')">Show source</a></p>
<div id='alited_edit_ValidMacroReal' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ValidMacroReal {} {
  <i><font color=#4b5d50># Gets &quot;root tail&quot; of the file name and saves its directory name.</font></i>
  <i><font color=#4b5d50># Changes the record icon depending on the macro file exists or not.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> tmpdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(_macro)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tmpdir</font> ni {. <font color=#8b2a0e>&quot;&quot;</font>}} {<b><font color=#3a6797>set</font></b> al(_macroDir) <font color=#1b1baa>$tmpdir</font>}
  <b><font color=#3a6797>set</font></b> al(_macro) [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$al(_macro)</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists [MacroFileName [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(_macro)</font>]]]} {
    <b><font color=#3a6797>set</font></b> icon change
    <b><font color=#3a6797>set</font></b> mstate normal
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> icon add
    <b><font color=#3a6797>set</font></b> mstate disabled
  }
  <b><font color=#3a6797>set</font></b> icon alimg_<font color=#1b1baa>$icon</font>
  <b><font color=#3a6797>set</font></b> but [<font color=#1b1baa>$obDl2</font> ButRec]
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$but</font> cget <font color=#6c3e67>-image</font>] ne <font color=#1b1baa>$icon</font>} {::apave::blinkWidgetImage <font color=#1b1baa>$but</font> <font color=#1b1baa>$icon</font>}
  [<font color=#1b1baa>$obDl2</font> ButPlay] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$mstate</font>
  [<font color=#1b1baa>$obDl2</font> ButDel] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$mstate</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::WatchMacro'>WatchMacro</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Watch the end of recording.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WatchMacro</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_edit_WatchMacro' href="javascript:toggleSource('alited_edit_WatchMacro')">Show source</a></p>
<div id='alited_edit_WatchMacro' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::WatchMacro {} {
  <i><font color=#4b5d50># Watch the end of recording.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> macrosmode
  <b><font color=#3a6797>if</font></b> {[::playtkl::isend]} {
    alited::Message {Recording: done} 5; <b><font color=#134070>bell</font></b>
    MacroMenu <font color=#1b1baa>$al(activemacro)</font> yes
    <b><font color=#3a6797>set</font></b> macrosmode <font color=#8b2a0e>&quot;play&quot;</font>
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>after</font></b> 200 alited::edit::WatchMacro
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::favor'></a>::alited::favor<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::favor-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::favor::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes and shows favorite / last visited units' view.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor__init' href="javascript:toggleSource('alited_favor__init')">Show source</a></p>
<div id='alited_favor__init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::_init {} {
  <i><font color=#4b5d50># Initializes and shows favorite / last visited units' view.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  alited::tree::AddTags <font color=#1b1baa>$wtree</font>
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;Return&gt; {::alited::favor::Select}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonRelease-1&gt; {::alited::favor::Select}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonPress-3&gt; {<b><font color=#3a6797>after</font></b> idle {alited::favor::PopupMenu %x %y %X %Y}}
  <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc <font color=#1b1baa>$al(MC,favorites)</font>]
  ShowFavVisit
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a unit to favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>?undermouse? ?idnames?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>idnames</code></code></td><td class='ruff_defitem'>list of unit's ID and names to add; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_Add' href="javascript:toggleSource('alited_favor_Add')">Show source</a></p>
<div id='alited_favor_Add' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Add {{undermouse yes} {idnames {}}} {
  <i><font color=#4b5d50># Adds a unit to favorites.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>
  <i><font color=#4b5d50>#   idnames - list of unit's ID and names to add</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> idnlen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$idnames</font>]]&gt;2} {
    <b><font color=#3a6797>set</font></b> geo {} ;<i><font color=#4b5d50># for a list (of popup menu: id1 name1 id2 name2...) - no 'under mouse'</font></i>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> geo [GeoForQuery <font color=#1b1baa>$undermouse</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idnlen</font>==0} {
    <b><font color=#3a6797>lassign</font></b> [CurrentName] itemID name l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq {}} <b><font color=#ca14ca>return</font></b>
    <b><font color=#3a6797>set</font></b> idnames [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$name</font>]
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(ANSWER,favor::Add)]} {
    <b><font color=#3a6797>set</font></b> al(ANSWER,favor::Add) 0
  }
  <b><font color=#3a6797>foreach</font></b> {itemID name} <font color=#1b1baa>$idnames</font> {
    <b><font color=#3a6797>set</font></b> err no
    <b><font color=#3a6797>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 4] name2 fname2
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq <font color=#1b1baa>$name2</font> && <font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fname2</font>} {
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,addexist)</font>]
        alited::Message <font color=#1b1baa>$msg</font> 4
        <b><font color=#3a6797>set</font></b> err yes
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,addfavor)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(ANSWER,favor::Add)</font>==11 || [<b><font color=#3a6797>set</font></b> al(ANSWER,favor::Add)  [alited::msg yesnocancel ques <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]]  in {1 11}} {
      <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
      <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader [<font color=#1b1baa>$obPav</font> Tree] <font color=#1b1baa>$itemID</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idnlen</font>==0} {
        <b><font color=#3a6797>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
        <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$l1</font> eq {} || <font color=#1b1baa>$l2</font> eq {} || <font color=#1b1baa>$l1</font>&gt;<font color=#1b1baa>$pos</font> || <font color=#1b1baa>$l2</font>&lt;<font color=#1b1baa>$pos</font>) ? 0 :  [::apave::p+ <font color=#1b1baa>$pos</font> -<font color=#1b1baa>$l1</font>]}]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> line 0 ;<i><font color=#4b5d50># favorites added from the tree</font></i>
      }
      <b><font color=#3a6797>set</font></b> wt2 [<font color=#1b1baa>$obPav</font> TreeFavor]
      <b><font color=#3a6797>set</font></b> ID2 [<font color=#1b1baa>$wt2</font> insert {} 0 <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$name</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$header</font> <font color=#1b1baa>$line</font>]]
      <font color=#1b1baa>$wt2</font> tag add tagNorm <font color=#1b1baa>$ID2</font>
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(ANSWER,favor::Add)</font>} <b><font color=#ca14ca>break</font></b>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::AddFromTree'>AddFromTree</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a list of selected items of the tree to Favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddFromTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_AddFromTree' href="javascript:toggleSource('alited_favor_AddFromTree')">Show source</a></p>
<div id='alited_favor_AddFromTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::AddFromTree {} {
  <i><font color=#4b5d50># Adds a list of selected items of the tree to Favorites.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> IDs [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$IDs</font> eq {}} {<b><font color=#134070>bell</font></b>; <b><font color=#ca14ca>return</font></b>}
  <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$IDs</font> {
    <b><font color=#3a6797>lappend</font></b> idnames <font color=#1b1baa>$ID</font> [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]]
  }
  Add no <font color=#1b1baa>$idnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::CopyDeclaration'>CopyDeclaration</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Copies a current unit's declaration to the clipboard.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CopyDeclaration</span> <span class='ruff_arg'>wtree ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_CopyDeclaration' href="javascript:toggleSource('alited_favor_CopyDeclaration')">Show source</a></p>
<div id='alited_favor_CopyDeclaration' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::CopyDeclaration {wtree ID} {
  <i><font color=#4b5d50># Copies a current unit's declaration to the clipboard.</font></i>
  <i><font color=#4b5d50>#   wtree - tree widget's path</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>

  <b><font color=#134070>clipboard</font></b> clear
  <b><font color=#134070>clipboard</font></b> append [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 2]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::CurrentID'>CurrentID</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID of a currently selected favorite.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentID</span> <span class='ruff_arg'>undermouse</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns favorite's ID &amp; name &amp; file name &amp; tree list &amp; header or {} if a favorite not selected.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_CurrentID' href="javascript:toggleSource('alited_favor_CurrentID')">Show source</a></p>
<div id='alited_favor_CurrentID' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::CurrentID {undermouse} {
  <i><font color=#4b5d50># Gets ID of a currently selected favorite.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>
  <i><font color=#4b5d50># Returns favorite's ID & name & file name & tree list & header or {} if a favorite not selected.</font></i>

  <b><font color=#3a6797>set</font></b> favID [<b><font color=#3a6797>set</font></b> fname {}]
  <b><font color=#3a6797>set</font></b> treelist [alited::tree::GetTree {} TreeFavor]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$undermouse</font>} {
    <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>lindex</font></b> [CurrentName yes] 1]
    <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$treelist</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> - - ID2 - values
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> name2 fname header
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name2</font> eq <font color=#1b1baa>$name</font>} {
        <b><font color=#3a6797>set</font></b> favID <font color=#1b1baa>$ID2</font>
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favID</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {![IsSelected favID name2 fname sname header line]} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$treelist</font> 0] - - favID - values
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> name2 fname header
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favID</font> eq {}} {<b><font color=#ca14ca>return</font></b> {}}
    }
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$favID</font> <font color=#1b1baa>$name2</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$treelist</font> <font color=#1b1baa>$header</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::CurrentName'>CurrentName</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets data of a current favorite.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentName</span> <span class='ruff_arg'>?dobell?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dobell</code></code></td><td class='ruff_defitem'>if yes, bells at empty unit tree; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of the favorite's data: ID, title, 1st line, last line.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_CurrentName' href="javascript:toggleSource('alited_favor_CurrentName')">Show source</a></p>
<div id='alited_favor_CurrentName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::CurrentName {{dobell no}} {
  <i><font color=#4b5d50># Gets data of a current favorite.</font></i>
  <i><font color=#4b5d50>#   dobell - if yes, bells at empty unit tree</font></i>
  <i><font color=#4b5d50># Returns a list of the favorite's data: ID, title, 1st line, last line.</font></i>

  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine {} 1] itemID - - - name l1 l2
  <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq {} && <font color=#1b1baa>$dobell</font>} <b><font color=#134070>bell</font></b>
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes an item from favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>?undermouse?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_Delete' href="javascript:toggleSource('alited_favor_Delete')">Show source</a></p>
<div id='alited_favor_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Delete {{undermouse yes}} {
  <i><font color=#4b5d50># Deletes an item from favorites.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>lassign</font></b> [CurrentID <font color=#1b1baa>$undermouse</font>] favID name fname
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favID</font> eq {} || ![<b><font color=#3a6797>info</font></b> exists fname] || <font color=#1b1baa>$fname</font> eq {}} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># for empty list</font></i>
  }
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favID</font> eq {}} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,notfavor)</font>]
    alited::Message <font color=#1b1baa>$msg</font> 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,delfavor)</font>]
  <b><font color=#3a6797>set</font></b> geo [GeoForQuery <font color=#1b1baa>$undermouse</font>]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font> || [alited::msg yesno warn <font color=#1b1baa>$msg</font> YES {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]} {
    DeleteLastVisited <font color=#1b1baa>$favID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::DeleteAll'>DeleteAll</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes all items from favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteAll</span> <span class='ruff_arg'>?undermouse?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_DeleteAll' href="javascript:toggleSource('alited_favor_DeleteAll')">Show source</a></p>
<div id='alited_favor_DeleteAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::DeleteAll {{undermouse yes}} {
  <i><font color=#4b5d50># Deletes all items from favorites.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> geo [GeoForQuery <font color=#1b1baa>$undermouse</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <b><font color=#3a6797>set</font></b> msg {Delete all of Favorites?}
    <b><font color=#3a6797>set</font></b> listvar al(FAV,current)
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg {Delete all of the last visited?}
    <b><font color=#3a6797>set</font></b> listvar al(FAV,visited)
  }
  <b><font color=#3a6797>set</font></b> favlist [alited::tree::GetTree {} TreeFavor]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favlist</font> eq {}} {<b><font color=#134070>bell</font></b>; <b><font color=#ca14ca>return</font></b>}
  <b><font color=#3a6797>if</font></b> {[alited::msg yesno warn [msgcat::mc <font color=#1b1baa>$msg</font>] YES {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,favordelall)</font>]} {
    <b><font color=#3a6797>foreach</font></b> curfav <font color=#1b1baa>$favlist</font> {
      [<font color=#1b1baa>$obPav</font> TreeFavor] delete [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$curfav</font> 2]
    }
    <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$listvar</font> [<b><font color=#3a6797>list</font></b>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::DeleteLastVisited'>DeleteLastVisited</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes last visited item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteLastVisited</span> <span class='ruff_arg'>id</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>id</code></code></td><td class='ruff_defitem'>ID of the item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_DeleteLastVisited' href="javascript:toggleSource('alited_favor_DeleteLastVisited')">Show source</a></p>
<div id='alited_favor_DeleteLastVisited' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::DeleteLastVisited {id} {
  <i><font color=#4b5d50># Deletes last visited item.</font></i>
  <i><font color=#4b5d50>#   id - ID of the item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> treelist [alited::tree::GetTree {} TreeFavor]
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 2 <font color=#1b1baa>$treelist</font> <font color=#1b1baa>$id</font>]
      <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
  }
  [<font color=#1b1baa>$obPav</font> TreeFavor] delete <font color=#1b1baa>$id</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::GeoForQuery'>GeoForQuery</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets geometry for a query.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GeoForQuery</span> <span class='ruff_arg'>undermouse</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_GeoForQuery' href="javascript:toggleSource('alited_favor_GeoForQuery')">Show source</a></p>
<div id='alited_favor_GeoForQuery' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::GeoForQuery {undermouse} {
  <i><font color=#4b5d50># Gets geometry for a query.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$undermouse</font>} {<b><font color=#3a6797>set</font></b> y -100} {<b><font color=#3a6797>set</font></b> y -150}  ;<i><font color=#4b5d50># y is a shift for Y axis</font></i>
  <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;-geometry pointer+10+<font color=#1b1baa>$</font>y&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::GetTooltip'>GetTooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip of favorite / last visited unit's declaration.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTooltip</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of treeview item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_GetTooltip' href="javascript:toggleSource('alited_favor_GetTooltip')">Show source</a></p>
<div id='alited_favor_GetTooltip' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::GetTooltip {ID} {
  <i><font color=#4b5d50># Gets a tip of favorite / last visited unit's declaration.</font></i>
  <i><font color=#4b5d50>#   ID - ID of treeview item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TIPS,TreeFavor)</font> && <font color=#1b1baa>$al(FAV,IsFavor)</font> || ![::alited::IsTipable]} {
    <i><font color=#4b5d50># no tips while switched off</font></i>
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>set</font></b> decl [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 2]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>append</font></b> tip <font color=#1b1baa>$decl</font> \n <font color=#1b1baa>$fname</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::GoToUnit'>GoToUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enters a unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GoToUnit</span> <span class='ruff_arg'>TID name header ?forfavor? ?it1? ?values?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>header of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>forfavor</code></code></td><td class='ruff_defitem'>yes, if Favorites list is clicked and must be updated; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>it1</code></code></td><td class='ruff_defitem'>item selected in Favorites (for forfavor=yes); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>values</code></code></td><td class='ruff_defitem'>values of item selected in Favorites (for forfavor=yes); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if the unit is open successfully.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::SaveCursorPos" title="tree::SaveCursorPos" class='ruff_cmd'>tree::SaveCursorPos</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_GoToUnit' href="javascript:toggleSource('alited_favor_GoToUnit')">Show source</a></p>
<div id='alited_favor_GoToUnit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::GoToUnit {TID name header {forfavor no} {it1 {}} {values {}}} {
  <i><font color=#4b5d50># Enters a unit.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   name - name of the unit</font></i>
  <i><font color=#4b5d50>#   header - header of the unit</font></i>
  <i><font color=#4b5d50>#   forfavor - yes, if Favorites list is clicked and must be updated</font></i>
  <i><font color=#4b5d50>#   it1 - item selected in Favorites (for forfavor=yes)</font></i>
  <i><font color=#4b5d50>#   values - values of item selected in Favorites (for forfavor=yes)</font></i>
  <i><font color=#4b5d50># Returns yes, if the unit is open successfully.</font></i>
  <i><font color=#4b5d50># See also: tree::SaveCursorPos</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$header</font> - nameorig}]} {<b><font color=#3a6797>set</font></b> nameorig <font color=#1b1baa>$header</font>}
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>set</font></b> name2 [alited::tree::UnitTitle <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nameorig</font> eq <font color=#1b1baa>$name2</font> || <font color=#1b1baa>$name</font> eq <font color=#1b1baa>$name2</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$forfavor</font>} {
        <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
        <font color=#1b1baa>$wtree</font> delete <font color=#1b1baa>$it1</font>
        <b><font color=#3a6797>set</font></b> favID [<font color=#1b1baa>$wtree</font> insert {} 0 <font color=#6c3e67>-values</font> <font color=#1b1baa>$values</font>]
        <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$favID</font>
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$header</font>]} {<b><font color=#3a6797>set</font></b> name <font color=#1b1baa>$nameorig</font>}
      LastVisited [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-text</font> <font color=#1b1baa>$name</font>] <font color=#1b1baa>$header</font>
      <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 7]  ;<i><font color=#4b5d50># saved cursor position</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> ne {}} {<b><font color=#3a6797>set</font></b> pos <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos yes&quot;</font>}
      <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::tree::NewSelection <font color=#1b1baa>$</font>treeID <font color=#1b1baa>$</font>pos; alited::main::HighlightLine&quot;</font>
      <b><font color=#ca14ca>return</font></b> yes
    }
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::InitFavorites'>InitFavorites</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes favorites list for possible &quot;Back&quot; of &quot;Favorites' Lists&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitFavorites</span> <span class='ruff_arg'>favs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>favs</code></code></td><td class='ruff_defitem'>initial list of project's favorites</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::ini::ReadIniPrj" title="ini::ReadIniPrj" class='ruff_cmd'>ini::ReadIniPrj</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_InitFavorites' href="javascript:toggleSource('alited_favor_InitFavorites')">Show source</a></p>
<div id='alited_favor_InitFavorites' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::InitFavorites {favs} {
  <i><font color=#4b5d50># Initializes favorites list for possible &quot;Back&quot; of &quot;Favorites' Lists&quot;.</font></i>
  <i><font color=#4b5d50>#   favs - initial list of project's favorites</font></i>
  <i><font color=#4b5d50># See also: ini::ReadIniPrj</font></i>

  <b><font color=#3a6797>variable</font></b> initialFavs
  <b><font color=#3a6797>set</font></b> initialFavs <font color=#1b1baa>$favs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::IsFavoritesFiles'>IsFavoritesFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the selected favorites list is a list of file names</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsFavoritesFiles</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>content of the list</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_IsFavoritesFiles' href="javascript:toggleSource('alited_favor_IsFavoritesFiles')">Show source</a></p>
<div id='alited_favor_IsFavoritesFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::IsFavoritesFiles {cont} {
  <i><font color=#4b5d50># Checks if the selected favorites list is a list of file names</font></i>
  <i><font color=#4b5d50>#   cont - content of the list</font></i>

  <b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> 0 0] eq {FILE}}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::IsSelected'>IsSelected</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets data of currently selected item of favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsSelected</span> <span class='ruff_arg'>IDN nameN fnameN snameN headerN lineN</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>IDN</code></code></td><td class='ruff_defitem'>variable name of item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>nameN</code></code></td><td class='ruff_defitem'>variable name of item's name</td></tr>
<tr><td class='ruff_defitem'><code><code>fnameN</code></code></td><td class='ruff_defitem'>variable name of item's file name</td></tr>
<tr><td class='ruff_defitem'><code><code>snameN</code></code></td><td class='ruff_defitem'>variable name of item's tail file name</td></tr>
<tr><td class='ruff_defitem'><code><code>headerN</code></code></td><td class='ruff_defitem'>variable name of item's header</td></tr>
<tr><td class='ruff_defitem'><code><code>lineN</code></code></td><td class='ruff_defitem'>variable name of item's 1st line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_IsSelected' href="javascript:toggleSource('alited_favor_IsSelected')">Show source</a></p>
<div id='alited_favor_IsSelected' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::IsSelected {IDN nameN fnameN snameN headerN lineN} {
  <i><font color=#4b5d50># Gets data of currently selected item of favorites.</font></i>
  <i><font color=#4b5d50>#   IDN - variable name of item's ID</font></i>
  <i><font color=#4b5d50>#   nameN - variable name of item's name</font></i>
  <i><font color=#4b5d50>#   fnameN - variable name of item's file name</font></i>
  <i><font color=#4b5d50>#   snameN - variable name of item's tail file name</font></i>
  <i><font color=#4b5d50>#   headerN - variable name of item's header</font></i>
  <i><font color=#4b5d50>#   lineN - variable name of item's 1st line</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>upvar</font></b> 1 <font color=#1b1baa>$IDN</font> ID <font color=#1b1baa>$nameN</font> name <font color=#1b1baa>$fnameN</font> fname <font color=#1b1baa>$snameN</font> sname <font color=#1b1baa>$headerN</font> header <font color=#1b1baa>$lineN</font> line
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ID [alited::tree::CurrentItem TreeFavor]] eq {}} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] name fname header line
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::LastVisited'>LastVisited</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts an item to &quot;Last visited&quot; list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LastVisited</span> <span class='ruff_arg'>item header ?l1?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>list of tree's item data (first two: -text {label})</td></tr>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>header of item</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>starting line of a last visited unit, if any; <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_LastVisited' href="javascript:toggleSource('alited_favor_LastVisited')">Show source</a></p>
<div id='alited_favor_LastVisited' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::LastVisited {item header {l1 -1}} {
  <i><font color=#4b5d50># Puts an item to &quot;Last visited&quot; list.</font></i>
  <i><font color=#4b5d50>#   item - list of tree's item data (first two: -text {label})</font></i>
  <i><font color=#4b5d50>#   header - header of item</font></i>
  <i><font color=#4b5d50>#   l1 - starting line of a last visited unit, if any</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[SkipVisited]} {
    <i><font color=#4b5d50># avoid a false run at switching to a file from infobar/favorites</font></i>
    SkipVisited no
    <b><font color=#ca14ca>return</font></b>
  }
  <i><font color=#4b5d50># check for &quot;All of...&quot; - don't save it</font></i>
  <b><font color=#3a6797>set</font></b> allof [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$al(MC,alloffile)</font> 0 [<b><font color=#3a6797>string</font></b> first \&quot; <font color=#1b1baa>$al(MC,alloffile)</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$allof</font> <font color=#1b1baa>$header</font>]==0} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># check for &quot;Lines...&quot; - don't save it</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^<font color=#1b1baa>$</font>al(MC,lines) \\d+-\\d+\$&quot;</font> <font color=#1b1baa>$header</font>]} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># check for an empty item - don't save it</font></i>
  <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 1]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name</font>] eq {} || [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$name</font> end-1 end] eq {::}} {
    <b><font color=#ca14ca>return</font></b>
  }
  <i><font color=#4b5d50># checks done, save this last visit</font></i>
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> lvisit [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$name</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$header</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lvisit</font> eq [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 0 4]} {
    <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># already 1st: no need to put it</font></i>
  }
  <i><font color=#4b5d50># search an old item</font></i>
  <b><font color=#3a6797>set</font></b> found no
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>set</font></b> ln <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>expr <font color=#1b1baa>{</font>int(<font color=#1b1baa>[[</font>alited::main::CurrentWTXT<font color=#1b1baa>]</font> index insert<font color=#1b1baa>]</font>)<font color=#1b1baa>}]</font>&quot;</font>
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(FAV,visited)</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> - - ID - values
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> name2 fname2 header2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fname2</font> && <font color=#1b1baa>$header</font> eq <font color=#1b1baa>$header2</font>} {
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$i</font>} <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># already 1st: no need to put it</font></i>
      <b><font color=#3a6797>set</font></b> found yes
      <i><font color=#4b5d50># if found, move it to 0th position</font></i>
      <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
      <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$found</font> && <font color=#1b1baa>$ln</font> eq <font color=#1b1baa>$l1</font>} {
    <i><font color=#4b5d50># already 1st in last visits, maybe with a changed name</font></i>
    <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 0 0]
  }
  <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 0 [<b><font color=#3a6797>list</font></b> - - - - <font color=#1b1baa>$lvisit</font>]]
  <i><font color=#4b5d50># delete last items if the list's limit is exceeded</font></i>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> <font color=#1b1baa>$al(FAV,MAXLAST)</font> end]}
  <i><font color=#4b5d50># update the tree widget</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    SetFavorites <font color=#1b1baa>$al(FAV,visited)</font>
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> id0 [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> children {}] 0]] ne {}} {
      <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$id0</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Lists'>Lists</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Lists</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_Lists' href="javascript:toggleSource('alited_favor_Lists')">Show source</a></p>
<div id='alited_favor_Lists' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Lists {} {
  <i><font color=#4b5d50># Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> initialFavs
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$initialFavs</font>]} {
    <b><font color=#3a6797>set</font></b> initialFavs [alited::tree::GetTree {} TreeFavor]
  }
  <b><font color=#3a6797>lassign</font></b> [::alited::favor_ls::_run] pla cont
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$pla</font> {
    1 {SetFavorites <font color=#1b1baa>$cont</font>}
    2 {SetAndClose <font color=#1b1baa>$cont</font>}
    3 {SetFavorites <font color=#1b1baa>$initialFavs</font>}
    5 - 6 {OpenFiles <font color=#1b1baa>$pla</font> <font color=#1b1baa>$cont</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::OpenFiles'>OpenFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files with current favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFiles</span> <span class='ruff_arg'>pla cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pla</code></code></td><td class='ruff_defitem'>if 5, current files remain; if 6, current files close</td></tr>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of favorites</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_OpenFiles' href="javascript:toggleSource('alited_favor_OpenFiles')">Show source</a></p>
<div id='alited_favor_OpenFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::OpenFiles {pla cont} {
  <i><font color=#4b5d50># Opens files with current favorites.</font></i>
  <i><font color=#4b5d50>#   pla - if 5, current files remain; if 6, current files close</font></i>
  <i><font color=#4b5d50>#   cont - list of favorites</font></i>

  <b><font color=#3a6797>variable</font></b> ansOpenFiles
  <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> fname <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> ne {}} {<b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fname</font>}
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fnames</font>]]} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ansOpenFiles</font>&lt;10} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Number of files to open: %n}]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$llen</font>] <font color=#1b1baa>$msg</font>]
      <b><font color=#3a6797>set</font></b> ansOpenFiles [alited::msg okcancel warn <font color=#1b1baa>$msg</font> OK <font color=#6c3e67>-ch</font> <font color=#1b1baa>$::alited::al(MC,noask)</font>]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ansOpenFiles</font>} {
      <i><font color=#4b5d50># try to show them all on the 1st page of tabbar</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pla</font>==6} {alited::file::CloseAll 1}
      <b><font color=#3a6797>foreach</font></b> fname [<b><font color=#3a6797>lreverse</font></b> <font color=#1b1baa>$fnames</font>] {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::file::OpenFile <font color=#1b1baa>$fname</font>]] ne {}} {
          alited::bar::BAR moveTab <font color=#1b1baa>$TID</font> 0
        }
      }
      alited::bar::BAR update
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::OpenSelectedFile'>OpenSelectedFile</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a file from a selected item of favorites/last visited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenSelectedFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns tab's ID, if the file is open successfully.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_OpenSelectedFile' href="javascript:toggleSource('alited_favor_OpenSelectedFile')">Show source</a></p>
<div id='alited_favor_OpenSelectedFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::OpenSelectedFile {fname} {
  <i><font color=#4b5d50># Opens a file from a selected item of favorites/last visited.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50># Returns tab's ID, if the file is open successfully.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(dolastvisited) no
  <b><font color=#3a6797>set</font></b> TID [alited::file::OpenFile <font color=#1b1baa>$fname</font> yes]
  <b><font color=#3a6797>set</font></b> al(dolastvisited) yes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {alited::Balloon1 <font color=#1b1baa>$fname</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::PopupMenu'>PopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and runs a popup menu at clicking Favorites / last visited list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupMenu</span> <span class='ruff_arg'>x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_PopupMenu' href="javascript:toggleSource('alited_favor_PopupMenu')">Show source</a></p>
<div id='alited_favor_PopupMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::PopupMenu {x y X Y} {
  <i><font color=#4b5d50># Prepares and runs a popup menu at clicking Favorites / last visited list.</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify tree item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify tree item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of the mouse pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtree</font> selection]] ne {}} {
    <font color=#1b1baa>$wtree</font> selection remove <font color=#1b1baa>$sel</font>
  }
  <font color=#1b1baa>$wtree</font> selection add <font color=#1b1baa>$ID</font>
  ShowPopupMenu <font color=#1b1baa>$ID</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Rename'>Rename</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Renames a current favorite.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Rename</span> <span class='ruff_arg'>?undermouse?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_Rename' href="javascript:toggleSource('alited_favor_Rename')">Show source</a></p>
<div id='alited_favor_Rename' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Rename {{undermouse yes}} {
  <i><font color=#4b5d50># Renames a current favorite.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav obDl2 obDl2
  <b><font color=#3a6797>lassign</font></b> [CurrentID <font color=#1b1baa>$undermouse</font>] favID name - - header
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favID</font> eq {}} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># for empty list</font></i>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$header</font>]} {
    alited::Message [msgcat::mc {For leaf units only!}] 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> geo [GeoForQuery <font color=#1b1baa>$undermouse</font>]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$al(MC,favorren)</font> [<b><font color=#3a6797>list</font></b>  ent <font color=#8b2a0e>&quot;<font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 32<font color=#1b1baa>}</font>&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>name<font color=#1b1baa>}</font>&quot;</font>]  <font color=#6c3e67>-head</font> [msgcat::mc {Favorite name:}] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>] res name2
  <b><font color=#3a6797>set</font></b> name2 [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name2</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> && <font color=#1b1baa>$name2</font> ne {} && <font color=#1b1baa>$name2</font> ne <font color=#1b1baa>$name</font>} {
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
    <b><font color=#3a6797>set</font></b> values [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$favID</font> <font color=#6c3e67>-values</font>]
    <b><font color=#3a6797>set</font></b> values [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$values</font> 0 0 <font color=#1b1baa>$name2</font>]
    <font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$favID</font> <font color=#6c3e67>-values</font> <font color=#1b1baa>$values</font>
    <b><font color=#3a6797>after</font></b> 200 alited::main::FocusText
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_Select' href="javascript:toggleSource('alited_favor_Select')">Show source</a></p>
<div id='alited_favor_Select' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Select {} {
  <i><font color=#4b5d50># Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(_MSEC)] && [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$al(_MSEC)</font>)&lt;800}]} {
    <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># disables double click</font></i>
  }
  <b><font color=#3a6797>set</font></b> al(_MSEC) <font color=#1b1baa>$msec</font>
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>if</font></b> {![IsSelected favID name fname sname header line]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> values [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$favID</font> <font color=#6c3e67>-values</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [OpenSelectedFile <font color=#1b1baa>$fname</font>]] eq {}} {
    DeleteLastVisited <font color=#1b1baa>$favID</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <i><font color=#4b5d50># scan Favorites/last-visited tree, to find the selected item</font></i>
  <i><font color=#4b5d50># and remake favorites and last visits; then go to the selected unit</font></i>
  <b><font color=#3a6797>foreach</font></b> it1 [<font color=#1b1baa>$wtree</font> children {}] {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$it1</font> <font color=#6c3e67>-values</font>] name2 - header2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$header</font> eq <font color=#1b1baa>$header2</font>} {
      <b><font color=#3a6797>if</font></b> {[GoToUnit <font color=#1b1baa>$TID</font> <font color=#1b1baa>$name2</font> <font color=#1b1baa>$header2</font> <font color=#1b1baa>$al(FAV,IsFavor)</font> <font color=#1b1baa>$it1</font> <font color=#1b1baa>$values</font>]} <b><font color=#ca14ca>return</font></b>
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>foreach</font></b> it1 [<font color=#1b1baa>$wtree</font> children {}] {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$it1</font> <font color=#6c3e67>-values</font>] name2 - header2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq <font color=#1b1baa>$name2</font>} {
      <b><font color=#3a6797>if</font></b> {[GoToUnit <font color=#1b1baa>$TID</font> <font color=#1b1baa>$name2</font> <font color=#1b1baa>$header2</font> <font color=#1b1baa>$al(FAV,IsFavor)</font> <font color=#1b1baa>$it1</font> <font color=#1b1baa>$values</font>]} <b><font color=#ca14ca>return</font></b>
      DeleteLastVisited <font color=#1b1baa>$it1</font>
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %u <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,notfndunit)</font>]
  alited::Message <font color=#1b1baa>$msg</font> 3
  alited::main::FocusText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SetAndClose'>SetAndClose</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets favorites list, opens files from favorites list, closes other files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetAndClose</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of favorites</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_SetAndClose' href="javascript:toggleSource('alited_favor_SetAndClose')">Show source</a></p>
<div id='alited_favor_SetAndClose' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SetAndClose {cont} {
  <i><font color=#4b5d50># Sets favorites list, opens files from favorites list, closes other files.</font></i>
  <i><font color=#4b5d50>#   cont - list of favorites</font></i>

  SetFavorites <font color=#1b1baa>$cont</font>
  <b><font color=#3a6797>set</font></b> fnamecont {}
  <b><font color=#3a6797>set</font></b> fnamecurr [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> iscurr yes
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>set</font></b> found no
    <b><font color=#3a6797>foreach</font></b> fit <font color=#1b1baa>$cont</font> {
      <b><font color=#3a6797>set</font></b> fnamecont [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fit</font> 4 1]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fnamecont</font>} {
        <b><font color=#3a6797>set</font></b> found yes
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$found</font>} {
      <b><font color=#3a6797>if</font></b> {![alited::file::CloseFile <font color=#1b1baa>$TID</font> no]} <b><font color=#ca14ca>break</font></b>
      alited::bar::BAR <font color=#1b1baa>$TID</font> close no
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fnamecurr</font>} {<b><font color=#3a6797>set</font></b> iscurr no}
    }
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listTab]]} {
    <i><font color=#4b5d50># no tabs open</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnamecont</font> ne {}} {
      alited::file::OpenFile <font color=#1b1baa>$fnamecont</font> yes ;<i><font color=#4b5d50>#  open a file from favorites</font></i>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::CheckForNew  ;<i><font color=#4b5d50># ... or create &quot;no name&quot; tab</font></i>
    }
  }
  alited::bar::BAR update
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$iscurr</font>} {
    <i><font color=#4b5d50># if a current file was closed, open 1st of the open</font></i>
    <b><font color=#3a6797>catch</font></b> {alited::bar::BAR [<b><font color=#3a6797>lindex</font></b> [alited::bar::BAR listTab] 0 0] show}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SetFavorites'>SetFavorites</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets favorites/last visited list in the treeview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetFavorites</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of favorites/last visited</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_SetFavorites' href="javascript:toggleSource('alited_favor_SetFavorites')">Show source</a></p>
<div id='alited_favor_SetFavorites' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SetFavorites {cont} {
  <i><font color=#4b5d50># Sets favorites/last visited list in the treeview.</font></i>
  <i><font color=#4b5d50>#   cont - list of favorites/last visited</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
    <font color=#1b1baa>$wtree</font> delete [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 2]
  }
  <b><font color=#3a6797>foreach</font></b> curfav <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$curfav</font> - - - - values
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$values</font> ne {}} {
        <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> insert {} end <font color=#6c3e67>-values</font> <font color=#1b1baa>$values</font>]
        <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$itemID</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Show'>Show</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a list of favorites / last visited units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Show</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_Show' href="javascript:toggleSource('alited_favor_Show')">Show source</a></p>
<div id='alited_favor_Show' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Show {} {
  <i><font color=#4b5d50># Shows a list of favorites / last visited units.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> BtTAddF] <font color=#6c3e67>-side</font> left <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> SevF]
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> BtTRenF] <font color=#6c3e67>-side</font> left <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> BtTAddF]
    [<font color=#1b1baa>$obPav</font> BtTVisitF] configure <font color=#6c3e67>-image</font> alimg_misc
    <b><font color=#3a6797>set</font></b> tip <font color=#1b1baa>$::alited::al(MC,lastvisit)</font>
    <b><font color=#3a6797>set</font></b> state normal
    SetFavorites <font color=#1b1baa>$al(FAV,current)</font>
    <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc <font color=#1b1baa>$al(MC,favorites)</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> BtTAddF]
    <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> BtTRenF]
    <b><font color=#3a6797>set</font></b> al(FAV,current) [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
      <b><font color=#3a6797>lappend</font></b> al(FAV,current) <font color=#1b1baa>$it</font>
    }
    [<font color=#1b1baa>$obPav</font> BtTVisitF] configure <font color=#6c3e67>-image</font> alimg_heart
    <b><font color=#3a6797>set</font></b> tip <font color=#1b1baa>$al(MC,favorites)</font>
    <b><font color=#3a6797>set</font></b> state disable
    SetFavorites <font color=#1b1baa>$al(FAV,visited)</font>
    <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc <font color=#1b1baa>$al(MC,lastvisit)</font>]
  }
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTVisitF] <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::ShowFavVisit'>ShowFavVisit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Show favorites/last visits, depending on the mode.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowFavVisit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ShowFavVisit' href="javascript:toggleSource('alited_favor_ShowFavVisit')">Show source</a></p>
<div id='alited_favor_ShowFavVisit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::ShowFavVisit {} {
  <i><font color=#4b5d50># Show favorites/last visits, depending on the mode.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  SetFavorites <font color=#1b1baa>$al(FAV,current)</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>} Show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::ShowPopupMenu'>ShowPopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a popup menu at clicking Favorites / last visited list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowPopupMenu</span> <span class='ruff_arg'>ID X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ShowPopupMenu' href="javascript:toggleSource('alited_favor_ShowPopupMenu')">Show source</a></p>
<div id='alited_favor_ShowPopupMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::ShowPopupMenu {ID X Y} {
  <i><font color=#4b5d50># Displays a popup menu at clicking Favorites / last visited list.</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of the mouse pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  ::baltip sleep 1000
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$wtree</font>.popup
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 0]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$sname</font>]&gt;25} {<b><font color=#3a6797>set</font></b> sname <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>sname 0 21<font color=#1b1baa>]</font>...&quot;</font>}
  <b><font color=#3a6797>set</font></b> msgsel [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %t <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,selfavor)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <b><font color=#3a6797>set</font></b> img alimg_misc
    <b><font color=#3a6797>set</font></b> lab <font color=#1b1baa>$al(MC,lastvisit)</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> img alimg_heart
    <b><font color=#3a6797>set</font></b> lab <font color=#1b1baa>$al(MC,favorites)</font>
  }
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$lab</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> alited::favor::SwitchFavVisit <font color=#6c3e67>-image</font> <font color=#1b1baa>$img</font>
  <font color=#1b1baa>$popm</font> add separator
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,FavLists)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> ::alited::favor::Lists <font color=#6c3e67>-image</font> alimg_SaveFile
    <font color=#1b1baa>$popm</font> add separator
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favoradd)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> ::alited::favor::Add <font color=#6c3e67>-image</font> alimg_add
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favorren)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA change]  <font color=#6c3e67>-command</font> {::alited::favor::Rename no}
  }
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favordel)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> {::alited::favor::Delete no} <font color=#6c3e67>-image</font> alimg_delete
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favordelall)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> {::alited::favor::DeleteAll no} <font color=#6c3e67>-image</font> alimg_trash
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,copydecl)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;::alited::favor::CopyDeclaration <font color=#1b1baa>$</font>wtree <font color=#1b1baa>$</font>ID&quot;</font>
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SkipVisited'>SkipVisited</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets a flag to skip remembering a last visit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SkipVisited</span> <span class='ruff_arg'>?flag?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>flag</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_SkipVisited' href="javascript:toggleSource('alited_favor_SkipVisited')">Show source</a></p>
<div id='alited_favor_SkipVisited' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SkipVisited {{flag {}}} {
  <i><font color=#4b5d50># Sets/gets a flag to skip remembering a last visit.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fln _FLAGSKIPLV
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$flag</font> eq {}} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>info</font></b> exists al(<font color=#1b1baa>$fln</font>)] && <font color=#1b1baa>$al($fln)</font>}]
  }
  <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$fln</font>) <font color=#1b1baa>$flag</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SwitchFavVisit'>SwitchFavVisit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches favorites / last visited units' view.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchFavVisit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_SwitchFavVisit' href="javascript:toggleSource('alited_favor_SwitchFavVisit')">Show source</a></p>
<div id='alited_favor_SwitchFavVisit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SwitchFavVisit {} {
  <i><font color=#4b5d50># Switches favorites / last visited units' view.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(FAV,IsFavor) [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>}]
  Show
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::favor_ls'></a>::alited::favor_ls<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::favor_ls-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Favorites lists&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls__create' href="javascript:toggleSource('alited_favor_ls__create')">Show source</a></p>
<div id='alited_favor_ls__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::_create {} {
  <i><font color=#4b5d50># Creates &quot;Favorites lists&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al favgeometry favgeometry
  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>set</font></b> tipson [baltip::cget <font color=#6c3e67>-on</font>]
  baltip::configure <font color=#6c3e67>-on</font> <font color=#1b1baa>$al(TIPS,SavedFavorites)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {<b><font color=#3a6797>set</font></b> forget {}} {<b><font color=#3a6797>set</font></b> forget forget}
  ::apave::APave create <font color=#1b1baa>$obFav</font> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$obFav</font> makeWindow <font color=#1b1baa>$win</font> <font color=#1b1baa>$al(MC,FavLists)</font>
  <font color=#1b1baa>$obFav</font> paveWindow <font color=#1b1baa>$win</font> {
    {fraLbxFav - - 1 2 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-pady</font> 4} {}}
    {.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> both} {}}
    {.fra.btTAd - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-anchor</font> n} {<font color=#6c3e67>-com</font> ::alited::favor_ls::Add  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Add a list of favorites&quot;</font> <font color=#6c3e67>-image</font> alimg_add-big}}
    {.fra.btTChg - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-com</font> ::alited::favor_ls::Change  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Change a list of favorites&quot;</font> <font color=#6c3e67>-image</font> alimg_change-big}}
    {.fra.btTDel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-com</font> ::alited::favor_ls::Delete  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Delete a list of favorites&quot;</font> <font color=#6c3e67>-image</font> alimg_delete-big}}
    {.fra.v_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> y}}
    {.fra.btTFil - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-com</font> ::alited::favor_ls::AddFiles  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Add .tcl files of current session\nas the favorites&quot;</font> <font color=#6c3e67>-image</font> alimg_plus-big}}
    {.fra.btTCur - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-com</font> ::alited::favor_ls::DisplayFavorText  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,currfavs)&quot;</font> <font color=#6c3e67>-image</font> alimg_heart-big}}
    {.LbxFav - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-lvar</font> ::alited::favor_ls::favlist}}
    {.sbvFavs + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y} {}}
    {fra1 fraLbxFav T 1 2 {<font color=#6c3e67>-st</font> nswe}}
    {.h_ - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-pady</font> 10}}
    {fra1.fraEnt - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-pady</font> 4}}
    {.labFav - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,currfavs):&quot;</font>}}
    {.EntFav - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-tvar</font> ::alited::favor_ls::fav <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,favent1)</font>}}}
    {fratex fra1 T 1 2 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-cw</font> 1}}
    {.TexFav - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-w</font> 72  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Favorites of the current list&quot;</font> <font color=#6c3e67>-ro</font> 1 <font color=#6c3e67>-wrap</font> none}}
    {.sbvFav + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y}}
    {fra2 fratex T 1 2 {<font color=#6c3e67>-st</font> nswe} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {.labBA - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Non-favorite files to be:&quot;</font>}}
    {.radA - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}   {<font color=#6c3e67>-t</font> kept <font color=#6c3e67>-var</font> ::alited::favor_ls::place <font color=#6c3e67>-value</font> 1  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Doesn't close any tab without favorites\nat choosing Favorites' list&quot;</font>}}
    {.radB - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}   {<font color=#6c3e67>-t</font> closed <font color=#6c3e67>-var</font> ::alited::favor_ls::place <font color=#6c3e67>-value</font> 2  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Closes all tabs without favorites\nat choosing Favorites' list&quot;</font>}}
    {LabMess fra2 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-style</font> TLabelFS}}
    {fra3 + T 1 2 {<font color=#6c3e67>-st</font> nswe}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,help)</font>} <font color=#6c3e67>-tip</font> F1 <font color=#6c3e67>-com</font> ::alited::favor_ls::Help}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 4}}
    {.ButOK - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,select)&quot;</font> <font color=#6c3e67>-com</font> ::alited::favor_ls::Ok}}
    {.ButOpenFile - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Open...  <font color=#6c3e67>-com</font> {::alited::favor_ls::Ok 4} <font color=#6c3e67>-tip</font> {Opens files with current favorites.}}}
    {.butUndo - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> Back <font color=#6c3e67>-com</font> {::alited::favor_ls::Ok 3}  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Sets a list of Favorites\nthat was active initially.&quot;</font>}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> ::alited::favor_ls::Cancel}}
  }
  <b><font color=#3a6797>set</font></b> fav {}
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obFav</font> LbxFav]
  DisplayFavorText
  Restore_favlist
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>} {<b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::favor_ls::Select 0 ; focus <font color=#1b1baa>$</font>lbx&quot;</font>}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;&lt;ListboxSelect&gt;&gt; ::alited::favor_ls::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;FocusIn&gt; ::alited::favor_ls::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;Double-Button-1&gt; ::alited::favor_ls::DoubleClick
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;Return&gt; ::alited::favor_ls::DoubleClick
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obFav ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obFav</font> LabMess] &lt;Button-1&gt; alited::favor_ls::ProcMessage
  <b><font color=#3a6797>after</font></b> 500 ::alited::favor_ls::HelpMe ;<i><font color=#4b5d50># show an introduction after a short pause</font></i>
  <b><font color=#3a6797>set</font></b> geo {<font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {600 400}}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favgeometry</font> ne {}} {<b><font color=#3a6797>append</font></b> geo <font color=#8b2a0e>&quot; -geometry <font color=#1b1baa>$</font>favgeometry&quot;</font>}
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obFav</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-onclose</font> ::alited::favor_ls::Cancel  <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obFav</font> EntFav] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]
  <b><font color=#3a6797>set</font></b> favgeometry [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  baltip::configure {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tipson</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <font color=#1b1baa>$obFav</font> destroy
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Favorites lists&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls__run' href="javascript:toggleSource('alited_favor_ls__run')">Show source</a></p>
<div id='alited_favor_ls__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::_run {} {
  <i><font color=#4b5d50># Runs &quot;Favorites lists&quot; dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {<b><font color=#ca14ca>return</font></b> 0}
  <b><font color=#3a6797>set</font></b> res [_create]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Add favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Add' href="javascript:toggleSource('alited_favor_ls_Add')">Show source</a></p>
<div id='alited_favor_ls_Add' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Add {} {
  <i><font color=#4b5d50># Handles hitting &quot;Add favorites' list&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>set</font></b> cont <font color=#1b1baa>$currents</font>
  <b><font color=#3a6797>set</font></b> found no
  <b><font color=#3a6797>set</font></b> isel 0
  <b><font color=#3a6797>foreach</font></b> f <font color=#1b1baa>$favlist</font> p <font color=#1b1baa>$favpla</font> c <font color=#1b1baa>$favcont</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fav</font> eq <font color=#1b1baa>$f</font> || (<font color=#1b1baa>$p</font> eq <font color=#1b1baa>$place</font> && <font color=#1b1baa>$c</font> eq <font color=#1b1baa>$cont</font>)} {
      <b><font color=#3a6797>set</font></b> found yes
      <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>incr</font></b> isel
  }
  <b><font color=#3a6797>set</font></b> fav [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$fav</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fav</font> ne <font color=#8b2a0e>&quot;&quot;</font> && <font color=#1b1baa>$cont</font> ne <font color=#8b2a0e>&quot;&quot;</font> && <font color=#1b1baa>$found</font>} {
    Message <font color=#1b1baa>$al(MC,favexists)</font> 4
    Select <font color=#1b1baa>$isel</font>
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$fav</font> eq <font color=#8b2a0e>&quot;&quot;</font>} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFav</font> EntFav]
    Message <font color=#1b1baa>$al(MC,favent1)</font> 4
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$cont</font>] eq <font color=#8b2a0e>&quot;&quot;</font>} {
    Message <font color=#1b1baa>$al(MC,favent3)</font> 4
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> isel end
    <b><font color=#3a6797>lappend</font></b> favlist <font color=#1b1baa>$fav</font>
    <b><font color=#3a6797>lappend</font></b> favcont <font color=#1b1baa>$cont</font>
    <b><font color=#3a6797>lappend</font></b> favpla <font color=#1b1baa>$place</font>
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$favlist</font>]] <font color=#1b1baa>$al(MC,favnew)</font>]
    Message <font color=#1b1baa>$msg</font> 3
  }
  Save_favlist
  Focus <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::AddFiles'>AddFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds .tcl files of current session as the favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_AddFiles' href="javascript:toggleSource('alited_favor_ls_AddFiles')">Show source</a></p>
<div id='alited_favor_ls_AddFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::AddFiles {} {
  <i><font color=#4b5d50># Adds .tcl files of current session as the favorites.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fav</font> eq <font color=#8b2a0e>&quot;&quot;</font>} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFav</font> EntFav]
    Message <font color=#1b1baa>$al(MC,favent1)</font> 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> tsel [alited::SessionTclList 1]
  <b><font color=#3a6797>set</font></b> tall [alited::SessionTclList 2]
  <b><font color=#3a6797>set</font></b> isel [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tsel</font>]
  <b><font color=#3a6797>set</font></b> iall [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tall</font>]
  <b><font color=#3a6797>set</font></b> msgNoTcl {No .tcl files found in the session}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iall</font>&lt;1} {
    Message <font color=#1b1baa>$msgNoTcl</font> 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;\n Save as favorites list: selected (%s) or all (%a) files?\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %s <font color=#1b1baa>$isel</font> %a <font color=#1b1baa>$iall</font>] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font>&gt;1} {<b><font color=#3a6797>set</font></b> res 1} {<b><font color=#3a6797>set</font></b> res 2}
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obFav</font> misc ques <font color=#1b1baa>$al(MC,question)</font> <font color=#1b1baa>$msg</font> {Selected 1 {All files} 2 Cancel 0} <font color=#1b1baa>$res</font>]
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$res</font> {
    1 {<b><font color=#3a6797>set</font></b> tabs <font color=#1b1baa>$tsel</font>}
    2 {<b><font color=#3a6797>set</font></b> tabs <font color=#1b1baa>$tall</font>}
    <b><font color=#3a6797>default</font></b> {<b><font color=#ca14ca>return</font></b>}
  }
  <i><font color=#4b5d50># scan all .tcl to get the favorites' list from them</font></i>
  <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
      alited::main::GetText <font color=#1b1baa>$TID</font> no no
    }
    <b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$it</font> ne {}} {
      <b><font color=#3a6797>lappend</font></b> fnames [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    }
  }
  <i><font color=#4b5d50># create the sorted list of favorite files</font></i>
  <b><font color=#3a6797>set</font></b> text [<b><font color=#3a6797>set</font></b> currents {}]
  <b><font color=#3a6797>foreach</font></b> fname [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$fnames</font>] {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$text</font> ne {}} {
      <b><font color=#3a6797>append</font></b> text \n
      <b><font color=#3a6797>append</font></b> currents <font color=#1b1baa>$::alited::EOL</font>
    }
    <b><font color=#3a6797>append</font></b> text <font color=#1b1baa>$fname</font>
    <b><font color=#3a6797>append</font></b> currents [<b><font color=#3a6797>list</font></b> FILE <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$text</font> eq {}} {
    Message <font color=#1b1baa>$msgNoTcl</font> 4
  } <b><font color=#3a6797>else</font></b> {
    DisplayText <font color=#1b1baa>$text</font>
    Add
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting Cancel button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Cancel' href="javascript:toggleSource('alited_favor_ls_Cancel')">Show source</a></p>
<div id='alited_favor_ls_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Cancel {args} {
  <i><font color=#4b5d50># Handles hitting Cancel button.</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>variable</font></b> win
  alited::CloseDlg
  Save_favlist
  <font color=#1b1baa>$obFav</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Change favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Change' href="javascript:toggleSource('alited_favor_ls_Change')">Show source</a></p>
<div id='alited_favor_ls_Change' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Change {} {
  <i><font color=#4b5d50># Handles hitting &quot;Change favorites' list&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isl1 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$fav</font>]]!=<font color=#1b1baa>$isel</font> && <font color=#1b1baa>$isl1</font>!=-1} {
    Message <font color=#1b1baa>$al(MC,favexists)</font> 4
    Select <font color=#1b1baa>$isl1</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> favlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$fav</font>]
    <b><font color=#3a6797>set</font></b> favpla [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$place</font>]
    <b><font color=#3a6797>set</font></b> favcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$currents</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>incr</font></b> isel]] <font color=#1b1baa>$al(MC,favupd)</font>]
    Message <font color=#1b1baa>$msg</font> 3
    Save_favlist
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::ComposeText'>ComposeText</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Composes a current text of favorites or files of favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ComposeText</span> <span class='ruff_arg'>isfavor ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isfavor</code></code></td><td class='ruff_defitem'>&quot;yes&quot; to get favorites, &quot;no&quot; to get files of favorites</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>a list of favorites</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If args is omitted, the current favorites tree's contents will be the list.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_ComposeText' href="javascript:toggleSource('alited_favor_ls_ComposeText')">Show source</a></p>
<div id='alited_favor_ls_ComposeText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::ComposeText {isfavor args} {
  <i><font color=#4b5d50># Composes a current text of favorites or files of favorites.</font></i>
  <i><font color=#4b5d50>#   isfavor - &quot;yes&quot; to get favorites, &quot;no&quot; to get files of favorites</font></i>
  <i><font color=#4b5d50>#   args - a list of favorites</font></i>
  <i><font color=#4b5d50># If args is omitted, the current favorites tree's contents will be the list.</font></i>

  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>set</font></b> text [<b><font color=#3a6797>set</font></b> currents {}]
  <b><font color=#3a6797>set</font></b> prevnames [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$args</font>]} {<b><font color=#3a6797>set</font></b> args [alited::tree::GetTree {} TreeFavor]}
  <b><font color=#3a6797>set</font></b> isfiles [alited::favor::IsFavoritesFiles <font color=#1b1baa>$args</font>]
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$args</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$text</font> ne {}} {
      <b><font color=#3a6797>append</font></b> text \n
      <b><font color=#3a6797>append</font></b> currents <font color=#1b1baa>$::alited::EOL</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfiles</font>} {
      <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 1]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> ni <font color=#1b1baa>$prevnames</font>} {<b><font color=#3a6797>lappend</font></b> prevnames <font color=#1b1baa>$fname</font>}
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$isfavor</font>} {
      <b><font color=#3a6797>append</font></b> text [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 4 0]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 4 1]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> ni <font color=#1b1baa>$prevnames</font>} {<b><font color=#3a6797>lappend</font></b> prevnames <font color=#1b1baa>$fname</font>}
    }
    <b><font color=#3a6797>append</font></b> currents <font color=#1b1baa>$it</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isfavor</font> || <font color=#1b1baa>$isfiles</font>} {
    <b><font color=#3a6797>foreach</font></b> fname [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$prevnames</font>] {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$text</font> ne {}} {<b><font color=#3a6797>append</font></b> text \n}
      <b><font color=#3a6797>append</font></b> text <font color=#1b1baa>$fname</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$text</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Delete favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Delete' href="javascript:toggleSource('alited_favor_ls_Delete')">Show source</a></p>
<div id='alited_favor_ls_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Delete {} {
  <i><font color=#4b5d50># Handles hitting &quot;Delete favorites' list&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected]] eq <font color=#8b2a0e>&quot;&quot;</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> nsel [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$isel</font>+1}]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,favdelq)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> NO <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,warning)</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> favlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> favcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> favpla [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$favlist</font>]-1}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font>&gt;<font color=#1b1baa>$llen</font>} {<b><font color=#3a6797>set</font></b> isel <font color=#1b1baa>$llen</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>&gt;=0} {Select <font color=#1b1baa>$isel</font>}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,favrem)</font>]
  Message <font color=#1b1baa>$msg</font> 3
  Save_favlist
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::DisplayFavorText'>DisplayFavorText</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays text of favorites or their files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisplayFavorText</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>a list of favorites</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::favor_ls::ComposeText" title="ComposeText" class='ruff_cmd'>ComposeText</a>, <a href="alited.html#::alited::favor_ls::DisplayText" title="DisplayText" class='ruff_cmd'>DisplayText</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_DisplayFavorText' href="javascript:toggleSource('alited_favor_ls_DisplayFavorText')">Show source</a></p>
<div id='alited_favor_ls_DisplayFavorText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::DisplayFavorText {args} {
  <i><font color=#4b5d50># Displays text of favorites or their files.</font></i>
  <i><font color=#4b5d50>#   args - a list of favorites</font></i>
  <i><font color=#4b5d50># See also: ComposeText, DisplayText</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  DisplayText [ComposeText <font color=#1b1baa>$al(FAV,IsFavor)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::DisplayText'>DisplayText</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays text of favorites or their files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisplayText</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>text's content</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::favor_ls::DisplayFavorText" title="DisplayFavorText" class='ruff_cmd'>DisplayFavorText</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_DisplayText' href="javascript:toggleSource('alited_favor_ls_DisplayText')">Show source</a></p>
<div id='alited_favor_ls_DisplayText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::DisplayText {cont} {
  <i><font color=#4b5d50># Displays text of favorites or their files.</font></i>
  <i><font color=#4b5d50>#   cont - text's content</font></i>
  <i><font color=#4b5d50># See also: DisplayFavorText</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>set</font></b> w [<font color=#1b1baa>$obFav</font> TexFav]
  <font color=#1b1baa>$obFav</font> readonlyWidget <font color=#1b1baa>$w</font> no
  <font color=#1b1baa>$obFav</font> displayText <font color=#1b1baa>$w</font> <font color=#1b1baa>$cont</font>
  <font color=#1b1baa>$obFav</font> readonlyWidget <font color=#1b1baa>$w</font> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::DoubleClick'>DoubleClick</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles double clicking on the list: in &quot;Favorites&quot; mode, invokes &quot;Select&quot; button, otherwise &quot;Open...&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoubleClick</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_DoubleClick' href="javascript:toggleSource('alited_favor_ls_DoubleClick')">Show source</a></p>
<div id='alited_favor_ls_DoubleClick' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::DoubleClick {} {
  <i><font color=#4b5d50># Handles double clicking on the list:</font></i>
  <i><font color=#4b5d50># in &quot;Favorites&quot; mode, invokes &quot;Select&quot; button, otherwise &quot;Open...&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {<b><font color=#3a6797>set</font></b> but ButOK} {<b><font color=#3a6797>set</font></b> but ButOpenFile}
  [<font color=#1b1baa>$obFav</font> <font color=#1b1baa>$but</font>] invoke
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Focus'>Focus</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Focuses on an item of the list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Focus</span> <span class='ruff_arg'>isel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>the item to focus on</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Focus' href="javascript:toggleSource('alited_favor_ls_Focus')">Show source</a></p>
<div id='alited_favor_ls_Focus' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Focus {isel} {
  <i><font color=#4b5d50># Focuses on an item of the list.</font></i>
  <i><font color=#4b5d50>#   isel - the item to focus on</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obFav</font> LbxFav]
  <font color=#1b1baa>$lbx</font> selection clear 0 end
  <font color=#1b1baa>$lbx</font> selection set <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>
  <font color=#1b1baa>$lbx</font> see <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::GetIni'>GetIni</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads favorites' lists data, stored in the ini file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetIni</span> <span class='ruff_arg'>lines</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lines</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_GetIni' href="javascript:toggleSource('alited_favor_ls_GetIni')">Show source</a></p>
<div id='alited_favor_ls_GetIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::GetIni {lines} {
  <i><font color=#4b5d50># Reads favorites' lists data, stored in the ini file.</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favlistsaved
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>set</font></b> lines [Split <font color=#1b1baa>$lines</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$lines</font>]&lt;3} {
    <i><font color=#4b5d50># initialize arrays</font></i>
    <b><font color=#3a6797>set</font></b> favlist [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> favlistsaved [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> favcont [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> favpla  [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> currents [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> fav {}
    <b><font color=#3a6797>set</font></b> place 1
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$lines</font> 2 end]] ne {}} {
    <b><font color=#3a6797>lappend</font></b> favlist [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$lines</font> 0]
    <b><font color=#3a6797>lappend</font></b> favpla  [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$lines</font> 1]
    <b><font color=#3a6797>lappend</font></b> favcont [<b><font color=#3a6797>join</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$::alited::EOL</font>]
  }
  Save_favlist no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting Help button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Help' href="javascript:toggleSource('alited_favor_ls_Help')">Show source</a></p>
<div id='alited_favor_ls_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Help {args} {
  <i><font color=#4b5d50># Handles hitting Help button.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::Help <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' for start.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_HelpMe' href="javascript:toggleSource('alited_favor_ls_HelpMe')">Show source</a></p>
<div id='alited_favor_ls_HelpMe' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::HelpMe {args} {
  <i><font color=#4b5d50># 'Help' for start.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::HelpMe <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::IniFile'>IniFile</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the ini file's name to store favorites' lists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IniFile</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the ini file's name to store favorites' lists.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_IniFile' href="javascript:toggleSource('alited_favor_ls_IniFile')">Show source</a></p>
<div id='alited_favor_ls_IniFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::IniFile {} {
  <i><font color=#4b5d50># Returns the ini file's name to store favorites' lists.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::INIDIR</font> favor_ls.ini]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of favorites dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>2</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Message' href="javascript:toggleSource('alited_favor_ls_Message')">Show source</a></p>
<div id='alited_favor_ls_Message' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Message {msg {mode 2}} {
  <i><font color=#4b5d50># Displays a message in statusbar of favorites dialogue.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - mode of Message</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  alited::Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> [<font color=#1b1baa>$obFav</font> LabMess]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting OK button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?res?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>if 0, sets the dialogue's result from a current favorites item; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Ok' href="javascript:toggleSource('alited_favor_ls_Ok')">Show source</a></p>
<div id='alited_favor_ls_Ok' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Ok {{res 0}} {
  <i><font color=#4b5d50># Handles hitting OK button.</font></i>
  <i><font color=#4b5d50>#   res - if 0, sets the dialogue's result from a current favorites item.</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  alited::CloseDlg
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font> || <font color=#1b1baa>$res</font>==4} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected]] eq {}} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFav</font> LbxFav]
      <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> isfiles [alited::favor::IsFavoritesFiles [Split <font color=#1b1baa>$cont</font>]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfiles</font>} {<b><font color=#3a6797>set</font></b> res 4}
    <b><font color=#3a6797>set</font></b> pla [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>!=4} {
      <i><font color=#4b5d50># list of fav.units</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># list of files of fav.units</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(FAV,IsFavor)</font> && !<font color=#1b1baa>$isfiles</font>} {
        <b><font color=#3a6797>set</font></b> cont [ComposeText no {<b><font color=#3a6797>*</font></b>}[Split <font color=#1b1baa>$cont</font>]]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> cont [Text]
      }
    }
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>incr</font></b> pla <font color=#1b1baa>$res</font>] [Split <font color=#1b1baa>$cont</font>]]
  }
  Save_favlist
  <font color=#1b1baa>$obFav</font> res <font color=#1b1baa>$win</font> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::ProcMessage'>ProcMessage</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles clicking on message label.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcMessage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_ProcMessage' href="javascript:toggleSource('alited_favor_ls_ProcMessage')">Show source</a></p>
<div id='alited_favor_ls_ProcMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::ProcMessage {} {
  <i><font color=#4b5d50># Handles clicking on message label.</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>set</font></b> msg [baltip cget [<font color=#1b1baa>$obFav</font> LabMess] <font color=#6c3e67>-text</font>]
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::PutIni'>PutIni</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes favorites' lists data to store to the ini file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PutIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_PutIni' href="javascript:toggleSource('alited_favor_ls_PutIni')">Show source</a></p>
<div id='alited_favor_ls_PutIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::PutIni {} {
  <i><font color=#4b5d50># Makes favorites' lists data to store to the ini file.</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  Restore_favlist
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> fav <font color=#1b1baa>$favlist</font> pla <font color=#1b1baa>$favpla</font> cont <font color=#1b1baa>$favcont</font> {
    <b><font color=#3a6797>set</font></b> r1 <font color=#1b1baa>$fav</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$::alited::EOL</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$pla</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$::alited::EOL</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$cont</font>
    <b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$r1</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Restore_favlist'>Restore_favlist</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores favorites' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Restore_favlist</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Restore_favlist' href="javascript:toggleSource('alited_favor_ls_Restore_favlist')">Show source</a></p>
<div id='alited_favor_ls_Restore_favlist' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Restore_favlist {} {
  <i><font color=#4b5d50># Restores favorites' list.</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favlistsaved
  <b><font color=#3a6797>set</font></b> favlist <font color=#1b1baa>$favlistsaved</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Save_favlist'>Save_favlist</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves favorites' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Save_favlist</span> <span class='ruff_arg'>?saveini?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>saveini</code></code></td><td class='ruff_defitem'>save templates in ini-file; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Save_favlist' href="javascript:toggleSource('alited_favor_ls_Save_favlist')">Show source</a></p>
<div id='alited_favor_ls_Save_favlist' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Save_favlist {{saveini yes}} {
  <i><font color=#4b5d50># Saves favorites' list.</font></i>
  <i><font color=#4b5d50>#   saveini - save templates in ini-file</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favlistsaved
  <b><font color=#3a6797>set</font></b> favlistsaved <font color=#1b1baa>$favlist</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$saveini</font>} alited::ini::SaveIniPrj
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection in the list of favorites' lists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?isel?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>a selected item of the list; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Select' href="javascript:toggleSource('alited_favor_ls_Select')">Show source</a></p>
<div id='alited_favor_ls_Select' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Select {{isel {}}} {
  <i><font color=#4b5d50># Handles a selection in the list of favorites' lists.</font></i>
  <i><font color=#4b5d50>#   isel - a selected item of the list</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obFav</font> LbxFav]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> eq {}} {<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$lbx</font> curselection]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> eq {} && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$favlist</font>]} {<b><font color=#3a6797>set</font></b> isel 0}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> ne {} && [<b><font color=#3a6797>set</font></b> fav [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$isel</font>]] ne {}} {
    <b><font color=#3a6797>set</font></b> place [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> cont [Split [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font>]]
    DisplayFavorText {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$cont</font>
    Focus <font color=#1b1baa>$isel</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a selected item of favorites list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Selected' href="javascript:toggleSource('alited_favor_ls_Selected')">Show source</a></p>
<div id='alited_favor_ls_Selected' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Selected {} {
  <i><font color=#4b5d50># Gets a selected item of favorites list.</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [[<font color=#1b1baa>$obFav</font> LbxFav] curselection]] eq {}} {
    Message <font color=#1b1baa>$::alited::al(MC,favsel)</font> 4
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Split'>Split</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Splits a saved list by the list's dividers.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Split</span> <span class='ruff_arg'>lines</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lines</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Split' href="javascript:toggleSource('alited_favor_ls_Split')">Show source</a></p>
<div id='alited_favor_ls_Split' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Split {lines} {
  <i><font color=#4b5d50># Splits a saved list by the list's dividers.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>split</font></b> [::alited::ProcEOL <font color=#1b1baa>$lines</font> in] \n]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Text'>Text</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the text widget's content.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_favor_ls_Text' href="javascript:toggleSource('alited_favor_ls_Text')">Show source</a></p>
<div id='alited_favor_ls_Text' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Text {} {
  <i><font color=#4b5d50># Gets the text widget's content.</font></i>

  <b><font color=#3a6797>variable</font></b> obFav
  <b><font color=#ca14ca>return</font></b> [[<font color=#1b1baa>$obFav</font> TexFav] get 1.0 {end -1 char}]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::file'></a>::alited::file<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::file-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::file::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a file at the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_Add' href="javascript:toggleSource('alited_file_Add')">Show source</a></p>
<div id='alited_file_Add' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Add {ID} {
  <i><font color=#4b5d50># Creates a file at the file tree.</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav obDl2 obDl2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq {}} {<b><font color=#3a6797>set</font></b> ID [alited::tree::CurrentItem]}
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> dname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$dname</font>]} {
    <b><font color=#3a6797>set</font></b> fname {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dname</font>]
    <b><font color=#3a6797>set</font></b> dname [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$dname</font>]
  }
  <b><font color=#3a6797>set</font></b> head [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$dname</font>] <font color=#1b1baa>$al(MC,filesadd2)</font>]
  <b><font color=#3a6797>while</font></b> {1} {
    <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$al(MC,filesadd)</font> [<b><font color=#3a6797>list</font></b>  seh {{} {<font color=#6c3e67>-pady</font> 10}} {}  ent {{File name:} {} {<font color=#6c3e67>-w</font> 40}} <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>fname<font color=#1b1baa>}</font>&quot;</font>  chb [<b><font color=#3a6797>list</font></b> {} {<font color=#6c3e67>-padx</font> 5} [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-toprev</font> 1 <font color=#6c3e67>-t</font> Directory]] {0} ]  <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font> <font color=#6c3e67>-family</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>{[</font>obj basicTextFont<font color=#1b1baa>]}</font>&quot;</font>]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$res</font> res fname isdir
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> && <font color=#1b1baa>$fname</font> eq {}} <b><font color=#134070>bell</font></b> else break
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dname</font> <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isdir</font>} {
        <b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$fname</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>] eq {}} {<b><font color=#3a6797>append</font></b> fname .tcl}
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {<b><font color=#3a6797>close</font></b> [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$fname</font> w]}
        OpenFile <font color=#1b1baa>$fname</font>
      }
      <font color=#1b1baa>$wtree</font> selection set {}
      alited::tree::RecreateTree <font color=#1b1baa>$wtree</font> -
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isdir</font>} {
        <i><font color=#4b5d50># find the created directory</font></i>
        <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree] {
          <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> - - ID - data
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> dname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$data</font> 1]] eq <font color=#1b1baa>$fname</font>} {
            <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> selection remove [<font color=#1b1baa>$wtree</font> selection]}
            SelectInTree <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>
            <b><font color=#ca14ca>break</font></b>
          }
        }
      }
    } err]} <b><font color=#3a6797>then</font></b> {
      alited::msg ok err <font color=#1b1baa>$err</font>
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isdir</font>} {<b><font color=#3a6797>after</font></b> 200 alited::main::FocusText}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::AddRecent'>AddRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddRecent</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_AddRecent' href="javascript:toggleSource('alited_file_AddRecent')">Show source</a></p>
<div id='alited_file_AddRecent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::AddRecent {fname} {
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {![IsNoName <font color=#1b1baa>$fname</font>]} {
    InsertRecent <font color=#1b1baa>$fname</font> 0
    FillRecent
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::AllSaved'>AllSaved</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks whether all files are saved. Saves them if not.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AllSaved</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_AllSaved' href="javascript:toggleSource('alited_file_AllSaved')">Show source</a></p>
<div id='alited_file_AllSaved' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::AllSaved {} {
  <i><font color=#4b5d50># Checks whether all files are saved. Saves them if not.</font></i>

  <b><font color=#3a6797>variable</font></b> ansSave
  <b><font color=#3a6797>variable</font></b> firstSave
  <b><font color=#3a6797>set</font></b> ansSave 0
  <b><font color=#3a6797>set</font></b> firstSave 1
  <b><font color=#3a6797>set</font></b> res 1
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>switch</font></b> [IsSaved <font color=#1b1baa>$TID</font>] {
      0 { ;<i><font color=#4b5d50># &quot;Cancel&quot; chosen for a modified</font></i>
        <b><font color=#3a6797>set</font></b> res 0
        <b><font color=#ca14ca>break</font></b>
      }
      1 - 11 { ;<i><font color=#4b5d50># &quot;Save&quot; chosen for a modified</font></i>
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>set</font></b> res [SaveFile <font color=#1b1baa>$TID</font> yes]]} <b><font color=#ca14ca>break</font></b>
      }
    }
  }
  <b><font color=#3a6797>set</font></b> ansSave 0
  <b><font color=#3a6797>set</font></b> firstSave -1
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CheckForNew'>CheckForNew</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckForNew</span> <span class='ruff_arg'>?docheck?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>docheck</code></code></td><td class='ruff_defitem'>if yes, does checking, if no - run itself with docheck=yes; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::project::Ok" title="project::Ok" class='ruff_cmd'>project::Ok</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CheckForNew' href="javascript:toggleSource('alited_file_CheckForNew')">Show source</a></p>
<div id='alited_file_CheckForNew' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CheckForNew {{docheck no}} {
  <i><font color=#4b5d50># Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.</font></i>
  <i><font color=#4b5d50>#   docheck - if yes, does checking, if no - run itself with docheck=yes</font></i>
  <i><font color=#4b5d50># See also: project::Ok</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$docheck</font>} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listTab]] && ![<b><font color=#3a6797>info</font></b> exists al(project::Ok)]} {
      NewFile
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>after</font></b> idle {::alited::file::CheckForNew yes}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ChooseMultipleFiles'>ChooseMultipleFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Choose miltiple files to open.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChooseMultipleFiles</span> <span class='ruff_arg'>?dosort?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dosort</code></code></td><td class='ruff_defitem'>if yes, handles the result's sorting; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_ChooseMultipleFiles' href="javascript:toggleSource('alited_file_ChooseMultipleFiles')">Show source</a></p>
<div id='alited_file_ChooseMultipleFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ChooseMultipleFiles {{dosort yes}} {
  <i><font color=#4b5d50># Choose miltiple files to open.</font></i>
  <i><font color=#4b5d50>#   dosort - if yes, handles the result's sorting</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(TMPfname) {}
  <b><font color=#3a6797>set</font></b> fnames [<font color=#1b1baa>$obPav</font> chooser tk_getOpenFile ::alited::al(TMPfname) <font color=#6c3e67>-multiple</font> 1  <font color=#6c3e67>-initialdir</font> [<b><font color=#3a6797>file</font></b> dirname [alited::bar::CurrentTab 2]] <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosort</font> && <font color=#1b1baa>$al(lifo)</font>} {<b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#1b1baa>$fnames</font>]}
  <b><font color=#3a6797>unset</font></b> al(TMPfname)
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ChooseRecent'>ChooseRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChooseRecent</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_ChooseRecent' href="javascript:toggleSource('alited_file_ChooseRecent')">Show source</a></p>
<div id='alited_file_ChooseRecent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ChooseRecent {fname} {
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  AddRecent <font color=#1b1baa>$fname</font>
  <b><font color=#3a6797>if</font></b> {[OpenFile <font color=#1b1baa>$fname</font>] eq {} && ![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
    FillRecent 0
    alited::Balloon1 <font color=#1b1baa>$fname</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ClearupAlTag'>ClearupAlTag</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears <em>al</em> array of <em>tag,tab</em> data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearupAlTag</span> <span class='ruff_arg'>tag tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tag</code></code></td><td class='ruff_defitem'>the tag</td></tr>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>the tab's pattern</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_ClearupAlTag' href="javascript:toggleSource('alited_file_ClearupAlTag')">Show source</a></p>
<div id='alited_file_ClearupAlTag' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ClearupAlTag {tag tab} {
  <i><font color=#4b5d50># Clears *al* array of *tag,tab* data.</font></i>
  <i><font color=#4b5d50>#   tag - the tag</font></i>
  <i><font color=#4b5d50>#   tab - the tab's pattern</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>foreach</font></b> n [<b><font color=#3a6797>array</font></b> names al <font color=#1b1baa>$tag</font>,<font color=#1b1baa>$tab</font>] {<b><font color=#3a6797>unset</font></b> al(<font color=#1b1baa>$n</font>)}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ClearupOnClose'>ClearupOnClose</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clearance after closing a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearupOnClose</span> <span class='ruff_arg'>TID wtxt fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_ClearupOnClose' href="javascript:toggleSource('alited_file_ClearupOnClose')">Show source</a></p>
<div id='alited_file_ClearupOnClose' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ClearupOnClose {TID wtxt fname} {
  <i><font color=#4b5d50># Clearance after closing a file.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <font color=#1b1baa>$obPav</font> fillGutter <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>if</font></b> {[IsClang <font color=#1b1baa>$fname</font>]} {::hl_c::clearup <font color=#1b1baa>$wtxt</font>} {::hl_tcl::clearup <font color=#1b1baa>$wtxt</font>}}
  <b><font color=#3a6797>unset</font></b> <font color=#6c3e67>-nocomplain</font> al(_unittree,<font color=#1b1baa>$TID</font>)
  ClearupAlTag HL *_<font color=#1b1baa>$TID</font>
  ClearupAlTag _INDENT_ *_<font color=#1b1baa>$TID</font>
  ClearupAlTag CPOS *<font color=#1b1baa>$TID</font>,*
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloneFile'>CloneFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clones a current file in a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloneFile</span> <span class='ruff_arg'>?undermouse? ?fromtree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fromtree</code></code></td><td class='ruff_defitem'>if yes, gets the file name from the file tree; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CloneFile' href="javascript:toggleSource('alited_file_CloneFile')">Show source</a></p>
<div id='alited_file_CloneFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloneFile {{undermouse yes} {fromtree yes}} {
  <i><font color=#4b5d50># Clones a current file in a file tree.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>
  <i><font color=#4b5d50>#   fromtree - if yes, gets the file name from the file tree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fromtree</font>} {
    <b><font color=#3a6797>lassign</font></b> [TreeFilename] - - fname
    <b><font color=#3a6797>set</font></b> ar {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
    <b><font color=#3a6797>set</font></b> ar -
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {} || [alited::file::IsNoName <font color=#1b1baa>$fname</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> isfile <font color=#1b1baa>$fname</font>]} {
    alited::Balloon1 <font color=#1b1baa>$fname</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> fname2 [CloneFileName <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname2</font>]
  <b><font color=#3a6797>lassign</font></b> [InputFileName <font color=#1b1baa>$al(MC,clonefile)</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$undermouse</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$ar</font>] res name2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> && <font color=#1b1baa>$name2</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname2</font>] <font color=#1b1baa>$name2</font>]
    <b><font color=#3a6797>if</font></b> {![CommandForFile2 copy <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>]} <b><font color=#ca14ca>return</font></b>
    OpenFile <font color=#1b1baa>$fname2</font>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} RecreateFileTree
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloneFileName'>CloneFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a clone's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloneFileName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the clone's file name.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CloneFileName' href="javascript:toggleSource('alited_file_CloneFileName')">Show source</a></p>
<div id='alited_file_CloneFileName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloneFileName {fname} {
  <i><font color=#4b5d50># Gets a clone's name.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50># Returns the clone's file name.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> tailname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> ext [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$tailname</font>]
  <b><font color=#3a6797>set</font></b> root [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$tailname</font>]
  <i><font color=#4b5d50># possibly existing suffix in the filename</font></i>
  <b><font color=#3a6797>set</font></b> suffix {_\d+$}
  <b><font color=#3a6797>set</font></b> suff [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$suffix</font> <font color=#1b1baa>$root</font>]
  <b><font color=#3a6797>set</font></b> root [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$root</font> 0 end-[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$suff</font>]]
  <b><font color=#3a6797>set</font></b> i1 2
  <b><font color=#3a6797>set</font></b> i2 99
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$suff</font> eq {}} {<b><font color=#3a6797>set</font></b> suff _<font color=#1b1baa>$i1</font>}
  <i><font color=#4b5d50># find the free suffix for the clone</font></i>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$i1</font>} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$i2</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> suff [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> {\d+} <font color=#1b1baa>$i</font> \$ {}] <font color=#1b1baa>$suffix</font>]
    <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$root$suff$ext</font>]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname2</font>]} <b><font color=#ca14ca>break</font></b>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseAll'>CloseAll</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseAll</span> <span class='ruff_arg'>func ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>func</code></code></td><td class='ruff_defitem'>&quot;1/2/3&quot; means closing &quot;all/to left/to right&quot;</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>may contain -skipsel to not close selected tabs</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CloseAll' href="javascript:toggleSource('alited_file_CloseAll')">Show source</a></p>
<div id='alited_file_CloseAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloseAll {func args} {
  <i><font color=#4b5d50># Closes files.</font></i>
  <i><font color=#4b5d50>#   func - &quot;1/2/3&quot; means closing &quot;all/to left/to right&quot;</font></i>
  <i><font color=#4b5d50>#   args - may contain -skipsel to not close selected tabs</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> ansSave
  <b><font color=#3a6797>set</font></b> ansSave 0
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> al(closefunc) <font color=#1b1baa>$func</font> ;<i><font color=#4b5d50># disables &quot;recent files&quot; at closing all</font></i>
  alited::bar::BAR closeAll <font color=#1b1baa>$::alited::al(BID)</font> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$func</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
  <b><font color=#3a6797>set</font></b> al(closefunc) 0
  <b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag <font color=#8b2a0e>&quot;m&quot;</font>]]==0}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseAndDelete'>CloseAndDelete</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes and deletes a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseAndDelete</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1 for deleted, 0 for error/cancel.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CloseAndDelete' href="javascript:toggleSource('alited_file_CloseAndDelete')">Show source</a></p>
<div id='alited_file_CloseAndDelete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloseAndDelete {{TID {}}} {
  <i><font color=#4b5d50># Closes and deletes a file.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50># Returns 1 for deleted, 0 for error/cancel.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {[IsNoName <font color=#1b1baa>$fname</font>]} {
    <i><font color=#4b5d50># for a new file: to save first if modified (to think twice)</font></i>
    <b><font color=#3a6797>if</font></b> {[IsModified <font color=#1b1baa>$TID</font>]} {SaveFile <font color=#1b1baa>$TID</font>} <b><font color=#3a6797>else</font></b> {SaveAndClose <font color=#1b1baa>$TID</font>}
    <b><font color=#ca14ca>return</font></b> 0
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,delfile)</font>]
  <b><font color=#3a6797>if</font></b> {[alited::msg yesno warn <font color=#1b1baa>$msg</font> NO]} {
    <i><font color=#4b5d50># to save first (for normal closing only)</font></i>
    <b><font color=#3a6797>if</font></b> {[SaveAndClose <font color=#1b1baa>$TID</font>]} {
      DeleteFile <font color=#1b1baa>$fname</font>
      FillRecent <font color=#1b1baa>$fname</font>
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {alited::tree::RecreateTree {} {} yes}
      alited::edit::MacroUpdate <font color=#1b1baa>$fname</font>
      <b><font color=#ca14ca>return</font></b> 1
    }
  }
  <b><font color=#ca14ca>return</font></b> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseFile'>CloseFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFile</span> <span class='ruff_arg'>TID checknew ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>checknew</code></code></td><td class='ruff_defitem'>if yes, checks if new file's tab should be created</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>arguments added by bartabs</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 0, if a user selects &quot;Cancel&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CloseFile' href="javascript:toggleSource('alited_file_CloseFile')">Show source</a></p>
<div id='alited_file_CloseFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloseFile {TID checknew args} {
  <i><font color=#4b5d50># Closes a file.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   checknew - if yes, checks if new file's tab should be created</font></i>
  <i><font color=#4b5d50>#   args - arguments added by bartabs</font></i>
  <i><font color=#4b5d50># Returns 0, if a user selects &quot;Cancel&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> ansSave
  <b><font color=#3a6797>variable</font></b> firstSave
  <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions args <font color=#6c3e67>-withicon</font> 0 <font color=#6c3e67>-first</font> -1] withicon first
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$withicon</font> || <font color=#1b1baa>$first</font>} {
    <b><font color=#3a6797>set</font></b> ansSave 0
    <b><font color=#3a6797>set</font></b> nmark [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag <font color=#8b2a0e>&quot;m&quot;</font>]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nmark</font>&lt;2 || <font color=#1b1baa>$withicon</font>} {
      <b><font color=#3a6797>set</font></b> firstSave -1
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$withicon</font>} {<b><font color=#3a6797>lappend</font></b> args <font color=#6c3e67>-geometry</font> pointer+-100+20}
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> firstSave <font color=#1b1baa>$first</font> ;<i><font color=#4b5d50># controls &quot;No ask anymore&quot; checkbox at questions</font></i>
    }
  }
  <b><font color=#3a6797>set</font></b> res 1
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--wtxt</font> <font color=#6c3e67>--wsbv</font>] wtxt wsbv
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ni {{-1} {}} && <font color=#1b1baa>$wtxt</font> ne {}} {
    <b><font color=#3a6797>switch</font></b> [IsSaved <font color=#1b1baa>$TID</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>] {
      0 { ;<i><font color=#4b5d50># &quot;Cancel&quot; chosen for a modified</font></i>
        <b><font color=#ca14ca>return</font></b> 0
      }
      1 - 11 { ;<i><font color=#4b5d50># &quot;Save&quot; chosen for a modified</font></i>
        <b><font color=#3a6797>set</font></b> res [SaveFile <font color=#1b1baa>$TID</font>]
      }
    }
    alited::main::SaveMarks <font color=#1b1baa>$wtxt</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> ne [<font color=#1b1baa>$obPav</font> Text]} { ;<i><font color=#4b5d50># let [$obPav Text] be alive, as needed by 'pack'</font></i>
      <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wsbv</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$checknew</font>} CheckForNew
    alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onclose)</font>
    <b><font color=#3a6797>after</font></b> 9999 [<b><font color=#3a6797>list</font></b> alited::file::ClearupOnClose <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(closefunc)</font> != 1} {  ;<i><font color=#4b5d50># close func = 1 means &quot;close all&quot;</font></i>
    AddRecent <font color=#1b1baa>$fname</font>
  }
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> alited::bar::RenameTitles <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>after</font></b> idle after 50 after idle after 50 after idle after 50  after idle after 50 alited::tree::UpdateFileTree
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseFileMenu'>CloseFileMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes the current file from the menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFileMenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CloseFileMenu' href="javascript:toggleSource('alited_file_CloseFileMenu')">Show source</a></p>
<div id='alited_file_CloseFileMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloseFileMenu {} {
  <i><font color=#4b5d50># Closes the current file from the menu.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]] ne <font color=#8b2a0e>&quot;&quot;</font>} {
    alited::bar::BAR <font color=#1b1baa>$TID</font> close
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CommandForFile2'>CommandForFile2</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Execute a command for two files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CommandForFile2</span> <span class='ruff_arg'>comm fname fname2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>comm</code></code></td><td class='ruff_defitem'>the command</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>1st file name</td></tr>
<tr><td class='ruff_defitem'><code><code>fname2</code></code></td><td class='ruff_defitem'>2nd file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if success.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_CommandForFile2' href="javascript:toggleSource('alited_file_CommandForFile2')">Show source</a></p>
<div id='alited_file_CommandForFile2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CommandForFile2 {comm fname fname2} {
  <i><font color=#4b5d50># Execute a command for two files.</font></i>
  <i><font color=#4b5d50>#   comm - the command</font></i>
  <i><font color=#4b5d50>#   fname - 1st file name</font></i>
  <i><font color=#4b5d50>#   fname2 - 2nd file name</font></i>
  <i><font color=#4b5d50># Returns yes, if success.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$comm</font> in {copy rename} && [<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname2</font>]} {
    alited::msg ok err <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>fname2\nalready exists.&quot;</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> <font color=#1b1baa>$comm</font> -- <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font> <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-w</font> 60 <font color=#6c3e67>-h</font> {5 9}
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes file(s) at the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>ID wtree sy</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>sy</code></code></td><td class='ruff_defitem'>relative Y-coordinate for a query</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_Delete' href="javascript:toggleSource('alited_file_Delete')">Show source</a></p>
<div id='alited_file_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Delete {ID wtree sy} {
  <i><font color=#4b5d50># Deletes file(s) at the file tree.</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>
  <i><font color=#4b5d50>#   wtree - file tree widget</font></i>
  <i><font color=#4b5d50>#   sy - relative Y-coordinate for a query</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wasdel 0
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]&gt;1} {
    <b><font color=#3a6797>set</font></b> dlg yesnocancel
    <b><font color=#3a6797>set</font></b> dlgopts [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> dlg yesno
    <b><font color=#3a6797>set</font></b> dlgopts [alited::tree::syOption <font color=#1b1baa>$sy</font>]
    <b><font color=#3a6797>set</font></b> selection <font color=#1b1baa>$ID</font>
  }
  <b><font color=#3a6797>set</font></b> ltree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> id1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selection</font> 0]
  <b><font color=#3a6797>set</font></b> in1 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 2 <font color=#1b1baa>$ltree</font> <font color=#1b1baa>$id1</font>]
  <b><font color=#3a6797>set</font></b> ans 1
  <b><font color=#3a6797>foreach</font></b> id <font color=#1b1baa>$selection</font> {
    <b><font color=#3a6797>set</font></b> ans [DeleteOne <font color=#1b1baa>$id</font> <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$dlg</font> <font color=#1b1baa>$dlgopts</font> <font color=#1b1baa>$ans</font>]
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$ans</font> {
      1 - 11 {<b><font color=#3a6797>set</font></b> wasdel 1; <font color=#1b1baa>$wtree</font> delete <font color=#1b1baa>$id</font>}
      0 - 12 break
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wasdel</font>} {
    <b><font color=#3a6797>set</font></b> ltree [alited::tree::GetTree]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$in1</font>&gt;=[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ltree</font>]} {<b><font color=#3a6797>set</font></b> in1 end}
    <b><font color=#3a6797>set</font></b> id1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$ltree</font> <font color=#1b1baa>$in1</font> 2]
    <font color=#1b1baa>$wtree</font> selection set {}
    SelectInTree <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$id1</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DeleteFile'>DeleteFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DeleteFile' href="javascript:toggleSource('alited_file_DeleteFile')">Show source</a></p>
<div id='alited_file_DeleteFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DeleteFile {fname} {
  <i><font color=#4b5d50># Deletes a file.</font></i>
  <i><font color=#4b5d50>#  fname - file name</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$fname</font>} err]} {
    alited::msg ok err <font color=#8b2a0e>&quot;Error of deleting\n<font color=#1b1baa>$</font>fname\n\n<font color=#1b1baa>$</font>err&quot;</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DeleteOne'>DeleteOne</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a file at the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteOne</span> <span class='ruff_arg'>ID wtree dlg dlgopts res</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>dlg</code></code></td><td class='ruff_defitem'>dialogue's type (yesno / yesnocancel)</td></tr>
<tr><td class='ruff_defitem'><code><code>dlgopts</code></code></td><td class='ruff_defitem'>dialogue's options</td></tr>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>previous answer</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1 for deleted, -1 for not deleted, 0 for error/cancel</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DeleteOne' href="javascript:toggleSource('alited_file_DeleteOne')">Show source</a></p>
<div id='alited_file_DeleteOne' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DeleteOne {ID wtree dlg dlgopts res} {
  <i><font color=#4b5d50># Deletes a file at the file tree.</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>
  <i><font color=#4b5d50>#   wtree - file tree widget</font></i>
  <i><font color=#4b5d50>#   dlg - dialogue's type (yesno / yesnocancel)</font></i>
  <i><font color=#4b5d50>#   dlgopts - dialogue's options</font></i>
  <i><font color=#4b5d50>#   res - previous answer</font></i>
  <i><font color=#4b5d50># Returns 1 for deleted, -1 for not deleted, 0 for error/cancel</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al BAKDIR BAKDIR
  <b><font color=#3a6797>set</font></b> name [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne <font color=#8b2a0e>&quot;&quot;</font>} {
    <b><font color=#ca14ca>return</font></b> [alited::file::CloseAndDelete <font color=#1b1baa>$TID</font>]
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,delfile)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>&lt;11} {
    <b><font color=#3a6797>set</font></b> res [alited::msg <font color=#1b1baa>$dlg</font> ques <font color=#1b1baa>$msg</font> NO {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$dlgopts</font>]
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$res</font> {
    1 - 11 {
      <b><font color=#3a6797>if</font></b> {[RemoveFile <font color=#1b1baa>$fname</font> <font color=#1b1baa>$BAKDIR</font> backup] eq {}} {
        <b><font color=#3a6797>set</font></b> res 0
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::Detach'>Detach</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Open file in detached editors</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Detach</span> <span class='ruff_arg'>?fnames? ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fnames</code></code></td><td class='ruff_defitem'>file names' list; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_Detach' href="javascript:toggleSource('alited_file_Detach')">Show source</a></p>
<div id='alited_file_Detach' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Detach {{fnames {}} {TID {}}} {
  <i><font color=#4b5d50># Open file in detached editors</font></i>
  <i><font color=#4b5d50>#   fnames - file names' list</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  SourceDetach
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnames</font> eq {} || <font color=#1b1baa>$TID</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fnames [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>if</font></b> {[alited::file::IsNoName <font color=#1b1baa>$fnames</font>] && ![SaveFileAs <font color=#1b1baa>$TID</font>]} <b><font color=#ca14ca>return</font></b>
    <b><font color=#3a6797>set</font></b> fnames [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  }
  alited::detached::_run <font color=#1b1baa>$fnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DetachedInfo'>DetachedInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets detached editor's object and window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DetachedInfo</span> <span class='ruff_arg'>id</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>id</code></code></td><td class='ruff_defitem'>editor's index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DetachedInfo' href="javascript:toggleSource('alited_file_DetachedInfo')">Show source</a></p>
<div id='alited_file_DetachedInfo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DetachedInfo {id} {
  <i><font color=#4b5d50># Gets detached editor's object and window.</font></i>
  <i><font color=#4b5d50>#   id - editor's index</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> pobj ::alited::al(detachedObj,<font color=#1b1baa>$id</font>,)
  <b><font color=#3a6797>set</font></b> win <font color=#1b1baa>$al(WIN)</font>.detachedWin<font color=#1b1baa>$id</font>
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DetachFromTree'>DetachFromTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>DetachFromTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DetachFromTree' href="javascript:toggleSource('alited_file_DetachFromTree')">Show source</a></p>
<div id='alited_file_DetachFromTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DetachFromTree {} {
  SourceDetach
  alited::detached::_run [TreeSelFiles]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DisplayFile'>DisplayFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a file's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisplayFile</span> <span class='ruff_arg'>TID fname wtxt doreload</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>doreload</code></code></td><td class='ruff_defitem'>if yes, forces reloading (at external changes of file)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DisplayFile' href="javascript:toggleSource('alited_file_DisplayFile')">Show source</a></p>
<div id='alited_file_DisplayFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DisplayFile {TID fname wtxt doreload} {
  <i><font color=#4b5d50># Displays a file's contents.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   doreload - if yes, forces reloading (at external changes of file)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># this is most critical: displayed text should correspond to the tab</font></i>
  <i><font color=#4b5d50>#control::assert {$wtxt eq [alited::main::GetWTXT $TID]}</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> ne [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]} {
    <b><font color=#3a6797>puts</font></b> [<b><font color=#3a6797>set</font></b> msg <font color=#8b2a0e>&quot;\n ERROR file::DisplayFile:  \n (<font color=#1b1baa>$</font>TID) <font color=#1b1baa>$</font>wtxt != <font color=#1b1baa>[</font>alited::main::GetWTXT <font color=#1b1baa>$</font>TID<font color=#1b1baa>]</font>  \n Please, notify alited's authors!\n&quot;</font>]
    <b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> error <font color=#1b1baa>$msg</font>
  }
  <i><font color=#4b5d50># another critical point: read the file only at need</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doreload</font> || [<b><font color=#3a6797>set</font></b> filecont [ReadFileByTID <font color=#1b1baa>$TID</font> yes]] eq {}} {
    <i><font color=#4b5d50># last check point: 0 bytes of the file =&gt; read it anyway with showing errors</font></i>
    <b><font color=#3a6797>set</font></b> filecont [ReadFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> 1]
  }
  <font color=#1b1baa>$obPav</font> displayText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$filecont</font>
  <font color=#1b1baa>$obPav</font> makePopup <font color=#1b1baa>$wtxt</font> no yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DoMoveFile'>DoMoveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Asks and moves a file to a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoMoveFile</span> <span class='ruff_arg'>fname dname f1112 ?addmsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>directory name</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by pressing F11/F12 keys</td></tr>
<tr><td class='ruff_defitem'><code><code>addmsg</code></code></td><td class='ruff_defitem'>additional message (for external moves); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DoMoveFile' href="javascript:toggleSource('alited_file_DoMoveFile')">Show source</a></p>
<div id='alited_file_DoMoveFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DoMoveFile {fname dname f1112 {addmsg {}}} {
  <i><font color=#4b5d50># Asks and moves a file to a directory.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   dname - directory name</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by pressing F11/F12 keys</font></i>
  <i><font color=#4b5d50>#   addmsg - additional message (for external moves)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {%f is a directory}]
    alited::Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$msg</font>] 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> tailname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$f1112</font> || <font color=#1b1baa>$addmsg</font> ne {}} {
    <b><font color=#3a6797>set</font></b> defb NO
    <b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> defb YES
    <b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry pointer+10+10&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(_ANS_MOVE_)] || <font color=#1b1baa>$al(_ANS_MOVE_)</font>!=11} {
    <b><font color=#3a6797>append</font></b> addmsg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$tailname</font> %d <font color=#1b1baa>$dname</font>] <font color=#1b1baa>$al(MC,movefile)</font>]
    <b><font color=#3a6797>set</font></b> al(_ANS_MOVE_) [alited::msg yesno ques <font color=#1b1baa>$addmsg</font>  <font color=#1b1baa>$defb</font> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,moving)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font> <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(_ANS_MOVE_)</font>} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#ca14ca>return</font></b> [RemoveFile <font color=#1b1baa>$fname</font> <font color=#1b1baa>$dname</font> move]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DoRenameFileInTree'>DoRenameFileInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Performs renaming a current file in a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoRenameFileInTree</span> <span class='ruff_arg'>wtree ID fname fname2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of the file in the file tree</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>old file name (full)</td></tr>
<tr><td class='ruff_defitem'><code><code>fname2</code></code></td><td class='ruff_defitem'>new file name (full)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DoRenameFileInTree' href="javascript:toggleSource('alited_file_DoRenameFileInTree')">Show source</a></p>
<div id='alited_file_DoRenameFileInTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DoRenameFileInTree {wtree ID fname fname2} {
  <i><font color=#4b5d50># Performs renaming a current file in a file tree.</font></i>
  <i><font color=#4b5d50>#   wtree - file tree's path</font></i>
  <i><font color=#4b5d50>#   ID    - ID of the file in the file tree</font></i>
  <i><font color=#4b5d50>#   fname - old file name (full)</font></i>
  <i><font color=#4b5d50>#   fname2 - new file name (full)</font></i>

  <b><font color=#3a6797>set</font></b> fsplit [<b><font color=#3a6797>file</font></b> split <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> lfnam0 [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fsplit</font>]
  <b><font color=#3a6797>set</font></b> lfnam1 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lfnam0</font>-1}]
  <b><font color=#3a6797>if</font></b> {![CommandForFile2 rename <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>set</font></b> fname1 [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname1</font> eq <font color=#1b1baa>$fname</font>} {
      RenameFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname2</font> no
      <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>set</font></b> fsplit1 [<b><font color=#3a6797>file</font></b> split <font color=#1b1baa>$fname1</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$fsplit1</font> 0 <font color=#1b1baa>$lfnam1</font>] == <font color=#1b1baa>$fsplit</font>} {
      <i><font color=#4b5d50># directory is renamed</font></i>
      <b><font color=#3a6797>set</font></b> fname1 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$fname2</font> {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$fsplit1</font> <font color=#1b1baa>$lfnam0</font> end]]
      RenameFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname1</font> no
    }
  }
  alited::bar::BAR draw
  RecreateFileTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DropFiles'>DropFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a group of selected files to other tree position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropFiles</span> <span class='ruff_arg'>wtree fromIDs toID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget fromIDs- tree IDs to move the file from</td></tr>
<tr><td class='ruff_defitem'><code><code>fromIDs</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>toID</code></code></td><td class='ruff_defitem'>tree ID to move the file to</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The destination position is freely chosen by &quot;Drop here&quot; menu item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_DropFiles' href="javascript:toggleSource('alited_file_DropFiles')">Show source</a></p>
<div id='alited_file_DropFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DropFiles {wtree fromIDs toID} {
  <i><font color=#4b5d50># Moves a group of selected files to other tree position.</font></i>
  <i><font color=#4b5d50>#   wtree - file tree widget</font></i>
  <i><font color=#4b5d50>#   fromIDs- tree IDs to move the file from</font></i>
  <i><font color=#4b5d50>#   toID - tree ID to move the file to</font></i>
  <i><font color=#4b5d50># The destination position is freely chosen by &quot;Drop here&quot; menu item.</font></i>

  <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$toID</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> dirname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$toID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$dirname</font>]} {
    <b><font color=#3a6797>set</font></b> dirname [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$dirname</font>]
  }
  <b><font color=#3a6797>set</font></b> movedfiles [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> fromID <font color=#1b1baa>$fromIDs</font> {
    <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$fromID</font>]} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> curfile [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$fromID</font> <font color=#6c3e67>-values</font>] 1]
    <b><font color=#3a6797>lappend</font></b> movedfiles <font color=#1b1baa>$curfile</font>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$movedfiles</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>foreach</font></b> curfile <font color=#1b1baa>$movedfiles</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$curfile</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curfile</font> ne <font color=#1b1baa>$dirname</font>} {
        alited::Message [msgcat::mc {Only files are moved by alited.}] 4
      }
      <b><font color=#ca14ca>continue</font></b>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$curfile</font>] ne <font color=#1b1baa>$dirname</font>} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> name [DoMoveFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$dirname</font> yes]] ne {}} {
        <b><font color=#3a6797>lappend</font></b> newnames <font color=#1b1baa>$name</font>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists newnames]} {
    alited::tree::RecreateTree {} <font color=#1b1baa>$newnames</font>
    alited::main::ShowHeader yes
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::Encoding'>Encoding</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets a file's encoding.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Encoding</span> <span class='ruff_arg'>?fname? ?enc?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>enc</code></code></td><td class='ruff_defitem'>if &quot;&quot;, gets the encoding, otherwise sets the encoding of the file; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_Encoding' href="javascript:toggleSource('alited_file_Encoding')">Show source</a></p>
<div id='alited_file_Encoding' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Encoding {{fname {}} {enc {}}} {
  <i><font color=#4b5d50># Gets/sets a file's encoding.</font></i>
  <i><font color=#4b5d50>#   fname - file's name</font></i>
  <i><font color=#4b5d50>#   enc - if &quot;&quot;, gets the encoding, otherwise sets the encoding of the file.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} {<b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$enc</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(ENCODING,<font color=#1b1baa>$fname</font>) <font color=#1b1baa>$enc</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(ENCODING,<font color=#1b1baa>$fname</font>)]} {
      <b><font color=#3a6797>set</font></b> enc [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-encoding</font> <font color=#1b1baa>$al(ENCODING,$fname)</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> enc {}
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$enc</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::EOL'>EOL</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets a file's translation.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EOL</span> <span class='ruff_arg'>?fname? ?eol?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>eol</code></code></td><td class='ruff_defitem'>if &quot;&quot;, gets the translation, otherwise sets the translation of the file; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_EOL' href="javascript:toggleSource('alited_file_EOL')">Show source</a></p>
<div id='alited_file_EOL' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::EOL {{fname {}} {eol {}}} {
  <i><font color=#4b5d50># Gets/sets a file's translation.</font></i>
  <i><font color=#4b5d50>#   fname - file's name</font></i>
  <i><font color=#4b5d50>#   eol - if &quot;&quot;, gets the translation, otherwise sets the translation of the file.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} {<b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$eol</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(EOL,<font color=#1b1baa>$fname</font>) <font color=#1b1baa>$eol</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(EOL,<font color=#1b1baa>$fname</font>)]} {
      <b><font color=#3a6797>set</font></b> eol [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-translation</font> <font color=#1b1baa>$al(EOL,$fname)</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> eol {}
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$eol</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileAttrs'>FileAttrs</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a file attributes: name &amp; time.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileAttrs</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a file attributes: name &amp; time.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_FileAttrs' href="javascript:toggleSource('alited_file_FileAttrs')">Show source</a></p>
<div id='alited_file_FileAttrs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::FileAttrs {TID} {
  <i><font color=#4b5d50># Returns a file attributes: name & time.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>lassign</font></b> [alited::bar::BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>--mtime</font> <font color=#6c3e67>--mtimefile</font>] mtime mtimefile
  <b><font color=#3a6797>set</font></b> isfile [<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
    <b><font color=#3a6797>set</font></b> curtime [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname</font>]
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$fname</font> ne <font color=#1b1baa>$al(MC,nofile)</font>} {
    <b><font color=#3a6797>set</font></b> curtime ?
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> curtime {}
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$mtime</font> <font color=#1b1baa>$mtimefile</font> <font color=#1b1baa>$curtime</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileSize'>FileSize</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats a file's size.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileSize</span> <span class='ruff_arg'>bsize</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>bsize</code></code></td><td class='ruff_defitem'>file size in bytes</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_FileSize' href="javascript:toggleSource('alited_file_FileSize')">Show source</a></p>
<div id='alited_file_FileSize' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::FileSize {bsize} {
  <i><font color=#4b5d50># Formats a file's size.</font></i>
  <i><font color=#4b5d50>#   bsize - file size in bytes</font></i>

  <b><font color=#3a6797>set</font></b> res <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>bsize bytes&quot;</font>
  <b><font color=#3a6797>set</font></b> bsz <font color=#1b1baa>$bsize</font>
  <b><font color=#3a6797>foreach</font></b> m {Kb Mb Gb Tb} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$bsz</font>&lt;1024} <b><font color=#ca14ca>break</font></b>
    <b><font color=#3a6797>set</font></b> rsz [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$bsz</font>/1024.0}]
    <b><font color=#3a6797>set</font></b> res <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>format %.1f <font color=#1b1baa>$</font>rsz<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>m (<font color=#1b1baa>$</font>bsize bytes)&quot;</font>
    <b><font color=#3a6797>set</font></b> bsz [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$bsz</font>/1024)}]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileStat'>FileStat</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file's attributes: times &amp; size.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileStat</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a string with file name and attributes divided by \n.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::bar::ColorBar" title="bar::ColorBar" class='ruff_cmd'>bar::ColorBar</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_FileStat' href="javascript:toggleSource('alited_file_FileStat')">Show source</a></p>
<div id='alited_file_FileStat' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::FileStat {fname} {
  <i><font color=#4b5d50># Gets a file's attributes: times & size.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50># Returns a string with file name and attributes divided by \n.</font></i>
  <i><font color=#4b5d50># See also: bar::ColorBar</font></i>

  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>array</font></b> set ares {}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(TREE,showinfo)</font>} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> stat <font color=#1b1baa>$fname</font> ares} err]} {
      <b><font color=#3a6797>set</font></b> dtf <font color=#8b2a0e>&quot;%D %T&quot;</font>
      <b><font color=#3a6797>set</font></b> res <font color=#8b2a0e>&quot;\n \nCreated: <font color=#1b1baa>[</font>clock format <font color=#1b1baa>$</font>ares(ctime) -format <font color=#1b1baa>$</font>dtf<font color=#1b1baa>]</font> \nModified: <font color=#1b1baa>[</font>clock format <font color=#1b1baa>$</font>ares(mtime) -format <font color=#1b1baa>$</font>dtf<font color=#1b1baa>]</font> \nAccessed: <font color=#1b1baa>[</font>clock format <font color=#1b1baa>$</font>ares(atime) -format <font color=#1b1baa>$</font>dtf<font color=#1b1baa>]</font> \nSize: <font color=#1b1baa>[</font>FileSize <font color=#1b1baa>$</font>ares(size)<font color=#1b1baa>]</font>&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> res \n\n[<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> {: } :\n \&quot; ''] <font color=#1b1baa>$err</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>append</font></b> fname <font color=#1b1baa>$res</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FillRecent'>FillRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Recent Files&quot; menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillRecent</span> <span class='ruff_arg'>?delit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>delit</code></code></td><td class='ruff_defitem'>index or a file name of Recent Files item to be deleted; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_FillRecent' href="javascript:toggleSource('alited_file_FillRecent')">Show source</a></p>
<div id='alited_file_FillRecent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::FillRecent {{delit {}}} {
  <i><font color=#4b5d50># Creates &quot;Recent Files&quot; menu items.</font></i>
  <i><font color=#4b5d50>#   delit - index or a file name of Recent Files item to be deleted</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is integer <font color=#6c3e67>-strict</font> <font color=#1b1baa>$delit</font>] &&  <font color=#1b1baa>$delit</font>&gt;-1 && <font color=#1b1baa>$delit</font>&lt;[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(RECENTFILES)</font>]} {
    <b><font color=#3a6797>set</font></b> al(RECENTFILES) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$delit</font> <font color=#1b1baa>$delit</font>]
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$delit</font> ne {}} {
    <b><font color=#3a6797>set</font></b> delit [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$delit</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$delit</font>&gt;=0} {
      <b><font color=#3a6797>set</font></b> al(RECENTFILES) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$delit</font> <font color=#1b1baa>$delit</font>]
    }
  }
  <b><font color=#3a6797>set</font></b> m <font color=#1b1baa>$al(MENUFILE)</font>.recentfiles
  <font color=#1b1baa>$m</font> configure <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$m</font> delete 0 end
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(RECENTFILES)</font>]} {
    <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 2 <font color=#6c3e67>-state</font> normal
    <b><font color=#3a6797>foreach</font></b> rf <font color=#1b1baa>$al(RECENTFILES)</font> {
      <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$rf</font> <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;alited::file::ChooseRecent <font color=#1b1baa>{$</font>rf<font color=#1b1baa>}</font>&quot;</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 2 <font color=#6c3e67>-state</font> disabled
  }
  <font color=#1b1baa>$m</font> configure <font color=#6c3e67>-tearoff</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::InputFileName'>InputFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Dialogue to input a file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InputFileName</span> <span class='ruff_arg'>title name undermouse ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>title of the dialogue</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>current file name</td></tr>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>yes if open under the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options for query</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_InputFileName' href="javascript:toggleSource('alited_file_InputFileName')">Show source</a></p>
<div id='alited_file_InputFileName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::InputFileName {title name undermouse args} {
  <i><font color=#4b5d50># Dialogue to input a file name.</font></i>
  <i><font color=#4b5d50>#   title - title of the dialogue</font></i>
  <i><font color=#4b5d50>#   name - current file name</font></i>
  <i><font color=#4b5d50>#   undermouse - yes if open under the mouse pointer</font></i>
  <i><font color=#4b5d50>#   args - options for query</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$args</font> {
    {} {
      <b><font color=#3a6797>set</font></b> args [alited::favor::GeoForQuery <font color=#1b1baa>$undermouse</font>]
    }
    - {
      <b><font color=#3a6797>set</font></b> args {}
    }
  }
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$title</font> [<b><font color=#3a6797>list</font></b>  ent <font color=#8b2a0e>&quot;<font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 32<font color=#1b1baa>}</font>&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>name<font color=#1b1baa>}</font>&quot;</font>]  <font color=#6c3e67>-head</font> [msgcat::mc {File name:}] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>] res name
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$res</font> <font color=#1b1baa>$name</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::InsertRecent'>InsertRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertRecent</span> <span class='ruff_arg'>fname pos</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_InsertRecent' href="javascript:toggleSource('alited_file_InsertRecent')">Show source</a></p>
<div id='alited_file_InsertRecent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::InsertRecent {fname pos} {
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {![IsNoName <font color=#1b1baa>$fname</font>]} {
    ::apave::PushInList al(RECENTFILES) <font color=#1b1baa>$fname</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$al(INI,RECENTFILES)</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsClang'>IsClang</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is of C/C++.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsClang</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_IsClang' href="javascript:toggleSource('alited_file_IsClang')">Show source</a></p>
<div id='alited_file_IsClang' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsClang {fname} {
  <i><font color=#4b5d50># Checks if a file is of C/C++.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>]] in <font color=#1b1baa>$::alited::al(ClangExts)</font>} {
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsModified'>IsModified</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a text of tab is modified.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsModified</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_IsModified' href="javascript:toggleSource('alited_file_IsModified')">Show source</a></p>
<div id='alited_file_IsModified' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsModified {{TID {}}} {
  <i><font color=#4b5d50># Checks if a text of tab is modified.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq <font color=#8b2a0e>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 [alited::bar::BAR listFlag m] <font color=#1b1baa>$TID</font>]&gt;-1}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsNoName'>IsNoName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file name is &quot;No name&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsNoName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_IsNoName' href="javascript:toggleSource('alited_file_IsNoName')">Show source</a></p>
<div id='alited_file_IsNoName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsNoName {fname} {
  <i><font color=#4b5d50># Checks if a file name is &quot;No name&quot;.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] in [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$al(MC,nofile)</font> {No name} {}]} {
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsSaved'>IsSaved</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is modified and if yes, offers to save it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsSaved</span> <span class='ruff_arg'>TID ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of dialogue</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The appearance of dialogue is controled by <code>$ansSave</code> and <code>$firstSave</code>: if <code>$ansSave</code>&gt;10, no dialogue at all, meaning the answer = <code>$ansSave</code> if <code>$firstSave</code>==-1, no &quot;No ask anymore&quot; (if run by &quot;Close&quot; menu item or &quot;x&quot; icon of tabbar)</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1 for &quot;yes, needs saving&quot;, 2 - &quot;no saving&quot;, 0 - &quot;cancel&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_IsSaved' href="javascript:toggleSource('alited_file_IsSaved')">Show source</a></p>
<div id='alited_file_IsSaved' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsSaved {TID args} {
  <i><font color=#4b5d50># Checks if a file is modified and if yes, offers to save it.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   args - options of dialogue</font></i>
  <i><font color=#4b5d50># The appearance of dialogue is controled by $ansSave and $firstSave:</font></i>
  <i><font color=#4b5d50>#   if $ansSave&gt;10, no dialogue at all, meaning the answer = $ansSave</font></i>
  <i><font color=#4b5d50>#   if $firstSave==-1, no &quot;No ask anymore&quot; (if run by &quot;Close&quot; menu item or &quot;x&quot; icon of tabbar)</font></i>
  <i><font color=#4b5d50># Returns 1 for &quot;yes, needs saving&quot;, 2 - &quot;no saving&quot;, 0 - &quot;cancel&quot;.</font></i>

  <b><font color=#3a6797>variable</font></b> ansSave
  <b><font color=#3a6797>variable</font></b> firstSave
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[IsModified <font color=#1b1baa>$TID</font>]} {
    <b><font color=#3a6797>set</font></b> tname [alited::bar::TabName <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ansSave</font>&lt;10} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$firstSave</font>==-1} {
        <b><font color=#3a6797>set</font></b> ch {}
      } <b><font color=#3a6797>else</font></b> {
        <i><font color=#4b5d50># the option for &quot;save/not save other changed files, without further questions&quot;</font></i>
        <b><font color=#3a6797>set</font></b> ch [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
      }
      <b><font color=#3a6797>set</font></b> ansSave [alited::msg yesnocancel warn [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$tname</font>]  <font color=#1b1baa>$al(MC,notsaved)</font>] YES <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,saving)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$ch</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
    }
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ansSave</font>
  }
  <b><font color=#ca14ca>return</font></b> 2  ;<i><font color=#4b5d50># as if &quot;No&quot; chosen</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsTcl'>IsTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is of Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsTcl</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_IsTcl' href="javascript:toggleSource('alited_file_IsTcl')">Show source</a></p>
<div id='alited_file_IsTcl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsTcl {fname} {
  <i><font color=#4b5d50># Checks if a file is of Tcl.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>]] in <font color=#1b1baa>$::alited::al(TclExts)</font>} {
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsUnitFile'>IsUnitFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file has a unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsUnitFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_IsUnitFile' href="javascript:toggleSource('alited_file_IsUnitFile')">Show source</a></p>
<div id='alited_file_IsUnitFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsUnitFile {fname} {
  <i><font color=#4b5d50># Checks if a file has a unit tree.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[IsTcl <font color=#1b1baa>$fname</font>]}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MakeThemHighlighted'>MakeThemHighlighted</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets flag &quot;highlight file(s) anyway&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MakeThemHighlighted</span> <span class='ruff_arg'>?tabs? ?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tabs</code></code></td><td class='ruff_defitem'>list of tabs to set the flag for; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text path (if set, it is flagged only); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Useful when you need update the files' highlightings.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_MakeThemHighlighted' href="javascript:toggleSource('alited_file_MakeThemHighlighted')">Show source</a></p>
<div id='alited_file_MakeThemHighlighted' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::MakeThemHighlighted {{tabs {}} {wtxt {}}} {
  <i><font color=#4b5d50># Sets flag &quot;highlight file(s) anyway&quot;.</font></i>
  <i><font color=#4b5d50>#   tabs - list of tabs to set the flag for</font></i>
  <i><font color=#4b5d50>#   wtxt - text path (if set, it is flagged only)</font></i>
  <i><font color=#4b5d50># Useful when you need update the files' highlightings.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tabs</font> eq {}} {
      <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
    }
    <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> w [alited::main::GetWTXT [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]]] ne {}} {
        <b><font color=#3a6797>lappend</font></b> wtxt <font color=#1b1baa>$w</font>
      }
    }
  }
  <b><font color=#3a6797>foreach</font></b> w <font color=#1b1baa>$wtxt</font> {<b><font color=#3a6797>set</font></b> al(HL,<font color=#1b1baa>$w</font>) ..}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MoveExternal'>MoveExternal</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves an external file to a project's directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveExternal</span> <span class='ruff_arg'>f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_MoveExternal' href="javascript:toggleSource('alited_file_MoveExternal')">Show source</a></p>
<div id='alited_file_MoveExternal' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::MoveExternal {f1112} {
  <i><font color=#4b5d50># Moves an external file to a project's directory.</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by F11/F12 keys</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq {} || [<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$fname</font>]==0} {
    <b><font color=#ca14ca>return</font></b> no  ;<i><font color=#4b5d50># no project directory or the file is inside it</font></i>
  }
  <b><font color=#3a6797>set</font></b> addmsg [msgcat::mc {THE EXTERNAL FILE IS MOVED TO THE PROJECT!}]
  <b><font color=#3a6797>set</font></b> fname [DoMoveFile <font color=#1b1baa>$fname</font> <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$f1112</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>addmsg\n\n&quot;</font>]
  alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
  alited::main::ShowHeader yes
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MoveFiles'>MoveFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves  file(s).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveFiles</span> <span class='ruff_arg'>wtree to itemIDs f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>&quot;move&quot;, &quot;up&quot; or &quot;down&quot; (direction of moving)</td></tr>
<tr><td class='ruff_defitem'><code><code>itemIDs</code></code></td><td class='ruff_defitem'>file's tree IDs to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes for pressing F11/F12 or file's tree ID</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>For to=move, f1112 is a file's ID to be moved to.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_MoveFiles' href="javascript:toggleSource('alited_file_MoveFiles')">Show source</a></p>
<div id='alited_file_MoveFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::MoveFiles {wtree to itemIDs f1112} {
  <i><font color=#4b5d50># Moves  file(s).</font></i>
  <i><font color=#4b5d50>#   wtree - file tree widget</font></i>
  <i><font color=#4b5d50>#   to - &quot;move&quot;, &quot;up&quot; or &quot;down&quot; (direction of moving)</font></i>
  <i><font color=#4b5d50>#   itemIDs - file's tree IDs to be moved</font></i>
  <i><font color=#4b5d50>#   f1112 - yes for pressing F11/F12 or file's tree ID</font></i>
  <i><font color=#4b5d50># For to=move, f1112 is a file's ID to be moved to.</font></i>

  <b><font color=#3a6797>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> itemID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$itemIDs</font> 0]
  <b><font color=#3a6797>set</font></b> idx [alited::unit::SearchInBranch <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$tree</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {move}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font>&gt;=0} {
      DropFiles <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemIDs</font> <font color=#1b1baa>$f1112</font>
    }
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> curfile [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> curdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$curfile</font>]
  <b><font color=#3a6797>set</font></b> isexternal [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> first [<b><font color=#3a6797>file</font></b> normalize <font color=#1b1baa>$::alited::al(prjroot)</font>]  [<b><font color=#3a6797>file</font></b> normalize <font color=#1b1baa>$curdir</font>]]&lt;0}]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isexternal</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font>&lt;0} {<b><font color=#134070>bell</font></b>; <b><font color=#ca14ca>return</font></b>}
    <i><font color=#4b5d50># the edited file is not external =&gt; try to move selected files of the tree</font></i>
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-values</font>] -&gt; curfile
    <b><font color=#3a6797>set</font></b> curdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$curfile</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {up}} {<b><font color=#3a6797>set</font></b> ito 0} {<b><font color=#3a6797>set</font></b> ito end}
  <b><font color=#3a6797>set</font></b> selparent [<font color=#1b1baa>$wtree</font> parent [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$itemIDs</font> <font color=#1b1baa>$ito</font>]]
  <b><font color=#3a6797>set</font></b> dirname {}
  <b><font color=#3a6797>set</font></b> increment [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$to</font> eq {up} ? -1 : 1}]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$idx</font>} {1} {<b><font color=#3a6797>incr</font></b> i <font color=#1b1baa>$increment</font>} {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tree</font> <font color=#1b1baa>$i</font> 4] files fname isfile id
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} <b><font color=#ca14ca>break</font></b>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>set</font></b> parent [<font color=#1b1baa>$wtree</font> parent <font color=#1b1baa>$id</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$parent</font> ne <font color=#1b1baa>$selparent</font> && <font color=#1b1baa>$parent</font> ne {} && [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] ne <font color=#1b1baa>$curdir</font>} {
        <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$parent</font> <font color=#6c3e67>-values</font>] files fname isfile id
        <b><font color=#3a6797>set</font></b> dirname <font color=#1b1baa>$fname</font>
        <b><font color=#ca14ca>break</font></b>
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$id</font> ne <font color=#1b1baa>$selparent</font> && <font color=#1b1baa>$fname</font> ne <font color=#1b1baa>$curdir</font>} {
      <b><font color=#3a6797>set</font></b> dirname <font color=#1b1baa>$fname</font>
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dirname</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selparent</font> ne {}} {
      <b><font color=#3a6797>set</font></b> dirname <font color=#1b1baa>$::alited::al(prjroot)</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>bell</font></b>
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isexternal</font>} {
    <i><font color=#4b5d50># this file is external to the project - ask to move it into the project</font></i>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> name [DoMoveFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$dirname</font> <font color=#1b1baa>$f1112</font>]] ne {}} {
      <b><font color=#3a6797>lappend</font></b> movedfiles <font color=#1b1baa>$name</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> f1112 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$f1112</font> || [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$itemIDs</font>]&gt;1}]
    <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$itemIDs</font> {
      <b><font color=#3a6797>set</font></b> curfile [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> name [DoMoveFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$dirname</font> <font color=#1b1baa>$f1112</font>]] ne {}} {
        <b><font color=#3a6797>lappend</font></b> movedfiles <font color=#1b1baa>$name</font>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists movedfiles]} {
    <font color=#1b1baa>$wtree</font> selection set {}
    alited::tree::RecreateTree {} <font color=#1b1baa>$movedfiles</font>
    alited::main::ShowHeader yes
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::NewFile'>NewFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;New file&quot; menu item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewFile</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>a file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_NewFile' href="javascript:toggleSource('alited_file_NewFile')">Show source</a></p>
<div id='alited_file_NewFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::NewFile {{fname {}}} {
  <i><font color=#4b5d50># Handles &quot;New file&quot; menu item.</font></i>
  <i><font color=#4b5d50>#   fname - a file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$al(MC,nofile)</font>]] eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} {
      <b><font color=#3a6797>set</font></b> tab [<b><font color=#3a6797>set</font></b> fname <font color=#1b1baa>$al(MC,nofile)</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> tab [alited::bar::UniqueListTab <font color=#1b1baa>$fname</font>]
      <b><font color=#3a6797>set</font></b> fname [FileStat <font color=#1b1baa>$fname</font>]
    }
    <b><font color=#3a6797>set</font></b> TID [alited::bar::InsertTab <font color=#1b1baa>$tab</font> <font color=#1b1baa>$fname</font>]
  }
  alited::bar::BAR <font color=#1b1baa>$TID</font> show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenDetach'>OpenDetach</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Choose files and open them in detached editors.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenDetach</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_OpenDetach' href="javascript:toggleSource('alited_file_OpenDetach')">Show source</a></p>
<div id='alited_file_OpenDetach' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenDetach {} {
  <i><font color=#4b5d50># Choose files and open them in detached editors.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fnames [ChooseMultipleFiles no]] eq {}} <b><font color=#ca14ca>return</font></b>
  SourceDetach
  alited::detached::_run <font color=#1b1baa>$fnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenFile'>OpenFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Open file&quot; menu item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFile</span> <span class='ruff_arg'>?fnames? ?reload? ?islist? ?Message?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fnames</code></code></td><td class='ruff_defitem'>file name (if not set, asks for it); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>reload</code></code></td><td class='ruff_defitem'>if yes, loads the file even if it has a &quot;strange&quot; extension; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>islist</code></code></td><td class='ruff_defitem'>if yes, <em>fnames</em> is a file list; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>Message</code></code></td><td class='ruff_defitem'>name of procedure for &quot;open file&quot; message; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the file's tab ID if it's loaded, or {} if not loaded.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_OpenFile' href="javascript:toggleSource('alited_file_OpenFile')">Show source</a></p>
<div id='alited_file_OpenFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenFile {{fnames {}} {reload no} {islist no} {Message {}}} {
  <i><font color=#4b5d50># Handles &quot;Open file&quot; menu item.</font></i>
  <i><font color=#4b5d50>#   fnames - file name (if not set, asks for it)</font></i>
  <i><font color=#4b5d50>#   reload - if yes, loads the file even if it has a &quot;strange&quot; extension</font></i>
  <i><font color=#4b5d50>#   islist - if yes, *fnames* is a file list</font></i>
  <i><font color=#4b5d50>#   Message - name of procedure for &quot;open file&quot; message</font></i>
  <i><font color=#4b5d50># Returns the file's tab ID if it's loaded, or {} if not loaded.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> ansOpen
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnames</font> eq {}} {
    <b><font color=#3a6797>set</font></b> fnames [ChooseMultipleFiles]
  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$islist</font>} {
    <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fnames</font>]
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fnames</font>]]==0} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> TID {}
  <b><font color=#3a6797>set</font></b> many [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$llen</font>&gt;1}]
  <b><font color=#3a6797>foreach</font></b> fname <font color=#1b1baa>$fnames</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
      <b><font color=#3a6797>set</font></b> exts <font color=#1b1baa>$al(TclExts)</font>
      <b><font color=#3a6797>append</font></b> exts { } <font color=#1b1baa>$al(ClangExts)</font>
      <b><font color=#3a6797>append</font></b> exts { } <font color=#1b1baa>$al(TextExts)</font>
      <b><font color=#3a6797>set</font></b> sexts [<b><font color=#3a6797>string</font></b> map {. {}} <font color=#8b2a0e>&quot;  <font color=#1b1baa>$</font>al(TclExts)\n  <font color=#1b1baa>$</font>al(ClangExts)\n  <font color=#1b1baa>$</font>al(TextExts)&quot;</font>]
      <b><font color=#3a6797>set</font></b> exts [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> map {{ } {, } . {}} <font color=#1b1baa>$exts</font>]]
      <b><font color=#3a6797>set</font></b> ext [alited::EditExt <font color=#1b1baa>$fname</font>]
      <b><font color=#3a6797>set</font></b> ext [<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$ext</font> .]]
      <b><font color=#3a6797>set</font></b> esp [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> { } {} \n ,] <font color=#1b1baa>$exts</font>] ,]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$reload</font> && <font color=#1b1baa>$ext</font> ni <font color=#1b1baa>$esp</font> && <font color=#1b1baa>$ansOpen</font>&lt;11} {
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] %s <font color=#1b1baa>$sexts</font>] <font color=#1b1baa>$al(MC,nottoopen)</font>]
        <b><font color=#3a6797>set</font></b> ansOpen [alited::msg yesnocancel warn <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
        <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ansOpen</font> || <font color=#1b1baa>$ansOpen</font>==12} <b><font color=#ca14ca>break</font></b>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ansOpen</font>==2} <b><font color=#ca14ca>continue</font></b>
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] eq {}} {
        <i><font color=#4b5d50># close  &quot;no name&quot; tab if it's the only one and not changed</font></i>
        <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
        <b><font color=#3a6797>set</font></b> tabm [alited::bar::BAR listFlag m]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tabs</font>]==1 && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tabm</font>]==0} {
          <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> 0 0]
          <b><font color=#3a6797>if</font></b> {[alited::bar::FileName <font color=#1b1baa>$tid</font>] eq <font color=#1b1baa>$al(MC,nofile)</font>} {
            alited::bar::BAR <font color=#1b1baa>$tid</font> close
          }
        }
        <i><font color=#4b5d50># open new tab</font></i>
        <b><font color=#3a6797>set</font></b> tab [alited::bar::UniqueListTab <font color=#1b1baa>$fname</font>]
        <b><font color=#3a6797>set</font></b> TID [alited::bar::InsertTab <font color=#1b1baa>$tab</font> [FileStat <font color=#1b1baa>$fname</font>]]
        AddRecent <font color=#1b1baa>$fname</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$Message</font> ne {}} {
          <font color=#1b1baa>$Message</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Open file:<font color=#1b1baa>}]</font> <font color=#1b1baa>$</font>fname&quot;</font>
        }
      } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(lifo)</font>} {
        <i><font color=#4b5d50># in -lifo mode: move all open files to 1st position</font></i>
        <i><font color=#4b5d50># (but if it's one file to be move, then only if it's not visible)</font></i>
        <b><font color=#3a6797>if</font></b> {(![alited::bar::BAR <font color=#1b1baa>$TID</font> visible] && !<font color=#1b1baa>$many</font>) || <font color=#1b1baa>$many</font>} {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$many</font>} {
            alited::bar::BAR moveTab <font color=#1b1baa>$TID</font> 0  ;<i><font color=#4b5d50># one tab is shown by &quot;show&quot; method below</font></i>
          }
          <b><font color=#3a6797>set</font></b> many yes
        }
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {} && (<font color=#1b1baa>$al(lifo)</font> || <font color=#1b1baa>$TID</font> ne [alited::bar::CurrentTabID])} {
    alited::bar::BAR <font color=#1b1baa>$TID</font> show <font color=#1b1baa>$many</font> <font color=#1b1baa>$many</font>
  }
  RecreateFileTree
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$islist</font>} {alited::tree::SeeFile [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fnames</font> 0]}
  <b><font color=#3a6797>after</font></b> 20 alited::FocusText
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenFiles'>OpenFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files selected in the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_OpenFiles' href="javascript:toggleSource('alited_file_OpenFiles')">Show source</a></p>
<div id='alited_file_OpenFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenFiles {} {
  <i><font color=#4b5d50># Opens files selected in the file tree.</font></i>

  OpenFile [SortTreeSelFiles] no yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenOfDir'>OpenOfDir</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens all Tcl files of a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenOfDir</span> <span class='ruff_arg'>dname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>directory's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_OpenOfDir' href="javascript:toggleSource('alited_file_OpenOfDir')">Show source</a></p>
<div id='alited_file_OpenOfDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenOfDir {dname} {
  <i><font color=#4b5d50># Opens all Tcl files of a directory.</font></i>
  <i><font color=#4b5d50>#   dname - directory's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> ansOpenOfDir
  <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;All Tcl files of this directory:\n  \&quot;%f\&quot;  \nwill be open. This may be expensive!&quot;</font>]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dname</font>]] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ansOpenOfDir</font>&lt;11} {
    <b><font color=#3a6797>set</font></b> ansOpenOfDir [alited::msg okcancel warn <font color=#1b1baa>$msg</font> OK <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ansOpenOfDir</font> && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> flist [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-directory</font> <font color=#1b1baa>$dname</font> *]}] && <font color=#1b1baa>$flist</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> fname [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$flist</font>] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isfile <font color=#1b1baa>$fname</font>] && [IsTcl <font color=#1b1baa>$fname</font>]} {
        <b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fname</font>
      }
    }
    OpenFile <font color=#1b1baa>$fnames</font> no yes
    <b><font color=#3a6797>after</font></b> idle {<b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> [alited::main::CurrentWTXT]}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenWith'>OpenWith</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files selected in the file tree, with their apps.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenWith</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_OpenWith' href="javascript:toggleSource('alited_file_OpenWith')">Show source</a></p>
<div id='alited_file_OpenWith' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenWith {} {
  <i><font color=#4b5d50># Opens files selected in the file tree, with their apps.</font></i>

  <b><font color=#3a6797>foreach</font></b> fn [SortTreeSelFiles] {
    <b><font color=#3a6797>incr</font></b> i
    <b><font color=#3a6797>after</font></b> [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$i</font>-1)*500}] openDoc <font color=#1b1baa>$fn</font> ;<i><font color=#4b5d50># let the app get 0.5 sec pause</font></i>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OutwardChange'>OutwardChange</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for change of file by an external application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OutwardChange</span> <span class='ruff_arg'>TID ?docheck?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>docheck</code></code></td><td class='ruff_defitem'>yes for &quot;do check&quot;, no for &quot;just save the file's mtime&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_OutwardChange' href="javascript:toggleSource('alited_file_OutwardChange')">Show source</a></p>
<div id='alited_file_OutwardChange' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OutwardChange {TID {docheck yes}} {
  <i><font color=#4b5d50># Checks for change of file by an external application.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   docheck - yes for &quot;do check&quot;, no for &quot;just save the file's mtime&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists .em] || [<b><font color=#3a6797>info</font></b> exists al(_NO_OUTWARD_)]} {
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># no actions if &quot;internal&quot; e_menu is open</font></i>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$docheck</font> && <font color=#1b1baa>$TID</font> ne [alited::bar::CurrentTabID]} {
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># not a current tab: no questions</font></i>
  }
  <b><font color=#3a6797>lassign</font></b> [FileAttrs <font color=#1b1baa>$TID</font>] fname isfile mtime mtimefile curtime
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$docheck</font> && <font color=#1b1baa>$mtime</font> ne {} && <font color=#1b1baa>$curtime</font> ne <font color=#1b1baa>$mtime</font> && <font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$mtimefile</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,modiffile)</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,wasdelfile)</font>]
    }
    <i><font color=#4b5d50># at any answer, the tab should be marked as &quot;modified&quot;</font></i>
    alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
    alited::edit::CheckSaveIcons yes
    <b><font color=#3a6797>if</font></b> {[alited::msg yesno warn <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,saving)</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
        <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
        <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
        <b><font color=#3a6797>set</font></b> filecont [ReadFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> 1]  ;<i><font color=#4b5d50># let Undo be possible</font></i>
        <font color=#1b1baa>$wtxt</font> replace 1.0 end <font color=#1b1baa>$filecont</font>
        <b><font color=#3a6797>catch</font></b> {
          ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
          ::alited::main::CursorPos <font color=#1b1baa>$wtxt</font>
        }
        alited::main::UpdateAll
        alited::main::FocusText
      } <b><font color=#3a6797>else</font></b> {
        alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>--mtime</font> {}
        SaveFileAs <font color=#1b1baa>$TID</font>
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> curtime [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname</font>]}]} {<b><font color=#3a6797>set</font></b> curtime {}}
      }
    }
    <b><font color=#3a6797>set</font></b> do_update_tree yes
    <b><font color=#3a6797>lassign</font></b> [FileAttrs <font color=#1b1baa>$TID</font>] fname isfile mtime mtimefile curtime
  }
  alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>--mtime</font> <font color=#1b1baa>$curtime</font> <font color=#6c3e67>--mtimefile</font> <font color=#1b1baa>$fname</font>  <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists do_update_tree]} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {<b><font color=#3a6797>set</font></b> fname {}}
    ::alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ReadFile'>ReadFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file, creates its unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadFile</span> <span class='ruff_arg'>TID fname ?doErr?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>doErr</code></code></td><td class='ruff_defitem'>if 'true', exit at errors with error message; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the file's contents.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_ReadFile' href="javascript:toggleSource('alited_file_ReadFile')">Show source</a></p>
<div id='alited_file_ReadFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ReadFile {TID fname {doErr 0}} {
  <i><font color=#4b5d50># Reads a file, creates its unit tree.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   doErr - if 'true', exit at errors with error message</font></i>
  <i><font color=#4b5d50># Returns the file's contents.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> enc [Encoding <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>append</font></b> enc { } [EOL <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> filecont [readTextFile <font color=#1b1baa>$fname</font> {} <font color=#1b1baa>$doErr</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$enc</font>]
  <b><font color=#3a6797>set</font></b> al(_unittree,<font color=#1b1baa>$TID</font>) [alited::unit::GetUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$filecont</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$filecont</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ReadFileByTID'>ReadFileByTID</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file of tab, if needed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadFileByTID</span> <span class='ruff_arg'>TID ?getcont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of the tab</td></tr>
<tr><td class='ruff_defitem'><code><code>getcont</code></code></td><td class='ruff_defitem'>if yes, returns a content of the file; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_ReadFileByTID' href="javascript:toggleSource('alited_file_ReadFileByTID')">Show source</a></p>
<div id='alited_file_ReadFileByTID' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ReadFileByTID {TID {getcont no}} {
  <i><font color=#4b5d50># Reads a file of tab, if needed.</font></i>
  <i><font color=#4b5d50>#   TID - ID of the tab</font></i>
  <i><font color=#4b5d50>#   getcont - if yes, returns a content of the file</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(_unittree,<font color=#1b1baa>$TID</font>)]} {
    <b><font color=#ca14ca>return</font></b> [ReadFile <font color=#1b1baa>$TID</font> [alited::bar::FileName <font color=#1b1baa>$TID</font>]]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$getcont</font>} {
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
    <b><font color=#ca14ca>return</font></b> [<font color=#1b1baa>$wtxt</font> get 1.0 <font color=#8b2a0e>&quot;end - 1 chars&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RecreateFileTree'>RecreateFileTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RecreateFileTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_RecreateFileTree' href="javascript:toggleSource('alited_file_RecreateFileTree')">Show source</a></p>
<div id='alited_file_RecreateFileTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RecreateFileTree {} {
  <i><font color=#4b5d50># Creates the file tree.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font> && ![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$::alited::project::win</font>]} {
    [<font color=#1b1baa>$obPav</font> Tree] selection set {}
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al(_AFT_RECR_)</font>}
    <b><font color=#3a6797>set</font></b> al(_AFT_RECR_) [<b><font color=#3a6797>after</font></b> 100 ::alited::tree::RecreateTree]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::Reload1'>Reload1</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reloads a current file with EOL.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Reload1</span> <span class='ruff_arg'>eol</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>eol</code></code></td><td class='ruff_defitem'>the end of line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_Reload1' href="javascript:toggleSource('alited_file_Reload1')">Show source</a></p>
<div id='alited_file_Reload1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Reload1 {eol} {
  <i><font color=#4b5d50># Reloads a current file with EOL.</font></i>
  <i><font color=#4b5d50>#   eol - the end of line</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> eol [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$eol</font>]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> dosave no
  <b><font color=#3a6797>if</font></b> {[IsNoName <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> dosave yes
  } <b><font color=#3a6797>elseif</font></b> {[IsModified]} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(EOLASKED)] || <font color=#1b1baa>$al(EOLASKED)</font>&lt;10} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;Save the file:\n%F ?&quot;</font>]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %F <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$msg</font>]
      <b><font color=#3a6797>set</font></b> al(EOLASKED) [alited::msg yesnocancel warn <font color=#1b1baa>$msg</font> CANCEL <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(EOLASKED)</font>} <b><font color=#ca14ca>return</font></b>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EOLASKED)</font> in {1 11}} {<b><font color=#3a6797>set</font></b> dosave yes}
    }
    <font color=#1b1baa>$wtxt</font> edit modified no
    alited::edit::Modified <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosave</font>} {
    <b><font color=#3a6797>set</font></b> al(THIS-EOL) <font color=#1b1baa>$eol</font>
    <b><font color=#3a6797>set</font></b> dosave [SaveFile]
    <b><font color=#3a6797>unset</font></b> al(THIS-EOL)
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$dosave</font>} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  EOL <font color=#1b1baa>$fname</font> <font color=#1b1baa>$eol</font>
  DisplayFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$wtxt</font> yes
  <b><font color=#3a6797>catch</font></b> {::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>}
  alited::main::UpdateProjectInfo
  alited::main::UpdateAll
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::Reload2'>Reload2</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reloads a current file with an encoding.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Reload2</span> <span class='ruff_arg'>enc</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>enc</code></code></td><td class='ruff_defitem'>the encoding</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_Reload2' href="javascript:toggleSource('alited_file_Reload2')">Show source</a></p>
<div id='alited_file_Reload2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Reload2 {enc} {
  <i><font color=#4b5d50># Reloads a current file with an encoding.</font></i>
  <i><font color=#4b5d50>#   enc - the encoding</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$enc</font>] enc
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> dosave no
  <b><font color=#3a6797>if</font></b> {[IsNoName <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> dosave yes
  } <b><font color=#3a6797>elseif</font></b> {[IsModified]} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(ENCODINGASKED)] || <font color=#1b1baa>$al(ENCODINGASKED)</font>&lt;10} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc  <font color=#8b2a0e>&quot;Saving and reloading \&quot;%f\&quot;\nwith the encoding \&quot;%e\&quot; may turn out to be wrong.\n\nSave the file:\n%F ?&quot;</font>]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %e <font color=#1b1baa>$enc</font> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] %F <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$msg</font>]
      <b><font color=#3a6797>set</font></b> al(ENCODINGASKED) [alited::msg yesnocancel warn <font color=#1b1baa>$msg</font> CANCEL <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(ENCODINGASKED)</font>} <b><font color=#ca14ca>return</font></b>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(ENCODINGASKED)</font> in {1 11}} {<b><font color=#3a6797>set</font></b> dosave yes}
    }
    <font color=#1b1baa>$wtxt</font> edit modified no
    alited::edit::Modified <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(ENCODINGASKED2)] || <font color=#1b1baa>$al(ENCODINGASKED2)</font>&lt;10} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc  <font color=#8b2a0e>&quot;Reloading \&quot;%f\&quot;\nwith the encoding \&quot;%e\&quot; may turn out to be wrong.\n\nReload the file:\n%F ?&quot;</font>]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %e <font color=#1b1baa>$enc</font> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] %F <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$msg</font>]
      <b><font color=#3a6797>set</font></b> al(ENCODINGASKED2) [alited::msg yesno warn <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(ENCODINGASKED2)</font>} <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosave</font>} {
    <b><font color=#3a6797>set</font></b> al(THIS-ENCODING) <font color=#1b1baa>$enc</font>
    <b><font color=#3a6797>set</font></b> dosave [SaveFile]
    <b><font color=#3a6797>unset</font></b> al(THIS-ENCODING)
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$dosave</font>} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  Encoding <font color=#1b1baa>$fname</font> <font color=#1b1baa>$enc</font>
  DisplayFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$wtxt</font> yes
  <b><font color=#3a6797>catch</font></b> {::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>}
  alited::main::UpdateProjectInfo
  alited::main::UpdateAll
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RemoveFile'>RemoveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes or backups a file, trying to save it in a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemoveFile</span> <span class='ruff_arg'>fname dname mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>name of directory</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;move&quot;, then moves a file to a directory, otherwise backups it</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a destination file's name or {} if error.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_RemoveFile' href="javascript:toggleSource('alited_file_RemoveFile')">Show source</a></p>
<div id='alited_file_RemoveFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RemoveFile {fname dname mode} {
  <i><font color=#4b5d50># Removes or backups a file, trying to save it in a directory.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   dname - name of directory</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;move&quot;, then moves a file to a directory, otherwise backups it</font></i>
  <i><font color=#4b5d50># Returns a destination file's name or {} if error.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> ftail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> dtail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dname</font>]
  <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dname</font> <font color=#1b1baa>$ftail</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname2</font>]} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq <font color=#8b2a0e>&quot;move&quot;</font>} {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$ftail</font> %d <font color=#1b1baa>$dname</font>] <font color=#1b1baa>$al(MC,fileexist)</font>]
      alited::msg ok warn <font color=#1b1baa>$msg</font>
      <b><font color=#ca14ca>return</font></b> {}
    }
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$fname2</font>}
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$fname</font> <font color=#1b1baa>$dname</font>} err]} {
    <i><font color=#4b5d50># more zeal than sense: to show $err here</font></i>
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname2</font> [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname</font>]}
  <b><font color=#3a6797>if</font></b> {![DeleteFile <font color=#1b1baa>$fname</font>]} {
    <b><font color=#ca14ca>return</font></b> {}
  } <b><font color=#3a6797>else</font></b> {
    alited::Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$ftail</font> %d <font color=#1b1baa>$dtail</font>] <font color=#1b1baa>$al(MC,removed)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq <font color=#8b2a0e>&quot;move&quot;</font> && [<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] ne {}} {
      alited::bar::SetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--fname</font> <font color=#1b1baa>$fname2</font>
      alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname2</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RenameFile'>RenameFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Renames a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RenameFile</span> <span class='ruff_arg'>TID fname ?doshow?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>doshow</code></code></td><td class='ruff_defitem'>flag &quot;show the file's text&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_RenameFile' href="javascript:toggleSource('alited_file_RenameFile')">Show source</a></p>
<div id='alited_file_RenameFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RenameFile {TID fname {doshow yes}} {
  <i><font color=#4b5d50># Renames a file.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   doshow - flag &quot;show the file's text&quot;</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
    alited::bar::SetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--fname</font> <font color=#1b1baa>$fname</font>
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-text</font> {} <font color=#6c3e67>-tip</font> {}
    <b><font color=#3a6797>set</font></b> tab [alited::bar::UniqueListTab <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$sname</font> <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doshow</font>} {
      alited::bar::BAR <font color=#1b1baa>$TID</font> show yes
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RenameFileInTree'>RenameFileInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Renames a current file in a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RenameFileInTree</span> <span class='ruff_arg'>?undermouse? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options for query</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_RenameFileInTree' href="javascript:toggleSource('alited_file_RenameFileInTree')">Show source</a></p>
<div id='alited_file_RenameFileInTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RenameFileInTree {{undermouse yes} args} {
  <i><font color=#4b5d50># Renames a current file in a file tree.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>
  <i><font color=#4b5d50>#   args - options for query</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav obDl2 obDl2
  <b><font color=#3a6797>lassign</font></b> [TreeFilename] wtree name fname ID TID
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>lassign</font></b> [InputFileName <font color=#1b1baa>$al(MC,renamefile)</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$undermouse</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>] res name2
  <b><font color=#3a6797>set</font></b> name2 [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name2</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> && <font color=#1b1baa>$name2</font> ne {} && <font color=#1b1baa>$name2</font> ne <font color=#1b1baa>$name</font>} {
    <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$name2</font>]
    DoRenameFileInTree <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>
    SelectFileInTree <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$fname2</font> <font color=#1b1baa>$ID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveAll'>SaveAll</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves all files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SaveAll' href="javascript:toggleSource('alited_file_SaveAll')">Show source</a></p>
<div id='alited_file_SaveAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveAll {} {
  <i><font color=#4b5d50># Saves all files.</font></i>

  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>if</font></b> {[IsModified <font color=#1b1baa>$TID</font>]} {
      <b><font color=#3a6797>if</font></b> {![SaveFile <font color=#1b1baa>$TID</font>]} {<b><font color=#ca14ca>return</font></b> no}
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveAndClose'>SaveAndClose</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves and closes a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveAndClose</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This handles pressing Ctrl+W.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes if the file was closed.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SaveAndClose' href="javascript:toggleSource('alited_file_SaveAndClose')">Show source</a></p>
<div id='alited_file_SaveAndClose' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveAndClose {{TID {}}} {
  <i><font color=#4b5d50># Saves and closes a file.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50># This handles pressing Ctrl+W.</font></i>
  <i><font color=#4b5d50># Returns yes if the file was closed.</font></i>

  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$::alited::bar::ctrltablist</font> 1]
  <b><font color=#3a6797>if</font></b> {[IsModified <font color=#1b1baa>$TID</font>] && ![SaveFile <font color=#1b1baa>$TID</font>]} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  alited::bar::BAR <font color=#1b1baa>$TID</font> close
  <i><font color=#4b5d50># go to a previously viewed file</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] ne {}} {
    alited::bar::BAR <font color=#1b1baa>$TID</font> show
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFile'>SaveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves the current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFile</span> <span class='ruff_arg'>?TID? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>flag &quot;do save now, without any GUI&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::ini::SaveCurrentIni" title="ini::SaveCurrentIni" class='ruff_cmd'>ini::SaveCurrentIni</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SaveFile' href="javascript:toggleSource('alited_file_SaveFile')">Show source</a></p>
<div id='alited_file_SaveFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveFile {{TID {}} {doit no}} {
  <i><font color=#4b5d50># Saves the current file.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   doit - flag &quot;do save now, without any GUI&quot;</font></i>
  <i><font color=#4b5d50># See also: ini::SaveCurrentIni</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {[IsNoName <font color=#1b1baa>$fname</font>]} {
    <b><font color=#ca14ca>return</font></b> [SaveFileAs <font color=#1b1baa>$TID</font>]
  }
  <b><font color=#3a6797>set</font></b> res [SaveFileByName <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$doit</font>]
  alited::ini::SaveCurrentIni <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>res && <font color=#1b1baa>$</font>al(INI,save_onsave)&quot;</font> <font color=#1b1baa>$doit</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font>} {
    alited::main::ShowHeader yes
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {<b><font color=#3a6797>set</font></b> fname {}}
    alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
    alited::tree::SeeSelection
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileAs'>SaveFileAs</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves the current file &quot;as&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileAs</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SaveFileAs' href="javascript:toggleSource('alited_file_SaveFileAs')">Show source</a></p>
<div id='alited_file_SaveFileAs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveFileAs {{TID {}}} {
  <i><font color=#4b5d50># Saves the current file &quot;as&quot;.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>set</font></b> fnameorig [alited::bar::FileName <font color=#1b1baa>$TID</font>]]
  <b><font color=#3a6797>set</font></b> ::alited::al(TMPfname) [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {[IsNoName <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> ::alited::al(TMPfname) {}
    <b><font color=#3a6797>set</font></b> defext .tcl
    <b><font color=#3a6797>set</font></b> inidir <font color=#1b1baa>$al(prjroot)</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> defext [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>set</font></b> inidir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>set</font></b> fname [<font color=#1b1baa>$obPav</font> chooser tk_getSaveFile ::alited::al(TMPfname) <font color=#6c3e67>-initialdir</font> <font color=#1b1baa>$inidir</font>  <font color=#6c3e67>-defaultextension</font> <font color=#1b1baa>$defext</font> <font color=#6c3e67>-title</font> [msgcat::mc {Save as}] <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font>]
  <b><font color=#3a6797>unset</font></b> al(TMPfname)
  <b><font color=#3a6797>if</font></b> {[IsNoName <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> res 0
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>set</font></b> res [SaveFileByName <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font>]]} {
    AddRecent <font color=#1b1baa>$fnameorig</font>
    RenameFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font>
    alited::main::ShowHeader yes
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {<b><font color=#3a6797>set</font></b> fname {}}
    alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
    alited::tree::SeeSelection
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileByName'>SaveFileByName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileByName</span> <span class='ruff_arg'>TID fname ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>flag &quot;do save now, without any GUI&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SaveFileByName' href="javascript:toggleSource('alited_file_SaveFileByName')">Show source</a></p>
<div id='alited_file_SaveFileByName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveFileByName {TID fname {doit no}} {
  <i><font color=#4b5d50># Saves a file.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   doit - flag &quot;do save now, without any GUI&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(THIS-ENCODING)]} {
    <b><font color=#3a6797>set</font></b> enc <font color=#8b2a0e>&quot;-encoding <font color=#1b1baa>$</font>al(THIS-ENCODING)&quot;</font> ;<i><font color=#4b5d50># at saving &quot;no name&quot;</font></i>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> enc [Encoding <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(THIS-EOL)]} {
    <b><font color=#3a6797>set</font></b> eol <font color=#8b2a0e>&quot;-translation <font color=#1b1baa>$</font>al(THIS-EOL)&quot;</font> ;<i><font color=#4b5d50># at saving &quot;no name&quot;</font></i>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> eol [EOL <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>append</font></b> enc <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>eol&quot;</font>
  <b><font color=#3a6797>set</font></b> al(_NO_OUTWARD_) {}
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjtrailwhite)</font>} {alited::edit::RemoveTrailWhites <font color=#1b1baa>$TID</font> yes <font color=#1b1baa>$doit</font>}
  <b><font color=#3a6797>if</font></b> {![SaveText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$enc</font>]} {
    <b><font color=#ca14ca>return</font></b> 0
  }
  <b><font color=#3a6797>unset</font></b> al(_NO_OUTWARD_)
  alited::edit::MacroUpdate <font color=#1b1baa>$fname</font>
  OutwardChange <font color=#1b1baa>$TID</font> no
  alited::edit::BackupFile <font color=#1b1baa>$TID</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font>} {
    <font color=#1b1baa>$wtxt</font> edit modified no
    alited::edit::Modified <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
    alited::main::HighlightText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$wtxt</font>
    RecreateFileTree
    alited::tree::SeeFile <font color=#1b1baa>$fname</font>
  }
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveText'>SaveText</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves text buffer to file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveText</span> <span class='ruff_arg'>wtxt fname ?enc?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>enc</code></code></td><td class='ruff_defitem'>encoding options; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SaveText' href="javascript:toggleSource('alited_file_SaveText')">Show source</a></p>
<div id='alited_file_SaveText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveText {wtxt fname {enc {}}} {
  <i><font color=#4b5d50># Saves text buffer to file.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   enc - encoding options</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fcont [<font color=#1b1baa>$wtxt</font> get 1.0 <font color=#8b2a0e>&quot;end - 1 chars&quot;</font>]  ;<i><font color=#4b5d50># last \n excluded</font></i>
  <b><font color=#3a6797>if</font></b> {![writeTextFile <font color=#1b1baa>$fname</font> fcont 0 1 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$enc</font>]} {
    alited::msg ok err [::apave::error <font color=#1b1baa>$fname</font>] <font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-text</font> 1
    <b><font color=#3a6797>unset</font></b> <font color=#6c3e67>-nocomplain</font> al(_NO_OUTWARD_)
    <b><font color=#ca14ca>return</font></b> 0
  }
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SbhText'>SbhText</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows/hides the horizontal scrollbar of the text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SbhText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SbhText' href="javascript:toggleSource('alited_file_SbhText')">Show source</a></p>
<div id='alited_file_SbhText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SbhText {} {
  <i><font color=#4b5d50># Shows/hides the horizontal scrollbar of the text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exist al(isSbhText)]} {
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>set</font></b> wfra [<font color=#1b1baa>$obPav</font> FraSbh]
    <b><font color=#3a6797>set</font></b> wsbh [<font color=#1b1baa>$obPav</font> SbhText]
    <b><font color=#3a6797>set</font></b> wrap [<font color=#1b1baa>$wtxt</font> cget <font color=#6c3e67>-wrap</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wrap</font> eq {word}} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(isSbhText)</font>} {<b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$wfra</font>}
      <b><font color=#3a6797>set</font></b> al(isSbhText) no
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(isSbhText)</font>} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(isfindunit)] || !<font color=#1b1baa>$al(isfindunit)</font>} {
          <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wfra</font> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> FraHead]
          <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wfra</font> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
          <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> FraHead] <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
        }
      }
      <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-xscrollcommand</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>wsbh set&quot;</font>
      <font color=#1b1baa>$wsbh</font> configure <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>wtxt xview&quot;</font>
      <b><font color=#3a6797>set</font></b> al(isSbhText) yes
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SearchInFileTree'>SearchInFileTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a file name in file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchInFileTree</span> <span class='ruff_arg'>fname ?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>returned ID if file name isn't found; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SearchInFileTree' href="javascript:toggleSource('alited_file_SearchInFileTree')">Show source</a></p>
<div id='alited_file_SearchInFileTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SearchInFileTree {fname {ID {}}} {
  <i><font color=#4b5d50># Searches a file name in file tree.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   ID - returned ID if file name isn't found</font></i>

  <b><font color=#3a6797>set</font></b> ltree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> {4 1} <font color=#1b1baa>$ltree</font> <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&gt;-1} {<b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$ltree</font> <font color=#1b1baa>$i</font> 2]} {<b><font color=#3a6797>set</font></b> res <font color=#1b1baa>$ID</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SelectFileInTree'>SelectFileInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds a file in file tree and selects it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectFileInTree</span> <span class='ruff_arg'>wtree fname ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of default item to select (if the file not found)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SelectFileInTree' href="javascript:toggleSource('alited_file_SelectFileInTree')">Show source</a></p>
<div id='alited_file_SelectFileInTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SelectFileInTree {wtree fname ID} {
  <i><font color=#4b5d50># Finds a file in file tree and selects it.</font></i>
  <i><font color=#4b5d50>#   wtree - file tree's path</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   ID - ID of default item to select (if the file not found)</font></i>

  alited::tree::RecreateTree <font color=#1b1baa>$wtree</font> -
  SelectInTree <font color=#1b1baa>$wtree</font> [SearchInFileTree <font color=#1b1baa>$fname</font> <font color=#1b1baa>$ID</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SelectInTree'>SelectInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects an item in the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectInTree</span> <span class='ruff_arg'>wtree id</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>id</code></code></td><td class='ruff_defitem'>item's id</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SelectInTree' href="javascript:toggleSource('alited_file_SelectInTree')">Show source</a></p>
<div id='alited_file_SelectInTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SelectInTree {wtree id} {
  <i><font color=#4b5d50># Selects an item in the file tree.</font></i>
  <i><font color=#4b5d50>#   wtree - file tree widget</font></i>
  <i><font color=#4b5d50>#   id - item's id</font></i>

  <b><font color=#3a6797>catch</font></b> {
    <font color=#1b1baa>$wtree</font> selection add <font color=#1b1baa>$id</font>
    alited::tree::ExpandSelection <font color=#1b1baa>$id</font> <font color=#1b1baa>$wtree</font>
  }
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after 200  <font color=#8b2a0e>&quot;catch <font color=#1b1baa>{</font>focus <font color=#1b1baa>$</font>wtree ;  <font color=#1b1baa>$</font>wtree selection set <font color=#1b1baa>$</font>id ; alited::tree::ExpandSelection <font color=#1b1baa>$</font>id <font color=#1b1baa>$</font>wtree ; <font color=#1b1baa>$</font>wtree focus <font color=#1b1baa>$</font>id<font color=#1b1baa>}</font>&quot;</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SortTreeSelFiles'>SortTreeSelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sorts a list of file tree's selected files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SortTreeSelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SortTreeSelFiles' href="javascript:toggleSource('alited_file_SortTreeSelFiles')">Show source</a></p>
<div id='alited_file_SortTreeSelFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SortTreeSelFiles {} {
  <i><font color=#4b5d50># Sorts a list of file tree's selected files.</font></i>

  <b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-dictionary</font> [TreeSelFiles]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SourceDetach'>SourceDetach</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sources detached.tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SourceDetach</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_SourceDetach' href="javascript:toggleSource('alited_file_SourceDetach')">Show source</a></p>
<div id='alited_file_SourceDetach' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SourceDetach {} {
  <i><font color=#4b5d50># Sources detached.tcl.</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::detached]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$SRCDIR</font> detached.tcl]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ToBeHighlighted'>ToBeHighlighted</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks flag &quot;highlight text anyway&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToBeHighlighted</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_ToBeHighlighted' href="javascript:toggleSource('alited_file_ToBeHighlighted')">Show source</a></p>
<div id='alited_file_ToBeHighlighted' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ToBeHighlighted {wtxt} {
  <i><font color=#4b5d50># Checks flag &quot;highlight text anyway&quot;.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {![<b><font color=#3a6797>info</font></b> exists al(HL,<font color=#1b1baa>$wtxt</font>)] || <font color=#1b1baa>$al(HL,$wtxt)</font> eq {..}}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::TreeFilename'>TreeFilename</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fetches a file name selected in the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TreeFilename</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of tree path, name in tree, the file name, its ID in tree, its TID in tabbar.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_TreeFilename' href="javascript:toggleSource('alited_file_TreeFilename')">Show source</a></p>
<div id='alited_file_TreeFilename' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::TreeFilename {} {
  <i><font color=#4b5d50># Fetches a file name selected in the file tree.</font></i>
  <i><font color=#4b5d50># Returns a list of tree path, name in tree, the file name, its ID in tree, its TID in tabbar.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ID</font>]!=1} {
    alited::msg ok err [msgcat::mc {Select one file in the tree.}]
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> name [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$ID</font> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::TreeSelFiles'>TreeSelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a list of file tree's selected files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TreeSelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_TreeSelFiles' href="javascript:toggleSource('alited_file_TreeSelFiles')">Show source</a></p>
<div id='alited_file_TreeSelFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::TreeSelFiles {} {
  <i><font color=#4b5d50># Gets a list of file tree's selected files.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> selID [<font color=#1b1baa>$wtree</font> selection] {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$selID</font> <font color=#6c3e67>-values</font>] - fname isfile
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {<b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fname</font>}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::UpdateFileStat'>UpdateFileStat</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates tips in tab bar (file info).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateFileStat</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_UpdateFileStat' href="javascript:toggleSource('alited_file_UpdateFileStat')">Show source</a></p>
<div id='alited_file_UpdateFileStat' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::UpdateFileStat {} {
  <i><font color=#4b5d50># Updates tips in tab bar (file info).</font></i>

  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname</font>]
  }
  alited::ini::SaveIni
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::WrapLines'>WrapLines</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches wrap word mode for a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WrapLines</span> <span class='ruff_arg'>?wrapnone?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wrapnone</code></code></td><td class='ruff_defitem'>yes, if 'none' wrapping is needed; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_file_WrapLines' href="javascript:toggleSource('alited_file_WrapLines')">Show source</a></p>
<div id='alited_file_WrapLines' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::WrapLines {{wrapnone no}} {
  <i><font color=#4b5d50># Switches wrap word mode for a current text.</font></i>
  <i><font color=#4b5d50>#  wrapnone - yes, if 'none' wrapping is needed</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> al(wrapwords) [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$wrapnone</font> && [<font color=#1b1baa>$wtxt</font> cget <font color=#6c3e67>-wrap</font>] ne {word}}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(wrapwords)</font>} {
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-wrap</font> word
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-wrap</font> none
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(isSbhText)]} {<b><font color=#3a6797>set</font></b> al(isSbhText) no}
  SbhText
  alited::ini::SaveIni
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::find'></a>::alited::find<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::find-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::find::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find__create' href="javascript:toggleSource('alited_find__create')">Show source</a></p>
<div id='alited_find__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::_create {} {
  <i><font color=#4b5d50># Creates Find/Replace dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> geo
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> data(geoDefault) 0
  <b><font color=#3a6797>set</font></b> data(btTRetry) 0
  <b><font color=#3a6797>set</font></b> w <font color=#1b1baa>$win</font>.fra
  <b><font color=#3a6797>lassign</font></b> [::alited::FgFgBold] - - fgred
  ::apave::initStyle TButtonRedFS TButtonBoldFS <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgred</font>
  <font color=#1b1baa>$obFND</font> makeWindow <font color=#1b1baa>$w</font> <font color=#1b1baa>$al(MC,findreplace)</font> <font color=#6c3e67>-type</font> dialog
  <font color=#1b1baa>$obFND</font> paveWindow <font color=#1b1baa>$w</font> {
    {labB1 - - 1 1    {<font color=#6c3e67>-st</font> es <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Find: &quot;</font> <font color=#6c3e67>-style</font> TLabelFS}}
    {Cbx1 + L 1 5 {<font color=#6c3e67>-st</font> wes <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-tvar</font> ::alited::find::data(en1) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$::alited::find::data(vals1)</font>}}}
    {labB2 labB1 T 1 1 {<font color=#6c3e67>-st</font> es <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}   {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Replace: &quot;</font> <font color=#6c3e67>-style</font> TLabelFS}}  {Cbx2 + L 1 4 {<font color=#6c3e67>-st</font> wes <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-tvar</font> ::alited::find::data(en2) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$::alited::find::data(vals2)</font>}}}
    {btTpaste + L 1 1 {<font color=#6c3e67>-st</font> ws <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-com</font> alited::find::btTPaste <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Paste 'Find'\nCtrl+R&quot;</font>}}  {labBm labB2 T 1 1 {<font color=#6c3e67>-st</font> ens <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Match: &quot;</font> <font color=#6c3e67>-style</font> TLabelFS}}
    {radA + L 1 1 {<font color=#6c3e67>-st</font> ens <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Exact&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(v1) <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-style</font> TRadiobuttonFS}}
    {radB + L 1 1 {<font color=#6c3e67>-st</font> ns <font color=#6c3e67>-padx</font> 5 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Glob&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(v1) <font color=#6c3e67>-value</font> 2  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Allows to use *, ?, \[ and \]\nin \&quot;find\&quot; string.&quot;</font> <font color=#6c3e67>-style</font> TRadiobuttonFS}}
    {radC + L 1 1 {<font color=#6c3e67>-st</font> wns <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;RE&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(v1) <font color=#6c3e67>-value</font> 3  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Allows to use the regular expressions\nin \&quot;find\&quot; string.&quot;</font> <font color=#6c3e67>-style</font> TRadiobuttonFS}}
    {ButRE2 + L 1 1 {<font color=#6c3e67>-st</font> wns}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot; RE2&quot;</font> <font color=#6c3e67>-w</font> 4 <font color=#6c3e67>-com</font> ::alited::find::RE2  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Including / excluding\nregular expressions.&quot;</font> <font color=#6c3e67>-style</font> TButtonWestFS}}
    {BtTretry + L 1 1 {<font color=#6c3e67>-st</font> wns <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-com</font> alited::find::btTRetry <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Resize&quot;</font>}}
    {h_2 labBm T 1 6 {<font color=#6c3e67>-st</font> es <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}}
    {seh  + T 1 6  {<font color=#6c3e67>-st</font> ews <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}}
    {chb1 +  T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Match whole word&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c1) <font color=#6c3e67>-style</font> TCheckbuttonFS}}
    {chb2 + T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Match case&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c2) <font color=#6c3e67>-style</font> TCheckbuttonFS}}
    {chb3 + T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Replace by blank&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c3)  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Allows replacements by the empty string,\nin fact, to erase the found ones.&quot;</font>  <font color=#6c3e67>-style</font> TCheckbuttonFS}}
    {sev1 chb1 L 4 1 }
    {rad1 + L 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Up&quot;</font> <font color=#6c3e67>-image</font> alimg_up <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-var</font> ::alited::find::data(v2)  <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-style</font> TRadiobuttonFS}}
    {rad2 +  T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Down&quot;</font> <font color=#6c3e67>-image</font> alimg_down <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-var</font> ::alited::find::data(v2)  <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-style</font> TRadiobuttonFS}}
    {chb4 +  T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-ipady</font> 0 <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Wrap&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c4) <font color=#6c3e67>-style</font> TCheckbuttonFS}}
    {sev2 cbx1 L 9 1}
    {But1 + L 1 1 {<font color=#6c3e67>-st</font> wes <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Find&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;::alited::find::Find 1&quot;</font>  <font color=#6c3e67>-style</font> TButtonWestBoldFS}}
    {But2 + T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;All in text&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;::alited::find::FindInText 2&quot;</font>  <font color=#6c3e67>-style</font> TButtonWestFS}}
    {But3 + T 1 1 {<font color=#6c3e67>-st</font> wen <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;::alited::find::FindInSession add 3&quot;</font>  <font color=#6c3e67>-style</font> TButtonWestFS}}
    {chb + T 2 1 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-t</font> {<font color=#6c3e67>-geometry</font>} <font color=#6c3e67>-var</font> ::alited::find::data(geoDefault)  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Use this geometry of the dialogue\nby default&quot;</font> <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-style</font> TCheckbuttonFS}}
    {but4 + T 1 1 {<font color=#6c3e67>-st</font> wes <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-t</font> Replace <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;::alited::find::Replace&quot;</font>  <font color=#6c3e67>-style</font> TButtonWestBoldFS}}
    {but5 + T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;All in text&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;::alited::find::ReplaceInText&quot;</font>  <font color=#6c3e67>-style</font> TButtonWestFS}}
    {But6 + T 1 1 {<font color=#6c3e67>-st</font> wen <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;::alited::find::ReplaceInSession&quot;</font>  <font color=#6c3e67>-style</font> TButtonWestFS}}
  }
  SessionButtons
  styleButtonRE2
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  alited::keys::BindAllKeys <font color=#1b1baa>$wtxt</font> yes
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;Enter&gt; alited::find::SessionButtons
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; {alited::HelpAlited #search1}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F3&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>w.but1 invoke&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w</font>.cbx1 &lt;Return&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>w.but1 invoke&quot;</font>  ;<i><font color=#4b5d50># hotkeys in comboboxes</font></i>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w</font>.cbx2 &lt;Return&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>w.but4 invoke&quot;</font>
  <b><font color=#3a6797>foreach</font></b> k {f F} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;Control-<font color=#1b1baa>$k</font>&gt; {::alited::find::LastInvoke; <b><font color=#ca14ca>break</font></b>}}
  <b><font color=#3a6797>foreach</font></b> k {r R} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;Control-<font color=#1b1baa>$k</font>&gt; {::alited::find::btTPaste; <b><font color=#ca14ca>break</font></b>}}
  <b><font color=#3a6797>foreach</font></b> k {t T} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;Control-<font color=#1b1baa>$k</font>&gt; <font color=#8b2a0e>&quot;focusByForce <font color=#1b1baa>$</font>wtxt&quot;</font>}
  FocusCbx
  <b><font color=#3a6797>set</font></b> but [<font color=#1b1baa>$obFND</font> But1]
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>winfo</font></b> geometry <font color=#1b1baa>$but</font>] x+] w h
  <b><font color=#3a6797>set</font></b> minw [<b><font color=#3a6797>expr</font></b> {([<b><font color=#134070>winfo</font></b> reqwidth <font color=#1b1baa>$but</font>]+2)*3}]
  <b><font color=#3a6797>set</font></b> minh [<b><font color=#3a6797>expr</font></b> {([<b><font color=#134070>winfo</font></b> reqheight <font color=#1b1baa>$but</font>]+2)*3}]
  <font color=#1b1baa>$obFND</font> showModal <font color=#1b1baa>$win</font>  <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> no <font color=#6c3e67>-onclose</font> alited::find::CloseFind  <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo</font> <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>minw <font color=#1b1baa>$</font>minh&quot;</font> <font color=#6c3e67>-ontop</font> <font color=#1b1baa>$al(topFindRepl)</font>
  ClearTags
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find__run' href="javascript:toggleSource('alited_find__run')">Show source</a></p>
<div id='alited_find__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::_run {} {
  <i><font color=#4b5d50># Runs Find/Replace dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>update</font></b>  ;<i><font color=#4b5d50># if run from menu: there may be unupdated space under it (in some DE)</font></i>
  GetFindEntry
  <b><font color=#3a6797>if</font></b> {[::apave::repaintWindow <font color=#1b1baa>$win</font>]} {
    SessionButtons
    FocusCbx
  } <b><font color=#3a6797>else</font></b> {
    _create
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::btTPaste'>btTPaste</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Copies text from &quot;Find&quot; to &quot;Replace&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>btTPaste</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_btTPaste' href="javascript:toggleSource('alited_find_btTPaste')">Show source</a></p>
<div id='alited_find_btTPaste' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::btTPaste {} {
  <i><font color=#4b5d50># Copies text from &quot;Find&quot; to &quot;Replace&quot; field.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(en1)</font> eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFND</font> Cbx1]
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    [<font color=#1b1baa>$obFND</font> Cbx1] selection clear
    <b><font color=#3a6797>set</font></b> data(en2) <font color=#1b1baa>$data(en1)</font>
    ::apave::CursorAtEnd [<font color=#1b1baa>$obFND</font> Cbx2]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::btTRetry'>btTRetry</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Resizes Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>btTRetry</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_btTRetry' href="javascript:toggleSource('alited_find_btTRetry')">Show source</a></p>
<div id='alited_find_btTRetry' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::btTRetry {} {
  <i><font color=#4b5d50># Resizes Find/Replace dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> geo
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match root* <font color=#1b1baa>$geo</font>]} {
    <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> data(btTRetry)]%2} {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$geo</font> x+] w1 h1 x1 y1
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>winfo</font></b> geometry [<font color=#1b1baa>$obFND</font> But1]] x+] w2 h2
    <b><font color=#3a6797>set</font></b> w  [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$w2</font>+2)*5}] ;<i><font color=#4b5d50># &quot;standard&quot; width</font></i>
    <b><font color=#3a6797>set</font></b> h  [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$h2</font>+2)*7}] ;<i><font color=#4b5d50># &quot;standard&quot; height</font></i>
    <b><font color=#3a6797>set</font></b> sw [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$w1</font>-<font color=#1b1baa>$w</font>}]   ;<i><font color=#4b5d50># shift by X</font></i>
    <b><font color=#3a6797>set</font></b> sh [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$h1</font>-<font color=#1b1baa>$h</font>}]   ;<i><font color=#4b5d50># shift by Y</font></i>
    <b><font color=#3a6797>set</font></b> x  [<b><font color=#3a6797>expr</font></b> {max(1,<font color=#1b1baa>$x1</font>+<font color=#1b1baa>$sw</font>)}]  ;<i><font color=#4b5d50># new X coordinate</font></i>
    <b><font color=#3a6797>set</font></b> y  [<b><font color=#3a6797>expr</font></b> {max(1,<font color=#1b1baa>$y1</font>+<font color=#1b1baa>$sh</font>)}]  ;<i><font color=#4b5d50># new Y coordinate</font></i>
    <i><font color=#4b5d50># set &quot;standard&quot; geometry, starting from the default's right-bottom corner</font></i>
    <b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font> <font color=#1b1baa>${w}</font>x<font color=#1b1baa>${h}</font>+<font color=#1b1baa>$x</font>+<font color=#1b1baa>$y</font>
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># set the default geometry</font></i>
    <b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font> <font color=#1b1baa>$geo</font>
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$geo</font> x+] w1 h1 x y
  }
  <i><font color=#4b5d50># set the mouse pointer on the button</font></i>
  ::apave::MouseOnWidget [<font color=#1b1baa>$obFND</font> BtTretry]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CheckData'>CheckData</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the find/replace data are valid.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckData</span> <span class='ruff_arg'>op</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>op</code></code></td><td class='ruff_defitem'>if &quot;repl&quot;, checks for &quot;Replace&quot; operation</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Return &quot;yes&quot;, if the input data are valid.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_CheckData' href="javascript:toggleSource('alited_find_CheckData')">Show source</a></p>
<div id='alited_find_CheckData' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::CheckData {op} {
  <i><font color=#4b5d50># Checks if the find/replace data are valid.</font></i>
  <i><font color=#4b5d50>#   op - if &quot;repl&quot;, checks for &quot;Replace&quot; operation</font></i>
  <i><font color=#4b5d50># Return &quot;yes&quot;, if the input data are valid.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> data
  <i><font color=#4b5d50># this means &quot;no checks when used outside of the dialogue&quot;:</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$data(docheck)</font>} {<b><font color=#ca14ca>return</font></b> yes}
  <i><font color=#4b5d50># search input data in arrays of combobox values:</font></i>
  <i><font color=#4b5d50># if not found, save the data to the arrays</font></i>
  <b><font color=#3a6797>set</font></b> w <font color=#1b1baa>$win</font>.fra
  <b><font color=#3a6797>set</font></b> foc {}
  <b><font color=#3a6797>foreach</font></b> i {2 1} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> data(en<font color=#1b1baa>$i</font>)] ne {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> f [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] [<b><font color=#3a6797>set</font></b> data(en<font color=#1b1baa>$i</font>)]]]&gt;-1} {
        <b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>lreplace</font></b> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] <font color=#1b1baa>$f</font> <font color=#1b1baa>$f</font>]
      }
      <b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>linsert</font></b> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] 0 [<b><font color=#3a6797>set</font></b> data(en<font color=#1b1baa>$i</font>)]]
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>lreplace</font></b> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] <font color=#1b1baa>$al(INI,maxfind)</font> end]}
      <font color=#1b1baa>$w</font>.cbx<font color=#1b1baa>$i</font> configure <font color=#6c3e67>-values</font> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$i</font>==1 || (<font color=#1b1baa>$op</font> eq <font color=#8b2a0e>&quot;repl&quot;</font> && !<font color=#1b1baa>$data(c3)</font>)} {
      <b><font color=#3a6797>set</font></b> foc <font color=#1b1baa>$w</font>.cbx<font color=#1b1baa>$i</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$foc</font> ne {}} {
    <i><font color=#4b5d50># if find/replace field is empty, let the bell tolls for him</font></i>
    <b><font color=#134070>bell</font></b>
    <b><font color=#134070>focus</font></b> <font color=#1b1baa>$foc</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CheckWord'>CheckWord</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check if the found string is a word, at searching by words,</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckWord</span> <span class='ruff_arg'>wtxt index1 index2 wordonly</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>index1</code></code></td><td class='ruff_defitem'>first index of the found string</td></tr>
<tr><td class='ruff_defitem'><code><code>index2</code></code></td><td class='ruff_defitem'>last index of the found string</td></tr>
<tr><td class='ruff_defitem'><code><code>wordonly</code></code></td><td class='ruff_defitem'>flag &quot;search word only&quot;</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;yes&quot; if the found string is a word.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_CheckWord' href="javascript:toggleSource('alited_find_CheckWord')">Show source</a></p>
<div id='alited_find_CheckWord' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::CheckWord {wtxt index1 index2 wordonly} {
  <i><font color=#4b5d50># Check if the found string is a word, at searching by words,</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   index1 - first index of the found string</font></i>
  <i><font color=#4b5d50>#   index2 - last index of the found string</font></i>
  <i><font color=#4b5d50>#   wordonly - flag &quot;search word only&quot;</font></i>
  <i><font color=#4b5d50># Returns &quot;yes&quot; if the found string is a word.</font></i>

  <b><font color=#3a6797>variable</font></b> adelim
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wordonly</font>} {
    <b><font color=#3a6797>set</font></b> index10 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>index1 - 1c&quot;</font>]
    <b><font color=#3a6797>set</font></b> index20 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>index2 + 1c&quot;</font>]
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$index10</font> <font color=#1b1baa>$index1</font>] ni <font color=#1b1baa>$adelim</font>} {<b><font color=#ca14ca>return</font></b> no}
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$index2</font> <font color=#1b1baa>$index20</font>] ni <font color=#1b1baa>$adelim</font>} {<b><font color=#ca14ca>return</font></b> no}
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ClearTags'>ClearTags</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears find tags in all texts, if Find dialogues are closed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearTags</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_ClearTags' href="javascript:toggleSource('alited_find_ClearTags')">Show source</a></p>
<div id='alited_find_ClearTags' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ClearTags {} {
  <i><font color=#4b5d50># Clears find tags in all texts, if Find dialogues are closed.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> win2
  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>] && ![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win2</font>]} {
    <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
      <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>catch</font></b> {UnsetTags [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CloseFind'>CloseFind</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFind</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_CloseFind' href="javascript:toggleSource('alited_find_CloseFind')">Show source</a></p>
<div id='alited_find_CloseFind' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::CloseFind {args} {
  <i><font color=#4b5d50># Closes Find/Replace dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> geo
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match root=* <font color=#1b1baa>$geo</font>] || <font color=#1b1baa>$data(geoDefault)</font>} {
      <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>] ;<i><font color=#4b5d50># save the new geometry of the dialogue</font></i>
    }
    <b><font color=#3a6797>set</font></b> ::alited::al(topFindRepl) [<b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$win</font> <font color=#6c3e67>-topmost</font>]
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  ClearTags
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CloseFind2'>CloseFind2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes Find by List dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFind2</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_CloseFind2' href="javascript:toggleSource('alited_find_CloseFind2')">Show source</a></p>
<div id='alited_find_CloseFind2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::CloseFind2 {args} {
  <i><font color=#4b5d50># Closes Find by List dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFN2 obFN2
  <b><font color=#3a6797>variable</font></b> geo2
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> win2 <font color=#1b1baa>$al(FN2WINDOW)</font>}]} {
    <b><font color=#3a6797>set</font></b> win2 [<font color=#1b1baa>$obFN2</font> dlgPath]
  }
  <b><font color=#3a6797>set</font></b> geo2 [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win2</font>]
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win2</font>
  <b><font color=#3a6797>unset</font></b> <font color=#6c3e67>-nocomplain</font> al(findSearchByList)
  ClearTags
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::DoFindUnit'>DoFindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs searching units in current text / all texts.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoFindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_DoFindUnit' href="javascript:toggleSource('alited_find_DoFindUnit')">Show source</a></p>
<div id='alited_find_DoFindUnit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::DoFindUnit {} {
  <i><font color=#4b5d50># Runs searching units in current text / all texts.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> ent [<font color=#1b1baa>$obPav</font> CbxFindSTD]
  <b><font color=#3a6797>set</font></b> what [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$ent</font> get]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$what</font> eq {} || [<b><font color=#3a6797>regexp</font></b> {\s} <font color=#1b1baa>$what</font>]} {
    alited::Message [msgcat::mc {Incorrect name for a unit.}] 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(findunitvals)</font> <font color=#1b1baa>$what</font>]]&gt;=0} {
    <b><font color=#3a6797>set</font></b> al(findunitvals) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(findunitvals)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  }
  <b><font color=#3a6797>set</font></b> al(findunitvals) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(findunitvals)</font> 0 <font color=#1b1baa>$what</font>]
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(findunitvals) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(findunitvals)</font> <font color=#1b1baa>$al(FAV,MAXLAST)</font> end]}
  <font color=#1b1baa>$ent</font> configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$al(findunitvals)</font>
  InitShowResults
  <b><font color=#3a6797>set</font></b> n 0
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::main::findunits</font>==1} {
    <b><font color=#3a6797>set</font></b> tabs [TabsToSearch]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tabs [alited::bar::CurrentTabID]
  }
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    alited::main::GetText <font color=#1b1baa>$TID</font> no no
    <b><font color=#3a6797>lassign</font></b> [alited::FgAdditional] fgbr
    <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
      <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$title</font> [<b><font color=#3a6797>string</font></b> last : <font color=#1b1baa>$title</font>]+1 end] ;<i><font color=#4b5d50># pure name, no NS</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#6c3e67>-nocase</font> <font color=#8b2a0e>&quot;*<font color=#1b1baa>$</font>what*&quot;</font> <font color=#1b1baa>$ttl</font>]} {
        <b><font color=#3a6797>set</font></b> tname [alited::bar::TabName <font color=#1b1baa>$TID</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font>} {<b><font color=#3a6797>set</font></b> fg {}} {<b><font color=#3a6797>set</font></b> fg <font color=#1b1baa>$fgbr</font>}
        PutInfo <font color=#1b1baa>$tname</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$title</font> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fg</font>
        <b><font color=#3a6797>incr</font></b> n
      }
    }
  }
  ShowResults [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$n</font> %s <font color=#1b1baa>$what</font>] <font color=#1b1baa>$al(MC,frres1)</font>] {} <font color=#6c3e67>-fg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FillRE2Tex'>FillRE2Tex</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a text field of RE2 dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillRE2Tex</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>the text's index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FillRE2Tex' href="javascript:toggleSource('alited_find_FillRE2Tex')">Show source</a></p>
<div id='alited_find_FillRE2Tex' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FillRE2Tex {idx} {
  <i><font color=#4b5d50># Fills a text field of RE2 dialog.</font></i>
  <i><font color=#4b5d50>#   idx - the text's index</font></i>

  <b><font color=#3a6797>variable</font></b> obRE2
  <b><font color=#3a6797>set</font></b> relist [<b><font color=#3a6797>set</font></b> ::alited::find::<font color=#1b1baa>${idx}</font>RE2]
  <b><font color=#3a6797>set</font></b> tex [<font color=#1b1baa>$obRE2</font> Tex<font color=#1b1baa>$idx</font>]
  <b><font color=#3a6797>foreach</font></b> re <font color=#1b1baa>$relist</font> {
    <font color=#1b1baa>$tex</font> insert end <font color=#1b1baa>$re</font>\n
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Find'>Find</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches one string in a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Find</span> <span class='ruff_arg'>?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (1 means &quot;Find&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if a string is found.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_Find' href="javascript:toggleSource('alited_find_Find')">Show source</a></p>
<div id='alited_find_Find' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Find {{inv -1}} {
  <i><font color=#4b5d50># Searches one string in a current text.</font></i>
  <i><font color=#4b5d50>#   inv - index of a button that was hit (1 means &quot;Find&quot; button)</font></i>
  <i><font color=#4b5d50># Returns yes, if a string is found.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <font color=#1b1baa>$wtxt</font> tag remove sel 1.0 end
  <b><font color=#3a6797>set</font></b> fndlist [Search <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fndlist</font>]} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFND</font> Cbx1]
    NotFoundMessage <font color=#1b1baa>$data(en1)</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>set</font></b> res no
  <b><font color=#3a6797>set</font></b> indexprev [<b><font color=#3a6797>set</font></b> indexnext 0]
  <b><font color=#3a6797>set</font></b> index [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>foreach</font></b> idx12 <font color=#1b1baa>$fndlist</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$idx12</font> index1 index2
    <font color=#1b1baa>$wtxt</font> tag add fndTag <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$index1</font> &lt; <font color=#1b1baa>$index</font>]} {
      <b><font color=#3a6797>set</font></b> indexprev <font color=#1b1baa>$index1</font>
      <b><font color=#3a6797>set</font></b> indp2 <font color=#1b1baa>$index2</font>
    }
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$index</font> &lt; <font color=#1b1baa>$index1</font>] && <font color=#1b1baa>$indexnext</font>==0} {
      <b><font color=#3a6797>set</font></b> indexnext <font color=#1b1baa>$index1</font>
      <b><font color=#3a6797>set</font></b> indn2 <font color=#1b1baa>$index2</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(c4)</font> && <font color=#1b1baa>$data(v2)</font>==1}        {  ;<i><font color=#4b5d50># search backward & wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$indexprev</font>} {<b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fndlist</font> end] indexprev indp2}
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexprev</font>
    <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexprev</font> <font color=#1b1baa>$indp2</font>
    <b><font color=#3a6797>set</font></b> res yes

  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$data(c4)</font> && <font color=#1b1baa>$data(v2)</font>==2}  {  ;<i><font color=#4b5d50># search forward & wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$indexnext</font> || ([<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fndlist</font> end 0]==<font color=#1b1baa>$indexnext</font> && [<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$indexnext</font> == <font color=#1b1baa>$index</font>])} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fndlist</font> 0] indexnext indn2
    }
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexnext</font>
    <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexnext</font> <font color=#1b1baa>$indn2</font>
    <b><font color=#3a6797>set</font></b> res yes

  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$data(c4)</font> &&<font color=#1b1baa>$data(v2)</font>==1}  {  ;<i><font color=#4b5d50># search backward & not wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$indexprev</font>} {
      ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexprev</font>
      <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexprev</font> <font color=#1b1baa>$indp2</font>
      <b><font color=#3a6797>set</font></b> res yes
    }

  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$data(c4)</font> && <font color=#1b1baa>$data(v2)</font>==2} {  ;<i><font color=#4b5d50># search forward & not wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$indexnext</font>} {
      ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexnext</font>
      <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexnext</font> <font color=#1b1baa>$indn2</font>
      <b><font color=#3a6797>set</font></b> res yes
    }
  }
  ::alited::main::CursorPos <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inv</font>&gt;-1} alited::main::HighlightLine
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindAll'>FindAll</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindAll</span> <span class='ruff_arg'>wtxt TID ?tagme?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>tagme</code></code></td><td class='ruff_defitem'>if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot; <i>optional, default</i> <code>add</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FindAll' href="javascript:toggleSource('alited_find_FindAll')">Show source</a></p>
<div id='alited_find_FindAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindAll {wtxt TID {tagme add}} {
  <i><font color=#4b5d50># Searches all strings in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   tagme - if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot;</font></i>

  <b><font color=#3a6797>set</font></b> tname [alited::bar::TabName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>set</font></b> l1 -1
  <b><font color=#3a6797>set</font></b> allfnd [Search <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>foreach</font></b> idx12 <font color=#1b1baa>$allfnd</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$idx12</font> index1 index2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tagme</font> eq {add}} {<font color=#1b1baa>$wtxt</font> tag add fndTag <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>}
    <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$index1</font>)}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l1</font> != <font color=#1b1baa>$l2</font>} {
      <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>index1 linestart&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>index1 lineend&quot;</font>]
      PutInfo <font color=#1b1baa>$tname</font> <font color=#1b1baa>$l2</font> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] <font color=#1b1baa>$TID</font>
      <b><font color=#3a6797>set</font></b> l1 <font color=#1b1baa>$l2</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$allfnd</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindInSession'>FindInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindInSession</span> <span class='ruff_arg'>?tagme? ?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tagme</code></code></td><td class='ruff_defitem'>if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot; <i>optional, default</i> <code>add</code></td></tr>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (3 means &quot;All in session&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FindInSession' href="javascript:toggleSource('alited_find_FindInSession')">Show source</a></p>
<div id='alited_find_FindInSession' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindInSession {{tagme add} {inv -1}} {
  <i><font color=#4b5d50># Searches all strings in a session.</font></i>
  <i><font color=#4b5d50>#   tagme - if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot;</font></i>
  <i><font color=#4b5d50>#   inv - index of a button that was hit (3 means &quot;All in session&quot; button)</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData find]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inv</font>&gt;-1} {<b><font color=#3a6797>set</font></b> data(lastinvoke) <font color=#1b1baa>$inv</font>}
  InitShowResults
  <b><font color=#3a6797>set</font></b> allfnd [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> data(_ERR_) no
  <b><font color=#3a6797>foreach</font></b> tab [TabsToSearch - <font color=#1b1baa>$::alited::al(lifo)</font>] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] curfile wtxt
    <b><font color=#3a6797>lappend</font></b> allfnd {<b><font color=#3a6797>*</font></b>}[FindAll <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$tagme</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(_ERR_)</font>} <b><font color=#ca14ca>break</font></b>
  }
  ShowResults1 <font color=#1b1baa>$allfnd</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindInText'>FindInText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindInText</span> <span class='ruff_arg'>?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (2 means &quot;All in text&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FindInText' href="javascript:toggleSource('alited_find_FindInText')">Show source</a></p>
<div id='alited_find_FindInText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindInText {{inv -1}} {
  <i><font color=#4b5d50># Searches all strings in a current text.</font></i>
  <i><font color=#4b5d50>#   inv - index of a button that was hit (2 means &quot;All in text&quot; button)</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inv</font>&gt;-1} {<b><font color=#3a6797>set</font></b> data(lastinvoke) <font color=#1b1baa>$inv</font>}
  alited::info::Clear
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  ShowResults1 [FindAll <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindNext'>FindNext</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Performs &quot;find next&quot; (F3 key) for the current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindNext</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FindNext' href="javascript:toggleSource('alited_find_FindNext')">Show source</a></p>
<div id='alited_find_FindNext' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindNext {} {
  <i><font color=#4b5d50># Performs &quot;find next&quot; (F3 key) for the current text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  alited::Message {}
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> findInText 1 <font color=#1b1baa>$wtxt</font> {} no] res what
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font> && [<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
    <b><font color=#3a6797>set</font></b> res [Find]  ;<i><font color=#4b5d50># go to the next by &quot;Find&quot;</font></i>
    <b><font color=#3a6797>set</font></b> what <font color=#1b1baa>$data(en1)</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font>} {NotFoundMessage <font color=#1b1baa>$what</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindOptions'>FindOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of search, according to the dialogue's fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindOptions</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FindOptions' href="javascript:toggleSource('alited_find_FindOptions')">Show source</a></p>
<div id='alited_find_FindOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindOptions {wtxt} {
  <i><font color=#4b5d50># Gets options of search, according to the dialogue's fields.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>variable</font></b> data
  UnsetTags <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>set</font></b> options [<b><font color=#3a6797>set</font></b> stopidx {}]
  <b><font color=#3a6797>set</font></b> findstr <font color=#1b1baa>$data(en1)</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$data(c2)</font>} {<b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-nocase</font> }}
  <i><font color=#4b5d50># glob search - through its regexp</font></i>
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$data(v1)</font> {
    2 {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }
      <b><font color=#3a6797>set</font></b> findstr [<b><font color=#3a6797>string</font></b> map {<b><font color=#3a6797>*</font></b> .* ? . . \\. \{ \\\{ \} \\\} ( \\( ) \\) ^ \\^ \$ \\\$ - \\- + \\+} <font color=#1b1baa>$findstr</font>]
    }
    3 {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }}
    <b><font color=#3a6797>default</font></b> {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-exact</font> }}
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$findstr</font> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$options</font>] <font color=#1b1baa>$stopidx</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindReplStr'>FindReplStr</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares a string to find/replace for messages.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindReplStr</span> <span class='ruff_arg'>str</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>string to prepare</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FindReplStr' href="javascript:toggleSource('alited_find_FindReplStr')">Show source</a></p>
<div id='alited_find_FindReplStr' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindReplStr {str} {
  <i><font color=#4b5d50># Prepares a string to find/replace for messages.</font></i>
  <i><font color=#4b5d50>#   str - string to prepare</font></i>

  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$str</font> 0 50]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne <font color=#1b1baa>$str</font>} {<b><font color=#3a6797>append</font></b> res { ...}}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindUnit'>FindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays &quot;Find unit&quot; frame.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FindUnit' href="javascript:toggleSource('alited_find_FindUnit')">Show source</a></p>
<div id='alited_find_FindUnit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindUnit {} {
  <i><font color=#4b5d50># Displays &quot;Find unit&quot; frame.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> ent [<font color=#1b1baa>$obPav</font> CbxFindSTD]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> word [GetWordOfText]] ne {}} {
    <b><font color=#3a6797>set</font></b> al(findunit) <font color=#1b1baa>$word</font>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(isfindunit)] || !<font color=#1b1baa>$al(isfindunit)</font>} {
    <b><font color=#3a6797>set</font></b> al(isfindunit) true
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> FraHead] <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
    <b><font color=#3a6797>foreach</font></b> k {f F} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$ent</font> &lt;Shift-Control-<font color=#1b1baa>$k</font>&gt; {alited::find::DoFindUnit; <b><font color=#ca14ca>break</font></b>}}
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$ent</font> &lt;Return&gt; alited::find::DoFindUnit
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$ent</font> &lt;Escape&gt; {::alited::find::HideFindUnit; <b><font color=#ca14ca>break</font></b>}
  }
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$ent</font>
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>ent selection range 0 end&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FocusCbx'>FocusCbx</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Forces focusing on &quot;Find&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusCbx</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FocusCbx' href="javascript:toggleSource('alited_find_FocusCbx')">Show source</a></p>
<div id='alited_find_FocusCbx' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FocusCbx {} {
  <i><font color=#4b5d50># Forces focusing on &quot;Find&quot; field.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> ismapped <font color=#1b1baa>$win</font>]} {<b><font color=#3a6797>set</font></b> t 1} {<b><font color=#3a6797>set</font></b> t 100}
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after <font color=#1b1baa>$t</font> [<b><font color=#3a6797>list</font></b> alited::find::FocusCbx1 <font color=#1b1baa>$t</font> <font color=#8b2a0e>&quot;wm deiconify <font color=#1b1baa>$</font>win&quot;</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FocusCbx1'>FocusCbx1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Set focus on &quot;Find&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusCbx1</span> <span class='ruff_arg'>?aft? ?deico?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>aft</code></code></td><td class='ruff_defitem'>idle/msec for &quot;after&quot; <i>optional, default</i> <code>idle</code></td></tr>
<tr><td class='ruff_defitem'><code><code>deico</code></code></td><td class='ruff_defitem'>deiconify command; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_FocusCbx1' href="javascript:toggleSource('alited_find_FocusCbx1')">Show source</a></p>
<div id='alited_find_FocusCbx1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FocusCbx1 {{aft idle} {deico {}}} {
  <i><font color=#4b5d50># Set focus on &quot;Find&quot; field.</font></i>
  <i><font color=#4b5d50>#   aft - idle/msec for &quot;after&quot;</font></i>
  <i><font color=#4b5d50>#   deico - deiconify command</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$deico</font>
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obFND</font> Cbx1]
  <b><font color=#3a6797>after</font></b> <font color=#1b1baa>$aft</font> <font color=#8b2a0e>&quot;focus -force <font color=#1b1baa>$</font>cbx; <font color=#1b1baa>$</font>cbx selection range 0 end ; <font color=#1b1baa>$</font>cbx icursor end&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetCommandOfLine'>GetCommandOfLine</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a command from a line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCommandOfLine</span> <span class='ruff_arg'>line idx ?delim? ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>a column of the line</td></tr>
<tr><td class='ruff_defitem'><code><code>delim</code></code></td><td class='ruff_defitem'>list of word delimiters; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_GetCommandOfLine' href="javascript:toggleSource('alited_find_GetCommandOfLine')">Show source</a></p>
<div id='alited_find_GetCommandOfLine' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetCommandOfLine {line idx {delim {}} {mode {}}} {
  <i><font color=#4b5d50># Gets a command from a line.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>
  <i><font color=#4b5d50>#   idx - a column of the line</font></i>
  <i><font color=#4b5d50>#   delim - list of word delimiters</font></i>
  <i><font color=#4b5d50>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#3a6797>variable</font></b> ldelim
  <b><font color=#3a6797>variable</font></b> rdelim
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$delim</font> ne {}} {
    <b><font color=#3a6797>set</font></b> delim1 <font color=#1b1baa>$delim</font>
    <b><font color=#3a6797>set</font></b> delim2 <font color=#1b1baa>$delim</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> delim1 <font color=#1b1baa>$ldelim</font>
    <b><font color=#3a6797>set</font></b> delim2 <font color=#1b1baa>$rdelim</font>
  }
  <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$idx</font> [<b><font color=#3a6797>string</font></b> first . <font color=#1b1baa>$idx</font>]+1 end]]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$i1</font>} {1} {} {
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>] in <font color=#1b1baa>$delim1</font>} {
      <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$i1</font>} {1} {} {
    <b><font color=#3a6797>incr</font></b> i
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>] in <font color=#1b1baa>$delim2</font>} {
      <b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>-1}]
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$mode</font> end] eq <font color=#8b2a0e>&quot;2&quot;</font>} {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$res</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetCommandOfText'>GetCommandOfText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a command under the cursor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCommandOfText</span> <span class='ruff_arg'>wtxt ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_GetCommandOfText' href="javascript:toggleSource('alited_find_GetCommandOfText')">Show source</a></p>
<div id='alited_find_GetCommandOfText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetCommandOfText {wtxt {mode {}}} {
  <i><font color=#4b5d50># Gets a command under the cursor.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string</font></i>

  <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx linestart&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx lineend&quot;</font>]
  <b><font color=#3a6797>list</font></b> [GetCommandOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font> <font color=#8b2a0e>&quot;&quot;</font> <font color=#1b1baa>$mode</font>] <font color=#1b1baa>$idx</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetFindEntry'>GetFindEntry</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a current selection of text to the &quot;Find:&quot; field</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetFindEntry</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_GetFindEntry' href="javascript:toggleSource('alited_find_GetFindEntry')">Show source</a></p>
<div id='alited_find_GetFindEntry' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetFindEntry {} {
  <i><font color=#4b5d50># Puts a current selection of text to the &quot;Find:&quot; field</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtxt</font> get sel.first sel.last]}]} {
    <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx linestart&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx lineend&quot;</font>]
    <b><font color=#3a6797>set</font></b> sel [GetWordOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sel</font> ne {}} {<b><font color=#3a6797>set</font></b> data(en1) <font color=#1b1baa>$sel</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetWordOfLine'>GetWordOfLine</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a word from a line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWordOfLine</span> <span class='ruff_arg'>line idx ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>a column of the line</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_GetWordOfLine' href="javascript:toggleSource('alited_find_GetWordOfLine')">Show source</a></p>
<div id='alited_find_GetWordOfLine' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetWordOfLine {line idx {mode {}}} {
  <i><font color=#4b5d50># Gets a word from a line.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>
  <i><font color=#4b5d50>#   idx - a column of the line</font></i>
  <i><font color=#4b5d50>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#3a6797>variable</font></b> adelim
  <b><font color=#ca14ca>return</font></b> [GetCommandOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font> <font color=#1b1baa>$adelim</font> <font color=#1b1baa>$mode</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetWordOfText'>GetWordOfText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a word of text under the cursor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWordOfText</span> <span class='ruff_arg'>?mode? ?getdollar?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;select&quot;, try to get the word from a line with a selection; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>getdollar</code></code></td><td class='ruff_defitem'>if no word found and the cursor is set on $, get &quot;$&quot; as the word; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'mode' ends with &quot;2&quot;, the result includes a range of found string.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_GetWordOfText' href="javascript:toggleSource('alited_find_GetWordOfText')">Show source</a></p>
<div id='alited_find_GetWordOfText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetWordOfText {{mode {}} {getdollar no}} {
  <i><font color=#4b5d50># Gets a word of text under the cursor.</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;select&quot;, try to get the word from a line with a selection</font></i>
  <i><font color=#4b5d50>#   getdollar - if no word found and the cursor is set on $, get &quot;$&quot; as the word</font></i>
  <i><font color=#4b5d50>#  If 'mode' ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> in {noselect noselect2} ||  [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtxt</font> get sel.first sel.last]}]} {
    <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx linestart&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx lineend&quot;</font>]
    <b><font color=#3a6797>set</font></b> sel [GetWordOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font> <font color=#1b1baa>$mode</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$getdollar</font> && [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$sel</font> 0] eq {}} {
      <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;insert -1 c&quot;</font>]
      <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$idx</font>] eq <font color=#8b2a0e>&quot;\$&quot;</font>} {
        <b><font color=#3a6797>set</font></b> sel <font color=#8b2a0e>&quot;\$ <font color=#1b1baa>[</font>lrange <font color=#1b1baa>$</font>sel 1 end<font color=#1b1baa>]</font>&quot;</font>
      }
    }
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$mode</font> end] eq <font color=#8b2a0e>&quot;2&quot;</font>} {
    <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$sel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$sel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::HelpFind'>HelpFind</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Helps on search by list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpFind</span> <span class='ruff_arg'>suff</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>help's suffix</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_HelpFind' href="javascript:toggleSource('alited_find_HelpFind')">Show source</a></p>
<div id='alited_find_HelpFind' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::HelpFind {suff} {
  <i><font color=#4b5d50># Helps on search by list.</font></i>
  <i><font color=#4b5d50>#   suff - help's suffix</font></i>

  alited::Help [apave::dlgPath] <font color=#1b1baa>$suff</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::HideFindUnit'>HideFindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Hides &quot;Find unit&quot; frame.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HideFindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_HideFindUnit' href="javascript:toggleSource('alited_find_HideFindUnit')">Show source</a></p>
<div id='alited_find_HideFindUnit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::HideFindUnit {} {
  <i><font color=#4b5d50># Hides &quot;Find unit&quot; frame.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(isfindunit) no
  <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> FraHead]
  <b><font color=#134070>focus</font></b> [alited::main::CurrentWTXT]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::InitShowResults'>InitShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears the info list before any search.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitShowResults</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_InitShowResults' href="javascript:toggleSource('alited_find_InitShowResults')">Show source</a></p>
<div id='alited_find_InitShowResults' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::InitShowResults {} {
  <i><font color=#4b5d50># Clears the info list before any search.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  alited::info::Clear
  alited::info::Put <font color=#1b1baa>$al(MC,wait)</font> {} yes yes
  <b><font color=#3a6797>update</font></b>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::LastInvoke'>LastInvoke</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Invokes last Find button that was pressed. If Ctrl-F is pressed inside Find/Replace dialogue, the last pressed Find button will be invoked.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LastInvoke</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_LastInvoke' href="javascript:toggleSource('alited_find_LastInvoke')">Show source</a></p>
<div id='alited_find_LastInvoke' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::LastInvoke {} {
  <i><font color=#4b5d50># Invokes last Find button that was pressed.</font></i>
  <i><font color=#4b5d50># If Ctrl-F is pressed inside Find/Replace dialogue, the last</font></i>
  <i><font color=#4b5d50># pressed Find button will be invoked.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>variable</font></b> data
  [<font color=#1b1baa>$obFND</font> But<font color=#1b1baa>$data(lastinvoke)</font>] invoke
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::LookDecl'>LookDecl</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and runs searching a declaration in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LookDecl</span> <span class='ruff_arg'>?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_LookDecl' href="javascript:toggleSource('alited_find_LookDecl')">Show source</a></p>
<div id='alited_find_LookDecl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::LookDecl {{wtxt {}}} {
  <i><font color=#4b5d50># Prepares and runs searching a declaration in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - the text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># switch to the unit tree: 1st to enable the search, 2nd to show units found & selected</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} alited::tree::SwitchTree
  <b><font color=#3a6797>lassign</font></b> [LookDecl1 <font color=#1b1baa>$wtxt</font> yes] found TID what
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font> eq {}} {
    <i><font color=#4b5d50># if the qualified not found, try to find the non-qualified (first encountered)</font></i>
    <b><font color=#3a6797>lassign</font></b> [LookDecl1 <font color=#1b1baa>$wtxt</font> no] found TID
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font> ne {}} {
    alited::main::SaveVisitInfo
    alited::favor::SkipVisited yes
    alited::bar::BAR <font color=#1b1baa>$TID</font> show
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;  alited::main::FocusText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>found.0 ;  alited::tree::NewSelection ;  alited::main::SaveVisitInfo&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %u <font color=#1b1baa>$what</font>] <font color=#1b1baa>$al(MC,notfndunit)</font>]
    alited::Message <font color=#1b1baa>$msg</font> 4
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::LookDecl1'>LookDecl1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a declaration in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LookDecl1</span> <span class='ruff_arg'>wtxt isNS</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>isNS</code></code></td><td class='ruff_defitem'>flag &quot;search a qualified unit name&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_LookDecl1' href="javascript:toggleSource('alited_find_LookDecl1')">Show source</a></p>
<div id='alited_find_LookDecl1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::LookDecl1 {wtxt isNS} {
  <i><font color=#4b5d50># Searches a declaration in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - the text's path</font></i>
  <i><font color=#4b5d50>#   isNS - flag &quot;search a qualified unit name&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq <font color=#8b2a0e>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]}
  <b><font color=#3a6797>lassign</font></b> [GetCommandOfText <font color=#1b1baa>$wtxt</font>] com1 idx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com1</font> eq {}} {<b><font color=#134070>bell</font></b>; <b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> com2 <font color=#1b1baa>$com1</font>
  <b><font color=#3a6797>set</font></b> withNS [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> last <font color=#8b2a0e>&quot;:&quot;</font> <font color=#1b1baa>$com1</font>]]&gt;-1}]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isNS</font>} {
    <i><font color=#4b5d50># try to find the pure (not qualified) name</font></i>
    <b><font color=#3a6797>set</font></b> com2 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$com1</font> <font color=#1b1baa>$i</font>+1 end]
  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$withNS</font>} {
    <i><font color=#4b5d50># try to get the current unit's namespace</font></i>
    <b><font color=#3a6797>set</font></b> curr [<b><font color=#3a6797>lindex</font></b> [alited::tree::CurrentItemByLine <font color=#1b1baa>$idx</font> yes] 4]
    <b><font color=#3a6797>set</font></b> com2 [<b><font color=#3a6797>string</font></b> cat [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$curr</font> 0 [<b><font color=#3a6797>string</font></b> last <font color=#8b2a0e>&quot;:&quot;</font> <font color=#1b1baa>$curr</font>]] <font color=#1b1baa>$com1</font>]
  }
  <b><font color=#3a6797>set</font></b> tab [alited::bar::CurrentTabID]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isNS</font>} {
    <i><font color=#4b5d50># search a qualified name: beginning from the current tab</font></i>
    <b><font color=#3a6797>set</font></b> tabs [TabsToSearch <font color=#1b1baa>$tab</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$withNS</font>} {<b><font color=#3a6797>set</font></b> what <font color=#8b2a0e>&quot;*<font color=#1b1baa>$</font>com2&quot;</font>} {<b><font color=#3a6797>set</font></b> what <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>com2&quot;</font>}
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># search a non-qualified name: in the current tab only</font></i>
    <b><font color=#3a6797>set</font></b> what <font color=#8b2a0e>&quot;*::<font color=#1b1baa>$</font>com2&quot;</font>
    <b><font color=#3a6797>set</font></b> tabs <font color=#1b1baa>$tab</font>
  }
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    alited::main::GetText <font color=#1b1baa>$TID</font> no no
    <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 ttl l1 l2
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font>} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$what</font> <font color=#1b1baa>$ttl</font>] || [<b><font color=#3a6797>string</font></b> match <font color=#8b2a0e>&quot;*::<font color=#1b1baa>$</font>ttl&quot;</font> <font color=#1b1baa>$com2</font>] || <font color=#1b1baa>$com2</font> eq <font color=#1b1baa>$ttl</font>} {
          <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$what</font>]
        }
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> {} {} [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$what</font> 1 end]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Next'>Next</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Generate F3 key pressing event.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Next</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_Next' href="javascript:toggleSource('alited_find_Next')">Show source</a></p>
<div id='alited_find_Next' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Next {} {
  <i><font color=#4b5d50># Generate F3 key pressing event.</font></i>

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;[alited::pref::BindKey 12 - F3]&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::NextFoundByList'>NextFoundByList</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds next occurence of found strings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NextFoundByList</span> <span class='ruff_arg'>?focusDLG?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>focusDLG</code></code></td><td class='ruff_defitem'>if yes, focuses on &quot;First by List&quot; dialogue, otherwise the text is focused; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_NextFoundByList' href="javascript:toggleSource('alited_find_NextFoundByList')">Show source</a></p>
<div id='alited_find_NextFoundByList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::NextFoundByList {{focusDLG yes}} {
  <i><font color=#4b5d50># Finds next occurence of found strings.</font></i>
  <i><font color=#4b5d50>#   focusDLG - if yes, focuses on &quot;First by List&quot; dialogue, otherwise the text is focused</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFN2 obFN2
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> tag nextrange fndTag 1.0]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos0</font> eq {}} {
    SearchByList_Do no
    <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> tag nextrange fndTag 1.0]
  }
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> nextpos [<font color=#1b1baa>$wtxt</font> tag nextrange fndTag <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos + 1c&quot;</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nextpos</font> eq {}} {<b><font color=#3a6797>set</font></b> nextpos <font color=#1b1baa>$pos0</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nextpos</font> eq {}} {
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    alited::main::FocusText [alited::bar::CurrentTabID] [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$nextpos</font> 0]
    <font color=#1b1baa>$wtxt</font> tag remove sel 1.0 end
    <font color=#1b1baa>$wtxt</font> tag add sel {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$nextpos</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focusDLG</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nextpos</font> eq {}} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFN2</font> Text]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFN2</font> ButDown]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::NotFoundMessage'>NotFoundMessage</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows &quot;not found&quot; message.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NotFoundMessage</span> <span class='ruff_arg'>what</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>what's not found</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_NotFoundMessage' href="javascript:toggleSource('alited_find_NotFoundMessage')">Show source</a></p>
<div id='alited_find_NotFoundMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::NotFoundMessage {what} {
  <i><font color=#4b5d50># Shows &quot;not found&quot; message.</font></i>
  <i><font color=#4b5d50>#   what - what's not found</font></i>

  <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Not found: %s}]
  alited::Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %s <font color=#1b1baa>$what</font>] <font color=#1b1baa>$msg</font>] 4
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::OKRE2'>OKRE2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves data, closes RE2 dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OKRE2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_OKRE2' href="javascript:toggleSource('alited_find_OKRE2')">Show source</a></p>
<div id='alited_find_OKRE2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::OKRE2 {} {
  <i><font color=#4b5d50># Saves data, closes RE2 dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> winRE2
  <b><font color=#3a6797>variable</font></b> obRE2
  <b><font color=#3a6797>variable</font></b> InRE2
  <b><font color=#3a6797>variable</font></b> ExRE2
  <b><font color=#3a6797>variable</font></b> geoRE2
  <b><font color=#3a6797>set</font></b> InRE2 [<b><font color=#3a6797>set</font></b> ExRE2 [<b><font color=#3a6797>list</font></b>]]
  <b><font color=#3a6797>foreach</font></b> idx {In Ex} {
    <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [[<font color=#1b1baa>$obRE2</font> Tex<font color=#1b1baa>$idx</font>] get 1.0 end] \n] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] ne {}} {
        <b><font color=#3a6797>lappend</font></b> <font color=#1b1baa>${idx}</font>RE2 <font color=#1b1baa>$line</font>
        <b><font color=#3a6797>if</font></b> {![skipRE2 <font color=#1b1baa>$line</font>] && ![stopRE2 <font color=#1b1baa>$line</font>] && [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$line</font> foo} err]} {
          alited::Message <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>err : <font color=#1b1baa>$</font>line&quot;</font> 4
          <b><font color=#ca14ca>return</font></b>
        }
      }
    }
  }
  styleButtonRE2
  <b><font color=#3a6797>set</font></b> geoRE2 [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$winRE2</font>]
  <font color=#1b1baa>$obRE2</font> res <font color=#1b1baa>$winRE2</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::PrepareSearchByList'>PrepareSearchByList</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares searched word by list and search options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PrepareSearchByList</span> <span class='ruff_arg'>findstr</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>findstr</code></code></td><td class='ruff_defitem'>searched word</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_PrepareSearchByList' href="javascript:toggleSource('alited_find_PrepareSearchByList')">Show source</a></p>
<div id='alited_find_PrepareSearchByList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::PrepareSearchByList {findstr} {
  <i><font color=#4b5d50># Prepares searched word by list and search options.</font></i>
  <i><font color=#4b5d50>#   findstr - searched word</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(caseSBL)</font>} {<b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-nocase</font> }}
  <i><font color=#4b5d50># glob search - through its regexp</font></i>
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$al(matchSBL)</font> {
    Glob {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }
      <b><font color=#3a6797>set</font></b> findstr [<b><font color=#3a6797>string</font></b> map {<b><font color=#3a6797>*</font></b> .* ? . . \\. \{ \\\{ \} \\\} ( \\( ) \\) ^ \\^ \$ \\\$ - \\- + \\+} <font color=#1b1baa>$findstr</font>]
    }
    RE {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }
    }
    <b><font color=#3a6797>default</font></b> {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-exact</font> }}
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$findstr</font> <font color=#1b1baa>$options</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::PutInfo'>PutInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a message to the info listbox widget, about a line found in a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PutInfo</span> <span class='ruff_arg'>fname line info TID ?fg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line's number</td></tr>
<tr><td class='ruff_defitem'><code><code>info</code></code></td><td class='ruff_defitem'>found info</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID of the file</td></tr>
<tr><td class='ruff_defitem'><code><code>fg</code></code></td><td class='ruff_defitem'>color of the message; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::info::Put" title="info::Put" class='ruff_cmd'>info::Put</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_PutInfo' href="javascript:toggleSource('alited_find_PutInfo')">Show source</a></p>
<div id='alited_find_PutInfo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::PutInfo {fname line info TID {fg {}}} {
  <i><font color=#4b5d50># Puts a message to the info listbox widget, about a line found in a file.</font></i>
  <i><font color=#4b5d50>#   fname - the file's name</font></i>
  <i><font color=#4b5d50>#   line - the line's number</font></i>
  <i><font color=#4b5d50>#   info - found info</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID of the file</font></i>
  <i><font color=#4b5d50>#   fg - color of the message</font></i>
  <i><font color=#4b5d50># See also: info::Put</font></i>

  <b><font color=#3a6797>set</font></b> msg <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>fname  <font color=#1b1baa>$</font>line:  <font color=#1b1baa>$</font>info&quot;</font>
  <b><font color=#3a6797>set</font></b> dat [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$line</font>]
  alited::info::Put <font color=#1b1baa>$msg</font> <font color=#1b1baa>$dat</font> no no no <font color=#1b1baa>$fg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::RE2'>RE2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>RE2 dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RE2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_RE2' href="javascript:toggleSource('alited_find_RE2')">Show source</a></p>
<div id='alited_find_RE2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::RE2 {} {
  <i><font color=#4b5d50># RE2 dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> winRE2
  <b><font color=#3a6797>variable</font></b> obRE2
  <b><font color=#3a6797>variable</font></b> chInRE2
  <b><font color=#3a6797>variable</font></b> chExRE2
  <b><font color=#3a6797>variable</font></b> geoRE2
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$winRE2</font>]} {
    <b><font color=#134070>focus</font></b> <font color=#1b1baa>$winRE2</font>
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obRE2</font> TexIn]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obRE2</font> destroy}
  <b><font color=#3a6797>set</font></b> savInRE2 <font color=#1b1baa>$chInRE2</font>
  <b><font color=#3a6797>set</font></b> savExRE2 <font color=#1b1baa>$chExRE2</font>
  ::apave::APave create <font color=#1b1baa>$obRE2</font> <font color=#1b1baa>$winRE2</font>
  <font color=#1b1baa>$obRE2</font> makeWindow <font color=#1b1baa>$winRE2</font>.fra RE2
  <font color=#1b1baa>$obRE2</font> paveWindow <font color=#1b1baa>$winRE2</font>.fra {
    {h_ - - 1 5}  {chbIn T + 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> {Including RE2:} <font color=#6c3e67>-var</font> ::alited::find::chInRE2}}  {fra1 + T 1 5 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}  {.TexIn - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-h</font> 6 <font color=#6c3e67>-afteridle</font> {alited::find::FillRE2Tex In} <font color=#6c3e67>-tabnext</font> *texEx}}  {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}  {seh3 fra1 T 1 5 {<font color=#6c3e67>-pady</font> 5}}  {chbEx + T 1 5 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> {Excluding RE2:} <font color=#6c3e67>-var</font> ::alited::find::chExRE2}}  {fra2 + T 1 5 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}  {.TexEx - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-h</font> 6 <font color=#6c3e67>-afteridle</font> {alited::find::FillRE2Tex Ex} <font color=#6c3e67>-tabnext</font> *OK}}  {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}  {seh2 fra2 T 1 5 {<font color=#6c3e67>-pady</font> 5}}  {ButHelp + T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Help <font color=#6c3e67>-com</font> {alited::find::HelpFind 3}}}  {h_2 + L 1 2 {<font color=#6c3e67>-st</font> ew}}  {fra3 + L 1 2 {<font color=#6c3e67>-st</font> e}}  {.butOK - - 1 1 {<font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> OK <font color=#6c3e67>-com</font> alited::find::OKRE2}}  {.butCancel + L 1 1 {<font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> {<font color=#1b1baa>$::alited::find::obRE2</font> res <font color=#1b1baa>$::alited::find::winRE2</font> 0}}}  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$winRE2</font> &lt;F1&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obRE2 ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geoRE2</font> eq {}} {<b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-parent <font color=#1b1baa>$</font>al(WIN)&quot;</font>} {<b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>$</font>geoRE2&quot;</font>}
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obRE2</font> showModal <font color=#1b1baa>$winRE2</font> <font color=#6c3e67>-onclose</font> destroy <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obRE2</font> TexIn]  <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {400 200} {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> chInRE2 <font color=#1b1baa>$savInRE2</font>
    <b><font color=#3a6797>set</font></b> chExRE2 <font color=#1b1baa>$savExRE2</font>
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$winRE2</font>}
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obRE2</font> destroy}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Replace'>Replace</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces one string and finds next.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Replace</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_Replace' href="javascript:toggleSource('alited_find_Replace')">Show source</a></p>
<div id='alited_find_Replace' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Replace {} {
  <i><font color=#4b5d50># Replaces one string and finds next.</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData repl]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> isset no
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges sel] idx1 idx2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq <font color=#1b1baa>$idx1</font>} {
    <b><font color=#3a6797>lassign</font></b> [Search1 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>] err fnd
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} <b><font color=#ca14ca>return</font></b>
    <b><font color=#3a6797>foreach</font></b> index1 <font color=#1b1baa>$fnd</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$index1</font> eq <font color=#1b1baa>$pos</font>} {
        <b><font color=#3a6797>set</font></b> isset yes
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isset</font>} Find
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges sel] idx1 idx2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx1</font> ne {} && <font color=#1b1baa>$idx2</font> ne {}} {
    Replace1 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font>
    SetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$idx1</font>
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n 1 %s <font color=#1b1baa>$data(en1)</font> %r <font color=#1b1baa>$data(en2)</font>] <font color=#1b1baa>$::alited::al(MC,frres2)</font>]
    ShowResults <font color=#1b1baa>$msg</font>
    alited::main::UpdateTextGutterTree
  }
  Find
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Replace1'>Replace1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces a string found, possibly using regsub.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Replace1</span> <span class='ruff_arg'>wtxt idx1 idx2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>idx1</code></code></td><td class='ruff_defitem'>starting index of the string</td></tr>
<tr><td class='ruff_defitem'><code><code>idx2</code></code></td><td class='ruff_defitem'>ending index of the string</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_Replace1' href="javascript:toggleSource('alited_find_Replace1')">Show source</a></p>
<div id='alited_find_Replace1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Replace1 {wtxt idx1 idx2} {
  <i><font color=#4b5d50># Replaces a string found, possibly using regsub.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   idx1 - starting index of the string</font></i>
  <i><font color=#4b5d50>#   idx2 - ending index of the string</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(v1)</font>==3} {
    <b><font color=#3a6797>set</font></b> replstr [<b><font color=#3a6797>regsub</font></b> <font color=#1b1baa>$data(en1)</font> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font>] <font color=#1b1baa>$data(en2)</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> replstr <font color=#1b1baa>$data(en2)</font>
  }
  <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font> <font color=#1b1baa>$replstr</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceAll'>ReplaceAll</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces all found strings in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceAll</span> <span class='ruff_arg'>TID wtxt allfnd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>allfnd</code></code></td><td class='ruff_defitem'>list of found strings data (index1, index2)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_ReplaceAll' href="javascript:toggleSource('alited_find_ReplaceAll')">Show source</a></p>
<div id='alited_find_ReplaceAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ReplaceAll {TID wtxt allfnd} {
  <i><font color=#4b5d50># Replaces all found strings in a text.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   allfnd - list of found strings data (index1, index2)</font></i>

  undoIn <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>set</font></b> rn 0
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$allfnd</font>]} {<font color=#1b1baa>$i</font>} {} {
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$rn</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ni [alited::bar::BAR listFlag m]} {
        alited::edit::BackupFile <font color=#1b1baa>$TID</font> orig
      }
    }
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$allfnd</font> <font color=#1b1baa>$i</font>] idx1 idx2
    Replace1 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font>
    <b><font color=#3a6797>incr</font></b> rn
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$rn</font>} {SetCursor <font color=#1b1baa>$wtxt</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$allfnd</font> end 0]}
  undoOut <font color=#1b1baa>$wtxt</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$rn</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceInSession'>ReplaceInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Replace in Session&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceInSession</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_ReplaceInSession' href="javascript:toggleSource('alited_find_ReplaceInSession')">Show source</a></p>
<div id='alited_find_ReplaceInSession' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ReplaceInSession {} {
  <i><font color=#4b5d50># Handles hitting &quot;Replace in Session&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData repl]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag s]]]&gt;1} {
    <b><font color=#3a6797>set</font></b> S <font color=#8b2a0e>&quot; (<font color=#1b1baa>$</font>llen) &quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> S <font color=#8b2a0e>&quot; &quot;</font>
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %s [FindReplStr <font color=#1b1baa>$data(en1)</font>]  %r [FindReplStr <font color=#1b1baa>$data(en2)</font>] %S <font color=#1b1baa>$S</font>] <font color=#1b1baa>$al(MC,frdoit2)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> YES]} {
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> rn 0
  <b><font color=#3a6797>set</font></b> waseditcurr no
  <b><font color=#3a6797>set</font></b> data(_ERR_) no
  <b><font color=#3a6797>foreach</font></b> tab [TabsToSearch - <font color=#1b1baa>$al(lifo)</font>] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] curfile wtxt
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> rdone [ReplaceAll <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> [Search <font color=#1b1baa>$wtxt</font>]]]} {
      ShowResults2 <font color=#1b1baa>$rdone</font> <font color=#1b1baa>$al(MC,frres2)</font> <font color=#1b1baa>$TID</font>
      <b><font color=#3a6797>incr</font></b> rn <font color=#1b1baa>$rdone</font>
      alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq [alited::main::CurrentWTXT]} {
        <b><font color=#3a6797>set</font></b> waseditcurr yes  ;<i><font color=#4b5d50># update the current text's view only</font></i>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(_ERR_)</font>} <b><font color=#ca14ca>break</font></b>
  }
  ShowResults2 <font color=#1b1baa>$rn</font> <font color=#1b1baa>$al(MC,frres3)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$waseditcurr</font>} {
    alited::main::UpdateTextGutterTreeIcons
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$rn</font>} {
    alited::main::UpdateIcons

  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceInText'>ReplaceInText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Replace in Text&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceInText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_ReplaceInText' href="javascript:toggleSource('alited_find_ReplaceInText')">Show source</a></p>
<div id='alited_find_ReplaceInText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ReplaceInText {} {
  <i><font color=#4b5d50># Handles hitting &quot;Replace in Text&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData repl]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName]]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font> %s [FindReplStr <font color=#1b1baa>$data(en1)</font>]  %r [FindReplStr <font color=#1b1baa>$data(en2)</font>]] <font color=#1b1baa>$al(MC,frdoit1)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> YES]} {
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> rn [ReplaceAll <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> [Search <font color=#1b1baa>$wtxt</font>]]
  ShowResults2 <font color=#1b1baa>$rn</font> <font color=#1b1baa>$al(MC,frres2)</font>
  alited::main::UpdateTextGutterTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Search'>Search</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a text for a string to find.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_Search' href="javascript:toggleSource('alited_find_Search')">Show source</a></p>
<div id='alited_find_Search' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Search {wtxt} {
  <i><font color=#4b5d50># Searches a text for a string to find.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> counts
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>variable</font></b> InRE2
  <b><font color=#3a6797>variable</font></b> ExRE2
  <b><font color=#3a6797>variable</font></b> chInRE2
  <b><font color=#3a6797>variable</font></b> chExRE2
  <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>lassign</font></b> [FindOptions <font color=#1b1baa>$wtxt</font>] findstr options
  <b><font color=#3a6797>if</font></b> {![CheckData find]} {<b><font color=#ca14ca>return</font></b> {}}
  <font color=#1b1baa>$obPav</font> set_HighlightedString <font color=#1b1baa>$findstr</font>
  SetTags <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>lassign</font></b> [Search1 <font color=#1b1baa>$wtxt</font> 1.0] err fnd
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> index1 <font color=#1b1baa>$fnd</font> {
    <b><font color=#3a6797>set</font></b> index2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>index1 + <font color=#1b1baa>[</font>lindex <font color=#1b1baa>$</font>counts <font color=#1b1baa>$</font>i<font color=#1b1baa>]</font>c&quot;</font>]
    <b><font color=#3a6797>if</font></b> {[CheckWord <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font> <font color=#1b1baa>$data(c1)</font>]} {
      <b><font color=#3a6797>set</font></b> strfound [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>]
      <b><font color=#3a6797>set</font></b> OK yes
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chExRE2</font>} {
        <b><font color=#3a6797>foreach</font></b> re <font color=#1b1baa>$ExRE2</font> {
          <b><font color=#3a6797>if</font></b> {[stopRE2 <font color=#1b1baa>$re</font>]} <b><font color=#ca14ca>break</font></b>
          <b><font color=#3a6797>if</font></b> {[skipRE2 <font color=#1b1baa>$re</font>]} <b><font color=#ca14ca>continue</font></b>
          <b><font color=#3a6797>set</font></b> err [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> ok [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$re</font> <font color=#1b1baa>$strfound</font>]}]
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font> || <font color=#1b1baa>$ok</font>} {<b><font color=#3a6797>set</font></b> OK no; <b><font color=#ca14ca>break</font></b>} ;<i><font color=#4b5d50># anyone excludes</font></i>
        }
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$OK</font> && <font color=#1b1baa>$chInRE2</font>} {
        <b><font color=#3a6797>foreach</font></b> re <font color=#1b1baa>$InRE2</font> {
          <b><font color=#3a6797>if</font></b> {[stopRE2 <font color=#1b1baa>$re</font>]} <b><font color=#ca14ca>break</font></b>
          <b><font color=#3a6797>if</font></b> {[skipRE2 <font color=#1b1baa>$re</font>]} <b><font color=#ca14ca>continue</font></b>
          <b><font color=#3a6797>set</font></b> OK no
          <b><font color=#3a6797>set</font></b> err [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> ok [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$re</font> <font color=#1b1baa>$strfound</font>]}]
          <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$err</font> && <font color=#1b1baa>$ok</font>} {<b><font color=#3a6797>set</font></b> OK yes; <b><font color=#ca14ca>break</font></b>} ;<i><font color=#4b5d50># anyone includes</font></i>
        }
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$OK</font>} {<b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>]}
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Search1'>Search1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a text from a position for a string to find.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search1</span> <span class='ruff_arg'>wtxt pos</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position to start searching from</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_Search1' href="javascript:toggleSource('alited_find_Search1')">Show source</a></p>
<div id='alited_find_Search1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Search1 {wtxt pos} {
  <i><font color=#4b5d50># Searches a text from a position for a string to find.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   pos - position to start searching from</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>lassign</font></b> [FindOptions <font color=#1b1baa>$wtxt</font>] findstr options
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> fnd [<font color=#1b1baa>$wtxt</font> search {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$options</font> <font color=#6c3e67>-count</font> ::alited::find::counts <font color=#6c3e67>-all</font> -- <font color=#1b1baa>$findstr</font> <font color=#1b1baa>$pos</font>]} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font> <font color=#6c3e67>-ontop</font> yes <font color=#6c3e67>-parent</font> <font color=#1b1baa>$win</font>
    <b><font color=#3a6797>set</font></b> data(_ERR_) yes
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> 1 {}]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> 0 <font color=#1b1baa>$fnd</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList'>SearchByList</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches words by list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_SearchByList' href="javascript:toggleSource('alited_find_SearchByList')">Show source</a></p>
<div id='alited_find_SearchByList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchByList {} {
  <i><font color=#4b5d50># Searches words by list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFN2 obFN2
  <b><font color=#3a6797>set</font></b> al(findSearchByList) {}
  <b><font color=#3a6797>variable</font></b> win2
  <b><font color=#3a6797>variable</font></b> geo2
  <b><font color=#3a6797>set</font></b> head [msgcat::mc { Enter a list of words divided by spaces:}]
  <b><font color=#3a6797>set</font></b> text [::alited::ProcEOL <font color=#1b1baa>$al(listSBL)</font> in]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(matchSBL)</font> eq {}} {<b><font color=#3a6797>set</font></b> al(matchSBL) <font color=#1b1baa>$al(MC,frExact)</font>}
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> catch {<b><font color=#3a6797>set</font></b> ::alited::al(FN2WINDOW) <font color=#1b1baa>$::apave::MODALWINDOW</font>}]
  <b><font color=#3a6797>set</font></b> headfont [<font color=#1b1baa>$obFN2</font> boldDefFont]
  <font color=#1b1baa>$obFN2</font> makeWindow <font color=#1b1baa>$win2</font>.fra [msgcat::mc {Find by List}]
  <font color=#1b1baa>$obFN2</font> paveWindow <font color=#1b1baa>$win2</font>.fra {  {labhead - - 1 5 {} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>head&quot;</font> <font color=#6c3e67>-font</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>headfont&quot;</font>}}  {lab1 + T 1 1 {<font color=#6c3e67>-st</font> en <font color=#6c3e67>-padx</font> 5} {<font color=#6c3e67>-t</font> List:}}  {fra1 + L 1 4 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-rw</font> 1}}  {.Text + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-w</font> 30 <font color=#6c3e67>-h</font> 5 <font color=#6c3e67>-tabnext</font> {*rad1 *CANCEL}}}  {.sbvText + L - - pack}  {seh1 lab1 T 1 5}  {lab2 + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-padx</font> 5} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,frMatch)&quot;</font>}}  {fra2 + L 1 4 {<font color=#6c3e67>-st</font> w}}  {.rad1 - - 1 1 {} {<font color=#6c3e67>-var</font> ::alited::al(matchSBL) <font color=#6c3e67>-value</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,frExact)&quot;</font> <font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,frExact)&quot;</font>}}  {.rad2 + L 1 1 {<font color=#6c3e67>-padx</font> 10} {<font color=#6c3e67>-var</font> ::alited::al(matchSBL) <font color=#6c3e67>-value</font> Glob <font color=#6c3e67>-t</font> Glob}}  {.rad3 + L 1 1 {} {<font color=#6c3e67>-var</font> ::alited::al(matchSBL) <font color=#6c3e67>-value</font> RE <font color=#6c3e67>-t</font> RE}}  {seh2 lab2 T 1 5}  {lab3 + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-padx</font> 5} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,frWord):&quot;</font>}}  {fra3 + L 1 3 {<font color=#6c3e67>-st</font> we}}  {.chb1 - - 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-var</font> ::alited::al(wordonlySBL)}}  {.lab4 + L 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-padx</font> 5} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,frCase):&quot;</font>}}  {.chb2 + L 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-var</font> ::alited::al(caseSBL)}}  {seh3 lab3 T 1 5}  {butHelp + T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> Help <font color=#6c3e67>-com</font> {alited::find::HelpFind 2}}}  {h_ + L 1 1 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-cw</font> 1}}  {butFind + L 1 1 {} {<font color=#6c3e67>-t</font> Find <font color=#6c3e67>-com</font> ::alited::find::SearchByList_Do}}  {ButDown + L 1 1 {} {<font color=#6c3e67>-t</font> {Find Next} <font color=#6c3e67>-com</font> ::alited::find::NextFoundByList}}  {butCancel + L 1 1 {} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> alited::find::CloseFind2}}  }
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obFN2</font> Text]
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$obFN2</font> displayText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$text</font>]
  <b><font color=#3a6797>after</font></b> 300 focus <font color=#1b1baa>$wtxt</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win2</font> &lt;F3&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obFN2 ButDown<font color=#1b1baa>]</font> invoke&quot;</font>
  <font color=#1b1baa>$obFN2</font> showModal <font color=#1b1baa>$win2</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> no <font color=#6c3e67>-onclose</font> alited::find::CloseFind2  <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo2</font> <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {200 200}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList_Do'>SearchByList_Do</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Does searching words by list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList_Do</span> <span class='ruff_arg'>?show?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>show</code></code></td><td class='ruff_defitem'>if yes, shows results; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_SearchByList_Do' href="javascript:toggleSource('alited_find_SearchByList_Do')">Show source</a></p>
<div id='alited_find_SearchByList_Do' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchByList_Do {{show yes}} {
  <i><font color=#4b5d50># Does searching words by list.</font></i>
  <i><font color=#4b5d50>#   show - if yes, shows results</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFN2 obFN2
  <b><font color=#3a6797>variable</font></b> counts
  <b><font color=#3a6797>set</font></b> list [[<font color=#1b1baa>$obFN2</font> Text] get 1.0 end]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> al(listSBL) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$list</font>]] eq {}} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFN2</font> Text]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> found [<b><font color=#3a6797>set</font></b> notfound [<b><font color=#3a6797>list</font></b>]]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> list [<b><font color=#3a6797>string</font></b> map {\n { }} <font color=#1b1baa>$al(listSBL)</font>]
  <b><font color=#3a6797>set</font></b> al(findSearchByList) <font color=#1b1baa>$wtxt</font>
  SetTags <font color=#1b1baa>$wtxt</font>
  UnsetTags <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>foreach</font></b> findword [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$list</font>] {
    <b><font color=#3a6797>lassign</font></b> [PrepareSearchByList <font color=#1b1baa>$findword</font>] findstr options
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> fnd [<font color=#1b1baa>$wtxt</font> search {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$options</font> <font color=#6c3e67>-count</font> ::alited::find::counts <font color=#6c3e67>-all</font> -- <font color=#1b1baa>$findstr</font> 1.0]} err]} {
      alited::Message <font color=#1b1baa>$err</font> 4
      <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fnd</font>]} {
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> wasfound 0]
      <b><font color=#3a6797>foreach</font></b> index1 <font color=#1b1baa>$fnd</font> {
        <b><font color=#3a6797>set</font></b> index2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>index1 + <font color=#1b1baa>[</font>lindex <font color=#1b1baa>$</font>counts <font color=#1b1baa>$</font>i<font color=#1b1baa>]</font>c&quot;</font>]
        <b><font color=#3a6797>if</font></b> {[CheckWord <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font> <font color=#1b1baa>$al(wordonlySBL)</font>]} {
          <b><font color=#3a6797>set</font></b> wasfound 1
          <b><font color=#3a6797>set</font></b> word [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>]
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$found</font> <font color=#1b1baa>$word</font>]==-1} {
            <b><font color=#3a6797>lappend</font></b> found <font color=#1b1baa>$word</font>
          }
          <font color=#1b1baa>$wtxt</font> tag add fndTag <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>
        }
        <b><font color=#3a6797>incr</font></b> i
      }
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$wasfound</font>} {<b><font color=#3a6797>lappend</font></b> notfound <font color=#1b1baa>$findword</font>}
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> notfound <font color=#1b1baa>$findword</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$show</font>} {
    alited::msg ok info <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>msgcat::mc FOUND:<font color=#1b1baa>]</font>\n<font color=#1b1baa>$</font>found\n<font color=#1b1baa>[</font>string repeat _ 50<font color=#1b1baa>]</font> \n\n<font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>NOT FOUND:<font color=#1b1baa>}]</font>\n<font color=#1b1baa>$</font>notfound\n&quot;</font>  <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-w</font> {40 70} <font color=#6c3e67>-h</font> {10 20} <font color=#6c3e67>-resizable</font> 1
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchWordInSession'>SearchWordInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchWordInSession</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_SearchWordInSession' href="javascript:toggleSource('alited_find_SearchWordInSession')">Show source</a></p>
<div id='alited_find_SearchWordInSession' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchWordInSession {} {
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> saven1 <font color=#1b1baa>$data(en1)</font>  ;<i><font color=#4b5d50># field &quot;Find&quot;</font></i>
  <b><font color=#3a6797>set</font></b> savv1 <font color=#1b1baa>$data(v1)</font>    ;<i><font color=#4b5d50># rad &quot;Exact&quot;</font></i>
  <b><font color=#3a6797>set</font></b> savc1 <font color=#1b1baa>$data(c1)</font>    ;<i><font color=#4b5d50># chb &quot;Word only&quot;</font></i>
  <b><font color=#3a6797>set</font></b> savc2 <font color=#1b1baa>$data(c2)</font>    ;<i><font color=#4b5d50># chb &quot;Case Sensitive&quot;</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> data(en1) [GetWordOfText select]] eq <font color=#8b2a0e>&quot;&quot;</font>} {
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtxt</font> get sel.first sel.last]}] || <font color=#1b1baa>$sel</font> eq <font color=#8b2a0e>&quot;&quot;</font>} {
      <b><font color=#3a6797>set</font></b> data(c1) 1
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> data(c1) 0  ;<i><font color=#4b5d50># if selected, let it be looked for (at &quot;not word only&quot;)</font></i>
    }
    <b><font color=#3a6797>set</font></b> data(v1) 1
    <b><font color=#3a6797>set</font></b> data(c2) 1
    <b><font color=#3a6797>set</font></b> data(docheck) no  ;<i><font color=#4b5d50># no checks - no usage of the dialogue's widgets</font></i>
    FindInSession notag
    <b><font color=#3a6797>set</font></b> data(docheck) yes
  }
  <b><font color=#3a6797>set</font></b> data(en1) <font color=#1b1baa>$saven1</font>
  <b><font color=#3a6797>set</font></b> data(v1) <font color=#1b1baa>$savv1</font>
  <b><font color=#3a6797>set</font></b> data(c1) <font color=#1b1baa>$savc1</font>
  <b><font color=#3a6797>set</font></b> data(c2) <font color=#1b1baa>$savc2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SessionButtons'>SessionButtons</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares buttons' label (&quot;in all/selected tabs&quot;).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SessionButtons</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_SessionButtons' href="javascript:toggleSource('alited_find_SessionButtons')">Show source</a></p>
<div id='alited_find_SessionButtons' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SessionButtons {} {
  <i><font color=#4b5d50># Prepares buttons' label (&quot;in all/selected tabs&quot;).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag s]]]&gt;1} {
    <b><font color=#3a6797>set</font></b> btext [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$llen</font>] [msgcat::mc {All in %n Files}]]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> btext [msgcat::mc {All in session}]
  }
  [<font color=#1b1baa>$obFND</font> But3] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$btext</font>
  [<font color=#1b1baa>$obFND</font> But6] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$btext</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SetCursor'>SetCursor</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the cursor in a text after a replacement made.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetCursor</span> <span class='ruff_arg'>wtxt idx1</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>idx1</code></code></td><td class='ruff_defitem'>starting index of the replacement</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_SetCursor' href="javascript:toggleSource('alited_find_SetCursor')">Show source</a></p>
<div id='alited_find_SetCursor' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SetCursor {wtxt idx1} {
  <i><font color=#4b5d50># Sets the cursor in a text after a replacement made.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   idx1 - starting index of the replacement</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> len [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$data(en2)</font>]
  ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>idx1 + <font color=#1b1baa>${</font>len<font color=#1b1baa>}</font>c&quot;</font>]
  ::alited::main::CursorPos <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SetTags'>SetTags</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a tag of found strings to a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTags</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_SetTags' href="javascript:toggleSource('alited_find_SetTags')">Show source</a></p>
<div id='alited_find_SetTags' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SetTags {wtxt} {
  <i><font color=#4b5d50># Adds a tag of found strings to a text widget.</font></i>
  <i><font color=#4b5d50>#   wtxt - path to the text</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$obPav</font> csDark]} {
    <b><font color=#3a6797>set</font></b> fg white
    <b><font color=#3a6797>set</font></b> bg #1c1cff
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> fg black
    <b><font color=#3a6797>set</font></b> bg #8fc7ff
  }
  <font color=#1b1baa>$wtxt</font> tag configure fndTag <font color=#6c3e67>-borderwidth</font> 1 <font color=#6c3e67>-relief</font> raised <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$bg</font>
  <font color=#1b1baa>$wtxt</font> tag lower fndTag sel
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults'>ShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message containing results of a search.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults</span> <span class='ruff_arg'>msg ?TID? ?fg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID where the searches were performed in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fg</code></code></td><td class='ruff_defitem'>color for infobar; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_ShowResults' href="javascript:toggleSource('alited_find_ShowResults')">Show source</a></p>
<div id='alited_find_ShowResults' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ShowResults {msg {TID {}} {fg {}}} {
  <i><font color=#4b5d50># Shows a message containing results of a search.</font></i>
  <i><font color=#4b5d50>#   msg - the message</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID where the searches were performed in</font></i>
  <i><font color=#4b5d50>#   fg - color for infobar</font></i>

  <b><font color=#3a6797>set</font></b> tname [alited::bar::TabName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$tname</font>] <font color=#1b1baa>$msg</font>]
  <i><font color=#4b5d50># results in info list:</font></i>
  alited::info::Put <font color=#1b1baa>$msg</font> {} yes no no <font color=#1b1baa>$fg</font>
  <i><font color=#4b5d50># results in status bar:</font></i>
  alited::Message <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>msg <font color=#1b1baa>[</font>string repeat <font color=#1b1baa>{</font> <font color=#1b1baa>}</font> 40<font color=#1b1baa>]</font>&quot;</font> 3
  <i><font color=#4b5d50># update line numbers of current file, as they are gone after the search</font></i>
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;  alited::main::CursorPos <font color=#1b1baa>[</font>alited::main::CurrentWTXT<font color=#1b1baa>]</font> ;  alited::main::UpdateGutter&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults1'>ShowResults1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message of all found strings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults1</span> <span class='ruff_arg'>allfnd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>allfnd</code></code></td><td class='ruff_defitem'>list of search results</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_ShowResults1' href="javascript:toggleSource('alited_find_ShowResults1')">Show source</a></p>
<div id='alited_find_ShowResults1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ShowResults1 {allfnd} {
  <i><font color=#4b5d50># Shows a message of all found strings.</font></i>
  <i><font color=#4b5d50>#   allfnd - list of search results</font></i>

  <b><font color=#3a6797>variable</font></b> data
  ShowResults [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$allfnd</font>] %s <font color=#1b1baa>$data(en1)</font>] <font color=#1b1baa>$::alited::al(MC,frres1)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults2'>ShowResults2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message of number of found strings (e.g. in a tab).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults2</span> <span class='ruff_arg'>rn msg ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>rn</code></code></td><td class='ruff_defitem'>number of found strings</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message's template</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID where the searches were performed in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_ShowResults2' href="javascript:toggleSource('alited_find_ShowResults2')">Show source</a></p>
<div id='alited_find_ShowResults2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ShowResults2 {rn msg {TID {}}} {
  <i><font color=#4b5d50># Shows a message of number of found strings (e.g. in a tab).</font></i>
  <i><font color=#4b5d50>#   rn - number of found strings</font></i>
  <i><font color=#4b5d50>#   msg - message's template</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID where the searches were performed in</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> tn [alited::bar::TabName <font color=#1b1baa>$TID</font>]
  ShowResults [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$rn</font> %s <font color=#1b1baa>$data(en1)</font> %r <font color=#1b1baa>$data(en2)</font> %f <font color=#1b1baa>$tn</font>] <font color=#1b1baa>$msg</font>] 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::skipRE2'>skipRE2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a RE2 line has to be skipped.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>skipRE2</span> <span class='ruff_arg'>line</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_skipRE2' href="javascript:toggleSource('alited_find_skipRE2')">Show source</a></p>
<div id='alited_find_skipRE2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::skipRE2 {line} {
  <i><font color=#4b5d50># Checks if a RE2 line has to be skipped.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>regexp</font></b> {^\s*[<b><font color=#3a6797>*</font></b>]+[^*]+} <font color=#1b1baa>$line</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::stopRE2'>stopRE2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a text line stops RE2 list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>stopRE2</span> <span class='ruff_arg'>line</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_stopRE2' href="javascript:toggleSource('alited_find_stopRE2')">Show source</a></p>
<div id='alited_find_stopRE2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::stopRE2 {line} {
  <i><font color=#4b5d50># Checks if a text line stops RE2 list.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>regexp</font></b> {^\s*[<b><font color=#3a6797>*</font></b>]+\s*$} <font color=#1b1baa>$line</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::styleButtonRE2'>styleButtonRE2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets RE2 button styled.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>styleButtonRE2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_styleButtonRE2' href="javascript:toggleSource('alited_find_styleButtonRE2')">Show source</a></p>
<div id='alited_find_styleButtonRE2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::styleButtonRE2 {} {
  <i><font color=#4b5d50># Gets RE2 button styled.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>variable</font></b> InRE2
  <b><font color=#3a6797>variable</font></b> ExRE2
  <b><font color=#3a6797>variable</font></b> chInRE2
  <b><font color=#3a6797>variable</font></b> chExRE2
  <b><font color=#3a6797>set</font></b> style TButtonWestFS
  <b><font color=#3a6797>foreach</font></b> idx {In Ex} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ch<font color=#1b1baa>${idx}</font>RE2]} {
      <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>${idx}</font>RE2] {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] ne {}} {
          <b><font color=#3a6797>if</font></b> {[stopRE2 <font color=#1b1baa>$line</font>]} <b><font color=#ca14ca>break</font></b>
          <b><font color=#3a6797>if</font></b> {[skipRE2 <font color=#1b1baa>$line</font>]} <b><font color=#ca14ca>continue</font></b>
          <b><font color=#3a6797>set</font></b> style TButtonRedFS
        }
      }
    }
  }
  [<font color=#1b1baa>$obFND</font> ButRE2] configure <font color=#6c3e67>-style</font> <font color=#1b1baa>$style</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::TabsToSearch'>TabsToSearch</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a list of tabs to search something, beginning from a current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabsToSearch</span> <span class='ruff_arg'>?tab? ?cur1st?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>the current tab; <i>optional, default</i> <code>-</code></td></tr>
<tr><td class='ruff_defitem'><code><code>cur1st</code></code></td><td class='ruff_defitem'>if yes, search first in a current tab; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_TabsToSearch' href="javascript:toggleSource('alited_find_TabsToSearch')">Show source</a></p>
<div id='alited_find_TabsToSearch' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::TabsToSearch {{tab -} {cur1st yes}} {
  <i><font color=#4b5d50># Gets a list of tabs to search something, beginning from a current tab.</font></i>
  <i><font color=#4b5d50>#   tab - the current tab</font></i>
  <i><font color=#4b5d50>#   cur1st - if yes, search first in a current tab</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> eq {-}} {<b><font color=#3a6797>set</font></b> tab [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>set</font></b> tabs [alited::SessionList]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cur1st</font> && [<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$tab</font>]]&gt;0} {
    <b><font color=#3a6797>set</font></b> tabs [<b><font color=#3a6797>linsert</font></b> [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>] 0 <font color=#1b1baa>$tab</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tabs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::UnsetTags'>UnsetTags</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears the text of the find tag.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnsetTags</span> <span class='ruff_arg'>?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_find_UnsetTags' href="javascript:toggleSource('alited_find_UnsetTags')">Show source</a></p>
<div id='alited_find_UnsetTags' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::UnsetTags {{wtxt {}}} {
  <i><font color=#4b5d50># Clears the text of the find tag.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {<b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]}
  <font color=#1b1baa>$wtxt</font> tag remove fndTag 1.0 end
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::format'></a>::alited::format<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::format-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::format::AfterFormatting'>AfterFormatting</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions after formatting: replace &amp; update all &amp; select the formatted stuff.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterFormatting</span> <span class='ruff_arg'>wtxt pos1 pos2 value</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>1st position formatted</td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>last position formatted</td></tr>
<tr><td class='ruff_defitem'><code><code>value</code></code></td><td class='ruff_defitem'>content formatted</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::format::BeforeFormatting" title="BeforeFormatting" class='ruff_cmd'>BeforeFormatting</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_AfterFormatting' href="javascript:toggleSource('alited_format_AfterFormatting')">Show source</a></p>
<div id='alited_format_AfterFormatting' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::AfterFormatting {wtxt pos1 pos2 value} {
  <i><font color=#4b5d50># Actions after formatting:</font></i>
  <i><font color=#4b5d50># replace & update all & select the formatted stuff.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   pos1 - 1st position formatted</font></i>
  <i><font color=#4b5d50>#   pos2 - last position formatted</font></i>
  <i><font color=#4b5d50>#   value - content formatted</font></i>
  <i><font color=#4b5d50># See also: BeforeFormatting</font></i>

  <b><font color=#3a6797>variable</font></b> valueOrig
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$valueOrig</font> ne <font color=#1b1baa>$value</font>} {
    <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font> <font color=#1b1baa>$value</font>
  }
  alited::main::UpdateAll
  focusByForce <font color=#1b1baa>$wtxt</font>
  <font color=#1b1baa>$wtxt</font> tag remove sel 1.0
  <b><font color=#3a6797>set</font></b> nch [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$value</font>]
  <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$pos1</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos1 +<font color=#1b1baa>$</font>nch chars&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::BeforeFormatting'>BeforeFormatting</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets option for formatting - text's path, selected text and positions to process.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BeforeFormatting</span> <span class='ruff_arg'>?islines?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>islines</code></code></td><td class='ruff_defitem'>yes, if positions are lines' start and end; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Also, sets valueOrig to the original contents of selected text.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::format::AfterFormatting" title="AfterFormatting" class='ruff_cmd'>AfterFormatting</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_BeforeFormatting' href="javascript:toggleSource('alited_format_BeforeFormatting')">Show source</a></p>
<div id='alited_format_BeforeFormatting' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::BeforeFormatting {{islines no}} {
  <i><font color=#4b5d50># Gets option for formatting - text's path, selected text and positions to process.</font></i>
  <i><font color=#4b5d50>#   islines - yes, if positions are lines' start and end</font></i>
  <i><font color=#4b5d50># Also, sets valueOrig to the original contents of selected text.</font></i>
  <i><font color=#4b5d50># See also: AfterFormatting</font></i>

  <b><font color=#3a6797>variable</font></b> valueOrig
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtxt</font> tag ranges sel]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]]&gt;2} {
    alited::Message {Applied to one selection only!} 4
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>} {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$selection</font> pos1 pos2
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$pos2</font> == [<font color=#1b1baa>$wtxt</font> index end]]} {
      <b><font color=#3a6797>set</font></b> pos2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos2 -1c&quot;</font>]
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
    <b><font color=#3a6797>set</font></b> pos1 <font color=#1b1baa>$pos</font>.0
    <b><font color=#3a6797>set</font></b> pos2 <font color=#1b1baa>$pos</font>.end
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$islines</font>} {
    <b><font color=#3a6797>set</font></b> pos1 [::apave::pint <font color=#1b1baa>$pos1</font>].0
    <b><font color=#3a6797>set</font></b> pos2 [::apave::pint <font color=#1b1baa>$pos2</font>].end
  }
  <b><font color=#3a6797>set</font></b> valueOrig [<b><font color=#3a6797>set</font></b> value [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>]]
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$value</font> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles pressing Cancel button of Move Descriptions dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Cancel' href="javascript:toggleSource('alited_format_Cancel')">Show source</a></p>
<div id='alited_format_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Cancel {} {
  <i><font color=#4b5d50># Handles pressing Cancel button of Move Descriptions dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::ChangeTo'>ChangeTo</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>At changing the direction, fills 2 texts with &quot;from/to&quot; examples.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChangeTo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_ChangeTo' href="javascript:toggleSource('alited_format_ChangeTo')">Show source</a></p>
<div id='alited_format_ChangeTo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::ChangeTo {} {
  <i><font color=#4b5d50># At changing the direction, fills 2 texts with &quot;from/to&quot; examples.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$da(dir)</font>==1} {
    <b><font color=#3a6797>set</font></b> da(separSav2) <font color=#1b1baa>$da(separ)</font>
    <b><font color=#3a6797>set</font></b> da(separ) <font color=#1b1baa>$da(separSav1)</font>
    <b><font color=#3a6797>set</font></b> img alimg_up-big
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> da(separSav1) <font color=#1b1baa>$da(separ)</font>
    <b><font color=#3a6797>set</font></b> da(separ) <font color=#1b1baa>$da(separSav2)</font>
    <b><font color=#3a6797>set</font></b> img alimg_down-big
  }
  ::apave::blinkWidgetImage [<font color=#1b1baa>$obDl2</font> LabFromTo] <font color=#1b1baa>$img</font>
  ShowUnitDesc
  Re_FgColor
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::CheckOk'>CheckOk</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check options of Move Descriptions dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckOk</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_CheckOk' href="javascript:toggleSource('alited_format_CheckOk')">Show source</a></p>
<div id='alited_format_CheckOk' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::CheckOk {} {
  <i><font color=#4b5d50># Check options of Move Descriptions dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>set</font></b> res yes
  <b><font color=#3a6797>set</font></b> REleaf [LeafRE]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$da(dir)</font>==1} {
    <i><font color=#4b5d50># move from inside to out</font></i>
    <b><font color=#3a6797>lassign</font></b> [Separ1 <font color=#1b1baa>$da(separ)</font>] separ
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$REleaf</font> <font color=#1b1baa>$separ</font>]} {
      <b><font color=#3a6797>set</font></b> err [msgcat::mc <font color=#8b2a0e>&quot;The separator doesn't match to the regexp:\n\n  &quot;</font>]
      <b><font color=#3a6797>append</font></b> err <font color=#8b2a0e>&quot;\&quot;<font color=#1b1baa>$</font>REleaf\&quot;&quot;</font>
      <b><font color=#3a6797>set</font></b> res no
    }
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>regexp</font></b> {[Nn]} <font color=#1b1baa>$da(separ)</font>]} {
      <b><font color=#3a6797>set</font></b> err {Separator must contain <font color=#8b2a0e>&quot;n&quot;</font> or <font color=#8b2a0e>&quot;N&quot;</font> for unit name!}
      <b><font color=#3a6797>set</font></b> res no
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$da(separ)</font>] ne {} && ![<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$da(separ)</font>]} {
      <b><font color=#3a6797>set</font></b> err <font color=#8b2a0e>&quot;The separator should be Tcl comment!&quot;</font>
      <b><font color=#3a6797>set</font></b> res no
      <b><font color=#3a6797>set</font></b> da(separ) #<font color=#1b1baa>$da(separ)</font>
    }
  }
  <b><font color=#3a6797>set</font></b> da(separSav<font color=#1b1baa>$da(dir)</font>) <font color=#1b1baa>$da(separ)</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font>} {
    <b><font color=#134070>bell</font></b>
    [<font color=#1b1baa>$obDl2</font> Tex1] replace 1.0 end <font color=#8b2a0e>&quot;\n#! <font color=#1b1baa>[</font>msgcat::mc ERROR<font color=#1b1baa>]</font>:\n#!\n#! <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>$</font>err<font color=#1b1baa>]</font>&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> && <font color=#1b1baa>$da(what)</font>==2 &&  ![alited::msg yesno ques {Were all files properly backed up?}]} {
    <b><font color=#ca14ca>return</font></b> 0
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    alited::info::Put {}
    alited::ProcessFiles alited::InitUnitTree <font color=#1b1baa>$da(what)</font>
    <b><font color=#3a6797>set</font></b> lfRE [alited::unit::IsLeafRegexp]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$da(dir)</font>==1 && <font color=#1b1baa>$lfRE</font> || <font color=#1b1baa>$da(dir)</font>==2 && !<font color=#1b1baa>$lfRE</font>} {
      <b><font color=#3a6797>set</font></b> al(prjuseleafRE) [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$lfRE</font>}]
      <b><font color=#3a6797>set</font></b> al(prjleafRE) <font color=#1b1baa>$REleaf</font>
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;PROJECT OPTION \&quot;Use leaf's regexp\&quot; SWITCHED TEMPORARILY TO &quot;</font>]
      <b><font color=#3a6797>append</font></b> msg <font color=#8b2a0e>&quot;\&quot;<font color=#1b1baa>$</font>al(prjuseleafRE)\&quot;&quot;</font>
      alited::info::Put <font color=#1b1baa>$msg</font> {} yes
      <b><font color=#3a6797>set</font></b> da(RE_SWITCHED) 1
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> da(RE_SWITCHED) 0
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::CreateFormatIcon'>CreateFormatIcon</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Create icon of formatter in toolbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateFormatIcon</span> <span class='ruff_arg'>icon sep com fform</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon name</td></tr>
<tr><td class='ruff_defitem'><code><code>sep</code></code></td><td class='ruff_defitem'>true if separated</td></tr>
<tr><td class='ruff_defitem'><code><code>com</code></code></td><td class='ruff_defitem'>command</td></tr>
<tr><td class='ruff_defitem'><code><code>fform</code></code></td><td class='ruff_defitem'>formatter file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_CreateFormatIcon' href="javascript:toggleSource('alited_format_CreateFormatIcon')">Show source</a></p>
<div id='alited_format_CreateFormatIcon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::CreateFormatIcon {icon sep com fform} {
  <i><font color=#4b5d50># Create icon of formatter in toolbar.</font></i>
  <i><font color=#4b5d50>#   icon - icon name</font></i>
  <i><font color=#4b5d50>#   sep - true if separated</font></i>
  <i><font color=#4b5d50>#   com - command</font></i>
  <i><font color=#4b5d50>#   fform - formatter file name</font></i>

  <b><font color=#3a6797>variable</font></b> icon6
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists icon6(<font color=#1b1baa>$icon</font>)]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> icon6(<font color=#1b1baa>$icon</font>) 1
  <b><font color=#3a6797>set</font></b> but [alited::tool::ToolButName <font color=#1b1baa>$icon</font>]_2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sep</font>} {
    <b><font color=#3a6797>set</font></b> separ [<b><font color=#134070>ttk::separator</font></b> <font color=#1b1baa>${but}</font>_sep <font color=#6c3e67>-orient</font> vertical]
    <b><font color=#134070>pack</font></b> <font color=#1b1baa>$separ</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 6
  }
  <b><font color=#3a6797>lassign</font></b> [obj csGet] fga fg bga bg
  <b><font color=#3a6797>set</font></b> fontB [obj boldTextFont 16]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> img [alited::ini::CreateIcon <font color=#1b1baa>$icon</font>]-big; <b><font color=#134070>image</font></b> inuse <font color=#1b1baa>$img</font>}]} {
    <b><font color=#3a6797>set</font></b> txt <font color=#1b1baa>$icon</font>
    <b><font color=#3a6797>set</font></b> istext 1
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> txt {}
    <b><font color=#3a6797>set</font></b> istext 0
  }
  <b><font color=#3a6797>set</font></b> attrs [obj toolbarItem_Attrs <font color=#1b1baa>$istext</font> <font color=#1b1baa>$img</font> <font color=#1b1baa>$fontB</font> <font color=#1b1baa>$fg</font> <font color=#1b1baa>$bg</font> <font color=#1b1baa>$fga</font> <font color=#1b1baa>$bga</font>]
  <b><font color=#134070>button</font></b> <font color=#1b1baa>$but</font> <font color=#6c3e67>-text</font> <font color=#1b1baa>$txt</font> <font color=#6c3e67>-command</font> <font color=#1b1baa>$com</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$attrs</font>
  ::baltip tip <font color=#1b1baa>$but</font> [msgcat::mc Pluginable]\n[alited::menu::FormatsItemName <font color=#1b1baa>$fform</font>]
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$but</font> &lt;Button-3&gt; {alited::tool::PopupBar %X %Y}
  <b><font color=#134070>pack</font></b> <font color=#1b1baa>$but</font> <font color=#6c3e67>-side</font> left
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::EventOK'>EventOK</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if an event is correct (not overlap alited key mapping).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EventOK</span> <span class='ruff_arg'>fullformname fform ev wasacc</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fullformname</code></code></td><td class='ruff_defitem'>full path to formatter</td></tr>
<tr><td class='ruff_defitem'><code><code>fform</code></code></td><td class='ruff_defitem'>formatter's name</td></tr>
<tr><td class='ruff_defitem'><code><code>ev</code></code></td><td class='ruff_defitem'>the event</td></tr>
<tr><td class='ruff_defitem'><code><code>wasacc</code></code></td><td class='ruff_defitem'>if true, -accelerator of <code>$fform</code> menu item was made</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_EventOK' href="javascript:toggleSource('alited_format_EventOK')">Show source</a></p>
<div id='alited_format_EventOK' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::EventOK {fullformname fform ev wasacc} {
  <i><font color=#4b5d50># Checks if an event is correct (not overlap alited key mapping).</font></i>
  <i><font color=#4b5d50>#   fullformname - full path to formatter</font></i>
  <i><font color=#4b5d50>#   fform - formatter's name</font></i>
  <i><font color=#4b5d50>#   ev - the event</font></i>
  <i><font color=#4b5d50>#   wasacc - if true, -accelerator of $fform menu item was made</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> cont6
  <b><font color=#3a6797>set</font></b> ev2 [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$ev</font> &lt;&gt;]
  <b><font color=#3a6797>set</font></b> keys [alited::keys::EngagedList]
  <b><font color=#3a6797>lappend</font></b> keys {<b><font color=#3a6797>*</font></b>}[alited::keys::ReservedList]
  <b><font color=#3a6797>foreach</font></b> key <font color=#1b1baa>$keys</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$key</font> ev1
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ev1</font> eq <font color=#1b1baa>$ev2</font>} {
      <b><font color=#3a6797>set</font></b> mitem [alited::menu::FormatsItemName <font color=#1b1baa>$fform</font>]
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc {%e is overlapped by formatter <font color=#8b2a0e>&quot;%f&quot;</font>}]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %e <font color=#1b1baa>$ev</font> %f <font color=#1b1baa>$mitem</font>] <font color=#1b1baa>$msg</font>]
      alited::MessageError <font color=#1b1baa>$msg</font>
      <b><font color=#ca14ca>return</font></b> no
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$wasacc</font>} {
    <i><font color=#4b5d50># add -accelerator to Formats menu item of $fform</font></i>
    <b><font color=#3a6797>set</font></b> mnu <font color=#1b1baa>$al(MENUFORMATS)</font>
    <b><font color=#3a6797>set</font></b> itemttl [alited::menu::FormatsItemName <font color=#1b1baa>$fform</font>]
    alited::edit::PluginAccelerator <font color=#1b1baa>$mnu</font> <font color=#1b1baa>$itemttl</font> <font color=#1b1baa>$ev2</font>
  }
  <b><font color=#3a6797>set</font></b> al(FORMATS,<font color=#1b1baa>$fform</font>,<font color=#1b1baa>$ev2</font>) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fullformname</font> <font color=#1b1baa>$ev2</font>]
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Help&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Help' href="javascript:toggleSource('alited_format_Help')">Show source</a></p>
<div id='alited_format_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Help {} {
  <i><font color=#4b5d50># Handles &quot;Help&quot; button.</font></i>

  alited::Help <font color=#1b1baa>$::alited::format::win</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::LeafRE'>LeafRE</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the chosen leaf's RE (current or standard, seen by the user).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LeafRE</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_LeafRE' href="javascript:toggleSource('alited_format_LeafRE')">Show source</a></p>
<div id='alited_format_LeafRE' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::LeafRE {} {
  <i><font color=#4b5d50># Gets the chosen leaf's RE (current or standard, seen by the user).</font></i>

  <b><font color=#ca14ca>return</font></b> [[<font color=#1b1baa>$::alited::obDl2</font> LabRE2] cget <font color=#6c3e67>-text</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Mode1'>Mode1</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Maps selection by pairs taken from config.file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mode1</span> <span class='ruff_arg'>cont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of config.file's lines (pairs from-to)</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Mode1' href="javascript:toggleSource('alited_format_Mode1')">Show source</a></p>
<div id='alited_format_Mode1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Mode1 {cont args} {
  <i><font color=#4b5d50># Maps selection by pairs taken from config.file.</font></i>
  <i><font color=#4b5d50>#   cont - list of config.file's lines (pairs from-to)</font></i>

  <b><font color=#3a6797>lassign</font></b> [BeforeFormatting] wtxt value pos1 pos2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># check the list of mapping</font></i>
  <b><font color=#3a6797>set</font></b> prevlist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>]]
    <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>==1 || <font color=#1b1baa>$llen</font>&gt;2} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;Incorrect mapped 'from-to' in: %l&quot;</font>]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %l <font color=#1b1baa>$line</font>] <font color=#1b1baa>$msg</font>]
      alited::Message <font color=#1b1baa>$msg</font> 4
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$llen</font>} {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$line</font> from to
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 1 <font color=#1b1baa>$prevlist</font> <font color=#1b1baa>$from</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&gt;=0} {
        <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;'from' refers to previous 'to' in: %l (see: %n)&quot;</font>]
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %l <font color=#1b1baa>$line</font> %n [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prevlist</font> <font color=#1b1baa>$i</font>]] <font color=#1b1baa>$msg</font>]
        alited::Message <font color=#1b1baa>$msg</font> 4
      }
      <b><font color=#3a6797>lappend</font></b> prevlist <font color=#1b1baa>$line</font>
    }
  }
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>]]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$line</font>]==2} {
        <b><font color=#3a6797>set</font></b> value [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$line</font> <font color=#1b1baa>$value</font>]
      }
    } e]} <b><font color=#3a6797>then</font></b> {
      alited::Message <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>e (<font color=#1b1baa>$</font>line)&quot;</font> 3
    }
  }
  AfterFormatting <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font> <font color=#1b1baa>$value</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Mode2'>Mode2</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Applies a command to selection/current line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mode2</span> <span class='ruff_arg'>cont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of config.file's lines</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Mode2' href="javascript:toggleSource('alited_format_Mode2')">Show source</a></p>
<div id='alited_format_Mode2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Mode2 {cont args} {
  <i><font color=#4b5d50># Applies a command to selection/current line.</font></i>
  <i><font color=#4b5d50>#   cont - list of config.file's lines</font></i>

  <b><font color=#3a6797>lassign</font></b> [BeforeFormatting] wtxt value pos1 pos2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> err 0
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> com [alited::edit::IniParameter command <font color=#1b1baa>$line</font>]] ne {}} {
      <b><font color=#3a6797>set</font></b> value [alited::edit::EscapeValue <font color=#1b1baa>$value</font>]
      <b><font color=#3a6797>set</font></b> com [alited::Map <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$com</font> %v <font color=#1b1baa>$value</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> value [<b><font color=#3a6797>eval</font></b> <font color=#1b1baa>$com</font>]} e]} {
        alited::Message <font color=#1b1baa>$e</font> 4
        <b><font color=#3a6797>set</font></b> err 1
        <b><font color=#ca14ca>break</font></b>
      }
      <b><font color=#3a6797>set</font></b> value [alited::edit::UnEscapeValue <font color=#1b1baa>$value</font>]
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$err</font>} {AfterFormatting <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font> <font color=#1b1baa>$value</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Mode3'>Mode3</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Applies command(s) to lines of selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mode3</span> <span class='ruff_arg'>cont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of config.file's lines</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Mode3' href="javascript:toggleSource('alited_format_Mode3')">Show source</a></p>
<div id='alited_format_Mode3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Mode3 {cont args} {
  <i><font color=#4b5d50># Applies command(s) to lines of selection.</font></i>
  <i><font color=#4b5d50>#   cont - list of config.file's lines</font></i>

  <b><font color=#3a6797>lassign</font></b> [BeforeFormatting yes] wtxt value pos1 pos2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> value [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$value</font> \n]
  <b><font color=#3a6797>set</font></b> err 0
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> com [alited::edit::IniParameter command <font color=#1b1baa>$line</font>]] ne {}} {
      <b><font color=#3a6797>set</font></b> com [alited::Map {} <font color=#1b1baa>$com</font> %v <font color=#1b1baa>$value</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> value [<b><font color=#3a6797>eval</font></b> <font color=#1b1baa>$com</font>]} e]} {
        alited::Message <font color=#1b1baa>$e</font> 4
        <b><font color=#3a6797>set</font></b> err 1
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$err</font>} {
    <b><font color=#3a6797>set</font></b> resvalue {}
    <b><font color=#3a6797>set</font></b> was no
    <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$value</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$was</font>} {<b><font color=#3a6797>append</font></b> resvalue \n}
      <b><font color=#3a6797>append</font></b> resvalue <font color=#1b1baa>$line</font>
      <b><font color=#3a6797>set</font></b> was yes
    }
    AfterFormatting <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font> <font color=#1b1baa>$resvalue</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Mode4'>Mode4</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Applies external command(s) to selection or lines of selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mode4</span> <span class='ruff_arg'>cont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of config.file's lines</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The selection (or lines of selection) is saved to a temporary file that is processed by commands.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Mode4' href="javascript:toggleSource('alited_format_Mode4')">Show source</a></p>
<div id='alited_format_Mode4' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Mode4 {cont args} {
  <i><font color=#4b5d50># Applies external command(s) to selection or lines of selection.</font></i>
  <i><font color=#4b5d50>#   cont - list of config.file's lines</font></i>
  <i><font color=#4b5d50># The selection (or lines of selection) is saved to a temporary file</font></i>
  <i><font color=#4b5d50># that is processed by commands.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> valueSel
  <b><font color=#3a6797>variable</font></b> valueLines
  <b><font color=#3a6797>lassign</font></b> [BeforeFormatting] wtxt valueSel
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>lassign</font></b> [BeforeFormatting yes] wtxt valueLines
  <b><font color=#3a6797>set</font></b> comcount 0
  <b><font color=#3a6797>set</font></b> tmpname [alited::TmpFile FORMAT~]
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>set</font></b> com {}
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> comu [alited::edit::IniParameter Unix,Linux <font color=#1b1baa>$line</font>]] ne {}} {
      <b><font color=#3a6797>if</font></b> {[::isunix]} {
        <b><font color=#3a6797>set</font></b> com <font color=#1b1baa>$comu</font>
        <b><font color=#3a6797>incr</font></b> comcount
      }
    } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>set</font></b> comw [alited::edit::IniParameter Windows <font color=#1b1baa>$line</font>]] ne {}} {
      <b><font color=#3a6797>if</font></b> {[::iswindows]} {
        <b><font color=#3a6797>set</font></b> com <font color=#1b1baa>$comu</font>
        <b><font color=#3a6797>incr</font></b> comcount
      }
    } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>set</font></b> com [alited::edit::IniParameter Command <font color=#1b1baa>$line</font>]] ne {}} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$comcount</font>} <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
      <b><font color=#3a6797>set</font></b> com [alited::MapWildCards <font color=#1b1baa>$com</font>]
      <i><font color=#4b5d50>#   %S - file name for saved selection</font></i>
      <i><font color=#4b5d50>#   %L - file name for saved lines of selection</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first %S <font color=#1b1baa>$com</font>]&gt;=0 && <font color=#1b1baa>$valueSel</font> ne {}} {
        writeTextFile <font color=#1b1baa>$tmpname</font> ::alited::format::valueSel
      } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> first %L <font color=#1b1baa>$com</font>]&gt;=0 && <font color=#1b1baa>$valueLines</font> ne {}} {
        writeTextFile <font color=#1b1baa>$tmpname</font> ::alited::format::valueLines
      }
      <b><font color=#3a6797>set</font></b> com [alited::Map <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$com</font> %S <font color=#1b1baa>$tmpname</font> %L <font color=#1b1baa>$tmpname</font>]
      alited::tool::Run_in_e_menu <font color=#1b1baa>$com</font>
    }
  }
  alited::FocusText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Mode5'>Mode5</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a string at the current cursor position. Or does something without changing the text (if commands return &quot;&quot;).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mode5</span> <span class='ruff_arg'>cont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of config.file's lines or variable name containing it</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains the edited file name etc.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Mode5' href="javascript:toggleSource('alited_format_Mode5')">Show source</a></p>
<div id='alited_format_Mode5' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Mode5 {cont args} {
  <i><font color=#4b5d50># Inserts a string at the current cursor position.</font></i>
  <i><font color=#4b5d50># Or does something without changing the text (if commands return &quot;&quot;).</font></i>
  <i><font color=#4b5d50>#   cont - list of config.file's lines or variable name containing it</font></i>
  <i><font color=#4b5d50>#   args - contains the edited file name etc.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DIR DIR
  <b><font color=#3a6797>lassign</font></b> [BeforeFormatting] wtxt value
  <b><font color=#3a6797>set</font></b> value [alited::edit::EscapeValue <font color=#1b1baa>$value</font>]
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> -&gt; fname
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists <font color=#1b1baa>$cont</font>]} {
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$cont</font>]
  }
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>incr</font></b> il
    <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> com [alited::edit::IniParameter command <font color=#1b1baa>$line</font> <font color=#6c3e67>-nocase</font> -]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
      <b><font color=#3a6797>set</font></b> ending [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$com</font> eq <font color=#8b2a0e>&quot;-&quot;</font>}]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ending</font>} {
        <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>join</font></b> [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$il</font> end] \n]
      }
      <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtxt</font> tag ranges sel]
      <b><font color=#3a6797>set</font></b> lsel [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$lsel</font>} {
        <b><font color=#3a6797>set</font></b> value {}
      }
      <i><font color=#4b5d50># map format's own and template's woildcards</font></i>
      <b><font color=#3a6797>set</font></b> com [alited::Map {}  <font color=#1b1baa>$com</font> %W <font color=#1b1baa>$wtxt</font> %v <font color=#1b1baa>$value</font> %f <font color=#1b1baa>$fname</font>  %d <font color=#1b1baa>$al(TPL,%d)</font>  %t <font color=#1b1baa>$al(TPL,%t)</font>  %u <font color=#1b1baa>$al(TPL,%u)</font>  %U <font color=#1b1baa>$al(TPL,%U)</font>  %w <font color=#1b1baa>$al(TPL,%w)</font>  %A <font color=#1b1baa>$DIR</font>  %M <font color=#1b1baa>$al(EM,mnudir)</font>]
      <b><font color=#3a6797>set</font></b> value [<b><font color=#3a6797>eval</font></b> <font color=#1b1baa>$com</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$value</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lsel</font>} {
          <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$selection</font> pos1 pos2
          <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font> <font color=#1b1baa>$value</font>
        } <b><font color=#3a6797>else</font></b> {
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$pos</font> <font color=#1b1baa>$value</font>
        }
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ending</font>} <b><font color=#ca14ca>break</font></b>
    }
  }
  alited::FocusText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Mode6'>Mode6</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a pluginable formatter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mode6</span> <span class='ruff_arg'>cont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of config.file's lines</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>formatter's file name etc.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1st event to run the formatter or {}.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Mode6' href="javascript:toggleSource('alited_format_Mode6')">Show source</a></p>
<div id='alited_format_Mode6' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Mode6 {cont args} {
  <i><font color=#4b5d50># Runs a pluginable formatter.</font></i>
  <i><font color=#4b5d50>#   cont - list of config.file's lines</font></i>
  <i><font color=#4b5d50>#   args - formatter's file name etc.</font></i>
  <i><font color=#4b5d50># Returns 1st event to run the formatter or {}.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> cont6
  <b><font color=#3a6797>variable</font></b> bind6
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> fullformname
  <b><font color=#3a6797>set</font></b> fform [alited::edit::FormatterName <font color=#1b1baa>$fullformname</font>]
  <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>list</font></b> alited::format::Mode5 ::alited::format::cont6(<font color=#1b1baa>$fform</font>) {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> bind6(<font color=#1b1baa>$fform</font>) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>set</font></b> icon {}]
  <b><font color=#3a6797>set</font></b> sep 0
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>incr</font></b> il
    <b><font color=#3a6797>set</font></b> sp [alited::edit::IniParameter sep <font color=#1b1baa>$line</font> <font color=#6c3e67>-nocase</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$sp</font>]} {<b><font color=#3a6797>set</font></b> sep 1}
    <b><font color=#3a6797>set</font></b> ic [alited::edit::IniParameter icon <font color=#1b1baa>$line</font> <font color=#6c3e67>-nocase</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ic</font> ne {}} {<b><font color=#3a6797>set</font></b> icon <font color=#1b1baa>$ic</font>}
    <b><font color=#3a6797>set</font></b> events [alited::edit::IniParameter events <font color=#1b1baa>$line</font> <font color=#6c3e67>-nocase</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$events</font> ne {}} {
      <b><font color=#3a6797>foreach</font></b> ev [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$events</font> { ,}] {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ev</font> ne {}} {
          <b><font color=#3a6797>set</font></b> wasacc [<b><font color=#3a6797>info</font></b> exist cont6(<font color=#1b1baa>$fform</font>)]
          <b><font color=#3a6797>if</font></b> {[EventOK <font color=#1b1baa>$fullformname</font> <font color=#1b1baa>$fform</font> <font color=#1b1baa>$ev</font> <font color=#1b1baa>$wasacc</font>]} {
            <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$ev</font> <font color=#1b1baa>$com</font>}
            <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$bind6($fform)</font>]} {<b><font color=#3a6797>set</font></b> res <font color=#1b1baa>$ev</font>}
            <b><font color=#3a6797>lappend</font></b> bind6(<font color=#1b1baa>$fform</font>) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$ev</font> <font color=#1b1baa>$com</font>]
          } <b><font color=#3a6797>else</font></b> {
            <b><font color=#3a6797>set</font></b> res {}
            <b><font color=#ca14ca>break</font></b>
          }
        }
        <b><font color=#3a6797>set</font></b> cont6(<font color=#1b1baa>$fform</font>) [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$il</font> end]
      }
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icon</font> ne {}} {
    CreateFormatIcon <font color=#1b1baa>$icon</font> <font color=#1b1baa>$sep</font> <font color=#1b1baa>$com</font> <font color=#1b1baa>$fform</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$res</font> eq {}} {
    <i><font color=#4b5d50># no event encountered - run the formatter once</font></i>
    Mode5 <font color=#1b1baa>$cont</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::MoveInside'>MoveInside</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Move a unit description outside the unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveInside</span> <span class='ruff_arg'>cont l1 l2 pad</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>file's content</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st unit line number</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last unit line number</td></tr>
<tr><td class='ruff_defitem'><code><code>pad</code></code></td><td class='ruff_defitem'>padding (indentation) of text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_MoveInside' href="javascript:toggleSource('alited_format_MoveInside')">Show source</a></p>
<div id='alited_format_MoveInside' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::MoveInside {cont l1 l2 pad} {
  <i><font color=#4b5d50># Move a unit description outside the unit.</font></i>
  <i><font color=#4b5d50>#   cont - file's content</font></i>
  <i><font color=#4b5d50>#   l1 - 1st unit line number</font></i>
  <i><font color=#4b5d50>#   l2 - last unit line number</font></i>
  <i><font color=#4b5d50>#   pad - padding (indentation) of text</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>set</font></b> l0 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l1</font>-1}]
  <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$l0</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>regexp</font></b> [LeafRE] <font color=#1b1baa>$line</font>]} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> 0]  ;<i><font color=#4b5d50># not unit's declaraion - already processed?</font></i>
  }
  <b><font color=#3a6797>set</font></b> pad0 [obj leadingSpaces <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>set</font></b> pad0 [<b><font color=#3a6797>string</font></b> repeat { } <font color=#1b1baa>$pad0</font>]
  <i><font color=#4b5d50># get the outside description</font></i>
  <b><font color=#3a6797>set</font></b> replln 0
  <b><font color=#3a6797>set</font></b> replcont [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimleft [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i</font>]]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc2)</font> <font color=#1b1baa>$line</font>]} {
          <i><font color=#4b5d50># unit's declaration found in this line</font></i>
          <b><font color=#3a6797>set</font></b> replln [<b><font color=#3a6797>incr</font></b> i -1]
        }
        <b><font color=#ca14ca>break</font></b>
      }
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># only comments included into the description</font></i>
      <b><font color=#3a6797>lappend</font></b> replcont <font color=#1b1baa>$pad$line</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$replln</font> &lt;= 0} {
    <i><font color=#4b5d50># unit's declaration not found</font></i>
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> 0]
  }
  <i><font color=#4b5d50># insert it inside the unit's body</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$replcont</font>]} {
    <i><font color=#4b5d50># find the unit's body</font></i>
    <b><font color=#3a6797>set</font></b> body [<b><font color=#3a6797>set</font></b> insln 0]
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i</font>]]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc2)</font> <font color=#1b1baa>$line</font>]} {
        <b><font color=#3a6797>incr</font></b> body
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$body</font> && [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> end] ne <font color=#8b2a0e>&quot;\\&quot;</font>} {
        <b><font color=#3a6797>set</font></b> insln [<b><font color=#3a6797>incr</font></b> i]
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$insln</font>} {
      <i><font color=#4b5d50># unit's body found - insert the description inside it</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$insln</font>] ne {}} {<b><font color=#3a6797>lappend</font></b> replcont {}}
      <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$insln</font> {} {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$replcont</font>]
    }
  }
  <i><font color=#4b5d50># replace the the outside description with 2nd separator</font></i>
  <b><font color=#3a6797>set</font></b> separ2 [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$da(separSav2)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$separ2</font> ne {}} {
    <b><font color=#3a6797>set</font></b> separ2 <font color=#1b1baa>$pad0$separ2</font>\n
    <i><font color=#4b5d50># if there is a comment above, no separator</font></i>
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$l0</font>} {<font color=#1b1baa>$i</font>&gt;1} {} {
      <b><font color=#3a6797>incr</font></b> i -1
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimleft [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i</font>]]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$line</font>]} {
          <b><font color=#3a6797>set</font></b> separ2 {}
        }
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$separ2</font> eq {}} {
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$l0</font> <font color=#1b1baa>$replln</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$l0</font> <font color=#1b1baa>$replln</font> <font color=#1b1baa>$separ2</font>]
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::MoveOut'>MoveOut</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Move a unit description outside the unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveOut</span> <span class='ruff_arg'>cont title l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>file's content</td></tr>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>initial comment with unit's name</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st unit line number</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last unit line number</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns file's contents and 1 (for processed) or 0 (for not processed).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_MoveOut' href="javascript:toggleSource('alited_format_MoveOut')">Show source</a></p>
<div id='alited_format_MoveOut' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::MoveOut {cont title l1 l2} {
  <i><font color=#4b5d50># Move a unit description outside the unit.</font></i>
  <i><font color=#4b5d50>#   cont - file's content</font></i>
  <i><font color=#4b5d50>#   title - initial comment with unit's name</font></i>
  <i><font color=#4b5d50>#   l1 - 1st unit line number</font></i>
  <i><font color=#4b5d50>#   l2 - last unit line number</font></i>
  <i><font color=#4b5d50># Returns file's contents and 1 (for processed) or 0 (for not processed).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l1</font>-1}]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> [LeafRE] <font color=#1b1baa>$line</font>]} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> 0]  ;<i><font color=#4b5d50># already processed?</font></i>
  }
  <i><font color=#4b5d50># padding (indentation) of unit's declaration</font></i>
  <b><font color=#3a6797>set</font></b> pad [obj leadingSpaces <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>set</font></b> pad [<b><font color=#3a6797>string</font></b> repeat { } <font color=#1b1baa>$pad</font>]
  <b><font color=#3a6797>set</font></b> replcont [<b><font color=#3a6797>set</font></b> replln [<b><font color=#3a6797>list</font></b>]]
  <i><font color=#4b5d50># find the inside description</font></i>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimleft [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i</font>]]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$replcont</font>] || <font color=#1b1baa>$line</font> ne {}} <b><font color=#ca14ca>break</font></b>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> replcont <font color=#1b1baa>$pad$line</font>
    }
    <b><font color=#3a6797>lappend</font></b> replln <font color=#1b1baa>$i</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$replln</font>]} {
    <b><font color=#3a6797>set</font></b> replcont [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$replcont</font> 0 {}]
    <i><font color=#4b5d50># remove old description</font></i>
    <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$replln</font> 0]
    <b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$replln</font> end]
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font>]
  }
  <i><font color=#4b5d50># above the unit's declaration - find the first &quot;meaningful&quot; line</font></i>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>incr</font></b> l1 -2]} {<font color=#1b1baa>$i</font>&gt;=0} {<b><font color=#3a6797>incr</font></b> i -1} {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimleft [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i</font>]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> ne {} && (![<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$line</font>] || [<b><font color=#3a6797>regexp</font></b> {[[:alnum:]]} <font color=#1b1baa>$line</font>])} {
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <i><font color=#4b5d50># remove old description, insert new one</font></i>
  <b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$pad</font>[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$title</font>]
  <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$cont</font> [<b><font color=#3a6797>incr</font></b> i] <font color=#1b1baa>$l1</font>]
  <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i</font> {} <font color=#1b1baa>$title</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$replcont</font> {}]
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::MoveUnitDesc'>MoveUnitDesc</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Does move the unit descriptions.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveUnitDesc</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1 if the moves done, 0 if no moves.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_MoveUnitDesc' href="javascript:toggleSource('alited_format_MoveUnitDesc')">Show source</a></p>
<div id='alited_format_MoveUnitDesc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::MoveUnitDesc {TID} {
  <i><font color=#4b5d50># Does move the unit descriptions.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50># Returns 1 if the moves done, 0 if no moves.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>if</font></b> {![alited::isTclScript <font color=#1b1baa>$TID</font>]} {<b><font color=#ca14ca>return</font></b> 0}
  <b><font color=#3a6797>set</font></b> infdat [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> 1]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName <font color=#1b1baa>$TID</font>]]
  <b><font color=#3a6797>set</font></b> cont [alited::file::ReadFileByTID <font color=#1b1baa>$TID</font>]  ;<i><font color=#4b5d50># let it be read anyhow</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] -&gt; wtxt
  }
  <b><font color=#3a6797>set</font></b> lfRE <font color=#1b1baa>$al(prjuseleafRE)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$da(RE_SWITCHED)</font> || <font color=#1b1baa>$da(dir)</font>==1} {
    <i><font color=#4b5d50># if &quot;Use leaf's RE&quot; was switched or moving to outside and</font></i>
    <i><font color=#4b5d50># the unit tree contains already appropriate leaf units, then no actions more</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$da(dir)</font>==1} {
      <i><font color=#4b5d50># in-to-out mode: recreate the &quot;use leafRE&quot; tree to check it for leaf units</font></i>
      <b><font color=#3a6797>set</font></b> al(prjuseleafRE) 1
      alited::unit::RecreateUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
    }
    <b><font color=#3a6797>lassign</font></b> [alited::unit::UnitHeaderMode <font color=#1b1baa>$TID</font>] isLeafRE isProc leafRE
    <b><font color=#3a6797>foreach</font></b> item [<b><font color=#3a6797>lreverse</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font>] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]&lt;3} <b><font color=#ca14ca>continue</font></b>
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
      <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isProc</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$line</font>] || <font color=#1b1baa>$isLeafRE</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$leafRE</font> <font color=#1b1baa>$line</font>]} {
        <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#1b1baa>$al(MC,unitprocsd)</font>]
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font> %n 0] <font color=#1b1baa>$msg</font>]
        alited::info::Put <font color=#1b1baa>$line</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$l1</font>]  ;<i><font color=#4b5d50># line of issue</font></i>
        alited::info::Put <font color=#1b1baa>$msg</font> <font color=#1b1baa>$infdat</font>           ;<i><font color=#4b5d50># file of issue</font></i>
        <b><font color=#3a6797>set</font></b> al(prjuseleafRE) <font color=#1b1baa>$lfRE</font>
        <b><font color=#ca14ca>return</font></b> 0
      }
    }
  }
  <b><font color=#3a6797>set</font></b> al(prjuseleafRE) <font color=#1b1baa>$lfRE</font>
  alited::unit::RecreateUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>set</font></b> cont1 [<font color=#1b1baa>$wtxt</font> get 1.0 end]
  <b><font color=#3a6797>set</font></b> cont2 [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$cont1</font>]
  <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$cont2</font> \n]
  <b><font color=#3a6797>set</font></b> moved 0
  <b><font color=#3a6797>foreach</font></b> item [<b><font color=#3a6797>lreverse</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font>] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]&lt;3} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font> && <font color=#1b1baa>$title</font> ne {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first { } <font color=#1b1baa>$title</font>]&gt;0 && <font color=#1b1baa>$l1</font>==1} {
        <b><font color=#ca14ca>continue</font></b> ;<i><font color=#4b5d50># intro lines</font></i>
      }
      <b><font color=#3a6797>lassign</font></b> [Separ1 <font color=#1b1baa>$da(separSav1)</font>] separ limit
      <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> n <font color=#1b1baa>$title</font> N <font color=#1b1baa>$title</font>] <font color=#1b1baa>$separ</font>]
      <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$title</font> 0 <font color=#1b1baa>$limit</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$da(dir)</font>==1} {
        <i><font color=#4b5d50># to out</font></i>
        <b><font color=#3a6797>lassign</font></b> [MoveOut <font color=#1b1baa>$cont</font> <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>] cont i
      } <b><font color=#3a6797>else</font></b> {
        <i><font color=#4b5d50># to inside</font></i>
        <b><font color=#3a6797>set</font></b> pad [alited::main::CalcPad <font color=#1b1baa>$wtxt</font>]
        <b><font color=#3a6797>lassign</font></b> [MoveInside <font color=#1b1baa>$cont</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font> <font color=#1b1baa>$pad</font>] cont i
      }
      <b><font color=#3a6797>incr</font></b> moved <font color=#1b1baa>$i</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$moved</font>} {
    alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
    <b><font color=#3a6797>set</font></b> newcont {}
    <b><font color=#3a6797>foreach</font></b> c <font color=#1b1baa>$cont</font> {
      <b><font color=#3a6797>append</font></b> newcont <font color=#1b1baa>$c</font> \n
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$cont1</font>]==[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$cont2</font>]} {
      <b><font color=#3a6797>set</font></b> newcont [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$newcont</font>]
    }
    <font color=#1b1baa>$wtxt</font> replace 1.0 end <font color=#1b1baa>$newcont</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq [alited::main::CurrentWTXT]} {
      alited::main::UpdateAll
    } <b><font color=#3a6797>else</font></b> {
      alited::unit::RecreateUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
    }
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {%f processed, units touched: %n}]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#1b1baa>$al(MC,unitprocsd)</font>]
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font> %n <font color=#1b1baa>$moved</font>] <font color=#1b1baa>$msg</font>]
  alited::info::Put <font color=#1b1baa>$msg</font> <font color=#1b1baa>$infdat</font>
  alited::file::MakeThemHighlighted <font color=#1b1baa>$TID</font>
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$moved</font>&gt;0}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles pressing OK button of Move Descriptions dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Ok' href="javascript:toggleSource('alited_format_Ok')">Show source</a></p>
<div id='alited_format_Ok' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Ok {} {
  <i><font color=#4b5d50># Handles pressing OK button of Move Descriptions dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>if</font></b> {[CheckOk]} {
    <b><font color=#3a6797>set</font></b> al(format_separ1) <font color=#1b1baa>$da(separSav1)</font>
    <b><font color=#3a6797>set</font></b> al(format_separ2) <font color=#1b1baa>$da(separSav2)</font>
    <b><font color=#3a6797>lassign</font></b> [alited::ProcessFiles alited::format::MoveUnitDesc <font color=#1b1baa>$da(what)</font>] all processed
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$processed</font>} alited::main::UpdateIcons
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Files processed successfully: %n}]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$processed</font>] <font color=#1b1baa>$msg</font>]
    alited::info::Put <font color=#1b1baa>$msg</font> {} yes [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$processed</font>}] yes
    <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 1
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Re_Colors'>Re_Colors</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets colors for leaf's regexp (comment's fg &amp; bg).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Re_Colors</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Re_Colors' href="javascript:toggleSource('alited_format_Re_Colors')">Show source</a></p>
<div id='alited_format_Re_Colors' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Re_Colors {} {
  <i><font color=#4b5d50># Gets colors for leaf's regexp (comment's fg & bg).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>lassign</font></b> [::hl_tcl::hl_colors .] - - - - fg
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> csGet] - - bg
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fg</font> <font color=#1b1baa>$bg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Re_FgColor'>Re_FgColor</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets foreground color for leaf's regexp.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Re_FgColor</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Re_FgColor' href="javascript:toggleSource('alited_format_Re_FgColor')">Show source</a></p>
<div id='alited_format_Re_FgColor' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Re_FgColor {} {
  <i><font color=#4b5d50># Sets foreground color for leaf's regexp.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>lassign</font></b> [Re_Colors] fg
  <b><font color=#3a6797>lassign</font></b> [Separ1 <font color=#1b1baa>$da(separSav1)</font>] separ
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>regexp</font></b> [LeafRE] <font color=#1b1baa>$separ</font>]} {
    <b><font color=#3a6797>set</font></b> fg [<b><font color=#3a6797>lindex</font></b> [alited::FgFgBold] 2]
  }
  [<font color=#1b1baa>$obDl2</font> LabRE2] configure <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::Separ1'>Separ1</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets &quot;real&quot; separator and limit of its length (extracted from it).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Separ1</span> <span class='ruff_arg'>title</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>title</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_Separ1' href="javascript:toggleSource('alited_format_Separ1')">Show source</a></p>
<div id='alited_format_Separ1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::Separ1 {title} {
  <i><font color=#4b5d50># Gets &quot;real&quot; separator and limit of its length (extracted from it).</font></i>
  <i><font color=#4b5d50>#   title - title</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> limit [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {\(\d+\)} <font color=#1b1baa>$title</font>]] ne {}} {
    <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$limit</font> {}] <font color=#1b1baa>$title</font>]
    <b><font color=#3a6797>set</font></b> limit [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$limit</font> ()]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> limit 9999
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$title</font> [<b><font color=#3a6797>incr</font></b> limit -1]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::ShowUnitDesc'>ShowUnitDesc</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays unit descriptions to move.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowUnitDesc</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_ShowUnitDesc' href="javascript:toggleSource('alited_format_ShowUnitDesc')">Show source</a></p>
<div id='alited_format_ShowUnitDesc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::ShowUnitDesc {} {
  <i><font color=#4b5d50># Displays unit descriptions to move.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>set</font></b> pad [alited::main::CalcPad]
  <b><font color=#3a6797>set</font></b> descIn <font color=#8b2a0e>&quot; SEPAR\n\n proc ::K <font color=#1b1baa>{</font>x y<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>\n\n <font color=#1b1baa>$</font>pad# K combinator. \n <font color=#1b1baa>$</font>pad#   x - returned value\n <font color=#1b1baa>$</font>pad#   y - discarded value\n\n <font color=#1b1baa>${</font>pad<font color=#1b1baa>}</font>set x\n <font color=#1b1baa>}</font>&quot;</font>
  <b><font color=#3a6797>set</font></b> descOut <font color=#8b2a0e>&quot; SEPAR\n\n # K combinator. \n #   x - returned value\n #   y - discarded value\n\n proc ::K <font color=#1b1baa>{</font>x y<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>\n\n <font color=#1b1baa>${</font>pad<font color=#1b1baa>}</font>set x\n <font color=#1b1baa>}</font>&quot;</font>
  <b><font color=#3a6797>lassign</font></b> [Separ1 <font color=#1b1baa>$da(separSav1)</font>] separ1 limit
  <b><font color=#3a6797>set</font></b> separ1 [<b><font color=#3a6797>string</font></b> range [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> n ::K N ::K] <font color=#1b1baa>$separ1</font>] 0 <font color=#1b1baa>$limit</font>]
  <b><font color=#3a6797>set</font></b> cont1 [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> SEPAR <font color=#1b1baa>$separ1</font>] <font color=#1b1baa>$descOut</font>]
  <b><font color=#3a6797>set</font></b> cont2 [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> SEPAR <font color=#1b1baa>$da(separSav2)</font>] <font color=#1b1baa>$descIn</font>]
  <b><font color=#3a6797>set</font></b> tex1 [<font color=#1b1baa>$obDl2</font> Tex1]
  <b><font color=#3a6797>set</font></b> tex2 [<font color=#1b1baa>$obDl2</font> Tex2]
  <font color=#1b1baa>$tex1</font> replace 1.0 end <font color=#1b1baa>$cont1</font>
  <font color=#1b1baa>$tex2</font> replace 1.0 end <font color=#1b1baa>$cont2</font>
  <b><font color=#3a6797>set</font></b> colors [alited::SyntaxColors]
  <b><font color=#3a6797>set</font></b> colors [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$colors</font> end-1 end-1 [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$obDl2</font> csGet] 2]]
  alited::SyntaxHighlight tcl <font color=#1b1baa>$tex1</font> <font color=#1b1baa>$colors</font>
  alited::SyntaxHighlight tcl <font color=#1b1baa>$tex2</font> <font color=#1b1baa>$colors</font>
  Re_FgColor
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::StandardOptions'>StandardOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets standard options of Move Descr.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>StandardOptions</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_StandardOptions' href="javascript:toggleSource('alited_format_StandardOptions')">Show source</a></p>
<div id='alited_format_StandardOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::StandardOptions {} {
  <i><font color=#4b5d50># Sets standard options of Move Descr.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>set</font></b> curRE [alited::unit::LeafRegexp]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curRE</font> ne <font color=#1b1baa>$al(RE,leafDEF)</font>} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc  <font color=#8b2a0e>&quot; Current leaf's RE\n\n   &lt;r&gt;%r1&lt;/r&gt;\n\n is not equal to standard\n\n   &lt;r&gt;%r2&lt;/r&gt;\n\n as set in Projects/Options and Preferences/Units.&quot;</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %r1 <font color=#1b1baa>$curRE</font> %r2 <font color=#1b1baa>$al(RE,leafDEF)</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>set</font></b> tags [alited::MessageTags]
    <b><font color=#3a6797>set</font></b> ok [alited::msg okcancel warn <font color=#1b1baa>$msg</font> CANCEL <font color=#6c3e67>-text</font> 1 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tags</font>]
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ok</font>} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> da(separSav1) <font color=#1b1baa>$al(format_separ1DEF)</font>
  <b><font color=#3a6797>set</font></b> da(separSav2) <font color=#1b1baa>$al(format_separ2DEF)</font>
  <b><font color=#3a6797>set</font></b> da(separ) <font color=#1b1baa>$da(separSav$da(dir)</font>)
  [<font color=#1b1baa>$obDl2</font> LabRE2] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$al(RE,leafDEF)</font>
  ShowUnitDesc
  Re_FgColor
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::UnitDesc'>UnitDesc</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves unit description from inner to above units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitDesc</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_UnitDesc' href="javascript:toggleSource('alited_format_UnitDesc')">Show source</a></p>
<div id='alited_format_UnitDesc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::UnitDesc {} {
  <i><font color=#4b5d50># Moves unit description from inner to above units.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>set</font></b> da(prjlfRESav) <font color=#1b1baa>$al(prjleafRE)</font>
  <b><font color=#3a6797>set</font></b> da(prjuselfRESav) <font color=#1b1baa>$al(prjuseleafRE)</font>
  <b><font color=#3a6797>set</font></b> separSav1 <font color=#1b1baa>$da(separSav1)</font>
  <b><font color=#3a6797>set</font></b> separSav2 <font color=#1b1baa>$da(separSav2)</font>
  <b><font color=#3a6797>lassign</font></b> [Re_Colors] fgRE da(bgRE)
  <b><font color=#3a6797>set</font></b> stcl [<b><font color=#3a6797>llength</font></b> [alited::SessionTclList 1]]
  <b><font color=#3a6797>set</font></b> atcl [<b><font color=#3a6797>llength</font></b> [alited::SessionTclList 2]]
  <b><font color=#3a6797>set</font></b> selected [msgcat::mc Selected]\ (<font color=#1b1baa>$stcl</font>)
  <b><font color=#3a6797>set</font></b> allopen [msgcat::mc {All in session}]\ (<font color=#1b1baa>$atcl</font>)
  <b><font color=#3a6797>set</font></b> REleaf [alited::unit::LeafRegexp]
  <font color=#1b1baa>$obDl2</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$al(MC,formatdesc)</font>
  <font color=#1b1baa>$obDl2</font> paveWindow <font color=#1b1baa>$win</font>.fra {
    {.lab1 - - 1 3 {<font color=#6c3e67>-pady</font> 8} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Move proc/method descriptions:&quot;</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
    {.seh0 + T 1 6}
    {.rad1 + T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;From inside to out&quot;</font> <font color=#6c3e67>-var</font> ::alited::format::da(dir) <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-com</font> alited::format::ChangeTo <font color=#6c3e67>-image</font> alimg_up <font color=#6c3e67>-compound</font> right}}
    {.rad2 + T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;From out to inside&quot;</font> <font color=#6c3e67>-var</font> ::alited::format::da(dir) <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-com</font> alited::format::ChangeTo <font color=#6c3e67>-image</font> alimg_down <font color=#6c3e67>-compound</font> right}}
    {.sev .rad1 L 2 1 {<font color=#6c3e67>-padx</font> 10}}
    {.labRE1 + L 1 1 {<font color=#6c3e67>-st</font> sne} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Leaf's regexp:&quot;</font>}}
    {.LabRE2 + L 1 1 {} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$REleaf</font>} <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgRE</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$da(bgRE)</font>}}
    {.h_1 + L 1 1}
    {.butStd + L 1 1 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> alited::format::StandardOptions}}
    {.labSep .labRE1 T 1 1 {<font color=#6c3e67>-st</font> sne} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Separator:&quot;</font>}}
    {.EntSepar + L 1 3 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-cw</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::format::da(separ) <font color=#6c3e67>-validate</font> all <font color=#6c3e67>-validatecommand</font> alited::format::ValidateUnitDesc}}
    {.seh1 .rad2 T 1 6}
    {.Tex1 + T 1 6 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-rw</font> 1} {<font color=#6c3e67>-h</font> 11 <font color=#6c3e67>-w</font> 80 <font color=#6c3e67>-wrap</font> none <font color=#6c3e67>-font</font> {<font color=#1b1baa>$al(FONT,txt)</font>}}}
    {.fra + T 1 6}
    {.fra.LabFromTo + L 1 4 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-image</font> alimg_up-big}}
    {.fra.labdummy + L 1 1 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-image</font> alimg_none-big}}
    {.Tex2 .fra T 1 6 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-rw</font> 1} {<font color=#6c3e67>-h</font> 11 <font color=#6c3e67>-w</font> 80 <font color=#6c3e67>-wrap</font> none <font color=#6c3e67>-font</font> {<font color=#1b1baa>$al(FONT,txt)</font>}}}
    {.frawhat + T 1 6}
    {.frawhat.labwhat - - - - {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Process .tcl file(s):&quot;</font>}}
    {.frawhat.rad1 + L 1 1 {<font color=#6c3e67>-padx</font> 20} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$selected</font>} <font color=#6c3e67>-var</font> ::alited::format::da(what) <font color=#6c3e67>-value</font> 1}}
    {.frawhat.rad2 + L 1 1 {} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$allopen</font>} <font color=#6c3e67>-var</font> ::alited::format::da(what) <font color=#6c3e67>-value</font> 2}}
    {.seh2 .frawhat T 1 6}
    {.butHelp + T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> Help <font color=#6c3e67>-com</font> alited::format::Help}}
    {.h_ + L 1 4}
    {.frabut + L 1 1 {<font color=#6c3e67>-st</font> e}}
    {.frabut.butOK + L 1 1 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-t</font> OK <font color=#6c3e67>-com</font> alited::format::Ok}}
    {.frabut.butCancel + L 1 1 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> alited::format::Cancel}}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$da(dir)</font>==1} {<b><font color=#3a6797>set</font></b> da(separ) <font color=#1b1baa>$da(separSav2)</font>} {<b><font color=#3a6797>set</font></b> da(separ) <font color=#1b1baa>$da(separSav1)</font>}
  ChangeTo
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; alited::format::Help
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl2</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {650 400} {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$da(geo)</font>]
  <b><font color=#3a6797>set</font></b> al(prjuseleafRE) <font color=#1b1baa>$da(prjuselfRESav)</font>
  <b><font color=#3a6797>set</font></b> al(prjleafRE) <font color=#1b1baa>$da(prjlfRESav)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    alited::main::UpdateAll
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> da(separSav1) <font color=#1b1baa>$separSav1</font>
    <b><font color=#3a6797>set</font></b> da(separSav2) <font color=#1b1baa>$separSav2</font>
  }
  <b><font color=#3a6797>set</font></b> da(geo) <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>[</font>wm geometry <font color=#1b1baa>$</font>win<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::format::ValidateUnitDesc'>ValidateUnitDesc</a><span class='ns_scope'> [<a href="alited.html#::alited::format" title="::alited::format" class='ruff_cmd'>::alited::format</a>]</span><span class='tinylink'><a href='alited.html#::alited::format'>format</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Validates the separator's entry</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidateUnitDesc</span> <span class='ruff_arg'>?dovalid?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dovalid</code></code></td><td class='ruff_defitem'>if yes runs the validation; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_format_ValidateUnitDesc' href="javascript:toggleSource('alited_format_ValidateUnitDesc')">Show source</a></p>
<div id='alited_format_ValidateUnitDesc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::format::ValidateUnitDesc {{dovalid no}} {
  <i><font color=#4b5d50># Validates the separator's entry</font></i>
  <i><font color=#4b5d50>#   dovalid - if yes runs the validation</font></i>

  <b><font color=#3a6797>variable</font></b> da
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dovalid</font>} {
    <b><font color=#3a6797>set</font></b> da(separSav<font color=#1b1baa>$da(dir)</font>) <font color=#1b1baa>$da(separ)</font>
    ShowUnitDesc
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>after</font></b> idle {alited::format::ValidateUnitDesc yes}
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::hl_alm'></a>::alited::hl_alm<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::hl_alm-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::hl_alm'>hl_alm</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::hl_alm::init'>init</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_alm" title="::alited::hl_alm" class='ruff_cmd'>::alited::hl_alm</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_alm'>hl_alm</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes highlighting .alm text (alited's macro).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>init</span> <span class='ruff_arg'>w font szfont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>font</code></code></td><td class='ruff_defitem'>the text's font</td></tr>
<tr><td class='ruff_defitem'><code><code>szfont</code></code></td><td class='ruff_defitem'>the font's size</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_alm_init' href="javascript:toggleSource('alited_hl_alm_init')">Show source</a></p>
<div id='alited_hl_alm_init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_alm::init {w font szfont args} {
  <i><font color=#4b5d50># Initializes highlighting .alm text (alited's macro).</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   font - the text's font</font></i>
  <i><font color=#4b5d50>#   szfont - the font's size</font></i>
  <i><font color=#4b5d50>#   args - highlighting colors</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> clrCOM clrCOMTK clrSTR clrVAR clrCMN clrPROC clrOPT
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-size</font> <font color=#1b1baa>$szfont</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold;
  <font color=#1b1baa>$w</font> tag config almKEY <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCOM</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> normal
  <font color=#1b1baa>$w</font> tag config almPATH <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrVAR</font>
  <font color=#1b1baa>$w</font> tag config almARG <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrOPT</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-slant</font> italic
  <font color=#1b1baa>$w</font> tag config almCMNT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCMN</font>
  <b><font color=#3a6797>foreach</font></b> t {KEY CMNT} {<b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise alm<font color=#1b1baa>$t</font>}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>namespace</font></b> current]::line
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::hl_alm::line'>line</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_alm" title="::alited::hl_alm" class='ruff_cmd'>::alited::hl_alm</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_alm'>hl_alm</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a line of .alm text (alited's macro).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>line</span> <span class='ruff_arg'>w ?pos? ?prevQtd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position in the line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>prevQtd</code></code></td><td class='ruff_defitem'>mode of processing a current line (0, 1, -1); <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_alm_line' href="javascript:toggleSource('alited_hl_alm_line')">Show source</a></p>
<div id='alited_hl_alm_line' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_alm::line {w {pos {}} {prevQtd 0}} {
  <i><font color=#4b5d50># Highlights a line of .alm text (alited's macro).</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   pos - position in the line</font></i>
  <i><font color=#4b5d50>#   prevQtd - mode of processing a current line (0, 1, -1)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {<b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$w</font> index insert]}
  <b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$w</font> get <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] eq {}} {<b><font color=#ca14ca>return</font></b> yes}
  <b><font color=#3a6797>foreach</font></b> t {KEY PATH ARG CMNT} {<font color=#1b1baa>$w</font> tag remove alm<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^\s*#&quot;</font> <font color=#1b1baa>$line</font>]} {
    <font color=#1b1baa>$w</font> tag add almCMNT <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {^\s*[^\s]+} <font color=#1b1baa>$line</font>] lre
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lre</font> ne {}} {
    <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lre</font>]
    <font color=#1b1baa>$w</font> tag add almKEY <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font>
  }
  <b><font color=#3a6797>set</font></b> path [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {\s{1}[.]{1}[^\s]+} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$path</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add almPATH <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#3a6797>set</font></b> key [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {\s%.=} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$key</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add almARG <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::hl_em'></a>::alited::hl_em<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::hl_em-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::hl_em'>hl_em</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::hl_em::getRSIM'>getRSIM</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_em" title="::alited::hl_em" class='ruff_cmd'>::alited::hl_em</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_em'>hl_em</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets R:, R/ etc type from a line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>getRSIM</span> <span class='ruff_arg'>line ?markers?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>markers</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_em_getRSIM' href="javascript:toggleSource('alited_hl_em_getRSIM')">Show source</a></p>
<div id='alited_hl_em_getRSIM' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_em::getRSIM {line {markers {}}} {
  <i><font color=#4b5d50># Gets R:, R/ etc type from a line.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {^\s*[RSIM]{1}[WE]?:\s*} <font color=#1b1baa>$line</font>]} {
    <b><font color=#3a6797>set</font></b> div :
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>regexp</font></b> {^\s*[RSIM]{1}[WE]?/\s*} <font color=#1b1baa>$line</font>]} {
    <b><font color=#3a6797>set</font></b> div /
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$markers</font> ne {}} {
      <b><font color=#3a6797>set</font></b> marker [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#8b2a0e>&quot;^(<font color=#1b1baa>$</font>markers)&quot;</font> <font color=#1b1baa>$line</font>] 0]
      <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$marker</font> - [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>]]
    }
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$div</font> <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>set</font></b> typ [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> 0 <font color=#1b1baa>$i</font>]
  <b><font color=#3a6797>set</font></b> prog [<b><font color=#3a6797>string</font></b> trimleft [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>+1 end]]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$typ</font> <font color=#1b1baa>$prog</font> <font color=#1b1baa>$line</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::hl_em::init'>init</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_em" title="::alited::hl_em" class='ruff_cmd'>::alited::hl_em</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_em'>hl_em</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes highlighting .em text (e_menu's menu).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>init</span> <span class='ruff_arg'>w font szfont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>font</code></code></td><td class='ruff_defitem'>font</td></tr>
<tr><td class='ruff_defitem'><code><code>szfont</code></code></td><td class='ruff_defitem'>font's size</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_em_init' href="javascript:toggleSource('alited_hl_em_init')">Show source</a></p>
<div id='alited_hl_em_init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_em::init {w font szfont args} {
  <i><font color=#4b5d50># Initializes highlighting .em text (e_menu's menu).</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   font - font</font></i>
  <i><font color=#4b5d50>#   szfont - font's size</font></i>
  <i><font color=#4b5d50>#   args - highlighting colors</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> clrCOM clrCOMTK clrSTR clrVAR clrCMN clrPROC
  <b><font color=#3a6797>if</font></b> {[::apave::obj csDark]} {
    <b><font color=#3a6797>set</font></b> fg2 black
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> fg2 white
  }
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold
  <font color=#1b1baa>$w</font> tag config emRSIM <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCOMTK</font>
  <font color=#1b1baa>$w</font> tag config emMARK <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrPROC</font>
  <font color=#1b1baa>$w</font> tag config emSECT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg2</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$clrPROC</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> normal
  <font color=#1b1baa>$w</font> tag config emVAR <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrVAR</font>
  <font color=#1b1baa>$w</font> tag config emVAL <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrSTR</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-slant</font> italic
  <font color=#1b1baa>$w</font> tag config emCMNT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCMN</font>
  <b><font color=#3a6797>foreach</font></b> t {RSIM MARK SECT CMNT} {<b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise em<font color=#1b1baa>$t</font>}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>namespace</font></b> current]::line
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::hl_em::line'>line</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_em" title="::alited::hl_em" class='ruff_cmd'>::alited::hl_em</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_em'>hl_em</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a line of .em text (e_menu's menu).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>line</span> <span class='ruff_arg'>w ?pos? ?prevQtd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position in the line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>prevQtd</code></code></td><td class='ruff_defitem'>mode of processing a current line (0, 1, -1); <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_em_line' href="javascript:toggleSource('alited_hl_em_line')">Show source</a></p>
<div id='alited_hl_em_line' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_em::line {w {pos {}} {prevQtd 0}} {
  <i><font color=#4b5d50># Highlights a line of .em text (e_menu's menu).</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   pos - position in the line</font></i>
  <i><font color=#4b5d50>#   prevQtd - mode of processing a current line (0, 1, -1)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {<b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$w</font> index insert]}
  <b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$w</font> get <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end]
  <b><font color=#3a6797>foreach</font></b> t {RSIM MARK SECT CMNT VAR VAL} {<font color=#1b1baa>$w</font> tag remove em<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>set</font></b> res no
  <b><font color=#3a6797>lassign</font></b> [getRSIM <font color=#1b1baa>$line</font> {ITEM\s*=|SEP\s*=|%M[^ ] |%C |\[MENU\]\s*$|\[OPTIONS\]\s*$|\[HIDDEN\]\s*$|\[DATA\]\s*$|^\s*#|^::\w+=}] marker pg ln
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$marker</font> ne {}} {
    <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$marker</font> <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>set</font></b> p2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$p1</font>+[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$marker</font>]}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pg</font> ne {-}} {
      <b><font color=#3a6797>set</font></b> tag emRSIM
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>switch</font></b> -- [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$ln</font> 0] {
        \[ {<b><font color=#3a6797>set</font></b> tag emSECT}
        \# {<b><font color=#3a6797>set</font></b> tag emCMNT; <b><font color=#3a6797>set</font></b> p2 end}
        : {
          <font color=#1b1baa>$w</font> tag add emVAR <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 -1]
          <b><font color=#3a6797>set</font></b> tag emVAL
          <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>incr</font></b> p2]
          <b><font color=#3a6797>set</font></b> p2 end
        }
        <b><font color=#3a6797>default</font></b> {
          <b><font color=#3a6797>set</font></b> tag emMARK
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$marker</font>]&gt;0} {<b><font color=#3a6797>set</font></b> p2 end}
        }
      }
    }
    <font color=#1b1baa>$w</font> tag add <font color=#1b1baa>$tag</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font>
    <b><font color=#3a6797>set</font></b> res yes
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::hl_html'></a>::alited::hl_html<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::hl_html-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::hl_html'>hl_html</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::hl_html::init'>init</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_html" title="::alited::hl_html" class='ruff_cmd'>::alited::hl_html</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_html'>hl_html</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes highlighting .html text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>init</span> <span class='ruff_arg'>w font szfont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>font</code></code></td><td class='ruff_defitem'>the text's font</td></tr>
<tr><td class='ruff_defitem'><code><code>szfont</code></code></td><td class='ruff_defitem'>the font's size</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_html_init' href="javascript:toggleSource('alited_hl_html_init')">Show source</a></p>
<div id='alited_hl_html_init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_html::init {w font szfont args} {
  <i><font color=#4b5d50># Initializes highlighting .html text.</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   font - the text's font</font></i>
  <i><font color=#4b5d50>#   szfont - the font's size</font></i>
  <i><font color=#4b5d50>#   args - highlighting colors</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> clrCOM clrCOMTK clrSTR clrVAR clrCMN clrPROC clrOPT
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-size</font> <font color=#1b1baa>$szfont</font>
  <font color=#1b1baa>$w</font> tag config htmVAL <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrSTR</font>
  <font color=#1b1baa>$w</font> tag config htmARG <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrOPT</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold
  <font color=#1b1baa>$w</font> tag config htmTAG <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCOM</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> normal
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-slant</font> italic
  <font color=#1b1baa>$w</font> tag config htmCMN <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCMN</font>
  <b><font color=#3a6797>foreach</font></b> t {TAG CMN} {<b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise htm<font color=#1b1baa>$t</font>}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>namespace</font></b> current]::line
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::hl_html::line'>line</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_html" title="::alited::hl_html" class='ruff_cmd'>::alited::hl_html</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_html'>hl_html</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a line of .html text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>line</span> <span class='ruff_arg'>w ?pos? ?prevQtd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position in the line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>prevQtd</code></code></td><td class='ruff_defitem'>mode of processing a current line (0, 1, -1); <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_html_line' href="javascript:toggleSource('alited_hl_html_line')">Show source</a></p>
<div id='alited_hl_html_line' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_html::line {w {pos {}} {prevQtd 0}} {
  <i><font color=#4b5d50># Highlights a line of .html text.</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   pos - position in the line</font></i>
  <i><font color=#4b5d50>#   prevQtd - mode of processing a current line (0, 1, -1)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {<b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$w</font> index insert]}
  <b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$w</font> get <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end]
  <b><font color=#3a6797>foreach</font></b> t {TAG VAL ARG CMN} {<font color=#1b1baa>$w</font> tag remove htm<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prevQtd</font>==-1} {
    <i><font color=#4b5d50># comments continued (would work with 1 continued line)</font></i>
    <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first --&gt; <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;0} {
      <font color=#1b1baa>$w</font> tag add htmCMN <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end
      <b><font color=#ca14ca>return</font></b> -1
    }
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> repeat { } [<b><font color=#3a6797>incr</font></b> i 2]][<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> [<b><font color=#3a6797>incr</font></b> i] end]
    <font color=#1b1baa>$w</font> tag add htmCMN <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.<font color=#1b1baa>$i</font>
  }
  <b><font color=#3a6797>set</font></b> specs [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {&[a-zA-Z]+;} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$specs</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add htmTAG <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#3a6797>set</font></b> htms [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(&lt;{1}/?\w+)([^&gt;]*&gt;{1})} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> {l1 l2 -} <font color=#1b1baa>$htms</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l1</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> r1 r2
      <font color=#1b1baa>$w</font> tag add htmTAG <font color=#1b1baa>$il</font>.<font color=#1b1baa>$r1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> r2]
      <font color=#1b1baa>$w</font> tag add htmTAG <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
      <b><font color=#3a6797>set</font></b> subline [<font color=#1b1baa>$w</font> get <font color=#1b1baa>$il</font>.<font color=#1b1baa>$r2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 -1]]
      <i><font color=#4b5d50># inside a tag: options may be quoted and not</font></i>
      <b><font color=#3a6797>while</font></b> 1 {
        <i><font color=#4b5d50># first, get an option's name</font></i>
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-indices</font> {\w+=} <font color=#1b1baa>$subline</font>] 0] p1 p2
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font> eq {}} <b><font color=#ca14ca>break</font></b>
        <i><font color=#4b5d50># then, get an option's value</font></i>
        <b><font color=#3a6797>incr</font></b> p2
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$subline</font> <font color=#1b1baa>$p2</font>] eq {&quot;}} {
          <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-indices</font> {<font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>^&quot;</font>]*\&quot;} <font color=#1b1baa>$subline</font>] 0] s1 s2
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$s2</font> eq {}} {
            <b><font color=#3a6797>set</font></b> s1 <font color=#1b1baa>$p2</font>
            <b><font color=#3a6797>set</font></b> s2 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$subline</font>]
          } <b><font color=#3a6797>else</font></b> {
            <b><font color=#3a6797>incr</font></b> s2
          }
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> s1 <font color=#1b1baa>$p2</font>
          <b><font color=#3a6797>set</font></b> s2 [<b><font color=#3a6797>string</font></b> first { } <font color=#1b1baa>$subline</font> <font color=#1b1baa>$s1</font>]
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$s2</font>&lt;0} {<b><font color=#3a6797>set</font></b> s2 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$subline</font>]}
        }
        <i><font color=#4b5d50># erase the currently processed option</font></i>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font> &gt; <font color=#1b1baa>$s2</font>} <b><font color=#ca14ca>break</font></b>
        <b><font color=#3a6797>set</font></b> subline [<b><font color=#3a6797>string</font></b> replace <font color=#1b1baa>$subline</font> <font color=#1b1baa>$p1</font> <font color=#1b1baa>$s2</font> [<b><font color=#3a6797>string</font></b> repeat { } [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$s2</font>-<font color=#1b1baa>$p1</font>+1}]]]
        <i><font color=#4b5d50># highlight name & value</font></i>
        <b><font color=#3a6797>incr</font></b> p1 <font color=#1b1baa>$r2</font>
        <b><font color=#3a6797>incr</font></b> p2 <font color=#1b1baa>$r2</font>
        <font color=#1b1baa>$w</font> tag add htmARG <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font>
        <b><font color=#3a6797>incr</font></b> s1 <font color=#1b1baa>$r2</font>
        <b><font color=#3a6797>incr</font></b> s2 <font color=#1b1baa>$r2</font>
        <font color=#1b1baa>$w</font> tag add htmVAL <font color=#1b1baa>$il</font>.<font color=#1b1baa>$s1</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$s2</font>
      }
    }
  }
  <b><font color=#3a6797>set</font></b> cmns [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {&lt;{1}![^&gt;]*&gt;{1}} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$cmns</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add htmCMN <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#3a6797>set</font></b> cmns [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {&lt;{1}!--[^&gt;]*$} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$cmns</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add htmCMN <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.end
      <b><font color=#ca14ca>return</font></b> -1 ;<i><font color=#4b5d50># comments to be continued</font></i>
    }
  }
  <b><font color=#ca14ca>return</font></b> 0
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::hl_ini'></a>::alited::hl_ini<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::hl_ini-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::hl_ini'>hl_ini</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::hl_ini::init'>init</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_ini" title="::alited::hl_ini" class='ruff_cmd'>::alited::hl_ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_ini'>hl_ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes highlighting .ini text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>init</span> <span class='ruff_arg'>w font szfont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>font</code></code></td><td class='ruff_defitem'>font</td></tr>
<tr><td class='ruff_defitem'><code><code>szfont</code></code></td><td class='ruff_defitem'>font's size</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_ini_init' href="javascript:toggleSource('alited_hl_ini_init')">Show source</a></p>
<div id='alited_hl_ini_init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_ini::init {w font szfont args} {
  <i><font color=#4b5d50># Initializes highlighting .ini text.</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   font - font</font></i>
  <i><font color=#4b5d50>#   szfont - font's size</font></i>
  <i><font color=#4b5d50>#   args - highlighting colors</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> clrCOM clrCOMTK clrSTR clrVAR clrCMN clrPROC
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold
  <font color=#1b1baa>$w</font> tag config iniSECT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrPROC</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> normal
  <font color=#1b1baa>$w</font> tag config iniOPT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCOM</font>
  <font color=#1b1baa>$w</font> tag config iniVAL <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrSTR</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-slant</font> italic
  <font color=#1b1baa>$w</font> tag config iniCMNT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCMN</font>
  <b><font color=#3a6797>foreach</font></b> t {SECT CMNT} {<b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise ini<font color=#1b1baa>$t</font>}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>namespace</font></b> current]::line
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::hl_ini::line'>line</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_ini" title="::alited::hl_ini" class='ruff_cmd'>::alited::hl_ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_ini'>hl_ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a line of .ini text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>line</span> <span class='ruff_arg'>w ?pos? ?prevQtd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position in the line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>prevQtd</code></code></td><td class='ruff_defitem'>mode of processing a current line (0, 1, -1); <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_ini_line' href="javascript:toggleSource('alited_hl_ini_line')">Show source</a></p>
<div id='alited_hl_ini_line' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_ini::line {w {pos {}} {prevQtd 0}} {
  <i><font color=#4b5d50># Highlights a line of .ini text.</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   pos - position in the line</font></i>
  <i><font color=#4b5d50>#   prevQtd - mode of processing a current line (0, 1, -1)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {<b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$w</font> index insert]}
  <b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$w</font> get <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] eq {}} {<b><font color=#ca14ca>return</font></b> yes}
  <b><font color=#3a6797>foreach</font></b> t {SECT OPT VAL CMNT} {<font color=#1b1baa>$w</font> tag remove ini<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^\s*#&quot;</font> <font color=#1b1baa>$line</font>]} {
    <font color=#1b1baa>$w</font> tag add iniCMNT <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {^\s*\[.+\]\s*$} <font color=#1b1baa>$line</font>] lre
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lre</font> ne {}} {
    <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lre</font>]
    <font color=#1b1baa>$w</font> tag add iniSECT <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font>
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#3a6797>set</font></b> opts [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {^\s*([^=]+)\s*(=)\s*(.*)$} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> {- l1 - l2} <font color=#1b1baa>$opts</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l1</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add iniOPT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
      <font color=#1b1baa>$w</font> tag add iniVAL <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::hl_md'></a>::alited::hl_md<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::hl_md-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::hl_md'>hl_md</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::hl_md::init'>init</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_md" title="::alited::hl_md" class='ruff_cmd'>::alited::hl_md</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_md'>hl_md</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes highlighting .md text (markdown).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>init</span> <span class='ruff_arg'>w font szfont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>font</code></code></td><td class='ruff_defitem'>the text's font</td></tr>
<tr><td class='ruff_defitem'><code><code>szfont</code></code></td><td class='ruff_defitem'>the font's size</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_md_init' href="javascript:toggleSource('alited_hl_md_init')">Show source</a></p>
<div id='alited_hl_md_init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_md::init {w font szfont args} {
  <i><font color=#4b5d50># Initializes highlighting .md text (markdown).</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   font - the text's font</font></i>
  <i><font color=#4b5d50>#   szfont - the font's size</font></i>
  <i><font color=#4b5d50>#   args - highlighting colors</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> clrCOM clrCOMTK clrSTR clrVAR clrCMN clrPROC clrOPT
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-size</font> <font color=#1b1baa>$szfont</font>
  <font color=#1b1baa>$w</font> tag config mdCMNT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCMN</font>
  <font color=#1b1baa>$w</font> tag config mdAPOS <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrVAR</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold; <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-slant</font> italic
  <font color=#1b1baa>$w</font> tag config mdBOIT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrVAR</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> normal
  <font color=#1b1baa>$w</font> tag config mdITAL <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrVAR</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold;  <b><font color=#3a6797>set</font></b> font [<b><font color=#3a6797>dict</font></b> remove <font color=#1b1baa>$font</font> <font color=#6c3e67>-slant</font>]
  <font color=#1b1baa>$w</font> tag config mdBOLD <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrVAR</font>
  <font color=#1b1baa>$w</font> tag config mdLIST <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCOM</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> normal
  <font color=#1b1baa>$w</font> tag config mdLINK <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrOPT</font>
  <font color=#1b1baa>$w</font> tag config mdTAG <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrSTR</font>
  <b><font color=#3a6797>foreach</font></b> t {BOIT ITAL BOLD LIST} {<b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise md<font color=#1b1baa>$t</font>}
  <b><font color=#3a6797>foreach</font></b> t {6 5 4 3 2 1} {
    <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold
    <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-size</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$szfont</font> + [<b><font color=#3a6797>incr</font></b> sz] -1}]
    <font color=#1b1baa>$w</font> tag config mdHEAD<font color=#1b1baa>$t</font> <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrPROC</font>
    <b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise mdHEAD<font color=#1b1baa>$t</font>
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>namespace</font></b> current]::line
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::hl_md::line'>line</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_md" title="::alited::hl_md" class='ruff_cmd'>::alited::hl_md</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_md'>hl_md</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a line of .md text (markdown).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>line</span> <span class='ruff_arg'>w ?pos? ?prevQtd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position in the line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>prevQtd</code></code></td><td class='ruff_defitem'>mode of processing a current line (0, 1, -1); <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_md_line' href="javascript:toggleSource('alited_hl_md_line')">Show source</a></p>
<div id='alited_hl_md_line' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_md::line {w {pos {}} {prevQtd 0}} {
  <i><font color=#4b5d50># Highlights a line of .md text (markdown).</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   pos - position in the line</font></i>
  <i><font color=#4b5d50>#   prevQtd - mode of processing a current line (0, 1, -1)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {<b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$w</font> index insert]}
  <b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$w</font> get <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end]
  <b><font color=#3a6797>foreach</font></b> t {LINK TAG CMNT APOS BOIT ITAL BOLD LIST} {<font color=#1b1baa>$w</font> tag remove md<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>foreach</font></b> t {6 5 4 3 2 1} {<font color=#1b1baa>$w</font> tag remove mdHEAD<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#8b2a0e>&quot;    *&quot;</font> <font color=#1b1baa>$line</font>] || [<b><font color=#3a6797>string</font></b> match <font color=#8b2a0e>&quot;\t*&quot;</font> <font color=#1b1baa>$line</font>]} {
    <b><font color=#ca14ca>return</font></b> no ;<i><font color=#4b5d50># Tcl code to be processed by hl_tcl.tcl</font></i>
  }
  <i><font color=#4b5d50># header</font></i>
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#8b2a0e>&quot;^#<font color=#1b1baa>{</font>1,6<font color=#1b1baa>}</font>\[^#\]&quot;</font> <font color=#1b1baa>$line</font>] lre
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lre</font> ne {}} {
    <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>expr</font></b> {min(6,max(1,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lre</font>]-1))}]
    <font color=#1b1baa>$w</font> tag add mdHEAD<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.end
    <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font>
    <b><font color=#ca14ca>return</font></b> yes
  }
  <i><font color=#4b5d50># list beginning with *, -, 1. 2. ..</font></i>
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {^(\s*(([<b><font color=#3a6797>*</font></b>+-])|(\d+\.))\s)} <font color=#1b1baa>$line</font>] lre
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lre</font> ne {}} {
    <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lre</font>]
    <font color=#1b1baa>$w</font> tag add mdLIST <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font>
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> replace <font color=#1b1baa>$line</font> [<b><font color=#3a6797>incr</font></b> p1 -2] <font color=#1b1baa>$p1</font> { }]
  }
  <i><font color=#4b5d50># back apostrophes for code snippets</font></i>
  <b><font color=#3a6797>set</font></b> apos [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(^|[^`])+(`[^`]+`)+([^`]|$)} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> {- - l2 -} <font color=#1b1baa>$apos</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p1]
      <font color=#1b1baa>$w</font> tag add mdAPOS <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font>
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <i><font color=#4b5d50># font highlightings: italic, bold, bold italic</font></i>
  <b><font color=#3a6797>set</font></b> italic [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(^|[^*])+(\*[^*]+\*)+([^*]|$)} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> {- - l2 -} <font color=#1b1baa>$italic</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p1]
      <font color=#1b1baa>$w</font> tag add mdITAL <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font>
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#3a6797>set</font></b> bold [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(^|[^*])+(\*\*[^*]+\*\*)+([^*]|$)} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> {- - l2 -} <font color=#1b1baa>$bold</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p1 2]
      <font color=#1b1baa>$w</font> tag add mdBOLD <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 -1]
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 2]
    }
  }
  <b><font color=#3a6797>set</font></b> bolditalic [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(^|[^*])+(\*\*\*[^*]+\*\*\*)+([^*]|$)} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> {- - l2 -} <font color=#1b1baa>$bolditalic</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p1 3]
      <font color=#1b1baa>$w</font> tag add mdBOIT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 -2]
      <font color=#1b1baa>$w</font> tag add mdCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 3]
    }
  }
  <i><font color=#4b5d50># html link</font></i>
  <b><font color=#3a6797>set</font></b> links [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(!{0,1}\[{1}[^\(\)]*\]{1}\({1}[^\(\)]+\){1})||(&[a-zA-Z]+;)} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$links</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add mdLINK <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <i><font color=#4b5d50># html tag</font></i>
  <b><font color=#3a6797>set</font></b> tags [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {&lt;{1}/?\w+[^&gt;]*&gt;{1}} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$tags</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add mdTAG <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::hl_wiki'></a>::alited::hl_wiki<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::hl_wiki-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::hl_wiki'>hl_wiki</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::hl_wiki::init'>init</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_wiki" title="::alited::hl_wiki" class='ruff_cmd'>::alited::hl_wiki</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_wiki'>hl_wiki</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes highlighting .wiki text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>init</span> <span class='ruff_arg'>w font szfont ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>font</code></code></td><td class='ruff_defitem'>the text's font</td></tr>
<tr><td class='ruff_defitem'><code><code>szfont</code></code></td><td class='ruff_defitem'>the font's size</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_wiki_init' href="javascript:toggleSource('alited_hl_wiki_init')">Show source</a></p>
<div id='alited_hl_wiki_init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_wiki::init {w font szfont args} {
  <i><font color=#4b5d50># Initializes highlighting .wiki text.</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   font - the text's font</font></i>
  <i><font color=#4b5d50>#   szfont - the font's size</font></i>
  <i><font color=#4b5d50>#   args - highlighting colors</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> clrCOM clrCOMTK clrSTR clrVAR clrCMN clrPROC clrOPT
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-size</font> <font color=#1b1baa>$szfont</font>
  <font color=#1b1baa>$w</font> tag config wikiCMNT <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCMN</font>
  <font color=#1b1baa>$w</font> tag config wikiAPOS <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCOMTK</font>
  <font color=#1b1baa>$w</font> tag config wikiCTGR <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrPROC</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-slant</font> italic
  <font color=#1b1baa>$w</font> tag config wikiITAL <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold;  <b><font color=#3a6797>set</font></b> font [<b><font color=#3a6797>dict</font></b> remove <font color=#1b1baa>$font</font> <font color=#6c3e67>-slant</font>]
  <font color=#1b1baa>$w</font> tag config wikiBOLD <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font>
  <font color=#1b1baa>$w</font> tag config wikiLIST <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrCOM</font>
  <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> normal
  <font color=#1b1baa>$w</font> tag config wikiLINK <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrOPT</font>
  <font color=#1b1baa>$w</font> tag config wikiTAG <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrSTR</font>
  <b><font color=#3a6797>foreach</font></b> t {ITAL BOLD LIST} {<b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise wiki<font color=#1b1baa>$t</font>}
  <b><font color=#3a6797>foreach</font></b> t {6 5 4 3 2 1} {
    <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-weight</font> bold
    <b><font color=#3a6797>dict</font></b> set font <font color=#6c3e67>-size</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$szfont</font> + [<b><font color=#3a6797>incr</font></b> sz] -1}]
    <font color=#1b1baa>$w</font> tag config wikiHEAD<font color=#1b1baa>$t</font> <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$clrPROC</font>
    <b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$w</font> tag raise wikiHEAD<font color=#1b1baa>$t</font>
  }
  <b><font color=#3a6797>set</font></b> data(<font color=#1b1baa>$w</font>,code) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>namespace</font></b> current]::line
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::hl_wiki::line'>line</a><span class='ns_scope'> [<a href="alited.html#::alited::hl_wiki" title="::alited::hl_wiki" class='ruff_cmd'>::alited::hl_wiki</a>]</span><span class='tinylink'><a href='alited.html#::alited::hl_wiki'>hl_wiki</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a line of .wiki text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>line</span> <span class='ruff_arg'>w ?pos? ?prevQtd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position in the line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>prevQtd</code></code></td><td class='ruff_defitem'>mode of processing a current line (0, 1, -1); <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_hl_wiki_line' href="javascript:toggleSource('alited_hl_wiki_line')">Show source</a></p>
<div id='alited_hl_wiki_line' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::hl_wiki::line {w {pos {}} {prevQtd 0}} {
  <i><font color=#4b5d50># Highlights a line of .wiki text.</font></i>
  <i><font color=#4b5d50>#   w - the text</font></i>
  <i><font color=#4b5d50>#   pos - position in the line</font></i>
  <i><font color=#4b5d50>#   prevQtd - mode of processing a current line (0, 1, -1)</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {<b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$w</font> index insert]}
  <b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$w</font> get <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end]
  <b><font color=#3a6797>foreach</font></b> t {LINK TAG CMNT APOS CTGR ITAL BOLD LIST} {<font color=#1b1baa>$w</font> tag remove wiki<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>foreach</font></b> t {6 5 4 3 2 1} {<font color=#1b1baa>$w</font> tag remove wikiHEAD<font color=#1b1baa>$t</font> <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#8b2a0e>&quot;    *&quot;</font> <font color=#1b1baa>$line</font>] || [<b><font color=#3a6797>string</font></b> match <font color=#8b2a0e>&quot;\t*&quot;</font> <font color=#1b1baa>$line</font>]} {
    <b><font color=#ca14ca>return</font></b> no ;<i><font color=#4b5d50># Tcl code to be processed by hl_tcl.tcl</font></i>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {^\s*&lt;&lt;[^&lt;&gt;]+&gt;&gt;} <font color=#1b1baa>$line</font>]} {
    <font color=#1b1baa>$w</font> tag add wikiCTGR <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.end
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#3a6797>set</font></b> idxcode [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$data($w,code)</font> <font color=#1b1baa>$il</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] eq {======}} {
    <i><font color=#4b5d50># add start/end of Tcl code</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idxcode</font>&lt;0} {
      <b><font color=#3a6797>lappend</font></b> data(<font color=#1b1baa>$w</font>,code) <font color=#1b1baa>$il</font>
      <b><font color=#3a6797>set</font></b> data(<font color=#1b1baa>$w</font>,code) [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-integer</font> <font color=#1b1baa>$data($w,code)</font>]
    }
    <b><font color=#ca14ca>return</font></b> yes
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># check for Tcl code</font></i>
    <b><font color=#3a6797>set</font></b> data(<font color=#1b1baa>$w</font>,code) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$data($w,code)</font> <font color=#1b1baa>$idxcode</font> <font color=#1b1baa>$idxcode</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idxcode</font>&gt;=0} {<b><font color=#ca14ca>return</font></b> yes}
    <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$data($w,code)</font>]
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> k 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$llen</font>} {} {
      <b><font color=#3a6797>set</font></b> ilc [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$data($w,code)</font> <font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ilc</font>&gt;<font color=#1b1baa>$il</font>} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$k</font>} {<b><font color=#ca14ca>return</font></b> no} ;<i><font color=#4b5d50># inside Tcl code</font></i>
        <b><font color=#ca14ca>break</font></b>
      }
      <b><font color=#3a6797>set</font></b> k [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>incr</font></b> k]%2}]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> i]==<font color=#1b1baa>$llen</font> && <font color=#1b1baa>$k</font>} {
        <b><font color=#ca14ca>return</font></b> no ;<i><font color=#4b5d50># inside Tcl code</font></i>
      }
    }
  }
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#8b2a0e>&quot;^\\*<font color=#1b1baa>{</font>1,6<font color=#1b1baa>}</font>\[^\*\]+\\*<font color=#1b1baa>{</font>1,6<font color=#1b1baa>}</font>&quot;</font> <font color=#1b1baa>$line</font>] lre
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lre</font> ne {}} {
    <b><font color=#3a6797>set</font></b> lrs [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$lre</font> *]
    <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>expr</font></b> {min(6,max(1,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lre</font>]-[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lrs</font>]))}]
    <font color=#1b1baa>$w</font> tag add wikiHEAD<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>il.end -<font color=#1b1baa>$</font>p1 char&quot;</font>
    <font color=#1b1baa>$w</font> tag add wikiCMNT <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font>
    <font color=#1b1baa>$w</font> tag add wikiCMNT <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>il.end -<font color=#1b1baa>[</font>incr p1<font color=#1b1baa>]</font> char&quot;</font> <font color=#1b1baa>$il</font>.end
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {^(\s+[<b><font color=#3a6797>*</font></b>+-]\s)} <font color=#1b1baa>$line</font>] lre
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lre</font> ne {}} {
    <b><font color=#3a6797>set</font></b> p1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lre</font>]
    <font color=#1b1baa>$w</font> tag add wikiLIST <font color=#1b1baa>$il</font>.0 <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font>
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> replace <font color=#1b1baa>$line</font> [<b><font color=#3a6797>incr</font></b> p1 -2] <font color=#1b1baa>$p1</font> { }]
  }
  <b><font color=#3a6797>set</font></b> italic [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(?!'&lt;)'{2}(?!').*?'{2}(?!'&gt;)} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$italic</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add wikiCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p1 2]
      <font color=#1b1baa>$w</font> tag add wikiITAL <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 -1]
      <font color=#1b1baa>$w</font> tag add wikiCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 2]
    }
  }
  <b><font color=#3a6797>set</font></b> bold [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(?!'&lt;)'{3}(?!').*?'{3}(?!'&gt;)} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$bold</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add wikiCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p1 3]
      <font color=#1b1baa>$w</font> tag add wikiBOLD <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 -2]
      <font color=#1b1baa>$w</font> tag add wikiCMNT <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p2</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2 3]
    }
  }
  <b><font color=#3a6797>set</font></b> links [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {(\[{1})[^\]]+(\]{1})} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$links</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add wikiLINK <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
      <b><font color=#3a6797>foreach</font></b> l2 [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {%\|%} <font color=#1b1baa>$line</font>] {
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
          <font color=#1b1baa>$w</font> tag add wikiAPOS <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
        }
      }
    }
  }
  <b><font color=#3a6797>set</font></b> tags [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#6c3e67>-all</font> <font color=#6c3e67>-indices</font> {&lt;{1}/?\w+[^&gt;]*&gt;{1}} <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>foreach</font></b> l2 <font color=#1b1baa>$tags</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$l2</font> p1 p2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$p1</font>&lt;<font color=#1b1baa>$p2</font>} {
      <font color=#1b1baa>$w</font> tag add wikiTAG <font color=#1b1baa>$il</font>.<font color=#1b1baa>$p1</font> <font color=#1b1baa>$il</font>.[<b><font color=#3a6797>incr</font></b> p2]
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::img'></a>::alited::img<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><br><h1 class='ruff'><a name='::alited::indent'></a>::alited::indent<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::indent-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::indent'>indent</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::indent::indent'>indent</a><span class='ns_scope'> [<a href="alited.html#::alited::indent" title="::alited::indent" class='ruff_cmd'>::alited::indent</a>]</span><span class='tinylink'><a href='alited.html#::alited::indent'>indent</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Indents Tcl code.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>indent</span> <span class='ruff_arg'>tclcode pad padchar indcnt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tclcode</code></code></td><td class='ruff_defitem'>text of Tcl code</td></tr>
<tr><td class='ruff_defitem'><code><code>pad</code></code></td><td class='ruff_defitem'>number of spaces per 1 indent</td></tr>
<tr><td class='ruff_defitem'><code><code>padchar</code></code></td><td class='ruff_defitem'>indenting character</td></tr>
<tr><td class='ruff_defitem'><code><code>indcnt</code></code></td><td class='ruff_defitem'>initial indent</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_indent_indent' href="javascript:toggleSource('alited_indent_indent')">Show source</a></p>
<div id='alited_indent_indent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::indent::indent {tclcode pad padchar indcnt} {
  <i><font color=#4b5d50># Indents Tcl code.</font></i>
  <i><font color=#4b5d50>#   tclcode - text of Tcl code</font></i>
  <i><font color=#4b5d50>#   pad - number of spaces per 1 indent</font></i>
  <i><font color=#4b5d50>#   padchar - indenting character</font></i>
  <i><font color=#4b5d50>#   indcnt - initial indent</font></i>

  <b><font color=#3a6797>set</font></b> lines [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tclcode</font> \n]
  <b><font color=#3a6797>set</font></b> out {}
  <b><font color=#3a6797>set</font></b> nquot 0   ;<i><font color=#4b5d50># count of quotes</font></i>
  <b><font color=#3a6797>set</font></b> ncont 0   ;<i><font color=#4b5d50># count of continued strings</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$padchar</font> ne <font color=#8b2a0e>&quot;\t&quot;</font>} {<b><font color=#3a6797>set</font></b> padchar { }}
  <b><font color=#3a6797>set</font></b> padst [<b><font color=#3a6797>string</font></b> repeat <font color=#1b1baa>$padchar</font> <font color=#1b1baa>$pad</font>]
  <b><font color=#3a6797>foreach</font></b> orig <font color=#1b1baa>$lines</font> {
    <b><font color=#3a6797>incr</font></b> lineindex
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lineindex</font>&gt;1} {<b><font color=#3a6797>append</font></b> out \n}
    <b><font color=#3a6797>set</font></b> newline [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$orig</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newline</font> eq {}} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> is_quoted <font color=#1b1baa>$nquot</font>
    <b><font color=#3a6797>set</font></b> is_continued <font color=#1b1baa>$ncont</font>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$orig</font> end] eq <font color=#8b2a0e>&quot;\\&quot;</font>} {
      <b><font color=#3a6797>incr</font></b> ncont
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> ncont 0
    }
    <b><font color=#3a6797>set</font></b> npad [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$indcnt</font> * <font color=#1b1baa>$pad</font>}]
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> repeat <font color=#1b1baa>$padst</font> <font color=#1b1baa>$indcnt</font>]<font color=#1b1baa>$newline</font>
    <b><font color=#3a6797>set</font></b> ns [<b><font color=#3a6797>set</font></b> nl [<b><font color=#3a6797>set</font></b> nr [<b><font color=#3a6797>set</font></b> body 0]]]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$newline</font> 0] ne {#}} {
      <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0; <b><font color=#3a6797>set</font></b> n [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$newline</font>]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$n</font>} {<b><font color=#3a6797>incr</font></b> i} {
        <b><font color=#3a6797>set</font></b> ch [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$newline</font> <font color=#1b1baa>$i</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font> eq <font color=#8b2a0e>&quot;\\&quot;</font>} {
          <b><font color=#3a6797>set</font></b> ns [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>incr</font></b> ns] % 2}]
        } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$ns</font>} {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font> eq {&quot;}} {
            <b><font color=#3a6797>set</font></b> nquot [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>incr</font></b> nquot] % 2}]
          } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$nquot</font>} {
            <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$ch</font> {
              <font color=#8b2a0e>&quot;\{&quot;</font> {
                <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$newline</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>+2] eq <font color=#8b2a0e>&quot;\{\&quot;\}&quot;</font>} {
                  <i><font color=#4b5d50># quote in braces - correct (though tricky)</font></i>
                  <b><font color=#3a6797>incr</font></b> i 2
                } <b><font color=#3a6797>else</font></b> {
                  <b><font color=#3a6797>incr</font></b> nl
                  <b><font color=#3a6797>set</font></b> body -1
                }
              }
              <font color=#8b2a0e>&quot;\}&quot;</font> {
                <b><font color=#3a6797>incr</font></b> nr
                <b><font color=#3a6797>set</font></b> body 0
              }
            }
          }
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> ns 0
        }
      }
    }
    <b><font color=#3a6797>set</font></b> nbbraces [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$nl</font> - <font color=#1b1baa>$nr</font>}]
    <b><font color=#3a6797>incr</font></b> totalbraces <font color=#1b1baa>$nbbraces</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$totalbraces</font>&lt;0} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc {The line %n: unbalanced brace!}]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$lineindex</font>] <font color=#1b1baa>$msg</font>]
      alited::msg ok err <font color=#1b1baa>$msg</font>
      <b><font color=#ca14ca>return</font></b> {}
    }
    <b><font color=#3a6797>incr</font></b> indcnt <font color=#1b1baa>$nbbraces</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nbbraces</font>==0} { <b><font color=#3a6797>set</font></b> nbbraces <font color=#1b1baa>$body</font> }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$is_quoted</font> || <font color=#1b1baa>$is_continued</font>} {
      <b><font color=#3a6797>set</font></b> line <font color=#1b1baa>$orig</font>     ;<i><font color=#4b5d50># don't touch quoted and continued strings</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> np [<b><font color=#3a6797>expr</font></b> {- <font color=#1b1baa>$nbbraces</font> * <font color=#1b1baa>$pad</font>}]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$np</font>&gt;<font color=#1b1baa>$npad</font>} { ;<i><font color=#4b5d50># for safety too</font></i>
        <b><font color=#3a6797>set</font></b> np <font color=#1b1baa>$npad</font>
      }
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$np</font> end]
    }
    <b><font color=#3a6797>append</font></b> out <font color=#1b1baa>$line</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$out</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::indent::normalize'>normalize</a><span class='ns_scope'> [<a href="alited.html#::alited::indent" title="::alited::indent" class='ruff_cmd'>::alited::indent</a>]</span><span class='tinylink'><a href='alited.html#::alited::indent'>indent</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Normalizes all indents of the current Tcl text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>normalize</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_indent_normalize' href="javascript:toggleSource('alited_indent_normalize')">Show source</a></p>
<div id='alited_indent_normalize' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::indent::normalize {} {
  <i><font color=#4b5d50># Normalizes all indents of the current Tcl text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> txtcurr [alited::main::CurrentWTXT]
  <b><font color=#3a6797>lassign</font></b> [alited::main::CalcIndentation <font color=#1b1baa>$txtcurr</font>] pad padchar
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pad</font>&lt;1} {
    alited::msg ok err <font color=#8b2a0e>&quot;No indentation set.\nSee 'Setup/Projects/Options'.&quot;</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;Correct the indentation of \&quot;%f\&quot;\nwith indenting %i spaces?&quot;</font>]
  <b><font color=#3a6797>set</font></b> ipad <font color=#1b1baa>$pad</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$padchar</font> eq <font color=#8b2a0e>&quot;\t&quot;</font>} {<b><font color=#3a6797>append</font></b> ipad { Tab}}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %i <font color=#1b1baa>$ipad</font>] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName]]] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>set</font></b> res [alited::msg yesno ques <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,corrindent)</font> <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,othertcl)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    ::apave::setTextIndent <font color=#1b1baa>$pad</font> <font color=#1b1baa>$padchar</font>
    <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
      <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] fname txt
      <b><font color=#3a6797>if</font></b> {[alited::file::IsTcl <font color=#1b1baa>$fname</font>] && (<font color=#1b1baa>$res</font>==11 || <font color=#1b1baa>$txt</font> eq <font color=#1b1baa>$txtcurr</font>)} {
        <b><font color=#3a6797>set</font></b> contents [<font color=#1b1baa>$txt</font> get 1.0 {end -1 chars}]
        <b><font color=#3a6797>set</font></b> contents [indent <font color=#1b1baa>$contents</font> <font color=#1b1baa>$pad</font> <font color=#1b1baa>$padchar</font> 0]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$contents</font> ne {}} {
          undoIn <font color=#1b1baa>$txt</font>
          <font color=#1b1baa>$txt</font> replace 1.0 end <font color=#1b1baa>$contents</font>
          undoOut <font color=#1b1baa>$txt</font>
          alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
        }
      }
    }
    alited::main::UpdateTextGutterTreeIcons
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::info'></a>::alited::info<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::info-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::info::Clear'>Clear</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears the info listbox widget and the related data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Clear</span> <span class='ruff_arg'>?i?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>index of message (if omitted, clears all messages); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_Clear' href="javascript:toggleSource('alited_info_Clear')">Show source</a></p>
<div id='alited_info_Clear' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::Clear {{i -1}} {
  <i><font color=#4b5d50># Clears the info listbox widget and the related data.</font></i>
  <i><font color=#4b5d50>#   i - index of message (if omitted, clears all messages)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> list
  <b><font color=#3a6797>variable</font></b> info
  <b><font color=#3a6797>variable</font></b> lastred
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> == -2} {
    <i><font color=#4b5d50># no action</font></i>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$i</font> == -1} {
    <b><font color=#3a6797>set</font></b> list [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>list</font></b>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> csGet] fg
    <b><font color=#3a6797>catch</font></b> {[<font color=#1b1baa>$obPav</font> LbxInfo] itemconfigure <font color=#1b1baa>$i</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font>}
    <b><font color=#3a6797>set</font></b> list [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$list</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$info</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  }
  <b><font color=#3a6797>set</font></b> lastred -2
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::ClearOut'>ClearOut</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears and out of the info listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearOut</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_ClearOut' href="javascript:toggleSource('alited_info_ClearOut')">Show source</a></p>
<div id='alited_info_ClearOut' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::ClearOut {} {
  <i><font color=#4b5d50># Clears and out of the info listbox.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  Clear
  alited::main::FocusText
  FocusOut [<font color=#1b1baa>$obPav</font> SbhInfo]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::ClearRed'>ClearRed</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears a red message in info bar (if it was displayed).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearRed</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_ClearRed' href="javascript:toggleSource('alited_info_ClearRed')">Show source</a></p>
<div id='alited_info_ClearRed' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::ClearRed {} {
  <i><font color=#4b5d50># Clears a red message in info bar (if it was displayed).</font></i>

  <b><font color=#3a6797>variable</font></b> lastred
  Clear <font color=#1b1baa>$lastred</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::FocusIn'>FocusIn</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>At focusing in the info listbox, shows its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusIn</span> <span class='ruff_arg'>sbhi lbxi</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sbhi</code></code></td><td class='ruff_defitem'>scrollbar's path</td></tr>
<tr><td class='ruff_defitem'><code><code>lbxi</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_FocusIn' href="javascript:toggleSource('alited_info_FocusIn')">Show source</a></p>
<div id='alited_info_FocusIn' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::FocusIn {sbhi lbxi} {
  <i><font color=#4b5d50># At focusing in the info listbox, shows its scrollbar.</font></i>
  <i><font color=#4b5d50>#   sbhi - scrollbar's path</font></i>
  <i><font color=#4b5d50>#   lbxi - listbox's path</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> ismapped <font color=#1b1baa>$sbhi</font>]} {
    <b><font color=#134070>pack</font></b> <font color=#1b1baa>$sbhi</font> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-before</font> <font color=#1b1baa>$lbxi</font> <font color=#6c3e67>-fill</font> both
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::FocusOut'>FocusOut</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>At focusing out of the info listbox, hides its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusOut</span> <span class='ruff_arg'>sbhi</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sbhi</code></code></td><td class='ruff_defitem'>scrollbar's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_FocusOut' href="javascript:toggleSource('alited_info_FocusOut')">Show source</a></p>
<div id='alited_info_FocusOut' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::FocusOut {sbhi} {
  <i><font color=#4b5d50># At focusing out of the info listbox, hides its scrollbar.</font></i>
  <i><font color=#4b5d50>#   sbhi - scrollbar's path</font></i>

  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focustext</font>} {
    <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$sbhi</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::ListboxSelect'>ListboxSelect</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection event of the info listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ListboxSelect</span> <span class='ruff_arg'>w ?checkit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
<tr><td class='ruff_defitem'><code><code>checkit</code></code></td><td class='ruff_defitem'>flag to check for the repeated calls of this procedure; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_ListboxSelect' href="javascript:toggleSource('alited_info_ListboxSelect')">Show source</a></p>
<div id='alited_info_ListboxSelect' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::ListboxSelect {w {checkit no}} {
  <i><font color=#4b5d50># Handles a selection event of the info listbox.</font></i>
  <i><font color=#4b5d50>#   w - listbox's path</font></i>
  <i><font color=#4b5d50>#   checkit - flag to check for the repeated calls of this procedure</font></i>

  <b><font color=#3a6797>variable</font></b> info
  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>variable</font></b> selectmsec
  <b><font color=#3a6797>variable</font></b> selectafter
  <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
  <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$selectmsec</font>)&lt;500 && <font color=#1b1baa>$checkit</font>} {
    <i><font color=#4b5d50># this disables updating at key pressing, let a user release the key</font></i>
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$selectafter</font>}
    <b><font color=#3a6797>set</font></b> selectafter [<b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::info::ListboxSelect <font color=#1b1baa>$</font>w yes&quot;</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$w</font> curselection] 0]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$sel</font>]} {
      <b><font color=#3a6797>update</font></b>
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$info</font> <font color=#1b1baa>$sel</font>] TID line
      <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne [alited::bar::CurrentTabID]} {
          alited::favor::SkipVisited yes
          alited::bar::BAR <font color=#1b1baa>$TID</font> show
          alited::find::SetTags [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
        }
        <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;catch <font color=#1b1baa>{</font>  alited::main::FocusText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>line.0 ;  alited::tree::NewSelection <font color=#1b1baa>{}</font> <font color=#1b1baa>$</font>line.0 yes ;  alited::main::HighlightLine<font color=#1b1baa>}</font>&quot;</font>
        <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$focustext</font>} {<b><font color=#3a6797>after</font></b> 100 <font color=#8b2a0e>&quot;focus <font color=#1b1baa>$</font>w&quot;</font>}
      }
    }
  }
  <b><font color=#3a6797>set</font></b> selectmsec <font color=#1b1baa>$msec</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::PopupMenu'>PopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a popup menu on the info listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupMenu</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_PopupMenu' href="javascript:toggleSource('alited_info_PopupMenu')">Show source</a></p>
<div id='alited_info_PopupMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::PopupMenu {X Y} {
  <i><font color=#4b5d50># Runs a popup menu on the info listbox.</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of mouse pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$al(WIN)</font>.popupInfo
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favordelall)</font> <font color=#6c3e67>-command</font> alited::info::ClearOut
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focustext</font>} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Don't focus a text after selecting in infobar}]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Focus a text after selecting in infobar}]
  }
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$msg</font> <font color=#6c3e67>-command</font> alited::info::SwitchFocustext
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::Put'>Put</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a message to the info listbox widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Put</span> <span class='ruff_arg'>msg ?inf? ?bold? ?red? ?see? ?fg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>inf</code></code></td><td class='ruff_defitem'>additional data for the message (1st line of unit etc.); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>bold</code></code></td><td class='ruff_defitem'>if yes, displays the message bolded; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>red</code></code></td><td class='ruff_defitem'>if yes, makes the message seen in red color; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>see</code></code></td><td class='ruff_defitem'>if yes, makes the message seen; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fg</code></code></td><td class='ruff_defitem'>{} or foreground color or -fg; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_Put' href="javascript:toggleSource('alited_info_Put')">Show source</a></p>
<div id='alited_info_Put' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::Put {msg {inf {}} {bold no} {red no} {see no} {fg {}}} {
  <i><font color=#4b5d50># Puts a message to the info listbox widget.</font></i>
  <i><font color=#4b5d50>#   msg - the message</font></i>
  <i><font color=#4b5d50>#   inf - additional data for the message (1st line of unit etc.)</font></i>
  <i><font color=#4b5d50>#   bold - if yes, displays the message bolded</font></i>
  <i><font color=#4b5d50>#   red - if yes, makes the message seen in red color</font></i>
  <i><font color=#4b5d50>#   see - if yes, makes the message seen</font></i>
  <i><font color=#4b5d50>#   fg - {} or foreground color or -fg</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> list
  <b><font color=#3a6797>variable</font></b> info
  <b><font color=#3a6797>variable</font></b> lastred
  ClearRed
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$list</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$list</font> end] eq {} && <font color=#1b1baa>$msg</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>lappend</font></b> list <font color=#1b1baa>$msg</font>
  <b><font color=#3a6797>lappend</font></b> info <font color=#1b1baa>$inf</font>
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPav</font> LbxInfo]
  <b><font color=#3a6797>lassign</font></b> [alited::FgFgBold] -&gt; fgbold fgred
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$red</font> || <font color=#1b1baa>$see</font>} {
    <font color=#1b1baa>$lbx</font> see end
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$red</font>} {
    <b><font color=#3a6797>set</font></b> fgbold <font color=#1b1baa>$fgred</font>
    <b><font color=#3a6797>set</font></b> lastred <font color=#1b1baa>$llen</font>
  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$bold</font> && <font color=#1b1baa>$fg</font> eq {}} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fg</font> ne {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fg</font> eq <font color=#8b2a0e>&quot;-fg&quot;</font>} {
      <b><font color=#3a6797>lassign</font></b> [alited::FgAdditional] -&gt; fg
    }
    <b><font color=#3a6797>set</font></b> fgbold <font color=#1b1baa>$fg</font>
  }
  <font color=#1b1baa>$lbx</font> itemconfigure end <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgbold</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::SwitchFocustext'>SwitchFocustext</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches a variable of flag &quot;listbox is focused&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchFocustext</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_info_SwitchFocustext' href="javascript:toggleSource('alited_info_SwitchFocustext')">Show source</a></p>
<div id='alited_info_SwitchFocustext' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::SwitchFocustext {} {
  <i><font color=#4b5d50># Switches a variable of flag &quot;listbox is focused&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focustext</font>} {
    <b><font color=#3a6797>set</font></b> focustext 0
    <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPav</font> LbxInfo]
    <b><font color=#134070>focus</font></b> <font color=#1b1baa>$lbx</font>
    <b><font color=#3a6797>catch</font></b> {
      <font color=#1b1baa>$lbx</font> selection clear 0 end
      <font color=#1b1baa>$lbx</font> selection set 0
      <font color=#1b1baa>$lbx</font> activate 0
      <font color=#1b1baa>$lbx</font> see 0
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> focustext 1
    FocusOut [<font color=#1b1baa>$obPav</font> SbhInfo]
    alited::main::FocusText
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::ini'></a>::alited::ini<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::ini-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::ini::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes alited app.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini__init' href="javascript:toggleSource('alited_ini__init')">Show source</a></p>
<div id='alited_ini__init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::_init {} {
  <i><font color=#4b5d50># Initializes alited app.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav obDlg obDlg obDl2 obDl2  obFND obFND obFN2 obFN2 obCHK obCHK obRun obRun
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num em_ico em_ico em_inf em_inf em_mnu em_mnu

  ::apave::initBaltip
  obj chooserGeomVars ::alited::DirGeometry ::alited::FilGeometry
  GetUserDirs
  CheckIni
  ReadIni
  InitFonts

  <b><font color=#3a6797>lassign</font></b> [::apave::InitTheme <font color=#1b1baa>$al(THEME)</font> <font color=#1b1baa>$::alited::LIBDIR</font>] theme lbd
  ::apave::initWM <font color=#6c3e67>-cursorwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font> <font color=#6c3e67>-theme</font> <font color=#1b1baa>$theme</font> <font color=#6c3e67>-labelborder</font> <font color=#1b1baa>$lbd</font>
  ::apave::iconImage <font color=#6c3e67>-init</font> <font color=#1b1baa>$al(INI,ICONS)</font> yes
  <b><font color=#3a6797>set</font></b> ::apave::MC_NS ::alited
  InitGUI
  GetUserDirs

  <i><font color=#4b5d50># get hotkeys</font></i>
  alited::pref::IniKeys
  alited::pref::RegisterKeys
  alited::pref::KeyAccelerators

  <i><font color=#4b5d50># create main apave objects</font></i>
  ::apave::APave create <font color=#1b1baa>$obPav</font> <font color=#1b1baa>$al(WIN)</font>
  <b><font color=#3a6797>foreach</font></b> ob [::alited::ListPaved] {
    ::apave::APave create [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$ob</font>] <font color=#1b1baa>$al(WIN)</font>
  }

  <i><font color=#4b5d50># here, the order of icons defines their order in the toolbar</font></i>
  <b><font color=#3a6797>set</font></b> listIcons [::apave::iconImage]
  <i><font color=#4b5d50># the below icons' order defines their order in the toolbar</font></i>
  TipToolHotkeys
  <b><font color=#3a6797>foreach</font></b> {icon} {none gulls heart add change delete up down paste plus minus retry  misc previous previous2 next next2 folder file OpenFile SaveFile saveall undo redo  box replace ok color date help run e_menu other trash actions paste copy} {
    <b><font color=#3a6797>set</font></b> img [CreateIcon <font color=#1b1baa>$icon</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icon</font> in {<b><font color=#3a6797>file</font></b> OpenFile SaveFile saveall box undo redo replace  ok color date help run e_menu other}} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icon</font> eq {run}} {
        <b><font color=#3a6797>set</font></b> com <font color=#8b2a0e>&quot;-command alited::tool::TooltipRun&quot;</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> com <font color=#8b2a0e>&quot;&quot;</font>
      }
      <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>img-big \{<font color=#1b1baa>{}</font> -tip <font color=#1b1baa>{$</font>::alited::al(MC,ico<font color=#1b1baa>$</font>icon)@@ -under 4 <font color=#1b1baa>$</font>com<font color=#1b1baa>}</font>  -popup <font color=#1b1baa>{</font>alited::tool::PopupBar %X %Y<font color=#1b1baa>}</font> &quot;</font>
      <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$icon</font> {
        <b><font color=#3a6797>file</font></b> {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::file::NewFile\}&quot;</font>
        }
        OpenFile {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::file::OpenFile\} sev 6&quot;</font>
        }
        SaveFile {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::file::SaveFile -state disabled\}&quot;</font>
        }
        saveall {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::file::SaveAll -state disabled\} sev 6&quot;</font>
        }
        undo {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::tool::Undo -state disabled\}&quot;</font>
        }
        redo {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::tool::Redo -state disabled\} sev 6&quot;</font>
        }
        box {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::project::_run\} sev 6&quot;</font>
        }
        replace {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::find::_run\}&quot;</font>
        }
        ok {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::CheckRun\}&quot;</font>
        }
        color {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::tool::ColorPicker\}&quot;</font>
        }
        date {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::tool::DatePicker\}&quot;</font>
        }
        help {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::tool::Help\} sev 6&quot;</font>
        }
        run {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com <font color=#1b1baa>{</font>alited::tool::_run <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font> -doit yes<font color=#1b1baa>}</font>\}&quot;</font>
        }
        e_menu {
          <b><font color=#134070>image</font></b> create photo <font color=#1b1baa>$img</font>-big <font color=#6c3e67>-data</font> <font color=#1b1baa>$::alited::img::_AL_IMG(e_menu)</font>
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com <font color=#1b1baa>{</font>alited::tool::e_menu o=0<font color=#1b1baa>}</font>\}&quot;</font>
        }
        other {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::tool::tkcon\}&quot;</font>
        }
      }
    }
  }
  <i><font color=#4b5d50># e_menu items for the toolbar</font></i>
  <b><font color=#3a6797>set</font></b> limgs [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> em_N [Em_Number <font color=#1b1baa>$em_Num</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> was 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_ico(<font color=#1b1baa>$i</font>)] && (<font color=#1b1baa>$em_ico($i)</font> ni {none {}} || <font color=#1b1baa>$em_inf($i)</font> eq {})} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> was]==1 && <font color=#1b1baa>$em_inf($i)</font> ne {}} {
        <b><font color=#3a6797>append</font></b> al(atools) { sev 6}
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_inf($i)</font> eq {}} {
        <b><font color=#3a6797>append</font></b> al(atools) { sev 6}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> tico [alited::TextIcon <font color=#1b1baa>$em_ico($i)</font>]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tico</font>]==1 || ![<b><font color=#3a6797>string</font></b> is ascii <font color=#1b1baa>$tico</font>]} {
          <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$tico</font>
          <b><font color=#3a6797>set</font></b> img _<font color=#1b1baa>$i</font>
          <b><font color=#3a6797>set</font></b> txt <font color=#8b2a0e>&quot;-t <font color=#1b1baa>$</font>tico&quot;</font>
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> img [CreateIcon <font color=#1b1baa>$tico</font>]-big
          <b><font color=#3a6797>set</font></b> txt {}
        }
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$limgs</font> <font color=#1b1baa>$img</font>]&gt;-1} {
          <b><font color=#3a6797>set</font></b> msg [msgcat::mc {ERROR! Duplicate tool icon: }]
          <b><font color=#3a6797>append</font></b> msg [<b><font color=#3a6797>string</font></b> map {<font color=#6c3e67>-big</font> {}} [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$img</font> _] end]]
          <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> alited::Message <font color=#1b1baa>$msg</font> 4]
          <b><font color=#ca14ca>continue</font></b>
        }
        <b><font color=#3a6797>set</font></b> com [alited::tool::EM_command <font color=#1b1baa>$i</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
          <b><font color=#3a6797>lappend</font></b> limgs <font color=#1b1baa>$img</font>
          <b><font color=#3a6797>set</font></b> tip <font color=#1b1baa>$em_mnu($i)</font>
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>img \{<font color=#1b1baa>{}</font> -tip <font color=#1b1baa>{$</font>tip@@ -under 4  -command <font color=#1b1baa>{</font>alited::ini::ToolbarTip <font color=#1b1baa>$</font>i<font color=#1b1baa>}}</font> <font color=#1b1baa>$</font>txt  -popup <font color=#1b1baa>{</font>alited::tool::PopupBar %X %Y<font color=#1b1baa>}</font> -com <font color=#1b1baa>{$</font>com<font color=#1b1baa>}</font>\}&quot;</font>
        }
      }
    }
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;8} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#134070>image</font></b> create photo alimg_pro<font color=#1b1baa>$i</font> <font color=#6c3e67>-data</font> [<b><font color=#3a6797>set</font></b> ::alited::img::_AL_IMG(<font color=#1b1baa>$i</font>)]
  }
  <b><font color=#134070>image</font></b> create photo alimg_tclfile <font color=#6c3e67>-data</font> [<b><font color=#3a6797>set</font></b> ::alited::img::_AL_IMG(Tcl)]
  <b><font color=#134070>image</font></b> create photo alimg_kbd <font color=#6c3e67>-data</font> [<b><font color=#3a6797>set</font></b> ::alited::img::_AL_IMG(kbd)]
  <i><font color=#4b5d50># styles & fonts used in &quot;small&quot; dialogues</font></i>
  initStyles
  <b><font color=#3a6797>lassign</font></b> [obj create_FontsType small <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>]  al(FONT,defsmall) al(FONT,monosmall)
  <b><font color=#3a6797>lassign</font></b> [alited::FgFgBold] -&gt; al(FG,Bold)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::AddConfigDir'>AddConfigDir</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a config directory to the list of all config dirs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddConfigDir</span> <span class='ruff_arg'>confdir configs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>confdir</code></code></td><td class='ruff_defitem'>config directory</td></tr>
<tr><td class='ruff_defitem'><code><code>configs</code></code></td><td class='ruff_defitem'>list of config dirs</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns -1, if <em>confdir</em> was absent in <em>configs</em>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_AddConfigDir' href="javascript:toggleSource('alited_ini_AddConfigDir')">Show source</a></p>
<div id='alited_ini_AddConfigDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::AddConfigDir {confdir configs} {
  <i><font color=#4b5d50># Adds a config directory to the list of all config dirs.</font></i>
  <i><font color=#4b5d50>#   confdir - config directory</font></i>
  <i><font color=#4b5d50>#   configs - list of config dirs</font></i>
  <i><font color=#4b5d50># Returns -1, if *confdir* was absent in *configs*.</font></i>

  <b><font color=#3a6797>set</font></b> ::alited::CONFIGDIR <font color=#1b1baa>$confdir</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> res [::apave::lsearchFile <font color=#1b1baa>$configs</font> <font color=#1b1baa>$confdir</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> configs [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$configs</font> <font color=#1b1baa>$res</font> <font color=#1b1baa>$res</font>]
  }
  <b><font color=#3a6797>set</font></b> ::alited::CONFIGS [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$configs</font> 0 <font color=#1b1baa>$confdir</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::AlitedVersion'>AlitedVersion</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets current version of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AlitedVersion</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_AlitedVersion' href="javascript:toggleSource('alited_ini_AlitedVersion')">Show source</a></p>
<div id='alited_ini_AlitedVersion' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::AlitedVersion {} {
  <i><font color=#4b5d50># Gets current version of alited.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>package</font></b> require alited]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CheckIni'>CheckIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the configuration directory exists and if not asks for it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_CheckIni' href="javascript:toggleSource('alited_ini_CheckIni')">Show source</a></p>
<div id='alited_ini_CheckIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CheckIni {} {
  <i><font color=#4b5d50># Checks if the configuration directory exists and if not asks for it.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$::alited::INIDIR</font>] || ![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$::alited::PRJDIR</font>]} {
    ::apave::initWM <font color=#6c3e67>-cursorwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>
    InitGUI
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> .tex}
    <b><font color=#3a6797>if</font></b> {![GetConfiguration]} <b><font color=#3a6797>exit</font></b>
    ::alited::main_user_dirs
    GetUserDirs yes
    CreateUserDirs
    <b><font color=#3a6797>set</font></b> al(ALEversion) [AlitedVersion]
  }
  <b><font color=#3a6797>if</font></b> {[AddConfigDir <font color=#1b1baa>$::alited::CONFIGDIR</font> <font color=#1b1baa>$::alited::CONFIGS</font>]&lt;0} {
    SaveIniGlob
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CheckUpdates'>CheckUpdates</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates significant data of current version of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUpdates</span> <span class='ruff_arg'>doit</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>yes, if it's called from menu</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_CheckUpdates' href="javascript:toggleSource('alited_ini_CheckUpdates')">Show source</a></p>
<div id='alited_ini_CheckUpdates' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CheckUpdates {doit} {
  <i><font color=#4b5d50># Updates significant data of current version of alited.</font></i>
  <i><font color=#4b5d50>#   doit - yes, if it's called from menu</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DATAUSERINIFILE DATAUSERINIFILE MNUDIR MNUDIR
  <b><font color=#3a6797>set</font></b> al(_updmnu_) [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$doit</font> || [<b><font color=#3a6797>package</font></b> vcompare <font color=#1b1baa>$al(ALEversion)</font> <font color=#1b1baa>$al(MNUversion)</font>]&lt;0}]
  <b><font color=#3a6797>set</font></b> al(_updini_) [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$doit</font> || [<b><font color=#3a6797>package</font></b> vcompare <font color=#1b1baa>$al(ALEversion)</font> <font color=#1b1baa>$al(INIversion)</font>]&lt;0}]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(_updmnu_)</font> && !<font color=#1b1baa>$al(_updini_)</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> head <font color=#8b2a0e>&quot;\n <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Some things have been changed in alited %v.<font color=#1b1baa>}]</font> &quot;</font>
  <b><font color=#3a6797>set</font></b> head [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %v v[AlitedVersion]] <font color=#1b1baa>$head</font>]
  <b><font color=#3a6797>set</font></b> date _[<b><font color=#3a6797>clock</font></b> format [<b><font color=#3a6797>clock</font></b> seconds] <font color=#6c3e67>-format</font> %Y-%m-%d]
  <b><font color=#3a6797>set</font></b> al(_updDirMnu_) [<b><font color=#3a6797>file</font></b> normalize <font color=#1b1baa>$al(EM,mnudir)$date</font>]
  <b><font color=#3a6797>set</font></b> inidir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(INI)</font>]
  <b><font color=#3a6797>set</font></b> inifile [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$al(INI)</font>]
  <b><font color=#3a6797>set</font></b> iniext [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$inifile</font>]
  <b><font color=#3a6797>set</font></b> inifile [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$inifile</font>]
  <b><font color=#3a6797>set</font></b> al(_updFileIni_) [<b><font color=#3a6797>file</font></b> normalize [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$inidir</font> <font color=#1b1baa>$inifile$date$iniext</font>]]
  <b><font color=#3a6797>set</font></b> pobj alitedObjToDel
  ::apave::APave create <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$al(WIN)</font>
  <b><font color=#3a6797>set</font></b> mnudo [<b><font color=#3a6797>expr</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(_updDirMnu_)</font>]}]
  <b><font color=#3a6797>set</font></b> inido [<b><font color=#3a6797>expr</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(_updFileIni_)</font>]}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font>} {
    <b><font color=#3a6797>set</font></b> lab5 {}
    <b><font color=#3a6797>set</font></b> ::alited::al(_updmnu_) <font color=#1b1baa>$mnudo</font>
    <b><font color=#3a6797>set</font></b> ::alited::al(_updini_) <font color=#1b1baa>$inido</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> lab5 [<b><font color=#3a6797>list</font></b>  seh2  {{} {<font color=#6c3e67>-pady</font> 10} {}} {}  lab5  {{} {<font color=#6c3e67>-padx</font> 5} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,restart)</font>}}} {}  ]
  }
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$pobj</font> input {} <font color=#1b1baa>$al(MC,updateALE)</font>\ v<font color=#1b1baa>$al(ALEversion)</font> [<b><font color=#3a6797>list</font></b>  lab1  {{} {} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,updLab1)</font>}}}  {}  chb1  {{} {<font color=#6c3e67>-padx</font> 10} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,updmnu)</font>}}} {<font color=#1b1baa>$::alited::al(_updmnu_)</font>}  chb2  {{} {<font color=#6c3e67>-padx</font> 10} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,updini)</font>}}} {<font color=#1b1baa>$::alited::al(_updini_)</font>}  seh1  {{} {<font color=#6c3e67>-pady</font> 10} {}} {}  lab2  {{} {} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,updLab2)</font>}}} {}  lab3  {{} {<font color=#6c3e67>-padx</font> 20} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(_updDirMnu_)</font>}}} {}  lab4  {{} {<font color=#6c3e67>-padx</font> 20} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(_updFileIni_)</font>}}} {}  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$lab5</font>  ] <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font> <font color=#6c3e67>-weight</font> bold <font color=#6c3e67>-buttons</font> <font color=#8b2a0e>&quot;butHELP <font color=#1b1baa>{</font>View Changes<font color=#1b1baa>}</font> ::alited::ini::ViewUpdates&quot;</font> <font color=#6c3e67>-resizable</font> no <font color=#6c3e67>-focus</font> *YES]  res updmnu updini
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$pobj</font> destroy}
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font>} {<b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font>} <b><font color=#ca14ca>return</font></b> else exit}
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$updmnu</font> && !<font color=#1b1baa>$updini</font>} <b><font color=#ca14ca>return</font></b>
  CreatePossibleNewDirs ;<i><font color=#4b5d50># it's good to do it here</font></i>
  <b><font color=#3a6797>set</font></b> err {}
  <b><font color=#3a6797>set</font></b> mnudone 0
  <b><font color=#3a6797>set</font></b> inidone 0
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$updmnu</font> && <font color=#1b1baa>$mnudo</font> &&  ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> rename <font color=#1b1baa>$al(EM,mnudir)</font> <font color=#1b1baa>$al(_updDirMnu_)</font>} err]} {
    <b><font color=#3a6797>set</font></b> err {}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font> eq {} && <font color=#1b1baa>$updmnu</font> && <font color=#1b1baa>$mnudo</font>} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$MNUDIR</font> <font color=#1b1baa>$al(EM,mnudir)</font>} err]} {
      <b><font color=#3a6797>set</font></b> err {}
      <b><font color=#3a6797>set</font></b> mnudone 1
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font> eq {} && <font color=#1b1baa>$updini</font> && <font color=#1b1baa>$inido</font> &&  ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$al(INI)</font> <font color=#1b1baa>$al(_updFileIni_)</font>} err]} {
    <b><font color=#3a6797>set</font></b> err {}
    <b><font color=#3a6797>set</font></b> inidone 1
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font> eq {} && <font color=#1b1baa>$inidone</font>} {
    UpdateTemplates <font color=#1b1baa>$DATAUSERINIFILE</font>
  }
  alited::ini::SaveIni
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font>} {
    alited::Exit - 1 no
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font> ne {}} {
      ::apave::APave create <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$al(WIN)</font>
      <font color=#1b1baa>$pobj</font> ok err Error <font color=#1b1baa>$err</font> <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-h</font> {3 5}
      <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$pobj</font> destroy}
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$mnudone</font> || <font color=#1b1baa>$inidone</font>} {
      <b><font color=#3a6797>set</font></b> msg <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,updateALE):&quot;</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mnudone</font>} {<b><font color=#3a6797>append</font></b> msg <font color=#8b2a0e>&quot;   <font color=#1b1baa>$</font>al(MC,updmnu)&quot;</font>}
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inidone</font>} {<b><font color=#3a6797>append</font></b> msg <font color=#8b2a0e>&quot;   <font color=#1b1baa>$</font>al(MC,updini)&quot;</font>}
      alited::Message <font color=#8b2a0e>&quot;\n <font color=#1b1baa>$</font>msg \n&quot;</font> 3
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreateIcon'>CreateIcon</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Create an icon (of normal and big size).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateIcon</span> <span class='ruff_arg'>icon</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>name of icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_CreateIcon' href="javascript:toggleSource('alited_ini_CreateIcon')">Show source</a></p>
<div id='alited_ini_CreateIcon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CreateIcon {icon} {
  <i><font color=#4b5d50># Create an icon (of normal and big size).</font></i>
  <i><font color=#4b5d50>#   icon - name of icon</font></i>

  <b><font color=#3a6797>set</font></b> img alimg_<font color=#1b1baa>$icon</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>image</font></b> create photo <font color=#1b1baa>$img</font>-big <font color=#6c3e67>-data</font> [::apave::iconData <font color=#1b1baa>$icon</font>]}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>image</font></b> create photo <font color=#1b1baa>$img</font> <font color=#6c3e67>-data</font> [::apave::iconData <font color=#1b1baa>$icon</font> small]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$img</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreateMacrosDir'>CreateMacrosDir</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates macros' directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateMacrosDir</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_CreateMacrosDir' href="javascript:toggleSource('alited_ini_CreateMacrosDir')">Show source</a></p>
<div id='alited_ini_CreateMacrosDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CreateMacrosDir {} {
  <i><font color=#4b5d50># Creates macros' directory.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DATAUSER DATAUSER
  <b><font color=#3a6797>set</font></b> macrodir [<b><font color=#3a6797>file</font></b> dirname [alited::edit::MacroFileName -]]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$macrodir</font>]} {
    <b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$macrodir</font>
    <b><font color=#3a6797>foreach</font></b> f [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATAUSER</font> macro *]] {
      <b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$f</font> <font color=#1b1baa>$macrodir</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreatePossibleNewDirs'>CreatePossibleNewDirs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a user directories, possibly new after v1.4.0 (e.g. macro).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreatePossibleNewDirs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_CreatePossibleNewDirs' href="javascript:toggleSource('alited_ini_CreatePossibleNewDirs')">Show source</a></p>
<div id='alited_ini_CreatePossibleNewDirs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CreatePossibleNewDirs {} {
  <i><font color=#4b5d50># Creates a user directories, possibly new after v1.4.0 (e.g. macro).</font></i>

  CreateMacrosDir
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreateUserDirs'>CreateUserDirs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates main directories for settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateUserDirs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_CreateUserDirs' href="javascript:toggleSource('alited_ini_CreateUserDirs')">Show source</a></p>
<div id='alited_ini_CreateUserDirs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CreateUserDirs {} {
  <i><font color=#4b5d50># Creates main directories for settings.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al USERDIR USERDIR INIDIR INIDIR PRJDIR PRJDIR  MNUDIR MNUDIR DATAUSER DATAUSER DATAUSERINIFILE DATAUSERINIFILE PRJEXT PRJEXT
  <b><font color=#3a6797>foreach</font></b> dir {USERDIR INIDIR PRJDIR} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$dir</font>]}
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(INI)</font>]} {
    <b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$DATAUSERINIFILE</font> <font color=#1b1baa>$al(INI)</font>
    <b><font color=#3a6797>file</font></b> copy [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATAUSER</font> prj default<font color=#1b1baa>$PRJEXT</font>]  [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$PRJDIR</font> default<font color=#1b1baa>$PRJEXT</font>]
    <b><font color=#3a6797>file</font></b> copy [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATAUSER</font> notes.txt] [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$USERDIR</font> notes.txt]
    ReadIni
  }
  <b><font color=#3a6797>set</font></b> emdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(EM,mnudir)</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$emdir</font>]} {
    <b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$emdir</font>
    <b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$MNUDIR</font> <font color=#1b1baa>$emdir</font>
    <b><font color=#3a6797>file</font></b> copy [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$MNUDIR</font>] em_projects] <font color=#1b1baa>$emdir</font>
  }
  CreatePossibleNewDirs
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::EditSettings'>EditSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays the settings file, just to look behind the wall.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EditSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_EditSettings' href="javascript:toggleSource('alited_ini_EditSettings')">Show source</a></p>
<div id='alited_ini_EditSettings' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::EditSettings {} {
  <i><font color=#4b5d50># Displays the settings file, just to look behind the wall.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>after</font></b> idle alited::ini::HighlightFileText
  <font color=#1b1baa>$obPav</font> vieweditFile <font color=#1b1baa>$al(INI)</font> {} <font color=#6c3e67>-rotext</font> 1 <font color=#6c3e67>-h</font> 25
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::Em_Number'>Em_Number</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a real number of e_menu items counting non-empty ones only.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Em_Number</span> <span class='ruff_arg'>em_N</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>em_N</code></code></td><td class='ruff_defitem'>current number of e_menu items</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_Em_Number' href="javascript:toggleSource('alited_ini_Em_Number')">Show source</a></p>
<div id='alited_ini_Em_Number' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::Em_Number {em_N} {
  <i><font color=#4b5d50># Gets a real number of e_menu items counting non-empty ones only.</font></i>
  <i><font color=#4b5d50>#   em_N - current number of e_menu items</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_inf em_inf
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$em_N</font>} {<font color=#1b1baa>$i</font>&gt;0} {} {
    <b><font color=#3a6797>set</font></b> em_N <font color=#1b1baa>$i</font>
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_inf(<font color=#1b1baa>$i</font>)] && <font color=#1b1baa>$em_inf($i)</font> ne {}} {
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$em_N</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::GetConfiguration'>GetConfiguration</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the configuration directory's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetConfiguration</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_GetConfiguration' href="javascript:toggleSource('alited_ini_GetConfiguration')">Show source</a></p>
<div id='alited_ini_GetConfiguration' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::GetConfiguration {} {
  <i><font color=#4b5d50># Gets the configuration directory's name.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> configs
  <b><font color=#3a6797>set</font></b> configs <font color=#1b1baa>$::alited::CONFIGS</font>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$configs</font>]} {<b><font color=#3a6797>lappend</font></b> configs <font color=#1b1baa>$::alited::CONFIGDIR</font>}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$configs</font> 0] eq {-}} {
    <b><font color=#3a6797>set</font></b> configs [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$configs</font> 0 0]  ;<i><font color=#4b5d50># legacy</font></i>
  }
  <b><font color=#3a6797>set</font></b> head [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$::alited::CONFIGDIRSTD</font>] <font color=#1b1baa>$al(MC,chini2)</font>]
  <b><font color=#3a6797>set</font></b> pobj <font color=#1b1baa>$obDl2</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands <font color=#1b1baa>$pobj</font>] eq {}} {
    <i><font color=#4b5d50># at first start, there are no apave objects bound to the main window of alited</font></i>
    <i><font color=#4b5d50># -&gt; create an independent one to be deleted afterwards</font></i>
    <b><font color=#3a6797>set</font></b> pobj alitedObjToDel
    ::apave::APave create <font color=#1b1baa>$pobj</font>
  }
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$pobj</font> input {} <font color=#1b1baa>$al(MC,chini1)</font>  [<b><font color=#3a6797>list</font></b>  diR1 [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$al(MC,chini3)</font> {} [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,chini3)</font> <font color=#6c3e67>-w</font> 50  <font color=#6c3e67>-values</font> <font color=#1b1baa>$configs</font> <font color=#6c3e67>-clearcom</font> {alited::main::ClearCbx %w ::alited::ini::configs}]]  <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>::alited::CONFIGDIR<font color=#1b1baa>}</font>&quot;</font>  ] <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font> <font color=#6c3e67>-help</font> {alited::HelpAlited #configs} <font color=#6c3e67>-resizable</font> no]
  <b><font color=#3a6797>catch</font></b> {alitedObjToDel destroy}
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$res</font> ok confdir
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ok</font>} {
    <b><font color=#3a6797>set</font></b> confdir [<b><font color=#3a6797>file</font></b> normalize [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$confdir</font>]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$confdir</font> eq {}} {
      <b><font color=#3a6797>set</font></b> ok no
    } <b><font color=#3a6797>else</font></b> {
      AddConfigDir <font color=#1b1baa>$confdir</font> <font color=#1b1baa>$configs</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ok</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::GetUserDirs'>GetUserDirs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets names of user directories for settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetUserDirs</span> <span class='ruff_arg'>?initmnu?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>initmnu</code></code></td><td class='ruff_defitem'>yes, if called to initialize mnu dir; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_GetUserDirs' href="javascript:toggleSource('alited_ini_GetUserDirs')">Show source</a></p>
<div id='alited_ini_GetUserDirs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::GetUserDirs {{initmnu no}} {
  <i><font color=#4b5d50># Gets names of user directories for settings.</font></i>
  <i><font color=#4b5d50>#  initmnu - yes, if called to initialize mnu dir</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  ::alited::main_user_dirs
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> ::alited::BAKDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> .bak]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> ::alited::BAKDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(prjroot)</font> .bak]
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$::alited::BAKDIR</font>]} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$::alited::BAKDIR</font>}
  }
  <b><font color=#3a6797>set</font></b> mnudir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> e_menu menus]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$initmnu</font> && ![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$mnudir</font>]} {
    <b><font color=#3a6797>set</font></b> al(EM,mnudir) <font color=#1b1baa>$mnudir</font>  ;<i><font color=#4b5d50># to have e_menu in each config dir</font></i>
  }
  <b><font color=#3a6797>set</font></b> al(INI) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::INIDIR</font> alited.ini]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::HighlightFileText'>HighlightFileText</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a text of a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightFileText</span> <span class='ruff_arg'>?wtxt? ?fname? ?ro? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the file name (extension); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>ro</code></code></td><td class='ruff_defitem'>flag &quot;readonly text&quot; <i>optional, default</i> <code>1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_HighlightFileText' href="javascript:toggleSource('alited_ini_HighlightFileText')">Show source</a></p>
<div id='alited_ini_HighlightFileText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::HighlightFileText {{wtxt {}} {fname {}} {ro 1} args} {
  <i><font color=#4b5d50># Highlights a text of a file.</font></i>
  <i><font color=#4b5d50>#   wtxt - the text's path</font></i>
  <i><font color=#4b5d50>#   fname - the file name (extension)</font></i>
  <i><font color=#4b5d50>#   ro - flag &quot;readonly text&quot;</font></i>
  <i><font color=#4b5d50>#   args - additional options</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> colors [alited::Hl_Colors]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {<b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obPav</font> TexM]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} {<b><font color=#3a6797>set</font></b> fname <font color=#1b1baa>$al(INI)</font>}
  <b><font color=#3a6797>set</font></b> plcom [alited::HighlightAddon <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$colors</font>]
  ::hl_tcl::hl_init <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obPav</font> csDark]  <font color=#6c3e67>-multiline</font> 1 <font color=#6c3e67>-colors</font> <font color=#1b1baa>$colors</font> <font color=#6c3e67>-readonly</font> <font color=#1b1baa>$ro</font> <font color=#6c3e67>-plaintext</font> 0 <font color=#6c3e67>-plaincom</font> <font color=#1b1baa>$plcom</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
  ::hl_tcl::hl_text <font color=#1b1baa>$wtxt</font>
  alited::main::SetTabs <font color=#1b1baa>$wtxt</font> [<b><font color=#3a6797>lindex</font></b> [alited::main::CalcIndentation] 0]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitFonts'>InitFonts</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Loads main fonts for alited to use as default and mono.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitFonts</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_InitFonts' href="javascript:toggleSource('alited_ini_InitFonts')">Show source</a></p>
<div id='alited_ini_InitFonts' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::InitFonts {} {
  <i><font color=#4b5d50># Loads main fonts for alited to use as default and mono.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al MSGSDIR MSGSDIR

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FONT)</font> ne {}} {
    <b><font color=#3a6797>catch</font></b> {
      obj basicDefFont [<b><font color=#3a6797>dict</font></b> get <font color=#1b1baa>$al(FONT)</font> <font color=#6c3e67>-family</font>]
    }
    <b><font color=#3a6797>set</font></b> smallfont <font color=#1b1baa>$al(FONT)</font>
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> smallfont [<b><font color=#3a6797>dict</font></b> set smallfont <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>]
    }
    <b><font color=#3a6797>foreach</font></b> font {TkDefaultFont TkMenuFont TkHeadingFont TkCaptionFont} {
      <b><font color=#134070>font</font></b> configure <font color=#1b1baa>$font</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(FONT)</font>
    }
    <b><font color=#3a6797>foreach</font></b> font {TkSmallCaptionFont TkIconFont TkTooltipFont} {
      <b><font color=#134070>font</font></b> configure <font color=#1b1baa>$font</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$smallfont</font>
    }
    ::baltip::configure <font color=#6c3e67>-font</font> <font color=#1b1baa>$smallfont</font>
  }
  <b><font color=#3a6797>set</font></b> statusfont [obj basicSmallFont]
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> statusfont [<b><font color=#3a6797>dict</font></b> set statusfont <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>]
  }
  obj basicSmallFont <font color=#1b1baa>$statusfont</font>
  obj basicFontSize <font color=#1b1baa>$al(FONTSIZE,std)</font>
  <b><font color=#3a6797>set</font></b> gl [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$MSGSDIR</font> <font color=#1b1baa>$al(LOCAL)</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> flist [<b><font color=#3a6797>glob</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>gl.msg&quot;</font>]}] || <font color=#1b1baa>$flist</font> eq {}} {
    <b><font color=#3a6797>set</font></b> al(LOCAL) en
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(LOCAL)</font> ni {en {}}} {
    <i><font color=#4b5d50># load localized messages</font></i>
    msgcat::mcload <font color=#1b1baa>$MSGSDIR</font>
    msgcat::mclocale <font color=#1b1baa>$al(LOCAL)</font>
    alited::msgcatMessages
  } <b><font color=#3a6797>else</font></b> {
    msgcat::mclocale en
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitGUI'>InitGUI</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes GUI.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitGUI</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_InitGUI' href="javascript:toggleSource('alited_ini_InitGUI')">Show source</a></p>
<div id='alited_ini_InitGUI' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::InitGUI {} {
  <i><font color=#4b5d50># Initializes GUI.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  obj basicFontSize <font color=#1b1baa>$al(FONTSIZE,std)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,HUE)</font>} {obj csToned <font color=#1b1baa>$al(INI,CS)</font> <font color=#1b1baa>$al(INI,HUE)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(CURSORCOLOR)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> al(CURSORCOLOR) [<b><font color=#3a6797>lindex</font></b> [obj csGet <font color=#1b1baa>$al(INI,CS)</font>] 7]
  }
  obj csSet <font color=#1b1baa>$al(INI,CS)</font> . <font color=#6c3e67>-doit</font> <font color=#6c3e67>-clrcurs</font> <font color=#1b1baa>$al(CURSORCOLOR)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,HUE)</font>} {obj csToned <font color=#1b1baa>$al(INI,CS)</font> <font color=#1b1baa>$al(INI,HUE)</font> yes}
  <b><font color=#3a6797>set</font></b> Dark [obj csDark]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(ED,clrCOM)] || ![<b><font color=#3a6797>info</font></b> exists al(ED,CclrCOM)] ||  ![<b><font color=#3a6797>info</font></b> exists al(ED,Dark)] || <font color=#1b1baa>$al(ED,Dark)</font> != <font color=#1b1baa>$Dark</font>} {
    alited::pref::Tcl_Default <font color=#1b1baa>$al(syntaxidx)</font> yes
    alited::pref::C_Default <font color=#1b1baa>$al(syntaxidx)</font> yes
  }
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>set</font></b> clrvals [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> clr <font color=#1b1baa>$clrnams</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(ED,<font color=#1b1baa>$clr</font>)]} {
      <b><font color=#3a6797>lappend</font></b> clrvals [<b><font color=#3a6797>set</font></b> al(ED,<font color=#1b1baa>$clr</font>)]
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$clrvals</font>]==[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$clrnams</font>]} {
    ::hl_tcl::hl_colors <font color=#6c3e67>-AddTags</font> <font color=#1b1baa>$Dark</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$clrvals</font>
  }
  ::hl_tcl::hl_colors . <font color=#1b1baa>$Dark</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$clrvals</font> ;<i><font color=#4b5d50># default Tcl syntax colors</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(ED,BlinkCurs)</font>} {
    <b><font color=#3a6797>lassign</font></b> [obj defaultATTRS tex] texopts texattrs
    obj defaultATTRS tex <font color=#1b1baa>$texopts</font> [<b><font color=#3a6797>dict</font></b> set texattrs <font color=#6c3e67>-insertofftime</font> 0]
  }
  obj setShowOption <font color=#6c3e67>-resizable</font> 0
  <b><font color=#3a6797>if</font></b> {[::asKDE]} {  ;<i><font color=#4b5d50># esp. for KDE:</font></i>
    <i><font color=#4b5d50># dialogue windows should be topmost, otherwise KDE hides them at losing focus</font></i>
    obj setShowOption <font color=#6c3e67>-ontop</font> yes
  }
  <b><font color=#3a6797>lassign</font></b> [::apave::defaultAttrs spx] opts atrs
  ::apave::defaultAttrs spx <font color=#1b1baa>$opts</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>atrs -justify center -w 9&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::initStyles'>initStyles</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes widget styles for alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initStyles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_initStyles' href="javascript:toggleSource('alited_ini_initStyles')">Show source</a></p>
<div id='alited_ini_initStyles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::initStyles {} {
  <i><font color=#4b5d50># Initializes widget styles for alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  ::apave::initStyles
  ::apave::initStylesFS <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitXterminal'>InitXterminal</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets Linux terminal called by x-terminal-emulator, saves the result to al(EM,tt).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitXterminal</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tool::EM_Options" title="tool::EM_Options" class='ruff_cmd'>tool::EM_Options</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_InitXterminal' href="javascript:toggleSource('alited_ini_InitXterminal')">Show source</a></p>
<div id='alited_ini_InitXterminal' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::InitXterminal {} {
  <i><font color=#4b5d50># Gets Linux terminal called by x-terminal-emulator, saves the result to al(EM,tt).</font></i>
  <i><font color=#4b5d50># See also: tool::EM_Options</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(EM,tt) <font color=#1b1baa>$al(EM,tt=)</font>
  <b><font color=#3a6797>set</font></b> tty [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,tt)</font>] 0]
  <b><font color=#3a6797>set</font></b> xte x-terminal-emulator
  <b><font color=#3a6797>if</font></b> {[::isunix] && [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$tty</font>] eq <font color=#1b1baa>$xte</font>} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>auto_execok</font></b> <font color=#1b1baa>$tty</font>] eq {} || [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> man [<b><font color=#3a6797>exec</font></b> man <font color=#1b1baa>$xte</font>]}]} {
      <b><font color=#3a6797>set</font></b> al(EM,tt) {} ;<i><font color=#4b5d50># no x-terminal-emulator command</font></i>
      <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$man</font> {
      GNOME-TERMINAL* {<b><font color=#3a6797>set</font></b> tt {gnome-terminal <font color=#6c3e67>--wait</font>}}
      XFCE4-TERMINAL* {<b><font color=#3a6797>set</font></b> tt xfce4-terminal}
      <b><font color=#3a6797>default</font></b> {<b><font color=#ca14ca>return</font></b>}
    }
    <b><font color=#3a6797>set</font></b> al(EM,tt) <font color=#1b1baa>$tt</font>[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$al(EM,tt=)</font> [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tty</font>] end]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ProjectsToolbar'>ProjectsToolbar</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tool bar for Projects (subset of main toolbar).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectsToolbar</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::ini::_init" title="_init" class='ruff_cmd'>_init</a>, <a href="alited.html#::alited::project::Tab5" title="project::Tab5" class='ruff_cmd'>project::Tab5</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ProjectsToolbar' href="javascript:toggleSource('alited_ini_ProjectsToolbar')">Show source</a></p>
<div id='alited_ini_ProjectsToolbar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ProjectsToolbar {} {
  <i><font color=#4b5d50># Tool bar for Projects (subset of main toolbar).</font></i>
  <i><font color=#4b5d50># See also: _init, project::Tab5</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num em_ico em_ico em_inf em_inf em_mnu em_mnu
  <b><font color=#3a6797>set</font></b> e_menu_icon {iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEUAAAAASZL///8Atv8UVAVH
AAAAAXRSTlMAQObYZgAAACZJREFUCNdjYA0NDQAS9ReARN4FKDdr1QQGtvz/E8AsZLHUUAJiAI6+
FtcEguWyAAAAAElFTkSuQmCC}
  <b><font color=#3a6797>set</font></b> al(atools) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> {icon} {run e_menu other} {
    <b><font color=#3a6797>set</font></b> img [CreateIcon <font color=#1b1baa>$icon</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icon</font> eq {run}} {
      <b><font color=#3a6797>set</font></b> com <font color=#8b2a0e>&quot;-command alited::tool::TooltipPrjRun&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> com <font color=#8b2a0e>&quot;&quot;</font>
    }
    <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>img \{<font color=#1b1baa>{}</font> -tip <font color=#1b1baa>{$</font>::alited::al(MC,ico<font color=#1b1baa>$</font>icon)@@ -under 4 <font color=#1b1baa>$</font>com<font color=#1b1baa>}</font> &quot;</font>
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$icon</font> {
      run {
        <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::ini::ToolPrjRun\}&quot;</font>
      }
      e_menu {
        <b><font color=#134070>image</font></b> create photo <font color=#1b1baa>$img</font> <font color=#6c3e67>-data</font> <font color=#1b1baa>$e_menu_icon</font>
        <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::ini::ToolPrjEM\}&quot;</font>
      }
      other {
        <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot;-com alited::ini::ToolPrjTkcon\}&quot;</font>
      }
    }
  }
  <i><font color=#4b5d50># e_menu items for the toolbar</font></i>
  <b><font color=#3a6797>set</font></b> limgs [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> em_N [Em_Number <font color=#1b1baa>$em_Num</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> was 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_ico(<font color=#1b1baa>$i</font>)] && (<font color=#1b1baa>$em_ico($i)</font> ni {none {}} || <font color=#1b1baa>$em_inf($i)</font> eq {})} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> was]==1 && <font color=#1b1baa>$em_inf($i)</font> ne {}} {
        <b><font color=#3a6797>append</font></b> al(atools) { sev 6}
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_inf($i)</font> eq {}} {
        <b><font color=#3a6797>append</font></b> al(atools) { sev 6}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> tico [alited::TextIcon <font color=#1b1baa>$em_ico($i)</font>]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tico</font>]==1 || ![<b><font color=#3a6797>string</font></b> is ascii <font color=#1b1baa>$tico</font>]} {
          <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$tico</font>
          <b><font color=#3a6797>set</font></b> img _<font color=#1b1baa>$i</font>
          <b><font color=#3a6797>set</font></b> txt <font color=#8b2a0e>&quot;-t <font color=#1b1baa>$</font>tico -font <font color=#1b1baa>{[</font>obj boldTextFont 12<font color=#1b1baa>]}</font>&quot;</font>
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> img [CreateIcon <font color=#1b1baa>$tico</font>]
          <b><font color=#3a6797>set</font></b> txt {}
        }
        <b><font color=#3a6797>lappend</font></b> limgs <font color=#1b1baa>$img</font>
        <b><font color=#3a6797>set</font></b> tip <font color=#1b1baa>$em_mnu($i)</font>
        <b><font color=#3a6797>append</font></b> al(atools) <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>img \{<font color=#1b1baa>{}</font> -tip <font color=#1b1baa>{$</font>tip@@ -under 4  -command <font color=#1b1baa>{</font>alited::ini::ToolPrjTip <font color=#1b1baa>$</font>i<font color=#1b1baa>}}</font> <font color=#1b1baa>$</font>txt  -com <font color=#1b1baa>{</font>alited::ini::ToolPrjCommand <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font>\}&quot;</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIni'>ReadIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads alited application's and project's settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIni</span> <span class='ruff_arg'>?projectfile?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>projectfile</code></code></td><td class='ruff_defitem'>project file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIni' href="javascript:toggleSource('alited_ini_ReadIni')">Show source</a></p>
<div id='alited_ini_ReadIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIni {{projectfile {}}} {
  <i><font color=#4b5d50># Reads alited application's and project's settings.</font></i>
  <i><font color=#4b5d50>#   projectfile - project file's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num em_NumMax em_NumMax  em_ico em_ico em_inf em_inf em_mnu em_mnu
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::project prjlist prjlist prjinfo prjinfo
  alited::pref::Tkcon_Default
  <b><font color=#3a6797>set</font></b> prjlist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(TPL,list) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(KEYS,bind) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> em_i 0
  <b><font color=#3a6797>set</font></b> fontsize [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$al(FONTSIZE,std)</font>+1}]
  <b><font color=#3a6797>set</font></b> al(FONT,txt) <font color=#8b2a0e>&quot;-family <font color=#1b1baa>{[</font>obj basicTextFont<font color=#1b1baa>]}</font> -size <font color=#1b1baa>$</font>fontsize&quot;</font>
  <b><font color=#3a6797>lassign</font></b> <font color=#8b2a0e>&quot;&quot;</font> ::alited::Pan_wh ::alited::PanL_wh ::alited::PanR_wh  ::alited::PanBM_wh ::alited::PanTop_wh ::alited::al(GEOM)
  <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;alited pwd    : <font color=#1b1baa>[</font>pwd<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;alited reading: <font color=#1b1baa>$</font>al(INI)&quot;</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(ini_file)</font> eq {}} {
    <i><font color=#4b5d50># al(ini_file) may be already filled (see alited.tcl)</font></i>
    <b><font color=#3a6797>set</font></b> al(ini_file) [<b><font color=#3a6797>split</font></b> [readTextFile <font color=#1b1baa>$::alited::al(INI)</font>] \n]
  }
  <b><font color=#3a6797>set</font></b> mode <font color=#8b2a0e>&quot;&quot;</font>
  <b><font color=#3a6797>foreach</font></b> stini <font color=#1b1baa>$al(ini_file)</font> {
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$stini</font> {
      {[Geometry]} - {[Options]} - {[Projects]} - {[Templates]} - {[Keys]} - {[EM]} - {[Tkcon]} - {[Misc]} - {[Formats]} {
        <b><font color=#3a6797>set</font></b> mode <font color=#1b1baa>$stini</font>
        <b><font color=#ca14ca>continue</font></b>
      }
    }
    <i><font color=#4b5d50># any line may be potentially bad formed =&gt; catch errors</font></i>
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$stini</font>]]&gt;0} {
        <b><font color=#3a6797>set</font></b> nam [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> 0 <font color=#1b1baa>$i</font>-1]
        <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> <font color=#1b1baa>$i</font>+1 end]
        <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$mode</font> {
          {[Geometry]}  {ReadIniGeometry <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Options]}   {ReadIniOptions <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Templates]} {ReadIniTemplates <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Keys]}      {ReadIniKeys <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[EM]}        {ReadIniEM <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font> em_i}
          {[Tkcon]}     {ReadIniTkcon <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Misc]}      {ReadIniMisc <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Formats]}   {ReadIniFormats <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
        }
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> al(PTP,text) [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(PTP,list)</font> 1]] eq {}} {
    <b><font color=#3a6797>set</font></b> al(PTP,text) [alited::project::TplDefaultText]
    <b><font color=#3a6797>set</font></b> al(PTP,list) [<b><font color=#3a6797>list</font></b> Default <font color=#1b1baa>$al(PTP,text)</font>]
  }
  <b><font color=#3a6797>set</font></b> al(PTP,name) [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(PTP,list)</font> 0]
  <b><font color=#3a6797>set</font></b> al(PTP,names) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> {n c} <font color=#1b1baa>$al(PTP,list)</font> {<b><font color=#3a6797>lappend</font></b> al(PTP,names) <font color=#1b1baa>$n</font>}
  <b><font color=#3a6797>set</font></b> em_Num [<b><font color=#3a6797>expr</font></b> {min(<font color=#1b1baa>$em_NumMax</font>,[Em_Number <font color=#1b1baa>$em_i</font>]+3)}]
  <b><font color=#3a6797>while</font></b> {<font color=#1b1baa>$em_i</font> &lt; <font color=#1b1baa>$em_Num</font>} {
    <b><font color=#3a6797>lassign</font></b> {} em_ico(<font color=#1b1baa>$em_i</font>) em_inf(<font color=#1b1baa>$em_i</font>) em_mnu(<font color=#1b1baa>$em_i</font>)
    <b><font color=#3a6797>incr</font></b> em_i
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$projectfile</font> eq {} && <font color=#1b1baa>$al(prjfile)</font> eq {}} {
    <i><font color=#4b5d50># some options may be active outside of any project; fill them with defaults</font></i>
    <b><font color=#3a6797>foreach</font></b> opt {multiline indent indentAuto EOL trailwhite} {
      <b><font color=#3a6797>set</font></b> al(prj<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$al(DEFAULT,prj$opt)</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$projectfile</font> eq {}} {
      <b><font color=#3a6797>set</font></b> projectfile <font color=#1b1baa>$al(prjfile)</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> al(prjfile) <font color=#1b1baa>$projectfile</font>
    }
    ReadIniOptions project <font color=#1b1baa>$projectfile</font>
  }
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$::alited::PanR_wh</font>] - w1 - h1
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$::alited::PanTop_wh</font>] - w2 - h2
    <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$h1</font>-<font color=#1b1baa>$h2</font>)&lt;60} {
      <b><font color=#3a6797>set</font></b> h2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$h1</font>-60}]
      <b><font color=#3a6797>set</font></b> ::alited::PanTop_wh <font color=#8b2a0e>&quot;-w <font color=#1b1baa>$</font>w2 -h <font color=#1b1baa>$</font>h2&quot;</font> ;<i><font color=#4b5d50># the status bar is wanted</font></i>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(RE,leaf)</font> eq {}} {<b><font color=#3a6797>set</font></b> al(RE,leaf) <font color=#1b1baa>$al(RE,leafDEF)</font>}
  ReadIniPrj
  <b><font color=#3a6797>lassign</font></b> [::apave::defaultAttrs tex] - atrs
  <b><font color=#3a6797>set</font></b> pad [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$al(CURSORWIDTH)</font> + 2}]
  <b><font color=#3a6797>append</font></b> atrs <font color=#8b2a0e>&quot; -spacing1 <font color=#1b1baa>$</font>al(ED,sp1) -spacing2 <font color=#1b1baa>$</font>al(ED,sp2) -spacing3 <font color=#1b1baa>$</font>al(ED,sp3) -padx <font color=#1b1baa>$</font>pad -pady <font color=#1b1baa>$</font>pad -insertwidth <font color=#1b1baa>$</font>al(CURSORWIDTH) -bd 0&quot;</font>
  ::apave::defaultAttrs tex <font color=#8b2a0e>&quot;&quot;</font> <font color=#1b1baa>$atrs</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(INI,belltoll)</font>} {
    ; <b><font color=#ca14ca>proc</font></b> ::bell args {}  ;<i><font color=#4b5d50># no bells</font></i>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(INI,confirmexit)</font>]} {
    <b><font color=#3a6797>set</font></b> al(INI,confirmexit) 1
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(tkcon,clrbg)]} {
    alited::pref::Tkcon_Default
    alited::pref::Tkcon_Default1
  }
  InitXterminal
  <b><font color=#3a6797>set</font></b> al(ini_file) {}  ;<i><font color=#4b5d50># to reread alited.ini contents, at need in next time</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniEM'>ReadIniEM</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets e_menu options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniEM</span> <span class='ruff_arg'>nam val emiName</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
<tr><td class='ruff_defitem'><code><code>emiName</code></code></td><td class='ruff_defitem'>name of em_i (index in arrays of e_menu data)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniEM' href="javascript:toggleSource('alited_ini_ReadIniEM')">Show source</a></p>
<div id='alited_ini_ReadIniEM' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniEM {nam val emiName} {
  <i><font color=#4b5d50># Gets e_menu options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>
  <i><font color=#4b5d50>#   emiName - name of em_i (index in arrays of e_menu data)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_NumMax em_NumMax  em_ico em_ico em_inf em_inf em_mnu em_mnu
  <b><font color=#3a6797>upvar</font></b> <font color=#1b1baa>$emiName</font> em_i
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$nam</font> {
    emPD       {<b><font color=#3a6797>set</font></b> al(EM,PD=) [::apave::UnixPath <font color=#1b1baa>$val</font>]}
    emTcl      {
      <b><font color=#3a6797>set</font></b> val [::apave::UnixPath <font color=#1b1baa>$val</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first { } <font color=#1b1baa>$val</font>]&gt;0} {
        <b><font color=#134070>tk_messageBox</font></b> <font color=#6c3e67>-title</font> Warning <font color=#6c3e67>-icon</font> warning <font color=#6c3e67>-message</font>  <font color=#8b2a0e>&quot;The path to Tcl executable\n\n\&quot;<font color=#1b1baa>$</font>val\&quot;\n\ncontains spaces.\n  \nThis path doesn't fit alited. Only 'non-space' ones do.\n  \n==&gt; Change this setting:\nPreferences/Tools/tclsh...&quot;</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> al(EM,Tcl) <font color=#1b1baa>$val</font>
      }
    }
    emTclList  {
      <b><font color=#3a6797>set</font></b> al(EM,TclList) {}
      <b><font color=#3a6797>foreach</font></b> t [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$val</font>] \t] {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$t</font>] ne {}} {
          <b><font color=#3a6797>append</font></b> al(EM,TclList) \t [::apave::UnixPath <font color=#1b1baa>$t</font>]
        }
      }
    }
    em_run {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_i</font> &lt; <font color=#1b1baa>$em_NumMax</font>} {
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$val</font> \t] v1 v2 v3
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$v1</font> eq <font color=#8b2a0e>&quot;1&quot;</font> && <font color=#1b1baa>$v2</font> eq {}} {
          <b><font color=#3a6797>lassign</font></b> {} em_ico(<font color=#1b1baa>$em_i</font>) em_inf(<font color=#1b1baa>$em_i</font>)  ;<i><font color=#4b5d50># it's a separator in alited v1.6.1</font></i>
        } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$v1</font> eq <font color=#8b2a0e>&quot;0&quot;</font> && <font color=#1b1baa>$v3</font> ne {}} {
          <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$em_i</font>) <font color=#1b1baa>$v2</font>
          <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$em_i</font>) <font color=#1b1baa>$v3</font>  ;<i><font color=#4b5d50># it's an item in alited v1.6.1</font></i>
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$em_i</font>) <font color=#1b1baa>$v1</font> ;<i><font color=#4b5d50># it's a separator / item in v1.6.2</font></i>
          <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$em_i</font>) <font color=#1b1baa>$v2</font>
        }
        <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$em_i</font>) [::apave::NormalizeName [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$em_inf($em_i)</font> end]]
        <b><font color=#3a6797>incr</font></b> em_i
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$val</font>] eq {}} <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># options below should be non-empty</font></i>
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$nam</font> {
    emgeometry {<b><font color=#3a6797>set</font></b> al(EM,geometry) <font color=#1b1baa>$val</font>}
    emsave     {  ;<i><font color=#4b5d50># messy for compatibility:</font></i>
      <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$val</font> [<b><font color=#3a6797>list</font></b>  3 - {} {<b><font color=#3a6797>set</font></b> al(EM,save) 3}  2 - Current - {Current file} - <font color=#1b1baa>$al(MC,currfile)</font> {<b><font color=#3a6797>set</font></b> al(EM,save) 2}  <b><font color=#3a6797>default</font></b> {<b><font color=#3a6797>set</font></b> al(EM,save) 1}  ]
    }
    emtt       {<b><font color=#3a6797>set</font></b> al(EM,tt=) <font color=#1b1baa>$val</font>}
    emttList   {
      <b><font color=#3a6797>foreach</font></b> tt [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,tt=List)</font> \t] {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first \t<font color=#1b1baa>$tt</font> \t<font color=#1b1baa>$val</font>]&lt;0} {
          <b><font color=#3a6797>append</font></b> val \t<font color=#1b1baa>$tt</font>  ;<i><font color=#4b5d50># let default items be in the list</font></i>
        }
      }
      <b><font color=#3a6797>set</font></b> al(EM,tt=List) <font color=#1b1baa>$val</font>
    }
    emwt       {<b><font color=#3a6797>set</font></b> al(EM,wt=) <font color=#1b1baa>$val</font>}
    emmenu     {<b><font color=#3a6797>set</font></b> al(EM,mnu) [::apave::UnixPath <font color=#1b1baa>$val</font>]}
    emmenudir  {
      <b><font color=#3a6797>set</font></b> val [::apave::UnixPath <font color=#1b1baa>$val</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$val</font>]} {<b><font color=#3a6797>set</font></b> al(EM,mnudir) <font color=#1b1baa>$val</font>}
    }
    emcs       {<b><font color=#3a6797>set</font></b> al(EM,CS) <font color=#1b1baa>$val</font>}
    emowncs    {<b><font color=#3a6797>set</font></b> al(EM,ownCS) <font color=#1b1baa>$val</font>}
    emdiff     {<b><font color=#3a6797>set</font></b> al(EM,DiffTool) <font color=#1b1baa>$val</font>}
    emh        {<b><font color=#3a6797>set</font></b> al(EM,h=) [::apave::UnixPath <font color=#1b1baa>$val</font>]}
  }
<i><font color=#4b5d50>#    emexec     #\{set al(EM,exec) $val#\}</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniFormats'>ReadIniFormats</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets pluginable formatters of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniFormats</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniFormats' href="javascript:toggleSource('alited_ini_ReadIniFormats')">Show source</a></p>
<div id='alited_ini_ReadIniFormats' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniFormats {nam val} {
  <i><font color=#4b5d50># Gets pluginable formatters of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    pluginable {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$val</font> fullformname ev
      <b><font color=#3a6797>set</font></b> fform [alited::edit::FormatterName <font color=#1b1baa>$fullformname</font>]
      <b><font color=#3a6797>set</font></b> al(FORMATS,<font color=#1b1baa>$fform</font>,<font color=#1b1baa>$ev</font>) <font color=#1b1baa>$val</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniGeometry'>ReadIniGeometry</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the geometry options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniGeometry</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniGeometry' href="javascript:toggleSource('alited_ini_ReadIniGeometry')">Show source</a></p>
<div id='alited_ini_ReadIniGeometry' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniGeometry {nam val} {
  <i><font color=#4b5d50># Gets the geometry options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> -- <font color=#1b1baa>$nam</font> {
    Pan* {
      <b><font color=#3a6797>lassign</font></b> [::apave::splitGeometry <font color=#1b1baa>$val</font>] w h
      <b><font color=#3a6797>set</font></b> ::alited::<font color=#1b1baa>${nam}</font>_wh <font color=#8b2a0e>&quot;-w <font color=#1b1baa>$</font>w -h <font color=#1b1baa>$</font>h&quot;</font>
    }
    GEOM {
      <b><font color=#3a6797>lassign</font></b> [::apave::splitGeometry <font color=#1b1baa>$val</font>] w h x y
      <b><font color=#3a6797>set</font></b> ::alited::al(GEOM) <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>$</font>x<font color=#1b1baa>$</font>y&quot;</font>
    }
    geomfind       {<b><font color=#3a6797>set</font></b> ::alited::find::geo <font color=#1b1baa>$val</font>}
    geomfind2      {<b><font color=#3a6797>set</font></b> ::alited::find::geo2 <font color=#1b1baa>$val</font>}
    geomproject    {<b><font color=#3a6797>set</font></b> ::alited::project::geo <font color=#1b1baa>$val</font>}
    geompref       {<b><font color=#3a6797>set</font></b> ::alited::pref::geo <font color=#1b1baa>$val</font>}
    dirgeometry    {<b><font color=#3a6797>set</font></b> ::alited::DirGeometry <font color=#1b1baa>$val</font>}
    filgeometry    {<b><font color=#3a6797>set</font></b> ::alited::FilGeometry <font color=#1b1baa>$val</font>}
    favgeometry    {<b><font color=#3a6797>set</font></b> ::alited::favgeometry <font color=#1b1baa>$val</font>}
    tplgeometry    {<b><font color=#3a6797>set</font></b> ::alited::tplgeometry <font color=#1b1baa>$val</font>}
    treecw0        {<b><font color=#3a6797>set</font></b> al(TREE,cw0) <font color=#1b1baa>$val</font>}
    treecw1        {<b><font color=#3a6797>set</font></b> al(TREE,cw1) <font color=#1b1baa>$val</font>}
    runGeometry    {<b><font color=#3a6797>set</font></b> al(runGeometry) <font color=#1b1baa>$val</font>}
    fontdetach     {<b><font color=#3a6797>set</font></b> al(fontdetach) <font color=#1b1baa>$val</font>}
    detach*        {
      <b><font color=#3a6797>set</font></b> id [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$nam</font> 6 end]
      <b><font color=#3a6797>lassign</font></b> [alited::file::DetachedInfo <font color=#1b1baa>$id</font>] pobj
      <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$val</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniKeys'>ReadIniKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets keys options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniKeys</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniKeys' href="javascript:toggleSource('alited_ini_ReadIniKeys')">Show source</a></p>
<div id='alited_ini_ReadIniKeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniKeys {nam val} {
  <i><font color=#4b5d50># Gets keys options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    key {<b><font color=#3a6797>lappend</font></b> al(KEYS,bind) <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniMisc'>ReadIniMisc</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets miscellaneous options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniMisc</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniMisc' href="javascript:toggleSource('alited_ini_ReadIniMisc')">Show source</a></p>
<div id='alited_ini_ReadIniMisc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniMisc {nam val} {
  <i><font color=#4b5d50># Gets miscellaneous options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> -- <font color=#1b1baa>$nam</font> {
    isfavor {<b><font color=#3a6797>set</font></b> al(FAV,IsFavor) <font color=#1b1baa>$val</font>}
    showinfo {<b><font color=#3a6797>set</font></b> al(TREE,showinfo) <font color=#1b1baa>$val</font>}
    HelpedMe {<b><font color=#3a6797>set</font></b> ::alited::helpedMe <font color=#1b1baa>$val</font>}
    listSBL - checkgeo - tonemoves - moveall - chosencolor  - sortList - activemacro - commentmode - format_separ1 - format_separ2  - TIPS,* - MNUGEO,* - markwidth - klndweeks - topFindRepl {
      <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
    }
    tplilast {<b><font color=#3a6797>set</font></b> ::alited::unit::ilast <font color=#1b1baa>$val</font>}
    incdec {<b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$val</font> al(incdecName) al(incdecDate) al(incdecSize) al(incdecExtn)}
    blifo {<b><font color=#3a6797>set</font></b> al(lifo) [<b><font color=#3a6797>string</font></b> is true <font color=#1b1baa>$val</font>]}
    InRE2 {<b><font color=#3a6797>set</font></b> ::alited::find::InRE2 [::alited::ProcEOL <font color=#1b1baa>$val</font> in]}
    ExRE2 {<b><font color=#3a6797>set</font></b> ::alited::find::ExRE2 [::alited::ProcEOL <font color=#1b1baa>$val</font> in]}
    chInRE2 {<b><font color=#3a6797>set</font></b> ::alited::find::chInRE2 [<b><font color=#3a6797>string</font></b> is true <font color=#1b1baa>$val</font>]}
    chExRE2 {<b><font color=#3a6797>set</font></b> ::alited::find::chExRE2 [<b><font color=#3a6797>string</font></b> is true <font color=#1b1baa>$val</font>]}
    geoRE2 {<b><font color=#3a6797>set</font></b> ::alited::find::geoRE2 <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniOptions'>ReadIniOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets various options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniOptions</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniOptions' href="javascript:toggleSource('alited_ini_ReadIniOptions')">Show source</a></p>
<div id='alited_ini_ReadIniOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniOptions {nam val} {
  <i><font color=#4b5d50># Gets various options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> clrnames [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>foreach</font></b> lng {{} C} {
    <b><font color=#3a6797>set</font></b> nam1 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$nam</font> [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lng</font>] end]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$clrnames</font> <font color=#1b1baa>$nam1</font>]&gt;-1} {
      <b><font color=#3a6797>set</font></b> al(ED,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> -- <font color=#1b1baa>$nam</font> {
    comm_port_list {<b><font color=#3a6797>set</font></b> al(comm_port_list) <font color=#1b1baa>$val</font>}
    project {
      <b><font color=#3a6797>set</font></b> al(prjfile) [::apave::UnixPath <font color=#1b1baa>$val</font>]
      <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>file</font></b> tail [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$val</font>]]
    }
    theme         {<b><font color=#3a6797>set</font></b> al(THEME) <font color=#1b1baa>$val</font>}
    cs            {<b><font color=#3a6797>set</font></b> al(INI,CS) <font color=#1b1baa>$val</font>}
    hue           {<b><font color=#3a6797>set</font></b> al(INI,HUE) <font color=#1b1baa>$val</font>}
    local         {<b><font color=#3a6797>set</font></b> al(LOCAL) <font color=#1b1baa>$val</font>}
    deffont       {<b><font color=#3a6797>set</font></b> al(FONT) <font color=#1b1baa>$val</font>}
    smallfontsize {<b><font color=#3a6797>set</font></b> al(FONTSIZE,small) <font color=#1b1baa>$val</font>}
    stdfontsize   {<b><font color=#3a6797>set</font></b> al(FONTSIZE,std) <font color=#1b1baa>$val</font>}
    txtfont       {<b><font color=#3a6797>set</font></b> al(FONT,txt) <font color=#1b1baa>$val</font>}
    maxfind       {<b><font color=#3a6797>set</font></b> al(INI,maxfind) <font color=#1b1baa>$val</font>}
    confirmexit   {<b><font color=#3a6797>set</font></b> al(INI,confirmexit) <font color=#1b1baa>$val</font>}
    belltoll      {<b><font color=#3a6797>set</font></b> al(INI,belltoll) <font color=#1b1baa>$val</font>}
    spacing1      {<b><font color=#3a6797>set</font></b> al(ED,sp1) <font color=#1b1baa>$val</font>}
    spacing2      {<b><font color=#3a6797>set</font></b> al(ED,sp2) <font color=#1b1baa>$val</font>}
    spacing3      {<b><font color=#3a6797>set</font></b> al(ED,sp3) <font color=#1b1baa>$val</font>}
    TclKeyWords   {<b><font color=#3a6797>set</font></b> al(ED,TclKeyWords) <font color=#1b1baa>$val</font>}
    CKeyWords     {<b><font color=#3a6797>set</font></b> al(ED,CKeyWords) <font color=#1b1baa>$val</font>}
    clrDark       {<b><font color=#3a6797>set</font></b> al(ED,Dark) <font color=#1b1baa>$val</font>}
    save_onadd - save_onclose - save_onsave {<b><font color=#3a6797>set</font></b> al(INI,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>}
    TclExts       {<b><font color=#3a6797>set</font></b> al(TclExts) <font color=#1b1baa>$val</font>}
    ClangExts     {<b><font color=#3a6797>set</font></b> al(ClangExts) <font color=#1b1baa>$val</font>}
    TextExts      {<b><font color=#3a6797>set</font></b> al(TextExts) <font color=#1b1baa>$val</font>}
    REbranch      {<b><font color=#3a6797>set</font></b> al(RE,branch) <font color=#1b1baa>$val</font>}
    REproc        {<b><font color=#3a6797>set</font></b> al(RE,proc) <font color=#1b1baa>$val</font>}
    REproc2       {<b><font color=#3a6797>set</font></b> al(RE,proc2) <font color=#1b1baa>$val</font>}
    REleaf        {<b><font color=#3a6797>set</font></b> al(RE,leaf) <font color=#1b1baa>$val</font>}
    REleaf2       {<b><font color=#3a6797>set</font></b> al(RE,leaf2) <font color=#1b1baa>$val</font>}
    UseLeaf       {<b><font color=#3a6797>set</font></b> al(INI,LEAF) [<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$val</font>]}
    Lines1        {<b><font color=#3a6797>set</font></b> al(INI,LINES1) <font color=#1b1baa>$val</font>}
    RecentFiles   {<b><font color=#3a6797>set</font></b> al(INI,RECENTFILES) <font color=#1b1baa>$val</font>}
    MaxLast       {<b><font color=#3a6797>set</font></b> al(FAV,MAXLAST) <font color=#1b1baa>$val</font>}
    MaxFiles      {<b><font color=#3a6797>set</font></b> al(MAXFILES) <font color=#1b1baa>$val</font>}
    barlablen     {<b><font color=#3a6797>set</font></b> al(INI,barlablen) <font color=#1b1baa>$val</font>}
    bartiplen     {<b><font color=#3a6797>set</font></b> al(INI,bartiplen) <font color=#1b1baa>$val</font>}
    isfindrepl    {<b><font color=#3a6797>set</font></b> al(INI,isfindrepl) <font color=#1b1baa>$val</font>}
    prjtpls       {<b><font color=#3a6797>set</font></b> al(PTP,list) [::alited::ProcEOL <font color=#1b1baa>$val</font> in]}
    backup        {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val</font> ne {.bak}} {<b><font color=#3a6797>set</font></b> val {}}
      <b><font color=#3a6797>set</font></b> al(BACKUP) <font color=#1b1baa>$val</font>
    }
    maxbackup     {<b><font color=#3a6797>set</font></b> al(MAXBACKUP) <font color=#1b1baa>$val</font>}
    gutterwidth   {<b><font color=#3a6797>set</font></b> al(ED,gutterwidth) <font color=#1b1baa>$val</font>}
    guttershift   {<b><font color=#3a6797>set</font></b> al(ED,guttershift) <font color=#1b1baa>$val</font>}
    btsbd         {<b><font color=#3a6797>set</font></b> al(ED,btsbd) <font color=#1b1baa>$val</font>}
    BlinkCurs     {<b><font color=#3a6797>set</font></b> al(ED,BlinkCurs) <font color=#1b1baa>$val</font>}
    ClrCurs       {<b><font color=#3a6797>set</font></b> al(CURSORCOLOR) <font color=#1b1baa>$val</font>}
    cursorwidth   {<b><font color=#3a6797>set</font></b> al(CURSORWIDTH) <font color=#1b1baa>$val</font>}
    prjdefault    {<b><font color=#3a6797>set</font></b> al(PRJDEFAULT) <font color=#1b1baa>$val</font>}
    DEFAULT,*     {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>}
    findunit      {<b><font color=#3a6797>set</font></b> al(findunitvals) <font color=#1b1baa>$val</font>}
    afterstart    {<b><font color=#3a6797>set</font></b> al(afterstart) <font color=#1b1baa>$val</font>}
    ALEversion    {<b><font color=#3a6797>set</font></b> al(ALEversion) <font color=#1b1baa>$val</font>}
    todoahead     {<b><font color=#3a6797>set</font></b> al(todoahead) <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniPrj'>ReadIniPrj</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a project's settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniPrj</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniPrj' href="javascript:toggleSource('alited_ini_ReadIniPrj')">Show source</a></p>
<div id='alited_ini_ReadIniPrj' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniPrj {} {
  <i><font color=#4b5d50># Reads a project's settings.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al PRJEXT PRJEXT
  <b><font color=#3a6797>set</font></b> al(tabs) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(curtab) 0
  <b><font color=#3a6797>set</font></b> al(_check_menu_state_) 1
  <b><font color=#3a6797>set</font></b> al(comForce) [<b><font color=#3a6797>set</font></b> al(comForceLs) {}]
  <b><font color=#3a6797>set</font></b> al(FAV,current) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>list</font></b>]
  alited::favor::InitFavorites [<b><font color=#3a6797>list</font></b>]
  alited::favor_ls::GetIni {}
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(prjfile)</font>]} {
    <b><font color=#3a6797>set</font></b> al(prjfile) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::PRJDIR</font> default<font color=#1b1baa>$PRJEXT</font>]
  }
  <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>file</font></b> tail [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$al(prjfile)</font>]]
  <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;alited project: <font color=#1b1baa>$</font>al(prjfile)&quot;</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> chan [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$::alited::al(prjfile)</font> r]
    <b><font color=#3a6797>set</font></b> mode <font color=#8b2a0e>&quot;&quot;</font>
    <b><font color=#3a6797>while</font></b> {![<b><font color=#3a6797>eof</font></b> <font color=#1b1baa>$chan</font>]} {
      <b><font color=#3a6797>set</font></b> stini [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>gets</font></b> <font color=#1b1baa>$chan</font>]]
      <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$stini</font> {
        {[Tabs]} - {[Options]} - {[Favorites]} - {[Misc]} {
          <b><font color=#3a6797>set</font></b> mode <font color=#1b1baa>$stini</font>
          <b><font color=#ca14ca>continue</font></b>
        }
      }
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$stini</font>]
      <b><font color=#3a6797>set</font></b> nam [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> 0 <font color=#1b1baa>$i</font>-1]
      <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> <font color=#1b1baa>$i</font>+1 end]
      <i><font color=#4b5d50># any line may be potentially bad formed =&gt; catch errors</font></i>
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$mode</font> {
          {[Tabs]} {ReadPrjTabs <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Options]} {ReadPrjOptions <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Favorites]} {ReadPrjFavorites <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Misc]} {ReadPrjMisc <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
        }
      }
    }
  } e]} <b><font color=#3a6797>then</font></b> {
    <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;Not open: <font color=#1b1baa>$</font>al(prjfile)\n<font color=#1b1baa>$</font>e&quot;</font>
    <b><font color=#3a6797>set</font></b> al(prjname) {}
    <b><font color=#3a6797>set</font></b> al(prjfile) {}
    <b><font color=#3a6797>set</font></b> al(prjroot) {}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq {} && <font color=#1b1baa>$al(prjname)</font> eq {<b><font color=#3a6797>default</font></b>}} {<b><font color=#3a6797>set</font></b> al(prjroot) <font color=#1b1baa>$::alited::DIR</font>}
  alited::favor::InitFavorites <font color=#1b1baa>$al(FAV,current)</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>close</font></b> <font color=#1b1baa>$chan</font>}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>cd</font></b> <font color=#1b1baa>$al(prjroot)</font>}
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(curtab)</font>] ||  <font color=#1b1baa>$al(curtab)</font>&lt;0 || <font color=#1b1baa>$al(curtab)</font>&gt;=[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(tabs)</font>]} {
    <b><font color=#3a6797>set</font></b> al(curtab) 0
  }
  ::apave::textEOL <font color=#1b1baa>$al(prjEOL)</font>
  alited::SaveRunOptions
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniTemplates'>ReadIniTemplates</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets new or updates old templates.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniTemplates</span> <span class='ruff_arg'>nam val ?updwc?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
<tr><td class='ruff_defitem'><code><code>updwc</code></code></td><td class='ruff_defitem'>if yes, sets wild cards for templates; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniTemplates' href="javascript:toggleSource('alited_ini_ReadIniTemplates')">Show source</a></p>
<div id='alited_ini_ReadIniTemplates' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniTemplates {nam val {updwc yes}} {
  <i><font color=#4b5d50># Sets new or updates old templates.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>
  <i><font color=#4b5d50>#   updwc - if yes, sets wild cards for templates</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    tpl {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$val</font> tplname tplkey
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$al(TPL,list)</font> <font color=#1b1baa>$tplname</font>]]&lt;0} {
        <i><font color=#4b5d50># at inserting new, check for possible duplicate 'tplkey'</font></i>
        <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 1 <font color=#1b1baa>$al(TPL,list)</font> <font color=#1b1baa>$tplkey</font>]
        <b><font color=#3a6797>lappend</font></b> al(TPL,list) <font color=#1b1baa>$val</font>
        <i><font color=#4b5d50># key bindings</font></i>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tplkey</font> ne {}} {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;0} {
            <i><font color=#4b5d50># add a new key binding, for this template</font></i>
            <b><font color=#3a6797>set</font></b> kbval <font color=#8b2a0e>&quot;template <font color=#1b1baa>{$</font>tplname<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>tplkey <font color=#1b1baa>{[</font>lrange <font color=#1b1baa>$</font>val 2 end<font color=#1b1baa>]}</font>&quot;</font>
            <b><font color=#3a6797>lappend</font></b> al(KEYS,bind) <font color=#1b1baa>$kbval</font>
          } <b><font color=#3a6797>else</font></b> {
            <i><font color=#4b5d50># duplicate 'tplkey' =&gt; clear it in the new template, no key binding</font></i>
            <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$val</font> 1 1 {}]
            <b><font color=#3a6797>set</font></b> al(TPL,list) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(TPL,list)</font> end end <font color=#1b1baa>$val</font>]
          }
        }
      } <b><font color=#3a6797>else</font></b> {
        <i><font color=#4b5d50># at updating old, replace the contents only (remaining 'tplname tplkey')</font></i>
        <b><font color=#3a6797>set</font></b> val2 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(TPL,list)</font> <font color=#1b1baa>$i</font>]
        <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>list</font></b> {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$val2</font> 0 1] {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$val</font> 2 end]]
        <b><font color=#3a6797>set</font></b> al(TPL,list) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(TPL,list)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$val</font>]
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$updwc</font>} {
    <b><font color=#3a6797>foreach</font></b> n {%d %t %u %U %m %w} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$n</font> eq <font color=#1b1baa>$nam</font>} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val</font> ne <font color=#8b2a0e>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> al(TPL,<font color=#1b1baa>$n</font>) <font color=#1b1baa>$val</font>}
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniTkcon'>ReadIniTkcon</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tkcon options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniTkcon</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadIniTkcon' href="javascript:toggleSource('alited_ini_ReadIniTkcon')">Show source</a></p>
<div id='alited_ini_ReadIniTkcon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniTkcon {nam val} {
  <i><font color=#4b5d50># Gets tkcon options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(tkcon,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjFavorites'>ReadPrjFavorites</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets favorites of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjFavorites</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadPrjFavorites' href="javascript:toggleSource('alited_ini_ReadPrjFavorites')">Show source</a></p>
<div id='alited_ini_ReadPrjFavorites' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjFavorites {nam val} {
  <i><font color=#4b5d50># Gets favorites of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    current - visited {<b><font color=#3a6797>lappend</font></b> al(FAV,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>}
    saved   {alited::favor_ls::GetIni <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjMisc'>ReadPrjMisc</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets favorites of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjMisc</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadPrjMisc' href="javascript:toggleSource('alited_ini_ReadPrjMisc')">Show source</a></p>
<div id='alited_ini_ReadPrjMisc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjMisc {nam val} {
  <i><font color=#4b5d50># Gets favorites of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    datafind {
      <b><font color=#3a6797>catch</font></b> {
        <i><font color=#4b5d50># lists of find/replace strings to be restored only</font></i>
        <b><font color=#3a6797>set</font></b> ::alited::find::data(en1) {}
        <b><font color=#3a6797>set</font></b> ::alited::find::data(en2) {}
        <b><font color=#3a6797>array</font></b> set data [::alited::ProcEOL <font color=#1b1baa>$val</font> in]
        <b><font color=#3a6797>set</font></b> ::alited::find::data(vals1) <font color=#1b1baa>$data(vals1)</font>
        <b><font color=#3a6797>set</font></b> ::alited::find::data(vals2) <font color=#1b1baa>$data(vals2)</font>
      }
    }
    comforce   {<b><font color=#3a6797>set</font></b> al(comForce) <font color=#1b1baa>$val</font>}
    comforcech {<b><font color=#3a6797>set</font></b> al(comForceCh) <font color=#1b1baa>$val</font>}
    comforcels {<b><font color=#3a6797>set</font></b> al(comForceLs) <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjOptions'>ReadPrjOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjOptions</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadPrjOptions' href="javascript:toggleSource('alited_ini_ReadPrjOptions')">Show source</a></p>
<div id='alited_ini_ReadPrjOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjOptions {nam val} {
  <i><font color=#4b5d50># Gets options of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nam</font> in {{} prjfile prjname}} {
    <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># to avoid resetting the current project file name</font></i>
  }
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjTabs'>ReadPrjTabs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tabs of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjTabs</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ReadPrjTabs' href="javascript:toggleSource('alited_ini_ReadPrjTabs')">Show source</a></p>
<div id='alited_ini_ReadPrjTabs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjTabs {nam val} {
  <i><font color=#4b5d50># Gets tabs of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$val</font>] ne {}} {
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
      tab {
        <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$val</font> 0]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$al(tabs)</font> <font color=#1b1baa>$fname</font>]&lt;0} {
          <b><font color=#3a6797>lappend</font></b> al(tabs) <font color=#1b1baa>$val</font>
        }
      }
      recent {alited::file::InsertRecent <font color=#1b1baa>$val</font> end}
      encode - eol {
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$val</font> \t] k v
        <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$k</font>) <font color=#1b1baa>$v</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveCurrentIni'>SaveCurrentIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a current configuration of alited on various events.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCurrentIni</span> <span class='ruff_arg'>?saveon? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>saveon</code></code></td><td class='ruff_defitem'>flag &quot;save on event&quot; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>serves to run this procedure after idle; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::project::Ok" title="project::Ok" class='ruff_cmd'>project::Ok</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_SaveCurrentIni' href="javascript:toggleSource('alited_ini_SaveCurrentIni')">Show source</a></p>
<div id='alited_ini_SaveCurrentIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::SaveCurrentIni {{saveon yes} {doit no}} {
  <i><font color=#4b5d50># Saves a current configuration of alited on various events.</font></i>
  <i><font color=#4b5d50>#   saveon - flag &quot;save on event&quot;</font></i>
  <i><font color=#4b5d50>#   doit - serves to run this procedure after idle</font></i>
  <i><font color=#4b5d50># See also: project::Ok</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <i><font color=#4b5d50># for sessions to come</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>expr</font></b> <font color=#1b1baa>$saveon</font>]} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># al(project::Ok) is set at switching projects and closing old project's files</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(project::Ok)]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>variable</font></b> afterID
  <i><font color=#4b5d50># run this code after updating GUI</font></i>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$afterID</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font>} {
    SaveIni
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> afterID [<b><font color=#3a6797>after</font></b> idle ::alited::ini::SaveCurrentIni yes yes]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveIni'>SaveIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a current configuration of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIni</span> <span class='ruff_arg'>?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>flag &quot;for a new project&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_SaveIni' href="javascript:toggleSource('alited_ini_SaveIni')">Show source</a></p>
<div id='alited_ini_SaveIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::SaveIni {{newproject no}} {
  <i><font color=#4b5d50># Saves a current configuration of alited.</font></i>
  <i><font color=#4b5d50>#   newproject - flag &quot;for a new project&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num em_ico em_ico em_inf em_inf
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::project prjlist prjlist prjinfo prjinfo
  <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;alited storing: <font color=#1b1baa>$</font>al(INI)&quot;</font>
  <b><font color=#3a6797>set</font></b> chan [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$::alited::al(INI)</font> w]
  <b><font color=#3a6797>chan</font></b> configure <font color=#1b1baa>$chan</font> <font color=#6c3e67>-buffering</font> full <font color=#6c3e67>-buffersize</font> 131072
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Options]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;comm_port=<font color=#1b1baa>$</font>al(comm_port)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;comm_port_list=<font color=#1b1baa>$</font>al(comm_port_list)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;project=<font color=#1b1baa>$</font>al(prjfile)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;theme=<font color=#1b1baa>$</font>al(THEME)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;cs=<font color=#1b1baa>$</font>al(INI,CS)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;hue=<font color=#1b1baa>$</font>al(INI,HUE)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;local=<font color=#1b1baa>$</font>al(LOCAL)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;deffont=<font color=#1b1baa>$</font>al(FONT)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;smallfontsize=<font color=#1b1baa>$</font>al(FONTSIZE,small)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;stdfontsize=<font color=#1b1baa>$</font>al(FONTSIZE,std)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;txtfont=<font color=#1b1baa>$</font>al(FONT,txt)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;maxfind=<font color=#1b1baa>$</font>al(INI,maxfind)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;confirmexit=<font color=#1b1baa>$</font>al(INI,confirmexit)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;belltoll=<font color=#1b1baa>$</font>al(INI,belltoll)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;spacing1=<font color=#1b1baa>$</font>al(ED,sp1)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;spacing2=<font color=#1b1baa>$</font>al(ED,sp2)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;spacing3=<font color=#1b1baa>$</font>al(ED,sp3)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;CKeyWords=<font color=#1b1baa>$</font>al(ED,CKeyWords)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;TclKeyWords=<font color=#1b1baa>$</font>al(ED,TclKeyWords)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;cursorwidth=<font color=#1b1baa>$</font>al(CURSORWIDTH)&quot;</font>
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>foreach</font></b> lng {{} C} {
    <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> {<b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>lng<font color=#1b1baa>$</font>nam=<font color=#1b1baa>$</font>al(ED,<font color=#1b1baa>$</font>lng<font color=#1b1baa>$</font>nam)&quot;</font>}
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;clrDark=<font color=#1b1baa>$</font>al(ED,Dark)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;save_onadd=<font color=#1b1baa>$</font>al(INI,save_onadd)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;save_onclose=<font color=#1b1baa>$</font>al(INI,save_onclose)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;save_onsave=<font color=#1b1baa>$</font>al(INI,save_onsave)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;TclExts=<font color=#1b1baa>$</font>al(TclExts)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;ClangExts=<font color=#1b1baa>$</font>al(ClangExts)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;TextExts=<font color=#1b1baa>$</font>al(TextExts)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;REbranch=<font color=#1b1baa>$</font>al(RE,branch)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;REproc=<font color=#1b1baa>$</font>al(RE,proc)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;REproc2=<font color=#1b1baa>$</font>al(RE,proc2)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;REleaf=<font color=#1b1baa>$</font>al(RE,leaf)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;REleaf2=<font color=#1b1baa>$</font>al(RE,leaf2)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;UseLeaf=<font color=#1b1baa>$</font>al(INI,LEAF)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;Lines1=<font color=#1b1baa>$</font>al(INI,LINES1)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;RecentFiles=<font color=#1b1baa>$</font>al(INI,RECENTFILES)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;MaxLast=<font color=#1b1baa>$</font>al(FAV,MAXLAST)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;MaxFiles=<font color=#1b1baa>$</font>al(MAXFILES)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;barlablen=<font color=#1b1baa>$</font>al(INI,barlablen)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;bartiplen=<font color=#1b1baa>$</font>al(INI,bartiplen)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;isfindrepl=<font color=#1b1baa>$</font>al(INI,isfindrepl)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> prjtpls=[::alited::ProcEOL <font color=#1b1baa>$al(PTP,list)</font> out]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;backup=<font color=#1b1baa>$</font>al(BACKUP)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;maxbackup=<font color=#1b1baa>$</font>al(MAXBACKUP)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;gutterwidth=<font color=#1b1baa>$</font>al(ED,gutterwidth)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;guttershift=<font color=#1b1baa>$</font>al(ED,guttershift)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;btsbd=<font color=#1b1baa>$</font>al(ED,btsbd)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;BlinkCurs=<font color=#1b1baa>$</font>al(ED,BlinkCurs)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;ClrCurs=<font color=#1b1baa>$</font>al(CURSORCOLOR)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;prjdefault=<font color=#1b1baa>$</font>al(PRJDEFAULT)&quot;</font>
  <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>array</font></b> names al DEFAULT,*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>k=<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>k)&quot;</font>
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;findunit=<font color=#1b1baa>$</font>al(findunitvals)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;afterstart=<font color=#1b1baa>$</font>al(afterstart)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;ALEversion=<font color=#1b1baa>[</font>AlitedVersion<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;todoahead=<font color=#1b1baa>$</font>al(todoahead)&quot;</font>

  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Templates]}
  <b><font color=#3a6797>foreach</font></b> t <font color=#1b1baa>$al(TPL,list)</font> {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;tpl=<font color=#1b1baa>$</font>t&quot;</font>
  }
  <b><font color=#3a6797>foreach</font></b> n {%d %t %u %U %m %w} {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>n=<font color=#1b1baa>$</font>al(TPL,<font color=#1b1baa>$</font>n)&quot;</font>
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Keys]}
  <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$al(KEYS,bind)</font> {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match template* <font color=#1b1baa>$k</font>] && ![<b><font color=#3a6797>string</font></b> match action* <font color=#1b1baa>$k</font>]} {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;key=<font color=#1b1baa>$</font>k&quot;</font>
    }
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[EM]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emsave=<font color=#1b1baa>$</font>al(EM,save)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emPD=<font color=#1b1baa>$</font>al(EM,PD=)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emTcl=<font color=#1b1baa>$</font>al(EM,Tcl)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emTclList=<font color=#1b1baa>$</font>al(EM,TclList)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emh=<font color=#1b1baa>$</font>al(EM,h=)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emtt=<font color=#1b1baa>$</font>al(EM,tt=)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emttList=<font color=#1b1baa>$</font>al(EM,tt=List)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emwt=<font color=#1b1baa>$</font>al(EM,wt=)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emmenu=<font color=#1b1baa>$</font>al(EM,mnu)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emmenudir=<font color=#1b1baa>$</font>al(EM,mnudir)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emcs=<font color=#1b1baa>$</font>al(EM,CS)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emowncs=<font color=#1b1baa>$</font>al(EM,ownCS)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emgeometry=<font color=#1b1baa>$</font>al(EM,geometry)&quot;</font>
  <i><font color=#4b5d50>#  puts $chan &quot;emexec=$al(EM,exec)&quot;</font></i>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;emdiff=<font color=#1b1baa>$</font>al(EM,DiffTool)&quot;</font>
  <b><font color=#3a6797>set</font></b> em_N [Em_Number <font color=#1b1baa>$em_Num</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_inf(<font color=#1b1baa>$i</font>)]} {
      <b><font color=#3a6797>set</font></b> em_run em_run=
      <b><font color=#3a6797>append</font></b> em_run [alited::TextIcon <font color=#1b1baa>$em_ico($i)</font> in] \t <font color=#1b1baa>$em_inf($i)</font>
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#1b1baa>$em_run</font>
    }
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Tkcon]}
  <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>array</font></b> names al tkcon,*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>k 6 end<font color=#1b1baa>]</font>=<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>k)&quot;</font>
  }
  <i><font color=#4b5d50># save misc settings</font></i>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Misc]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;isfavor=<font color=#1b1baa>$</font>al(FAV,IsFavor)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;chosencolor=<font color=#1b1baa>$</font>al(chosencolor)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;showinfo=<font color=#1b1baa>$</font>al(TREE,showinfo)&quot;</font>
  <b><font color=#3a6797>set</font></b> al(listSBL) [::alited::ProcEOL <font color=#1b1baa>$al(listSBL)</font> out]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;listSBL=<font color=#1b1baa>$</font>al(listSBL)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;moveall=<font color=#1b1baa>$</font>al(moveall)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;tonemoves=<font color=#1b1baa>$</font>al(tonemoves)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;checkgeo=<font color=#1b1baa>$</font>al(checkgeo)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;HelpedMe=<font color=#1b1baa>$</font>::alited::helpedMe&quot;</font>
  <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>array</font></b> names al <font color=#6c3e67>-glob</font> TIPS,*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>k=<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>k)&quot;</font>
  }
  <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>array</font></b> names al <font color=#6c3e67>-glob</font> MNUGEO,*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>k=<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>k)&quot;</font>
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;sortList=<font color=#1b1baa>$</font>al(sortList)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;tplilast=<font color=#1b1baa>$</font>::alited::unit::ilast&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;incdec=<font color=#1b1baa>$</font>al(incdecName) <font color=#1b1baa>$</font>al(incdecDate) <font color=#1b1baa>$</font>al(incdecSize) <font color=#1b1baa>$</font>al(incdecExtn)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;blifo=<font color=#1b1baa>$</font>al(lifo)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;activemacro=<font color=#1b1baa>$</font>al(activemacro)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> InRE2=[::alited::ProcEOL <font color=#1b1baa>$::alited::find::InRE2</font> out]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> ExRE2=[::alited::ProcEOL <font color=#1b1baa>$::alited::find::ExRE2</font> out]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;chInRE2=<font color=#1b1baa>$</font>::alited::find::chInRE2&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;chExRE2=<font color=#1b1baa>$</font>::alited::find::chExRE2&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;geoRE2=<font color=#1b1baa>$</font>::alited::find::geoRE2&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;commentmode=<font color=#1b1baa>$</font>al(commentmode)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;format_separ1=<font color=#1b1baa>$</font>al(format_separ1)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;format_separ2=<font color=#1b1baa>$</font>al(format_separ2)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;markwidth=<font color=#1b1baa>$</font>al(markwidth)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;klndweeks=<font color=#1b1baa>$</font>al(klndweeks)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;topFindRepl=<font color=#1b1baa>$</font>al(topFindRepl)&quot;</font>
  <i><font color=#4b5d50># save the Edit/Formats pluginables</font></i>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Formats]}
  <b><font color=#3a6797>foreach</font></b> n [<b><font color=#3a6797>array</font></b> names al <font color=#6c3e67>-glob</font> FORMATS,*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;pluginable=<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>n)&quot;</font>
  }
  <i><font color=#4b5d50># save the geometry options</font></i>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Geometry]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;runGeometry=<font color=#1b1baa>$</font>al(runGeometry)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;geomfind=<font color=#1b1baa>$</font>::alited::find::geo&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;geomfind2=<font color=#1b1baa>$</font>::alited::find::geo2&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;geomproject=<font color=#1b1baa>$</font>::alited::project::geo&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;geompref=<font color=#1b1baa>$</font>::alited::pref::geo&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;dirgeometry=<font color=#1b1baa>$</font>::alited::DirGeometry&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;filgeometry=<font color=#1b1baa>$</font>::alited::FilGeometry&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;favgeometry=<font color=#1b1baa>$</font>::alited::favgeometry&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;tplgeometry=<font color=#1b1baa>$</font>::alited::tplgeometry&quot;</font>
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> al(TREE,cw0) [<font color=#1b1baa>$wtree</font> column #0 <font color=#6c3e67>-width</font>]
  <b><font color=#3a6797>set</font></b> al(TREE,cw1) [<font color=#1b1baa>$wtree</font> column #1 <font color=#6c3e67>-width</font>]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;treecw0=<font color=#1b1baa>$</font>al(TREE,cw0)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;treecw1=<font color=#1b1baa>$</font>al(TREE,cw1)&quot;</font>
  <b><font color=#3a6797>foreach</font></b> v {Pan PanL PanR PanBM PanTop} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(width<font color=#1b1baa>$v</font>)]} {
      <b><font color=#3a6797>set</font></b> w <font color=#1b1baa>$al(width$v)</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> w [<b><font color=#134070>winfo</font></b> geometry [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$v</font>]]
    }
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#1b1baa>$v</font>=<font color=#1b1baa>$w</font>
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;GEOM=<font color=#1b1baa>[</font>wm geometry <font color=#1b1baa>$</font>al(WIN)<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>foreach</font></b> id {1 2 3 4 5 6 7 8} {
    <b><font color=#3a6797>lassign</font></b> [alited::file::DetachedInfo <font color=#1b1baa>$id</font>] pobj win
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists <font color=#1b1baa>$pobj</font>]} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
        <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> geo [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$pobj</font>]
      }
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;detach<font color=#1b1baa>$</font>id=<font color=#1b1baa>$</font>geo&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;fontdetach=<font color=#1b1baa>$</font>al(fontdetach)&quot;</font>
  <b><font color=#3a6797>close</font></b> <font color=#1b1baa>$chan</font>
  SaveIniPrj <font color=#1b1baa>$newproject</font>
  SaveIniGlob
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveIniGlob'>SaveIniGlob</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Save 3 lines of global configuration of alited: current .ini file, current project's path, list of config dirs</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIniGlob</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_SaveIniGlob' href="javascript:toggleSource('alited_ini_SaveIniGlob')">Show source</a></p>
<div id='alited_ini_SaveIniGlob' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::SaveIniGlob {} {
  <i><font color=#4b5d50># Save 3 lines of global configuration of alited:</font></i>
  <i><font color=#4b5d50># current .ini file, current project's path, list of config dirs</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(INI)</font>]\n[<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(prjfile)</font>]\n<font color=#1b1baa>$::alited::CONFIGS</font>
  writeTextFile <font color=#1b1baa>$::alited::USERLASTINI</font> cont
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveIniPrj'>SaveIniPrj</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves settings of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIniPrj</span> <span class='ruff_arg'>?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>flag &quot;for a new project&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_SaveIniPrj' href="javascript:toggleSource('alited_ini_SaveIniPrj')">Show source</a></p>
<div id='alited_ini_SaveIniPrj' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::SaveIniPrj {{newproject no}} {
  <i><font color=#4b5d50># Saves settings of project.</font></i>
  <i><font color=#4b5d50>#   newproject - flag &quot;for a new project&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> tabs <font color=#1b1baa>$al(tabs)</font>
  <b><font color=#3a6797>set</font></b> al(tabs) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;alited storing: <font color=#1b1baa>$</font>al(prjfile)&quot;</font>
  <b><font color=#3a6797>set</font></b> chan [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$al(prjfile)</font> w]
  <b><font color=#3a6797>chan</font></b> configure <font color=#1b1baa>$chan</font> <font color=#6c3e67>-buffering</font> full <font color=#6c3e67>-buffersize</font> 262144
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Tabs]}
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetBarState] TIDcur - wtxt
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$newproject</font>} {
    <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
  }
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {  ;<i><font color=#4b5d50># save the current files' list & states</font></i>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$newproject</font>} {
      <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>set</font></b> tab [alited::bar::FileName <font color=#1b1baa>$TID</font>]
      <b><font color=#3a6797>if</font></b> {[alited::file::IsNoName <font color=#1b1baa>$tab</font>]} <b><font color=#ca14ca>continue</font></b>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq <font color=#1b1baa>$TIDcur</font>} {
        <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> pos [alited::bar::GetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--pos</font>]
      }
      <b><font color=#3a6797>append</font></b> tab \t <font color=#1b1baa>$pos</font>  ;<i><font color=#4b5d50># save the current cursor position (fit to all files)</font></i>
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>set</font></b> wrap [[alited::main::GetWTXT <font color=#1b1baa>$TID</font>] cget <font color=#6c3e67>-wrap</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wrap</font> ne {word}} {
          <b><font color=#3a6797>append</font></b> tab \t <font color=#1b1baa>$wrap</font>  ;<i><font color=#4b5d50># save the current wrap!=word (fit to strange files)</font></i>
        }
      }
    }
    <b><font color=#3a6797>lappend</font></b> al(tabs) <font color=#1b1baa>$tab</font>
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> tab=<font color=#1b1baa>$tab</font>
  }
  <b><font color=#3a6797>foreach</font></b> rf <font color=#1b1baa>$al(RECENTFILES)</font> {
    <b><font color=#3a6797>if</font></b> {![alited::file::IsNoName <font color=#1b1baa>$rf</font>]} {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> recent=<font color=#1b1baa>$rf</font>
    }
  }
  <b><font color=#3a6797>foreach</font></b> {key1 key2} {ENCODING encode EOL eol} {
    <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>array</font></b> names al <font color=#1b1baa>$key1</font>,*] {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al($k)</font> ni {utf-8 auto}} {
        <i><font color=#4b5d50># restrict the saved with currently used files only</font></i>
        <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$k</font> [<b><font color=#3a6797>string</font></b> first , <font color=#1b1baa>$k</font>]+1 end]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> in <font color=#1b1baa>$al(RECENTFILES)</font> || [alited::bar::FileTID <font color=#1b1baa>$fname</font>] ne {}} {
          <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>key2=<font color=#1b1baa>$</font>k\t<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>k)&quot;</font>
        }
      }
    }
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Options]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> curtab=[alited::bar::CurrentTab 3]
  <b><font color=#3a6797>foreach</font></b> {opt val} [<b><font color=#3a6797>array</font></b> get al prj*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#1b1baa>$opt</font>=<font color=#1b1baa>$val</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$newproject</font>} {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Favorites]}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
      <b><font color=#3a6797>set</font></b> favlist [alited::tree::GetTree {} TreeFavor]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> favlist <font color=#1b1baa>$al(FAV,current)</font>
    }
    <b><font color=#3a6797>foreach</font></b> curfav <font color=#1b1baa>$favlist</font> {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> current=<font color=#1b1baa>$curfav</font>
    }
    <b><font color=#3a6797>foreach</font></b> savfav [::alited::favor_ls::PutIni] {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> saved=<font color=#1b1baa>$savfav</font>
    }
    <b><font color=#3a6797>foreach</font></b> visited <font color=#1b1baa>$al(FAV,visited)</font> {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> visited=<font color=#1b1baa>$visited</font>
    }
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Misc]}
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> datafind=[::alited::ProcEOL [<b><font color=#3a6797>array</font></b> get ::alited::find::data] out]
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> comforce=<font color=#1b1baa>$al(comForce)</font>
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> comforcech=<font color=#1b1baa>$al(comForceCh)</font>
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> comforcels=<font color=#1b1baa>$al(comForceLs)</font>
  }
  <b><font color=#3a6797>puts</font></b> \n
  <b><font color=#3a6797>close</font></b> <font color=#1b1baa>$chan</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::TipToolHotkeys'>TipToolHotkeys</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds hotkeys to toolbar tips.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TipToolHotkeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_TipToolHotkeys' href="javascript:toggleSource('alited_ini_TipToolHotkeys')">Show source</a></p>
<div id='alited_ini_TipToolHotkeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::TipToolHotkeys {} {
  <i><font color=#4b5d50># Adds hotkeys to toolbar tips.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>append</font></b> al(MC,icoSaveFile) \n <font color=#1b1baa>$al(acc_0)</font>
  <b><font color=#3a6797>append</font></b> al(MC,icorun)      \n <font color=#1b1baa>$al(acc_3)</font>
  <b><font color=#3a6797>append</font></b> al(MC,icoe_menu)   \n <font color=#1b1baa>$al(acc_2)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolbarTip'>ToolbarTip</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a toolbar button's tip, mapping %f / %D to a current file / directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolbarTip</span> <span class='ruff_arg'>i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>index of e_menu item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolbarTip' href="javascript:toggleSource('alited_ini_ToolbarTip')">Show source</a></p>
<div id='alited_ini_ToolbarTip' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolbarTip {i} {
  <i><font color=#4b5d50># Gets a toolbar button's tip, mapping %f / %D to a current file / directory.</font></i>
  <i><font color=#4b5d50>#   i - index of e_menu item</font></i>

  <b><font color=#3a6797>set</font></b> maplist [alited::menu::MapRunItems [alited::bar::FileName]]
  <b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$maplist</font> <font color=#1b1baa>$::alited::pref::em_mnu($i)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolByKey'>ToolByKey</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a command after its hot key pressing in f5 tab of Projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolByKey</span> <span class='ruff_arg'>nbk com</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nbk</code></code></td><td class='ruff_defitem'>notebook's path</td></tr>
<tr><td class='ruff_defitem'><code><code>com</code></code></td><td class='ruff_defitem'>command</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::project::_create" title="project::_create" class='ruff_cmd'>project::_create</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolByKey' href="javascript:toggleSource('alited_ini_ToolByKey')">Show source</a></p>
<div id='alited_ini_ToolByKey' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolByKey {nbk com} {
  <i><font color=#4b5d50># Runs a command after its hot key pressing in f5 tab of Projects.</font></i>
  <i><font color=#4b5d50>#   nbk - notebook's path</font></i>
  <i><font color=#4b5d50>#   com - command</font></i>
  <i><font color=#4b5d50># See also: project::_create</font></i>

  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$nbk</font> select] eq <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>nbk.f5&quot;</font>} <font color=#1b1baa>$com</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolPrjCommand'>ToolPrjCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Executes project toolbar's command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolPrjCommand</span> <span class='ruff_arg'>im</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>im</code></code></td><td class='ruff_defitem'>index in toolbar</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolPrjCommand' href="javascript:toggleSource('alited_ini_ToolPrjCommand')">Show source</a></p>
<div id='alited_ini_ToolPrjCommand' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolPrjCommand {im} {
  <i><font color=#4b5d50># Executes project toolbar's command.</font></i>
  <i><font color=#4b5d50>#   im - index in toolbar</font></i>

  <b><font color=#3a6797>set</font></b> com [alited::tool::EM_command <font color=#1b1baa>$im</font>]
  <b><font color=#3a6797>append</font></b> com <font color=#8b2a0e>&quot; \&quot;f=<font color=#1b1baa>[</font>ToolPrjFilename<font color=#1b1baa>]</font>\&quot; \&quot;d=<font color=#1b1baa>[</font>ToolPrjDirname<font color=#1b1baa>]</font>\&quot; \&quot;TF=<font color=#1b1baa>[</font>ToolPrjFilename<font color=#1b1baa>]</font>\&quot;&quot;</font>
  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$com</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolPrjDirname'>ToolPrjDirname</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets dir name of current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolPrjDirname</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolPrjDirname' href="javascript:toggleSource('alited_ini_ToolPrjDirname')">Show source</a></p>
<div id='alited_ini_ToolPrjDirname' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolPrjDirname {} {
  <i><font color=#4b5d50># Gets dir name of current file.</font></i>

  <b><font color=#3a6797>file</font></b> dirname [ToolPrjFilename]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolPrjEM'>ToolPrjEM</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls e_menu from toolbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolPrjEM</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolPrjEM' href="javascript:toggleSource('alited_ini_ToolPrjEM')">Show source</a></p>
<div id='alited_ini_ToolPrjEM' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolPrjEM {} {
  <i><font color=#4b5d50># Calls e_menu from toolbar.</font></i>

  alited::tool::e_menu o=0 f=[ToolPrjFilename] d=[ToolPrjDirname]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolPrjFilename'>ToolPrjFilename</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets file name of current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolPrjFilename</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolPrjFilename' href="javascript:toggleSource('alited_ini_ToolPrjFilename')">Show source</a></p>
<div id='alited_ini_ToolPrjFilename' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolPrjFilename {} {
  <i><font color=#4b5d50># Gets file name of current file.</font></i>

  alited::project::CurrentFile
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolPrjRun'>ToolPrjRun</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs current file from toolbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolPrjRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolPrjRun' href="javascript:toggleSource('alited_ini_ToolPrjRun')">Show source</a></p>
<div id='alited_ini_ToolPrjRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolPrjRun {} {
  <i><font color=#4b5d50># Runs current file from toolbar.</font></i>

  alited::tool::_run 1 {} <font color=#6c3e67>-doit</font> yes f=[ToolPrjFilename]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolPrjTip'>ToolPrjTip</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a toolbar button's tip, mapping %f / %D to a current file / directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolPrjTip</span> <span class='ruff_arg'>i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>index of e_menu item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolPrjTip' href="javascript:toggleSource('alited_ini_ToolPrjTip')">Show source</a></p>
<div id='alited_ini_ToolPrjTip' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolPrjTip {i} {
  <i><font color=#4b5d50># Gets a toolbar button's tip, mapping %f / %D to a current file / directory.</font></i>
  <i><font color=#4b5d50>#   i - index of e_menu item</font></i>

  <b><font color=#3a6797>set</font></b> maplist [alited::menu::MapRunItems [ToolPrjFilename]]
  <b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$maplist</font> <font color=#1b1baa>$::alited::pref::em_mnu($i)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolPrjTkcon'>ToolPrjTkcon</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs tkcon from toolbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolPrjTkcon</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ToolPrjTkcon' href="javascript:toggleSource('alited_ini_ToolPrjTkcon')">Show source</a></p>
<div id='alited_ini_ToolPrjTkcon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolPrjTkcon {} {
  <i><font color=#4b5d50># Runs tkcon from toolbar.</font></i>

  alited::tool::tkcon <font color=#6c3e67>-dir</font> [ToolPrjDirname]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::TooltipPrjRun'>TooltipPrjRun</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip for &quot;Projects' Run&quot; tool.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TooltipPrjRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_TooltipPrjRun' href="javascript:toggleSource('alited_ini_TooltipPrjRun')">Show source</a></p>
<div id='alited_ini_TooltipPrjRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::TooltipPrjRun {} {
  <i><font color=#4b5d50># Gets a tip for &quot;Projects' Run&quot; tool.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> res <font color=#1b1baa>$al(MC,icorun)</font>
  <b><font color=#3a6797>append</font></b> res [AddTooltipRun]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::UpdateTemplates'>UpdateTemplates</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates templates.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTemplates</span> <span class='ruff_arg'>inideffile</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inideffile</code></code></td><td class='ruff_defitem'>ini file name of default templates</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_UpdateTemplates' href="javascript:toggleSource('alited_ini_UpdateTemplates')">Show source</a></p>
<div id='alited_ini_UpdateTemplates' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::UpdateTemplates {inideffile} {
  <i><font color=#4b5d50># Updates templates.</font></i>
  <i><font color=#4b5d50>#   inideffile - ini file name of default templates</font></i>

  <b><font color=#3a6797>set</font></b> tplmode 0
  <i><font color=#4b5d50># read new templates: from [Templates] to [Keys]</font></i>
  <b><font color=#3a6797>foreach</font></b> stini [<b><font color=#3a6797>split</font></b> [readTextFile <font color=#1b1baa>$inideffile</font> {} 1] \n] {
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$stini</font> {
      {[Templates]} {<b><font color=#3a6797>set</font></b> tplmode 1}
      {[Keys]} <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tplmode</font> && [<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$stini</font>]]&gt;0} {
      <b><font color=#3a6797>set</font></b> nam [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> 0 <font color=#1b1baa>$i</font>-1]
      <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> <font color=#1b1baa>$i</font>+1 end]
      ReadIniTemplates <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font> no
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ViewUpdates'>ViewUpdates</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Views changes for updating.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ViewUpdates</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_ini_ViewUpdates' href="javascript:toggleSource('alited_ini_ViewUpdates')">Show source</a></p>
<div id='alited_ini_ViewUpdates' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ViewUpdates {} {
  <i><font color=#4b5d50># Views changes for updating.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited DATADIR DATADIR
  obj vieweditFile [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> to-update.txt] {} <font color=#6c3e67>-rotext</font> 1 <font color=#6c3e67>-h</font> 25
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::keys'></a>::alited::keys<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::keys-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::keys::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds an item to a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>type name keys cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item</td></tr>
<tr><td class='ruff_defitem'><code><code>keys</code></code></td><td class='ruff_defitem'>key combination</td></tr>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>contents (data of binding)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_Add' href="javascript:toggleSource('alited_keys_Add')">Show source</a></p>
<div id='alited_keys_Add' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Add {type name keys cont} {
  <i><font color=#4b5d50># Adds an item to a list of keys data.</font></i>
  <i><font color=#4b5d50>#   type - type of key</font></i>
  <i><font color=#4b5d50>#   name - name of item</font></i>
  <i><font color=#4b5d50>#   keys - key combination</font></i>
  <i><font color=#4b5d50>#   cont - contents (data of binding)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$keys</font>] ne {}} {
    <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$type</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$keys</font> <font color=#1b1baa>$cont</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [Search <font color=#1b1baa>$type</font> <font color=#1b1baa>$name</font>]]&gt;-1} {
      <b><font color=#3a6797>set</font></b> al(KEYS,bind) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(KEYS,bind)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$item</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> al(KEYS,bind) <font color=#1b1baa>$item</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::BindAllKeys'>BindAllKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds all keys to appropriate events of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindAllKeys</span> <span class='ruff_arg'>wtxt asfind</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>asfind</code></code></td><td class='ruff_defitem'>do it for &quot;find/replace&quot; as well</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_BindAllKeys' href="javascript:toggleSource('alited_keys_BindAllKeys')">Show source</a></p>
<div id='alited_keys_BindAllKeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::BindAllKeys {wtxt asfind} {
  <i><font color=#4b5d50># Binds all keys to appropriate events of text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   asfind - do it for &quot;find/replace&quot; as well</font></i>

  BindKeys <font color=#1b1baa>$wtxt</font> action <font color=#1b1baa>$asfind</font>
  BindKeys <font color=#1b1baa>$wtxt</font> template <font color=#1b1baa>$asfind</font>
  BindKeys <font color=#1b1baa>$wtxt</font> preference <font color=#1b1baa>$asfind</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::BindKeys'>BindKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds keys to appropriate events of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindKeys</span> <span class='ruff_arg'>wtxt type ?asfind?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of keys (template etc.)</td></tr>
<tr><td class='ruff_defitem'><code><code>asfind</code></code></td><td class='ruff_defitem'>do it for &quot;find/replace&quot; as well; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_BindKeys' href="javascript:toggleSource('alited_keys_BindKeys')">Show source</a></p>
<div id='alited_keys_BindKeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::BindKeys {wtxt type {asfind no}} {
  <i><font color=#4b5d50># Binds keys to appropriate events of text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   type - type of keys (template etc.)</font></i>
  <i><font color=#4b5d50>#   asfind - do it for &quot;find/replace&quot; as well</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> firstbind
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$firstbind</font> || <font color=#1b1baa>$asfind</font>} {
    <i><font color=#4b5d50># some bindings must be active in &quot;info&quot; listbox, &quot;find units&quot; combobox and tree</font></i>
    <b><font color=#3a6797>set</font></b> activeForOthers [<b><font color=#3a6797>list</font></b> ::tool: ::find:: ::file:: ::main::GotoLine ::bar::BAR]
    <b><font color=#3a6797>set</font></b> w1 [<font color=#1b1baa>$obPav</font> LbxInfo]
    <b><font color=#3a6797>set</font></b> w2 [<font color=#1b1baa>$obPav</font> CbxFindSTD]
    <b><font color=#3a6797>set</font></b> w3 [<font color=#1b1baa>$obPav</font> Tree]
    <b><font color=#3a6797>set</font></b> w4 <font color=#1b1baa>$::alited::find::win</font>
  }
  <b><font color=#3a6797>foreach</font></b> kb [alited::keys::EngagedList <font color=#1b1baa>$type</font> all] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kb</font> -&gt; tpl keys tpldata
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> last - <font color=#1b1baa>$keys</font>]]&gt;0} {
        <b><font color=#3a6797>set</font></b> lt [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$keys</font> <font color=#1b1baa>$i</font>+1 end]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lt</font>]==1} {  ;<i><font color=#4b5d50># for lower case of letters</font></i>
          <b><font color=#3a6797>lappend</font></b> keys <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>keys 0 <font color=#1b1baa>$</font>i<font color=#1b1baa>][</font>string tolower <font color=#1b1baa>$</font>lt<font color=#1b1baa>]</font>&quot;</font>
        }
      }
      <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$keys</font> {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$type</font> eq <font color=#8b2a0e>&quot;template&quot;</font>} {
          <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$tpldata</font> tex pos place
          <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$::alited::EOL</font> \n % %%] <font color=#1b1baa>$tex</font>]
          <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> [<b><font color=#3a6797>list</font></b> ::alited::unit::InsertTemplate [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$place</font>]]
        } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$type</font> eq <font color=#8b2a0e>&quot;preference&quot;</font>} {
          <b><font color=#3a6797>set</font></b> tpldata [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %k <font color=#1b1baa>$keys</font>] <font color=#1b1baa>$tpldata</font>]
          {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tpldata</font>
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$firstbind</font> || <font color=#1b1baa>$asfind</font>} {
            <b><font color=#3a6797>foreach</font></b> afo <font color=#1b1baa>$activeForOthers</font> {
              <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$afo</font> <font color=#1b1baa>$tpldata</font>]&gt;-1} {
                <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$asfind</font>} {
                  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w4</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#1b1baa>$tpldata</font>
                } <b><font color=#3a6797>else</font></b> {
                  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w1</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#1b1baa>$tpldata</font>
                  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w2</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#1b1baa>$tpldata</font>
                  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w3</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#1b1baa>$tpldata</font>
                }
                <b><font color=#ca14ca>break</font></b>
              }
            }
          }
          <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#1b1baa>$tpldata</font>
        }
      }
    } err]} <b><font color=#3a6797>then</font></b> {
      <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;Error of binding: <font color=#1b1baa>$</font>tpl &lt;<font color=#1b1baa>$</font>keys&gt; - <font color=#1b1baa>$</font>err&quot;</font>
    }
  }
  <b><font color=#3a6797>set</font></b> firstbind no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes an item from a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>type ?name?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_Delete' href="javascript:toggleSource('alited_keys_Delete')">Show source</a></p>
<div id='alited_keys_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Delete {type {name {}}} {
  <i><font color=#4b5d50># Deletes an item from a list of keys data.</font></i>
  <i><font color=#4b5d50>#   type - type of key</font></i>
  <i><font color=#4b5d50>#   name - name of item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> deleted 0
  <b><font color=#3a6797>while</font></b> {[<b><font color=#3a6797>set</font></b> i [Search <font color=#1b1baa>$type</font> <font color=#1b1baa>$name</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> al(KEYS,bind) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(KEYS,bind)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>incr</font></b> deleted
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$deleted</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::EngagedList'>EngagedList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys engaged by a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EngagedList</span> <span class='ruff_arg'>?type? ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>a type of keys (&quot;template&quot; etc.); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;all&quot;, returns full info of keys; if &quot;keysonly&quot; - only key names; if &quot;keyscont&quot; - only key contents; <i>optional, default</i> <code>keyscont</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys engaged by a user.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_EngagedList' href="javascript:toggleSource('alited_keys_EngagedList')">Show source</a></p>
<div id='alited_keys_EngagedList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::EngagedList {{type {}} {mode keyscont}} {
  <i><font color=#4b5d50># Returns a list of keys engaged by a user.</font></i>
  <i><font color=#4b5d50>#   type - a type of keys (&quot;template&quot; etc.)</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;all&quot;, returns full info of keys; if &quot;keysonly&quot; - only key names; if &quot;keyscont&quot; - only key contents</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> kb <font color=#1b1baa>$al(KEYS,bind)</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$type</font> eq <font color=#8b2a0e>&quot;&quot;</font> || <font color=#1b1baa>$type</font> eq [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$kb</font> 0]} {
      <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$mode</font> {
        all      {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$kb</font>}
        keysonly {<b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$kb</font> 2]}
        keyscont {<b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$kb</font> 2 3]}
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::ReservedAdd'>ReservedAdd</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves reserved (&quot;action&quot;) keys to a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedAdd</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_ReservedAdd' href="javascript:toggleSource('alited_keys_ReservedAdd')">Show source</a></p>
<div id='alited_keys_ReservedAdd' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::ReservedAdd {} {
  <i><font color=#4b5d50># Saves reserved (&quot;action&quot;) keys to a list of keys data.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  Add action exit-app     Alt-F4 {alited::Exit; <b><font color=#ca14ca>break</font></b>}
  Add action find-replace Control-F {alited::find::_run; <b><font color=#ca14ca>break</font></b>}
  Add action find-unit    Shift-Control-F {::alited::find::FindUnit; <b><font color=#ca14ca>break</font></b>}
  Add action new-file     Control-N {::alited::file::NewFile; <b><font color=#ca14ca>break</font></b>}
  Add action open-file    Control-O {::alited::file::OpenFile; <b><font color=#ca14ca>break</font></b>}
  Add action save-all     Shift-Control-S {::alited::file::SaveAll; <b><font color=#ca14ca>break</font></b>}
  Add action save-close   Control-W {::alited::file::SaveAndClose; <b><font color=#ca14ca>break</font></b>}
  Add action close-delete Control-Alt-W {::alited::file::CloseAndDelete; <b><font color=#ca14ca>break</font></b>}
  Add action help         F1 {alited::tool::Help}
  <i><font color=#4b5d50># other keys are customized in Preferences</font></i>
  Add action save-file    [alited::pref::BindKey 0 - F2] ::alited::file::SaveFile
  Add action save-as      [alited::pref::BindKey 1 - Control-S] {::alited::file::SaveFileAs; <b><font color=#ca14ca>break</font></b>}
  Add action e_menu       [alited::pref::BindKey 2 - F4] alited::tool::e_menu3
  Add action run          [alited::pref::BindKey 3 - F5] alited::tool::_run
  Add action indent       [alited::pref::BindKey 6 - Control-I] {::alited::edit::Indent; <b><font color=#ca14ca>break</font></b>}
  Add action unindent     [alited::pref::BindKey 7 - Control-U] {::alited::edit::UnIndent; <b><font color=#ca14ca>break</font></b>}
  Add action comment      [alited::pref::BindKey 8 - Control-bracketleft] {::alited::edit::Comment; <b><font color=#ca14ca>break</font></b>}
  Add action uncomment    [alited::pref::BindKey 9 - Control-bracketright] {::alited::edit::UnComment; <b><font color=#ca14ca>break</font></b>}
  Add action find-next    [alited::pref::BindKey 12 - F3] alited::find::FindNext
  Add action look-declaration    [alited::pref::BindKey 13 - Control-L] <font color=#8b2a0e>&quot;::alited::find::LookDecl ; break&quot;</font>
  Add action look-word    [alited::pref::BindKey 14 - Control-Shift-L] <font color=#8b2a0e>&quot;::alited::find::SearchWordInSession ; break&quot;</font>
  Add action RESERVED     [alited::pref::BindKey 15 - F11] {+ ::apave::None}
  Add action play-macro   [alited::pref::BindKey 16 - F12] {+ ::alited::edit::DispatchMacro}
  Add action goto-line    [alited::pref::BindKey 17 - Control-G] {alited::main::GotoLine; <b><font color=#ca14ca>break</font></b>}
  Add action insert-line  [alited::pref::BindKey 18 - Control-P] {alited::main::InsertLine; <b><font color=#ca14ca>break</font></b>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(IsWindows)</font>} {<b><font color=#3a6797>set</font></b> i1 %s==0} {<b><font color=#3a6797>set</font></b> i1 1}
  Add action autocomplete [alited::pref::BindKey 19 - Tab] [<b><font color=#3a6797>list</font></b> + if <font color=#1b1baa>$i1</font> {alited::complete::AutoCompleteCommand; <b><font color=#ca14ca>break</font></b>}]
  Add action goto-bracket [alited::pref::BindKey 20 - Alt-B] {alited::main::GotoBracket; <b><font color=#ca14ca>break</font></b>}
  Add action file-list [alited::pref::BindKey 21 - F9] {alited::bar::BAR popList %X %Y; <b><font color=#ca14ca>break</font></b>}
  Add action run-file [alited::pref::BindKey 22 - Shift-F5] <font color=#1b1baa>$al(runAsIs)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::ReservedList'>ReservedList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys reserved by alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys reserved by alited.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_ReservedList' href="javascript:toggleSource('alited_keys_ReservedList')">Show source</a></p>
<div id='alited_keys_ReservedList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::ReservedList {} {
  <i><font color=#4b5d50># Returns a list of keys reserved by alited.</font></i>

  <b><font color=#3a6797>list</font></b>  F1  F10  Control-A  Control-B  Control-C  Control-E  Control-F  Control-N  Control-O  Control-T  Control-V  Control-W  Control-X  Control-Z  Control-Alt-W  Control-Shift-Z  Control-Shift-F  Alt-Up  Alt-Down  Alt-Left  Alt-Right  Alt-F4
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Search'>Search</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches an item in a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search</span> <span class='ruff_arg'>type name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_Search' href="javascript:toggleSource('alited_keys_Search')">Show source</a></p>
<div id='alited_keys_Search' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Search {type name} {
  <i><font color=#4b5d50># Searches an item in a list of keys data.</font></i>
  <i><font color=#4b5d50>#   type - type of key</font></i>
  <i><font color=#4b5d50>#   name - name of item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>foreach</font></b> kb <font color=#1b1baa>$al(KEYS,bind)</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kb</font> t n n2
    <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$type</font> eq {} || <font color=#1b1baa>$t</font> eq <font color=#1b1baa>$type</font>) && (<font color=#1b1baa>$name</font> eq {} || <font color=#1b1baa>$name</font> eq <font color=#1b1baa>$n</font> || <font color=#1b1baa>$name</font> eq <font color=#1b1baa>$n2</font>)} {
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$i</font>
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <b><font color=#ca14ca>return</font></b> -1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Test'>Test</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>It's just for testing keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Test</span> <span class='ruff_arg'>klist</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>klist</code></code></td><td class='ruff_defitem'>list of key combinations</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_Test' href="javascript:toggleSource('alited_keys_Test')">Show source</a></p>
<div id='alited_keys_Test' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Test {klist} {
  <i><font color=#4b5d50># It's just for testing keys.</font></i>
  <i><font color=#4b5d50>#   klist - list of key combinations</font></i>

  <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$klist</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> . <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#8b2a0e>&quot;puts <font color=#1b1baa>$</font>k&quot;</font>} err]} {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$err</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;Valid key combination: <font color=#1b1baa>$</font>k&quot;</font>
    }
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> . <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> {}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::UnBindKeys'>UnBindKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears key bindings of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnBindKeys</span> <span class='ruff_arg'>wtxt type</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of keys (template etc.)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_UnBindKeys' href="javascript:toggleSource('alited_keys_UnBindKeys')">Show source</a></p>
<div id='alited_keys_UnBindKeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::UnBindKeys {wtxt type} {
  <i><font color=#4b5d50># Clears key bindings of text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   type - type of keys (template etc.)</font></i>

  <b><font color=#3a6797>foreach</font></b> kb [alited::keys::EngagedList <font color=#1b1baa>$type</font> all] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kb</font> -&gt; tpl keys tpldata
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> tpldata [::alited::ProcEOL <font color=#1b1baa>$tpldata</font> in]
      <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>keys&gt;&quot;</font> {}
    } err]} <b><font color=#3a6797>then</font></b> {
      <b><font color=#3a6797>puts</font></b> <font color=#8b2a0e>&quot;Error of unbinding: <font color=#1b1baa>$</font>tpl &lt;<font color=#1b1baa>$</font>keys&gt; - <font color=#1b1baa>$</font>err&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::UserList'>UserList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys available to a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UserList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys available to a user.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_UserList' href="javascript:toggleSource('alited_keys_UserList')">Show source</a></p>
<div id='alited_keys_UserList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::UserList {} {
  <i><font color=#4b5d50># Returns a list of keys available to a user.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> reserved [ReservedList]
  <b><font color=#3a6797>lappend</font></b> reserved {<b><font color=#3a6797>*</font></b>}[alited::edit::PluginAccelerator <font color=#1b1baa>$al(MENUFORMATS)</font>]
  <b><font color=#3a6797>foreach</font></b> mod {<font color=#8b2a0e>&quot;&quot;</font> Control- Alt- Shift- Control-Shift- Control-Alt-} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mod</font> ni {Control- Control-Alt-}} {
      <b><font color=#3a6797>foreach</font></b> k {F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12} {
        <b><font color=#3a6797>set</font></b> key <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>mod<font color=#1b1baa>$</font>k&quot;</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$key</font> ni <font color=#1b1baa>$reserved</font>} {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$key</font>}
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mod</font> ni {<font color=#8b2a0e>&quot;&quot;</font> <font color=#8b2a0e>&quot;Shift-&quot;</font>}} {
      <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>split</font></b> 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ {}] {
        <b><font color=#3a6797>set</font></b> key <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>mod<font color=#1b1baa>$</font>k&quot;</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$key</font> ni <font color=#1b1baa>$reserved</font>} {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$key</font>}
      }
    }
  }
  <b><font color=#3a6797>lappend</font></b> res Control-bracketleft
  <b><font color=#3a6797>lappend</font></b> res Control-bracketright
  <b><font color=#3a6797>lappend</font></b> res Tab
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::VacantList'>VacantList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys not yet engaged.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>VacantList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys not yet engaged.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_keys_VacantList' href="javascript:toggleSource('alited_keys_VacantList')">Show source</a></p>
<div id='alited_keys_VacantList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::VacantList {} {
  <i><font color=#4b5d50># Returns a list of keys not yet engaged.</font></i>

  <b><font color=#3a6797>set</font></b> userlist [UserList]
  <b><font color=#3a6797>set</font></b> englist [EngagedList {} keysonly]
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$userlist</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$k</font> ni <font color=#1b1baa>$englist</font>} {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$k</font>}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::main'></a>::alited::main<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::main-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::main::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main form of the alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main__create' href="javascript:toggleSource('alited_main__create')">Show source</a></p>
<div id='alited_main__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::_create {} {
  <i><font color=#4b5d50># Creates a main form of the alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(AU!) 0
  <font color=#1b1baa>$obPav</font> untouchWidgets *.frAText *.lbxInfo *.lbxFlist *.too*
  <i><font color=#4b5d50># make the main apave object and populate it</font></i>
  <font color=#1b1baa>$obPav</font> makeWindow <font color=#1b1baa>$al(WIN)</font>.fra alited

  <i><font color=#4b5d50># alited_checked</font></i>

<i><font color=#4b5d50>## ________________________ Main window _________________________ ##</font></i>

  <font color=#1b1baa>$obPav</font> paveWindow <font color=#1b1baa>$al(WIN)</font>.fra {
    {Menu - - - - - {<font color=#6c3e67>-array</font> {
      <b><font color=#3a6797>file</font></b> File
      edit Edit
      search Search
      tool Tools
      setup Setup
      help Help
    }} alited::menu::FillMenu}
{#
<i><font color=#4b5d50>### ________________________ Main pan _________________________ ###</font></i>
}
    {frat - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both}}
    {frat.ToolTop - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top}  {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-borderwidth</font> 0 <font color=#6c3e67>-array</font> {<font color=#1b1baa>$::alited::al(atools)</font>}}}
    {fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-pady</font> 0}}
    {fra.Pan - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-orient</font> horizontal <font color=#1b1baa>$::alited::Pan_wh</font>}}
    {fra.pan.PanL - - - - {add} {<font color=#6c3e67>-orient</font> vertical <font color=#1b1baa>$::alited::PanL_wh</font>}}
    {.fraBot - - - - {add}}
{#
<i><font color=#4b5d50>### ________________________ Tree pan _________________________ ###</font></i>
}
    {.fraBot.PanBM - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#1b1baa>$::alited::PanBM_wh</font>}}
    {.fraBot.panBM.FraTree - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraBot.panBM.fraTree.fra1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x}}
{#
<i><font color=#4b5d50>#### ________________________ Tree's toolbar _________________________ ####</font></i>
}
    {.fraBot.panBM.fraTree.fra1.BtTswitch - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_gulls <font color=#6c3e67>-com</font> alited::tree::SwitchTree}}
    {.fraBot.panBM.fraTree.fra1.BtTUpdT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_retry <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,updtree)</font>}
    <font color=#6c3e67>-command</font> alited::main::UpdateAll}}
    {.fraBot.panBM.fraTree.fra1.sev1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraBot.panBM.fraTree.fra1.BtTUp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_up <font color=#6c3e67>-com</font> {alited::tree::MoveItem up}}}
    {.fraBot.panBM.fraTree.fra1.BtTDown - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_down <font color=#6c3e67>-com</font> {alited::tree::MoveItem down}}}
    {.fraBot.panBM.fraTree.fra1.sev2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraBot.panBM.fraTree.fra1.BtTAddT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_add <font color=#6c3e67>-com</font> alited::tree::AddItem}}
    {.fraBot.panBM.fraTree.fra1.BtTRenT - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_change <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,renamefile)\nF2&quot;</font>  <font color=#6c3e67>-com</font> {::alited::file::RenameFileInTree 0 <font color=#6c3e67>-geometry</font> pointer+10+10}}}
    {.fraBot.panBM.fraTree.fra1.BtTDelT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_delete <font color=#6c3e67>-com</font> alited::tree::DelItem}}
    {.fraBot.panBM.fraTree.fra1.BtTCloT - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_copy <font color=#6c3e67>-com</font> alited::file::CloneFile <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,clonefile)&quot;</font>}}
    {.fraBot.panBM.fraTree.fra1.BtTOpen - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_OpenFile <font color=#6c3e67>-com</font> ::alited::file::OpenWith <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,openwith)&quot;</font>}}
    {.fraBot.panBM.fraTree.fra1.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> center <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraBot.panBM.fraTree.fra1.btTCtr - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_minus <font color=#6c3e67>-com</font> {alited::tree::ExpandContractTree Tree no} <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Contract All&quot;</font>}}
    {.fraBot.panBM.fraTree.fra1.btTExp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_plus <font color=#6c3e67>-com</font> {alited::tree::ExpandContractTree Tree} <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Expand All&quot;</font>}}
{#
<i><font color=#4b5d50>#### ________________________ Tree _________________________ ####</font></i>
}
    {.fraBot.panBM.fraTree.fra1.sev3 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 0}}
    {.fraBot.panBM.fraTree.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {}}
    {.fraBot.panBM.fraTree.fra.Tree - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}
      {<font color=#6c3e67>-columns</font> {L1 L2 PRL ID LEV LEAF FL1} <font color=#6c3e67>-displaycolumns</font> {L1} <font color=#6c3e67>-columnoptions</font> <font color=#8b2a0e>&quot;#0  <font color=#1b1baa>{</font>-width <font color=#1b1baa>$</font>al(TREE,cw0)<font color=#1b1baa>}</font> L1 <font color=#1b1baa>{</font>-width <font color=#1b1baa>$</font>al(TREE,cw1) -anchor e<font color=#1b1baa>}</font>&quot;</font> <font color=#6c3e67>-style</font> TreeNoHL  <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-selectmode</font> extended <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {alited::tree::GetTooltip %i %c}  <font color=#6c3e67>-SHIFTX</font> 10}}}
{#
<i><font color=#4b5d50>### ________________________ Favorites _________________________ ###</font></i>
}
    {.fraBot.panBM.fraTree.fra.SbvTree .fraBot.panBM.fraTree.fra.Tree L - -  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> both}}
    {.FraFV - - - - {add}}
    {.fraFV.v_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-h</font> 5}}
    {.fraFV.fra1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x}}
    {.fraFV.fra1.seh - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-pady</font> 0}}
{#
<i><font color=#4b5d50>#### ________________________ Favorites' toolbar _________________________ ####</font></i>
}
    {.fraFV.fra1.BtTVisitF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_misc <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,lastvisit)</font>} <font color=#6c3e67>-com</font> alited::favor::SwitchFavVisit}}
    {.fraFV.fra1.sev0 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraFV.fra1.BtTListF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_SaveFile <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,FavLists)</font>} <font color=#6c3e67>-com</font> alited::favor::Lists}}
    {.fraFV.fra1.SevF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraFV.fra1.BtTAddF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_add <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,favoradd)</font>} <font color=#6c3e67>-com</font> alited::favor::Add}}
    {.fraFV.fra1.BtTRenF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_change <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,favorren)</font>} <font color=#6c3e67>-command</font> ::alited::favor::Rename}}
    {.fraFV.fra1.btTDelF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_delete <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,favordel)</font>} <font color=#6c3e67>-com</font> alited::favor::Delete}}
    {.fraFV.fra1.btTDelAllF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-image</font> alimg_trash <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,favordelall)</font>} <font color=#6c3e67>-com</font> alited::favor::DeleteAll}}
    {.fraFV.fra1.h_2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> center <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraFV.fra1.sev2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 0}}
    {.fraFV.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {}}
{#
<i><font color=#4b5d50>#### ________________________ Favorites' list _________________________ ####</font></i>
}
    {.fraFV.fra.TreeFavor - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-h</font> 5 <font color=#6c3e67>-style</font> TreeNoHL <font color=#6c3e67>-columns</font> {C1 C2 C3 C4} <font color=#6c3e67>-displaycolumns</font> C1  <font color=#6c3e67>-show</font> headings <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {alited::favor::GetTooltip %i} <font color=#6c3e67>-SHIFTX</font> 10}}}
    {.fraFV.fra.SbvFavor .fraFV.fra.TreeFavor L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both}}
    {fra.pan.PanR - - - - {add} {<font color=#6c3e67>-orient</font> vertical <font color=#1b1baa>$::alited::PanR_wh</font>}}
{#
<i><font color=#4b5d50>### ________________________ Tab bar & Text _________________________ ###</font></i>
}
    {.fraTop - - - - {add}}
    {.fraTop.PanTop - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#1b1baa>$::alited::PanTop_wh</font>}}
    {.fraTop.panTop.BtsBar  - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-pady</font> 3}}
    {.fraTop.panTop.canmark - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 0 <font color=#6c3e67>-fill</font> both  <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-ipady</font> 0} {<font color=#6c3e67>-w</font> <font color=#1b1baa>$al(markwidth)</font>  <font color=#6c3e67>-afteridle</font> {alited::main::FillMarkBar %w}}}
    {.fraTop.panTop.GutText - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 0 <font color=#6c3e67>-fill</font> both}}
    {.fraTop.panTop.FrAText - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both  <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-ipadx</font> 0 <font color=#6c3e67>-ipady</font> 0} {<font color=#6c3e67>-background</font> <font color=#1b1baa>$::apave::BGMAIN2</font>}}
    {.fraTop.panTop.frAText.Text - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-w</font> 80 <font color=#6c3e67>-h</font> 30 <font color=#6c3e67>-gutter</font> GutText <font color=#6c3e67>-gutterwidth</font> <font color=#1b1baa>$al(ED,gutterwidth)</font>  <font color=#6c3e67>-guttershift</font> <font color=#1b1baa>$al(ED,guttershift)</font>}}
    {.fraTop.panTop.fraSbv - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> y}}
{#
<i><font color=#4b5d50>### ________________________ Find units _________________________ ###</font></i>
}
    {.fraTop.panTop.fraSbv.SbvText .fraTop.panTop.frAText.text L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> y}}
    {.fraTop.FraSbh  - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-fill</font> x}}
    {.fraTop.fraSbh.SbhText .fraTop.panTop.frAText.text T - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x}}
    {.fraTop.FraHead  - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x}  {<font color=#6c3e67>-padding</font> {4 4 4 4} <font color=#6c3e67>-relief</font> groove}}
    {.fraTop.fraHead.labFind - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> {    Unit: }}}
    {.fraTop.fraHead.CbxFindSTD - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-tvar</font> ::alited::al(findunit) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$al(findunitvals)</font>} <font color=#6c3e67>-w</font> 30 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,findunit)</font>}}}
    {.fraTop.fraHead.btT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4}  {<font color=#6c3e67>-t</font> {Find: } <font color=#6c3e67>-com</font> alited::find::DoFindUnit <font color=#6c3e67>-w</font> 8 <font color=#6c3e67>-anchor</font> e <font color=#6c3e67>-tip</font> {Find Unit}}}
    {.fraTop.fraHead.rad1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4}  {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-var</font> ::alited::main::findunits <font color=#6c3e67>-t</font> {in all} <font color=#6c3e67>-value</font> 1}}
    {.fraTop.fraHead.rad2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4}  {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-var</font> ::alited::main::findunits <font color=#6c3e67>-t</font> {in current} <font color=#6c3e67>-value</font> 2}}
    {.fraTop.fraHead.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-expand</font> 1}}
    {.fraTop.fraHead.btTno - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-command</font> {alited::find::HideFindUnit}}}
{#
<i><font color=#4b5d50>### ________________________ Info & status bar _________________________ ###</font></i>
}
    {.fraBot - - - - {add}}
    {.fraBot.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraBot.fra.LbxInfo - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-h</font> 1 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-lvar</font> ::alited::info::list <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT,defsmall)</font> <font color=#6c3e67>-highlightthickness</font> 0}}
    {.fraBot.fra.sbv .fraBot.fra.LbxInfo L - - pack}
    {.fraBot.fra.SbhInfo .fraBot.fra.LbxInfo T - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-before</font> %w}}
    {.fraBot.stat - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom} {<font color=#6c3e67>-array</font> {
      {{<font color=#1b1baa>$al(MC,Row:)</font>}} 12
      {{<font color=#1b1baa>$al(MC,Col:)</font>}} 4
      {{} <font color=#6c3e67>-anchor</font> w <font color=#6c3e67>-expand</font> 1} 51
      {{} <font color=#6c3e67>-anchor</font> e} 25
    }}}
  }
  UpdateProjectInfo
  <i><font color=#4b5d50># a pause (and cycles) must be enough for FillBar to have proper -wbar option</font></i>
  <b><font color=#3a6797>after</font></b> idle after 50 after idle after 50 after idle after 50 after idle after 50  alited::main::InitActions
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obPav</font> Pan] &lt;ButtonRelease&gt; ::alited::tree::AdjustWidth
  <b><font color=#3a6797>set</font></b> sbhi [<font color=#1b1baa>$obPav</font> SbhInfo]
  <b><font color=#3a6797>set</font></b> lbxi [<font color=#1b1baa>$obPav</font> LbxInfo]
  <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$sbhi</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;FocusIn&gt; <font color=#8b2a0e>&quot;alited::info::FocusIn <font color=#1b1baa>$</font>sbhi <font color=#1b1baa>$</font>lbxi&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;FocusOut&gt; <font color=#8b2a0e>&quot;alited::info::FocusOut <font color=#1b1baa>$</font>sbhi&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;&lt;ListboxSelect&gt;&gt; {alited::info::ListboxSelect %W}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;ButtonPress-3&gt; {alited::info::PopupMenu %X %Y}
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obPav</font> ToolTop] &lt;ButtonPress-3&gt; {::alited::tool::PopupBar %X %Y}
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obPav</font> Labstat3] &lt;Button-1&gt; alited::main::ProcMessage
  ::baltip tip [<font color=#1b1baa>$obPav</font> Labstat4] = <font color=#6c3e67>-command</font> ::alited::main::TipStatus <font color=#6c3e67>-per10</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs the alited, displaying its main form with attributes 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons', 'minimal sizes' and 'saved geometry'. After closing the alited, saves its settings (geometry etc.).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::menu::TearoffCascadeMenu" title="menu::TearoffCascadeMenu" class='ruff_cmd'>menu::TearoffCascadeMenu</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main__run' href="javascript:toggleSource('alited_main__run')">Show source</a></p>
<div id='alited_main__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::_run {} {
  <i><font color=#4b5d50># Runs the alited, displaying its main form with attributes</font></i>
  <i><font color=#4b5d50># 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons',</font></i>
  <i><font color=#4b5d50># 'minimal sizes' and 'saved geometry'.</font></i>
  <i><font color=#4b5d50># After closing the alited, saves its settings (geometry etc.).</font></i>
  <i><font color=#4b5d50># See also: menu::TearoffCascadeMenu</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  ::apave::setAppIcon <font color=#1b1baa>$al(WIN)</font> <font color=#1b1baa>$::alited::img::_AL_IMG(ale)</font>
  <b><font color=#3a6797>after</font></b> idle after 8 after idle after 8 after idle after 8 {<b><font color=#3a6797>incr</font></b> ::alited::al(AU!)}
  <b><font color=#3a6797>after</font></b> 3000 {<b><font color=#3a6797>incr</font></b> ::alited::al(AU!)} ;<i><font color=#4b5d50># control shot</font></i>
  <b><font color=#3a6797>after</font></b> 2000 [<b><font color=#3a6797>list</font></b> wm iconphoto <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-default</font> [::apave::getAppIcon]]
  <b><font color=#3a6797>after</font></b> 1000 {alited::ini::CheckUpdates no}
  <b><font color=#3a6797>set</font></b> ans [<font color=#1b1baa>$obPav</font> showModal <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-decor</font> 1 <font color=#6c3e67>-minsize</font> {500 500} <font color=#6c3e67>-escape</font> no  <font color=#6c3e67>-onclose</font> alited::Exit {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(GEOM)</font> <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-waitme</font> ::alited::al(AU!)  <font color=#6c3e67>-ontop</font> 0]
  <i><font color=#4b5d50># ans==2 means 'no saves of settings' (imaginary mode)</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font> ne {2}} {alited::ini::SaveIni}
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$al(WIN)</font>
  <font color=#1b1baa>$obPav</font> destroy
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ans</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::AfterCut'>AfterCut</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions after cutting text: resets the unit tree's selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterCut</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_AfterCut' href="javascript:toggleSource('alited_main_AfterCut')">Show source</a></p>
<div id='alited_main_AfterCut' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::AfterCut {} {
  <i><font color=#4b5d50># Actions after cutting text: resets the unit tree's selection.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    [<font color=#1b1baa>$obPav</font> Tree] selection set {}
    <b><font color=#3a6797>after</font></b> idle alited::main::FocusText
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::AfterUndoRedo'>AfterUndoRedo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions after undo/redo.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterUndoRedo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_AfterUndoRedo' href="javascript:toggleSource('alited_main_AfterUndoRedo')">Show source</a></p>
<div id='alited_main_AfterUndoRedo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::AfterUndoRedo {} {
  <i><font color=#4b5d50># Actions after undo/redo.</font></i>

  HighlightLine
  <b><font color=#3a6797>after</font></b> 0 {<b><font color=#3a6797>after</font></b> idle {
    alited::main::SaveVisitInfo
    alited::main::UpdateUnitTree
    alited::main::FocusText}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::BindsForCode'>BindsForCode</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets bindings for a code.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindsForCode</span> <span class='ruff_arg'>wtxt curfile</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>curfile</code></code></td><td class='ruff_defitem'>current file's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_BindsForCode' href="javascript:toggleSource('alited_main_BindsForCode')">Show source</a></p>
<div id='alited_main_BindsForCode' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::BindsForCode {wtxt curfile} {
  <i><font color=#4b5d50># Sets bindings for a code.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   curfile - current file's name</font></i>

<i><font color=#4b5d50>#  if {[alited::file::IsTcl $curfile] || [alited::file::IsClang $curfile]} {</font></i>
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-Right&gt; <font color=#8b2a0e>&quot;alited::edit::ControlRight <font color=#1b1baa>$</font>wtxt %s&quot;</font>
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-Left&gt; <font color=#8b2a0e>&quot;alited::edit::ControlLeft <font color=#1b1baa>$</font>wtxt %s&quot;</font>
<i><font color=#4b5d50>#  }</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::BindsForText'>BindsForText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets bindings for a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindsForText</span> <span class='ruff_arg'>TID wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_BindsForText' href="javascript:toggleSource('alited_main_BindsForText')">Show source</a></p>
<div id='alited_main_BindsForText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::BindsForText {TID wtxt} {
  <i><font color=#4b5d50># Sets bindings for a text.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;FocusIn&gt; [<b><font color=#3a6797>list</font></b> after 500 <font color=#8b2a0e>&quot;::alited::main::FocusInText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>wtxt&quot;</font>]
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-ButtonRelease-1&gt; <font color=#8b2a0e>&quot;::alited::find::LookDecl ; break&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-Shift-ButtonRelease-1&gt; {::alited::find::SearchWordInSession ; <b><font color=#ca14ca>break</font></b>}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-Tab&gt; {::alited::bar::ControlTab}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(IsWindows)</font>} {
    <i><font color=#4b5d50># unlike Unix, Shift+Key doesn't work in Windows</font></i>
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Tab&gt;  [<b><font color=#3a6797>list</font></b> + if {{%K} eq {Tab} && {%s}==1} <font color=#8b2a0e>&quot;focus <font color=#1b1baa>[$</font>obPav LbxInfo<font color=#1b1baa>]</font>; break&quot;</font>]
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Alt-BackSpace&gt; {::alited::unit::SwitchUnits ; <b><font color=#ca14ca>break</font></b>}
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;ButtonRelease-1&gt; alited::main::SaveVisitInfo <font color=#1b1baa>$wtxt</font>
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;KeyRelease&gt; alited::main::SaveVisitInfo <font color=#1b1baa>$wtxt</font> %K %s
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;&lt;Undo&gt;&gt; alited::main::AfterUndoRedo
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;&lt;Redo&gt;&gt; alited::main::AfterUndoRedo
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;&lt;Cut&gt;&gt; <b><font color=#3a6797>after</font></b> 50 {<b><font color=#3a6797>after</font></b> 50 alited::main::AfterCut}
  alited::keys::ReservedAdd
  alited::keys::BindAllKeys <font color=#1b1baa>$wtxt</font> no
  alited::edit::BindPluginables <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CalcIndentation'>CalcIndentation</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for &quot;Auto detection of indentation&quot; and calculates it at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CalcIndentation</span> <span class='ruff_arg'>?wtxt? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, recalculates the indentation; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_CalcIndentation' href="javascript:toggleSource('alited_main_CalcIndentation')">Show source</a></p>
<div id='alited_main_CalcIndentation' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::CalcIndentation {{wtxt {}} {doit no}} {
  <i><font color=#4b5d50># Check for &quot;Auto detection of indentation&quot; and calculates it at need.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   doit - if yes, recalculates the indentation</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$al(prjindent)</font> { }]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindentAuto)</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]}]} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>}
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font> && [<b><font color=#3a6797>info</font></b> exists al(_INDENT_,<font color=#1b1baa>$wtxt</font>)]} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$al(_INDENT_,$wtxt)</font>}
    <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get 1.0 end] \n] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> lsp [obj leadingSpaces <font color=#1b1baa>$line</font>]]&gt;0} {
        <i><font color=#4b5d50># check if the indentation is homogeneous</font></i>
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first [<b><font color=#3a6797>string</font></b> repeat { } <font color=#1b1baa>$lsp</font>] <font color=#1b1baa>$line</font>]==0} {
          <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lsp</font> { }]
          <b><font color=#ca14ca>break</font></b>
        } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> first [<b><font color=#3a6797>string</font></b> repeat \t <font color=#1b1baa>$lsp</font>] <font color=#1b1baa>$line</font>]==0} {
          <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lsp</font> \t]
          <b><font color=#ca14ca>break</font></b>
        }
      }
    }
    <b><font color=#3a6797>set</font></b> al(_INDENT_,<font color=#1b1baa>$wtxt</font>) <font color=#1b1baa>$res</font>  ;<i><font color=#4b5d50># to omit the calculation next time</font></i>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CalcPad'>CalcPad</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calculates the indenting pad for the edited text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CalcPad</span> <span class='ruff_arg'>?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_CalcPad' href="javascript:toggleSource('alited_main_CalcPad')">Show source</a></p>
<div id='alited_main_CalcPad' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::CalcPad {{wtxt {}}} {
  <i><font color=#4b5d50># Calculates the indenting pad for the edited text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>lassign</font></b> [CalcIndentation <font color=#1b1baa>$wtxt</font>] pad padchar
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> repeat <font color=#1b1baa>$padchar</font> <font color=#1b1baa>$pad</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ClearCbx'>ClearCbx</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears a combobox's value and removes it from the combobox' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearCbx</span> <span class='ruff_arg'>cbx varname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cbx</code></code></td><td class='ruff_defitem'>the combobox's path</td></tr>
<tr><td class='ruff_defitem'><code><code>varname</code></code></td><td class='ruff_defitem'>name of variable used in the current namespace</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_ClearCbx' href="javascript:toggleSource('alited_main_ClearCbx')">Show source</a></p>
<div id='alited_main_ClearCbx' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::ClearCbx {cbx varname} {
  <i><font color=#4b5d50># Clears a combobox's value and removes it from the combobox' list.</font></i>
  <i><font color=#4b5d50>#   cbx - the combobox's path</font></i>
  <i><font color=#4b5d50>#   varname - name of variable used in the current namespace</font></i>

  <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$cbx</font> get]]
  <b><font color=#3a6797>set</font></b> values [<font color=#1b1baa>$cbx</font> cget <font color=#6c3e67>-values</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$values</font> <font color=#1b1baa>$val</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> values [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$values</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    <font color=#1b1baa>$cbx</font> configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$values</font>
  }
  <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$varname</font> <font color=#1b1baa>$values</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CurrentWTXT'>CurrentWTXT</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current text widget's path.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentWTXT</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_CurrentWTXT' href="javascript:toggleSource('alited_main_CurrentWTXT')">Show source</a></p>
<div id='alited_main_CurrentWTXT' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::CurrentWTXT {} {
  <i><font color=#4b5d50># Gets a current text widget's path.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> [alited::bar::GetBarState] 2]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CursorPos'>CursorPos</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a current text's row and column in the status bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CursorPos</span> <span class='ruff_arg'>wtxt ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains a cursor position,</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_CursorPos' href="javascript:toggleSource('alited_main_CursorPos')">Show source</a></p>
<div id='alited_main_CursorPos' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::CursorPos {wtxt args} {
  <i><font color=#4b5d50># Displays a current text's row and column in the status bar.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   args - contains a cursor position,</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$wtxt</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$args</font> eq {}} {<b><font color=#3a6797>set</font></b> args [<font color=#1b1baa>$wtxt</font> index {end -1 char}]}
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> index insert] .] r c
  <b><font color=#3a6797>set</font></b> R [<b><font color=#3a6797>expr</font></b> {int([<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> 0])}]
  <b><font color=#3a6797>set</font></b> c [<b><font color=#3a6797>incr</font></b> c]
  <b><font color=#3a6797>set</font></b> wrow [<font color=#1b1baa>$obPav</font> Labstat1]
  <b><font color=#3a6797>set</font></b> wcol [<font color=#1b1baa>$obPav</font> Labstat2]
  <b><font color=#3a6797>set</font></b> textrow <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>r / <font color=#1b1baa>$</font>R&quot;</font>
  <b><font color=#3a6797>set</font></b> textcol <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>c&quot;</font>
  ::baltip tip <font color=#1b1baa>$wrow</font> <font color=#1b1baa>$textrow</font>
  ::baltip tip <font color=#1b1baa>$wcol</font> <font color=#1b1baa>$textcol</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$R</font>&gt;99999} {<b><font color=#3a6797>set</font></b> textrow <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>r / *****&quot;</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$c</font>&gt;9999} {<b><font color=#3a6797>set</font></b> textcol ****}
  <font color=#1b1baa>$wrow</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$textrow</font>
  <font color=#1b1baa>$wcol</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$textcol</font>
  alited::tree::SaveCursorPos
  alited::edit::RectSelection 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::FillMarkBar'>FillMarkBar</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills the mark bar, makes bindings for its tags.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillMarkBar</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>if set, contains canvas' path</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It's run from InitActions without <em>args</em>.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::main::InitActions" title="InitActions" class='ruff_cmd'>InitActions</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_FillMarkBar' href="javascript:toggleSource('alited_main_FillMarkBar')">Show source</a></p>
<div id='alited_main_FillMarkBar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::FillMarkBar {args} {
  <i><font color=#4b5d50># Fills the mark bar, makes bindings for its tags.</font></i>
  <i><font color=#4b5d50>#   args - if set, contains canvas' path</font></i>
  <i><font color=#4b5d50># It's run from InitActions without *args*.</font></i>
  <i><font color=#4b5d50># See also: InitActions</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> wcan
  <b><font color=#3a6797>variable</font></b> fgcan
  <b><font color=#3a6797>variable</font></b> bgcan
  <b><font color=#3a6797>lassign</font></b> [MarkOptions] N
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$args</font>]} {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> wcan
    <font color=#1b1baa>$wcan</font> create rectangle <font color=#8b2a0e>&quot;0 0 99 9999&quot;</font> <font color=#6c3e67>-fill</font> <font color=#1b1baa>$bgcan</font> <font color=#6c3e67>-outline</font> <font color=#1b1baa>$bgcan</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>winfo</font></b> geometry [<font color=#1b1baa>$obPav</font> Text]] x+] -&gt; h
  <b><font color=#3a6797>set</font></b> hp [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$h</font>/<font color=#1b1baa>$N</font>-0.5)}]
  <font color=#1b1baa>$wcan</font> configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$bgcan</font> <font color=#6c3e67>-highlightthickness</font> 0
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0; <b><font color=#3a6797>set</font></b> y 1} {<font color=#1b1baa>$i</font>&lt;(<font color=#1b1baa>$N</font>+1)} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$i</font>] -&gt; tip mark
    <b><font color=#3a6797>set</font></b> y2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$y</font>+<font color=#1b1baa>$hp</font>}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>==<font color=#1b1baa>$N</font>} {<b><font color=#3a6797>incr</font></b> y2 9999}
    <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$mark</font>) [<font color=#1b1baa>$wcan</font> create rectangle <font color=#8b2a0e>&quot;1 <font color=#1b1baa>$</font>y 99 <font color=#1b1baa>$</font>y2&quot;</font> <font color=#6c3e67>-fill</font> <font color=#1b1baa>$bgcan</font> <font color=#6c3e67>-outline</font> <font color=#1b1baa>$fgcan</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$N</font>} {
      <font color=#1b1baa>$wcan</font> bind <font color=#1b1baa>$al($mark)</font> &lt;ButtonPress-1&gt; <font color=#8b2a0e>&quot;alited::main::SetMark <font color=#1b1baa>$</font>i&quot;</font>
      <font color=#1b1baa>$wcan</font> bind <font color=#1b1baa>$al($mark)</font> &lt;ButtonPress-3&gt; <font color=#8b2a0e>&quot;alited::main::UnsetMark <font color=#1b1baa>$</font>i %X %Y&quot;</font>
      UnsetOneMark <font color=#1b1baa>$i</font>
    }
    <b><font color=#3a6797>incr</font></b> y <font color=#1b1baa>$hp</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::FocusInText'>FocusInText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes <FocusIn> event on the text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusInText</span> <span class='ruff_arg'>TID wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_FocusInText' href="javascript:toggleSource('alited_main_FocusInText')">Show source</a></p>
<div id='alited_main_FocusInText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::FocusInText {TID wtxt} {
  <i><font color=#4b5d50># Processes &lt;FocusIn&gt; event on the text.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {![alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>catch</font></b> {
    CursorPos <font color=#1b1baa>$wtxt</font>
    [<font color=#1b1baa>$obPav</font> TreeFavor] selection set {}
    alited::file::OutwardChange <font color=#1b1baa>$TID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::FocusText'>FocusText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a focus on a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusText</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains tab's ID and a cursor position.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_FocusText' href="javascript:toggleSource('alited_main_FocusText')">Show source</a></p>
<div id='alited_main_FocusText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::FocusText {args} {
  <i><font color=#4b5d50># Sets a focus on a current text.</font></i>
  <i><font color=#4b5d50>#   args - contains tab's ID and a cursor position.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> TID pos
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {
    <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> wtxt [GetWTXT <font color=#1b1baa>$TID</font>]
  }
  <i><font color=#4b5d50># find a current unit/file in the tree</font></i>
  <b><font color=#3a6797>set</font></b> ::alited::tree::doFocus no
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      <i><font color=#4b5d50># search the tree for a unit with current line of text</font></i>
      <b><font color=#3a6797>set</font></b> itemID [alited::tree::CurrentItemByLine <font color=#1b1baa>$pos</font>]
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># search the tree for a current file</font></i>
      <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
      <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
      <b><font color=#3a6797>while</font></b> {1} {
        <b><font color=#3a6797>incr</font></b> iit
        <b><font color=#3a6797>set</font></b> ID [alited::tree::NewItemID <font color=#1b1baa>$iit</font>]
        <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>]} <b><font color=#ca14ca>break</font></b>
        <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; tip isfile
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tip</font> eq <font color=#1b1baa>$fname</font>} {
          <b><font color=#3a6797>set</font></b> itemID <font color=#1b1baa>$ID</font>
          <b><font color=#ca14ca>break</font></b>
        }
      }
    }
  }
  <i><font color=#4b5d50># display a current item of the tree</font></i>
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> ni [<font color=#1b1baa>$wtree</font> selection]} {<font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$itemID</font>}
    <b><font color=#3a6797>after</font></b> 10 alited::tree::SeeSelection
  }
  <i><font color=#4b5d50># focus on the text</font></i>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> <font color=#1b1baa>$wtxt</font>}
  <b><font color=#3a6797>catch</font></b> {::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>}
  <b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>set</font></b> ::alited::tree::doFocus yes}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GetText'>GetText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates or gets a text widget for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetText</span> <span class='ruff_arg'>TID ?doshow? ?dohighlight?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>doshow</code></code></td><td class='ruff_defitem'>flag &quot;this widget should be displayed&quot; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>dohighlight</code></code></td><td class='ruff_defitem'>flag &quot;this text should be highlighted&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of: curfile (current file name), wtxt (text's path), wsbv (scrollbar's path), pos (cursor's position), doinit (flag &quot;initialized&quot;) dopack (flag &quot;packed&quot;) selrange (selected text's range)</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_GetText' href="javascript:toggleSource('alited_main_GetText')">Show source</a></p>
<div id='alited_main_GetText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GetText {TID {doshow no} {dohighlight yes}} {
  <i><font color=#4b5d50># Creates or gets a text widget for a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   doshow - flag &quot;this widget should be displayed&quot;</font></i>
  <i><font color=#4b5d50>#   dohighlight - flag &quot;this text should be highlighted&quot;</font></i>
  <i><font color=#4b5d50># Returns a list of: curfile (current file name),</font></i>
  <i><font color=#4b5d50># wtxt (text's path), wsbv (scrollbar's path),</font></i>
  <i><font color=#4b5d50># pos (cursor's position), doinit (flag &quot;initialized&quot;)</font></i>
  <i><font color=#4b5d50># dopack (flag &quot;packed&quot;)</font></i>
  <i><font color=#4b5d50># selrange (selected text's range)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> curfile [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <i><font color=#4b5d50># initial text and its scrollbar:</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obPav</font> Text]
  <b><font color=#3a6797>set</font></b> wsbv [<font color=#1b1baa>$obPav</font> SbvText]
  <i><font color=#4b5d50># get data of the current tab</font></i>
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetBarState] TIDold fileold wold1 wold2
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--pos</font> <font color=#6c3e67>--selection</font> <font color=#6c3e67>--wrap</font>] pos selrange wrap
  <b><font color=#3a6797>set</font></b> doreload no  ;<i><font color=#4b5d50># obsolete</font></i>
  <b><font color=#3a6797>set</font></b> doinit yes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TIDold</font> eq {-1} && <font color=#1b1baa>$TID</font> eq {tab0}} {
    ;<i><font color=#4b5d50># first text to edit in original Text widget: create its scrollbar</font></i>
    BindsForText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
    ::apave::logMessage <font color=#8b2a0e>&quot;first <font color=#1b1baa>$</font>curfile&quot;</font>
  } <b><font color=#3a6797>elseif</font></b> {[GetWTXT <font color=#1b1baa>$TID</font>] ne {}} {
    <i><font color=#4b5d50># edited text: get its widgets' data</font></i>
    <b><font color=#3a6797>lassign</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--wtxt</font> <font color=#6c3e67>--wsbv</font>] wtxt wsbv
    <b><font color=#3a6797>set</font></b> doinit no
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># till now, not edited text: create its own Text/SbvText widgets</font></i>
    <b><font color=#3a6797>append</font></b> wtxt <font color=#8b2a0e>&quot;_<font color=#1b1baa>$</font>TID&quot;</font>  ;<i><font color=#4b5d50># new text</font></i>
    <b><font color=#3a6797>append</font></b> wsbv <font color=#8b2a0e>&quot;_<font color=#1b1baa>$</font>TID&quot;</font>  ;<i><font color=#4b5d50># new scrollbar</font></i>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos</font>]} {<b><font color=#3a6797>set</font></b> pos 1.0}
  <i><font color=#4b5d50># check for previous text and hide it, if it's not the selected one</font></i>
  <b><font color=#3a6797>set</font></b> dopack [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$TID</font> ne <font color=#1b1baa>$TIDold</font>}]
  alited::bar::SetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--fname</font> <font color=#1b1baa>$curfile</font> <font color=#6c3e67>--wtxt</font> <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>--wsbv</font> <font color=#1b1baa>$wsbv</font>
  <i><font color=#4b5d50># create the text and the scrollbar if new</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$wtxt</font>]} {
    <b><font color=#3a6797>lassign</font></b> [GutterAttrs] canvas width shift
    <b><font color=#3a6797>set</font></b> texopts [<b><font color=#3a6797>lindex</font></b> [::apave::defaultAttrs tex] 1]
    <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions texopts <font color=#6c3e67>-selborderwidth</font> 1] selbw
    <b><font color=#134070>text</font></b> <font color=#1b1baa>$wtxt</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$texopts</font>
    <font color=#1b1baa>$wtxt</font> tag configure sel <font color=#6c3e67>-borderwidth</font> <font color=#1b1baa>$selbw</font>
    <font color=#1b1baa>$obPav</font> themeNonThemed [<b><font color=#134070>winfo</font></b> parent <font color=#1b1baa>$wtxt</font>]
    <font color=#1b1baa>$obPav</font> bindGutter <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$canvas</font> <font color=#1b1baa>$width</font> <font color=#1b1baa>$shift</font>
    <b><font color=#134070>ttk::scrollbar</font></b> <font color=#1b1baa>$wsbv</font> <font color=#6c3e67>-orient</font> vertical <font color=#6c3e67>-takefocus</font> 0
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-yscrollcommand</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>wsbv set&quot;</font>
    <font color=#1b1baa>$wsbv</font> configure <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>wtxt yview&quot;</font>
    BindsForText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$wold1</font>]} {
    <i><font color=#4b5d50># previous text: save its state</font></i>
    alited::bar::SetTabState <font color=#1b1baa>$TIDold</font> <font color=#6c3e67>--pos</font> [<font color=#1b1baa>$wold1</font> index insert] <font color=#6c3e67>--selection</font> [<font color=#1b1baa>$wold1</font> tag ranges sel]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dopack</font> && <font color=#1b1baa>$doshow</font>} {
      <i><font color=#4b5d50># hide both previous</font></i>
      <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$wold1</font>  ;<i><font color=#4b5d50># a text</font></i>
      <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$wold2</font>  ;<i><font color=#4b5d50># a scrollbar</font></i>
      <b><font color=#3a6797>after</font></b> idle update
    }
  }
  <i><font color=#4b5d50># show the selected text</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doshow</font>} {
    alited::bar::SetBarState [alited::bar::CurrentTabID] <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wsbv</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doinit</font>} {
    <i><font color=#4b5d50># if the file isn't read yet, read it and initialize its highlighting</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindent)</font>&gt;1 && <font color=#1b1baa>$al(prjindent)</font>&lt;9 && !<font color=#1b1baa>$al(prjindentAuto)</font>} {
      SetTabs <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$al(prjindent)</font>
    }
    alited::file::DisplayFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$doreload</font>
    RestoreMarks <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindentAuto)</font>} {
      SetTabs <font color=#1b1baa>$wtxt</font> [<b><font color=#3a6797>lindex</font></b> [CalcIndentation <font color=#1b1baa>$wtxt</font>] 0]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doshow</font>} {
      HighlightText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::MakeThemHighlighted <font color=#1b1baa>$TID</font>  ;<i><font color=#4b5d50># postpone the highlighting till a show</font></i>
    }
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$dohighlight</font> && [alited::file::ToBeHighlighted <font color=#1b1baa>$wtxt</font>]} {
    HighlightText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} alited::tree::RecreateTree
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wsbv</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$doinit</font> <font color=#1b1baa>$dopack</font> <font color=#1b1baa>$selrange</font> <font color=#1b1baa>$wrap</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GetWTXT'>GetWTXT</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a text widget's path of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWTXT</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of the tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_GetWTXT' href="javascript:toggleSource('alited_main_GetWTXT')">Show source</a></p>
<div id='alited_main_GetWTXT' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GetWTXT {TID} {
  <i><font color=#4b5d50># Gets a text widget's path of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - ID of the tab</font></i>

  <b><font color=#ca14ca>return</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--wtxt</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GotoBracket'>GotoBracket</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GotoBracket</span> <span class='ruff_arg'>?frommenu?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>frommenu</code></code></td><td class='ruff_defitem'>yes, if run from a menu; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_GotoBracket' href="javascript:toggleSource('alited_main_GotoBracket')">Show source</a></p>
<div id='alited_main_GotoBracket' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GotoBracket {{frommenu no}} {
  <i><font color=#4b5d50># Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.</font></i>
  <i><font color=#4b5d50>#   frommenu - yes, if run from a menu</font></i>

  <i><font color=#4b5d50># search a pair for a bracket highlighted</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>set</font></b> tagged [<font color=#1b1baa>$wtxt</font> tag ranges tagBRACKET]]]==4} {
    <b><font color=#3a6797>set</font></b> p [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> p1 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>p +1c&quot;</font>]
    <b><font color=#3a6797>set</font></b> p2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>p -1c&quot;</font>]
    <b><font color=#3a6797>foreach</font></b> {pos1 pos2} <font color=#1b1baa>$tagged</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> -]==2 || (<font color=#1b1baa>$pos1</font>!=<font color=#1b1baa>$p</font> && <font color=#1b1baa>$pos1</font>!=<font color=#1b1baa>$p1</font> && <font color=#1b1baa>$pos1</font>!=<font color=#1b1baa>$p2</font>)} {
        FocusText [alited::bar::CurrentTabID] <font color=#1b1baa>$pos1</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$frommenu</font>} SaveVisitInfo
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GotoLine'>GotoLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes Ctrl+G keypressing: &quot;go to a line&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GotoLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_GotoLine' href="javascript:toggleSource('alited_main_GotoLine')">Show source</a></p>
<div id='alited_main_GotoLine' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GotoLine {} {
  <i><font color=#4b5d50># Processes Ctrl+G keypressing: &quot;go to a line&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> head [msgcat::mc {Go to Line}]
  <b><font color=#3a6797>set</font></b> prompt1 [msgcat::mc {Line number:}]
  <b><font color=#3a6797>set</font></b> prompt2 [msgcat::mc {    In unit:}]
  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>set</font></b> ln 1 ;<i><font color=#4b5d50>#[expr {int([$wtxt index insert])}]</font></i>
  <b><font color=#3a6797>set</font></b> lmax [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;end -1c&quot;</font>])}]
  <b><font color=#3a6797>set</font></b> units [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font> && [<b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$title</font>]] ne {}} {
      <b><font color=#3a6797>lappend</font></b> units <font color=#1b1baa>$title</font>
    }
  }
  <b><font color=#3a6797>set</font></b> ::alited::main::gotoline2 [<b><font color=#3a6797>linsert</font></b> [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$units</font>] 0 {}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::main::gotolineTID</font> ne <font color=#1b1baa>$TID</font>} {
    <b><font color=#3a6797>set</font></b> ::alited::main::gotoline1 {}
    <b><font color=#3a6797>set</font></b> ::alited::main::gotolineTID <font color=#1b1baa>$TID</font>
  }
  <b><font color=#3a6797>after</font></b> 300 {<b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> [apave::dlgPath] &lt;F1&gt; {alited::HelpAlited #units5}}}
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$head</font> [<b><font color=#3a6797>list</font></b>  spx <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>prompt1<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-from 1 -to <font color=#1b1baa>$</font>lmax -selected yes<font color=#1b1baa>}</font>&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>ln<font color=#1b1baa>}</font>&quot;</font>  cbx <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>prompt2<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-tvar ::alited::main::gotoline1 -state readonly -h 16 -w 25<font color=#1b1baa>}</font>&quot;</font>  <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>::alited::main::gotoline1<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>::alited::main::gotoline2&quot;</font>  ]] res ln unit
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> ::alited::main::gotoline1 <font color=#1b1baa>$unit</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$unit</font> ne {}} {
      <i><font color=#4b5d50># for a chosen unit - a relative line number</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 3 <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$unit</font>]] &gt;- 1} {
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$it</font>] lev leaf fl1 title l1 l2
        <b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>
        <b><font color=#3a6797>set</font></b> fst 1
        <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end] \n] {
          <i><font color=#4b5d50># gentlemen, use \ for continuation of long lines & strings!</font></i>
          <b><font color=#3a6797>set</font></b> continued [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> end] eq <font color=#8b2a0e>&quot;\\&quot;</font>}]
          <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$continued</font> || <font color=#1b1baa>$fst</font>} {
            <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fst</font>} {
              <b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>
              <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> ln -1]&lt;1} <b><font color=#ca14ca>break</font></b>
            }
            <b><font color=#3a6797>set</font></b> fst [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$continued</font>}]
          }
          <b><font color=#3a6797>incr</font></b> l1
        }
        <b><font color=#3a6797>set</font></b> ln <font color=#1b1baa>$l</font>
      }
    }
    <b><font color=#3a6797>after</font></b> 200 <font color=#8b2a0e>&quot;  alited::main::FocusText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>ln.0 ;  alited::tree::NewSelection <font color=#1b1baa>{}</font> <font color=#1b1baa>$</font>ln.0 yes;  alited::main::HighlightLine&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GutterAttrs'>GutterAttrs</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns list of gutter's data (canvas widget, width, shift)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GutterAttrs</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns list of gutter's data (canvas widget, width, shift)</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_GutterAttrs' href="javascript:toggleSource('alited_main_GutterAttrs')">Show source</a></p>
<div id='alited_main_GutterAttrs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GutterAttrs {} {
  <i><font color=#4b5d50># Returns list of gutter's data (canvas widget, width, shift)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>list</font></b> [<font color=#1b1baa>$obPav</font> GutText] <font color=#1b1baa>$al(ED,gutterwidth)</font> <font color=#1b1baa>$al(ED,guttershift)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::HighlightLine'>HighlightLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a current line of a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_HighlightLine' href="javascript:toggleSource('alited_main_HighlightLine')">Show source</a></p>
<div id='alited_main_HighlightLine' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::HighlightLine {} {
  <i><font color=#4b5d50># Highlights a current line of a current text.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[alited::file::IsClang [alited::bar::FileName]]} {
    ::hl_c::hl_line <font color=#1b1baa>$wtxt</font>
  } <b><font color=#3a6797>else</font></b> {
    ::hl_tcl::hl_line <font color=#1b1baa>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::HighlightText'>HighlightText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a file's syntax constructs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightText</span> <span class='ruff_arg'>TID curfile wtxt ?cmd? ?cmdpos? ?fontsize?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>curfile</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>cmd</code></code></td><td class='ruff_defitem'>callback for modifying text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>cmdpos</code></code></td><td class='ruff_defitem'>callback for changing cursor position; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fontsize</code></code></td><td class='ruff_defitem'>text font size; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Depending on a file name, Tcl or C highlighter is called.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_HighlightText' href="javascript:toggleSource('alited_main_HighlightText')">Show source</a></p>
<div id='alited_main_HighlightText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::HighlightText {TID curfile wtxt {cmd {}} {cmdpos {}} {fontsize {}}} {
  <i><font color=#4b5d50># Highlights a file's syntax constructs.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   curfile - file name</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   cmd - callback for modifying text</font></i>
  <i><font color=#4b5d50>#   cmdpos - callback for changing cursor position</font></i>
  <i><font color=#4b5d50>#   fontsize - text font size</font></i>
  <i><font color=#4b5d50># Depending on a file name, Tcl or C highlighter is called.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># the language (Tcl or C) is defined by the file's extension</font></i>
  <b><font color=#3a6797>set</font></b> ext [<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$curfile</font>]]
  <b><font color=#3a6797>set</font></b> itwas [<b><font color=#3a6797>info</font></b> exists al(HL,<font color=#1b1baa>$wtxt</font>)]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$itwas</font> || <font color=#1b1baa>$al(HL,$wtxt)</font> ne <font color=#1b1baa>$ext</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itwas</font>} {
      <i><font color=#4b5d50># remove old syntax</font></i>
      <b><font color=#3a6797>foreach</font></b> tag [<font color=#1b1baa>$wtxt</font> tag names] {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match hil* <font color=#1b1baa>$tag</font>] && <font color=#1b1baa>$tag</font> ni {sel fndTag}} {
          <font color=#1b1baa>$wtxt</font> tag delete <font color=#1b1baa>$tag</font>
        }
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cmd</font> eq {}} {
      <b><font color=#3a6797>set</font></b> cmd <font color=#8b2a0e>&quot;::alited::edit::Modified <font color=#1b1baa>$</font>TID&quot;</font>
      <b><font color=#3a6797>set</font></b> cmdpos ::alited::main::CursorPos
    }
    <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
    <b><font color=#3a6797>set</font></b> clrCURL [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$obPav</font> csGet] 16]
    <i><font color=#4b5d50># get a color list for the highlighting Tcl and C</font></i>
    <b><font color=#3a6797>foreach</font></b> lng {{} C} {
      <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> {
        <b><font color=#3a6797>lappend</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>${</font>lng<font color=#1b1baa>}</font>colors&quot;</font> <font color=#1b1baa>$al(ED,${lng}$nam)</font>
      }
      <b><font color=#3a6797>lappend</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>${</font>lng<font color=#1b1baa>}</font>colors&quot;</font> <font color=#1b1baa>$clrCURL</font>
    }
    <b><font color=#3a6797>set</font></b> tfont <font color=#1b1baa>$al(FONT,txt)</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fontsize</font> ne {}} {<b><font color=#3a6797>append</font></b> tfont <font color=#8b2a0e>&quot; -size <font color=#1b1baa>$</font>fontsize&quot;</font>}
    <b><font color=#3a6797>if</font></b> {[alited::file::IsClang <font color=#1b1baa>$curfile</font>]} {
      <b><font color=#3a6797>lassign</font></b> [::hl_tcl::addingColors] -&gt; clrCMN2
      <b><font color=#3a6797>lappend</font></b> Ccolors <font color=#1b1baa>$clrCMN2</font>
      ::hl_c::hl_init <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obPav</font> csDark]  <font color=#6c3e67>-multiline</font> 1 <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$al(ED,CKeyWords)</font>  <font color=#6c3e67>-cmd</font> <font color=#1b1baa>$cmd</font> <font color=#6c3e67>-cmdpos</font> <font color=#1b1baa>$cmdpos</font> <font color=#6c3e67>-font</font> <font color=#1b1baa>$tfont</font> <font color=#6c3e67>-colors</font> <font color=#1b1baa>$Ccolors</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> pltext [<b><font color=#3a6797>expr</font></b> {![alited::file::IsTcl <font color=#1b1baa>$curfile</font>]}]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pltext</font>} {
        <b><font color=#3a6797>set</font></b> plcom [alited::HighlightAddon <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$colors</font> <font color=#1b1baa>$fontsize</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$plcom</font> ne {}} {<b><font color=#3a6797>set</font></b> pltext 0}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> plcom {}
      }
      ::hl_tcl::hl_init <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obPav</font> csDark]  <font color=#6c3e67>-multiline</font> <font color=#1b1baa>$al(prjmultiline)</font> <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$al(ED,TclKeyWords)</font>  <font color=#6c3e67>-cmd</font> <font color=#1b1baa>$cmd</font> <font color=#6c3e67>-cmdpos</font> <font color=#1b1baa>$cmdpos</font> <font color=#6c3e67>-plaintext</font> <font color=#1b1baa>$pltext</font> <font color=#6c3e67>-plaincom</font> <font color=#1b1baa>$plcom</font>  <font color=#6c3e67>-font</font> <font color=#1b1baa>$tfont</font> <font color=#6c3e67>-colors</font> <font color=#1b1baa>$colors</font>
    }
    UpdateText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$curfile</font>
    BindsForCode <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$curfile</font>
  }
  <b><font color=#3a6797>set</font></b> al(HL,<font color=#1b1baa>$wtxt</font>) <font color=#1b1baa>$ext</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::InitActions'>InitActions</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes working with a main form of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitActions</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_InitActions' href="javascript:toggleSource('alited_main_InitActions')">Show source</a></p>
<div id='alited_main_InitActions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::InitActions {} {
  <i><font color=#4b5d50># Initializes working with a main form of alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># fill the bars waiting for full size of text widget</font></i>
  alited::bar::FillBar [<font color=#1b1baa>$obPav</font> BtsBar]
  FillMarkBar
  <i><font color=#4b5d50># check for outdated TODOs for current project</font></i>
  <b><font color=#3a6797>lassign</font></b> [alited::project::IsOutdated <font color=#1b1baa>$al(prjname)</font> yes] is date todo
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$is</font>} {
    ShowOutdatedTODO <font color=#1b1baa>$al(prjname)</font> <font color=#1b1baa>$date</font> <font color=#1b1baa>$todo</font> <font color=#1b1baa>$is</font>
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># check other projects</font></i>
    alited::project::SaveSettings
    alited::project::GetProjects
    <b><font color=#3a6797>set</font></b> prjname [alited::project::CheckOutdated]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prjname</font> ne {}} {
      <b><font color=#3a6797>lassign</font></b> [alited::project::IsOutdated <font color=#1b1baa>$prjname</font> yes] is date todo
      ShowOutdatedTODO <font color=#1b1baa>$prjname</font> <font color=#1b1baa>$date</font> <font color=#1b1baa>$todo</font> <font color=#1b1baa>$is</font>
    }
  }
  <b><font color=#3a6797>after</font></b> idle {alited::main::UpdateGutter; alited::main::FocusText}  ;<i><font color=#4b5d50># get it for sure</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,isfindrepl)</font>} {
    <b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>after</font></b> 100 {  ;<i><font color=#4b5d50># for getting a current word to find</font></i>
      alited::find::_run
      <b><font color=#134070>focus</font></b> <font color=#1b1baa>$::alited::al(WIN)</font>; alited::main::FocusText
      <b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>after</font></b> 100 {<b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>after</font></b> 100 alited::main::FocusText}}}
    }}
  }
  <i><font color=#4b5d50># Ctrl-click for Run, e_menu, Tkcon buttons</font></i>
  <b><font color=#3a6797>foreach</font></b> ico {run e_menu other} {
    <b><font color=#3a6797>set</font></b> but [alited::tool::ToolButName <font color=#1b1baa>$ico</font>]
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$but</font> &lt;Control-Button-1&gt; <font color=#1b1baa>$al(runAsIs)</font>
    <b><font color=#3a6797>set</font></b> tip [::baltip::cget <font color=#1b1baa>$but</font> <font color=#6c3e67>-text</font>][alited::tool::AddTooltipRun]
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> ::baltip::tip <font color=#1b1baa>$but</font> <font color=#1b1baa>$tip</font>]
  }
  <b><font color=#3a6797>foreach</font></b> ico {undo redo} {
    <b><font color=#3a6797>set</font></b> but [alited::tool::ToolButName <font color=#1b1baa>$ico</font>]
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$but</font> &lt;Control-Button-1&gt; alited::tool::<font color=#1b1baa>${ico}</font>All
    <b><font color=#3a6797>set</font></b> tip [::baltip::cget <font color=#1b1baa>$but</font> <font color=#6c3e67>-text</font>]
    <b><font color=#3a6797>append</font></b> tip <font color=#8b2a0e>&quot;\n\nCtrl+click = <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>All in text<font color=#1b1baa>}]</font>&quot;</font>
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> ::baltip::tip <font color=#1b1baa>$but</font> <font color=#1b1baa>$tip</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::InsertLine'>InsertLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a new line into a text, attentive to a previous line's indentation.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_InsertLine' href="javascript:toggleSource('alited_main_InsertLine')">Show source</a></p>
<div id='alited_main_InsertLine' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::InsertLine {} {
  <i><font color=#4b5d50># Puts a new line into a text, attentive to a previous line's indentation.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>set</font></b> ln [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$ln</font>.0 <font color=#1b1baa>$ln</font>.end]
  <b><font color=#3a6797>set</font></b> leadsp [obj leadingSpaces <font color=#1b1baa>$line</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line</font>] 0] eq <font color=#8b2a0e>&quot;\}&quot;</font>} {
    <b><font color=#3a6797>incr</font></b> leadsp [<b><font color=#3a6797>lindex</font></b> [CalcIndentation] 0]
  }
  <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$ln</font>.0 <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>string repeat <font color=#1b1baa>{</font> <font color=#1b1baa>}</font> <font color=#1b1baa>$</font>leadsp<font color=#1b1baa>]</font>\n&quot;</font>
  <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$ln</font>.<font color=#1b1baa>$leadsp</font>
  ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::MarkOptions'>MarkOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns options for marks.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MarkOptions</span> <span class='ruff_arg'>?idx?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of tag; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns options for marks.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_MarkOptions' href="javascript:toggleSource('alited_main_MarkOptions')">Show source</a></p>
<div id='alited_main_MarkOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::MarkOptions {{idx 0}} {
  <i><font color=#4b5d50># Returns options for marks.</font></i>
  <i><font color=#4b5d50>#   idx - index of tag</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> fgcan
  <b><font color=#3a6797>variable</font></b> bgcan
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> csGet] - - - bgcan - - - - fgcan
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TIPS,Marks)</font> || [<b><font color=#3a6797>info</font></b> exists al(MARK_TIPOFF)]} {
    <b><font color=#3a6797>set</font></b> tip {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tip [msgcat::mc <font color=#8b2a0e>&quot;Left click sets / goes to a mark.\nRight click clears it.&quot;</font>]
  }
  <i><font color=#4b5d50># 12 greenish</font></i>
  <b><font color=#3a6797>lappend</font></b> colors #00ff00 #00f500 #00eb00 #00e100 #00d700 #00cd00
  <b><font color=#3a6797>lappend</font></b> colors #00c300 #00b900 #00af00 #00a500 #009b00 #009100
  <i><font color=#4b5d50># 12 reddish</font></i>
  <b><font color=#3a6797>lappend</font></b> colors #910000 #9b0000 #a50000 #af0000 #b90000 #c30000
  <b><font color=#3a6797>lappend</font></b> colors #cd0000 #d70000 #e10000 #eb0000 #f50000 #ff0000
  <b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$colors</font>] <font color=#1b1baa>$tip</font> MARK,<font color=#1b1baa>$idx</font> MARKDATA,<font color=#1b1baa>$idx</font> <font color=#1b1baa>$colors</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::MarkWidth'>MarkWidth</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Change the mark bar's width.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MarkWidth</span> <span class='ruff_arg'>i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>1/-1 to increment/decrement</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_MarkWidth' href="javascript:toggleSource('alited_main_MarkWidth')">Show source</a></p>
<div id='alited_main_MarkWidth' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::MarkWidth {i} {
  <i><font color=#4b5d50># Change the mark bar's width.</font></i>
  <i><font color=#4b5d50>#   i - 1/-1 to increment/decrement</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> wcan
  <b><font color=#3a6797>variable</font></b> saveini
  <b><font color=#3a6797>set</font></b> width [<font color=#1b1baa>$wcan</font> cget <font color=#6c3e67>-width</font>]
  <b><font color=#3a6797>incr</font></b> width <font color=#1b1baa>$i</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$width</font>&gt;=5 && <font color=#1b1baa>$width</font>&lt;=99} {
    <font color=#1b1baa>$wcan</font> configure <font color=#6c3e67>-width</font> <font color=#1b1baa>$width</font>
    <b><font color=#3a6797>set</font></b> al(markwidth) <font color=#1b1baa>$width</font>
    <b><font color=#3a6797>set</font></b> saveini yes
    <b><font color=#3a6797>after</font></b> 3000 alited::main::MarkWidthSave
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#134070>bell</font></b>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::MarkWidthSave'>MarkWidthSave</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves alited.ini at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MarkWidthSave</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_MarkWidthSave' href="javascript:toggleSource('alited_main_MarkWidthSave')">Show source</a></p>
<div id='alited_main_MarkWidthSave' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::MarkWidthSave {} {
  <i><font color=#4b5d50># Saves alited.ini at need.</font></i>

  <b><font color=#3a6797>variable</font></b> saveini
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$saveini</font>} {
    <b><font color=#3a6797>set</font></b> saveini no
    alited::ini::SaveIni
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::PackTextWidgets'>PackTextWidgets</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Packs a text and its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PackTextWidgets</span> <span class='ruff_arg'>wtxt wsbv</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wsbv</code></code></td><td class='ruff_defitem'>scrollbar widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_PackTextWidgets' href="javascript:toggleSource('alited_main_PackTextWidgets')">Show source</a></p>
<div id='alited_main_PackTextWidgets' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::PackTextWidgets {wtxt wsbv} {
  <i><font color=#4b5d50># Packs a text and its scrollbar.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   wsbv - scrollbar widget's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both
  <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wsbv</font> <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-expand</font> 1
  <b><font color=#3a6797>lassign</font></b> [GutterAttrs] canvas width shift
  <i><font color=#4b5d50># widgets created outside apave require the theming:</font></i>
  <font color=#1b1baa>$obPav</font> csSet [<font color=#1b1baa>$obPav</font> csCurrent] <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-doit</font>
  <font color=#1b1baa>$obPav</font> bindGutter <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$canvas</font> <font color=#1b1baa>$width</font> <font color=#1b1baa>$shift</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ProcMessage'>ProcMessage</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles clicking on message label.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcMessage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_ProcMessage' href="javascript:toggleSource('alited_main_ProcMessage')">Show source</a></p>
<div id='alited_main_ProcMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::ProcMessage {} {
  <i><font color=#4b5d50># Handles clicking on message label.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> lab [<font color=#1b1baa>$obPav</font> Labstat3]
  <b><font color=#3a6797>set</font></b> msg [baltip cget <font color=#1b1baa>$lab</font> <font color=#6c3e67>-text</font>]
  alited::Message <font color=#1b1baa>$msg</font> 3 <font color=#1b1baa>$lab</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::RestoreMarks'>RestoreMarks</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores mark data for a text to be shown.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreMarks</span> <span class='ruff_arg'>fname wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_RestoreMarks' href="javascript:toggleSource('alited_main_RestoreMarks')">Show source</a></p>
<div id='alited_main_RestoreMarks' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::RestoreMarks {fname wtxt} {
  <i><font color=#4b5d50># Restores mark data for a text to be shown.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [MarkOptions] N
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$i</font>] N tip mark markdata
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(<font color=#1b1baa>$markdata</font>)]} {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al($markdata)</font> fname2 pos
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fname2</font>} {
        <b><font color=#3a6797>set</font></b> tag MARK<font color=#1b1baa>$i</font>
        <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$markdata</font>) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$tag</font>]
        <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtxt</font> tag delete <font color=#1b1baa>$tag</font>}
        <font color=#1b1baa>$wtxt</font> tag add <font color=#1b1baa>$tag</font> <font color=#1b1baa>$pos</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::SaveMarks'>SaveMarks</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves mark data for a text to be closed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveMarks</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_SaveMarks' href="javascript:toggleSource('alited_main_SaveMarks')">Show source</a></p>
<div id='alited_main_SaveMarks' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::SaveMarks {wtxt} {
  <i><font color=#4b5d50># Saves mark data for a text to be closed.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>foreach</font></b> tag [<font color=#1b1baa>$wtxt</font> tag names] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match MARK* <font color=#1b1baa>$tag</font>]} {
      <b><font color=#3a6797>set</font></b> idx [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$tag</font> 4 end]
      <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$idx</font>] -&gt; tip mark markdata
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al($markdata)</font> fname pos
        <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges <font color=#1b1baa>$tag</font>] pos
        <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$markdata</font>) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$tag</font>]
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::SaveVisitInfo'>SaveVisitInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Remembers data about current unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveVisitInfo</span> <span class='ruff_arg'>?wtxt? ?K? ?s?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>K</code></code></td><td class='ruff_defitem'>key pressed (to check keypressings); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>key's state; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_SaveVisitInfo' href="javascript:toggleSource('alited_main_SaveVisitInfo')">Show source</a></p>
<div id='alited_main_SaveVisitInfo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::SaveVisitInfo {{wtxt {}} {K {}} {s 0}} {
  <i><font color=#4b5d50># Remembers data about current unit.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   K - key pressed (to check keypressings)</font></i>
  <i><font color=#4b5d50>#   s - key's state</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># only for unit tree and not navigation key</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font> || [alited::favor::SkipVisited] ||  <font color=#1b1baa>$K</font> in {Tab Up Down Left Right Next Prior Home End Insert} ||  [<b><font color=#3a6797>string</font></b> match *Cont* <font color=#1b1baa>$K</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <i><font color=#4b5d50># check for current text and current unit's lines</font></i>
  <b><font color=#3a6797>set</font></b> wcur [CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
    <b><font color=#3a6797>set</font></b> wtxt <font color=#1b1baa>$wcur</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$wtxt</font> ne <font color=#1b1baa>$wcur</font>} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine <font color=#1b1baa>$pos</font> 1] itemID - - - name l1
  <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font>]
  <b><font color=#3a6797>set</font></b> gokeys [<b><font color=#3a6797>list</font></b> {}]
  <b><font color=#3a6797>foreach</font></b> gk {F3 AltQ AltW} {
    <b><font color=#3a6797>lappend</font></b> gokeys {<b><font color=#3a6797>*</font></b>}[apave::getTextHotkeys <font color=#1b1baa>$gk</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$K</font> in <font color=#1b1baa>$gokeys</font> || (<font color=#1b1baa>$s</font> & 0b1000)} {
    <b><font color=#3a6797>set</font></b> l1 -1 ;<i><font color=#4b5d50># to avoid a unit's name spawned in last visits at its change</font></i>
  }
  alited::favor::LastVisited [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itemID</font>] <font color=#1b1baa>$header</font> <font color=#1b1baa>$l1</font>
  <b><font color=#3a6797>set</font></b> selID [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selID</font>]&lt;2 && <font color=#1b1baa>$selID</font> ne <font color=#1b1baa>$itemID</font>} {
    <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$itemID</font>
    <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$itemID</font>
    alited::tree::AddTagSel <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font>
  }
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq [alited::tree::UnitTitle <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]} {
      <b><font color=#3a6797>set</font></b> al(CPOS,<font color=#1b1baa>$TID</font>,<font color=#1b1baa>$header</font>) [::apave::p+ <font color=#1b1baa>$pos</font> -<font color=#1b1baa>$l1</font>]
      <b><font color=#ca14ca>return</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::SetMark'>SetMark</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a mark in the mark bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetMark</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of tag used as the mark</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_SetMark' href="javascript:toggleSource('alited_main_SetMark')">Show source</a></p>
<div id='alited_main_SetMark' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::SetMark {idx} {
  <i><font color=#4b5d50># Sets a mark in the mark bar.</font></i>
  <i><font color=#4b5d50>#   idx - index of tag used as the mark</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> wcan
  <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$idx</font>] -&gt; tip mark markdata colors
  <font color=#1b1baa>$wcan</font> itemconfigure <font color=#1b1baa>$al($mark)</font> <font color=#6c3e67>-fill</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$colors</font> <font color=#1b1baa>$idx</font>]
  <b><font color=#3a6797>set</font></b> tag MARK<font color=#1b1baa>$idx</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(<font color=#1b1baa>$markdata</font>)]} {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al($markdata)</font> fname pos
    <b><font color=#3a6797>set</font></b> TID [alited::file::OpenFile <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {
      <b><font color=#3a6797>set</font></b> wtxt [GetWTXT <font color=#1b1baa>$TID</font>]
      <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges <font color=#1b1baa>$tag</font>] pos2
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos2</font>]} {<b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$pos2</font>}
      <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;::tk::TextSetCursor <font color=#1b1baa>$</font>wtxt <font color=#1b1baa>$</font>pos ; alited::main::UpdateAll&quot;</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
    <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
    <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> nl [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
    <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$markdata</font>) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$tag</font>]
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$nl</font>.0 <font color=#1b1baa>$nl</font>.end]]
    <b><font color=#3a6797>set</font></b> lmax 50
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$line</font>]&gt;<font color=#1b1baa>$lmax</font>} {
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> 0 <font color=#1b1baa>$lmax</font>]...
    }
    <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>file tail <font color=#1b1baa>$</font>fname<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>nl:\n<font color=#1b1baa>$</font>line&quot;</font>]
    ::baltip::tip <font color=#1b1baa>$wcan</font> <font color=#1b1baa>$tip</font> <font color=#6c3e67>-ctag</font> <font color=#1b1baa>$al($mark)</font> <font color=#6c3e67>-shiftX</font> 10 <font color=#6c3e67>-pause</font> 0
    ::baltip repaint <font color=#1b1baa>$wcan</font>
  }
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtxt</font> tag delete <font color=#1b1baa>$tag</font>}
  <font color=#1b1baa>$wtxt</font> tag add <font color=#1b1baa>$tag</font> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::SetTabs'>SetTabs</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures tabs of a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTabs</span> <span class='ruff_arg'>wtxt indent</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>indent</code></code></td><td class='ruff_defitem'>indentation (= tab's length)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_SetTabs' href="javascript:toggleSource('alited_main_SetTabs')">Show source</a></p>
<div id='alited_main_SetTabs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::SetTabs {wtxt indent} {
  <i><font color=#4b5d50># Configures tabs of a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   indent - indentation (= tab's length)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> texttabs [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$indent</font> * [<b><font color=#134070>font</font></b> measure <font color=#1b1baa>$al(FONT,txt)</font> 0]}]
  <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-tabs</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>texttabs left&quot;</font> <font color=#6c3e67>-tabstyle</font> wordprocessor
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ShowHeader'>ShowHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a file's name and modification flag (*) in alited's title.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowHeader</span> <span class='ruff_arg'>?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, displays unconditionally; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>doit</em> is <em>no</em>, displays only at changing a file name or a flag.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_ShowHeader' href="javascript:toggleSource('alited_main_ShowHeader')">Show source</a></p>
<div id='alited_main_ShowHeader' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::ShowHeader {{doit no}} {
  <i><font color=#4b5d50># Displays a file's name and modification flag (*) in alited's title.</font></i>
  <i><font color=#4b5d50>#   doit - if yes, displays unconditionally.</font></i>
  <i><font color=#4b5d50># If *doit* is *no*, displays only at changing a file name or a flag.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[alited::file::IsModified]} {<b><font color=#3a6797>set</font></b> modif <font color=#8b2a0e>&quot;*&quot;</font>} {<b><font color=#3a6797>set</font></b> modif <font color=#8b2a0e>&quot; &quot;</font>}
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font> || <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>modif<font color=#1b1baa>$</font>TID&quot;</font> ne [alited::bar::BAR cget <font color=#6c3e67>-ALmodif</font>]} {
    alited::bar::BAR configure <font color=#6c3e67>-ALmodif</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>modif<font color=#1b1baa>$</font>TID&quot;</font>
    <b><font color=#3a6797>set</font></b> f [alited::bar::CurrentTab 1]
    <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>file</font></b> normalize [<b><font color=#3a6797>file</font></b> dirname [alited::bar::CurrentTab 2]]]
    <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$f</font> %d <font color=#1b1baa>$d</font> %p <font color=#1b1baa>$al(prjname)</font>] <font color=#1b1baa>$al(TITLE)</font>]
    <b><font color=#134070>wm</font></b> title <font color=#1b1baa>$al(WIN)</font> [<b><font color=#3a6797>string</font></b> trim <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>modif<font color=#1b1baa>$</font>ttl&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ShowOutdatedTODO'>ShowOutdatedTODO</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a balloon with outdated TODO.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowOutdatedTODO</span> <span class='ruff_arg'>prj date todo is</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>project's name</td></tr>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>date of TODO</td></tr>
<tr><td class='ruff_defitem'><code><code>todo</code></code></td><td class='ruff_defitem'>text of TODO</td></tr>
<tr><td class='ruff_defitem'><code><code>is</code></code></td><td class='ruff_defitem'>1 for current day TODO, 2 for &quot;ahead&quot; TODO</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_ShowOutdatedTODO' href="javascript:toggleSource('alited_main_ShowOutdatedTODO')">Show source</a></p>
<div id='alited_main_ShowOutdatedTODO' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::ShowOutdatedTODO {prj date todo is} {
  <i><font color=#4b5d50># Shows a balloon with outdated TODO.</font></i>
  <i><font color=#4b5d50>#   prj - project's name</font></i>
  <i><font color=#4b5d50>#   date - date of TODO</font></i>
  <i><font color=#4b5d50>#   todo - text of TODO</font></i>
  <i><font color=#4b5d50>#   is - 1 for current day TODO, 2 for &quot;ahead&quot; TODO</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> todo <font color=#8b2a0e>&quot;\n<font color=#1b1baa>$</font>al(MC,prjName) <font color=#1b1baa>$</font>prj\n\n<font color=#1b1baa>$</font>al(MC,on) <font color=#1b1baa>$</font>date\n\n<font color=#1b1baa>$</font>todo\n&quot;</font>
  <b><font color=#3a6797>set</font></b> opts {}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first !!! <font color=#1b1baa>$todo</font>]&gt;-1 || (<font color=#1b1baa>$is</font>==1 && <font color=#1b1baa>$al(todoahead)</font>)} {
    <b><font color=#3a6797>set</font></b> opts {<font color=#6c3e67>-ontop</font> 1 <font color=#6c3e67>-eternal</font> 1 <font color=#6c3e67>-fg</font> white <font color=#6c3e67>-bg</font> red}
  }
  ::alited::Balloon <font color=#1b1baa>$todo</font> yes 2500 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ShowText'>ShowText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_ShowText' href="javascript:toggleSource('alited_main_ShowText')">Show source</a></p>
<div id='alited_main_ShowText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::ShowText {} {
  <i><font color=#4b5d50># Displays a current text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>lassign</font></b> [GetText <font color=#1b1baa>$TID</font> yes] curfile wtxt wsbv pos doinit dopack selrange wrap
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dopack</font>} {
    PackTextWidgets <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wsbv</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doinit</font> || <font color=#1b1baa>$dopack</font>} {
    <i><font color=#4b5d50># for newly displayed text: create also its unit tree</font></i>
    <b><font color=#3a6797>set</font></b> al(TREE,units) no
    alited::tree::Create
  }
  FocusText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> itemID [alited::tree::NewSelection]] ne {}} {
    <i><font color=#4b5d50># if a new unit is selected, show it in the unit tree</font></i>
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
    alited::tree::ExpandSelection <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$wtree</font>
    <i><font color=#4b5d50># this code below redraws the tree's scrollbar</font></i>
    <font color=#1b1baa>$wtree</font> configure <font color=#6c3e67>-yscrollcommand</font> [<font color=#1b1baa>$wtree</font> cget <font color=#6c3e67>-yscrollcommand</font>]
  }
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selrange</font> ne {}} {
    <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtxt</font> tag add sel {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$selrange</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wrap</font> eq {none}} {
    alited::bar::SetTabState <font color=#1b1baa>$TID</font> <font color=#6c3e67>--wrap</font> {}  ;<i><font color=#4b5d50># because it's the very first enter</font></i>
    alited::file::WrapLines yes
  }
  <i><font color=#4b5d50># update &quot;File&quot; menu and app's header</font></i>
  alited::menu::CheckMenuItems
  ShowHeader
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::TipStatus'>TipStatus</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip for a status bar's short info.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TipStatus</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_TipStatus' href="javascript:toggleSource('alited_main_TipStatus')">Show source</a></p>
<div id='alited_main_TipStatus' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::TipStatus {} {
  <i><font color=#4b5d50># Gets a tip for a status bar's short info.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> run <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,run) &quot;</font>
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$al(prjincons)</font> {
    0 {<b><font color=#3a6797>append</font></b> run <font color=#1b1baa>$al(MC,intkcon)</font>}
    1 {<b><font color=#3a6797>append</font></b> run <font color=#1b1baa>$al(MC,inconsole)</font>}
    2 {<b><font color=#3a6797>append</font></b> run <font color=#1b1baa>$al(MC,asis)</font>}
  }
  <b><font color=#3a6797>if</font></b> {[alited::tool::ComForced]} {
    <b><font color=#3a6797>append</font></b> run :\ <font color=#1b1baa>$al(comForce)</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lassign</font></b> [alited::tool::RunArgs] ar rf ex
    <b><font color=#3a6797>append</font></b> run :\ <font color=#1b1baa>$ar$rf$ex</font>
  }
  <b><font color=#3a6797>set</font></b> tip [[<font color=#1b1baa>$obPav</font> Labstat4] cget <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b>  eol= <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,EOL:) &quot;</font>  ind= <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,indent:) &quot;</font>  {, } \n  ] <font color=#1b1baa>$tip</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>run\n\n<font color=#1b1baa>[</font>msgcat::mc Encoding<font color=#1b1baa>]</font>: <font color=#1b1baa>$</font>tip&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UnsetAllMarks'>UnsetAllMarks</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unsets all marks in the mark bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnsetAllMarks</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UnsetAllMarks' href="javascript:toggleSource('alited_main_UnsetAllMarks')">Show source</a></p>
<div id='alited_main_UnsetAllMarks' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UnsetAllMarks {} {
  <i><font color=#4b5d50># Unsets all marks in the mark bar.</font></i>

  <b><font color=#3a6797>variable</font></b> wcan
  <b><font color=#3a6797>variable</font></b> bgcan
  <b><font color=#3a6797>lassign</font></b> [MarkOptions] N
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    UnsetOneMark <font color=#1b1baa>$i</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UnsetMark'>UnsetMark</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unsets a mark in the mark bar or call a popup menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnsetMark</span> <span class='ruff_arg'>idx X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of tag used as the mark</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>X-coordinate of pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>Y-coordinate of pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UnsetMark' href="javascript:toggleSource('alited_main_UnsetMark')">Show source</a></p>
<div id='alited_main_UnsetMark' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UnsetMark {idx X Y} {
  <i><font color=#4b5d50># Unsets a mark in the mark bar or call a popup menu.</font></i>
  <i><font color=#4b5d50>#   idx - index of tag used as the mark</font></i>
  <i><font color=#4b5d50>#   X - X-coordinate of pointer</font></i>
  <i><font color=#4b5d50>#   Y - Y-coordinate of pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> wcan
  <b><font color=#3a6797>set</font></b> disabletips no
  <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$idx</font>] N tip mark markdata
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(<font color=#1b1baa>$markdata</font>)]} {
    <b><font color=#3a6797>set</font></b> disabletips yes
    UnsetOneMark <font color=#1b1baa>$idx</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> disabletips yes
    <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$al(WIN)</font>.popmMARK
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
    <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 1 <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,marks)</font>
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Clear All}]  <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;alited::main::UnsetAllMarks&quot;</font>
    <font color=#1b1baa>$popm</font> add separator
    <b><font color=#3a6797>set</font></b> lab [msgcat::mc Width]
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>lab +&quot;</font> <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;alited::main::MarkWidth 1&quot;</font>
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>lab -&quot;</font> <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;alited::main::MarkWidth -1&quot;</font>
    <font color=#1b1baa>$popm</font> add separator
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,help)</font> <font color=#6c3e67>-command</font> {alited::HelpAlited #bookmark}
    <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$disabletips</font> && ![<b><font color=#3a6797>info</font></b> exists al(MARK_TIPOFF)]} {
    <i><font color=#4b5d50># disable all default tips on empty marks</font></i>
    <b><font color=#3a6797>set</font></b> al(MARK_TIPOFF) 1
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$N</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$i</font>] - - - data
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(<font color=#1b1baa>$data</font>)]} {
        UnsetOneMark <font color=#1b1baa>$i</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UnsetOneMark'>UnsetOneMark</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unsets one mark in the mark bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnsetOneMark</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of tag used as the mark</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UnsetOneMark' href="javascript:toggleSource('alited_main_UnsetOneMark')">Show source</a></p>
<div id='alited_main_UnsetOneMark' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UnsetOneMark {idx} {
  <i><font color=#4b5d50># Unsets one mark in the mark bar.</font></i>
  <i><font color=#4b5d50>#   idx - index of tag used as the mark</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> wcan
  <b><font color=#3a6797>variable</font></b> bgcan
  <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$idx</font>] N tip mark markdata
  <font color=#1b1baa>$wcan</font> itemconfigure <font color=#1b1baa>$al($mark)</font> <font color=#6c3e67>-fill</font> <font color=#1b1baa>$bgcan</font>
  ::baltip::tip <font color=#1b1baa>$wcan</font> <font color=#1b1baa>$tip</font> <font color=#6c3e67>-ctag</font> <font color=#1b1baa>$al($mark)</font> <font color=#6c3e67>-shiftX</font> 10
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al($markdata)</font> fname pos wtxt tag
    <b><font color=#3a6797>unset</font></b> al(<font color=#1b1baa>$markdata</font>)
    <font color=#1b1baa>$wtxt</font> tag delete <font color=#1b1baa>$tag</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateAll'>UpdateAll</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates tree, text and gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateAll</span> <span class='ruff_arg'>?headers?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>headers of all selected units; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateAll' href="javascript:toggleSource('alited_main_UpdateAll')">Show source</a></p>
<div id='alited_main_UpdateAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateAll {{headers {}}} {
  <i><font color=#4b5d50># Updates tree, text and gutter.</font></i>
  <i><font color=#4b5d50>#   headers - headers of all selected units</font></i>

  alited::tree::RecreateTree {} <font color=#1b1baa>$headers</font>
  UpdateTextGutter
  HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateGutter'>UpdateGutter</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws the gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateGutter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateGutter' href="javascript:toggleSource('alited_main_UpdateGutter')">Show source</a></p>
<div id='alited_main_UpdateGutter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateGutter {} {
  <i><font color=#4b5d50># Redraws the gutter.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after 0 <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>obPav fillGutter <font color=#1b1baa>$</font>wtxt&quot;</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateIcons'>UpdateIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates after replacements: icons.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateIcons</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateIcons' href="javascript:toggleSource('alited_main_UpdateIcons')">Show source</a></p>
<div id='alited_main_UpdateIcons' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateIcons {} {
  <i><font color=#4b5d50># Updates after replacements: icons.</font></i>

  alited::bar::OnTabSelection [alited::bar::CurrentTabID]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateMarkBar'>UpdateMarkBar</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates mark bar at changing -bg color.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateMarkBar</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateMarkBar' href="javascript:toggleSource('alited_main_UpdateMarkBar')">Show source</a></p>
<div id='alited_main_UpdateMarkBar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateMarkBar {} {
  <i><font color=#4b5d50># Updates mark bar at changing -bg color.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [MarkOptions] N
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>lassign</font></b> [MarkOptions <font color=#1b1baa>$i</font>] - - - markdata
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(<font color=#1b1baa>$markdata</font>)]} {UnsetOneMark <font color=#1b1baa>$i</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateProjectInfo'>UpdateProjectInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a project settings in the status bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateProjectInfo</span> <span class='ruff_arg'>?indent?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>indent</code></code></td><td class='ruff_defitem'>indentation calculated for a text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateProjectInfo' href="javascript:toggleSource('alited_main_UpdateProjectInfo')">Show source</a></p>
<div id='alited_main_UpdateProjectInfo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateProjectInfo {{indent {}}} {
  <i><font color=#4b5d50># Displays a project settings in the status bar.</font></i>
  <i><font color=#4b5d50>#   indent - indentation calculated for a text</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> ne {}} {<b><font color=#3a6797>set</font></b> stsw normal} {<b><font color=#3a6797>set</font></b> stsw disabled}
  [<font color=#1b1baa>$obPav</font> BtTswitch] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stsw</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> eol [alited::file::EOL]}] || <font color=#1b1baa>$eol</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> eol <font color=#1b1baa>$al(prjEOL)</font>] eq {}} {<b><font color=#3a6797>set</font></b> eol auto}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$eol</font>] -&gt; eol
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$indent</font> eq {}} {<b><font color=#3a6797>set</font></b> indent [<b><font color=#3a6797>lindex</font></b> [CalcIndentation] 0]}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> enc [alited::file::Encoding]}] || <font color=#1b1baa>$enc</font> eq {}} {
    <b><font color=#3a6797>set</font></b> enc utf-8
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$enc</font>] -&gt; enc
  }
  <b><font color=#3a6797>set</font></b> info <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>enc, eol=<font color=#1b1baa>$</font>eol, ind=<font color=#1b1baa>$</font>indent&quot;</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindentAuto)</font>} {<b><font color=#3a6797>append</font></b> info /auto}
  [<font color=#1b1baa>$obPav</font> Labstat4] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$info</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateText'>UpdateText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateText</span> <span class='ruff_arg'>?wtxt? ?curfile?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text widget's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>curfile</code></code></td><td class='ruff_defitem'>file name of the text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateText' href="javascript:toggleSource('alited_main_UpdateText')">Show source</a></p>
<div id='alited_main_UpdateText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateText {{wtxt {}} {curfile {}}} {
  <i><font color=#4b5d50># Redraws a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - the text widget's path</font></i>
  <i><font color=#4b5d50>#   curfile - file name of the text</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {<b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curfile</font> eq {}} {<b><font color=#3a6797>set</font></b> curfile [alited::bar::FileName]}
  <b><font color=#3a6797>if</font></b> {[alited::file::IsClang <font color=#1b1baa>$curfile</font>]} {
    ::hl_c::hl_text <font color=#1b1baa>$wtxt</font>
  } <b><font color=#3a6797>else</font></b> {
    ::hl_tcl::hl_text <font color=#1b1baa>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateTextGutter'>UpdateTextGutter</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws both a text and a gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTextGutter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateTextGutter' href="javascript:toggleSource('alited_main_UpdateTextGutter')">Show source</a></p>
<div id='alited_main_UpdateTextGutter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateTextGutter {} {
  <i><font color=#4b5d50># Redraws both a text and a gutter.</font></i>

  UpdateGutter
  UpdateText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateTextGutterTree'>UpdateTextGutterTree</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates after replacements: text, gutter, unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTextGutterTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateTextGutterTree' href="javascript:toggleSource('alited_main_UpdateTextGutterTree')">Show source</a></p>
<div id='alited_main_UpdateTextGutterTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateTextGutterTree {} {
  <i><font color=#4b5d50># Updates after replacements: text, gutter, unit tree.</font></i>

  UpdateTextGutter
  UpdateUnitTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateTextGutterTreeIcons'>UpdateTextGutterTreeIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates after replacements: text, gutter, unit tree, icons.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTextGutterTreeIcons</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateTextGutterTreeIcons' href="javascript:toggleSource('alited_main_UpdateTextGutterTreeIcons')">Show source</a></p>
<div id='alited_main_UpdateTextGutterTreeIcons' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateTextGutterTreeIcons {} {
  <i><font color=#4b5d50># Updates after replacements: text, gutter, unit tree, icons.</font></i>

  UpdateTextGutterTree
  UpdateIcons
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateUnitTree'>UpdateUnitTree</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws unit tree at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateUnitTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_main_UpdateUnitTree' href="javascript:toggleSource('alited_main_UpdateUnitTree')">Show source</a></p>
<div id='alited_main_UpdateUnitTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateUnitTree {} {
  <i><font color=#4b5d50># Redraws unit tree at need.</font></i>

  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(TREE,isunits)</font> && [alited::file::IsUnitFile <font color=#1b1baa>$fname</font>]} {
    alited::tree::RecreateTree
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::menu'></a>::alited::menu<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::menu-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::menu::CheckMenuItems'>CheckMenuItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Disables/enables &quot;File/Close All...&quot; menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckMenuItems</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_CheckMenuItems' href="javascript:toggleSource('alited_menu_CheckMenuItems')">Show source</a></p>
<div id='alited_menu_CheckMenuItems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::CheckMenuItems {} {
  <i><font color=#4b5d50># Disables/enables &quot;File/Close All...&quot; menu items.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>foreach</font></b> idx {11 12 13} {
    <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
      <b><font color=#3a6797>set</font></b> dsbl [alited::bar::BAR checkDisabledMenu <font color=#1b1baa>$al(BID)</font> <font color=#1b1baa>$TID</font> [<b><font color=#3a6797>incr</font></b> item]]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> dsbl yes
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dsbl</font>} {
      <b><font color=#3a6797>set</font></b> state {<font color=#6c3e67>-state</font> disabled}
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> state {<font color=#6c3e67>-state</font> normal}
    }
    <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure <font color=#1b1baa>$idx</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$state</font>
  }
  <b><font color=#3a6797>if</font></b> {[alited::file::IsNoName [alited::bar::FileName]]} {
    <b><font color=#3a6797>set</font></b> state {<font color=#6c3e67>-state</font> disabled}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> state {<font color=#6c3e67>-state</font> normal}
  }
  <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 2 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::CheckTint'>CheckTint</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a check in menu &quot;Tint&quot; according to the current tint.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckTint</span> <span class='ruff_arg'>?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>&quot;yes&quot; at restarting this procedure after a pause; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_CheckTint' href="javascript:toggleSource('alited_menu_CheckTint')">Show source</a></p>
<div id='alited_menu_CheckTint' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::CheckTint {{doit no}} {
  <i><font color=#4b5d50># Sets a check in menu &quot;Tint&quot; according to the current tint.</font></i>
  <i><font color=#4b5d50>#   doit - &quot;yes&quot; at restarting this procedure after a pause</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> tint
  <b><font color=#3a6797>variable</font></b> inctint
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font>} {
    <i><font color=#4b5d50># we can postpone updating the Tint menu</font></i>
    <b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>after</font></b> 500 {alited::menu::CheckTint yes}}
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> fg1 [<b><font color=#3a6797>lindex</font></b> [alited::FgFgBold] 1]
  <b><font color=#3a6797>set</font></b> fg2 [<font color=#1b1baa>$al(SETUP)</font> entrycget 0 <font color=#6c3e67>-foreground</font>]
  <b><font color=#3a6797>set</font></b> ti 0
  <b><font color=#3a6797>lassign</font></b> [TintRange] max min
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$max</font>} {<font color=#1b1baa>$i</font>&gt;=<font color=#1b1baa>$min</font>} {<b><font color=#3a6797>incr</font></b> i -<font color=#1b1baa>$inctint</font>} {
    <b><font color=#3a6797>set</font></b> tint(<font color=#1b1baa>$i</font>) [::apave::IsRoundInt <font color=#1b1baa>$::apave::_CS_(HUE)</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>if</font></b> {[::apave::IsRoundInt <font color=#1b1baa>$al(INI,HUE)</font> <font color=#1b1baa>$i</font>]} {
      <b><font color=#3a6797>set</font></b> fg <font color=#1b1baa>$fg1</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> fg <font color=#1b1baa>$fg2</font>
    }
    <b><font color=#3a6797>incr</font></b> ti
    <font color=#1b1baa>$al(SETUP)</font>.tint entryconfigure <font color=#1b1baa>$ti</font> <font color=#6c3e67>-variable</font> alited::menu::tint(<font color=#1b1baa>$i</font>) <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::CompareFnames'>CompareFnames</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Comapares two names of files, by their rootnames.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CompareFnames</span> <span class='ruff_arg'>n1 n2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>n1</code></code></td><td class='ruff_defitem'>1st name</td></tr>
<tr><td class='ruff_defitem'><code><code>n2</code></code></td><td class='ruff_defitem'>2nd name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_CompareFnames' href="javascript:toggleSource('alited_menu_CompareFnames')">Show source</a></p>
<div id='alited_menu_CompareFnames' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::CompareFnames {n1 n2} {
  <i><font color=#4b5d50># Comapares two names of files, by their rootnames.</font></i>
  <i><font color=#4b5d50>#   n1 - 1st name</font></i>
  <i><font color=#4b5d50>#   n2 - 2nd name</font></i>

  <b><font color=#3a6797>set</font></b> n1 [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$n1</font>]]
  <b><font color=#3a6797>set</font></b> n2 [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$n2</font>]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$n1</font> eq <font color=#1b1baa>$n2</font>} {<b><font color=#ca14ca>return</font></b> 0}
  <b><font color=#3a6797>set</font></b> ls [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$n1</font> <font color=#1b1baa>$n2</font>]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$n1</font> eq [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$ls</font> 0]} {<b><font color=#ca14ca>return</font></b> -1}
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::Configurations'>Configurations</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>Configurations</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_Configurations' href="javascript:toggleSource('alited_menu_Configurations')">Show source</a></p>
<div id='alited_menu_Configurations' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::Configurations {} {
  <i><font color=#4b5d50>#</font></i>

  <b><font color=#3a6797>if</font></b> {![alited::ini::GetConfiguration]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> ::alited::ARGV <font color=#1b1baa>$::alited::CONFIGDIR</font>
  alited::Exit - 1 no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillFormatItems'>FillFormatItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills Edit/Format submenu with items taken from &quot;alited/data/format&quot; directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillFormatItems</span> <span class='ruff_arg'>mnu ?dir? ?lev? ?mnuID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>submenu's path</td></tr>
<tr><td class='ruff_defitem'><code><code>dir</code></code></td><td class='ruff_defitem'>directory name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>current level of subdirectory; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mnuID</code></code></td><td class='ruff_defitem'>menu's ID; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_FillFormatItems' href="javascript:toggleSource('alited_menu_FillFormatItems')">Show source</a></p>
<div id='alited_menu_FillFormatItems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FillFormatItems {mnu {dir {}} {lev 0} {mnuID 0}} {
  <i><font color=#4b5d50># Fills Edit/Format submenu with items taken from &quot;alited/data/format&quot; directory.</font></i>
  <i><font color=#4b5d50>#   mnu - submenu's path</font></i>
  <i><font color=#4b5d50>#   dir - directory name</font></i>
  <i><font color=#4b5d50>#   lev - current level of subdirectory</font></i>
  <i><font color=#4b5d50>#   mnuID - menu's ID</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dir</font> eq {}} {
    <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::DATADIR</font> format]
  }
  <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> <font color=#6c3e67>-directory</font> <font color=#1b1baa>$dir</font> *]
  <b><font color=#3a6797>foreach</font></b> fn [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$fnames</font>] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fn</font>]] eq {init.tcl}} <b><font color=#ca14ca>continue</font></b>
    <i><font color=#4b5d50># first 4 chars for sorting</font></i>
    <b><font color=#3a6797>set</font></b> it [FormatsItemName <font color=#1b1baa>$fn</font>]
    <b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> _ { }] <font color=#1b1baa>$it</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$fn</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lev</font>&lt;3} {  ;<i><font color=#4b5d50># prohibit too deep diving</font></i>
        <b><font color=#3a6797>set</font></b> subm [MenuCascade <font color=#1b1baa>$mnu</font> m[<b><font color=#3a6797>incr</font></b> mnuID] <font color=#1b1baa>$it</font>]
        alited::menu::FillFormatItems <font color=#1b1baa>$subm</font> <font color=#1b1baa>$fn</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>+1}] <font color=#1b1baa>$mnuID</font>
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$it</font> eq {}} {
      <font color=#1b1baa>$mnu</font> add separator
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> idx] % 25} {<b><font color=#3a6797>set</font></b> cbr {}} {<b><font color=#3a6797>set</font></b> cbr {<font color=#6c3e67>-columnbreak</font> 1}}
      <font color=#1b1baa>$mnu</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$it</font> <font color=#6c3e67>-command</font> [<b><font color=#3a6797>list</font></b> alited::edit::RunFormat <font color=#1b1baa>$fn</font>] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$cbr</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$lev</font>} {
    <font color=#1b1baa>$mnu</font> add separator
    <font color=#1b1baa>$mnu</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,open...)</font> <font color=#6c3e67>-command</font> [<b><font color=#3a6797>list</font></b> alited::edit::OpenFormatFile <font color=#1b1baa>$dir</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillMacroItems'>FillMacroItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills play macro items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillMacroItems</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_FillMacroItems' href="javascript:toggleSource('alited_menu_FillMacroItems')">Show source</a></p>
<div id='alited_menu_FillMacroItems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FillMacroItems {} {
  <i><font color=#4b5d50># Fills play macro items.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> m <font color=#1b1baa>$al(MENUEDIT)</font>.playtkl
  <b><font color=#3a6797>set</font></b> imax 99
  <b><font color=#3a6797>set</font></b> pmax 34
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$imax</font>+<font color=#1b1baa>$pmax</font>}]} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$m</font> delete 1}]} <b><font color=#ca14ca>break</font></b>
  }
  <b><font color=#3a6797>set</font></b> isaccel 0
  <b><font color=#3a6797>set</font></b> pattern [alited::edit::MacroFileName *<font color=#1b1baa>$al(macroext)</font>]
  <b><font color=#3a6797>set</font></b> lmacro [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-command</font> alited::menu::CompareFnames [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> <font color=#1b1baa>$pattern</font>]]
  <b><font color=#3a6797>set</font></b> imax [<b><font color=#3a6797>expr</font></b> {min([<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$lmacro</font>],<font color=#1b1baa>$imax</font>-2)}]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> idx 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$imax</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> am [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$lmacro</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>if</font></b> {[alited::edit::MacroFileName <font color=#1b1baa>$am</font>] ne [alited::edit::MacroFileName <font color=#1b1baa>$al(MC,quickmacro)</font>]} {
      <b><font color=#3a6797>set</font></b> am [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$am</font>]]
      <b><font color=#3a6797>set</font></b> opts [MacroOptions item<font color=#1b1baa>$idx</font> <font color=#1b1baa>$am</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> idx]%<font color=#1b1baa>$pmax</font>} {<b><font color=#3a6797>set</font></b> cbr {}} {<b><font color=#3a6797>set</font></b> cbr {<font color=#6c3e67>-columnbreak</font> 1}}
      <font color=#1b1baa>$m</font> add command {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$cbr</font>
      <b><font color=#3a6797>if</font></b> {{<font color=#6c3e67>-accelerator</font>} in <font color=#1b1baa>$opts</font>} {<b><font color=#3a6797>set</font></b> isaccel 1}
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$idx</font>} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> _ [<font color=#1b1baa>$m</font> entrycget 1 <font color=#6c3e67>-label</font>]}]} {
      <b><font color=#3a6797>after</font></b> idle {
        alited::ini::CreateMacrosDir  ;<i><font color=#4b5d50># initialize macros</font></i>
        alited::menu::FillMacroItems  ;<i><font color=#4b5d50># and refill this menu</font></i>
      }
    }
    <font color=#1b1baa>$m</font> add command {<b><font color=#3a6797>*</font></b>}[MacroOptions item0 <font color=#1b1baa>$al(MC,new)</font>]
  }
  <font color=#1b1baa>$m</font> add separator
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isaccel</font>} {<b><font color=#3a6797>set</font></b> al(activemacro) <font color=#1b1baa>$al(MC,quickmacro)</font>}
  <font color=#1b1baa>$m</font> add command {<b><font color=#3a6797>*</font></b>}[MacroOptions quickrec <font color=#1b1baa>$al(MC,quickmacro)</font>]
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,open...)</font> <font color=#6c3e67>-command</font> alited::edit::OpenMacroFile
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,help)</font> <font color=#6c3e67>-command</font> alited::edit::HelpOnMacro
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillMenu'>FillMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Populates alited's main menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillMenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_FillMenu' href="javascript:toggleSource('alited_menu_FillMenu')">Show source</a></p>
<div id='alited_menu_FillMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FillMenu {} {
  <i><font color=#4b5d50># Populates alited's main menu.</font></i>

  <b><font color=#3a6797>variable</font></b> inctint
  <i><font color=#4b5d50># alited_checked</font></i>
  ::apave::msgcatDialogs

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DATADIR DATADIR DIR DIR
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num em_ico em_ico em_inf em_inf em_mnu em_mnu

  <i><font color=#4b5d50>## ________________________ File _________________________ ##</font></i>

  <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(MENUFILE) <font color=#1b1baa>$al(WIN)</font>.menu.file]
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,new)</font> <font color=#6c3e67>-command</font> alited::file::NewFile <font color=#6c3e67>-accelerator</font> Ctrl+N
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,open...)</font> <font color=#6c3e67>-command</font> alited::file::OpenFile <font color=#6c3e67>-accelerator</font> Ctrl+O
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc Clone...] <font color=#6c3e67>-command</font> {alited::file::CloneFile no no}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.recentfiles <font color=#6c3e67>-tearoff</font> 1
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> [msgcat::mc {Recent Files}] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.recentfiles
  <font color=#1b1baa>$m</font> add separator

  <i><font color=#4b5d50>### ________________________ Save _________________________ ###</font></i>

  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,save)</font> <font color=#6c3e67>-command</font> alited::file::SaveFile <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_0)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,saveas...)</font> <font color=#6c3e67>-command</font> alited::file::SaveFileAs <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_1)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,saveall)</font> <font color=#6c3e67>-command</font> alited::file::SaveAll <font color=#6c3e67>-accelerator</font> Ctrl+Shift+S
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Save and Close}] <font color=#6c3e67>-command</font> alited::file::SaveAndClose <font color=#6c3e67>-accelerator</font> Ctrl+W
  <font color=#1b1baa>$m</font> add separator

  <i><font color=#4b5d50>### ________________________ Close _________________________ ###</font></i>

  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,close)</font> <font color=#6c3e67>-command</font> alited::file::CloseFileMenu
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,clall)</font> <font color=#6c3e67>-command</font> {alited::file::CloseAll 1}
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,clallleft)</font> <font color=#6c3e67>-command</font> {alited::file::CloseAll 2}
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,clallright)</font> <font color=#6c3e67>-command</font> {alited::file::CloseAll 3}
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Close and Delete}] <font color=#6c3e67>-command</font> alited::file::CloseAndDelete <font color=#6c3e67>-accelerator</font> Ctrl+Alt+W
  <font color=#1b1baa>$m</font> add separator

  <i><font color=#4b5d50>### ________________________ Detach _________________________ ###</font></i>

  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.detach <font color=#6c3e67>-tearoff</font> 1 <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,detach)</font>
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,detach)</font> <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.detach
  <font color=#1b1baa>$m</font>.detach add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,detach)</font> <font color=#6c3e67>-command</font> alited::file::Detach
  <font color=#1b1baa>$m</font>.detach add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,open...)</font> <font color=#6c3e67>-command</font> alited::file::OpenDetach
  <font color=#1b1baa>$m</font>.detach add separator
  <font color=#1b1baa>$m</font>.detach add checkbutton <font color=#6c3e67>-label</font> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(MC,middlefont)</font> :] <font color=#6c3e67>-variable</font> ::alited::al(fontdetach)
  <font color=#1b1baa>$m</font> add separator

  <i><font color=#4b5d50>### ________________________ Reload _________________________ ###</font></i>

  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.eol <font color=#6c3e67>-tearoff</font> 1 <font color=#6c3e67>-title</font> EOL
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> [msgcat::mc {Reload with EOL}] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.eol
  <b><font color=#3a6797>foreach</font></b> eol {LF CR CRLF - auto} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$eol</font> eq {-}} {
      <font color=#1b1baa>$m</font>.eol add separator
    } <b><font color=#3a6797>else</font></b> {
      <font color=#1b1baa>$m</font>.eol add command <font color=#6c3e67>-label</font> <font color=#8b2a0e>&quot;    <font color=#1b1baa>$</font>eol        &quot;</font>  <font color=#6c3e67>-command</font> [<b><font color=#3a6797>list</font></b> alited::file::Reload1 <font color=#1b1baa>$eol</font>]
    }
  }
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.encods <font color=#6c3e67>-tearoff</font> 1
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> [msgcat::mc {Reload with Encoding}] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.encods
  <b><font color=#3a6797>foreach</font></b> enc [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> [<b><font color=#3a6797>encoding</font></b> names]] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> icbr]%25} {<b><font color=#3a6797>set</font></b> cbr {}} {<b><font color=#3a6797>set</font></b> cbr {<font color=#6c3e67>-columnbreak</font> 1}}
    <font color=#1b1baa>$m</font>.encods add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$enc</font> <font color=#6c3e67>-command</font> [<b><font color=#3a6797>list</font></b> alited::file::Reload2 <font color=#1b1baa>$enc</font>] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$cbr</font>
  }
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,quit)</font> <font color=#6c3e67>-command</font> {alited::Exit - 0 no}

  <i><font color=#4b5d50>## ________________________ Edit _________________________ ##</font></i>

  <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(MENUEDIT) <font color=#1b1baa>$al(WIN)</font>.menu.edit]
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,indent)</font> <font color=#6c3e67>-command</font> alited::edit::Indent <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_6)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,unindent)</font> <font color=#6c3e67>-command</font> alited::edit::UnIndent <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_7)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,corrindent)</font> <font color=#6c3e67>-command</font> alited::edit::NormIndent
  <font color=#1b1baa>$m</font> add separator

  <i><font color=#4b5d50>### ________________________ Comments _________________________ ###</font></i>

  <b><font color=#3a6797>set</font></b> ttl [msgcat::mc Comments]
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.comment <font color=#6c3e67>-tearoff</font> 1 <font color=#6c3e67>-title</font> <font color=#1b1baa>$ttl</font>
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> <font color=#1b1baa>$ttl</font> <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.comment
  <font color=#1b1baa>$m</font>.comment add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,comment)</font> <font color=#6c3e67>-command</font> alited::edit::Comment <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_8)</font>
  <font color=#1b1baa>$m</font>.comment add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,uncomment)</font> <font color=#6c3e67>-command</font> alited::edit::UnComment <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_9)</font>
  <font color=#1b1baa>$m</font>.comment add separator
  <font color=#1b1baa>$m</font>.comment add radiobutton <font color=#6c3e67>-variable</font> ::alited::al(commentmode) <font color=#6c3e67>-value</font> 0 <font color=#6c3e67>-label</font> TODO
  <font color=#1b1baa>$m</font>.comment add radiobutton <font color=#6c3e67>-variable</font> ::alited::al(commentmode) <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-label</font> Classic
  <font color=#1b1baa>$m</font>.comment add radiobutton <font color=#6c3e67>-variable</font> ::alited::al(commentmode) <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-label</font> Sticky

  <i><font color=#4b5d50>### ________________________ Formats _________________________ ###</font></i>

  MenuCascade <font color=#1b1baa>$m</font> format [msgcat::mc Formats]
  <b><font color=#3a6797>set</font></b> al(MENUFORMATS) <font color=#1b1baa>$m</font>.format
  FillFormatItems <font color=#1b1baa>$al(MENUFORMATS)</font>
  <font color=#1b1baa>$m</font> add separator

  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Put New Line}] <font color=#6c3e67>-command</font> alited::main::InsertLine <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_18)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Remove Trailing Whitespaces}] <font color=#6c3e67>-command</font> alited::edit::RemoveTrailWhites
  <font color=#1b1baa>$m</font> add separator

  <i><font color=#4b5d50>### ________________________ Rectangular Selection _________________________ ###</font></i>

  MenuCascade <font color=#1b1baa>$m</font> rectsel [msgcat::mc {Rectangular Selection}]
  <font color=#1b1baa>$m</font>.rectsel add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc Start] <font color=#6c3e67>-command</font> {alited::edit::RectSelection 0} <font color=#6c3e67>-variable</font> ::alited::al(rectSel) <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-image</font> alimg_run
  <font color=#1b1baa>$m</font>.rectsel add separator
  <font color=#1b1baa>$m</font>.rectsel add command <font color=#6c3e67>-label</font> [msgcat::mc Cut] <font color=#6c3e67>-command</font> {alited::edit::RectSelection 2}
  <font color=#1b1baa>$m</font>.rectsel add command <font color=#6c3e67>-label</font> [msgcat::mc Copy] <font color=#6c3e67>-command</font> {alited::edit::RectSelection 3}
  <font color=#1b1baa>$m</font>.rectsel add command <font color=#6c3e67>-label</font> [msgcat::mc Paste] <font color=#6c3e67>-command</font> {alited::edit::RectSelection 4}

  <i><font color=#4b5d50>### ________________________ Color Values _________________________ ###</font></i>

  MenuCascade <font color=#1b1baa>$m</font> hlcolors [msgcat::mc {Color Values #hhhhhh}] [msgcat::mc Colors]
  <font color=#1b1baa>$m</font>.hlcolors add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,hlcolors)</font> <font color=#6c3e67>-command</font> alited::edit::ShowColorValues
  <font color=#1b1baa>$m</font>.hlcolors add command <font color=#6c3e67>-label</font> [msgcat::mc {Hide Colors}] <font color=#6c3e67>-command</font> alited::edit::HideColorValues

  <i><font color=#4b5d50>### ________________________ Macro _________________________ ###</font></i>

  MenuCascade <font color=#1b1baa>$m</font> playtkl <font color=#1b1baa>$::alited::al(MC,playtkl)</font>
  FillMacroItems

  <i><font color=#4b5d50>## ________________________ Search _________________________ ##</font></i>

  <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(SEARCH) <font color=#1b1baa>$al(WIN)</font>.menu.search]
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,findreplace)</font> <font color=#6c3e67>-command</font> alited::find::_run <font color=#6c3e67>-accelerator</font> Ctrl+F
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,findnext)</font> <font color=#6c3e67>-command</font> {alited::find::Next ; <b><font color=#3a6797>after</font></b> idle alited::main::SaveVisitInfo} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_12)</font>
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,lookdecl)</font> <font color=#6c3e67>-command</font> alited::find::LookDecl <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_13)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,lookword)</font> <font color=#6c3e67>-command</font> alited::find::SearchWordInSession <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_14)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Find Unit}] <font color=#6c3e67>-command</font> alited::find::FindUnit <font color=#6c3e67>-accelerator</font> Ctrl+Shift+F
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Find by List}] <font color=#6c3e67>-command</font> alited::find::SearchByList
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {To Last Visited}] <font color=#6c3e67>-command</font> alited::unit::SwitchUnits <font color=#6c3e67>-accelerator</font> Alt+BackSpace
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,tomatched)</font> <font color=#6c3e67>-command</font> {alited::main::GotoBracket yes} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_20)</font>
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,toline)</font> <font color=#6c3e67>-command</font> alited::main::GotoLine <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_17)</font>

  <i><font color=#4b5d50>## ________________________ Tools _________________________ ##</font></i>

  <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(TOOLS) <font color=#1b1baa>$al(WIN)</font>.menu.tool]
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc Run...] <font color=#6c3e67>-command</font> alited::tool::RunMode
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,run)</font> <font color=#6c3e67>-command</font> alited::tool::_run <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_3)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,runAsIs)</font> <font color=#6c3e67>-command</font> alited::tool::RunFile <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_22)</font>
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> e_menu <font color=#6c3e67>-command</font> {alited::tool::e_menu o=0} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_2)</font>
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> Tkcon <font color=#6c3e67>-command</font> alited::tool::tkcon

  <i><font color=#4b5d50>### ________________________ bar-menu _________________________ ###</font></i>

  <b><font color=#3a6797>set</font></b> em_N [alited::ini::Em_Number <font color=#1b1baa>$em_Num</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> emwas 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_inf(<font color=#1b1baa>$i</font>)]} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> emwas]==1} {
        <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.runs <font color=#6c3e67>-tearoff</font> 1
        <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> bar-menu <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.runs
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_inf($i)</font> eq {}} {
        <font color=#1b1baa>$m</font>.runs add separator
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> com [alited::tool::EM_command <font color=#1b1baa>$i</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
          <b><font color=#3a6797>set</font></b> txt <font color=#1b1baa>$em_mnu($i)</font>
          <font color=#1b1baa>$m</font>.runs add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$txt</font> <font color=#6c3e67>-command</font> <font color=#1b1baa>$com</font>
        }
      }
    }
  }

  <i><font color=#4b5d50>### ___________________ Check, File list __________________ ###</font></i>

  <font color=#1b1baa>$m</font> add separator
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.filelist <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,filelist)</font> <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.filelist
  <font color=#1b1baa>$m</font>.filelist add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,filelist)</font> <font color=#6c3e67>-command</font> {alited::bar::BAR popList} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_21)</font>
  <font color=#1b1baa>$m</font>.filelist add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc {Sorted}] <font color=#6c3e67>-variable</font> ::alited::al(sortList) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,checktcl...)</font> <font color=#6c3e67>-command</font> alited::CheckRun
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Project Printer...}] <font color=#6c3e67>-command</font> alited::PrinterRun

  <i><font color=#4b5d50>### ________________________ Paver _________________________ ###</font></i>

  <font color=#1b1baa>$m</font> add separator
  MenuCascade <font color=#1b1baa>$m</font> paver Paver

  <font color=#1b1baa>$m</font>.paver add command <font color=#6c3e67>-label</font> {Paver} <font color=#6c3e67>-command</font> {alited::menu::Paver 0}
  <font color=#1b1baa>$m</font>.paver add separator
  <font color=#1b1baa>$m</font>.paver add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc {Auto Update}]  <font color=#6c3e67>-variable</font> ::alited::al(paverauto) <font color=#6c3e67>-command</font> {alited::menu::Paver 1}
  <font color=#1b1baa>$m</font>.paver add command <font color=#6c3e67>-label</font> [msgcat::mc {Widget List}] <font color=#6c3e67>-command</font> {alited::menu::Paver 2}
  <font color=#1b1baa>$m</font>.paver add separator
  <font color=#1b1baa>$m</font>.paver add command <font color=#6c3e67>-label</font> [msgcat::mc {Help}] <font color=#6c3e67>-command</font> {alited::menu::Paver 3}

  <i><font color=#4b5d50>### ________________________ Pickers _________________________ ###</font></i>

  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,datepicker)</font> <font color=#6c3e67>-command</font> alited::tool::DatePicker
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,colorpicker)</font> <font color=#6c3e67>-command</font> alited::tool::ColorPicker
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Screen Loupe}] <font color=#6c3e67>-command</font> alited::tool::Loupe

  <i><font color=#4b5d50>## ________________________ Setup _________________________ ##</font></i>

  <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(SETUP) <font color=#1b1baa>$al(WIN)</font>.menu.setup]
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc Projects...] <font color=#6c3e67>-command</font> alited::project::_run
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc Templates...] <font color=#6c3e67>-command</font> alited::unit::Add
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Favorites Lists...}] <font color=#6c3e67>-command</font> alited::favor::Lists
  <font color=#1b1baa>$m</font> add separator

  <font color=#1b1baa>$m</font> add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc {Wrap Lines}]  <font color=#6c3e67>-variable</font> ::alited::al(wrapwords) <font color=#6c3e67>-command</font> alited::file::WrapLines
  <font color=#1b1baa>$m</font> add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc {Tip File Info}]  <font color=#6c3e67>-variable</font> ::alited::al(TREE,showinfo) <font color=#6c3e67>-command</font> alited::file::UpdateFileStat
  <font color=#1b1baa>$m</font> add separator

  MenuCascade <font color=#1b1baa>$m</font> tint [msgcat::mc Tint]
  <b><font color=#3a6797>lassign</font></b> [TintRange] max min
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> ti <font color=#1b1baa>$max</font>} {<font color=#1b1baa>$ti</font>&gt;=<font color=#1b1baa>$min</font>} {<b><font color=#3a6797>incr</font></b> ti -<font color=#1b1baa>$inctint</font>} {
    <b><font color=#3a6797>set</font></b> ti1 [<b><font color=#3a6797>string</font></b> range <font color=#8b2a0e>&quot;   <font color=#1b1baa>$</font>ti&quot;</font> end-2 end]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ti</font>&lt;0} {
      <b><font color=#3a6797>set</font></b> ti2 <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>msgcat::mc Darker:<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>ti1&quot;</font>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$ti</font>&gt;0} {
      <b><font color=#3a6797>set</font></b> ti2 <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>msgcat::mc Lighter:<font color=#1b1baa>]$</font>ti1&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> ti2 CS\ #<font color=#1b1baa>$al(INI,CS)</font>
    }
    <font color=#1b1baa>$m</font>.tint add checkbutton <font color=#6c3e67>-label</font> <font color=#1b1baa>$ti2</font> <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;alited::menu::SetTint <font color=#1b1baa>$</font>ti&quot;</font> <font color=#6c3e67>-variable</font> alited::menu::tint(<font color=#1b1baa>$ti</font>)
  }
  CheckTint

  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.tipson <font color=#6c3e67>-tearoff</font> 1
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> [msgcat::mc {Tips on / off}] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.tipson
  <font color=#1b1baa>$m</font>.tipson add checkbutton <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,projects)</font> <font color=#6c3e67>-variable</font> ::alited::al(TIPS,Projects) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.tipson add checkbutton <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,tpl)</font> <font color=#6c3e67>-variable</font> ::alited::al(TIPS,Templates) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.tipson add checkbutton <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,pref)</font> <font color=#6c3e67>-variable</font> ::alited::al(TIPS,Preferences) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.tipson add checkbutton <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,FavLists)</font> <font color=#6c3e67>-variable</font> ::alited::al(TIPS,SavedFavorites) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.tipson add separator
  <font color=#1b1baa>$m</font>.tipson add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc Units] <font color=#6c3e67>-variable</font> ::alited::al(TIPS,Tree) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.tipson add checkbutton <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favorites)</font> <font color=#6c3e67>-variable</font> ::alited::al(TIPS,TreeFavor) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.tipson add checkbutton <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,marks)</font> <font color=#6c3e67>-variable</font> ::alited::al(TIPS,Marks) <font color=#6c3e67>-command</font> {alited::main::UpdateMarkBar; alited::ini::SaveIni}

  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.weekcal <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> [msgcat::mc {Weeks in Calendar}] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.weekcal
  <font color=#1b1baa>$m</font>.weekcal add radiobutton <font color=#6c3e67>-value</font> 0 <font color=#6c3e67>-label</font> None  <font color=#6c3e67>-variable</font> ::alited::al(klndweeks) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.weekcal add radiobutton <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-label</font> Classic  <font color=#6c3e67>-variable</font> ::alited::al(klndweeks) <font color=#6c3e67>-command</font> alited::ini::SaveIni
  <font color=#1b1baa>$m</font>.weekcal add radiobutton <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-label</font> Sticky  <font color=#6c3e67>-variable</font> ::alited::al(klndweeks) <font color=#6c3e67>-command</font> alited::ini::SaveIni

  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,formatdesc...)</font> <font color=#6c3e67>-command</font> alited::edit::FormatUnitDesc
  <font color=#1b1baa>$m</font> add separator

  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {For Start...}] <font color=#6c3e67>-command</font> alited::tool::AfterStartDlg
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc Configurations...] <font color=#6c3e67>-command</font> alited::menu::Configurations
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,pref...)</font> <font color=#6c3e67>-command</font> alited::pref::_run

  <i><font color=#4b5d50>## ________________________ Help _________________________ ##</font></i>

  <b><font color=#3a6797>set</font></b> m <font color=#1b1baa>$al(WIN)</font>.menu.help
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> Tcl/Tk <font color=#6c3e67>-command</font> alited::tool::Help <font color=#6c3e67>-accelerator</font> F1
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> alited <font color=#6c3e67>-command</font> alited::HelpAlited
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.helps <font color=#6c3e67>-tearoff</font> 1
  <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> [msgcat::mc Context] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.helps
  <b><font color=#3a6797>foreach</font></b> {hlp lab} [HelpFiles] {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$hlp</font> eq {-}} {
      <font color=#1b1baa>$m</font>.helps add separator
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first \\ <font color=#1b1baa>$lab</font>]]&lt;0} {
        <b><font color=#3a6797>set</font></b> lab [msgcat::mc <font color=#1b1baa>$lab</font>]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> lab1 [msgcat::mc [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$lab</font> 0 <font color=#1b1baa>$i</font>-1]]
        <b><font color=#3a6797>set</font></b> lab2 [msgcat::mc [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$lab</font> <font color=#1b1baa>$i</font>+1 end]]
        <b><font color=#3a6797>set</font></b> lab <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>lab1 / <font color=#1b1baa>$</font>lab2&quot;</font>
      }
      <font color=#1b1baa>$m</font>.helps add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$lab</font> <font color=#6c3e67>-command</font> [<b><font color=#3a6797>list</font></b> alited::HelpFile <font color=#1b1baa>$al(WIN)</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> help <font color=#1b1baa>$hlp</font>] <font color=#6c3e67>-head</font> <font color=#1b1baa>$lab</font> <font color=#6c3e67>-weight</font> bold <font color=#6c3e67>-ale1Help</font> yes]
    }
  }
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> Changelog <font color=#6c3e67>-command</font>  [<b><font color=#3a6797>list</font></b> alited::file::OpenFile [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DIR</font> CHANGELOG.md]]
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,updateALE)</font> <font color=#6c3e67>-command</font> {alited::ini::CheckUpdates yes}
  <font color=#1b1baa>$m</font> add separator
  <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc <font color=#8b2a0e>&quot;About...&quot;</font>] <font color=#6c3e67>-command</font> alited::HelpAbout
  alited::file::FillRecent
  RestoreCascadeMenu
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillRunItems'>FillRunItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills Tools/e_menu items, depending on a currently edited file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillRunItems</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the current file name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Maps %f &amp; %D wildcards to the current file &amp; directory names.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_FillRunItems' href="javascript:toggleSource('alited_menu_FillRunItems')">Show source</a></p>
<div id='alited_menu_FillRunItems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FillRunItems {fname} {
  <i><font color=#4b5d50># Fills Tools/e_menu items, depending on a currently edited file.</font></i>
  <i><font color=#4b5d50>#   fname - the current file name</font></i>
  <i><font color=#4b5d50># Maps %f & %D wildcards to the current file & directory names.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num em_mnu em_mnu
  <b><font color=#3a6797>set</font></b> m <font color=#1b1baa>$al(TOOLS)</font>
  <b><font color=#3a6797>set</font></b> maplist [MapRunItems <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> em_N [alited::ini::Em_Number <font color=#1b1baa>$em_Num</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_N</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_ico(<font color=#1b1baa>$i</font>)] && <font color=#1b1baa>$em_mnu($i)</font> ne {}} {
      <b><font color=#3a6797>set</font></b> txt [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$maplist</font> <font color=#1b1baa>$em_mnu($i)</font>]
      <font color=#1b1baa>$m</font>.runs entryconfigure [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}] <font color=#6c3e67>-label</font> <font color=#1b1baa>$txt</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FormatsItemName'>FormatsItemName</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a Formats item's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FormatsItemName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>formatter file's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_FormatsItemName' href="javascript:toggleSource('alited_menu_FormatsItemName')">Show source</a></p>
<div id='alited_menu_FormatsItemName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FormatsItemName {fname} {
  <i><font color=#4b5d50># Gets a Formats item's name.</font></i>
  <i><font color=#4b5d50>#   fname - formatter file's name</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>string</font></b> range [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] 4 end]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::HelpFiles'>HelpFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a list of Help/Context (file names and labels).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_HelpFiles' href="javascript:toggleSource('alited_menu_HelpFiles')">Show source</a></p>
<div id='alited_menu_HelpFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::HelpFiles {} {
  <i><font color=#4b5d50># Gets a list of Help/Context (file names and labels).</font></i>

  <b><font color=#3a6797>list</font></b>  pref-nbk-f1.txt {Preferences\General}  pref-nbk-f2.txt {Preferences\Saving}  pref-nbk-f3.txt {Preferences\Projects}  pref-nbk2-f1.txt {Preferences\Editor}  pref-nbk2-f2.txt {Preferences\Tcl syntax}  pref-nbk2-f3.txt {Preferences\C/C++ syntax}  pref-nbk2-f4.txt {Preferences\Plain text}  pref-nbk3-f1.txt {Preferences\Units}  pref-nbk4-f1.txt {Preferences\Templates}  pref-nbk5-f1.txt {Preferences\Keys}  pref-nbk6-f1.txt {Preferences\Tools}  pref-nbk6-f2.txt {Preferences\e_menu}  pref-nbk6-f3.txt {Preferences\bar-menu}  pref-nbk6-f4.txt {Preferences\Tkcon}  - -  project.txt {Projects\Information}  project2.txt {Projects\Options}  project3.txt {Projects\Templates}  project4.txt {Projects\Commands}  project5.txt {Projects\Files}  - -  unit_tpl.txt {Setup\Templates...}  favor_ls.txt {Setup\Favorites Lists...}  format1.txt {Setup\Moving Unit Descriptions...}  - -  find2.txt {Search\Find by List}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::MacroOptions'>MacroOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets play macro item's options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MacroOptions</span> <span class='ruff_arg'>ca am</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ca</code></code></td><td class='ruff_defitem'>argument of command</td></tr>
<tr><td class='ruff_defitem'><code><code>am</code></code></td><td class='ruff_defitem'>label of macro</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_MacroOptions' href="javascript:toggleSource('alited_menu_MacroOptions')">Show source</a></p>
<div id='alited_menu_MacroOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::MacroOptions {ca am} {
  <i><font color=#4b5d50># Gets play macro item's options.</font></i>
  <i><font color=#4b5d50>#   ca - argument of command</font></i>
  <i><font color=#4b5d50>#   am - label of macro</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$am</font> eq <font color=#1b1baa>$al(activemacro)</font>} {
    <b><font color=#3a6797>set</font></b> fg [<b><font color=#3a6797>lindex</font></b> [alited::FgFgBold] 1]
    <b><font color=#3a6797>set</font></b> opts <font color=#8b2a0e>&quot;-accelerator <font color=#1b1baa>$</font>al(acc_16) -foreground <font color=#1b1baa>$</font>fg&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> opts {}
  }
  <b><font color=#3a6797>list</font></b> <font color=#6c3e67>-label</font> <font color=#1b1baa>$am</font> <font color=#6c3e67>-command</font> [<b><font color=#3a6797>list</font></b> alited::edit::DispatchMacro <font color=#1b1baa>$ca</font>] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::MapRunItems'>MapRunItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a map list to map %f &amp; %D wildcards to the current file &amp; directory names.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MapRunItems</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the current file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_MapRunItems' href="javascript:toggleSource('alited_menu_MapRunItems')">Show source</a></p>
<div id='alited_menu_MapRunItems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::MapRunItems {fname} {
  <i><font color=#4b5d50># Gets a map list to map %f & %D wildcards to the current file & directory names.</font></i>
  <i><font color=#4b5d50>#  fname - the current file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> ftail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>list</font></b> %PD <font color=#1b1baa>$al(prjroot)</font> %D [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] %f <font color=#1b1baa>$fname</font> %F <font color=#1b1baa>$ftail</font> \$::FILETAIL <font color=#1b1baa>$ftail</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::MenuCascade'>MenuCascade</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a cascade submenu, saving its title (for saved/restored submenus).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MenuCascade</span> <span class='ruff_arg'>mnu mnuName mnuTitle ?subTitle?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>parent menu's path</td></tr>
<tr><td class='ruff_defitem'><code><code>mnuName</code></code></td><td class='ruff_defitem'>submenu name</td></tr>
<tr><td class='ruff_defitem'><code><code>mnuTitle</code></code></td><td class='ruff_defitem'>parent's title</td></tr>
<tr><td class='ruff_defitem'><code><code>subTitle</code></code></td><td class='ruff_defitem'>submenu's title; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::menu::SaveCascadeMenuGeo" title="SaveCascadeMenuGeo" class='ruff_cmd'>SaveCascadeMenuGeo</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_MenuCascade' href="javascript:toggleSource('alited_menu_MenuCascade')">Show source</a></p>
<div id='alited_menu_MenuCascade' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::MenuCascade {mnu mnuName mnuTitle {subTitle {}}} {
  <i><font color=#4b5d50># Creates a cascade submenu, saving its title (for saved/restored submenus).</font></i>
  <i><font color=#4b5d50>#   mnu - parent menu's path</font></i>
  <i><font color=#4b5d50>#   mnuName - submenu name</font></i>
  <i><font color=#4b5d50>#   mnuTitle - parent's title</font></i>
  <i><font color=#4b5d50>#   subTitle - submenu's title</font></i>
  <i><font color=#4b5d50># See also: SaveCascadeMenuGeo</font></i>

  <b><font color=#3a6797>set</font></b> mnuPath <font color=#1b1baa>$mnu</font>.<font color=#1b1baa>$mnuName</font>
  <b><font color=#3a6797>set</font></b> mnuTitle [msgcat::mc <font color=#1b1baa>$mnuTitle</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$subTitle</font> eq {}} {
    <b><font color=#3a6797>set</font></b> subTitle <font color=#1b1baa>$mnuTitle</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> subTitle [msgcat::mc <font color=#1b1baa>$subTitle</font>]
  }
  <b><font color=#3a6797>set</font></b> submnu [<b><font color=#134070>menu</font></b> <font color=#1b1baa>$mnuPath</font> <font color=#6c3e67>-tearoff</font> 1 <font color=#6c3e67>-title</font> <font color=#1b1baa>$subTitle</font>]
  <font color=#1b1baa>$mnu</font> add cascade <font color=#6c3e67>-label</font> <font color=#1b1baa>$mnuTitle</font> <font color=#6c3e67>-menu</font> <font color=#1b1baa>$submnu</font>
  <b><font color=#3a6797>set</font></b> ::alited::al(MNUMEM,<font color=#1b1baa>$mnuName</font>) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$submnu</font> <font color=#1b1baa>$subTitle</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$mnuPath</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::Paver'>Paver</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Loads and calls Paver tool.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Paver</span> <span class='ruff_arg'>mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>0 run paver; 1 auto update flag; 2 view code; 3 help</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_Paver' href="javascript:toggleSource('alited_menu_Paver')">Show source</a></p>
<div id='alited_menu_Paver' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::Paver {mode} {
  <i><font color=#4b5d50># Loads and calls Paver tool.</font></i>
  <i><font color=#4b5d50>#   mode - 0 run paver; 1 auto update flag; 2 view code; 3 help</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::paver]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::SRCDIR</font> paver.tcl]
    }
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$mode</font> {
    0 ::alited::paver::_run
    1 ::alited::paver::AutoUpdate
    2 ::alited::paver::Viewer
    3 ::alited::paver::Help
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::RestoreCascadeMenu'>RestoreCascadeMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores cascade menus at starting alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreCascadeMenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_RestoreCascadeMenu' href="javascript:toggleSource('alited_menu_RestoreCascadeMenu')">Show source</a></p>
<div id='alited_menu_RestoreCascadeMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::RestoreCascadeMenu {} {
  <i><font color=#4b5d50># Restores cascade menus at starting alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>foreach</font></b> mn [<b><font color=#3a6797>array</font></b> names al <font color=#6c3e67>-glob</font> MNUGEO,*] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al($mn)</font> mnu mnugeo
    <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$mnu</font>]} {
      <b><font color=#3a6797>incr</font></b> itearoff
      <b><font color=#3a6797>set</font></b> mtearoff <font color=#1b1baa>$al(WIN)</font>.tearoff<font color=#1b1baa>$itearoff</font>
      <b><font color=#3a6797>after</font></b> 1000 [<b><font color=#3a6797>list</font></b> alited::menu::TearoffCascadeMenu <font color=#1b1baa>$mnu</font> <font color=#1b1baa>$mtearoff</font> <font color=#1b1baa>$mnugeo</font>]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::SaveCascadeMenuGeo'>SaveCascadeMenuGeo</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves the geometry of tear-off menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCascadeMenuGeo</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::menu::MenuCascade" title="MenuCascade" class='ruff_cmd'>MenuCascade</a>, <a href="alited.html#::alited::menu::RestoreCascadeMenu" title="RestoreCascadeMenu" class='ruff_cmd'>RestoreCascadeMenu</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_SaveCascadeMenuGeo' href="javascript:toggleSource('alited_menu_SaveCascadeMenuGeo')">Show source</a></p>
<div id='alited_menu_SaveCascadeMenuGeo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::SaveCascadeMenuGeo {} {
  <i><font color=#4b5d50># Saves the geometry of tear-off menus.</font></i>
  <i><font color=#4b5d50># See also: MenuCascade, RestoreCascadeMenu</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <i><font color=#4b5d50># clear all geometry data of menus</font></i>
  <b><font color=#3a6797>foreach</font></b> n [<b><font color=#3a6797>array</font></b> names al <font color=#6c3e67>-glob</font> MNUGEO,*] {<b><font color=#3a6797>unset</font></b> al(<font color=#1b1baa>$n</font>)}
  <i><font color=#4b5d50># set the currently existing tearoff menus' geometry data</font></i>
  <b><font color=#3a6797>foreach</font></b> w [<b><font color=#134070>winfo</font></b> children <font color=#1b1baa>$al(WIN)</font>] {
    <i><font color=#4b5d50># only tearoff menus counted:</font></i>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {\.tearoff\d+$} <font color=#1b1baa>$w</font>]} {
      <b><font color=#3a6797>set</font></b> mtitle [<b><font color=#134070>wm</font></b> title <font color=#1b1baa>$w</font>]
      <i><font color=#4b5d50># find the tearoff menu among those registered by MenuCascade</font></i>
      <b><font color=#3a6797>foreach</font></b> mMem [<b><font color=#3a6797>array</font></b> names al <font color=#6c3e67>-glob</font> MNUMEM,*] {
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$al($mMem)</font> mnuPath mnuTitle
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mtitle</font> eq <font color=#1b1baa>$mnuTitle</font>} {
          <b><font color=#3a6797>set</font></b> mgeo MNUGEO,<font color=#1b1baa>$mnuPath</font>
          <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$mgeo</font>) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$mnuPath</font> [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$w</font>]]
          <b><font color=#ca14ca>break</font></b>
        }
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::SetTint'>SetTint</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a tint of a current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTint</span> <span class='ruff_arg'>tint</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tint</code></code></td><td class='ruff_defitem'>value of the tint</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_SetTint' href="javascript:toggleSource('alited_menu_SetTint')">Show source</a></p>
<div id='alited_menu_SetTint' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::SetTint {tint} {
  <i><font color=#4b5d50># Sets a tint of a current color scheme.</font></i>
  <i><font color=#4b5d50>#   tint - value of the tint</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <font color=#1b1baa>$obPav</font> csToned <font color=#1b1baa>$al(INI,CS)</font> <font color=#1b1baa>$tint</font> yes
  alited::main::UpdateMarkBar
  alited::file::MakeThemHighlighted
  alited::main::ShowText
  alited::bar::BAR update
  CheckTint
  alited::ini::initStyles
  <i><font color=#4b5d50># the infobar listbox needs colorizing by force</font></i>
  <b><font color=#3a6797>set</font></b> fg [<b><font color=#134070>ttk::style</font></b> configure TLabel <font color=#6c3e67>-foreground</font>]
  <b><font color=#3a6797>set</font></b> bg [<b><font color=#134070>ttk::style</font></b> configure TLabel <font color=#6c3e67>-background</font>]
  <b><font color=#3a6797>set</font></b> bs [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$obPav</font> csGet] 5]
  [<font color=#1b1baa>$obPav</font> LbxInfo] configure <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$bg</font> <font color=#6c3e67>-selectbackground</font> <font color=#1b1baa>$bs</font>
  <i><font color=#4b5d50># Find/Replace dialogue may be open at start (and presently) - update it too</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$::alited::find::win</font>]} {
    alited::find::CloseFind
    alited::find::_run
  }
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>after</font></b> 500 <font color=#8b2a0e>&quot;alited::bar::OnTabSelection <font color=#1b1baa>$</font>TID&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::TearoffCascadeMenu'>TearoffCascadeMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tear off a cascade menus at starting alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TearoffCascadeMenu</span> <span class='ruff_arg'>mnu mtearoff mnugeo</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>menu's path</td></tr>
<tr><td class='ruff_defitem'><code><code>mtearoff</code></code></td><td class='ruff_defitem'>tearoff menu's path</td></tr>
<tr><td class='ruff_defitem'><code><code>mnugeo</code></code></td><td class='ruff_defitem'>geometry of menu</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_TearoffCascadeMenu' href="javascript:toggleSource('alited_menu_TearoffCascadeMenu')">Show source</a></p>
<div id='alited_menu_TearoffCascadeMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::TearoffCascadeMenu {mnu mtearoff mnugeo} {
  <i><font color=#4b5d50># Tear off a cascade menus at starting alited.</font></i>
  <i><font color=#4b5d50>#   mnu - menu's path</font></i>
  <i><font color=#4b5d50>#   mtearoff - tearoff menu's path</font></i>
  <i><font color=#4b5d50>#   mnugeo - geometry of menu</font></i>

  <font color=#1b1baa>$mnu</font> invoke 0
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$mtearoff</font> <font color=#1b1baa>$mnugeo</font>
    <b><font color=#3a6797>if</font></b> {[::isunix]} {<b><font color=#134070>wm</font></b> iconphoto <font color=#1b1baa>$mtearoff</font> <font color=#6c3e67>-default</font> alimg_none}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::TintRange'>TintRange</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the range for tints, counting the current one as the middle point.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TintRange</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_menu_TintRange' href="javascript:toggleSource('alited_menu_TintRange')">Show source</a></p>
<div id='alited_menu_TintRange' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::TintRange {} {
  <i><font color=#4b5d50># Gets the range for tints, counting the current one as the middle point.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> inctint
  <b><font color=#3a6797>set</font></b> MT 50
  <b><font color=#3a6797>set</font></b> mt 30
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$MT</font>} {<font color=#1b1baa>$i</font>&gt;=-<font color=#1b1baa>$MT</font>} {<b><font color=#3a6797>incr</font></b> i -<font color=#1b1baa>$inctint</font>} {
    <b><font color=#3a6797>set</font></b> tint(<font color=#1b1baa>$i</font>) [::apave::IsRoundInt <font color=#1b1baa>$::apave::_CS_(HUE)</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>if</font></b> {[::apave::IsRoundInt <font color=#1b1baa>$al(INI,HUE)</font> <font color=#1b1baa>$i</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&gt;0} {
        <b><font color=#3a6797>set</font></b> max [<b><font color=#3a6797>expr</font></b> {min(<font color=#1b1baa>$i</font>+<font color=#1b1baa>$mt</font>,<font color=#1b1baa>$MT</font>)}]
        <b><font color=#3a6797>set</font></b> min [<b><font color=#3a6797>expr</font></b> {max(min(<font color=#1b1baa>$max</font>-2*<font color=#1b1baa>$mt</font>,0),-<font color=#1b1baa>$MT</font>)}]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> min [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$i</font>-<font color=#1b1baa>$mt</font>,-<font color=#1b1baa>$MT</font>)}]
        <b><font color=#3a6797>set</font></b> max [<b><font color=#3a6797>expr</font></b> {min(max(<font color=#1b1baa>$min</font>+2*<font color=#1b1baa>$mt</font>,0),<font color=#1b1baa>$MT</font>)}]
      }
      <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$max</font> <font color=#1b1baa>$min</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$mt</font> -<font color=#1b1baa>$mt</font>]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::paver'></a>::alited::paver<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::paver-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::paver::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and shows the paver's window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> <span class='ruff_arg'>?inplist?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inplist</code></code></td><td class='ruff_defitem'>widget list to handle; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver__create' href="javascript:toggleSource('alited_paver__create')">Show source</a></p>
<div id='alited_paver__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::_create {{inplist {}}} {
  <i><font color=#4b5d50># Creates and shows the paver's window.</font></i>
  <i><font color=#4b5d50>#   inplist - widget list to handle</font></i>

  <b><font color=#3a6797>variable</font></b> pobj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> paverttl
  <b><font color=#3a6797>variable</font></b> geometry
  <b><font color=#3a6797>variable</font></b> widgetlist
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inplist</font> ne {}} {
    <b><font color=#3a6797>set</font></b> widgetlist [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> widitem <font color=#1b1baa>$inplist</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$widitem</font> wid nei pos rspan cspan gridpack attrs
      <b><font color=#3a6797>lassign</font></b> [CheckCommentedOptions <font color=#1b1baa>$gridpack</font> <font color=#1b1baa>$attrs</font>] gridpack attrs
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$wid</font> 0] ne {#}} {
        <b><font color=#3a6797>lappend</font></b> widgetlist [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wid</font> <font color=#1b1baa>$nei</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$rspan</font> <font color=#1b1baa>$cspan</font> <font color=#1b1baa>$gridpack</font> <font color=#1b1baa>$attrs</font>]
      }
    }
  }
  Destroy
  ::apave::APave create <font color=#1b1baa>$pobj</font> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$pobj</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$paverttl</font>
  <font color=#1b1baa>$pobj</font> paveWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$widgetlist</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geometry</font> ne {}} {<b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>$</font>geometry&quot;</font>} {<b><font color=#3a6797>set</font></b> geo {}}
  <b><font color=#3a6797>after</font></b> 300 {::alited::paver::AutoUpdate 2}
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$pobj</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> 1 <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {50 50}  <font color=#6c3e67>-escape</font> 1 <font color=#6c3e67>-onclose</font> ::alited::paver::Close {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]
  Destroy
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs the paver.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver__run' href="javascript:toggleSource('alited_paver__run')">Show source</a></p>
<div id='alited_paver__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::_run {} {
  <i><font color=#4b5d50># Runs the paver.</font></i>

  <b><font color=#3a6797>variable</font></b> widgetlist
  <b><font color=#3a6797>variable</font></b> viewpos
  WidgetList
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$widgetlist</font> eq {}} {
    MessageNotList
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> viewpos 1.0
    _create
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::AutoUpdate'>AutoUpdate</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Auto-updates the paver.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AutoUpdate</span> <span class='ruff_arg'>?dorun?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dorun</code></code></td><td class='ruff_defitem'>if 1, runs the paver; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_AutoUpdate' href="javascript:toggleSource('alited_paver_AutoUpdate')">Show source</a></p>
<div id='alited_paver_AutoUpdate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::AutoUpdate {{dorun 0}} {
  <i><font color=#4b5d50># Auto-updates the paver.</font></i>
  <i><font color=#4b5d50>#   dorun - if 1, runs the paver</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> pobj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> paverTID
  <b><font color=#3a6797>variable</font></b> modtime
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(paverauto)</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$dorun</font> && [<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
    ::apave::deiconify <font color=#1b1baa>$::alited::paver::win</font>
    <b><font color=#3a6797>after</font></b> idle alited::paver::_run
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq <font color=#1b1baa>$paverTID</font> && [<b><font color=#3a6797>set</font></b> dt [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname</font>]] ne <font color=#1b1baa>$modtime</font>} {
      <b><font color=#3a6797>set</font></b> modtime <font color=#1b1baa>$dt</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dorun</font>==1} {<b><font color=#3a6797>after</font></b> idle alited::paver::_run}
      <b><font color=#3a6797>after</font></b> 500 {<b><font color=#3a6797>after</font></b> idle alited::main::FocusText}
    }
  }
  <b><font color=#3a6797>after</font></b> 300 {::alited::paver::AutoUpdate 1}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::CheckCommentedOptions'>CheckCommentedOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for commented options of gridpack &amp; attrs of widget list item</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckCommentedOptions</span> <span class='ruff_arg'>gridpack attrs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>gridpack</code></code></td><td class='ruff_defitem'>grid/pack item of widget list item</td></tr>
<tr><td class='ruff_defitem'><code><code>attrs</code></code></td><td class='ruff_defitem'>attrs item of widget list item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_CheckCommentedOptions' href="javascript:toggleSource('alited_paver_CheckCommentedOptions')">Show source</a></p>
<div id='alited_paver_CheckCommentedOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::CheckCommentedOptions {gridpack attrs} {
  <i><font color=#4b5d50># Checks for commented options of gridpack & attrs of widget list item</font></i>
  <i><font color=#4b5d50>#   gridpack - grid/pack item of widget list item</font></i>
  <i><font color=#4b5d50>#   attrs - attrs item of widget list item</font></i>

  <b><font color=#3a6797>foreach</font></b> vl {gridpack attrs} {
    <i><font color=#4b5d50># gridpack & attrs lists: check both for items commented, e.g. #-side left...</font></i>
    <i><font color=#4b5d50># (not implemented in APave for the sake of performance)</font></i>
    <b><font color=#3a6797>set</font></b> lst [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$vl</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$lst</font> #*]]&gt;-1} {
      <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$vl</font> [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$lst</font> <font color=#1b1baa>$i</font> end]
    }
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$gridpack</font> <font color=#1b1baa>$attrs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::Close'>Close</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes paver's window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Close</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_Close' href="javascript:toggleSource('alited_paver_Close')">Show source</a></p>
<div id='alited_paver_Close' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::Close {args} {
  <i><font color=#4b5d50># Closes paver's window.</font></i>

  <b><font color=#3a6797>variable</font></b> pobj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> geometry
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
    <b><font color=#3a6797>set</font></b> geo [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$geo</font> [<b><font color=#3a6797>string</font></b> first + <font color=#1b1baa>$geo</font>] end]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geo</font> ne {+0+0}} {<b><font color=#3a6797>set</font></b> geometry <font color=#1b1baa>$geo</font>}
  }
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$pobj</font> res <font color=#1b1baa>$win</font> 0}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::Destroy'>Destroy</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys paver's window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Destroy</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_Destroy' href="javascript:toggleSource('alited_paver_Destroy')">Show source</a></p>
<div id='alited_paver_Destroy' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::Destroy {args} {
  <i><font color=#4b5d50># Destroys paver's window.</font></i>

  <b><font color=#3a6797>variable</font></b> pobj
  <b><font color=#3a6797>variable</font></b> win
  Close
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$pobj</font> destroy}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::ExitViewer'>ExitViewer</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes the viewer.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExitViewer</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_ExitViewer' href="javascript:toggleSource('alited_paver_ExitViewer')">Show source</a></p>
<div id='alited_paver_ExitViewer' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::ExitViewer {args} {
  <i><font color=#4b5d50># Closes the viewer.</font></i>

  HandleViewer 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::HandleViewer'>HandleViewer</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles viewer's save/close actions.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HandleViewer</span> <span class='ruff_arg'>?act? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>act</code></code></td><td class='ruff_defitem'>if 1, saves a code and updates the paver's window; if 0 closes the viewer; <i>optional, default</i> <code>1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_HandleViewer' href="javascript:toggleSource('alited_paver_HandleViewer')">Show source</a></p>
<div id='alited_paver_HandleViewer' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::HandleViewer {{act 1} args} {
  <i><font color=#4b5d50># Handles viewer's save/close actions.</font></i>
  <i><font color=#4b5d50>#   act - if 1, saves a code and updates the paver's window; if 0 closes the viewer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win2
  <b><font color=#3a6797>variable</font></b> viewpos
  <b><font color=#3a6797>variable</font></b> code
  <b><font color=#3a6797>variable</font></b> viewgeo
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> viewgeo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win2</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$act</font>} {
      <b><font color=#3a6797>set</font></b> tex [<font color=#1b1baa>$obDl2</font> TexM]
      <b><font color=#3a6797>set</font></b> code [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$tex</font> get 1.0 end]]\n
      <b><font color=#3a6797>set</font></b> viewpos [<font color=#1b1baa>$tex</font> index insert]
      <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> alited::paver::_create <font color=#1b1baa>$code</font>]
      <b><font color=#3a6797>after</font></b> idle after 100 <font color=#8b2a0e>&quot;focusByForce <font color=#1b1baa>$</font>tex&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win2</font> 0
      <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win2</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting Help button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_Help' href="javascript:toggleSource('alited_paver_Help')">Show source</a></p>
<div id='alited_paver_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::Help {args} {
  <i><font color=#4b5d50># Handles hitting Help button.</font></i>

  alited::HelpAlited #paver
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::MessageNotList'>MessageNotList</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Show a message about absent widget list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MessageNotList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_MessageNotList' href="javascript:toggleSource('alited_paver_MessageNotList')">Show source</a></p>
<div id='alited_paver_MessageNotList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::MessageNotList {} {
  <i><font color=#4b5d50># Show a message about absent widget list.</font></i>

  <b><font color=#3a6797>set</font></b> msg {For paveWindow's widget list to be recognized, set the cursor inside it.}
  alited::Message [msgcat::mc <font color=#1b1baa>$msg</font>] 4
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::RemoveVarOptions'>RemoveVarOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes some options with variable values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemoveVarOptions</span> <span class='ruff_arg'>attrs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>attrs</code></code></td><td class='ruff_defitem'>list of options/value pairs</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_RemoveVarOptions' href="javascript:toggleSource('alited_paver_RemoveVarOptions')">Show source</a></p>
<div id='alited_paver_RemoveVarOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::RemoveVarOptions {attrs} {
  <i><font color=#4b5d50># Removes some options with variable values.</font></i>
  <i><font color=#4b5d50>#   attrs - list of options/value pairs</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$attrs</font>]%2} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$attrs</font>}
  <b><font color=#3a6797>set</font></b> wasvar 0
  <b><font color=#3a6797>set</font></b> attrsorig <font color=#1b1baa>$attrs</font>
  <b><font color=#3a6797>foreach</font></b> opt {<font color=#6c3e67>-w</font> <font color=#6c3e67>-h</font> <font color=#6c3e67>-width</font> <font color=#6c3e67>-height</font>} {
    <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions attrs <font color=#1b1baa>$opt</font> {}] val
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val</font> ne {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is integer <font color=#6c3e67>-strict</font> <font color=#1b1baa>$val</font>]} {
        <b><font color=#3a6797>lappend</font></b> attrs <font color=#1b1baa>$opt</font> <font color=#1b1baa>$val</font>
      }
      <b><font color=#3a6797>set</font></b> wasvar 1
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$wasvar</font>} {
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$attrsorig</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$attrs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::Viewer'>Viewer</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the widget list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Viewer</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_Viewer' href="javascript:toggleSource('alited_paver_Viewer')">Show source</a></p>
<div id='alited_paver_Viewer' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::Viewer {} {
  <i><font color=#4b5d50># Shows the widget list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> paverttl
  <b><font color=#3a6797>variable</font></b> code
  <b><font color=#3a6797>variable</font></b> geometry
  <b><font color=#3a6797>variable</font></b> viewgeo
  <b><font color=#3a6797>variable</font></b> viewpos
  <b><font color=#3a6797>variable</font></b> win2
  WidgetList
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$code</font> eq {}} {
    MessageNotList
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win2</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$viewgeo</font> ne {}} {
    <b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>$</font>viewgeo&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> geo <font color=#6c3e67>-geometry</font>\ +[<b><font color=#134070>winfo</font></b> vrootx <font color=#1b1baa>$al(WIN)</font>]+[<b><font color=#134070>winfo</font></b> vrooty <font color=#1b1baa>$al(WIN)</font>]
  }
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;catch <font color=#1b1baa>{</font>  set txt \[<font color=#1b1baa>$</font>obDl2 TexM\] ;  ::hl_tcl::hl_init \$txt -dark <font color=#1b1baa>[$</font>obDl2 csDark<font color=#1b1baa>]</font> -colors <font color=#1b1baa>{[</font>alited::SyntaxColors<font color=#1b1baa>]}</font>  -cmdpos ::apave::None -font <font color=#1b1baa>{$</font>al(FONT,txt)<font color=#1b1baa>}</font> ;  ::hl_tcl::hl_text \$txt<font color=#1b1baa>}</font>&quot;</font>
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;set ::alited::paver::win2 \[<font color=#1b1baa>$</font>obDl2 dlgPath\]&quot;</font>
  <font color=#1b1baa>$obDl2</font> misc info <font color=#1b1baa>$paverttl</font> <font color=#1b1baa>$code</font>  {OK ::alited::paver::HandleViewer Close ::alited::paver::ExitViewer} TEXT  <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> 1 <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-savetext</font> 0 <font color=#6c3e67>-ro</font> 0 <font color=#6c3e67>-rotext</font> ::alited::paver::code  <font color=#6c3e67>-minsize</font> {300 200} <font color=#6c3e67>-w</font> {40 80} <font color=#6c3e67>-h</font> {5 20} <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-pos</font> <font color=#1b1baa>$viewpos</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
   <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win2</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::paver::WidgetList'>WidgetList</a><span class='ns_scope'> [<a href="alited.html#::alited::paver" title="::alited::paver" class='ruff_cmd'>::alited::paver</a>]</span><span class='tinylink'><a href='alited.html#::alited::paver'>paver</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds and gets a paveWindow's widget list from a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WidgetList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_paver_WidgetList' href="javascript:toggleSource('alited_paver_WidgetList')">Show source</a></p>
<div id='alited_paver_WidgetList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::paver::WidgetList {} {
  <i><font color=#4b5d50># Finds and gets a paveWindow's widget list from a current text.</font></i>

  <b><font color=#3a6797>variable</font></b> widgetlist
  <b><font color=#3a6797>variable</font></b> paverttl
  <b><font color=#3a6797>variable</font></b> paverTID
  <b><font color=#3a6797>variable</font></b> code
  <b><font color=#3a6797>set</font></b> code {}
  <i><font color=#4b5d50># 1st attempt: search the widget list in a current unit (by default)</font></i>
  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine {} 1] - - leaf - paverttl l1 l2
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> lcur [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
  <b><font color=#3a6797>set</font></b> lend [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index end])}]
  <i><font color=#4b5d50># 2nd attempt: search the widget list edged by &quot;# paver&quot; comments (by force)</font></i>
  <b><font color=#3a6797>set</font></b> RE {^\s*#\s*paver}
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$lcur</font>} {<font color=#1b1baa>$l</font>&gt;0} {<b><font color=#3a6797>incr</font></b> l -1} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$RE</font> <font color=#1b1baa>$line</font>] || [<b><font color=#3a6797>string</font></b> match {<b><font color=#3a6797>*</font></b> paveWindow *} <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>incr</font></b> l -1]
      <b><font color=#3a6797>set</font></b> l2 <font color=#1b1baa>$lend</font>
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$lcur</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$lend</font>} {} {
    <b><font color=#3a6797>incr</font></b> l
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$RE</font> <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>set</font></b> l2 <font color=#1b1baa>$l</font>
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l1</font>&gt;=<font color=#1b1baa>$l2</font>} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> paverTID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> widgetlist [<b><font color=#3a6797>set</font></b> com {}]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l [<b><font color=#3a6797>incr</font></b> l1]} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$line</font> <font color=#8b2a0e>&quot; \\&quot;</font>]
    <i><font color=#4b5d50># search by completeness of a command the cursor is in</font></i>
    <b><font color=#3a6797>append</font></b> com <font color=#1b1baa>$line</font> \n
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> complete <font color=#1b1baa>$com</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l</font>&gt;=<font color=#1b1baa>$lcur</font>} {
        <b><font color=#3a6797>set</font></b> widgetlist <font color=#1b1baa>$com</font>
        <b><font color=#ca14ca>break</font></b>
      }
      <b><font color=#3a6797>set</font></b> com {}
    }
  }
  <b><font color=#3a6797>set</font></b> widgetlist [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$widgetlist</font>]
  <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>string</font></b> first \{ <font color=#1b1baa>$widgetlist</font>]
  <b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>string</font></b> first \[<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$widgetlist</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i1</font>&gt;-1 && <font color=#1b1baa>$i2</font>&gt;-1 && <font color=#1b1baa>$i1</font>&lt;<font color=#1b1baa>$i2</font> || <font color=#1b1baa>$i2</font>&lt;0} {
    <b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$i1</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;0} {<b><font color=#3a6797>set</font></b> i 9999999}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$i2</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;0} {<b><font color=#3a6797>set</font></b> i 9999999} {<b><font color=#3a6797>incr</font></b> i 5}
  }
  <b><font color=#3a6797>set</font></b> widgetlist [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$widgetlist</font> [<b><font color=#3a6797>incr</font></b> i] end-1]]
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> wlist [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> widitem <font color=#1b1baa>$widgetlist</font> {
<i><font color=#ff0000>#!      catch #\{set widitem [subst -nobackslashes -nocommands $widitem]#\}</font></i>
      <b><font color=#3a6797>lappend</font></b> wlist <font color=#1b1baa>$widitem</font>
    }
    <b><font color=#3a6797>set</font></b> widgetlist <font color=#1b1baa>$wlist</font>
  }
  <b><font color=#3a6797>set</font></b> widgetlist [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;\[list &quot;</font> <font color=#8b2a0e>&quot;\{&quot;</font> <font color=#8b2a0e>&quot;\]&quot;</font> <font color=#8b2a0e>&quot;\}&quot;</font> <font color=#8b2a0e>&quot;\[&quot;</font> <font color=#8b2a0e>&quot;\{&quot;</font> <font color=#8b2a0e>&quot;\$&quot;</font> <font color=#8b2a0e>&quot;&quot;</font>] <font color=#1b1baa>$widgetlist</font>]
  <b><font color=#3a6797>set</font></b> wlist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> widitem <font color=#1b1baa>$widgetlist</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$widitem</font> wid nei pos rspan cspan gridpack attrs
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$wid</font> {
      {#*} - {<b><font color=#3a6797>after</font></b>} - {} <b><font color=#ca14ca>continue</font></b>
    }
    <b><font color=#3a6797>lassign</font></b> [CheckCommentedOptions <font color=#1b1baa>$gridpack</font> <font color=#1b1baa>$attrs</font>] gridpack attrs
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$gridpack</font> 0] eq {<b><font color=#134070>pack</font></b>}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$gridpack</font> 1] eq {forget}} {<b><font color=#3a6797>set</font></b> i 2} {<b><font color=#3a6797>set</font></b> i 1}
      <b><font color=#3a6797>set</font></b> opts [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$gridpack</font> <font color=#1b1baa>$i</font> end]
      <b><font color=#3a6797>foreach</font></b> opt {<font color=#6c3e67>-in</font>} {
        <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions opts <font color=#1b1baa>$opt</font> {}] val
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val</font> ne {} && [<b><font color=#3a6797>string</font></b> first . <font color=#1b1baa>$val</font>]==0} {
          <b><font color=#3a6797>lappend</font></b> opts <font color=#1b1baa>$opt</font> <font color=#1b1baa>$val</font>
        }
      }
      <b><font color=#3a6797>set</font></b> gridpack [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$gridpack</font> 0 <font color=#1b1baa>$i</font>-1]
      <b><font color=#3a6797>lappend</font></b> gridpack {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>
    }
    <b><font color=#3a6797>foreach</font></b> opt {<font color=#6c3e67>-validate</font> <font color=#6c3e67>-validatecommand</font> <font color=#6c3e67>-foreground</font> <font color=#6c3e67>-background</font> <font color=#6c3e67>-fg</font> <font color=#6c3e67>-bg</font>  <font color=#6c3e67>-from</font> <font color=#6c3e67>-to</font> <font color=#6c3e67>-variable</font> <font color=#6c3e67>-textvariable</font> <font color=#6c3e67>-listvariable</font> <font color=#6c3e67>-command</font> <font color=#6c3e67>-var</font> <font color=#6c3e67>-tvar</font> <font color=#6c3e67>-lvar</font>  <font color=#6c3e67>-com</font> <font color=#6c3e67>-array</font> <font color=#6c3e67>-afteridle</font> <font color=#6c3e67>-ALL</font> <font color=#6c3e67>-dateformat</font>} {
      ::apave::extractOptions attrs <font color=#1b1baa>$opt</font> {}
    }
    <b><font color=#3a6797>set</font></b> font [::apave::extractOptions attrs <font color=#6c3e67>-font</font> {}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$font</font> ne <font color=#8b2a0e>&quot;<font color=#1b1baa>{}</font>&quot;</font> && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#134070>font</font></b> actual <font color=#1b1baa>$font</font>}]} {
      <b><font color=#3a6797>append</font></b> attrs <font color=#8b2a0e>&quot; -font <font color=#1b1baa>$</font>font&quot;</font>
    }
    <b><font color=#3a6797>set</font></b> style [::apave::extractOptions attrs <font color=#6c3e67>-style</font> {}]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> _ [<b><font color=#134070>ttk::style</font></b> configure <font color=#1b1baa>$style</font>]}] && <font color=#1b1baa>$_</font> ne {}} {
      <b><font color=#3a6797>append</font></b> attrs <font color=#8b2a0e>&quot; -style <font color=#1b1baa>$</font>style&quot;</font>
    }
    <b><font color=#3a6797>set</font></b> attrs [RemoveVarOptions <font color=#1b1baa>$attrs</font>]
    <b><font color=#3a6797>set</font></b> attrs2 [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> {opt val} <font color=#1b1baa>$attrs</font> {
      <b><font color=#3a6797>set</font></b> val [RemoveVarOptions <font color=#1b1baa>$val</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$val</font>]%2} {
        <b><font color=#3a6797>lappend</font></b> attrs2 <font color=#1b1baa>$opt</font> <font color=#1b1baa>$val</font>
        <b><font color=#ca14ca>continue</font></b>
      }
      <b><font color=#3a6797>set</font></b> val2 [<b><font color=#3a6797>list</font></b>]
      <b><font color=#3a6797>foreach</font></b> {o v} <font color=#1b1baa>$val</font> {
        <b><font color=#3a6797>set</font></b> v [RemoveVarOptions <font color=#1b1baa>$v</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$v</font> eq {}} <b><font color=#ca14ca>continue</font></b>
        <b><font color=#3a6797>lappend</font></b> val2 <font color=#1b1baa>$o</font> <font color=#1b1baa>$v</font>
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val2</font> eq {}} <b><font color=#ca14ca>continue</font></b>
      <b><font color=#3a6797>lappend</font></b> attrs2 <font color=#1b1baa>$opt</font> <font color=#1b1baa>$val2</font>
    }
    <b><font color=#3a6797>set</font></b> attrs <font color=#1b1baa>$attrs2</font>
    <b><font color=#3a6797>set</font></b> widitem [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wid</font> <font color=#1b1baa>$nei</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$rspan</font> <font color=#1b1baa>$cspan</font> <font color=#1b1baa>$gridpack</font> <font color=#1b1baa>$attrs</font>]
    <b><font color=#3a6797>lappend</font></b> wlist <font color=#1b1baa>$widitem</font>
    <b><font color=#3a6797>append</font></b> code [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$widitem</font>] \n
  }
  <b><font color=#3a6797>set</font></b> widgetlist <font color=#1b1baa>$wlist</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::pref'></a>::alited::pref<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::pref-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::pref::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>previous open tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref__create' href="javascript:toggleSource('alited_pref__create')">Show source</a></p>
<div id='alited_pref__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::_create {tab} {
  <i><font color=#4b5d50># Creates &quot;Preferences&quot; dialogue.</font></i>
  <i><font color=#4b5d50>#   tab - previous open tab</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> tipson [baltip::cget <font color=#6c3e67>-on</font>]
  <b><font color=#3a6797>set</font></b> preview 0
  baltip::configure <font color=#6c3e67>-on</font> <font color=#1b1baa>$al(TIPS,Preferences)</font>
  ::apave::APave create <font color=#1b1baa>$obPrf</font> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$obPrf</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,pref) :: <font color=#1b1baa>$</font>::alited::USERDIR&quot;</font>
  <font color=#1b1baa>$obPrf</font> paveWindow  <font color=#1b1baa>$win</font>.fra [MainFrame]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f1 [General_Tab1]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f2 [General_Tab2]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f3 [General_Tab3]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f1 [Edit_Tab1]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f2 [Edit_Tab2]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f3 [Edit_Tab3]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f4 [Edit_Tab4]  <font color=#1b1baa>$win</font>.fra.fraR.nbk3.f1 [Units_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk4.f1 [Template_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk5.f1 [Keys_Tab1]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f1 [Common_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f2 [Emenu_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f3 [Runs_Tab <font color=#1b1baa>$tab</font>]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f4 [Tkcon_Tab]
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obPrf</font> TexNotes]
  <b><font color=#3a6797>set</font></b> fnotes [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> notes.txt]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fnotes</font>]} {
    <font color=#1b1baa>$wtxt</font> insert end [readTextFile <font color=#1b1baa>$fnotes</font>]
  }
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::ini::HighlightFileText <font color=#1b1baa>$</font>wtxt .md 0&quot;</font>
  <font color=#1b1baa>$wtxt</font> edit reset; <font color=#1b1baa>$wtxt</font> edit modified no
  [<font color=#1b1baa>$obPrf</font> TexTclKeys] insert end <font color=#1b1baa>$al(ED,TclKeyWords)</font>
  [<font color=#1b1baa>$obPrf</font> TexCKeys] insert end <font color=#1b1baa>$al(ED,CKeyWords)</font>
  <b><font color=#3a6797>set</font></b> 1st <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>win.fra.fraR.nbk select <font color=#1b1baa>$</font>arrayTab(nbk)&quot;</font> ;<i><font color=#4b5d50># to restore 1st nbk's tab</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> ne {}} {
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tab</font> {
      Emenu_Tab {
        <b><font color=#3a6797>set</font></b> nbk nbk6
        <b><font color=#3a6797>set</font></b> nt <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f3
        <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>1st ; ::alited::pref::Tab <font color=#1b1baa>$</font>nbk <font color=#1b1baa>$</font>nt yes&quot;</font>
      }
    }
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$oldTab</font> ne {}} {
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>1st ; ::alited::pref::Tab <font color=#1b1baa>$</font>oldTab <font color=#1b1baa>{}</font> yes&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;::alited::pref::Tab nbk&quot;</font> ;<i><font color=#4b5d50># first entering</font></i>
  }
  <b><font color=#3a6797>foreach</font></b> o {o O} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;Control-<font color=#1b1baa>$o</font>&gt; alited::ini::EditSettings}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obPrf ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obPrf</font> LabMess] &lt;Button-1&gt; alited::pref::ProcMessage
  <font color=#1b1baa>$obPrf</font> untouchWidgets *.texSample *.texCSample
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geo</font> in [<b><font color=#3a6797>list</font></b> {} <font color=#8b2a0e>&quot;<font color=#1b1baa>{}</font>&quot;</font>]} {<b><font color=#3a6797>set</font></b> geo root=<font color=#1b1baa>$al(WIN)</font>}
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obPrf</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo</font> <font color=#6c3e67>-minsize</font> {800 600} <font color=#6c3e67>-resizable</font> 1  <font color=#6c3e67>-onclose</font> ::alited::pref::Cancel]
  <b><font color=#3a6797>set</font></b> fcont [<font color=#1b1baa>$wtxt</font> get 1.0 {end -1c}]
  writeTextFile <font color=#1b1baa>$fnotes</font> fcont
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>] &lt; 2} {<b><font color=#3a6797>set</font></b> res <font color=#8b2a0e>&quot;&quot;</font>}
  <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>] ;<i><font color=#4b5d50># save the new geometry of the dialogue</font></i>
  <b><font color=#3a6797>set</font></b> oldTab <font color=#1b1baa>$curTab</font>
  <b><font color=#3a6797>set</font></b> arrayTab(<font color=#1b1baa>$curTab</font>) [<font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select]
  CheckTheming no
  baltip::configure {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tipson</font>
  <b><font color=#3a6797>foreach</font></b> arr {data keys prevkeys savekeys} {<b><font color=#3a6797>array</font></b> unset <font color=#1b1baa>$arr</font> *}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <font color=#1b1baa>$obPrf</font> destroy
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref__init' href="javascript:toggleSource('alited_pref__init')">Show source</a></p>
<div id='alited_pref__init' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::_init {} {
  <i><font color=#4b5d50># Initializes &quot;Preferences&quot; dialogue.</font></i>

  fetchVars
  InitLocales
  SaveSettings
  <b><font color=#3a6797>set</font></b> curTab <font color=#8b2a0e>&quot;nbk&quot;</font>
  IniKeys
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?tab?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>previous open tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if settings were saved.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref__run' href="javascript:toggleSource('alited_pref__run')">Show source</a></p>
<div id='alited_pref__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::_run {{tab {}}} {
  <i><font color=#4b5d50># Runs &quot;Preferences&quot; dialogue.</font></i>
  <i><font color=#4b5d50>#   tab - previous open tab</font></i>
  <i><font color=#4b5d50># Returns yes, if settings were saved.</font></i>

  <b><font color=#3a6797>update</font></b>  ;<i><font color=#4b5d50># if run from menu: there may be unupdated space under it (in some DE)</font></i>
  _init
  <b><font color=#3a6797>set</font></b> res [_create <font color=#1b1baa>$tab</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::BindKey'>BindKey</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds a key event to a key combination.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindKey</span> <span class='ruff_arg'>nk ?key? ?defk?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox corresponding to the event</td></tr>
<tr><td class='ruff_defitem'><code><code>key</code></code></td><td class='ruff_defitem'>key combination or &quot;-&quot; (for not engaged keys); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>defk</code></code></td><td class='ruff_defitem'>default key combination; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a bound keys for not engaged keys or {} for others.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_BindKey' href="javascript:toggleSource('alited_pref_BindKey')">Show source</a></p>
<div id='alited_pref_BindKey' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::BindKey {nk {key {}} {defk {}}} {
  <i><font color=#4b5d50># Binds a key event to a key combination.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox corresponding to the event</font></i>
  <i><font color=#4b5d50>#   key - key combination or &quot;-&quot; (for not engaged keys)</font></i>
  <i><font color=#4b5d50>#   defk - default key combination</font></i>
  <i><font color=#4b5d50># Returns a bound keys for not engaged keys or {} for others.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$key</font> eq {-}} {
    <i><font color=#4b5d50># not engaged event: bind to a new combination if defined</font></i>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists keys(<font color=#1b1baa>$nk</font>)]} {
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$keys($nk)</font>
    }
    <i><font color=#4b5d50># otherwise bind to the default</font></i>
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$defk</font>
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$nk</font> {
    4 { ;<i><font color=#4b5d50># &quot;Double Selection&quot;</font></i>
      ::apave::setTextHotkeys CtrlD <font color=#1b1baa>$keys($nk)</font>
    }
    5 { ;<i><font color=#4b5d50># &quot;Delete Line&quot;</font></i>
      ::apave::setTextHotkeys CtrlY <font color=#1b1baa>$keys($nk)</font>
    }
    10 { ;<i><font color=#4b5d50># &quot;Highlight First&quot;</font></i>
      ::apave::setTextHotkeys AltQ <font color=#1b1baa>$keys($nk)</font>
    }
    11 { ;<i><font color=#4b5d50># &quot;Highlight Last&quot;</font></i>
      ::apave::setTextHotkeys AltW <font color=#1b1baa>$keys($nk)</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::BindKey2'>BindKey2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Almost the same as BindKey, but gets a list of upper &amp; lower keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindKey2</span> <span class='ruff_arg'>nk ?key? ?defk?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox corresponding to the event</td></tr>
<tr><td class='ruff_defitem'><code><code>key</code></code></td><td class='ruff_defitem'>key combination or &quot;-&quot; (for not engaged keys); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>defk</code></code></td><td class='ruff_defitem'>default key combination; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::pref::BindKey" title="BindKey" class='ruff_cmd'>BindKey</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_BindKey2' href="javascript:toggleSource('alited_pref_BindKey2')">Show source</a></p>
<div id='alited_pref_BindKey2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::BindKey2 {nk {key {}} {defk {}}} {
  <i><font color=#4b5d50># Almost the same as BindKey, but gets a list of upper & lower keys.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox corresponding to the event</font></i>
  <i><font color=#4b5d50>#   key - key combination or &quot;-&quot; (for not engaged keys)</font></i>
  <i><font color=#4b5d50>#   defk - default key combination</font></i>
  <i><font color=#4b5d50># See also: BindKey</font></i>

  <b><font color=#3a6797>set</font></b> res [BindKey <font color=#1b1baa>$nk</font> <font color=#1b1baa>$key</font> <font color=#1b1baa>$defk</font>]
  <b><font color=#3a6797>set</font></b> char [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$res</font> end-1 end]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {^[-][[:alpha:]]$} <font color=#1b1baa>$char</font>]} {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$res</font> 0 end-2]
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$res</font>[<b><font color=#3a6797>string</font></b> toupper <font color=#1b1baa>$char</font>] <font color=#1b1baa>$res</font>[<b><font color=#3a6797>string</font></b> tolower <font color=#1b1baa>$char</font>]]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::C_Default'>C_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets default colors to highlight C.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>C_Default</span> <span class='ruff_arg'>isyn ?init?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isyn</code></code></td><td class='ruff_defitem'>index of syntax colors</td></tr>
<tr><td class='ruff_defitem'><code><code>init</code></code></td><td class='ruff_defitem'>yes, if only variables should be initialized; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_C_Default' href="javascript:toggleSource('alited_pref_C_Default')">Show source</a></p>
<div id='alited_pref_C_Default' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::C_Default {isyn {init no}} {
  <i><font color=#4b5d50># Sets default colors to highlight C.</font></i>
  <i><font color=#4b5d50>#   isyn - index of syntax colors</font></i>
  <i><font color=#4b5d50>#   init - yes, if only variables should be initialized</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(ClangExts) <font color=#1b1baa>$al(ClangExtsDef)</font>
  <b><font color=#3a6797>set</font></b> Dark [CsDark]
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>set</font></b> clrvals [::hl_c::hl_colors <font color=#1b1baa>$isyn</font> <font color=#1b1baa>$Dark</font>]
  <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> val <font color=#1b1baa>$clrvals</font> {
    <b><font color=#3a6797>set</font></b> al(ED,C<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$init</font>} {UpdateSyntaxTab 2}
  <b><font color=#3a6797>set</font></b> al(syntaxidx) <font color=#1b1baa>$isyn</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes Preferences.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>not empty, if called by Esc, Alt+F4 or &quot;X&quot; button</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Cancel' href="javascript:toggleSource('alited_pref_Cancel')">Show source</a></p>
<div id='alited_pref_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Cancel {args} {
  <i><font color=#4b5d50># Closes Preferences.</font></i>
  <i><font color=#4b5d50>#   args - not empty, if called by Esc, Alt+F4 or &quot;X&quot; button</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$args</font>]} {
    <b><font color=#3a6797>set</font></b> ischanged [<b><font color=#3a6797>expr</font></b> {  <font color=#1b1baa>$al(THEME)</font> ne <font color=#1b1baa>$opc1</font> || <font color=#1b1baa>$al(INI,CS)</font> ne [GetCS] || <font color=#1b1baa>$al(EM,CS)</font> ne [GetCS 2]}]
    <b><font color=#3a6797>foreach</font></b> o [SavedOptions] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exist data(<font color=#1b1baa>$o</font>)] && <font color=#1b1baa>$al($o)</font> ne <font color=#1b1baa>$data($o)</font>} {
        <b><font color=#3a6797>set</font></b> ischanged yes
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$em_inf($i)</font> em1 idx1 item1
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$data(em_inf,$i)</font> em2 idx2 item2
        <b><font color=#3a6797>set</font></b> em1 [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$em1</font>]  ;<i><font color=#4b5d50># for compatibility</font></i>
        <b><font color=#3a6797>set</font></b> em2 [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$em2</font>]  ;<i><font color=#4b5d50># with old &quot;.mnu&quot; extension</font></i>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_mnu($i)</font> ne <font color=#1b1baa>$data(em_mnu,$i)</font> ||  <font color=#1b1baa>$em_ico($i)</font> ne <font color=#1b1baa>$data(em_ico,$i)</font> ||  <font color=#1b1baa>$em1</font> ne <font color=#1b1baa>$em2</font> || <font color=#1b1baa>$idx1</font> ne <font color=#1b1baa>$idx2</font> || <font color=#1b1baa>$item1</font> ne <font color=#1b1baa>$item2</font>} {
          <b><font color=#3a6797>set</font></b> ischanged yes
        }
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ischanged</font>} {
      <b><font color=#3a6797>if</font></b> {![alited::msg okcancel warn {Changes will be lost!} CANCEL]} <b><font color=#ca14ca>return</font></b>
    }
  }
  RestoreSettings
  alited::CloseDlg
  <font color=#1b1baa>$obPrf</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CbxBackup'>CbxBackup</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for access to SpxMaxBak field. If CbxBackup is empty (no backup), SpxMaxBak should be disabled.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CbxBackup</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CbxBackup' href="javascript:toggleSource('alited_pref_CbxBackup')">Show source</a></p>
<div id='alited_pref_CbxBackup' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CbxBackup {} {
  <i><font color=#4b5d50># Check for access to SpxMaxBak field.</font></i>
  <i><font color=#4b5d50># If CbxBackup is empty (no backup), SpxMaxBak should be disabled.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(BACKUP)</font> eq {}} {<b><font color=#3a6797>set</font></b> state disabled} {<b><font color=#3a6797>set</font></b> state normal}
  [<font color=#1b1baa>$obPrf</font> SpxMaxBak] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  [<font color=#1b1baa>$obPrf</font> LabMaxBak] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckCS'>CheckCS</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the color scheme is changed and, if so, sets &quot;Color of cursor&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckCS</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CheckCS' href="javascript:toggleSource('alited_pref_CheckCS')">Show source</a></p>
<div id='alited_pref_CheckCS' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckCS {} {
  <i><font color=#4b5d50># Checks if the color scheme is changed and, if so, sets &quot;Color of cursor&quot; field.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> cs [GetCS]
  <b><font color=#3a6797>set</font></b> cclr [<b><font color=#3a6797>lindex</font></b> [obj csGet <font color=#1b1baa>$cs</font>] 7]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(CURSORCOLOR)</font> ne <font color=#1b1baa>$cclr</font>} {
    <b><font color=#3a6797>catch</font></b> {
      .alwin.diaPref.fra.fraR.nbk.f1.fra1.labclrCC configure <font color=#6c3e67>-background</font> <font color=#1b1baa>$cclr</font>
      <b><font color=#3a6797>set</font></b> al(CURSORCOLOR) <font color=#1b1baa>$cclr</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$cs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckIndent'>CheckIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets &quot;auto indentation&quot;, if indent is 1 (for indentation by Tabs)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckIndent</span> <span class='ruff_arg'>?pre?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pre</code></code></td><td class='ruff_defitem'>prefix: if {}, refers to a project's settings, by default to preferences'; <i>optional, default</i> <code>DEFAULT,</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CheckIndent' href="javascript:toggleSource('alited_pref_CheckIndent')">Show source</a></p>
<div id='alited_pref_CheckIndent' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckIndent {{pre DEFAULT,}} {
  <i><font color=#4b5d50># Sets &quot;auto indentation&quot;, if indent is 1 (for indentation by Tabs)</font></i>
  <i><font color=#4b5d50>#   pre - prefix: if {}, refers to a project's settings, by default to preferences'</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(${pre}prjindent)</font>&lt;=1} {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>${pre}</font>prjindentAuto) 1}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckOk'>CheckOk</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checker for &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckOk</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes if OK button may be handled, else no.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CheckOk' href="javascript:toggleSource('alited_pref_CheckOk')">Show source</a></p>
<div id='alited_pref_CheckOk' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckOk {} {
  <i><font color=#4b5d50># Checker for &quot;OK&quot; button.</font></i>
  <i><font color=#4b5d50># Returns yes if OK button may be handled, else no.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,LEAF)</font> && <font color=#1b1baa>$al(RE,leaf)</font> eq {}} {
    <b><font color=#134070>bell</font></b>
    ::alited::pref::Tab nbk3 <font color=#1b1baa>$win</font>.fra.fraR.nbk3.f1 yes no
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obPrf</font> EntLf]
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckTheming'>CheckTheming</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks periodically theming options and, if changed, shows their preview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckTheming</span> <span class='ruff_arg'>?doit? ?force?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if no, deletes both a temporary file and the possible preview; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>force</code></code></td><td class='ruff_defitem'>if yes, shows the preview by force; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The theming cannot be nice viewed &quot;on fly&quot;, so we need to use a separate app.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CheckTheming' href="javascript:toggleSource('alited_pref_CheckTheming')">Show source</a></p>
<div id='alited_pref_CheckTheming' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckTheming {{doit yes} {force no}} {
  <i><font color=#4b5d50># Checks periodically theming options and, if changed, shows their preview.</font></i>
  <i><font color=#4b5d50>#   doit - if no, deletes both a temporary file and the possible preview</font></i>
  <i><font color=#4b5d50>#   force - if yes, shows the preview by force</font></i>
  <i><font color=#4b5d50># The theming cannot be nice viewed &quot;on fly&quot;, so we need to use a separate app.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited SRCDIR SRCDIR
  fetchVars
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join [alited::tool::EM_dir] preview~]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font> || (!<font color=#1b1baa>$force</font> && ![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>])} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$fname</font>}
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>unset</font></b> al(checkTheming)}
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> cs [GetCS]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(CURSORCOLOR)</font> ne {}} {<b><font color=#3a6797>set</font></b> cc <font color=#1b1baa>$al(CURSORCOLOR)</font>} {<b><font color=#3a6797>set</font></b> cc <font color=#8b2a0e>&quot;<font color=#1b1baa>{}</font>&quot;</font>}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(INI,HUE)</font>]} {<b><font color=#3a6797>set</font></b> hue <font color=#1b1baa>$al(INI,HUE)</font>} {<b><font color=#3a6797>set</font></b> hue 0}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>]} {<b><font color=#3a6797>set</font></b> cw <font color=#1b1baa>$al(CURSORWIDTH)</font>} {<b><font color=#3a6797>set</font></b> cw 2}
  <b><font color=#3a6797>set</font></b> thopts <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>opc1 <font color=#1b1baa>$</font>cs <font color=#1b1baa>$</font>hue <font color=#1b1baa>$</font>cw <font color=#1b1baa>$</font>al(ED,BlinkCurs) <font color=#1b1baa>$</font>cc&quot;</font>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(checkTheming)] || <font color=#1b1baa>$al(checkTheming)</font> ne <font color=#1b1baa>$thopts</font> || <font color=#1b1baa>$force</font>} {
    <b><font color=#3a6797>incr</font></b> al(prefCheckID)
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>] x+] w h x y
    <b><font color=#3a6797>set</font></b> ch [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$fname</font> w]
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$ch</font> <font color=#8b2a0e>&quot;+<font color=#1b1baa>[</font>expr <font color=#1b1baa>{$</font>x+<font color=#1b1baa>$</font>w/6<font color=#1b1baa>}]</font>+<font color=#1b1baa>[</font>expr <font color=#1b1baa>{$</font>y+<font color=#1b1baa>$</font>h/3<font color=#1b1baa>}]</font> <font color=#1b1baa>$</font>thopts <font color=#1b1baa>{$</font>al(MC,test)<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>al(prefCheckID)&quot;</font>
    <b><font color=#3a6797>close</font></b> <font color=#1b1baa>$ch</font>
    alited::Runtime [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$SRCDIR</font> preview.tcl] <font color=#1b1baa>$fname</font> <font color=#1b1baa>$al(prefCheckID)</font>
    <b><font color=#3a6797>set</font></b> al(checkTheming) <font color=#1b1baa>$thopts</font>
  }
  <b><font color=#3a6797>after</font></b> 100 {alited::pref::CheckTheming yes}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckUseDef'>CheckUseDef</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enables/disables the project default fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUseDef</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CheckUseDef' href="javascript:toggleSource('alited_pref_CheckUseDef')">Show source</a></p>
<div id='alited_pref_CheckUseDef' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckUseDef {} {
  <i><font color=#4b5d50># Enables/disables the project default fields.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(PRJDEFAULT)</font>} {
    <b><font color=#3a6797>set</font></b> state normal
    [<font color=#1b1baa>$obPrf</font> CbxEOL] configure <font color=#6c3e67>-state</font> readonly
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> state disabled
    [<font color=#1b1baa>$obPrf</font> CbxEOL] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  }
  <b><font color=#3a6797>foreach</font></b> w {EntIgn SpxIndent SpxRedunit SwiMult ChbIndAuto SwiTrWs} {
    [<font color=#1b1baa>$obPrf</font> <font color=#1b1baa>$w</font>] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckUseLeaf'>CheckUseLeaf</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enables/disables the &quot;Regexp of a leaf&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUseLeaf</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CheckUseLeaf' href="javascript:toggleSource('alited_pref_CheckUseLeaf')">Show source</a></p>
<div id='alited_pref_CheckUseLeaf' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckUseLeaf {} {
  <i><font color=#4b5d50># Enables/disables the &quot;Regexp of a leaf&quot; field.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,LEAF)</font>} {
    <b><font color=#3a6797>set</font></b> state1 disabled
    <b><font color=#3a6797>set</font></b> state2 normal
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> state1 normal
    <b><font color=#3a6797>set</font></b> state2 disabled
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(RE,proc)</font>  eq {}} {<b><font color=#3a6797>set</font></b> al(RE,proc)  [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$al(RE,procDEF)</font>]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(RE,proc2)</font> eq {}} {<b><font color=#3a6797>set</font></b> al(RE,proc2) [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$al(RE,proc2DEF)</font>]}
  [<font color=#1b1baa>$obPrf</font> EntPr] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state1</font>
  [<font color=#1b1baa>$obPrf</font> EntLf] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Common_Tab'>Common_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/Common&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Common_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Common_Tab' href="javascript:toggleSource('alited_pref_Common_Tab')">Show source</a></p>
<div id='alited_pref_Common_Tab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Common_Tab {} {
  <i><font color=#4b5d50># Serves to layout &quot;Tools/Common&quot; tab.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,Tcl)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> al(TCLINIDIR) [<b><font color=#3a6797>info</font></b> nameofexecutable]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(TCLINIDIR) <font color=#1b1baa>$al(EM,Tcl)</font>
  }
  <b><font color=#3a6797>set</font></b> al(TCLINIDIR) [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(TCLINIDIR)</font>]
  <b><font color=#3a6797>set</font></b> al(TCLLIST) [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,TclList)</font> \t]
  <b><font color=#3a6797>set</font></b> al(TTLIST) [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,tt=List)</font> \t]
  <b><font color=#3a6797>set</font></b> al(WTLIST) [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,wt=List)</font> \t]
  <b><font color=#3a6797>set</font></b> res {
    {v_ - - 1 1}
    {fra + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> x}}
    {.labTcl - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;tclsh, wish or tclkit:&quot;</font>}}
    {.fiLTcl + L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,Tcl)  <font color=#6c3e67>-values</font> {<font color=#1b1baa>$al(TCLLIST)</font>} <font color=#6c3e67>-w</font> 45 <font color=#6c3e67>-initialdir</font> <font color=#1b1baa>$al(TCLINIDIR)</font>  <font color=#6c3e67>-clearcom</font> {alited::main::ClearCbx %w ::alited::al(TCLLIST)}}}
    {.labDF .labTT T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Diff tool:&quot;</font>}}
    {.filDF + L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,DiffTool)  <font color=#6c3e67>-w</font> 45 <font color=#6c3e67>-tabnext</font> alited::Tnext}}
    {.labDoc .labDF T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Path to man/tcl:&quot;</font>}}
    {.dirDoc + L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,h=) <font color=#6c3e67>-w</font> 45}}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(IsWindows)</font>} {
    <b><font color=#3a6797>set</font></b> tt {{.labTT .labTcl T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;MS Windows shell:&quot;</font>}}
      {.cbxTT + L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,wt=) <font color=#6c3e67>-w</font> 45 <font color=#6c3e67>-values</font>  {<font color=#1b1baa>$al(WTLIST)</font>}}} {.butOK + L 1 1 {} {<font color=#6c3e67>-t</font> Test <font color=#6c3e67>-com</font> {alited::tool::_run 5}}}}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tt {{.labTT .labTcl T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Linux terminal:&quot;</font>}}
      {.cbxTT + L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,tt=) <font color=#6c3e67>-w</font> 45 <font color=#6c3e67>-values</font>  {<font color=#1b1baa>$al(TTLIST)</font>} <font color=#6c3e67>-clearcom</font> {alited::main::ClearCbx %w ::alited::al(TTLIST)}}}  {.butOK + L 1 1 {<font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-t</font> Test <font color=#6c3e67>-com</font> {alited::tool::_run 5}}}}
  }
  <b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$res</font> 5 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CsDark'>CsDark</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a lightness of a color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CsDark</span> <span class='ruff_arg'>?cs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cs</code></code></td><td class='ruff_defitem'>the color scheme's index (if omitted, the chosen one's); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_CsDark' href="javascript:toggleSource('alited_pref_CsDark')">Show source</a></p>
<div id='alited_pref_CsDark' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CsDark {{cs {}}} {
  <i><font color=#4b5d50># Gets a lightness of a color scheme.</font></i>
  <i><font color=#4b5d50>#   cs - the color scheme's index (if omitted, the chosen one's)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cs</font> eq {}} {<b><font color=#3a6797>set</font></b> cs [GetCS]}
  <b><font color=#ca14ca>return</font></b> [obj csDark <font color=#1b1baa>$cs</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Default_e_menu'>Default_e_menu</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Set default a_menu settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Default_e_menu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Default_e_menu' href="javascript:toggleSource('alited_pref_Default_e_menu')">Show source</a></p>
<div id='alited_pref_Default_e_menu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Default_e_menu {} {
  <i><font color=#4b5d50># Set default a_menu settings.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(EM,exec) yes
  <b><font color=#3a6797>set</font></b> al(EM,ownCS) no
  <b><font color=#3a6797>set</font></b> emdir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> e_menu]
  <b><font color=#3a6797>set</font></b> al(EM,mnudir) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$emdir</font> menus]
  <b><font color=#3a6797>set</font></b> al(EM,mnu) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(EM,mnudir)</font> menu.em]
  <b><font color=#3a6797>set</font></b> al(EM,PD=) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$emdir</font> em_projects]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::DelRun'>DelRun</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a current &quot;bar-menu&quot; action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DelRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_DelRun' href="javascript:toggleSource('alited_pref_DelRun')">Show source</a></p>
<div id='alited_pref_DelRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::DelRun {} {
  <i><font color=#4b5d50># Deletes a current &quot;bar-menu&quot; action.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> idx [FocusedRun]]&lt;0} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$idx</font>} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>==(<font color=#1b1baa>$em_Num</font>-1)} {
      <b><font color=#3a6797>lassign</font></b> {} em_mnu(<font color=#1b1baa>$i</font>) em_ico(<font color=#1b1baa>$i</font>) em_inf(<font color=#1b1baa>$i</font>)
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># make upper all the rest actions</font></i>
      <b><font color=#3a6797>set</font></b> ip [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]
      <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_ico($ip)</font>
      <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_mnu($ip)</font>
      <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_inf($ip)</font>
    }
  }
  Em_ShowAll
  ScrollRuns
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::DownRun'>DownRun</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Move a current run item down.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DownRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_DownRun' href="javascript:toggleSource('alited_pref_DownRun')">Show source</a></p>
<div id='alited_pref_DownRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::DownRun {} {
  <i><font color=#4b5d50># Move a current run item down.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fr [FocusedRun]]&lt;0} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> f2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$fr</font> + 1}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$f2</font>&gt;=<font color=#1b1baa>$::alited::pref::em_Num</font>} {
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    ExchangeRuns <font color=#1b1baa>$fr</font> <font color=#1b1baa>$f2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab1'>Edit_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Editor&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Edit_Tab1' href="javascript:toggleSource('alited_pref_Edit_Tab1')">Show source</a></p>
<div id='alited_pref_Edit_Tab1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab1 {} {
  <i><font color=#4b5d50># Serves to layout &quot;Editor&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labFon - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 8 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> Font:}}
    {.fonTxt2 + L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(FONT,txt) <font color=#6c3e67>-w</font> 50}}
    {.labSp1 .labFon T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Space above lines:}}}
    {.spxSp1 .labSp1 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,sp1) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 16}}
    {.labSp3 .labSp1 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Space below lines:}}}
    {.spxSp3 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,sp3) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 16}}
    {.labSp2 .labSp3 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Space between wraps:}}}
    {.spxSp2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,sp2) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 16}}
    {.labBC .labSp2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Blinking cursor:}}}
    {.swiBC + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(ED,BlinkCurs)}}
    {.seh .labBC T 1 10 {<font color=#6c3e67>-pady</font> 3}}
    {.labGW + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Gutter's width:}}}
    {.spxGW + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,gutterwidth) <font color=#6c3e67>-from</font> 3 <font color=#6c3e67>-to</font> 7}}
    {.labGS .labGW T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Gutter's shift from text:}}}
    {.spxGS + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,guttershift) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 10}}
    {.seh2 .labGS T 1 10 {<font color=#6c3e67>-pady</font> 3}}
    {.labLl + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Tab bar label's length:}}}
    {.spxLl + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(INI,barlablen) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100}}
    {.labTl .labLl T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Tab bar tip's length:}}}
    {.spxTl + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(INI,bartiplen) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100}}
    {.labBD .labTl T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Border for bar tabs:}}}
    {.swiBD + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(ED,btsbd) <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab2'>Edit_Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tcl syntax&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Edit_Tab2' href="javascript:toggleSource('alited_pref_Edit_Tab2')">Show source</a></p>
<div id='alited_pref_Edit_Tab2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab2 {} {
  <i><font color=#4b5d50># Serves to layout &quot;Tcl syntax&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {FraTab2 v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fraTab2.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Tcl files' extensions:}}}
    {.entExt + L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(TclExts) <font color=#6c3e67>-w</font> 50}}
    {.labCOM .labExt T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of Tcl commands:}}}
    {.clrCOM + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrCOM) <font color=#6c3e67>-w</font> 20}}
    {.labCOMTK .labCOM T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of Tk commands:}}}
    {.clrCOMTK + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrCOMTK) <font color=#6c3e67>-w</font> 20}}
    {.labSTR .labCOMTK T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of strings:}}}
    {.clrSTR + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrSTR) <font color=#6c3e67>-w</font> 20}}
    {.labVAR .labSTR T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of variables:}}}
    {.clrVAR + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrVAR) <font color=#6c3e67>-w</font> 20}}
    {.labCMN .labVAR T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of comments:}}}
    {.clrCMN + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrCMN) <font color=#6c3e67>-w</font> 20}}
    {.labPROC .labCMN T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of proc/methods:}}}
    {.clrPROC + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrPROC) <font color=#6c3e67>-w</font> 20}}
    {.labOPT .labPROC T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of options:}}}
    {.clrOPT + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrOPT) <font color=#6c3e67>-w</font> 20}}
    {.labBRA .labOPT T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of brackets:}}}
    {.clrBRA + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,clrBRA) <font color=#6c3e67>-w</font> 20}}
    {fraTab2.scf.FraDefClr1 .labBRA T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 3}}
    {.but - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 0}}}
    {.but1 + L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Standard 2} <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 1}}}
    {.but2 + L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> {Standard 3} <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 2}}}
    {.but3 + L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Standard 4} <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 3}}}
    {fraTab2.scf.sehclr fraTab2.scf.FraDefClr1 T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {fraTab2.scf.fra2 + T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 5}}
    {.lab - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> ne <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Code snippet:}}}
    {.TexSample - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-h</font> 7 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-afteridle</font> alited::pref::UpdateSyntaxTab <font color=#6c3e67>-tabnext</font> {<b><font color=#3a6797>*</font></b>.texTclKeys *.but3}}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right}}
    {fraTab2.scf.fra3 fraTab2.scf.fra2 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 3}}
    {.labAddKeys - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> ne <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Your commands:}}}
    {.TexTclKeys - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-h</font> 3 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> {alited::Tnext *.texSample}}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab3'>Edit_Tab3</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;C/C++ syntax&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Edit_Tab3' href="javascript:toggleSource('alited_pref_Edit_Tab3')">Show source</a></p>
<div id='alited_pref_Edit_Tab3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab3 {} {
  <i><font color=#4b5d50># Serves to layout &quot;C/C++ syntax&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {FraTab3 + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fraTab3.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {C/C++ files' extensions:}}}
    {.entExt + L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ClangExts) <font color=#6c3e67>-w</font> 47}}
    {.labCOM2 .labExt T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of C key words:}}}
    {.clrCOM2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrCOM) <font color=#6c3e67>-w</font> 20}}
    {.labCOMTK2 .labCOM2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of C++ key words:}}}
    {.clrCOMTK2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrCOMTK) <font color=#6c3e67>-w</font> 20}}
    {.labSTR2 .labCOMTK2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of strings:}}}
    {.clrSTR2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrSTR) <font color=#6c3e67>-w</font> 20}}
    {.labVAR2 .labSTR2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of punctuation:}}}
    {.clrVAR2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrVAR) <font color=#6c3e67>-w</font> 20}}
    {.labCMN2 .labVAR2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of comments:}}}
    {.clrCMN2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrCMN) <font color=#6c3e67>-w</font> 20}}
    {.labPROC2 .labCMN2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of return/goto:}}}
    {.clrPROC2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrPROC) <font color=#6c3e67>-w</font> 20}}
    {.labOPT2 .labPROC2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of your key words:}}}
    {.clrOPT2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrOPT) <font color=#6c3e67>-w</font> 20}}
    {.labBRA2 .labOPT2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of brackets:}}}
    {.clrBRA2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(ED,CclrBRA) <font color=#6c3e67>-w</font> 20}}
    {fraTab3.scf.FraDefClr2 .labBRA2 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 3}}
    {.but - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> {alited::pref::C_Default 0}}}
    {.but1 + L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Standard 2} <font color=#6c3e67>-com</font> {alited::pref::C_Default 1}}}
    {.but2 + L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> {Standard 3} <font color=#6c3e67>-com</font> {alited::pref::C_Default 2}}}
    {.but3 + L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Standard 4} <font color=#6c3e67>-com</font> {alited::pref::C_Default 3}}}
    {fraTab3.scf.sehclr fraTab3.scf.fraDefClr2 T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {fraTab3.scf.fra2 + T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 5}}
    {.lab - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> ne <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Code snippet:}}}
    {.TexCSample - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-h</font> 8 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> {<b><font color=#3a6797>*</font></b>.texCKeys *.but3}}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right}}
    {fraTab3.scf.fra3 fraTab3.scf.fra2 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 3}}
    {.lab - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> ne <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Your key words:}}}
    {.TexCKeys - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-h</font> 3 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> {alited::Tnext *.texCSample}}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab4'>Edit_Tab4</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Plain texts&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab4</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Edit_Tab4' href="javascript:toggleSource('alited_pref_Edit_Tab4')">Show source</a></p>
<div id='alited_pref_Edit_Tab4' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab4 {} {
  <i><font color=#4b5d50># Serves to layout &quot;Plain texts&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {FraTab4 + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fraTab4.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Plain texts' extensions:}}}
    {.entExt + L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(TextExts) <font color=#6c3e67>-w</font> 50}}
    {.seh .labExt T 1 10 {<font color=#6c3e67>-pady</font> 3}}
    {.but + T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> alited::pref::Text_Default <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Em_ShowAll'>Em_ShowAll</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles separators of bar-menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Em_ShowAll</span> <span class='ruff_arg'>?upd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>upd</code></code></td><td class='ruff_defitem'>if yes, displays the widgets of bar-menu settings; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Em_ShowAll' href="javascript:toggleSource('alited_pref_Em_ShowAll')">Show source</a></p>
<div id='alited_pref_Em_ShowAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Em_ShowAll {{upd yes}} {
  <i><font color=#4b5d50># Handles separators of bar-menu.</font></i>
  <i><font color=#4b5d50>#   upd - if yes, displays the widgets of bar-menu settings.</font></i>
  fetchVars
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists em_inf(<font color=#1b1baa>$i</font>)]} {
      <b><font color=#3a6797>lassign</font></b> {} em_inf(<font color=#1b1baa>$i</font>) em_mnu(<font color=#1b1baa>$i</font>) em_ico(<font color=#1b1baa>$i</font>)
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_ico($i)</font> eq {none}} {<b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) {}}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$upd</font>} {
      [<font color=#1b1baa>$obPrf</font> ButMnu<font color=#1b1baa>$i</font>] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$em_mnu($i)</font>
      <b><font color=#3a6797>set</font></b> ico [<font color=#1b1baa>$obPrf</font> OpcIco<font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> k [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$listIcons</font> [<font color=#1b1baa>$ico</font> cget <font color=#6c3e67>-text</font>]]]&gt;-1} {
        <b><font color=#3a6797>set</font></b> img [::apave::iconImage [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$listIcons</font> <font color=#1b1baa>$k</font>]]
        <b><font color=#3a6797>set</font></b> cmpd left
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> img alimg_none
        <b><font color=#3a6797>set</font></b> cmpd right
      }
      <font color=#1b1baa>$ico</font> configure <font color=#6c3e67>-image</font> <font color=#1b1baa>$img</font> <font color=#6c3e67>-compound</font> <font color=#1b1baa>$cmpd</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$upd</font>} ScrollRuns
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Emenu_Tab'>Emenu_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/e_menu&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Emenu_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Emenu_Tab' href="javascript:toggleSource('alited_pref_Emenu_Tab')">Show source</a></p>
<div id='alited_pref_Emenu_Tab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Emenu_Tab {} {
  <i><font color=#4b5d50># Serves to layout &quot;Tools/e_menu&quot; tab.</font></i>

  <b><font color=#3a6797>set</font></b> al(EM,exec) yes
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> x}}
    {.labCS - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Color scheme:&quot;</font>}}
    {.SwiCS + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-t</font> {e_menu's own}  <font color=#6c3e67>-var</font> ::alited::al(EM,ownCS) <font color=#6c3e67>-com</font> alited::pref::OwnCS <font color=#6c3e67>-afteridle</font> alited::pref::OwnCS}}
    {.OpcCS + L 1 1 {<font color=#6c3e67>-st</font> sew <font color=#6c3e67>-pady</font> 5} {::alited::pref::opcc2 ::alited::pref::opcColors  {<font color=#6c3e67>-width</font> 21 <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-image</font> alimg_color} {alited::pref::opcToolPre %a}}}
    {.labGeo .labCS T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> Geometry:}}
    {.entGeo + L 1 2 {<font color=#6c3e67>-st</font> sew <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,geometry)}}
    {.labDir .labGeo T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Directory of menus:&quot;</font>}}
    {.dirEM + L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,mnudir) <font color=#6c3e67>-w</font> 48}}
    {.labMenu .labDir T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Main menu:&quot;</font>}}
    {.filMenu + L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,mnu) <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-filetypes</font> {{{Menus} .em} {{All files} .* }}}}
    {.labPD .labMenu T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Projects (%PD wildcard):&quot;</font>}}
    {.filPD + L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(EM,PD=) <font color=#6c3e67>-w</font> 48}}
    {.but1 .filPD T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> alited::pref::Default_e_menu}}
    {.butok + L 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,test)&quot;</font> <font color=#6c3e67>-com</font> alited::pref::Test_e_menu <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ExchangeRuns'>ExchangeRuns</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Exchanges two run items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExchangeRuns</span> <span class='ruff_arg'>f1 f2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>f1</code></code></td><td class='ruff_defitem'>1st item</td></tr>
<tr><td class='ruff_defitem'><code><code>f2</code></code></td><td class='ruff_defitem'>2nd item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_ExchangeRuns' href="javascript:toggleSource('alited_pref_ExchangeRuns')">Show source</a></p>
<div id='alited_pref_ExchangeRuns' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::ExchangeRuns {f1 f2} {
  <i><font color=#4b5d50># Exchanges two run items.</font></i>
  <i><font color=#4b5d50>#   f1 - 1st item</font></i>
  <i><font color=#4b5d50>#   f2 - 2nd item</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> ico1 <font color=#1b1baa>$em_ico($f2)</font>
  <b><font color=#3a6797>set</font></b> mnu1 <font color=#1b1baa>$em_mnu($f2)</font>
  <b><font color=#3a6797>set</font></b> inf1 <font color=#1b1baa>$em_inf($f2)</font>
  <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$f2</font>) <font color=#1b1baa>$em_ico($f1)</font>
  <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$f2</font>) <font color=#1b1baa>$em_mnu($f1)</font>
  <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$f2</font>) <font color=#1b1baa>$em_inf($f1)</font>
  <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$f1</font>) <font color=#1b1baa>$ico1</font>
  <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$f1</font>) <font color=#1b1baa>$mnu1</font>
  <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$f1</font>) <font color=#1b1baa>$inf1</font>
  Em_ShowAll
  <b><font color=#3a6797>set</font></b> foc [<b><font color=#134070>focus</font></b>]
  <b><font color=#3a6797>if</font></b>       {<font color=#1b1baa>$foc</font> eq [<font color=#1b1baa>$obPrf</font> OpcIco<font color=#1b1baa>$f1</font>]} {<b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obPrf</font> OpcIco<font color=#1b1baa>$f2</font>]
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$foc</font> eq [<font color=#1b1baa>$obPrf</font> ButMnu<font color=#1b1baa>$f1</font>]} {<b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obPrf</font> ButMnu<font color=#1b1baa>$f2</font>]
  } <b><font color=#3a6797>else</font></b>                                {<b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obPrf</font> ChbMT<font color=#1b1baa>$f2</font>]}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::fetchVars'>fetchVars</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Delivers namespace variables to a caller.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>fetchVars</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_fetchVars' href="javascript:toggleSource('alited_pref_fetchVars')">Show source</a></p>
<div id='alited_pref_fetchVars' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::fetchVars {} {
  <i><font color=#4b5d50># Delivers namespace variables to a caller.</font></i>

  <b><font color=#3a6797>uplevel</font></b> 1 {
    <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
    <b><font color=#3a6797>variable</font></b> obPrf
    <b><font color=#3a6797>variable</font></b> win
    <b><font color=#3a6797>variable</font></b> geo
    <b><font color=#3a6797>variable</font></b> data
    <b><font color=#3a6797>variable</font></b> keys
    <b><font color=#3a6797>variable</font></b> prevkeys
    <b><font color=#3a6797>variable</font></b> savekeys
    <b><font color=#3a6797>variable</font></b> arrayTab
    <b><font color=#3a6797>variable</font></b> curTab
    <b><font color=#3a6797>variable</font></b> oldTab
    <b><font color=#3a6797>variable</font></b> opcThemes
    <b><font color=#3a6797>variable</font></b> opc1
    <b><font color=#3a6797>variable</font></b> opcColors
    <b><font color=#3a6797>variable</font></b> opcc
    <b><font color=#3a6797>variable</font></b> opcc2
    <b><font color=#3a6797>variable</font></b> em_Num
    <b><font color=#3a6797>variable</font></b> em_mnu
    <b><font color=#3a6797>variable</font></b> em_ico
    <b><font color=#3a6797>variable</font></b> em_inf
    <b><font color=#3a6797>variable</font></b> em_Icons
    <b><font color=#3a6797>variable</font></b> listIcons
    <b><font color=#3a6797>variable</font></b> listMenus
    <b><font color=#3a6797>variable</font></b> stdkeys
    <b><font color=#3a6797>variable</font></b> StdkeysSize
    <b><font color=#3a6797>variable</font></b> locales
    <b><font color=#3a6797>variable</font></b> preview
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::fillCan'>fillCan</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a bg color of tab canvas.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>fillCan</span> <span class='ruff_arg'>w ?selected?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>canvas' path</td></tr>
<tr><td class='ruff_defitem'><code><code>selected</code></code></td><td class='ruff_defitem'>yes for selected tab; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_fillCan' href="javascript:toggleSource('alited_pref_fillCan')">Show source</a></p>
<div id='alited_pref_fillCan' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::fillCan {w {selected no}} {
  <i><font color=#4b5d50># Sets a bg color of tab canvas.</font></i>
  <i><font color=#4b5d50>#   w - canvas' path</font></i>
  <i><font color=#4b5d50>#   selected - yes for selected tab</font></i>

  fetchVars
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$w</font> delete <font color=#1b1baa>$data(CANVAS,$w)</font>}
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPrf</font> csGet] - - - bg selbg - - - - hotbg
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selected</font>} {
    <b><font color=#3a6797>set</font></b> bg <font color=#1b1baa>$hotbg</font>
    <font color=#1b1baa>$w</font> configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$hotbg</font>
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$w</font> configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$bg</font>
  }
  <b><font color=#3a6797>set</font></b> data(CANVAS,<font color=#1b1baa>$w</font>) [<font color=#1b1baa>$w</font> create rectangle {0 0 10 100} <font color=#6c3e67>-fill</font> <font color=#1b1baa>$bg</font> <font color=#6c3e67>-outline</font> <font color=#1b1baa>$selbg</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::FocusedRun'>FocusedRun</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an index of current run.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusedRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_FocusedRun' href="javascript:toggleSource('alited_pref_FocusedRun')">Show source</a></p>
<div id='alited_pref_FocusedRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::FocusedRun {} {
  <i><font color=#4b5d50># Gets an index of current run.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> foc [<b><font color=#134070>focus</font></b>]
  <b><font color=#3a6797>set</font></b> fr -1
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$::alited::pref::em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$foc</font> in [<b><font color=#3a6797>list</font></b> [<font color=#1b1baa>$obPrf</font> OpcIco<font color=#1b1baa>$i</font>] [<font color=#1b1baa>$obPrf</font> ButMnu<font color=#1b1baa>$i</font>]]} {
      <b><font color=#3a6797>set</font></b> fr <font color=#1b1baa>$i</font>
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fr</font>&lt;0} {Message [msgcat::mc {Select any of run item}] 3}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fr</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab1'>General_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_General_Tab1' href="javascript:toggleSource('alited_pref_General_Tab1')">Show source</a></p>
<div id='alited_pref_General_Tab1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::General_Tab1 {} {
  <i><font color=#4b5d50># Serves to layout &quot;General&quot; tab.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> opcc [<b><font color=#3a6797>set</font></b> opcc2 [msgcat::mc {-2: Default}]]
  <b><font color=#3a6797>set</font></b> opcColors [<b><font color=#3a6797>list</font></b> <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>opcc<font color=#1b1baa>}</font>&quot;</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i -1; <b><font color=#3a6797>set</font></b> n [apave::cs_MaxBasic]} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$n</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {((<font color=#1b1baa>$i</font>+2) % (<font color=#1b1baa>$n</font>/2+2)) == 0} {<b><font color=#3a6797>lappend</font></b> opcColors |}
    <b><font color=#3a6797>set</font></b> csname [<font color=#1b1baa>$obPrf</font> csGetName <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>lappend</font></b> opcColors [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$csname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> == <font color=#1b1baa>$al(INI,CS)</font>} {<b><font color=#3a6797>set</font></b> opcc <font color=#1b1baa>$csname</font>}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> == <font color=#1b1baa>$al(EM,CS)</font>} {<b><font color=#3a6797>set</font></b> opcc2 <font color=#1b1baa>$csname</font>}
  }
  <b><font color=#3a6797>set</font></b> lightdark [msgcat::mc {Light / Dark}]
  <b><font color=#3a6797>set</font></b> opcThemes [<b><font color=#3a6797>list</font></b> default clam classic alt --  <font color=#8b2a0e>&quot;<font color=#1b1baa>{$</font>lightdark<font color=#1b1baa>}</font> awlight awdark --  azure-light azure-dark -- forest-light forest-dark --  sun-valley-light sun-valley-dark -- lightbrown darkbrown -- plastik&quot;</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(IsWindows)</font>} {
    <b><font color=#3a6797>lappend</font></b> opcThemes -- <font color=#8b2a0e>&quot;<font color=#1b1baa>{[</font>msgcat::mc <font color=#1b1baa>{</font>Windows themes<font color=#1b1baa>}]}</font> vista xpnative winnative&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$al(THEME)</font> <font color=#1b1baa>$opcThemes</font>]&lt;0} {
    <b><font color=#3a6797>set</font></b> opc1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$opcThemes</font> 0]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> opc1 <font color=#1b1baa>$al(THEME)</font>
  }
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra1 v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labTheme - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Ttk theme:}}}
    {.opc1 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1}  {::alited::pref::opc1 ::alited::pref::opcThemes  {<font color=#6c3e67>-width</font> 21 <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-image</font> alimg_gulls  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-indexedtips</font> 5 <font color=#8b2a0e>&quot;-BALTIP <font color=#1b1baa>{$</font>al(MC,needcs)<font color=#1b1baa>}</font> -MAXEXP 1&quot;</font>}} {}}}
    {.labCS .labTheme T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color scheme:}}}
    {.opc2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {::alited::pref::opcc ::alited::pref::opcColors  {<font color=#6c3e67>-width</font> 21 <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-image</font> alimg_color <font color=#6c3e67>-com</font> alited::pref::CheckCS  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-indexedtips</font>  0 {<font color=#1b1baa>$al(MC,nocs)</font>}  2 {<font color=#1b1baa>$al(MC,fitcs)</font>: awlight}  3 {<font color=#1b1baa>$al(MC,fitcs)</font>: azure-light}  4 {<font color=#1b1baa>$al(MC,fitcs)</font>: forest-light}  5 {<font color=#1b1baa>$al(MC,fitcs)</font>: sun-valley-light}  6 {<font color=#1b1baa>$al(MC,fitcs)</font>: lightbrown}  26 {<font color=#1b1baa>$al(MC,fitcs)</font>: sun-valley-dark}  27 {<font color=#1b1baa>$al(MC,fitcs)</font>: awdark}  28 {<font color=#1b1baa>$al(MC,fitcs)</font>: azure-dark}  29 {<font color=#1b1baa>$al(MC,fitcs)</font>: forest-dark}  30 {<font color=#1b1baa>$al(MC,fitcs)</font>: sun-valley-dark}  31 {<font color=#1b1baa>$al(MC,fitcs)</font>: darkbrown}  }} {alited::pref::opcToolPre %a}}}
    {.butOK + L 1 1 {<font color=#6c3e67>-padx</font> 20} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,test)&quot;</font> <font color=#6c3e67>-com</font> {alited::pref::CheckTheming yes yes}}}
    {.labHue .labCS T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> Tint:}}
    {.spxHue + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1}  {<font color=#6c3e67>-tvar</font> ::alited::al(INI,HUE) <font color=#6c3e67>-from</font> -50 <font color=#6c3e67>-to</font> 50 <font color=#6c3e67>-increment</font> 5 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,hue)</font>}}}
    {.labCurw .labHue T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Cursor width:}}}
    {.spxCurw + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(CURSORWIDTH) <font color=#6c3e67>-from</font> 1 <font color=#6c3e67>-to</font> 8}}
    {.labCC + L 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Color of cursor:}}}
    {.clrCC + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(CURSORCOLOR) <font color=#6c3e67>-w</font> 14}}
    {seh_ fra1 T 1 2 {<font color=#6c3e67>-pady</font> 4}}
    {fra2 + T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labLocal - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Preferable locale:} <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,locale)</font>}}}
    {.cbxLocal + L 1 1 {<font color=#6c3e67>-st</font> sew <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(LOCAL) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$::alited::pref::locales</font>} <font color=#6c3e67>-w</font> 4  <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,locale)</font>} <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-selcombobox</font> alited::pref::GetLocaleImage  <font color=#6c3e67>-afteridle</font> alited::pref::GetLocaleImage}}
    {.LabLocales + L 1 7}
    {.labFon .labLocal T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> Font:}}
    {.fonTxt1 + L 1 7 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(FONT) <font color=#6c3e67>-w</font> 50}}
    {.labFsz1 .labFon T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Small font size:}}}
    {.spxFsz1 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(FONTSIZE,small) <font color=#6c3e67>-from</font> 6 <font color=#6c3e67>-to</font> 72}}
    {.labFsz2 .labFsz1 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,middlefont)</font>}}}
    {.spxFsz2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(FONTSIZE,std) <font color=#6c3e67>-from</font> 7 <font color=#6c3e67>-to</font> 72}}
    {seh_2 fra2 T 1 2 {<font color=#6c3e67>-pady</font> 4}}
    {lab + T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> Notes:}}
    {fra3 + T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-cw</font> 1}}
    {.TexNotes - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-h</font> 20 <font color=#6c3e67>-w</font> 70 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> {alited::Tnext *.spxCurw}  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,notes)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab2'>General_Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General/Saving&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_General_Tab2' href="javascript:toggleSource('alited_pref_General_Tab2')">Show source</a></p>
<div id='alited_pref_General_Tab2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::General_Tab2 {} {
  <i><font color=#4b5d50># Serves to layout &quot;General/Saving&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labport - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Port to listen alited:&quot;</font>}}
    {.cbxport + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5}  {<font color=#6c3e67>-tvar</font> ::alited::al(comm_port) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$al(comm_port_list)</font>} <font color=#6c3e67>-w</font> 8  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;The empty value allows\nmultiple alited apps.&quot;</font>}}
    {.labConf .labport T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Confirm exit:&quot;</font>}}
    {.spxConf + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(INI,confirmexit) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 60 <font color=#6c3e67>-tip</font> {<font color=#8b2a0e>&quot;&gt; 1&quot;</font> : N sec.}}}
    {.seh1 .labConf T 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}}
    {.labS + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Save configuration on&quot;</font>}}
    {.labSonadd + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;opening a file:&quot;</font>}}
    {.swiOnadd + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(INI,save_onadd)}}
    {.labSonclose .labSonadd T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;closing a file:&quot;</font>}}
    {.swiOnclose + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(INI,save_onclose)}}
    {.labSonsave .labSonclose T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;saving a file:&quot;</font>}}
    {.swiOnsave + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(INI,save_onsave)}}
    {.labSave .labSonsave T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Save before bar-menu runs:&quot;</font>}}
    {.rad1 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(EM,save) <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,allfiles)&quot;</font>}}
    {.rad2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(EM,save) <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,currfile)&quot;</font>}}
    {.rad3 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> ::alited::al(EM,save) <font color=#6c3e67>-value</font> 3 <font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,none)&quot;</font>}}
    {.seh3 .labSave T 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}}
    {.labRecnt + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;'Recent Files' length:&quot;</font>}}
    {.spxRecnt + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(INI,RECENTFILES) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 50}}
    {.labMaxLast .labRecnt T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;'Last Visited' length:&quot;</font>}}
    {.spxMaxLast + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(FAV,MAXLAST) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100}}
    {.labMaxFiles .labMaxLast T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Maximum of project files:&quot;</font>}}
    {.spxMaxFiles + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(MAXFILES) <font color=#6c3e67>-from</font> 1000 <font color=#6c3e67>-to</font> 9999}}
    {.seh4 .labMaxFiles T 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}}
    {.labBackup + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Back up files to a project's subdirectory:&quot;</font>}}
    {.cbxBackup + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1}  {<font color=#6c3e67>-tvar</font> ::alited::al(BACKUP) <font color=#6c3e67>-values</font> {{} .bak} <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-w</font> 6  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;A subdirectory of projects where backup copies of files will be saved to.\nSet the field blank to cancel the backup.&quot;</font>  <font color=#6c3e67>-afteridle</font> alited::pref::CbxBackup <font color=#6c3e67>-selcombobox</font> alited::pref::CbxBackup}}
    {.LabMaxBak + L 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 1} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;  Maximum:&quot;</font>}}
    {.SpxMaxBak + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 1}  {<font color=#6c3e67>-tvar</font> ::alited::al(MAXBACKUP) <font color=#6c3e67>-from</font> 1 <font color=#6c3e67>-to</font> 99 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,maxbak)</font>}}}
    {.labBell .labBackup T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Bell at warnings:&quot;</font>}}
    {.swiBell + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-var</font> ::alited::al(INI,belltoll) <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab3'>General_Tab3</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General/Projects&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_General_Tab3' href="javascript:toggleSource('alited_pref_General_Tab3')">Show source</a></p>
<div id='alited_pref_General_Tab3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::General_Tab3 {} {
  <i><font color=#4b5d50># Serves to layout &quot;General/Projects&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 10}
    {fra2 v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labDef - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Default values for new projects:}}}
    {.swiDef + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-var</font> ::alited::al(PRJDEFAULT) <font color=#6c3e67>-com</font> alited::pref::CheckUseDef  <font color=#6c3e67>-afteridle</font> alited::pref::CheckUseDef}}
    {.seh .labDef T 1 10 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}}
    {.labIgn + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,Ign:)</font>}}}
    {.EntIgn + L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(DEFAULT,prjdirign) <font color=#6c3e67>-w</font> 50}}
    {.labEOL .labIgn T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,EOL:)</font>}}}
    {.CbxEOL + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(DEFAULT,prjEOL) <font color=#6c3e67>-values</font> {{} LF CR CRLF} <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-w</font> 9}}
    {.labIndent .labEOL T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,indent:)</font>}}}
    {.SpxIndent + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(DEFAULT,prjindent) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 8 <font color=#6c3e67>-com</font> ::alited::pref::CheckIndent}}
    {.ChbIndAuto + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-var</font> ::alited::al(DEFAULT,prjindentAuto) <font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,indentAuto)</font>}}}
    {.labRedunit .labIndent T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,redunit)</font>}}}
    {.SpxRedunit + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(DEFAULT,prjredunit) <font color=#6c3e67>-from</font> <font color=#1b1baa>$al(minredunit)</font> <font color=#6c3e67>-to</font> 100}}
    {.labMult .labRedunit T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,multiline)</font>} <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,notrecomm)</font>}}}
    {.SwiMult + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-var</font> ::alited::al(DEFAULT,prjmultiline) <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,notrecomm)</font>}}}
    {.labTrWs .labMult T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,trailwhite)</font>}}}
    {.SwiTrWs + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-var</font> ::alited::al(DEFAULT,prjtrailwhite) <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetCS'>GetCS</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a color scheme's index from <em>opcc</em> / <em>opcc2</em>  variable.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCS</span> <span class='ruff_arg'>?ncc?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ncc</code></code></td><td class='ruff_defitem'>{} for opcc, {2} for opcc2; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_GetCS' href="javascript:toggleSource('alited_pref_GetCS')">Show source</a></p>
<div id='alited_pref_GetCS' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::GetCS {{ncc {}}} {
  <i><font color=#4b5d50># Gets a color scheme's index from *opcc* / *opcc2*  variable.</font></i>
  <i><font color=#4b5d50>#   ncc - {} for opcc, {2} for opcc2</font></i>

  fetchVars
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>scan</font></b> [<b><font color=#3a6797>set</font></b> opcc<font color=#1b1baa>$ncc</font>] %d:]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetKeyList'>GetKeyList</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a list of available (not engaged) key combinations.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetKeyList</span> <span class='ruff_arg'>nk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox that will get the list as -values option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_GetKeyList' href="javascript:toggleSource('alited_pref_GetKeyList')">Show source</a></p>
<div id='alited_pref_GetKeyList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::GetKeyList {nk} {
  <i><font color=#4b5d50># Gets a list of available (not engaged) key combinations.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox that will get the list as -values option</font></i>

  fetchVars
  RegisterKeys
  [<font color=#1b1baa>$obPrf</font> CbxKey<font color=#1b1baa>$nk</font>] configure <font color=#6c3e67>-values</font> [alited::keys::VacantList]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetLocaleImage'>GetLocaleImage</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetLocaleImage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_GetLocaleImage' href="javascript:toggleSource('alited_pref_GetLocaleImage')">Show source</a></p>
<div id='alited_pref_GetLocaleImage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::GetLocaleImage {} {
  fetchVars
  [<font color=#1b1baa>$obPrf</font> LabLocales] configure <font color=#6c3e67>-image</font> ::alited::pref::LOC<font color=#1b1baa>$al(LOCAL)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a help on a current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Help' href="javascript:toggleSource('alited_pref_Help')">Show source</a></p>
<div id='alited_pref_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Help {} {
  <i><font color=#4b5d50># Shows a help on a current tab.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select] .] end]
  alited::Help <font color=#1b1baa>$win</font> <font color=#8b2a0e>&quot;-<font color=#1b1baa>${</font>curTab<font color=#1b1baa>}</font>-<font color=#1b1baa>$</font>sel&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::IniKeys'>IniKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets key settings at opening &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IniKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_IniKeys' href="javascript:toggleSource('alited_pref_IniKeys')">Show source</a></p>
<div id='alited_pref_IniKeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::IniKeys {} {
  <i><font color=#4b5d50># Gets key settings at opening &quot;Preferences&quot; dialogue.</font></i>

  fetchVars
  <i><font color=#4b5d50># default settings</font></i>
  <b><font color=#3a6797>dict</font></b> for {k info} <font color=#1b1baa>$stdkeys</font> {
    <b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> prevkeys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> savekeys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$info</font> 1]]]
  }
  <i><font color=#4b5d50># new settings</font></i>
  <b><font color=#3a6797>foreach</font></b> kitem [alited::keys::EngagedList preference] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kitem</font> key comi
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$comi</font> com k
    <b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> prevkeys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> savekeys(<font color=#1b1baa>$k</font>) <font color=#1b1baa>$key</font>]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitLocales'>InitLocales</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates flag images to display at &quot;Preferable locale&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitLocales</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_InitLocales' href="javascript:toggleSource('alited_pref_InitLocales')">Show source</a></p>
<div id='alited_pref_InitLocales' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitLocales {} {
  <i><font color=#4b5d50># Creates flag images to display at &quot;Preferable locale&quot;.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$locales</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> imd [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::DATADIR</font> img]
  <b><font color=#3a6797>set</font></b> locales [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> lm [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$imd</font> ??.png]] {
    <b><font color=#3a6797>set</font></b> loc [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$lm</font>]]
    <b><font color=#134070>image</font></b> create photo ::alited::pref::LOC<font color=#1b1baa>$loc</font> <font color=#6c3e67>-file</font> <font color=#1b1baa>$lm</font>
    <b><font color=#3a6797>lappend</font></b> locales <font color=#1b1baa>$loc</font>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::MSGSDIR</font> <font color=#1b1baa>$al(LOCAL)</font>.msg]]} {
    <b><font color=#3a6797>set</font></b> al(LOCAL) en
  }
  <b><font color=#3a6797>set</font></b> locales [<b><font color=#3a6797>lsort</font></b> <font color=#1b1baa>$locales</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitSyntax'>InitSyntax</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates and initializes color fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitSyntax</span> <span class='ruff_arg'>lng</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lng</code></code></td><td class='ruff_defitem'>{} for Tcl, {2} for C/C++</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_InitSyntax' href="javascript:toggleSource('alited_pref_InitSyntax')">Show source</a></p>
<div id='alited_pref_InitSyntax' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitSyntax {lng} {
  <i><font color=#4b5d50># Updates and initializes color fields.</font></i>
  <i><font color=#4b5d50>#   lng - {} for Tcl, {2} for C/C++</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> nam {COM COMTK STR VAR CMN PROC OPT BRA} {
    <b><font color=#3a6797>set</font></b> ent [<font color=#1b1baa>$obPrf</font> Entclr<font color=#1b1baa>$nam$lng</font>] ;<i><font color=#4b5d50># method's name, shown by -debug attribute</font></i>
    <b><font color=#3a6797>set</font></b> lab [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> .entclr .labclr] <font color=#1b1baa>$ent</font>]  ;<i><font color=#4b5d50># colored label</font></i>
    <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-background</font> [<font color=#1b1baa>$ent</font> get]
    ::apave::bindToEvent <font color=#1b1baa>$ent</font> &lt;FocusIn&gt; alited::pref::UpdateSyntaxTab <font color=#1b1baa>$lng</font>
    ::apave::bindToEvent <font color=#1b1baa>$ent</font> &lt;FocusOut&gt; alited::pref::UpdateSyntaxTab <font color=#1b1baa>$lng</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitSyntaxC'>InitSyntaxC</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes syntax stuff for C/C++.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitSyntaxC</span> <span class='ruff_arg'>colors</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>colors</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_InitSyntaxC' href="javascript:toggleSource('alited_pref_InitSyntaxC')">Show source</a></p>
<div id='alited_pref_InitSyntaxC' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitSyntaxC {<b><font color=#134070>colors</font></b>} {
  <i><font color=#4b5d50># Initializes syntax stuff for C/C++.</font></i>
  <i><font color=#4b5d50>#    colors - highlighting colors</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> tex [<font color=#1b1baa>$obPrf</font> TexCSample]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$tex</font> get 1.0 end]] eq {}} {
    <font color=#1b1baa>$obPrf</font> displayText <font color=#1b1baa>$tex</font> {static sample(const char *ptr) {
  char *tx, *st;
  tx = get_text();   // inline comment
  st = get_string(); //! TODO
  <b><font color=#3a6797>if</font></b> (strstr(tx,st)!=tx) return FALSE;
  /* it's
  okay */
  tx += strlen(st);
  ptr = strstr(tx+1,<font color=#8b2a0e>&quot;My string&quot;</font>);
  <b><font color=#ca14ca>return</font></b> TRUE
}}}
  <b><font color=#3a6797>set</font></b> wk [<font color=#1b1baa>$obPrf</font> TexCKeys]
  ::apave::bindToEvent <font color=#1b1baa>$wk</font> &lt;FocusOut&gt; alited::pref::UpdateSyntaxTab 2
  <b><font color=#3a6797>set</font></b> keywords [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wk</font> get 1.0 end]]
  alited::SyntaxHighlight c <font color=#1b1baa>$tex</font> <font color=#1b1baa>$colors</font> [GetCS] <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$keywords</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitSyntaxTcl'>InitSyntaxTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes syntax stuff for Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitSyntaxTcl</span> <span class='ruff_arg'>colors</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>colors</code></code></td><td class='ruff_defitem'>highlighting colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_InitSyntaxTcl' href="javascript:toggleSource('alited_pref_InitSyntaxTcl')">Show source</a></p>
<div id='alited_pref_InitSyntaxTcl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitSyntaxTcl {<b><font color=#134070>colors</font></b>} {
  <i><font color=#4b5d50># Initializes syntax stuff for Tcl.</font></i>
  <i><font color=#4b5d50>#    colors - highlighting colors</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> tex [<font color=#1b1baa>$obPrf</font> TexSample]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPrf</font> csGet] - - - - - - - - tfgD bclr
  <font color=#1b1baa>$tex</font> configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$tfgD</font> <font color=#6c3e67>-highlightcolor</font> <font color=#1b1baa>$bclr</font>
  <b><font color=#3a6797>set</font></b> texC [<font color=#1b1baa>$obPrf</font> TexCSample]
  <font color=#1b1baa>$texC</font> configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$tfgD</font> <font color=#6c3e67>-highlightcolor</font> <font color=#1b1baa>$bclr</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$tex</font> get 1.0 end]] eq {}} {
  <font color=#1b1baa>$obPrf</font> displayText <font color=#1b1baa>$tex</font> {<b><font color=#ca14ca>proc</font></b> foo {args} {
  <i><font color=#4b5d50># Tcl code to test colors.</font></i>
  <b><font color=#3a6797>set</font></b> var <font color=#8b2a0e>&quot;(Multiline string)</font>
<font color=#8b2a0e>    Args=<font color=#1b1baa>$</font>args&quot;</font>
  <b><font color=#134070>winfo</font></b> interps <font color=#6c3e67>-displayof</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> 0]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$var</font> ;<i><font color=#ff0000>#! text of TODO</font></i>
}}}
  <b><font color=#3a6797>set</font></b> wk [<font color=#1b1baa>$obPrf</font> TexTclKeys]
  ::apave::bindToEvent <font color=#1b1baa>$wk</font> &lt;FocusOut&gt; alited::pref::UpdateSyntaxTab
  <b><font color=#3a6797>set</font></b> keywords [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wk</font> get 1.0 end]]
  alited::SyntaxHighlight tcl <font color=#1b1baa>$tex</font> <font color=#1b1baa>$colors</font> [GetCS] <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$keywords</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::KeyAccelerator'>KeyAccelerator</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a key accelerator for a combobox of keys, bound to an action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyAccelerator</span> <span class='ruff_arg'>nk defk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox</td></tr>
<tr><td class='ruff_defitem'><code><code>defk</code></code></td><td class='ruff_defitem'>default key combination</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_KeyAccelerator' href="javascript:toggleSource('alited_pref_KeyAccelerator')">Show source</a></p>
<div id='alited_pref_KeyAccelerator' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::KeyAccelerator {nk defk} {
  <i><font color=#4b5d50># Gets a key accelerator for a combobox of keys, bound to an action.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox</font></i>
  <i><font color=#4b5d50>#   defk - default key combination</font></i>

  <b><font color=#3a6797>set</font></b> acc [BindKey <font color=#1b1baa>$nk</font> - <font color=#1b1baa>$defk</font>]
  <b><font color=#ca14ca>return</font></b> [::apave::KeyAccelerator <font color=#1b1baa>$acc</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::KeyAccelerators'>KeyAccelerators</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a full list of key accelerators,</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyAccelerators</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_KeyAccelerators' href="javascript:toggleSource('alited_pref_KeyAccelerators')">Show source</a></p>
<div id='alited_pref_KeyAccelerators' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::KeyAccelerators {} {
  <i><font color=#4b5d50># Gets a full list of key accelerators,</font></i>

  fetchVars
  <b><font color=#3a6797>dict</font></b> for {k info} <font color=#1b1baa>$stdkeys</font> {
    <b><font color=#3a6797>set</font></b> al(acc_<font color=#1b1baa>$k</font>) [KeyAccelerator <font color=#1b1baa>$k</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$info</font> 1]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Keys_Tab1'>Keys_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Keys&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Keys_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Keys_Tab1' href="javascript:toggleSource('alited_pref_Keys_Tab1')">Show source</a></p>
<div id='alited_pref_Keys_Tab1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Keys_Tab1 {} {
  <i><font color=#4b5d50># Serves to layout &quot;Keys&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {<b><font color=#3a6797>after</font></b> idle}
    {v_ - - 1 1}
    {fra + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {tcl {
        <b><font color=#3a6797>set</font></b> pr -
        <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$::alited::pref::StdkeysSize</font>} {<b><font color=#3a6797>incr</font></b> i} {
          <b><font color=#3a6797>set</font></b> lab <font color=#8b2a0e>&quot;lab<font color=#1b1baa>$</font>i&quot;</font>
          <b><font color=#3a6797>set</font></b> cbx <font color=#8b2a0e>&quot;CbxKey<font color=#1b1baa>$</font>i&quot;</font>
          <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>dict</font></b> get <font color=#1b1baa>$::alited::pref::stdkeys</font> <font color=#1b1baa>$i</font>] text key
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;.<font color=#1b1baa>$</font>lab <font color=#1b1baa>$</font>pr T 1 1 <font color=#1b1baa>{</font>-st e -pady 1 -padx 3<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-t \&quot;<font color=#1b1baa>$</font>text\&quot;<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$i</font>+1)==<font color=#1b1baa>$::alited::pref::StdkeysSize</font>} {
            <b><font color=#3a6797>set</font></b> pr {<font color=#6c3e67>-tabnext</font> alited::Tnext}
          } <b><font color=#3a6797>else</font></b> {
            <b><font color=#3a6797>set</font></b> pr {}
          }
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;.<font color=#1b1baa>$</font>cbx + L 1 1 <font color=#1b1baa>{</font>-st we<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-tvar ::alited::pref::keys(<font color=#1b1baa>$</font>i)  -postcommand <font color=#1b1baa>{</font>::alited::pref::GetKeyList <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font> -selcombobox  <font color=#1b1baa>{</font>::alited::pref::SelectKey <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font> -state readonly -h 16 -w 20 <font color=#1b1baa>$</font>pr<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> pr .<font color=#1b1baa>$lab</font>
        }
    }}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::MainFrame'>MainFrame</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main frame of the dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MainFrame</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_MainFrame' href="javascript:toggleSource('alited_pref_MainFrame')">Show source</a></p>
<div id='alited_pref_MainFrame' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::MainFrame {} {
  <i><font color=#4b5d50># Creates a main frame of the dialogue.</font></i>

  fetchVars
  <font color=#1b1baa>$obPrf</font> untouchWidgets *.cannbk*
  <b><font color=#ca14ca>return</font></b> {
    {fraL - - 1 1 {<font color=#6c3e67>-st</font> nws <font color=#6c3e67>-rw</font> 2}}
    {.ButHome - - 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;General&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;alited::pref::Tab nbk&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk + L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1  <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButChange .butHome T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 1}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Editor&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;alited::pref::Tab nbk2&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk2 + L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1  <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButCategories .butChange T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Units&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;alited::pref::Tab nbk3&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk3 + L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1  <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButActions .butCategories T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 1}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Templates&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;alited::pref::Tab nbk4&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk4 + L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1  <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButKeys .butActions T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0}  {<font color=#6c3e67>-image</font> alimg_kbd <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Keys&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;alited::pref::Tab nbk5&quot;</font>  <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk5 + L 1 1 {<font color=#6c3e67>-st</font> ns}  {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButTools .butKeys T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 1}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Tools&quot;</font> <font color=#6c3e67>-com</font> <font color=#8b2a0e>&quot;alited::pref::Tab nbk6&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk6 + L 1 1 {<font color=#6c3e67>-st</font> ns}  {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.v_  .butTools T 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-h</font> 30}}
    {fraR fraL L 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {fraR.nbk - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {
        f1 {<font color=#6c3e67>-t</font> View}
        f2 {<font color=#6c3e67>-t</font> Saving}
        f3 {<font color=#6c3e67>-t</font> Projects}
    }}
    {fraR.nbk2 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Editor}
        f2 {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Tcl syntax&quot;</font>}
        f3 {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;C/C++ syntax&quot;</font>}
        f4 {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Plain text&quot;</font>}
    }}
    {fraR.nbk3 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Units}
    }}
    {fraR.nbk4 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Templates}
    }}
    {fraR.nbk5 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Keys}
    }}
    {fraR.nbk6 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Common}
        f2 {<font color=#6c3e67>-t</font> e_menu}
        f3 {<font color=#6c3e67>-t</font> bar-menu}
        f4 {<font color=#6c3e67>-t</font> Tkcon}
    }}
    {seh fraL T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 2}}
    {fraB + T 1 2 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-padding</font> {2 2}}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,help)</font>}  <font color=#6c3e67>-tip</font> F1 <font color=#6c3e67>-com</font> ::alited::pref::Help}}
    {.LabMess - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 8}}
    {.ButOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Save <font color=#6c3e67>-com</font> ::alited::pref::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> ::alited::pref::Cancel}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of preferences dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>2</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Message' href="javascript:toggleSource('alited_pref_Message')">Show source</a></p>
<div id='alited_pref_Message' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Message {msg {mode 2}} {
  <i><font color=#4b5d50># Displays a message in statusbar of preferences dialogue.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - mode of Message</font></i>

  fetchVars
  alited::Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> [<font color=#1b1baa>$obPrf</font> LabMess]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handler of &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Ok' href="javascript:toggleSource('alited_pref_Ok')">Show source</a></p>
<div id='alited_pref_Ok' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Ok {args} {
  <i><font color=#4b5d50># Handler of &quot;OK&quot; button.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {![CheckOk]} <b><font color=#ca14ca>return</font></b>
  alited::CloseDlg
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,confirmexit)</font>&gt;1} {
    <b><font color=#3a6797>set</font></b> timo <font color=#8b2a0e>&quot;-timeout <font color=#1b1baa>{$</font>al(INI,confirmexit) ButOK<font color=#1b1baa>}</font>&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> timo {}
  }
  <b><font color=#3a6797>set</font></b> ans [alited::msg okcancel info <font color=#1b1baa>$al(MC,restart)</font> OK <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$win</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$timo</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font>} {
    <i><font color=#4b5d50># check options that can make alited unusable</font></i>
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(INI,HUE)</font> -50 50]} {<b><font color=#3a6797>set</font></b> al(INI,HUE) 0}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(FONTSIZE,small)</font> 6 72]} {<b><font color=#3a6797>set</font></b> al(FONTSIZE,small) 9}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(FONTSIZE,std)</font> 7 72]} {<b><font color=#3a6797>set</font></b> al(FONTSIZE,std) 10}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(INI,RECENTFILES)</font> 10 50]} {<b><font color=#3a6797>set</font></b> al(INI,RECENTFILES) 16}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(FAV,MAXLAST)</font> 10 100]} {<b><font color=#3a6797>set</font></b> al(FAV,MAXLAST) 100}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(MAXFILES)</font> 1000 9999]} {<b><font color=#3a6797>set</font></b> al(MAXFILES) 5000}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(INI,barlablen)</font> 10 100]} {<b><font color=#3a6797>set</font></b> al(INI,barlablen) 16}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(INI,bartiplen)</font> 10 100]} {<b><font color=#3a6797>set</font></b> al(INI,bartiplen) 32}
    <b><font color=#3a6797>if</font></b> {![::apave::intInRange <font color=#1b1baa>$al(CURSORWIDTH)</font> 1 8]} {<b><font color=#3a6797>set</font></b> al(CURSORWIDTH) 2}
    <b><font color=#3a6797>set</font></b> al(THEME) <font color=#1b1baa>$opc1</font>
    <b><font color=#3a6797>set</font></b> al(INI,CS) [GetCS]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is integer <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(INI,CS)</font>]} {<b><font color=#3a6797>set</font></b> al(INI,CS) <font color=#1b1baa>$al(defCS)</font>}
    <b><font color=#3a6797>set</font></b> al(EM,CS)  [GetCS 2]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is integer <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(EM,CS)</font>]} {<b><font color=#3a6797>set</font></b> al(EM,CS) <font color=#1b1baa>$al(defCS)</font>}
    <b><font color=#3a6797>set</font></b> al(ED,TclKeyWords) [[<font color=#1b1baa>$obPrf</font> TexTclKeys] get 1.0 {end -1c}]
    <b><font color=#3a6797>set</font></b> al(ED,TclKeyWords) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n { }] <font color=#1b1baa>$al(ED,TclKeyWords)</font>]
    <b><font color=#3a6797>set</font></b> al(ED,CKeyWords) [[<font color=#1b1baa>$obPrf</font> TexCKeys] get 1.0 {end -1c}]
    <b><font color=#3a6797>set</font></b> al(ED,CKeyWords) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n { }] <font color=#1b1baa>$al(ED,CKeyWords)</font>]
    <b><font color=#3a6797>set</font></b> al(BACKUP) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(BACKUP)</font>]
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(TCLLIST) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(TCLLIST)</font> 32 end]}
    <b><font color=#3a6797>set</font></b> al(EM,TclList) <font color=#1b1baa>$al(EM,Tcl)</font>
    <b><font color=#3a6797>foreach</font></b> tcl <font color=#1b1baa>$al(TCLLIST)</font> {
      <b><font color=#3a6797>if</font></b> {[::apave::lsearchFile [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,TclList)</font> \t] <font color=#1b1baa>$tcl</font>]&lt;0} {
        <b><font color=#3a6797>append</font></b> al(EM,TclList) \t <font color=#1b1baa>$tcl</font>
      }
    }
    <b><font color=#3a6797>set</font></b> al(EM,TclList) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(EM,TclList)</font>]
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(TTLIST) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(TTLIST)</font> 32 end]}
    <b><font color=#3a6797>set</font></b> al(EM,tt=List) <font color=#1b1baa>$al(EM,tt=)</font>
    <b><font color=#3a6797>foreach</font></b> tt <font color=#1b1baa>$al(TTLIST)</font> {
      <b><font color=#3a6797>if</font></b> {[::apave::lsearchFile [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,tt=List)</font> \t] <font color=#1b1baa>$tt</font>]&lt;0} {
        <b><font color=#3a6797>append</font></b> al(EM,tt=List) \t <font color=#1b1baa>$tt</font>
      }
    }
    <b><font color=#3a6797>set</font></b> al(EM,tt=List) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(EM,tt=List)</font>]
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(WTLIST) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(WTLIST)</font> 32 end]}
    <b><font color=#3a6797>set</font></b> al(EM,wt=List) <font color=#1b1baa>$al(EM,wt=)</font>
    <b><font color=#3a6797>foreach</font></b> wt <font color=#1b1baa>$al(WTLIST)</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wt</font> ni [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,wt=List)</font> \t]} {<b><font color=#3a6797>append</font></b> al(EM,wt=List) \t <font color=#1b1baa>$wt</font>}
    }
    <b><font color=#3a6797>set</font></b> al(EM,wt=List) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(EM,wt=List)</font>]
    <b><font color=#3a6797>set</font></b> plst [<b><font color=#3a6797>lsort</font></b> [<b><font color=#3a6797>list</font></b> {} <font color=#1b1baa>$al(comm_port)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(comm_port_list)</font>]]
    <b><font color=#3a6797>set</font></b> al(comm_port_list) [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> pt <font color=#1b1baa>$plst</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pt</font> ni <font color=#1b1baa>$al(comm_port_list)</font>} {<b><font color=#3a6797>lappend</font></b> al(comm_port_list) <font color=#1b1baa>$pt</font>}
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(comm_port_list)</font>]&gt;32} <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>set</font></b> al(EM,DiffTool) [<b><font color=#3a6797>file</font></b> join {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>file</font></b> split <font color=#1b1baa>$al(EM,DiffTool)</font>]]
    <b><font color=#3a6797>set</font></b> al(RE,proc) [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$al(RE,proc)</font>]
    <font color=#1b1baa>$obPrf</font> res <font color=#1b1baa>$win</font> 1
    alited::Exit - 1 no
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::opcIcoPre'>opcIcoPre</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an item for icon list of a bar-menu action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>opcIcoPre</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains a name of current icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_opcIcoPre' href="javascript:toggleSource('alited_pref_opcIcoPre')">Show source</a></p>
<div id='alited_pref_opcIcoPre' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::opcIcoPre {args} {
  <i><font color=#4b5d50># Gets an item for icon list of a bar-menu action.</font></i>
  <i><font color=#4b5d50>#   args - contains a name of current icon</font></i>

  fetchVars
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> a
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$listIcons</font> <font color=#1b1baa>$a</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> img [::apave::iconImage [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$listIcons</font> <font color=#1b1baa>$i</font>]]
    <b><font color=#3a6797>set</font></b> res <font color=#8b2a0e>&quot;-image <font color=#1b1baa>$</font>img -compound left &quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res {}
  }
  <b><font color=#3a6797>append</font></b> res <font color=#8b2a0e>&quot;-label &quot;</font> [alited::TextIcon <font color=#1b1baa>$a</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::opcToolPre'>opcToolPre</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets colors for &quot;Color schemes&quot; items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>opcToolPre</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>a color scheme's index and name, separated by &quot;:&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_opcToolPre' href="javascript:toggleSource('alited_pref_opcToolPre')">Show source</a></p>
<div id='alited_pref_opcToolPre' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::opcToolPre {args} {
  <i><font color=#4b5d50># Gets colors for &quot;Color schemes&quot; items.</font></i>
  <i><font color=#4b5d50>#   args - a color scheme's index and name, separated by &quot;:&quot;</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> a
  <b><font color=#3a6797>set</font></b> a [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$a</font> :]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is integer <font color=#1b1baa>$a</font>]} {
    <b><font color=#3a6797>lassign</font></b> [obj csGet <font color=#1b1baa>$a</font>] - fg - bg
    <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;-background <font color=#1b1baa>$</font>bg -foreground <font color=#1b1baa>$</font>fg&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#ca14ca>return</font></b> {}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::OwnCS'>OwnCS</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Looks for ownCS option.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OwnCS</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_OwnCS' href="javascript:toggleSource('alited_pref_OwnCS')">Show source</a></p>
<div id='alited_pref_OwnCS' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::OwnCS {} {
  <i><font color=#4b5d50># Looks for ownCS option.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,exec)</font>} {<b><font color=#3a6797>set</font></b> st normal} {<b><font color=#3a6797>set</font></b> st disabled; <b><font color=#3a6797>set</font></b> al(EM,ownCS) no}
  [<font color=#1b1baa>$obPrf</font> SwiCS] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$st</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,ownCS)</font>} {<b><font color=#3a6797>set</font></b> st normal} {<b><font color=#3a6797>set</font></b> st disabled}
  [<font color=#1b1baa>$obPrf</font> OpcCS] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$st</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::PickMenuItem'>PickMenuItem</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects e_menu's action for a &quot;bar-menu&quot; item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickMenuItem</span> <span class='ruff_arg'>it</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>it</code></code></td><td class='ruff_defitem'>index of &quot;bar-menu&quot; item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_PickMenuItem' href="javascript:toggleSource('alited_pref_PickMenuItem')">Show source</a></p>
<div id='alited_pref_PickMenuItem' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::PickMenuItem {it} {
  <i><font color=#4b5d50># Selects e_menu's action for a &quot;bar-menu&quot; item.</font></i>
  <i><font color=#4b5d50>#   it - index of &quot;bar-menu&quot; item</font></i>

  fetchVars
  ::alited::Source_e_menu
  <b><font color=#3a6797>set</font></b> w [<font color=#1b1baa>$obPrf</font> ButMnu<font color=#1b1baa>$it</font>]
  <b><font color=#3a6797>set</font></b> X [<b><font color=#134070>winfo</font></b> rootx <font color=#1b1baa>$w</font>]
  <b><font color=#3a6797>set</font></b> Y [<b><font color=#134070>winfo</font></b> rooty <font color=#1b1baa>$w</font>]
  <b><font color=#3a6797>set</font></b> res [::em::main <font color=#6c3e67>-prior</font> 1 <font color=#6c3e67>-modal</font> 1 <font color=#6c3e67>-remain</font> 0 <font color=#6c3e67>-noCS</font> 1  {<b><font color=#3a6797>*</font></b>}[alited::tool::EM_Options  <font color=#8b2a0e>&quot;pk=yes dk=dock o=-1 t=1 g=+<font color=#1b1baa>[</font>incr X 5<font color=#1b1baa>]</font>+<font color=#1b1baa>[</font>incr Y 25<font color=#1b1baa>]</font> mp=1&quot;</font>]]
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$res</font> menu idx item
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {
    <b><font color=#3a6797>set</font></b> item1 [<b><font color=#3a6797>lindex</font></b> [alited::tool::EM_Structure <font color=#1b1baa>$menu</font>] <font color=#1b1baa>$idx</font>-1 1]
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$item1</font> -\n] -&gt; item2 item3
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item2</font> ne <font color=#1b1baa>$item3</font> && [<b><font color=#3a6797>string</font></b> match *.em <font color=#1b1baa>$item2</font>]} {
      <b><font color=#3a6797>append</font></b> item2 <font color=#8b2a0e>&quot;: <font color=#1b1baa>$</font>item3&quot;</font>  ;<i><font color=#4b5d50># it's a menu call title</font></i>
      <b><font color=#3a6797>set</font></b> idx - ;<i><font color=#4b5d50># to open the whole menu</font></i>
    }
    <font color=#1b1baa>$w</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$item2</font>
    <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$it</font>) [::apave::NormalizeName <font color=#1b1baa>$item2</font>]
    <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$it</font>) [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$menu</font>] <font color=#1b1baa>$idx</font> <font color=#1b1baa>$item2</font>]
    ScrollRuns
  }
  <b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> <font color=#1b1baa>$w</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ProcMessage'>ProcMessage</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles clicking on message label.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcMessage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_ProcMessage' href="javascript:toggleSource('alited_pref_ProcMessage')">Show source</a></p>
<div id='alited_pref_ProcMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::ProcMessage {} {
  <i><font color=#4b5d50># Handles clicking on message label.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> msg [baltip cget [<font color=#1b1baa>$obPrf</font> LabMess] <font color=#6c3e67>-text</font>]
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::RegisterKeys'>RegisterKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds key bindings to keys array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RegisterKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_RegisterKeys' href="javascript:toggleSource('alited_pref_RegisterKeys')">Show source</a></p>
<div id='alited_pref_RegisterKeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::RegisterKeys {} {
  <i><font color=#4b5d50># Adds key bindings to keys array.</font></i>

  fetchVars
  alited::keys::Delete preference
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> k 0} {<font color=#1b1baa>$k</font>&lt;<font color=#1b1baa>$StdkeysSize</font>} {<b><font color=#3a6797>incr</font></b> k} {
    alited::keys::Add preference <font color=#1b1baa>$k</font> [<b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>)] <font color=#8b2a0e>&quot;alited::pref::BindKey <font color=#1b1baa>$</font>k <font color=#1b1baa>{</font>%k<font color=#1b1baa>}</font>&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ReservedIcons'>ReservedIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of icons already engaged by alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedIcons</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of icons already engaged by alited.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_ReservedIcons' href="javascript:toggleSource('alited_pref_ReservedIcons')">Show source</a></p>
<div id='alited_pref_ReservedIcons' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::ReservedIcons {} {
  <i><font color=#4b5d50># Returns a list of icons already engaged by alited.</font></i>

  <b><font color=#3a6797>list</font></b> file OpenFile box SaveFile saveall undo redo help replace run other ok color
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::RestoreSettings'>RestoreSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores original settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_RestoreSettings' href="javascript:toggleSource('alited_pref_RestoreSettings')">Show source</a></p>
<div id='alited_pref_RestoreSettings' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::RestoreSettings {} {
  <i><font color=#4b5d50># Restores original settings.</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> o [SavedOptions] {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$o</font>) <font color=#1b1baa>$data($o)</font>}
  }
  <b><font color=#3a6797>dict</font></b> for {k info} <font color=#1b1baa>$stdkeys</font> {
    <b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>) <font color=#1b1baa>$savekeys($k)</font>
    SelectKey <font color=#1b1baa>$k</font>
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$data(em_mnu,$i)</font>
      <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$data(em_ico,$i)</font>
      <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$data(em_inf,$i)</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists ::em::geometry]} {<b><font color=#3a6797>set</font></b> ::em::geometry <font color=#1b1baa>$al(EM,geometry)</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Runs_Tab'>Runs_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and layouts &quot;Tools/bar-menu&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Runs_Tab</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>a tab to open (saved at previous session) or {}</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Runs_Tab' href="javascript:toggleSource('alited_pref_Runs_Tab')">Show source</a></p>
<div id='alited_pref_Runs_Tab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Runs_Tab {tab} {
  <i><font color=#4b5d50># Prepares and layouts &quot;Tools/bar-menu&quot; tab.</font></i>
  <i><font color=#4b5d50>#   tab - a tab to open (saved at previous session) or {}</font></i>

  fetchVars
  <i><font color=#4b5d50># get a list of all available icons for &quot;bar-menu&quot; actions</font></i>
  <b><font color=#3a6797>set</font></b> listIcons [::apave::iconImage]
  <b><font color=#3a6797>set</font></b> em_Icons [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$listIcons</font>]
  <b><font color=#3a6797>set</font></b> icr 0
  <b><font color=#3a6797>set</font></b> ncr 0
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;(<font color=#1b1baa>$n</font>+43)} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icr</font> && (<font color=#1b1baa>$icr</font> % 13) == 0} {<b><font color=#3a6797>lappend</font></b> em_Icons |}
    <b><font color=#3a6797>set</font></b> ii [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$icr</font>-<font color=#1b1baa>$ncr</font>}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$n</font>} {
      <b><font color=#3a6797>set</font></b> ico [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$listIcons</font> <font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ico</font> in [ReservedIcons]} <b><font color=#ca14ca>continue</font></b>
      <b><font color=#3a6797>lappend</font></b> em_Icons <font color=#1b1baa>$ico</font>
      <b><font color=#3a6797>incr</font></b> ncr
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$ii</font>&lt;10} {
      <b><font color=#3a6797>lappend</font></b> em_Icons <font color=#1b1baa>$ii</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> ico [<b><font color=#3a6797>string</font></b> index [TextIcons] [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$ii</font> -10}]]
      <b><font color=#3a6797>lappend</font></b> em_Icons [alited::TextIcon <font color=#1b1baa>$ico</font>]
    }
    <b><font color=#3a6797>incr</font></b> icr
  }
  Em_ShowAll no
  <i><font color=#4b5d50># get a layout of &quot;bar-menu&quot; tab</font></i>
  <b><font color=#3a6797>set</font></b> res {
    {v_ - - 1 1}
    {fra + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-afteridle</font> ::alited::pref::Em_ShowAll}}
    {fra.fraButs - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> w <font color=#6c3e67>-pady</font> 4}}
    {.btTUp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-image</font> alimg_up <font color=#6c3e67>-com</font> ::alited::pref::UpRun <font color=#6c3e67>-tip</font> {Move an item up}}}
    {.btTDown - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-image</font> alimg_down <font color=#6c3e67>-com</font> ::alited::pref::DownRun <font color=#6c3e67>-tip</font> {Move an item down}}}
    {.btTDelRun - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-image</font> alimg_delete <font color=#6c3e67>-com</font> ::alited::pref::DelRun <font color=#6c3e67>-tip</font> {Delete an item}}}
    {fra.ScfRuns - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {tcl {
        <b><font color=#3a6797>set</font></b> prt <font color=#8b2a0e>&quot;- -&quot;</font>
        <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$::alited::pref::em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
          <b><font color=#3a6797>set</font></b> nit [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;.OpcIco<font color=#1b1baa>$</font>i <font color=#1b1baa>$</font>prt 1 1 <font color=#1b1baa>{</font>-st nsw<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::pref::em_ico(<font color=#1b1baa>$</font>i)  ::alited::pref::em_Icons <font color=#1b1baa>{</font>-width 9 -com alited::pref::Em_ShowAll  -tip <font color=#1b1baa>{{</font>An icon puts the run into the toolbar.\nBlank or 'none' excludes it from the toolbar.<font color=#1b1baa>}}}</font>  <font color=#1b1baa>{</font>alited::pref::opcIcoPre %a<font color=#1b1baa>}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;.ButMnu<font color=#1b1baa>$</font>i + L 1 1 <font color=#1b1baa>{</font>-st sw -pady 1 -padx 8<font color=#1b1baa>}</font>  <font color=#1b1baa>{</font>-t <font color=#1b1baa>{$</font>::alited::pref::em_mnu(<font color=#1b1baa>$</font>i)<font color=#1b1baa>}</font> -com <font color=#1b1baa>{</font>alited::pref::PickMenuItem <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font>  -style TButtonWest -tip  <font color=#1b1baa>{{</font>The run item for the menu and/or the toolbar.\nSelect it from the e_menu items.<font color=#1b1baa>}}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> prt <font color=#8b2a0e>&quot;.OpcIco<font color=#1b1baa>$</font>i T&quot;</font>
      }}
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> eq {Emenu_Tab} ||  (<font color=#1b1baa>$oldTab</font> ne {} && [<b><font color=#3a6797>string</font></b> match *nbk6.f3 <font color=#1b1baa>$arrayTab($oldTab)</font>])} {
    <i><font color=#4b5d50># &quot;Run&quot; items should be displayed immediately</font></i>
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
  }
  <i><font color=#4b5d50># &quot;Run&quot; items can be created with a little delay</font></i>
  <i><font color=#4b5d50># imperceptible for a user, saving his/her time</font></i>
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$res</font> 0 {<b><font color=#3a6797>after</font></b> 500}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SavedOptions'>SavedOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of names of main settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SavedOptions</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of names of main settings.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_SavedOptions' href="javascript:toggleSource('alited_pref_SavedOptions')">Show source</a></p>
<div id='alited_pref_SavedOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::SavedOptions {} {
  <i><font color=#4b5d50># Returns a list of names of main settings.</font></i>

  fetchVars
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>array</font></b> names al]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SaveSettings'>SaveSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves original settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_SaveSettings' href="javascript:toggleSource('alited_pref_SaveSettings')">Show source</a></p>
<div id='alited_pref_SaveSettings' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::SaveSettings {} {
  <i><font color=#4b5d50># Saves original settings.</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> o [SavedOptions] {
    <b><font color=#3a6797>set</font></b> data(<font color=#1b1baa>$o</font>) <font color=#1b1baa>$al($o)</font>
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> data(em_mnu,<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_mnu($i)</font>
      <b><font color=#3a6797>set</font></b> data(em_ico,<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_ico($i)</font>
      <b><font color=#3a6797>set</font></b> data(em_inf,<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_inf($i)</font>
    }
  }
  <b><font color=#3a6797>set</font></b> data(INI,CSsaved) <font color=#1b1baa>$data(INI,CS)</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists ::em::geometry]} {<b><font color=#3a6797>set</font></b> ::em::geometry <font color=#1b1baa>$al(EM,geometry)</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ScrollRuns'>ScrollRuns</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates scrollbars of bar-menu tab because its contents may have various length.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ScrollRuns</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_ScrollRuns' href="javascript:toggleSource('alited_pref_ScrollRuns')">Show source</a></p>
<div id='alited_pref_ScrollRuns' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::ScrollRuns {} {
  <i><font color=#4b5d50># Updates scrollbars of bar-menu tab because its contents may have various length.</font></i>

  fetchVars
  <b><font color=#3a6797>update</font></b>
  ::apave::sframe resize [<font color=#1b1baa>$obPrf</font> ScfRuns]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SelectKey'>SelectKey</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &lt;<ComboboxSelected>&gt; event on a combobox of keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectKey</span> <span class='ruff_arg'>nk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_SelectKey' href="javascript:toggleSource('alited_pref_SelectKey')">Show source</a></p>
<div id='alited_pref_SelectKey' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::SelectKey {nk} {
  <i><font color=#4b5d50># Handles &lt;&lt;ComboboxSelected&gt;&gt; event on a combobox of keys.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox</font></i>

  fetchVars
  alited::keys::Delete {} <font color=#1b1baa>$prevkeys($nk)</font>
  <b><font color=#3a6797>set</font></b> prevkeys(<font color=#1b1baa>$nk</font>) <font color=#1b1baa>$keys($nk)</font>
  GetKeyList <font color=#1b1baa>$nk</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tab'>Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles changing tabs of notebooks.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab</span> <span class='ruff_arg'>tab ?nt? ?doit? ?focus1st?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>name of notebook</td></tr>
<tr><td class='ruff_defitem'><code><code>nt</code></code></td><td class='ruff_defitem'>tab of notebook; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, forces changing tabs; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>focus1st</code></code></td><td class='ruff_defitem'>if yes, focuses 1st widget of tab; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>At changing the current notebook: we need to save the old selection in order to restore the selection at returning to the notebook.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Tab' href="javascript:toggleSource('alited_pref_Tab')">Show source</a></p>
<div id='alited_pref_Tab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tab {tab {nt {}} {doit no} {focus1st yes}} {
  <i><font color=#4b5d50># Handles changing tabs of notebooks.</font></i>
  <i><font color=#4b5d50>#   tab - name of notebook</font></i>
  <i><font color=#4b5d50>#   nt - tab of notebook</font></i>
  <i><font color=#4b5d50>#   doit - if yes, forces changing tabs</font></i>
  <i><font color=#4b5d50>#   focus1st - if yes, focuses 1st widget of tab</font></i>
  <i><font color=#4b5d50># At changing the current notebook: we need to save the old selection</font></i>
  <i><font color=#4b5d50># in order to restore the selection at returning to the notebook.</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> nbk {nbk nbk2 nbk3 nbk4 nbk5 nbk6} {fillCan [<font color=#1b1baa>$obPrf</font> Can<font color=#1b1baa>$nbk</font>]}
  <b><font color=#3a6797>foreach</font></b> but {Home Change Categories Actions Keys Tools} {
    [<font color=#1b1baa>$obPrf</font> But<font color=#1b1baa>$but</font>] configure <font color=#6c3e67>-style</font> TButtonWest
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$tab</font> {
    nbk  {<b><font color=#3a6797>set</font></b> but Home}
    nbk2 {<b><font color=#3a6797>set</font></b> but Change}
    nbk3 {<b><font color=#3a6797>set</font></b> but Categories}
    nbk4 {<b><font color=#3a6797>set</font></b> but Actions}
    nbk5 {<b><font color=#3a6797>set</font></b> but Keys}
    nbk6 {<b><font color=#3a6797>set</font></b> but Tools}
  }
  [<font color=#1b1baa>$obPrf</font> But<font color=#1b1baa>$but</font>] configure <font color=#6c3e67>-style</font> TButtonWestHL
  fillCan [<font color=#1b1baa>$obPrf</font> Can<font color=#1b1baa>$tab</font>] yes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> ne <font color=#1b1baa>$curTab</font> || <font color=#1b1baa>$doit</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curTab</font> ne {}} {
      <b><font color=#3a6797>set</font></b> arrayTab(<font color=#1b1baa>$curTab</font>) [<font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select]
      <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font>
    }
    <b><font color=#3a6797>set</font></b> curTab <font color=#1b1baa>$tab</font>
    <b><font color=#134070>pack</font></b> <font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> <font color=#6c3e67>-expand</font> yes <font color=#6c3e67>-fill</font> both
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nt</font> eq {}} {<b><font color=#3a6797>set</font></b> nt <font color=#1b1baa>$arrayTab($curTab)</font>}
      <font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select <font color=#1b1baa>$nt</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> eq {nbk2}} {
    <i><font color=#4b5d50># check if a color scheme is switched light/dark - if yes, disable colors</font></i>
    <b><font color=#3a6797>set</font></b> cs [GetCS]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(INI,CSsaved)</font>!=<font color=#1b1baa>$cs</font>} {
      Tcl_Default 0 yes
      C_Default 0 yes
      UpdateSyntaxTab
      UpdateSyntaxTab 2
    }
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPrf</font> csGet <font color=#1b1baa>$cs</font>] fg - bg - - sbg sfg ibg
    [<font color=#1b1baa>$obPrf</font> TexSample] configure <font color=#6c3e67>-fg</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-bg</font> <font color=#1b1baa>$bg</font>  <font color=#6c3e67>-selectbackground</font> <font color=#1b1baa>$sbg</font> <font color=#6c3e67>-selectforeground</font> <font color=#1b1baa>$sfg</font> <font color=#6c3e67>-insertbackground</font> <font color=#1b1baa>$ibg</font>
    [<font color=#1b1baa>$obPrf</font> TexCSample] configure <font color=#6c3e67>-fg</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-bg</font> <font color=#1b1baa>$bg</font>  <font color=#6c3e67>-selectbackground</font> <font color=#1b1baa>$sbg</font> <font color=#6c3e67>-selectforeground</font> <font color=#1b1baa>$sfg</font> <font color=#6c3e67>-insertbackground</font> <font color=#1b1baa>$ibg</font>
    <b><font color=#3a6797>set</font></b> data(INI,CSsaved) <font color=#1b1baa>$cs</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match root* <font color=#1b1baa>$geo</font>]} {
    <i><font color=#4b5d50># the geometry of the dialogue - its first setting</font></i>
    <i><font color=#4b5d50># (makes sense at switching tabs, when open 1st time)</font></i>
    <b><font color=#3a6797>after</font></b> 10 [<b><font color=#3a6797>list</font></b> after 10 [<b><font color=#3a6797>list</font></b> after 10 [<b><font color=#3a6797>list</font></b> after 10  <font color=#8b2a0e>&quot;wm geometry <font color=#1b1baa>$</font>win \[wm geometry <font color=#1b1baa>$</font>win\]&quot;</font>]]]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focus1st</font>} {
    <b><font color=#3a6797>foreach</font></b> w [<font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> tabs] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match *<font color=#1b1baa>$nt</font> <font color=#1b1baa>$w</font>]} {
        <b><font color=#3a6797>after</font></b> 10 [<b><font color=#3a6797>list</font></b> after 10 [<b><font color=#3a6797>list</font></b> after 10 [<b><font color=#3a6797>list</font></b> after 10 <font color=#8b2a0e>&quot;::apave::focusFirst <font color=#1b1baa>$</font>w&quot;</font>]]]
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tcl_Default'>Tcl_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets default colors to highlight Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tcl_Default</span> <span class='ruff_arg'>isyn ?init?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isyn</code></code></td><td class='ruff_defitem'>index of syntax colors</td></tr>
<tr><td class='ruff_defitem'><code><code>init</code></code></td><td class='ruff_defitem'>yes, if only variables should be initialized; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Tcl_Default' href="javascript:toggleSource('alited_pref_Tcl_Default')">Show source</a></p>
<div id='alited_pref_Tcl_Default' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tcl_Default {isyn {init no}} {
  <i><font color=#4b5d50># Sets default colors to highlight Tcl.</font></i>
  <i><font color=#4b5d50>#   isyn - index of syntax colors</font></i>
  <i><font color=#4b5d50>#   init - yes, if only variables should be initialized</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(TclExts) <font color=#1b1baa>$al(TclExtsDef)</font>
  <b><font color=#3a6797>set</font></b> Dark [CsDark]
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>set</font></b> clrvals [::hl_tcl::hl_colors <font color=#1b1baa>$isyn</font> <font color=#1b1baa>$Dark</font>]
  <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> val <font color=#1b1baa>$clrvals</font> {
    <b><font color=#3a6797>set</font></b> al(ED,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
  }
  <b><font color=#3a6797>set</font></b> al(ED,Dark) <font color=#1b1baa>$Dark</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$init</font>} UpdateSyntaxTab
  <b><font color=#3a6797>set</font></b> al(syntaxidx) <font color=#1b1baa>$isyn</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Template_Tab'>Template_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Template&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Template_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Template_Tab' href="javascript:toggleSource('alited_pref_Template_Tab')">Show source</a></p>
<div id='alited_pref_Template_Tab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Template_Tab {} {
  <i><font color=#4b5d50># Serves to layout &quot;Template&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labH - - 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Enter %U, %u, %m, %w, %d, %t wildcards of templates:&quot;</font>}}
    {.labU + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;User name:&quot;</font>}}
    {.entU + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(TPL,%U) <font color=#6c3e67>-w</font> 40}}
    {.labu .labU T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-anc</font> e <font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Login:&quot;</font>}}
    {.entu + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(TPL,%u) <font color=#6c3e67>-w</font> 30}}
    {.labm .labu T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;E-mail:&quot;</font>}}
    {.entm + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(TPL,%m) <font color=#6c3e67>-w</font> 40}}
    {.labw .labm T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;WWW:&quot;</font>}}
    {.entw + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(TPL,%w) <font color=#6c3e67>-w</font> 40}}
    {.labd .labw T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Date format:&quot;</font>}}
    {.entd + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(TPL,%d) <font color=#6c3e67>-w</font> 30}}
    {.labt .labd T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Time format:&quot;</font>}}
    {.entt + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(TPL,%t) <font color=#6c3e67>-w</font> 30}}
    {.seh .labt T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {.but + T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,tpl)</font>}  <font color=#6c3e67>-com</font> {alited::EnsureAlArray ::alited::al alited::unit::Run_unit_tpl no  <font color=#8b2a0e>&quot;-centerme <font color=#1b1baa>$</font>::alited::pref::win&quot;</font>} <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Test_e_menu'>Test_e_menu</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tests a_menu settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Test_e_menu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Test_e_menu' href="javascript:toggleSource('alited_pref_Test_e_menu')">Show source</a></p>
<div id='alited_pref_Test_e_menu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Test_e_menu {} {
  <i><font color=#4b5d50># Tests a_menu settings.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> cs <font color=#1b1baa>$al(EM,CS)</font>
  <b><font color=#3a6797>set</font></b> al(EM,CS) [GetCS 2]
  alited::tool::e_menu o=0 t=[::asKDE] TEST_ALITED
  <b><font color=#3a6797>set</font></b> al(EM,CS) <font color=#1b1baa>$cs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Text_Default'>Text_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets defaults for plain text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Text_Default' href="javascript:toggleSource('alited_pref_Text_Default')">Show source</a></p>
<div id='alited_pref_Text_Default' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Text_Default {} {
  <i><font color=#4b5d50># Sets defaults for plain text.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(TextExts) <font color=#1b1baa>$al(TextExtsDef)</font>
  <b><font color=#3a6797>update</font></b>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::TextIcons'>TextIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of letters to be toolbar &quot;icons&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TextIcons</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of letters to be toolbar &quot;icons&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_TextIcons' href="javascript:toggleSource('alited_pref_TextIcons')">Show source</a></p>
<div id='alited_pref_TextIcons' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::TextIcons {} {
  <i><font color=#4b5d50># Returns a list of letters to be toolbar &quot;icons&quot;.</font></i>

  <b><font color=#ca14ca>return</font></b> &~=@$#%ABCDEFGHIJKLMNOPQRSTUVWXYZ
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Default'>Tkcon_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets defaults for &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Tkcon_Default' href="javascript:toggleSource('alited_pref_Tkcon_Default')">Show source</a></p>
<div id='alited_pref_Tkcon_Default' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tkcon_Default {} {
  <i><font color=#4b5d50># Sets defaults for &quot;Tools/Tkcon&quot; tab.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> g <font color=#8b2a0e>&quot;<font color=#1b1baa>{}</font>&quot;</font>
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> ls [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(tkcon,options)</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$ls</font> <font color=#6c3e67>-geometry</font>]]&gt;-1} {
      <b><font color=#3a6797>set</font></b> g [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$ls</font> [<b><font color=#3a6797>incr</font></b> i]]
    }
  }
  <b><font color=#3a6797>set</font></b> al(tkcon,options) <font color=#8b2a0e>&quot;-rows 24 -cols 80 -fontsize 13 -geometry <font color=#1b1baa>$</font>g -showmenu 1 -topmost <font color=#1b1baa>[</font>::asKDE<font color=#1b1baa>]</font>&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Default1'>Tkcon_Default1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets light theme colors for Tkcon.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Default1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Tkcon_Default1' href="javascript:toggleSource('alited_pref_Tkcon_Default1')">Show source</a></p>
<div id='alited_pref_Tkcon_Default1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tkcon_Default1 {} {
  <i><font color=#4b5d50># Sets light theme colors for Tkcon.</font></i>

  fetchVars
  Tkcon_Default
  <b><font color=#3a6797>foreach</font></b> {clr val} {  bg #FFFFFF blink #FFFF00 cursor #000000 disabled #4D4D4D proc #008800  var #FFC0D0 prompt #8F4433 stdin #000000 stdout #0000FF stderr #FF0000} {
    <b><font color=#3a6797>set</font></b> al(tkcon,clr<font color=#1b1baa>$clr</font>) <font color=#1b1baa>$val</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Default2'>Tkcon_Default2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets dark theme colors for Tkcon.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Default2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Tkcon_Default2' href="javascript:toggleSource('alited_pref_Tkcon_Default2')">Show source</a></p>
<div id='alited_pref_Tkcon_Default2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tkcon_Default2 {} {
  <i><font color=#4b5d50># Sets dark theme colors for Tkcon.</font></i>

  fetchVars
  Tkcon_Default
  <b><font color=#3a6797>foreach</font></b> {clr val} {  bg #25292b blink #929281 cursor #FFFFFF disabled #999797 proc #66FF10  var #565608 prompt #ffff00 stdin #FFFFFF stdout #aeaeae stderr #ff7272} {
    <b><font color=#3a6797>set</font></b> al(tkcon,clr<font color=#1b1baa>$clr</font>) <font color=#1b1baa>$val</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Tab'>Tkcon_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Tkcon_Tab' href="javascript:toggleSource('alited_pref_Tkcon_Tab')">Show source</a></p>
<div id='alited_pref_Tkcon_Tab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tkcon_Tab {} {
  <i><font color=#4b5d50># Serves to layout &quot;Tools/Tkcon&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {fra.scf.lfr - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-t</font> Colors}}
    {.Labbg - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;bg:&quot;</font>}}
    {.clrbg + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrbg) <font color=#6c3e67>-w</font> 20}}
    {.labblink .labbg T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;blink:&quot;</font>}}
    {.clrblink + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrblink) <font color=#6c3e67>-w</font> 20}}
    {.labcursor .labblink T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;cursor:&quot;</font>}}
    {.clrcursor + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrcursor) <font color=#6c3e67>-w</font> 20}}
    {.labdisabled .labcursor T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;disabled:&quot;</font>}}
    {.clrdisabled + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrdisabled) <font color=#6c3e67>-w</font> 20}}
    {.labproc .labdisabled T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;proc:&quot;</font>}}
    {.clrproc + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrproc) <font color=#6c3e67>-w</font> 20}}
    {.labvar .labproc T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;var:&quot;</font>}}
    {.clrvar + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrvar) <font color=#6c3e67>-w</font> 20}}
    {.labprompt .labvar T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;prompt:&quot;</font>}}
    {.clrprompt + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrprompt) <font color=#6c3e67>-w</font> 20}}
    {.labstdin .labprompt T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;stdin:&quot;</font>}}
    {.clrstdin + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrstdin) <font color=#6c3e67>-w</font> 20}}
    {.labstdout .labstdin T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;stdout:&quot;</font>}}
    {.clrstdout + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrstdout) <font color=#6c3e67>-w</font> 20}}
    {.labstderr .labstdout T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;stderr:&quot;</font>}}
    {.clrstderr + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,clrstderr) <font color=#6c3e67>-w</font> 20}}
    {fra.scf.v_ fra.scf.lfr T 1 1  pack {<font color=#6c3e67>-h</font> 10}}
    {fra.scf.lfr2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-t</font> Options}}
    {.entopts - - 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(tkcon,options) <font color=#6c3e67>-w</font> 80}}
    {fra.scf.frabuts - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x}}
    {.but1 - - - - {<font color=#6c3e67>-pady</font> 8} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> {alited::pref::Tkcon_Default1; alited::pref::UpdateTkconTab}}}
    {.but2 + L 1 1 {<font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Standard 2} <font color=#6c3e67>-com</font> {alited::pref::Tkcon_Default2; alited::pref::UpdateTkconTab}}}
    {.butok + L 1 1 {} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,test)&quot;</font> <font color=#6c3e67>-com</font> alited::tool::tkcon <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Units_Default'>Units_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the default settings of units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Units_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Units_Default' href="javascript:toggleSource('alited_pref_Units_Default')">Show source</a></p>
<div id='alited_pref_Units_Default' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Units_Default {} {
  <i><font color=#4b5d50># Sets the default settings of units.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(INI,LINES1) 10
  <b><font color=#3a6797>set</font></b> al(INI,LEAF) 0
  <b><font color=#3a6797>set</font></b> al(RE,branch) <font color=#1b1baa>$al(RE,branchDEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,leaf) <font color=#1b1baa>$al(RE,leafDEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,proc) <font color=#1b1baa>$al(RE,procDEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,leaf2) <font color=#1b1baa>$al(RE,leaf2DEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,proc2) <font color=#1b1baa>$al(RE,proc2DEF)</font>
  CheckUseLeaf
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Units_Tab'>Units_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Units&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Units_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_Units_Tab' href="javascript:toggleSource('alited_pref_Units_Tab')">Show source</a></p>
<div id='alited_pref_Units_Tab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Units_Tab {} {
  <i><font color=#4b5d50># Serves to layout &quot;Units&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra + T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> x}}
    {.labBr - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Branch's regexp:&quot;</font>}}
    {.entBr + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(RE,branch) <font color=#6c3e67>-w</font> 70}}
    {.labPr .labBr T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Proc's regexp:&quot;</font>}}
    {.EntPr + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(RE,proc) <font color=#6c3e67>-w</font> 70}}
    {.labUself .labPr T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,useleafRE)</font>}}}
    {.swiUself + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-var</font> ::alited::al(INI,LEAF)  <font color=#6c3e67>-com</font> alited::pref::CheckUseLeaf <font color=#6c3e67>-afteridle</font> alited::pref::CheckUseLeaf}}
    {.labLf .labUself T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,leafRE)</font>}}}
    {.EntLf + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(RE,leaf) <font color=#6c3e67>-w</font> 70}}
    {.labLf2 .labLf T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Check branch's regexp:&quot;</font>}}
    {.entLf2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(RE,leaf2) <font color=#6c3e67>-w</font> 70}}
    {.labPr2 .labLf2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Check proc's regexp:&quot;</font>}}
    {.entPr2 + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(RE,proc2) <font color=#6c3e67>-w</font> 70}}
    {.labUnt .labPr2 T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Unaffected top lines:&quot;</font>}}
    {.spxUnt + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(INI,LINES1) <font color=#6c3e67>-from</font> 2 <font color=#6c3e67>-to</font> 200 <font color=#6c3e67>-w</font> 9}}
    {.but .labUnt T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> alited::pref::Units_Default <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::UpdateSyntaxTab'>UpdateSyntaxTab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates color labels at clicking &quot;Default&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateSyntaxTab</span> <span class='ruff_arg'>?lng?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lng</code></code></td><td class='ruff_defitem'>{} for Tcl, {2} for C/C++; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_UpdateSyntaxTab' href="javascript:toggleSource('alited_pref_UpdateSyntaxTab')">Show source</a></p>
<div id='alited_pref_UpdateSyntaxTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::UpdateSyntaxTab {{lng {}}} {
  <i><font color=#4b5d50># Updates color labels at clicking &quot;Default&quot; button.</font></i>
  <i><font color=#4b5d50>#   lng - {} for Tcl, {2} for C/C++</font></i>

  fetchVars
  <b><font color=#3a6797>catch</font></b> {
    InitSyntax <font color=#1b1baa>$lng</font>
    <b><font color=#3a6797>foreach</font></b> nam [::hl_tcl::hl_colorNames] {
      <b><font color=#3a6797>lappend</font></b> colors <font color=#1b1baa>$al(ED,$nam)</font>
      <b><font color=#3a6797>lappend</font></b> Ccolors <font color=#1b1baa>$al(ED,C$nam)</font>
    }
    <b><font color=#3a6797>lassign</font></b> [::hl_tcl::addingColors [CsDark] {} [GetCS]] clrCURL clrCMN2
    <b><font color=#3a6797>lappend</font></b> colors <font color=#1b1baa>$clrCURL</font> <font color=#1b1baa>$clrCMN2</font>
    <b><font color=#3a6797>lappend</font></b> Ccolors <font color=#1b1baa>$clrCURL</font> <font color=#1b1baa>$clrCMN2</font>
    InitSyntaxTcl <font color=#1b1baa>$colors</font>
    InitSyntaxC <font color=#1b1baa>$Ccolors</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::UpdateTkconTab'>UpdateTkconTab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates color labels for &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTkconTab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_UpdateTkconTab' href="javascript:toggleSource('alited_pref_UpdateTkconTab')">Show source</a></p>
<div id='alited_pref_UpdateTkconTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::UpdateTkconTab {} {
  <i><font color=#4b5d50># Updates color labels for &quot;Tools/Tkcon&quot; tab.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> lab1 [<font color=#1b1baa>$obPrf</font> Labbg]
  <b><font color=#3a6797>foreach</font></b> nam {bg blink cursor disabled proc var prompt stdin stdout stderr} {
    <b><font color=#3a6797>set</font></b> lab [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> labbg labclr<font color=#1b1baa>$nam</font>] <font color=#1b1baa>$lab1</font>]
    <b><font color=#3a6797>set</font></b> ent [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> labbg entclr<font color=#1b1baa>$nam</font>] <font color=#1b1baa>$lab1</font>]
    <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-background</font> [<font color=#1b1baa>$ent</font> get]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::UpRun'>UpRun</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Move a current run item up.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_pref_UpRun' href="javascript:toggleSource('alited_pref_UpRun')">Show source</a></p>
<div id='alited_pref_UpRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::UpRun {} {
  <i><font color=#4b5d50># Move a current run item up.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fr [FocusedRun]]&lt;0} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fr</font>==0} {
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> f2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$fr</font> - 1}]
    ExchangeRuns <font color=#1b1baa>$fr</font> <font color=#1b1baa>$f2</font>
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::printer'></a>::alited::printer<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::printer-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::printer::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Project Printer dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer__create' href="javascript:toggleSource('alited_printer__create')">Show source</a></p>
<div id='alited_printer__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::_create {} {
  <i><font color=#4b5d50># Creates Project Printer dialogue.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> tipmark <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>msgcat::mc (Un)Select<font color=#1b1baa>]</font>\nSpace&quot;</font>
  <b><font color=#3a6797>lassign</font></b> [alited::FgFgBold] -&gt; fgbold
  <b><font color=#3a6797>set</font></b> wden 44
  <font color=#1b1baa>$obDl2</font> makeWindow <font color=#1b1baa>$win</font>.fra [msgcat::mc {Project Printer}]
  <font color=#1b1baa>$obDl2</font> paveWindow <font color=#1b1baa>$win</font>.fra {
    {labh - - 1 3 {} {<font color=#6c3e67>-t</font> {Project Printer} <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgbold</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
    {fraTop labh L 1 3 {<font color=#6c3e67>-st</font> ew}}
    {.btTmark - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-padx</font> 4 <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-image</font> alimg_ok <font color=#6c3e67>-com</font> alited::printer::MarkUnmarkFile  <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$tipmark</font>}}}
    {.sev2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.btTCtr - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4}  {<font color=#6c3e67>-image</font> alimg_minus <font color=#6c3e67>-com</font> {alited::printer::ExpandContract no} <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Contract All&quot;</font>}}
    {.btTExp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-image</font> alimg_plus <font color=#6c3e67>-com</font> {alited::printer::ExpandContract} <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Expand All&quot;</font>}}
    {.btTExp2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4}  {<font color=#6c3e67>-image</font> alimg_add <font color=#6c3e67>-com</font> {alited::printer::ExpandMarked} <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Expand Selected&quot;</font>}}
    {fraBody labh T 1 3 {<font color=#6c3e67>-st</font> news}}
    {.lab1 - - 1 1 {<font color=#6c3e67>-st</font> nw} {<font color=#6c3e67>-t</font> {Output directory:}}}
    {.Dir + T 1 3 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-tvar</font> ::alited::printer::dir <font color=#6c3e67>-w</font> <font color=#1b1baa>$wden</font>}}
    {.v_1 + T 1 1 {<font color=#6c3e67>-pady</font> 8}}
    {.lab2 + T 1 1 {<font color=#6c3e67>-st</font> nw} {<font color=#6c3e67>-t</font> {Markdown processor:}}}
    {.cbx + T 1 3 {<font color=#6c3e67>-st</font> nw} {<font color=#6c3e67>-tvar</font> ::alited::printer::mdproc  <font color=#6c3e67>-value</font> {<font color=#1b1baa>$::alited::printer::mdprocs</font>} <font color=#6c3e67>-w</font> <font color=#1b1baa>$wden</font>}}
    {.v_2 + T 1 3 {<font color=#6c3e67>-pady</font> 8}}
    {.lfr + T 1 3 {<font color=#6c3e67>-st</font> nwe} {<font color=#6c3e67>-t</font> {Directory title colors}}}
    {.lfr.lab1 - - 1 1 {<font color=#6c3e67>-st</font> ne} {<font color=#6c3e67>-t</font> {Foreground:}}}
    {.lfr.Clr1 + L 1 1 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-tvar</font> ::alited::printer::ttlfg}}
    {.lfr.butClr1 + L 1 1 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-takefocus</font> 0  <font color=#6c3e67>-com</font> {alited::printer::StdClr Clr1 ttlfg Clr2 ttlbg}}}
    {.lfr.lab2 .lfr.lab1 T 1 1 {<font color=#6c3e67>-st</font> ne} {<font color=#6c3e67>-t</font> {Background:}}}
    {.lfr.Clr2 + L 1 1 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-tvar</font> ::alited::printer::ttlbg}}
    {.v_3 .lfr T 1 1 {<font color=#6c3e67>-pady</font> 8}}
    {.lfr2 + T 1 3 {<font color=#6c3e67>-st</font> nwe} {<font color=#6c3e67>-t</font> {File title colors}}}
    {.lfr2.lab1 - - 1 1 {<font color=#6c3e67>-st</font> ne} {<font color=#6c3e67>-t</font> {Foreground:}}}
    {.lfr2.Clr3 + L 1 3 {<font color=#6c3e67>-st</font> nw} {<font color=#6c3e67>-tvar</font> ::alited::printer::leaffg}}
    {.lfr2.butClr3 + L 1 1 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-takefocus</font> 0  <font color=#6c3e67>-com</font> {alited::printer::StdClr Clr3 leaffg Clr4 leafbg}}}
    {.lfr2.lab2 .lfr2.lab1 T 1 1 {<font color=#6c3e67>-st</font> ne} {<font color=#6c3e67>-t</font> {Background:}}}
    {.lfr2.Clr4 + L 1 3 {<font color=#6c3e67>-st</font> nw} {<font color=#6c3e67>-tvar</font> ::alited::printer::leafbg}}
    {.fraw .lfr2 T 1 3 {<font color=#6c3e67>-st</font> nw <font color=#6c3e67>-pady</font> 6}}
    {.fraw.labcs - - 1 1 {<font color=#6c3e67>-st</font> ne <font color=#6c3e67>-pady</font> 4} {<font color=#6c3e67>-t</font> {Syntax colors:}}}
    {.fraw.rad1 + L 1 1 {<font color=#6c3e67>-st</font> nsw <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-var</font> ::alited::printer::cs <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-t</font> 1}}
    {.fraw.rad2 + L 1 1 {<font color=#6c3e67>-st</font> nsw <font color=#6c3e67>-padx</font> 9} {<font color=#6c3e67>-var</font> ::alited::printer::cs <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-t</font> 2}}
    {.fraw.rad3 + L 1 1 {<font color=#6c3e67>-st</font> nsw <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-var</font> ::alited::printer::cs <font color=#6c3e67>-value</font> 3 <font color=#6c3e67>-t</font> 3}}
    {.fraw.rad4 + L 1 1 {<font color=#6c3e67>-st</font> nsw <font color=#6c3e67>-padx</font> 9} {<font color=#6c3e67>-var</font> ::alited::printer::cs <font color=#6c3e67>-value</font> 4 <font color=#6c3e67>-t</font> 4}}
    {.fraw.labst .fraw.labcs T 1 1 {<font color=#6c3e67>-st</font> nse} {<font color=#6c3e67>-t</font> {Sort units:}}}
    {.fraw.swist + L 1 1 {<font color=#6c3e67>-st</font> nsw <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-var</font> alited::printer::dosort}}
    {.fraw.labwc .fraw.labst T 1 1 {<font color=#6c3e67>-st</font> nse} {<font color=#6c3e67>-t</font> {Width of contents:}}}
    {.fraw.SpxCwidth + L 1 4 {<font color=#6c3e67>-st</font> nsw <font color=#6c3e67>-padx</font> 4}  {<font color=#6c3e67>-tvar</font> ::alited::printer::cwidth <font color=#6c3e67>-from</font> 5 <font color=#6c3e67>-to</font> 99 <font color=#6c3e67>-w</font> 4 <font color=#6c3e67>-justify</font> center}}
    {.seh .fraw T 1 3 {<font color=#6c3e67>-pady</font> 8}}
    {.lab4 + T 1 2 {<font color=#6c3e67>-st</font> nw} {<font color=#6c3e67>-t</font> {Final processor:}}}
    {.btT + L 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-image</font> alimg_run  <font color=#6c3e67>-com</font> {::alited::printer::RunFinal 1} <font color=#6c3e67>-tip</font> {Runs the final processor.}}}
    {.Fil .lab4 T 1 3 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-tvar</font> ::alited::printer::final <font color=#6c3e67>-w</font> <font color=#1b1baa>$wden</font>}}
    {fraTree fraTop T 2 1 {<font color=#6c3e67>-st</font> news <font color=#6c3e67>-cw</font> 1}}
    {.Tree - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-height</font> 20 <font color=#6c3e67>-columns</font> {L1 L2 PRL ID LEV LEAF FL1} <font color=#6c3e67>-displaycolumns</font> {L1}  <font color=#6c3e67>-columnoptions</font> <font color=#8b2a0e>&quot;#0 <font color=#1b1baa>{</font>-width <font color=#1b1baa>$</font>width1<font color=#1b1baa>}</font> L1 <font color=#1b1baa>{</font>-width <font color=#1b1baa>$</font>width2 -anchor e<font color=#1b1baa>}</font>&quot;</font>  <font color=#6c3e67>-style</font> TreeNoHL <font color=#6c3e67>-selectmode</font> browse <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {alited::tree::GetTooltip %i %c}  <font color=#6c3e67>-SHIFTX</font> 10}}}
    {.SbvTree fraTree.Tree L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> both}}
    {fraMid fraBody T 1 3 {<font color=#6c3e67>-st</font> wes <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-padx</font> 2}}
    {.seh1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-pady</font> 4}}
    {.butHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> Help <font color=#6c3e67>-com</font> alited::printer::Help <font color=#6c3e67>-takefocus</font> 0}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 4}}
    {.butOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> OK <font color=#6c3e67>-com</font> alited::printer::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> alited::printer::Cancel}}
    {.TexTmp - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> left}}
    {.TexTmp2 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> left}}
    {fraBot fraMid T 1 4 {<font color=#6c3e67>-st</font> we}}
    {.stat - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom} {<font color=#6c3e67>-array</font> {
      {{} <font color=#6c3e67>-anchor</font> w <font color=#6c3e67>-expand</font> 1} 30
      {Selected <font color=#6c3e67>-anchor</font> center} 4
    }}}
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obDl2</font> Tree]
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;space&gt; <font color=#8b2a0e>&quot;alited::printer::Mark1 <font color=#1b1baa>$</font>wtree; break&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;FocusIn&gt; <font color=#8b2a0e>&quot;alited::printer::FocusIn <font color=#1b1baa>$</font>wtree&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;FocusOut&gt; <font color=#8b2a0e>&quot;alited::printer::FocusOut <font color=#1b1baa>$</font>wtree&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#8b2a0e>&quot;alited::printer::Help&quot;</font>
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obDl2</font> Labstat1] &lt;Button-1&gt; alited::printer::ProcMessage
  alited::tree::AddTags <font color=#1b1baa>$wtree</font>
  FillTree <font color=#1b1baa>$wtree</font>
  <font color=#1b1baa>$obDl2</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {500 400} <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geometry</font> <font color=#6c3e67>-focus</font> Tab
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Project Printer dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer__run' href="javascript:toggleSource('alited_printer__run')">Show source</a></p>
<div id='alited_printer__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::_run {} {
  <i><font color=#4b5d50># Runs Project Printer dialogue.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>file</font></b> join [apave::HomeDir] TMP alited <font color=#1b1baa>$al(prjname)</font>]
  <b><font color=#3a6797>set</font></b> tpldir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> printer]
  <b><font color=#3a6797>set</font></b> indextpl [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$tpldir</font> <font color=#1b1baa>$indexname</font>]
  <b><font color=#3a6797>set</font></b> indextpl2 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$tpldir</font> <font color=#1b1baa>$indexname2</font>]
  <b><font color=#3a6797>set</font></b> titletpl [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$tpldir</font> title.html]
  <b><font color=#3a6797>set</font></b> cssdir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$tpldir</font> <font color=#1b1baa>$CSS</font>]
  <b><font color=#3a6797>set</font></b> csstpl [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$cssdir</font> <font color=#1b1baa>$cssname</font>]
  <b><font color=#3a6797>set</font></b> inifile [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$INIDIR</font> printer.ini]
  <b><font color=#3a6797>set</font></b> iniprjfile [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$PRJDIR</font> <font color=#1b1baa>$al(prjname)</font>.prn]
  ReadIni
  _create
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Cancel handling the dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Cancel' href="javascript:toggleSource('alited_printer_Cancel')">Show source</a></p>
<div id='alited_printer_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Cancel {} {
  <i><font color=#4b5d50># Cancel handling the dialog.</font></i>

  fetchVars
  <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::CheckData'>CheckData</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for correctness of the dialog's data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckData</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_CheckData' href="javascript:toggleSource('alited_printer_CheckData')">Show source</a></p>
<div id='alited_printer_CheckData' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::CheckData {} {
  <i><font color=#4b5d50># Check for correctness of the dialog's data.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$dir</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dir</font> eq {}} {
    <b><font color=#3a6797>set</font></b> errfoc [<font color=#1b1baa>$obDl2</font> chooserPath Dir]
  } <b><font color=#3a6797>elseif</font></b> {![::apave::intInRange <font color=#1b1baa>$cwidth</font> 5 99]} {
    <b><font color=#3a6797>set</font></b> errfoc [<font color=#1b1baa>$obDl2</font> SpxCwidth]
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists errfoc]} {
    <b><font color=#134070>bell</font></b>
    focusByForce <font color=#1b1baa>$errfoc</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>foreach</font></b> {fld var} {Clr1 ttlfg Clr2 ttlbg Clr3 leaffg Clr4 leafbg} {
    <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$var</font>]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^#\[0-9a-fA-F\]<font color=#1b1baa>{</font>6<font color=#1b1baa>}</font>\$&quot;</font> <font color=#1b1baa>$val</font>]} {
      <b><font color=#134070>bell</font></b>
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> chooserPath <font color=#1b1baa>$fld</font>]
      <b><font color=#ca14ca>return</font></b> no
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::CheckDir'>CheckDir</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks the output directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckDir</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_CheckDir' href="javascript:toggleSource('alited_printer_CheckDir')">Show source</a></p>
<div id='alited_printer_CheckDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::CheckDir {} {
  <i><font color=#4b5d50># Checks the output directory.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> dircont [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> *]]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$dircont</font>]} {<b><font color=#ca14ca>return</font></b> yes}
  <i><font color=#4b5d50># possible errors:</font></i>
  <b><font color=#3a6797>set</font></b> err1 {Output directory cannot be cleared: alien files}
  <b><font color=#3a6797>set</font></b> err2 [msgcat::mc {Output directory cannot be cleared: alien %n}]
  <b><font color=#3a6797>set</font></b> err3 {Output directory cannot be cleared: alien directories}
  <b><font color=#3a6797>set</font></b> cntdir [<b><font color=#3a6797>set</font></b> cntfile [<b><font color=#3a6797>set</font></b> aliendir 0]]
  <b><font color=#3a6797>foreach</font></b> fn <font color=#1b1baa>$dircont</font> {
    <b><font color=#3a6797>set</font></b> ftail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fn</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isfile <font color=#1b1baa>$fn</font>]} {
      <b><font color=#3a6797>incr</font></b> cntfile
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ftail</font> ne <font color=#1b1baa>$indexname</font>} {
        Message <font color=#1b1baa>$err1</font> 4
        <b><font color=#ca14ca>return</font></b> no  ;<i><font color=#4b5d50># alien file</font></i>
      }
      <b><font color=#3a6797>if</font></b> {![CheckFile <font color=#1b1baa>$fn</font>]} {
        Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$indexname</font>] <font color=#1b1baa>$err2</font>] 4
        <b><font color=#ca14ca>return</font></b> no  ;<i><font color=#4b5d50># alien content file</font></i>
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$ftail</font> in [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$FILES</font> <font color=#1b1baa>$CSS</font>]} {
      <b><font color=#3a6797>incr</font></b> cntdir
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>incr</font></b> aliendir
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$aliendir</font>} {
    Message <font color=#1b1baa>$err3</font> 4  ;<i><font color=#4b5d50># only 1 content file with subdirectories</font></i>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cntdir</font>} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;The output directory\n  %n\ncontains %c subdirectories.\n\nAll will be replaced with the new!&quot;</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$dir</font> %c <font color=#1b1baa>$cntdir</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>if</font></b> {![alited::msg okcancel warn <font color=#1b1baa>$msg</font> OK <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,warning)</font>]} {
      <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> <font color=#1b1baa>$indexname</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {openDoc <font color=#1b1baa>$fname</font>}
      <b><font color=#ca14ca>return</font></b> no
    }
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#6c3e67>-force</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$dircont</font>}
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::CheckFile'>CheckFile</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks the file of contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_CheckFile' href="javascript:toggleSource('alited_printer_CheckFile')">Show source</a></p>
<div id='alited_printer_CheckFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::CheckFile {fname} {
  <i><font color=#4b5d50># Checks the file of contents.</font></i>
  <i><font color=#4b5d50>#   fname - the file name</font></i>

  <b><font color=#3a6797>variable</font></b> copyleft
  <b><font color=#3a6797>set</font></b> fcont [readTextFile <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$copyleft</font> <font color=#1b1baa>$fcont</font>]&gt;=0}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::CheckTemplates'>CheckTemplates</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks alited's templates for .html files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckTemplates</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_CheckTemplates' href="javascript:toggleSource('alited_printer_CheckTemplates')">Show source</a></p>
<div id='alited_printer_CheckTemplates' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::CheckTemplates {} {
  <i><font color=#4b5d50># Checks alited's templates for .html files.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> csscont [readTextFile <font color=#1b1baa>$csstpl</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$csscont</font> eq {}} {
    Message <font color=#8b2a0e>&quot;No template file for <font color=#1b1baa>$</font>cssname found: alited broken?&quot;</font> 4
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::CompareUnits'>CompareUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Compares the unit tree items by their titles. Useful for trees without branches.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CompareUnits</span> <span class='ruff_arg'>item1 item2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item1</code></code></td><td class='ruff_defitem'>1st item</td></tr>
<tr><td class='ruff_defitem'><code><code>item2</code></code></td><td class='ruff_defitem'>2nd item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_CompareUnits' href="javascript:toggleSource('alited_printer_CompareUnits')">Show source</a></p>
<div id='alited_printer_CompareUnits' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::CompareUnits {item1 item2} {
  <i><font color=#4b5d50># Compares the unit tree items by their titles. Useful for trees without branches.</font></i>
  <i><font color=#4b5d50>#   item1 - 1st item</font></i>
  <i><font color=#4b5d50>#   item2 - 2nd item</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item1</font> lev1 leaf1 - title1
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item2</font> lev2 leaf2 - title2
  <b><font color=#3a6797>set</font></b> leaf1 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$title1</font> ne {} && <font color=#1b1baa>$leaf1</font>}]
  <b><font color=#3a6797>set</font></b> leaf2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$title2</font> ne {} && <font color=#1b1baa>$leaf2</font>}]
  <b><font color=#3a6797>set</font></b> title1 <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>leaf1 <font color=#1b1baa>[</font>string toupper <font color=#1b1baa>[</font>string trimleft <font color=#1b1baa>$</font>title1<font color=#1b1baa>]]</font>&quot;</font>
  <b><font color=#3a6797>set</font></b> title2 <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>leaf2 <font color=#1b1baa>[</font>string toupper <font color=#1b1baa>[</font>string trimleft <font color=#1b1baa>$</font>title2<font color=#1b1baa>]]</font>&quot;</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$title1</font> &lt; <font color=#1b1baa>$title2</font>} {
    <b><font color=#ca14ca>return</font></b> -1
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$title1</font> &gt; <font color=#1b1baa>$title2</font>} {
    <b><font color=#ca14ca>return</font></b> 1
  }
  <b><font color=#ca14ca>return</font></b> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::ExpandContract'>ExpandContract</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Expands or contracts the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExpandContract</span> <span class='ruff_arg'>?isexp?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isexp</code></code></td><td class='ruff_defitem'>yes, if to expand; no, if to contract; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_ExpandContract' href="javascript:toggleSource('alited_printer_ExpandContract')">Show source</a></p>
<div id='alited_printer_ExpandContract' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::ExpandContract {{isexp yes}} {
  <i><font color=#4b5d50># Expands or contracts the tree.</font></i>
  <i><font color=#4b5d50>#   isexp - yes, if to expand; no, if to contract</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obDl2</font> Tree]
  <b><font color=#3a6797>set</font></b> itemID [alited::tree::CurrentItem {} <font color=#1b1baa>$wtree</font>]
  <b><font color=#3a6797>set</font></b> branch [<b><font color=#3a6797>set</font></b> selbranch {}]
  <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree {} {} <font color=#1b1baa>$wtree</font>] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt ID
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<font color=#1b1baa>$wtree</font> children <font color=#1b1baa>$ID</font>]]} {
      <b><font color=#3a6797>set</font></b> branch <font color=#1b1baa>$ID</font>
      <font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-open</font> <font color=#1b1baa>$isexp</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq <font color=#1b1baa>$itemID</font>} {<b><font color=#3a6797>set</font></b> selbranch <font color=#1b1baa>$branch</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isexp</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> ne {}} {<font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$itemID</font>}
    alited::tree::SeeSelection <font color=#1b1baa>$wtree</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$selbranch</font> ne {}} {
    <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$selbranch</font>
    alited::tree::SeeSelection <font color=#1b1baa>$wtree</font>
  }
  TryFocusTree <font color=#1b1baa>$wtree</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::ExpandMarked'>ExpandMarked</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows all marked tree item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExpandMarked</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_ExpandMarked' href="javascript:toggleSource('alited_printer_ExpandMarked')">Show source</a></p>
<div id='alited_printer_ExpandMarked' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::ExpandMarked {} {
  <i><font color=#4b5d50># Shows all marked tree item.</font></i>

  fetchVars
  ExpandContract no
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obDl2</font> Tree]
  <b><font color=#3a6797>set</font></b> parent {}
  <b><font color=#3a6797>foreach</font></b> itemID <font color=#1b1baa>$markedIDs</font> {
    <b><font color=#3a6797>set</font></b> itemParent [<font color=#1b1baa>$wtree</font> parent <font color=#1b1baa>$itemID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemParent</font> ne {} && <font color=#1b1baa>$parent</font> ne <font color=#1b1baa>$itemParent</font>} {
      <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$itemID</font>
      <b><font color=#3a6797>set</font></b> parent <font color=#1b1baa>$itemParent</font>
    }
  }
  TryFocusTree <font color=#1b1baa>$wtree</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::fetchVars'>fetchVars</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Delivers namespace variables to a caller.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>fetchVars</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_fetchVars' href="javascript:toggleSource('alited_printer_fetchVars')">Show source</a></p>
<div id='alited_printer_fetchVars' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::fetchVars {} {
  <i><font color=#4b5d50># Delivers namespace variables to a caller.</font></i>

  <b><font color=#3a6797>uplevel</font></b> 1 {
    <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2 INIDIR INIDIR PRJDIR PRJDIR DATADIR DATADIR
    <b><font color=#3a6797>foreach</font></b> _ {win itemID1 inifile iniprjfile tpldir cssdir CSS indextpl indextpl2 csstpl  titletpl csscont indexname indexname2 cssname readmecont markedIDs markedfiles copyleft  wcbttl wcstyle wctitle wctoc wclink wcrmcon wcbody wcwidth wcback wcfg wcbg tmpC cs  geometry width1 width2 dir mdproc mdprocs ttlfg ttlbg leaffg leafbg cwidth indexcont  final leafttl wcleaft wctipw wcrmttl dosort wclt wcgt copyright colors lastreadme  filesdir FILES prebeg preend paragr} {
      <b><font color=#3a6797>variable</font></b> <font color=#1b1baa>$_</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::FillTree'>FillTree</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Populates the tree of project files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillTree</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_FillTree' href="javascript:toggleSource('alited_printer_FillTree')">Show source</a></p>
<div id='alited_printer_FillTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::FillTree {wtree} {
  <i><font color=#4b5d50># Populates the tree of project files.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>

  fetchVars
  <font color=#1b1baa>$wtree</font> heading #0 <font color=#6c3e67>-text</font> <font color=#8b2a0e>&quot;:: <font color=#1b1baa>$</font>al(prjname) ::&quot;</font>
  <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> <font color=#1b1baa>$al(MC,files)</font>
  alited::tree::PrepareDirectoryContents
  <b><font color=#3a6797>set</font></b> markedIDs [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> itemID1 {}
  <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetDirectoryContents <font color=#1b1baa>$al(prjroot)</font>] {
    <b><font color=#3a6797>set</font></b> itemID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev isfile fname fcount iroot
    <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iroot</font>&lt;0} {
      <b><font color=#3a6797>set</font></b> parent {}
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> parent [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iroot]]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>if</font></b> {[alited::file::IsTcl <font color=#1b1baa>$fname</font>]} {
        <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_tclfile}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_file}
      }
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_folder}
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fcount</font>} {<b><font color=#3a6797>set</font></b> fc <font color=#1b1baa>$fcount</font>} {<b><font color=#3a6797>set</font></b> fc {}}
    <font color=#1b1baa>$wtree</font> insert <font color=#1b1baa>$parent</font> end <font color=#6c3e67>-id</font> <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-text</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>title&quot;</font>  <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fc</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$itemID</font>] <font color=#6c3e67>-open</font> no {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$imgopt</font>
    <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$itemID</font>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isfile</font>} {
      <font color=#1b1baa>$wtree</font> tag add tagBranch <font color=#1b1baa>$itemID</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> in <font color=#1b1baa>$markedfiles</font>} {
      <b><font color=#3a6797>lappend</font></b> markedIDs <font color=#1b1baa>$itemID</font>
      <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID1</font> eq {}} {<b><font color=#3a6797>set</font></b> itemID1 <font color=#1b1baa>$itemID</font>}
  }
  ExpandMarked
  MarkTotal
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$itemID1</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::FocusID'>FocusID</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Focuses an item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusID</span> <span class='ruff_arg'>wtree itemID ?cnt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>itemID</code></code></td><td class='ruff_defitem'>item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>cnt</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_FocusID' href="javascript:toggleSource('alited_printer_FocusID')">Show source</a></p>
<div id='alited_printer_FocusID' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::FocusID {wtree itemID {cnt 1}} {
  <i><font color=#4b5d50># Focuses an item of the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>
  <i><font color=#4b5d50>#   itemID - item's ID</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cnt</font>} {
    <i><font color=#4b5d50># will restart after idle</font></i>
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::printer::FocusID <font color=#1b1baa>$</font>wtree <font color=#1b1baa>$</font>itemID <font color=#1b1baa>[</font>incr cnt -1<font color=#1b1baa>]</font>&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$wtree</font> focus <font color=#1b1baa>$itemID</font>
    <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$itemID</font>
    <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$itemID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::FocusID1'>FocusID1</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Focuses 1st item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusID1</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_FocusID1' href="javascript:toggleSource('alited_printer_FocusID1')">Show source</a></p>
<div id='alited_printer_FocusID1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::FocusID1 {wtree} {
  <i><font color=#4b5d50># Focuses 1st item of the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>

  <b><font color=#3a6797>variable</font></b> itemID1
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID1</font> ne {}} {FocusID <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID1</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::FocusIn'>FocusIn</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles focusing the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusIn</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_FocusIn' href="javascript:toggleSource('alited_printer_FocusIn')">Show source</a></p>
<div id='alited_printer_FocusIn' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::FocusIn {wtree} {
  <i><font color=#4b5d50># Handles focusing the tree.</font></i>

  <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> focus]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> eq {}} {
    FocusID1 <font color=#1b1baa>$wtree</font>
  } <b><font color=#3a6797>else</font></b> {
    FocusID <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::FocusOut'>FocusOut</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles unfocusing the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusOut</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_FocusOut' href="javascript:toggleSource('alited_printer_FocusOut')">Show source</a></p>
<div id='alited_printer_FocusOut' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::FocusOut {wtree} {
  <i><font color=#4b5d50># Handles unfocusing the tree.</font></i>

  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> selection remove [<font color=#1b1baa>$wtree</font> focus]}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::GetBranchLink'>GetBranchLink</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a contents branch link for index.html.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetBranchLink</span> <span class='ruff_arg'>link title</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>link</code></code></td><td class='ruff_defitem'>link address</td></tr>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>link title</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_GetBranchLink' href="javascript:toggleSource('alited_printer_GetBranchLink')">Show source</a></p>
<div id='alited_printer_GetBranchLink' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::GetBranchLink {link title} {
  <i><font color=#4b5d50># Gets a contents branch link for index.html.</font></i>
  <i><font color=#4b5d50>#   link - link address</font></i>
  <i><font color=#4b5d50>#   title - link title</font></i>

  <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;&lt;li&gt;&lt;b&gt;&lt;a href=\&quot;<font color=#1b1baa>$</font>link\&quot;&gt;<font color=#1b1baa>$</font>title&lt;/a&gt;&lt;/b&gt;&lt;/li&gt;&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::GetCss'>GetCss</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Create style.css.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCss</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_GetCss' href="javascript:toggleSource('alited_printer_GetCss')">Show source</a></p>
<div id='alited_printer_GetCss' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::GetCss {} {
  <i><font color=#4b5d50># Create style.css.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> cssdir_to  [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> <font color=#1b1baa>$CSS</font>]
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$cssdir_to</font>}
  <b><font color=#3a6797>set</font></b> tipw [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$cwidth</font>*20}]
  <b><font color=#3a6797>set</font></b> csscont [<b><font color=#3a6797>string</font></b> map  [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcwidth</font> <font color=#1b1baa>$cwidth</font> <font color=#1b1baa>$wctipw</font> <font color=#1b1baa>$tipw</font> <font color=#1b1baa>$wcfg</font> <font color=#1b1baa>$ttlfg</font> <font color=#1b1baa>$wcbg</font> <font color=#1b1baa>$ttlbg</font>] <font color=#1b1baa>$csscont</font>]
  <b><font color=#3a6797>set</font></b> css_to [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$cssdir_to</font> <font color=#1b1baa>$cssname</font>]
  writeTextFile <font color=#1b1baa>$css_to</font> ::alited::printer::csscont 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::GetDirLink'>GetDirLink</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a dir link for index.html.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetDirLink</span> <span class='ruff_arg'>dir</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dir</code></code></td><td class='ruff_defitem'>directory name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_GetDirLink' href="javascript:toggleSource('alited_printer_GetDirLink')">Show source</a></p>
<div id='alited_printer_GetDirLink' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::GetDirLink {dir} {
  <i><font color=#4b5d50># Gets a dir link for index.html.</font></i>
  <i><font color=#4b5d50>#   dir - directory name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> dirtail [::apave::FileTail <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$dir</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dirtail</font> eq {}} {<b><font color=#3a6797>set</font></b> branch &lt;hr&gt;} {<b><font color=#3a6797>set</font></b> branch <font color=#1b1baa>$dirtail</font>}
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$dirtail</font> [GetBranchLink # <font color=#1b1baa>$branch</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::GetFileName'>GetFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file link for index.html.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetFileName</span> <span class='ruff_arg'>dir2 fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dir2</code></code></td><td class='ruff_defitem'>directory name</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_GetFileName' href="javascript:toggleSource('alited_printer_GetFileName')">Show source</a></p>
<div id='alited_printer_GetFileName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::GetFileName {dir2 fname} {
  <i><font color=#4b5d50># Gets a file link for index.html.</font></i>
  <i><font color=#4b5d50>#   dir2 - directory name</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> ftail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir2</font> <font color=#1b1baa>$ftail</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::GetLeafLink'>GetLeafLink</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a contents leaf link for index.html.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetLeafLink</span> <span class='ruff_arg'>link title ?tip? ?basepath?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>link</code></code></td><td class='ruff_defitem'>link address</td></tr>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>link title</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>tooltip's text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>basepath</code></code></td><td class='ruff_defitem'>base path for file links; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_GetLeafLink' href="javascript:toggleSource('alited_printer_GetLeafLink')">Show source</a></p>
<div id='alited_printer_GetLeafLink' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::GetLeafLink {link title {tip {}} {basepath {}}} {
  <i><font color=#4b5d50># Gets a contents leaf link for index.html.</font></i>
  <i><font color=#4b5d50>#   link - link address</font></i>
  <i><font color=#4b5d50>#   title - link title</font></i>
  <i><font color=#4b5d50>#   tip - tooltip's text</font></i>
  <i><font color=#4b5d50>#   basepath - base path for file links</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$basepath</font> ne {}} {
    <b><font color=#3a6797>set</font></b> link [::apave::FileTail <font color=#1b1baa>$basepath</font> <font color=#1b1baa>$link</font>]
  }
  <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$title</font> :] end]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tip</font> eq {}} {
    <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;&lt;ul class=toc&gt;&lt;li&gt;&lt;a href='<font color=#1b1baa>$</font>link'&gt;<font color=#1b1baa>$</font>title&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&quot;</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;&lt;ul class=toc&gt;&lt;li&gt;&lt;div class=tooltip&gt;&lt;a href=\&quot;<font color=#1b1baa>$</font>link\&quot;&gt;<font color=#1b1baa>$</font>title&lt;/a&gt;&lt;span class=tooltiptext&gt;<font color=#1b1baa>$</font>tip&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::GetReadme'>GetReadme</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Create html version of readme.md.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetReadme</span> <span class='ruff_arg'>dirfrom</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirfrom</code></code></td><td class='ruff_defitem'>directory name where to get the source readme.md</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_GetReadme' href="javascript:toggleSource('alited_printer_GetReadme')">Show source</a></p>
<div id='alited_printer_GetReadme' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::GetReadme {dirfrom} {
  <i><font color=#4b5d50># Create html version of readme.md.</font></i>
  <i><font color=#4b5d50>#   dirfrom - directory name where to get the source readme.md</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mdproc</font> eq {}} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dirfrom</font> README*]]] eq {}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dirfrom</font> ReadMe*]]] eq {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dirfrom</font> Readme*]]] eq {}} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dirfrom</font> readme*]]] eq {}} {
          <b><font color=#ca14ca>return</font></b> {}
        }
      }
    }
  }
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fname</font> 0]
  Message <font color=#1b1baa>$fname</font> 3
  <b><font color=#3a6797>set</font></b> tmpname [alited::TmpFile PRINTER~.html]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lastreadme</font> ne <font color=#1b1baa>$fname</font>} {
    <b><font color=#3a6797>set</font></b> lastreadme <font color=#1b1baa>$fname</font>
    <b><font color=#3a6797>set</font></b> com {}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mdproc</font> eq {pandoc}} {
      <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>list</font></b> [apave::autoexec <font color=#1b1baa>$mdproc</font>] <font color=#6c3e67>-o</font> <font color=#1b1baa>$tmpname</font> <font color=#1b1baa>$fname</font>]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$mdproc</font> eq {alited}} {
      MdProc <font color=#1b1baa>$fname</font> <font color=#1b1baa>$tmpname</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %i <font color=#1b1baa>$fname</font> %o <font color=#1b1baa>$tmpname</font>] <font color=#1b1baa>$mdproc</font>]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {<b><font color=#3a6797>exec</font></b> -- {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$com</font>}
  }
  <b><font color=#3a6797>set</font></b> cont {}
  <b><font color=#3a6797>set</font></b> iscode no
  <b><font color=#3a6797>set</font></b> lsp1 0
  <b><font color=#3a6797>set</font></b> lpr1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$paragr</font>]
  <b><font color=#3a6797>set</font></b> lpr2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lpr1</font>+1}]
  <i><font color=#4b5d50># wrap the code snippets with &lt;pre code ... /pre&gt;</font></i>
  <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [readTextFile <font color=#1b1baa>$tmpname</font> {} 1] \n] {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>set</font></b> lsp [<font color=#1b1baa>$obDl2</font> leadingSpaces <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lsp</font>&gt;3} {
      <b><font color=#3a6797>set</font></b> line [Off_Html_tags <font color=#1b1baa>$line</font>]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$iscode</font>} {<b><font color=#3a6797>set</font></b> lsp1 <font color=#1b1baa>$lsp</font>}
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$lsp1</font> end]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$iscode</font>} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$cont</font> end-<font color=#1b1baa>$lpr1</font> end] eq <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>paragr\n&quot;</font>} {
           <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$cont</font> 0 end-<font color=#1b1baa>$lpr2</font>]
        }
        <b><font color=#3a6797>set</font></b> line <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>prebeg<font color=#1b1baa>$</font>line&quot;</font>
      }
      <b><font color=#3a6797>set</font></b> iscode yes
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$iscode</font> && <font color=#1b1baa>$line</font> ne {}} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> eq <font color=#1b1baa>$paragr</font>} {
        <b><font color=#3a6797>append</font></b> cont \n
        <b><font color=#ca14ca>continue</font></b>
      }
      <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$cont</font>]
      <b><font color=#3a6797>set</font></b> line <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>preend<font color=#1b1baa>$</font>line&quot;</font>
      <b><font color=#3a6797>set</font></b> iscode no
    }
    <b><font color=#3a6797>append</font></b> cont <font color=#1b1baa>$line</font> \n
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Help&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Help' href="javascript:toggleSource('alited_printer_Help')">Show source</a></p>
<div id='alited_printer_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Help {} {
  <i><font color=#4b5d50># Handles &quot;Help&quot; button.</font></i>

  alited::HelpAlited #printer
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Hl_html'>Hl_html</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights Tcl code in html file</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Hl_html</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Hl_html' href="javascript:toggleSource('alited_printer_Hl_html')">Show source</a></p>
<div id='alited_printer_Hl_html' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Hl_html {fname} {
  <i><font color=#4b5d50># Highlights Tcl code in html file</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> cset cs=
  <b><font color=#3a6797>foreach</font></b> val <font color=#1b1baa>$colors</font> {<b><font color=#3a6797>append</font></b> cset <font color=#1b1baa>$val</font>,}
  <b><font color=#3a6797>set</font></b> hl_tcl [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::LIBDIR</font> hl_tcl tcl_html.tcl]
  <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>list</font></b> [alited::Tclexe] <font color=#1b1baa>$hl_tcl</font> <font color=#1b1baa>$cset</font> <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>exec</font></b> -- {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$com</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::MakeFile'>MakeFile</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a html file or a copy of file from a source file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MakeFile</span> <span class='ruff_arg'>fname fname2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>source file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>fname2</code></code></td><td class='ruff_defitem'>resulting file</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_MakeFile' href="javascript:toggleSource('alited_printer_MakeFile')">Show source</a></p>
<div id='alited_printer_MakeFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::MakeFile {fname fname2} {
  <i><font color=#4b5d50># Makes a html file or a copy of file from a source file.</font></i>
  <i><font color=#4b5d50>#   fname - source file's name</font></i>
  <i><font color=#4b5d50>#   fname2 - resulting file</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> ftail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname2</font>]
  Message <font color=#1b1baa>$ftail</font> 3
  <b><font color=#3a6797>update</font></b>
  <b><font color=#3a6797>if</font></b> {![alited::file::IsTcl <font color=#1b1baa>$fname2</font>]} {
    <b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname2</font>
  }
  <b><font color=#3a6797>set</font></b> cont [readTextFile <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> TID  [alited::bar::FileTID <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {} && <font color=#1b1baa>$wtxt</font> ne {}} {
    alited::InitUnitTree <font color=#1b1baa>$TID</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> TID TMP
    <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl2</font> TexTmp]
    <font color=#1b1baa>$wtxt</font> replace 1.0 end <font color=#1b1baa>$cont</font>             ;<i><font color=#4b5d50># imitate tab of bar</font></i>
    alited::unit::RecreateUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>  ;<i><font color=#4b5d50># to get unit tree</font></i>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font>]&lt;2} {
    <b><font color=#3a6797>set</font></b> tpl [readTextFile <font color=#1b1baa>$indextpl2</font>]  ;<i><font color=#4b5d50># no units</font></i>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tpl [readTextFile <font color=#1b1baa>$indextpl</font>]
    <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wctoc</font> <font color=#1b1baa>$ftail</font>] <font color=#1b1baa>$tpl</font>]
    <b><font color=#3a6797>set</font></b> contlist [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$cont</font> \n]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosort</font>} {
      <b><font color=#3a6797>set</font></b> items [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-command</font> alited::printer::CompareUnits <font color=#1b1baa>$al(_unittree,$TID)</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> items <font color=#1b1baa>$al(_unittree,$TID)</font>
    }
    <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$items</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]&lt;3} <b><font color=#ca14ca>continue</font></b>
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
      <b><font color=#3a6797>set</font></b> title [::apave::NormalizeName <font color=#1b1baa>$title</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$title</font> eq {}} {
        <b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$ftail</font>
        <b><font color=#3a6797>set</font></b> leaf 0
      }
      <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>string</font></b> map {<font color=#8b2a0e>&quot; &quot;</font> _} <font color=#1b1baa>$title</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font>} {
        <b><font color=#3a6797>set</font></b> tip <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>title<font color=#1b1baa>[</font>UnitTooltip <font color=#1b1baa>$</font>wtxt <font color=#1b1baa>$</font>l1 <font color=#1b1baa>$</font>l2<font color=#1b1baa>]</font>&quot;</font>
        <b><font color=#3a6797>set</font></b> link [GetLeafLink #<font color=#1b1baa>$ttl</font> <font color=#1b1baa>$title</font> <font color=#1b1baa>$tip</font>]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosort</font>} {
          <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$title</font>]
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> repeat {&nbsp;} [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>*2}]]<font color=#1b1baa>$title</font>
        }
        <b><font color=#3a6797>set</font></b> link [GetBranchLink #<font color=#1b1baa>$ttl</font> <font color=#1b1baa>$title</font>]
      }
      <b><font color=#3a6797>append</font></b> link \n<font color=#1b1baa>$wclink</font>
      <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wclink</font> <font color=#1b1baa>$link</font>] <font color=#1b1baa>$tpl</font>]
      <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {max(0,<font color=#1b1baa>$l1</font>-2)}]
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$contlist</font> <font color=#1b1baa>$l1</font>]
      <b><font color=#3a6797>set</font></b> contlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$contlist</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l1</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>line<font color=#1b1baa>${</font>wclt<font color=#1b1baa>}</font>a id=<font color=#1b1baa>$</font>ttl<font color=#1b1baa>${</font>wcgt<font color=#1b1baa>}${</font>wclt<font color=#1b1baa>}</font>/a<font color=#1b1baa>${</font>wcgt<font color=#1b1baa>}</font>&quot;</font>]
    }
    <b><font color=#3a6797>set</font></b> cont {}
    <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$contlist</font> {<b><font color=#3a6797>append</font></b> cont <font color=#1b1baa>$line</font>\n}
  }
  <b><font color=#3a6797>lassign</font></b> [GetReadme [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>]] readme rmname
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$readme</font> eq {}} {
    <b><font color=#3a6797>set</font></b> bttl {}
    <b><font color=#3a6797>set</font></b> rmttl <font color=#1b1baa>$leafttl</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> bttl <font color=#1b1baa>$leafttl</font>
    <b><font color=#3a6797>set</font></b> rmttl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wctitle</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$rmname</font>]] <font color=#1b1baa>$leafttl</font>]
  }
  <b><font color=#3a6797>set</font></b> rootpath [<b><font color=#3a6797>file</font></b> dirname [::apave::FileRelativeTail <font color=#1b1baa>$dir</font> <font color=#1b1baa>$fname2</font>]]
  <b><font color=#3a6797>set</font></b> csspath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$rootpath</font> <font color=#1b1baa>$CSS</font> <font color=#1b1baa>$cssname</font>]
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wclink</font> {} <font color=#1b1baa>$wcrmcon</font> <font color=#1b1baa>$readme</font> <font color=#1b1baa>$wcrmttl</font> <font color=#1b1baa>$rmttl</font> <font color=#1b1baa>$wcbttl</font> <font color=#1b1baa>$bttl</font>] <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcleaft</font> <font color=#1b1baa>$leafttl</font>] <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wctitle</font> <font color=#1b1baa>$ftail</font> <font color=#1b1baa>$wcstyle</font> <font color=#1b1baa>$csspath</font>] <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcfg</font> <font color=#1b1baa>$leaffg</font> <font color=#1b1baa>$wcbg</font> <font color=#1b1baa>$leafbg</font>] <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcback</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$rootpath</font> <font color=#1b1baa>$indexname</font>]] <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> cont [Off_Html_tags <font color=#1b1baa>$cont</font>]
  <b><font color=#3a6797>set</font></b> tmpC <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>prebeg<font color=#1b1baa>$</font>cont<font color=#1b1baa>$</font>preend&quot;</font>
  <b><font color=#3a6797>set</font></b> tmpC [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcbody</font> <font color=#1b1baa>$tmpC</font>] <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$fname2</font>].html
  writeTextFile <font color=#1b1baa>$fname2</font> ::alited::printer::tmpC
  Hl_html <font color=#1b1baa>$fname2</font>
  <b><font color=#3a6797>set</font></b> tmpC [readTextFile <font color=#1b1baa>$fname2</font>]
  <b><font color=#3a6797>set</font></b> tmpC [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>${wclt}</font> &lt; <font color=#1b1baa>${wcgt}</font> &gt;] <font color=#1b1baa>$tmpC</font>]
  <b><font color=#3a6797>append</font></b> tmpC \n<font color=#1b1baa>$copyright</font>
  writeTextFile <font color=#1b1baa>$fname2</font> ::alited::printer::tmpC
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Mark'>Mark</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Mark/unmark tree items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mark</span> <span class='ruff_arg'>wtree itemID ismarked</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>itemID</code></code></td><td class='ruff_defitem'>item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>ismarked</code></code></td><td class='ruff_defitem'>yes if the item is marked</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Mark' href="javascript:toggleSource('alited_printer_Mark')">Show source</a></p>
<div id='alited_printer_Mark' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Mark {wtree itemID ismarked} {
  <i><font color=#4b5d50># Mark/unmark tree items.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>
  <i><font color=#4b5d50>#   itemID - item's ID</font></i>
  <i><font color=#4b5d50>#   ismarked - yes if the item is marked</font></i>

  <b><font color=#3a6797>set</font></b> treecont [alited::tree::GetTree {} {} <font color=#1b1baa>$wtree</font>]
  <b><font color=#3a6797>set</font></b> iit [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> {4 3} <font color=#1b1baa>$treecont</font> <font color=#1b1baa>$itemID</font>]
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$treecont</font> <font color=#1b1baa>$iit</font>] lev
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$treecont</font> <font color=#1b1baa>$iit</font> 4] - fname leaf
  MarkFile <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$ismarked</font>
  <b><font color=#3a6797>set</font></b> wasmarkeddir no
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$leaf</font>]} {
    <i><font color=#4b5d50># for directory: mark/unmark its files</font></i>
    <b><font color=#3a6797>foreach</font></b> item [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$treecont</font> [<b><font color=#3a6797>incr</font></b> iit] end] {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font>] lev2
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 4] - fname leaf itID
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lev2</font>&lt;=<font color=#1b1baa>$lev</font>} <b><font color=#ca14ca>break</font></b>
      MarkFile <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itID</font> <font color=#1b1baa>$ismarked</font>
      <b><font color=#3a6797>set</font></b> wasmarkeddir yes
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$wasmarkeddir</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Mark1'>Mark1</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Mark/unmark tree item of file, with a key.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Mark1</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Mark1' href="javascript:toggleSource('alited_printer_Mark1')">Show source</a></p>
<div id='alited_printer_Mark1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Mark1 {wtree} {
  <i><font color=#4b5d50># Mark/unmark tree item of file, with a key.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>

  <b><font color=#3a6797>set</font></b> wd [MarkUnmarkFile]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$wd</font>} {
    <b><font color=#134070>event</font></b> generate <font color=#1b1baa>$wtree</font> &lt;Down&gt;
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::MarkFile'>MarkFile</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Mark/unmark tree item of file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MarkFile</span> <span class='ruff_arg'>wtree itemID ismarked</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>itemID</code></code></td><td class='ruff_defitem'>item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>ismarked</code></code></td><td class='ruff_defitem'>yes if the item is marked</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_MarkFile' href="javascript:toggleSource('alited_printer_MarkFile')">Show source</a></p>
<div id='alited_printer_MarkFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::MarkFile {wtree itemID ismarked} {
  <i><font color=#4b5d50># Mark/unmark tree item of file.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>
  <i><font color=#4b5d50>#   itemID - item's ID</font></i>
  <i><font color=#4b5d50>#   ismarked - yes if the item is marked</font></i>

  <b><font color=#3a6797>variable</font></b> markedIDs
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$markedIDs</font> <font color=#1b1baa>$itemID</font>]
  <b><font color=#3a6797>set</font></b> markedIDs [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$markedIDs</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ismarked</font>} {
    <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
    <b><font color=#3a6797>lappend</font></b> markedIDs <font color=#1b1baa>$itemID</font>
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$wtree</font> tag remove tagSel <font color=#1b1baa>$itemID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::MarkTotal'>MarkTotal</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Show a number of marked items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MarkTotal</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_MarkTotal' href="javascript:toggleSource('alited_printer_MarkTotal')">Show source</a></p>
<div id='alited_printer_MarkTotal' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::MarkTotal {} {
  <i><font color=#4b5d50># Show a number of marked items.</font></i>

  fetchVars
  [<font color=#1b1baa>$obDl2</font> Labstat2] configure <font color=#6c3e67>-text</font> [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$markedIDs</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::MarkUnmarkFile'>MarkUnmarkFile</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Marks/unmarks and item in file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MarkUnmarkFile</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_MarkUnmarkFile' href="javascript:toggleSource('alited_printer_MarkUnmarkFile')">Show source</a></p>
<div id='alited_printer_MarkUnmarkFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::MarkUnmarkFile {} {
  <i><font color=#4b5d50># Marks/unmarks and item in file tree.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obDl2</font> Tree]
  <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> focus]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> eq {}} {
    <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtree</font>
    FocusID1 <font color=#1b1baa>$wtree</font>
    <b><font color=#ca14ca>return</font></b> 0
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$markedIDs</font> <font color=#1b1baa>$itemID</font>]]&gt;=0} {
    <b><font color=#3a6797>set</font></b> markedIDs [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$markedIDs</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>set</font></b> wasmarkeddir [Mark <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font> no]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lappend</font></b> markedIDs <font color=#1b1baa>$itemID</font>
    <b><font color=#3a6797>set</font></b> wasmarkeddir [Mark <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font> yes]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wasmarkeddir</font>} {
    ExpandMarked
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::printer::FocusID <font color=#1b1baa>$</font>wtree <font color=#1b1baa>$</font>itemID&quot;</font>
  }
  MarkTotal
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$wasmarkeddir</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::MdInit'>MdInit</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes a text widget for md syntax.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MdInit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_MdInit' href="javascript:toggleSource('alited_printer_MdInit')">Show source</a></p>
<div id='alited_printer_MdInit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::MdInit {} {
  <i><font color=#4b5d50># Initializes a text widget for md syntax.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl2</font> TexTmp2]
  <b><font color=#3a6797>set</font></b> plcom [alited::HighlightAddon <font color=#1b1baa>$wtxt</font> .md <font color=#1b1baa>$colors</font>]
  ::hl_tcl::hl_init <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-plaincom</font> <font color=#1b1baa>$plcom</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::MdOutput'>MdOutput</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts out the .html made from .md (in a text buffer): final processings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MdOutput</span> <span class='ruff_arg'>wtxt fout</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fout</code></code></td><td class='ruff_defitem'>output file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_MdOutput' href="javascript:toggleSource('alited_printer_MdOutput')">Show source</a></p>
<div id='alited_printer_MdOutput' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::MdOutput {wtxt fout} {
  <i><font color=#4b5d50># Puts out the .html made from .md (in a text buffer): final processings.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   fout - output file name</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> tmpC {}
  <b><font color=#3a6797>set</font></b> par 1
  <b><font color=#3a6797>set</font></b> code 0
  <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get 1.0 end] \n] {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^\\s<font color=#1b1baa>{</font>0,3<font color=#1b1baa>}</font>&gt;<font color=#1b1baa>{</font>1<font color=#1b1baa>}</font>&quot;</font> <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>set</font></b> line &lt;blockquote&gt;[<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line</font> { &gt;}]&lt;/blockquote&gt;
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> eq {```}} {
      <i><font color=#4b5d50># code snippet's start-end</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> code [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$code</font>}]]} {
        <b><font color=#3a6797>set</font></b> line {&lt;pre class=<font color=#8b2a0e>&quot;code&quot;</font>&gt;}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> line &lt;/pre&gt;
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$line</font> eq {}} {
      <i><font color=#4b5d50># paragraph's start-end</font></i>
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$par</font>} {<b><font color=#3a6797>append</font></b> line <font color=#1b1baa>$paragr</font>}
      <b><font color=#3a6797>incr</font></b> par
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$par</font>} {
      <b><font color=#3a6797>set</font></b> par 0
    }
    <b><font color=#3a6797>append</font></b> tmpC <font color=#1b1baa>$line</font> \n
  }
  <i><font color=#4b5d50># paragraph's end</font></i>
  <b><font color=#3a6797>append</font></b> tmpC &lt;/p&gt;
  writeTextFile <font color=#1b1baa>$fout</font> ::alited::printer::tmpC
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::MdProc'>MdProc</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes .html version of .md file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MdProc</span> <span class='ruff_arg'>fin fout</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fin</code></code></td><td class='ruff_defitem'>input .md file name</td></tr>
<tr><td class='ruff_defitem'><code><code>fout</code></code></td><td class='ruff_defitem'>output .html file name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>First, puts the .md file to a text widget and highlights it. Then scans the text for highlighting tags to make their html counterparts.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::hl_md::init" title="hl_md::init" class='ruff_cmd'>hl_md::init</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_MdProc' href="javascript:toggleSource('alited_printer_MdProc')">Show source</a></p>
<div id='alited_printer_MdProc' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::MdProc {fin fout} {
  <i><font color=#4b5d50># Makes .html version of .md file.</font></i>
  <i><font color=#4b5d50>#   fin - input .md file name</font></i>
  <i><font color=#4b5d50>#   fout - output .html file name</font></i>
  <i><font color=#4b5d50># First, puts the .md file to a text widget and highlights it.</font></i>
  <i><font color=#4b5d50># Then scans the text for highlighting tags to make their html counterparts.</font></i>
  <i><font color=#4b5d50># See also: hl_md::init</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl2</font> TexTmp2]
  <b><font color=#3a6797>set</font></b> cont [readTextFile <font color=#1b1baa>$fin</font> {} 1]
  <font color=#1b1baa>$wtxt</font> replace 1.0 end <font color=#1b1baa>$cont</font>
  ::hl_tcl::hl_text <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$colors</font> clrCOM clrCOMTK clrSTR clrVAR clrCMN clrPROC clrOPT
  <b><font color=#3a6797>foreach</font></b> tag [<font color=#1b1baa>$wtxt</font> tag names] {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match md* <font color=#1b1baa>$tag</font>]} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> parts [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-stride</font> 2 [<font color=#1b1baa>$wtxt</font> tag ranges <font color=#1b1baa>$tag</font>]]
    <b><font color=#3a6797>foreach</font></b> {p1 p2} <font color=#1b1baa>$parts</font> {
      <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tag</font> {
        mdCMNT {  ;<i><font color=#4b5d50># comment tag for &quot;invisible&quot; parts</font></i>
          <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font> {}
        }
        mdAPOS {  ;<i><font color=#4b5d50># apostrophe is for &lt;code&gt; tag</font></i>
          <b><font color=#3a6797>set</font></b> cont [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font>]
          <b><font color=#3a6797>set</font></b> cont2 [Off_Html_tags <font color=#1b1baa>$cont</font>]
          <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font> <font color=#1b1baa>$cont2</font>
          <b><font color=#3a6797>set</font></b> addch [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$cont2</font>]-[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$cont</font>]}]
          <b><font color=#3a6797>set</font></b> p2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>p2 +<font color=#1b1baa>$</font>addch char&quot;</font>]
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p2</font> &lt;/code&gt;
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p1</font> <font color=#8b2a0e>&quot;&lt;code&gt;&quot;</font>
        }
        mdBOIT {  ;<i><font color=#4b5d50># bold italic</font></i>
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p2</font> &lt;/font&gt;&lt;/i&gt;&lt;/b&gt;
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p1</font> <font color=#8b2a0e>&quot;&lt;b&gt;&lt;i&gt;&lt;font color=<font color=#1b1baa>$</font>clrVAR&gt;&quot;</font>
        }
        mdITAL {  ;<i><font color=#4b5d50># italic</font></i>
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p2</font> &lt;/font&gt;&lt;/i&gt;
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p1</font> <font color=#8b2a0e>&quot;&lt;i&gt;&lt;font color=<font color=#1b1baa>$</font>clrVAR&gt;&quot;</font>
        }
        mdBOLD {  ;<i><font color=#4b5d50># bold</font></i>
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p2</font> &lt;/font&gt;&lt;/b&gt;
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p1</font> <font color=#8b2a0e>&quot;&lt;b&gt;&lt;font color=<font color=#1b1baa>$</font>clrVAR&gt;&quot;</font>
        }
        mdLIST {  ;<i><font color=#4b5d50># list</font></i>
          <b><font color=#3a6797>set</font></b> link [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font>]
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> lre [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {^\s*(\d+).\s} <font color=#1b1baa>$link</font>] 0]] ne {}} {
            <i><font color=#4b5d50># numbered list</font></i>
            <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font> <font color=#8b2a0e>&quot;&lt;ol start=\&quot;<font color=#1b1baa>$</font>lre\&quot;&gt;&lt;li&gt;&quot;</font>
            <b><font color=#3a6797>set</font></b> endtag &lt;/li&gt;&lt;/ol&gt;
          } <b><font color=#3a6797>else</font></b> {
            <i><font color=#4b5d50># usual list</font></i>
            <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font> &lt;li&gt;
            <b><font color=#3a6797>set</font></b> endtag &lt;/li&gt;
          }
          <font color=#1b1baa>$wtxt</font> insert [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$p2</font>)}].end <font color=#1b1baa>$endtag</font>
        }
        mdLINK {  ;<i><font color=#4b5d50># link</font></i>
          <b><font color=#3a6797>set</font></b> tag1 {&lt;a href=}
          <b><font color=#3a6797>set</font></b> tag2 &lt;/a&gt;
          <b><font color=#3a6797>set</font></b> tag3 &gt;
          <b><font color=#3a6797>set</font></b> link [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font>]
          <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$link</font> \[\]()] a1 a2 a3 a4
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$a1</font> eq {!}} {
            <i><font color=#4b5d50># <img src=&quot;https://wiki.tcl-lang.org/Tcl+Editors&quot; alt=&quot;Tcl Editors&quot; /&gt;,</font></i>
            <b><font color=#3a6797>set</font></b> tag1 <font color=#8b2a0e>&quot;&lt;img alt=\&quot;<font color=#1b1baa>$</font>a2\&quot; src=&quot;</font>
            <b><font color=#3a6797>set</font></b> tag2 {}
            <b><font color=#3a6797>set</font></b> tag3 <font color=#8b2a0e>&quot; /&gt;&quot;</font>
            <b><font color=#3a6797>set</font></b> a1 [<b><font color=#3a6797>set</font></b> a2 {}]
          }
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$a1</font> ne {}} {
            <b><font color=#3a6797>set</font></b> link <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>tag1\&quot;<font color=#1b1baa>$</font>link\&quot;&gt;<font color=#1b1baa>$</font>link&quot;</font>
          } <b><font color=#3a6797>else</font></b> {
            <b><font color=#3a6797>set</font></b> link <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>tag1\&quot;<font color=#1b1baa>$</font>a4\&quot;<font color=#1b1baa>$</font>tag3<font color=#1b1baa>$</font>a2&quot;</font>
          }
          <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font> <font color=#1b1baa>$link$tag2</font>
        }
        mdHEAD1 - mdHEAD2 - mdHEAD3 - mdHEAD4 - mdHEAD5 - mdHEAD6 {  ;<i><font color=#4b5d50># headers</font></i>
          <b><font color=#3a6797>set</font></b> h h[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$tag</font> end]
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p2</font> &lt;/font&gt;&lt;/<font color=#1b1baa>$h</font>&gt;
          <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$p1</font> <font color=#8b2a0e>&quot;&lt;<font color=#1b1baa>$</font>h&gt;&lt;font color=<font color=#1b1baa>$</font>clrPROC&gt;&quot;</font>
        }
      }
    }
  }
  MdOutput <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$fout</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of the dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>2</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Message' href="javascript:toggleSource('alited_printer_Message')">Show source</a></p>
<div id='alited_printer_Message' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Message {msg {mode 2}} {
  <i><font color=#4b5d50># Displays a message in statusbar of the dialogue.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - mode of Message</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  alited::Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> [<font color=#1b1baa>$obDl2</font> Labstat1]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Off_Html_tags'>Off_Html_tags</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Disables html tags in a code snippet.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Off_Html_tags</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>the code snippet</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Off_Html_tags' href="javascript:toggleSource('alited_printer_Off_Html_tags')">Show source</a></p>
<div id='alited_printer_Off_Html_tags' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Off_Html_tags {cont} {
  <i><font color=#4b5d50># Disables html tags in a code snippet.</font></i>
  <i><font color=#4b5d50>#   cont - the code snippet</font></i>

  <b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> &lt; <font color=#8b2a0e>&quot;&lt;&quot;</font> &gt; <font color=#8b2a0e>&quot;&gt;&quot;</font>] <font color=#1b1baa>$cont</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Ok' href="javascript:toggleSource('alited_printer_Ok')">Show source</a></p>
<div id='alited_printer_Ok' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Ok {} {
  fetchVars
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obDl2</font> Tree]
  <b><font color=#3a6797>set</font></b> geometry [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  <b><font color=#3a6797>set</font></b> width1 [<font color=#1b1baa>$wtree</font> column #0 <font color=#6c3e67>-width</font>]
  <b><font color=#3a6797>set</font></b> width2 [<font color=#1b1baa>$wtree</font> column #1 <font color=#6c3e67>-width</font>]
  SaveIni
  <b><font color=#3a6797>if</font></b> {[Process <font color=#1b1baa>$wtree</font>]} {<font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 1}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::Process'>Process</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes files to make the resulting .html.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Process</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_Process' href="javascript:toggleSource('alited_printer_Process')">Show source</a></p>
<div id='alited_printer_Process' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::Process {wtree} {
  <i><font color=#4b5d50># Processes files to make the resulting .html.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> colors [::hl_tcl::hl_colors <font color=#1b1baa>$cs</font> 0]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mdproc</font> eq {alited}} MdInit
  <b><font color=#3a6797>set</font></b> index_to [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> <font color=#1b1baa>$indexname</font>]
  <b><font color=#3a6797>set</font></b> filesdir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> <font color=#1b1baa>$FILES</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$index_to</font>]} {
    <i><font color=#4b5d50># make empty index.html, to get rid of possible error messages</font></i>
    <b><font color=#3a6797>set</font></b> readmecont <font color=#1b1baa>$copyleft</font>
    writeTextFile <font color=#1b1baa>$index_to</font> ::alited::printer::readmecont
  }
  <b><font color=#3a6797>if</font></b> {![CheckData]} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>if</font></b> {![CheckDir]} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>if</font></b> {![CheckTemplates]} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>lassign</font></b> [GetReadme <font color=#1b1baa>$al(prjroot)</font>] readmecont rmname
  <b><font color=#3a6797>set</font></b> indexcont [readTextFile <font color=#1b1baa>$indextpl</font>]
  <b><font color=#3a6797>set</font></b> indexcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcrmcon</font> <font color=#1b1baa>$readmecont</font> <font color=#1b1baa>$wcbody</font> {}] <font color=#1b1baa>$indexcont</font>]
  GetCss
  <b><font color=#3a6797>set</font></b> curdir {}
  <b><font color=#3a6797>set</font></b> fcnt [<b><font color=#3a6797>set</font></b> dcnt 0]
  <b><font color=#3a6797>foreach</font></b> itemID [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$markedIDs</font>] {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-values</font>] -&gt; fname isfile
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>incr</font></b> dcnt
      <b><font color=#ca14ca>continue</font></b>
    }
    <b><font color=#3a6797>set</font></b> cdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>set</font></b> dodir no
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curdir</font> ne <font color=#1b1baa>$cdir</font>} {
      <b><font color=#3a6797>set</font></b> dodir yes
      <b><font color=#3a6797>set</font></b> curdir <font color=#1b1baa>$cdir</font>
      <b><font color=#3a6797>lassign</font></b> [GetDirLink <font color=#1b1baa>$cdir</font>] cdir2 link
      <b><font color=#3a6797>append</font></b> link \n<font color=#1b1baa>$wclink</font>
      <b><font color=#3a6797>set</font></b> indexcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wclink</font> <font color=#1b1baa>$link</font>] <font color=#1b1baa>$indexcont</font>]
      Message <font color=#1b1baa>$cdir</font> 3
      <b><font color=#3a6797>update</font></b>
    }
    <b><font color=#3a6797>set</font></b> fname2 [GetFileName <font color=#1b1baa>$cdir2</font> <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$filesdir</font> <font color=#1b1baa>$fname2</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dodir</font>} {
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname2</font>]}
    }
    <b><font color=#3a6797>set</font></b> fname [MakeFile <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>]
    <b><font color=#3a6797>set</font></b> link [GetLeafLink <font color=#1b1baa>$fname</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname2</font>] {} <font color=#1b1baa>$dir</font>]
    <b><font color=#3a6797>append</font></b> link \n<font color=#1b1baa>$wclink</font>
    <b><font color=#3a6797>set</font></b> indexcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wclink</font> <font color=#1b1baa>$link</font>] <font color=#1b1baa>$indexcont</font>]
    <b><font color=#3a6797>incr</font></b> fcnt
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$rmname</font> eq {}} {
    <b><font color=#3a6797>set</font></b> rmttl <font color=#1b1baa>$leafttl</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> rmttl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wctitle</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$rmname</font>]] <font color=#1b1baa>$leafttl</font>]
  }
  <b><font color=#3a6797>set</font></b> csspath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$CSS</font> <font color=#1b1baa>$cssname</font>]
  <b><font color=#3a6797>set</font></b> indexcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcleaft</font> <font color=#1b1baa>$leafttl</font> <font color=#1b1baa>$wcrmttl</font> <font color=#1b1baa>$leafttl</font>] <font color=#1b1baa>$indexcont</font>]
  <b><font color=#3a6797>set</font></b> ttl <font color=#8b2a0e>&quot;:: <font color=#1b1baa>$</font>al(prjname) ::&quot;</font>
  <b><font color=#3a6797>set</font></b> indexcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wctitle</font> <font color=#1b1baa>$ttl</font> <font color=#1b1baa>$wctoc</font> <font color=#1b1baa>$ttl</font>] <font color=#1b1baa>$indexcont</font>]
  <b><font color=#3a6797>set</font></b> indexcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wclink</font> {} <font color=#1b1baa>$wcback</font> {} <font color=#1b1baa>$wcstyle</font> <font color=#1b1baa>$csspath</font>] <font color=#1b1baa>$indexcont</font>]
  <b><font color=#3a6797>set</font></b> indexcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wcfg</font> <font color=#1b1baa>$ttlfg</font> <font color=#1b1baa>$wcbg</font> <font color=#1b1baa>$ttlbg</font> <font color=#1b1baa>$wcbttl</font> {}] <font color=#1b1baa>$indexcont</font>]
  <b><font color=#3a6797>append</font></b> indexcont \n<font color=#1b1baa>$copyright</font>
  writeTextFile <font color=#1b1baa>$index_to</font> ::alited::printer::indexcont 1
  Hl_html <font color=#1b1baa>$index_to</font>
  <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Processed: %d directories, %f files}]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$dcnt</font> %f <font color=#1b1baa>$fcnt</font>] <font color=#1b1baa>$msg</font>]
  Message <font color=#1b1baa>$msg</font>
  <b><font color=#134070>bell</font></b>
  <b><font color=#ca14ca>return</font></b> [RunFinal]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::ProcMessage'>ProcMessage</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles clicking on message label.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcMessage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_ProcMessage' href="javascript:toggleSource('alited_printer_ProcMessage')">Show source</a></p>
<div id='alited_printer_ProcMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::ProcMessage {} {
  <i><font color=#4b5d50># Handles clicking on message label.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>set</font></b> msg [baltip cget [<font color=#1b1baa>$obDl2</font> Labstat1] <font color=#6c3e67>-text</font>]
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::ReadIni'>ReadIni</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads ini data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_ReadIni' href="javascript:toggleSource('alited_printer_ReadIni')">Show source</a></p>
<div id='alited_printer_ReadIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::ReadIni {} {
  <i><font color=#4b5d50># Reads ini data.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> cont [readTextFile <font color=#1b1baa>$inifile</font>]
  <b><font color=#3a6797>append</font></b> cont \n [readTextFile <font color=#1b1baa>$iniprjfile</font>]
  <b><font color=#3a6797>set</font></b> markedfiles [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$cont</font> \n] {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> val [alited::edit::IniParameter file <font color=#1b1baa>$line</font>]] ne {}} {
      <b><font color=#3a6797>lappend</font></b> markedfiles <font color=#1b1baa>$val</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>foreach</font></b> opt {geometry width1 width2 dir mdproc mdprocs  ttlfg ttlbg leaffg leafbg cwidth cs final dosort} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> val [alited::edit::IniParameter <font color=#1b1baa>$opt</font> <font color=#1b1baa>$line</font>]] ne {}} {
          <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$opt</font> <font color=#1b1baa>$val</font>
        }
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$width1</font> eq {}} {<b><font color=#3a6797>set</font></b> width1 <font color=#1b1baa>$al(TREE,cw0)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$width2</font> eq {}} {<b><font color=#3a6797>set</font></b> width2 <font color=#1b1baa>$al(TREE,cw1)</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::RunFinal'>RunFinal</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs final processor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunFinal</span> <span class='ruff_arg'>?check?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>check</code></code></td><td class='ruff_defitem'>if yes, beeps at empty final processor; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_RunFinal' href="javascript:toggleSource('alited_printer_RunFinal')">Show source</a></p>
<div id='alited_printer_RunFinal' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::RunFinal {{check no}} {
  <i><font color=#4b5d50># Runs final processor.</font></i>
  <i><font color=#4b5d50>#   check - if yes, beeps at empty final processor.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$final</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> <font color=#1b1baa>$indexname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$final</font> eq {%D} || <font color=#1b1baa>$final</font> eq {<font color=#8b2a0e>&quot;%D&quot;</font>}} {
      openDoc <font color=#1b1baa>$fname</font>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$final</font> eq {%e}} {
      alited::file::OpenFile <font color=#1b1baa>$fname</font>
      <b><font color=#ca14ca>return</font></b> yes
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %D <font color=#1b1baa>$dir</font>] <font color=#1b1baa>$final</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first e_menu.tcl <font color=#1b1baa>$com</font>]&gt;0 && [<b><font color=#3a6797>string</font></b> first m=%M <font color=#1b1baa>$com</font>]&gt;0} {
        <i><font color=#4b5d50># e_menu items require project name & Linux/Windows terminals</font></i>
        <b><font color=#3a6797>append</font></b> com <font color=#8b2a0e>&quot; PN=<font color=#1b1baa>$</font>al(prjname) \&quot;tt=<font color=#1b1baa>$</font>al(EM,tt=)\&quot; \&quot;wt=<font color=#1b1baa>$</font>al(EM,wt=)\&quot;&quot;</font>
      }
      <b><font color=#3a6797>set</font></b> com [alited::MapWildCards <font color=#1b1baa>$com</font>]
      <b><font color=#3a6797>exec</font></b> -- {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$com</font> &
    }
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$check</font>} {
    <b><font color=#3a6797>set</font></b> final {<font color=#8b2a0e>&quot;%D&quot;</font>}
    focusByForce [<font color=#1b1baa>$obDl2</font> chooserPath Fil]
    <b><font color=#134070>bell</font></b>
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::SaveIni'>SaveIni</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves ini data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_SaveIni' href="javascript:toggleSource('alited_printer_SaveIni')">Show source</a></p>
<div id='alited_printer_SaveIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::SaveIni {} {
  <i><font color=#4b5d50># Saves ini data.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obDl2</font> Tree]
  <b><font color=#3a6797>set</font></b>    tmpC {}
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;geometry=<font color=#1b1baa>$</font>geometry&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;width1=<font color=#1b1baa>$</font>width1&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;width2=<font color=#1b1baa>$</font>width2&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;mdproc=<font color=#1b1baa>$</font>mdproc&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;ttlfg=<font color=#1b1baa>$</font>ttlfg&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;ttlbg=<font color=#1b1baa>$</font>ttlbg&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;leaffg=<font color=#1b1baa>$</font>leaffg&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;leafbg=<font color=#1b1baa>$</font>leafbg&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;cwidth=<font color=#1b1baa>$</font>cwidth&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;cs=<font color=#1b1baa>$</font>cs&quot;</font> \n
  writeTextFile <font color=#1b1baa>$inifile</font> ::alited::printer::tmpC
  <b><font color=#3a6797>set</font></b>    tmpC {}
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;dir=<font color=#1b1baa>$</font>dir&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;final=<font color=#1b1baa>$</font>final&quot;</font> \n
  <b><font color=#3a6797>append</font></b> tmpC <font color=#8b2a0e>&quot;dosort=<font color=#1b1baa>$</font>dosort&quot;</font> \n
  <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree {} {} <font color=#1b1baa>$wtree</font>] {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 4] - fname leaf itemID
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> in <font color=#1b1baa>$markedIDs</font>} {
      <b><font color=#3a6797>append</font></b> tmpC \nfile=<font color=#1b1baa>$fname</font>
    }
  }
  writeTextFile <font color=#1b1baa>$iniprjfile</font> ::alited::printer::tmpC
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::StdClr'>StdClr</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets standard colors.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>StdClr</span> <span class='ruff_arg'>fld1 var1 fld2 var2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fld1</code></code></td><td class='ruff_defitem'>1st color field (and color field to focus)</td></tr>
<tr><td class='ruff_defitem'><code><code>var1</code></code></td><td class='ruff_defitem'>1st color variable name</td></tr>
<tr><td class='ruff_defitem'><code><code>fld2</code></code></td><td class='ruff_defitem'>2nd color field</td></tr>
<tr><td class='ruff_defitem'><code><code>var2</code></code></td><td class='ruff_defitem'>2nd color variable name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_StdClr' href="javascript:toggleSource('alited_printer_StdClr')">Show source</a></p>
<div id='alited_printer_StdClr' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::StdClr {fld1 var1 fld2 var2} {
  <i><font color=#4b5d50># Sets standard colors.</font></i>
  <i><font color=#4b5d50>#   fld1 - 1st color field (and color field to focus)</font></i>
  <i><font color=#4b5d50>#   var1 - 1st color variable name</font></i>
  <i><font color=#4b5d50>#   fld2 - 2nd color field</font></i>
  <i><font color=#4b5d50>#   var2 - 2nd color variable name</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$var1</font> [<b><font color=#3a6797>set</font></b> ::alited::printer::STD<font color=#1b1baa>$var1</font>]
  <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$var2</font> [<b><font color=#3a6797>set</font></b> ::alited::printer::STD<font color=#1b1baa>$var2</font>]
  <b><font color=#3a6797>set</font></b> lab1 [<font color=#1b1baa>$obDl2</font> chooserPath <font color=#1b1baa>$fld1</font> lab]; <font color=#1b1baa>$lab1</font> configure <font color=#6c3e67>-background</font> [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$var1</font>]
  <b><font color=#3a6797>set</font></b> lab2 [<font color=#1b1baa>$obDl2</font> chooserPath <font color=#1b1baa>$fld2</font> lab]; <font color=#1b1baa>$lab2</font> configure <font color=#6c3e67>-background</font> [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$var2</font>]
  <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> chooserPath <font color=#1b1baa>$fld1</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::TryFocusTree'>TryFocusTree</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tries focusing the focused item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TryFocusTree</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_TryFocusTree' href="javascript:toggleSource('alited_printer_TryFocusTree')">Show source</a></p>
<div id='alited_printer_TryFocusTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::TryFocusTree {wtree} {
  <i><font color=#4b5d50># Tries focusing the focused item of the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>

  <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> focus]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> ne {}} {
    <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtree</font>
    FocusID <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::printer::UnitTooltip'>UnitTooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::printer" title="::alited::printer" class='ruff_cmd'>::alited::printer</a>]</span><span class='tinylink'><a href='alited.html#::alited::printer'>printer</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets unit's tooltip.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitTooltip</span> <span class='ruff_arg'>wtxt l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line's number</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line's number</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_printer_UnitTooltip' href="javascript:toggleSource('alited_printer_UnitTooltip')">Show source</a></p>
<div id='alited_printer_UnitTooltip' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::printer::UnitTooltip {wtxt l1 l2} {
  <i><font color=#4b5d50># Gets unit's tooltip.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line's number</font></i>
  <i><font color=#4b5d50>#   l2 - last line's number</font></i>

  <b><font color=#3a6797>set</font></b> tip {}
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>incr</font></b> l1} {<font color=#1b1baa>$l1</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l1} {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimleft [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>append</font></b> tip [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line</font> {#! }] \n
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$line</font> ne {}} {
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$tip</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tip</font> ne {}} {<b><font color=#3a6797>set</font></b> tip <font color=#8b2a0e>&quot; : <font color=#1b1baa>$</font>tip&quot;</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::project'></a>::alited::project<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::project-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::project::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and opens Projects dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project__create' href="javascript:toggleSource('alited_project__create')">Show source</a></p>
<div id='alited_project__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::_create {} {
  <i><font color=#4b5d50># Creates and opens Projects dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> geo
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> oldTab
  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>set</font></b> curinfo(_NO2ENT) 0
  <b><font color=#3a6797>set</font></b> tipson [baltip::cget <font color=#6c3e67>-on</font>]
  baltip::configure <font color=#6c3e67>-on</font> <font color=#1b1baa>$al(TIPS,Projects)</font>
  ::apave::APave create <font color=#1b1baa>$obPrj</font> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$obPrj</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,projects) :: <font color=#1b1baa>$</font>::alited::PRJDIR&quot;</font>
  <b><font color=#3a6797>set</font></b> nbk <font color=#1b1baa>$win</font>.fra.fraR.nbk
  <font color=#1b1baa>$obPrj</font> paveWindow  <font color=#1b1baa>$win</font>.fra [MainFrame]  <font color=#1b1baa>$nbk</font>.f1 [Tab1]  <font color=#1b1baa>$nbk</font>.f2 [Tab2]  <font color=#1b1baa>$nbk</font>.f3 [Tab3]  <font color=#1b1baa>$nbk</font>.f4 [Tab4]  <font color=#1b1baa>$nbk</font>.f5 [Tab5]
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obPrj</font> TreePrj]
  <font color=#1b1baa>$tree</font> heading C1 <font color=#6c3e67>-text</font> <font color=#1b1baa>$al(MC,projects)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldTab</font> ne {}} {<font color=#1b1baa>$nbk</font> select <font color=#1b1baa>$oldTab</font>}
  UpdateTree
  ::apave::bindToEvent <font color=#1b1baa>$tree</font> &lt;&lt;TreeviewSelect&gt;&gt; alited::project::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;<font color=#1b1baa>$al(acc_2)</font>&gt; <font color=#8b2a0e>&quot;alited::ini::ToolByKey <font color=#1b1baa>$</font>nbk ToolPrjEM&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;<font color=#1b1baa>$al(acc_3)</font>&gt; <font color=#8b2a0e>&quot;alited::ini::ToolByKey <font color=#1b1baa>$</font>nbk ToolPrjRun&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Delete&gt; alited::project::Delete
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Double-Button-1&gt; alited::project::ProjectEnter
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Return&gt; alited::project::ProjectEnter
  <b><font color=#3a6797>foreach</font></b> ev {KeyPress ButtonPress} {
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;<font color=#1b1baa>$ev</font>&gt; {+ alited::project::KeyOnTree %K}
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obPrj ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obPrj</font> LabMess] &lt;Button-1&gt; alited::project::ProcMessage
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <b><font color=#3a6797>foreach</font></b> a {a A} {
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;Control-<font color=#1b1baa>$a</font>&gt; alited::project::SelectAllFiles
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;Double-Button-1&gt; {alited::project::OpenFile %y}
  ::baltip tip <font color=#1b1baa>$lbx</font> {alited::project::TipOnFile %i} <font color=#6c3e67>-shiftX</font> 10
  <b><font color=#3a6797>after</font></b> 500 alited::project::HelpMe ;<i><font color=#4b5d50># show an introduction after a short pause</font></i>
  <b><font color=#3a6797>set</font></b> prjtex [<font color=#1b1baa>$obPrj</font> TexPrj]
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$prjtex</font> &lt;FocusOut&gt; alited::project::SaveNotes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ilast</font>&gt;-1} {Select <font color=#1b1baa>$ilast</font>}
  <font color=#1b1baa>$obPrj</font> displayText [<font color=#1b1baa>$obPrj</font> TexTemplate] <font color=#1b1baa>$al(PTP,text)</font>
  alited::ini::HighlightFileText <font color=#1b1baa>$prjtex</font> .md 0  <font color=#6c3e67>-dobind</font> 1 <font color=#6c3e67>-cmdpos</font> ::apave::None
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obPrj</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo</font> <font color=#6c3e67>-minsize</font> {600 400} <font color=#6c3e67>-resizable</font> 1  <font color=#6c3e67>-onclose</font> alited::project::Cancel <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obPrj</font> TreePrj]]
  <b><font color=#3a6797>set</font></b> oldTab [<font color=#1b1baa>$nbk</font> select]
  <b><font color=#3a6797>set</font></b> al(PTP,text) [<b><font color=#3a6797>string</font></b> trimright [[<font color=#1b1baa>$obPrj</font> TexTemplate] get 1.0 end]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>] &lt; 2} {<b><font color=#3a6797>set</font></b> res <font color=#8b2a0e>&quot;&quot;</font>}
  <i><font color=#4b5d50># save the new geometry of the dialogue</font></i>
  <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  alited::main::ShowHeader yes
  baltip::configure {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tipson</font>
  ::klnd::clearup
  <b><font color=#3a6797>array</font></b> unset curinfo *
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <font color=#1b1baa>$obPrj</font> destroy
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Projects dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?checktodo?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>checktodo</code></code></td><td class='ruff_defitem'>if yes, checks for outdated TODOs; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project__run' href="javascript:toggleSource('alited_project__run')">Show source</a></p>
<div id='alited_project__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::_run {{checktodo yes}} {
  <i><font color=#4b5d50># Runs Projects dialogue.</font></i>
  <i><font color=#4b5d50>#   checktodo - if yes, checks for outdated TODOs</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> msgtodo
  <b><font color=#3a6797>variable</font></b> updateGUI
  <b><font color=#3a6797>variable</font></b> saveini
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> updateGUI [<b><font color=#3a6797>set</font></b> saveini no]
  <b><font color=#3a6797>set</font></b> msgtodo {}
  <b><font color=#3a6797>update</font></b>  ;<i><font color=#4b5d50># if run from menu: there may be unupdated space under it (in some DE)</font></i>
  SaveSettings
  GetProjects
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$checktodo</font> && ![IsOutdated <font color=#1b1baa>$al(prjname)</font>]} {
    <b><font color=#3a6797>after</font></b> 200 {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> prj [alited::project::CheckOutdated]] ne {}} {
        alited::project::Select <font color=#1b1baa>$::alited::project::prjinfo($prj,ID)</font>
      }
    }
  }
  <b><font color=#3a6797>after</font></b> 200 alited::project::OnProjectEnter
  <b><font color=#3a6797>set</font></b> res [_create]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$updateGUI</font>} alited::main::UpdateAll ;<i><font color=#4b5d50># settings may be changed as for GUI</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$saveini</font>} alited::ini::SaveIni
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Add project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>?showtotals?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>showtotals</code></code></td><td class='ruff_defitem'>if yes, shows total number of files; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if the project is successfully added.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Add' href="javascript:toggleSource('alited_project_Add')">Show source</a></p>
<div id='alited_project_Add' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Add {{showtotals yes}} {
  <i><font color=#4b5d50># &quot;Add project&quot; button's handler.</font></i>
  <i><font color=#4b5d50>#   showtotals - if yes, shows total number of files</font></i>
  <i><font color=#4b5d50># Returns yes, if the project is successfully added.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al OPTS OPTS
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  SaveNotes
  <b><font color=#3a6797>if</font></b> {![ValidProject] || [ExistingProject yes] ne {}} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>set</font></b> al(tablist) [<b><font color=#3a6797>list</font></b>]
  TabFileInfo
  <b><font color=#3a6797>set</font></b> pname <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> proot <font color=#1b1baa>$al(prjroot)</font>
  <b><font color=#3a6797>set</font></b> al(prjfile) [ProjectFileName <font color=#1b1baa>$pname</font>]
  <b><font color=#3a6797>set</font></b> al(prjbeforerun) {}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(PRJDEFAULT)</font>} {
    <i><font color=#4b5d50># use project defaults from &quot;Setup/Common/Projects&quot;, except for prjname & prjroot</font></i>
    <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$al(DEFAULT,$opt)</font>}
    }
    <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$pname</font>
    <b><font color=#3a6797>set</font></b> al(prjroot) <font color=#1b1baa>$proot</font>
  }
  alited::ini::SaveIni yes  ;<i><font color=#4b5d50># to initialize ini-file</font></i>
  <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$al($opt)</font>
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,prjrem) {} ;<i><font color=#4b5d50># reminders</font></i>
  PutProjectOpts <font color=#1b1baa>$al(prjfile)</font> <font color=#1b1baa>$al(prjfile)</font> no
  GetProjects
  UpdateTree
  Select <font color=#1b1baa>$prjinfo($pname,ID)</font>
  UpdateMsg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$pname</font>] <font color=#1b1baa>$al(MC,prjnew)</font>] <font color=#1b1baa>$showtotals</font>
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::afterOpenCloseFiles'>afterOpenCloseFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions after opening/closing files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>afterOpenCloseFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_afterOpenCloseFiles' href="javascript:toggleSource('alited_project_afterOpenCloseFiles')">Show source</a></p>
<div id='alited_project_afterOpenCloseFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::afterOpenCloseFiles {} {
  <i><font color=#4b5d50># Actions after opening/closing files.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> flist [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <b><font color=#3a6797>set</font></b> fsels [<font color=#1b1baa>$flist</font> curselection]
  <b><font color=#3a6797>set</font></b> item [Selected index]
  GetProjects
  UpdateTree
  Select <font color=#1b1baa>$item</font>
  focusTree
  <b><font color=#3a6797>foreach</font></b> fsel <font color=#1b1baa>$fsels</font> {
    <b><font color=#3a6797>after</font></b> 300 <font color=#1b1baa>$flist</font> selection set <font color=#1b1baa>$fsel</font> <font color=#1b1baa>$fsel</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Cancel' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>possible arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Cancel' href="javascript:toggleSource('alited_project_Cancel')">Show source</a></p>
<div id='alited_project_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Cancel {args} {
  <i><font color=#4b5d50># 'Cancel' button handler.</font></i>
  <i><font color=#4b5d50>#   args - possible arguments</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> win
  alited::CloseDlg
  SaveData
  SaveNotes
  RestoreSettings
  <font color=#1b1baa>$obPrj</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Change project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Change' href="javascript:toggleSource('alited_project_Change')">Show source</a></p>
<div id='alited_project_Change' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Change {} {
  <i><font color=#4b5d50># &quot;Change project&quot; button's handler.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> updateGUI
  SaveNotes
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {![ValidProject]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>!=<font color=#1b1baa>$isel</font> && [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$i</font>] eq <font color=#1b1baa>$al(prjname)</font>} {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$al(prjname)</font>] <font color=#1b1baa>$al(MC,prjexists)</font>]
      Message <font color=#1b1baa>$msg</font> 4
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> oldprj [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> newprj <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$newprj</font>,tablist) <font color=#1b1baa>$prjinfo($oldprj,tablist)</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>unset</font></b> prjinfo(<font color=#1b1baa>$oldprj</font>,tablist)}
  <b><font color=#3a6797>set</font></b> oldname [ProjectFileName <font color=#1b1baa>$oldprj</font>]
  <b><font color=#3a6797>set</font></b> prjlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$newprj</font>]
  <b><font color=#3a6797>set</font></b> fname [ProjectFileName <font color=#1b1baa>$newprj</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newprj</font> eq <font color=#1b1baa>$curinfo(prjname)</font>} SaveSettings
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldprj</font> eq <font color=#1b1baa>$curinfo(prjname)</font>} {
    <b><font color=#3a6797>set</font></b> curinfo(prjname) <font color=#1b1baa>$newprj</font>
    <b><font color=#3a6797>set</font></b> curinfo(prjfile) <font color=#1b1baa>$fname</font>
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$newprj</font>,prjrem) <font color=#1b1baa>$prjinfo($oldprj,prjrem)</font> ;<i><font color=#4b5d50># reminders</font></i>
  PutProjectOpts <font color=#1b1baa>$fname</font> <font color=#1b1baa>$oldname</font> yes
  GetProjects
  UpdateTree
  Select <font color=#1b1baa>$prjinfo($newprj,ID)</font>
  <b><font color=#3a6797>set</font></b> updateGUI yes
  UpdateMsg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]] <font color=#1b1baa>$al(MC,prjupd)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckNewDir'>CheckNewDir</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the root directory exists. If no, tries to create it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckNewDir</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if all is OK.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CheckNewDir' href="javascript:toggleSource('alited_project_CheckNewDir')">Show source</a></p>
<div id='alited_project_CheckNewDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CheckNewDir {} {
  <i><font color=#4b5d50># Checks if the root directory exists. If no, tries to create it.</font></i>
  <i><font color=#4b5d50># Returns yes, if all is OK.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(prjroot)</font>]} {
    FocusInTab f1 [<font color=#1b1baa>$obPrj</font> chooserPath Dir]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$al(prjroot)</font>]  [msgcat::mc <font color=#8b2a0e>&quot;Directory \&quot;%d\&quot;\ndoesn't exist.\n\nCreate it?&quot;</font>]]
    <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font>]} {
      <b><font color=#ca14ca>return</font></b> no
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$al(prjroot)</font>} err]} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Error at creating the directory.}]
      alited::msg ok err [<b><font color=#3a6797>append</font></b> msg \n\n <font color=#1b1baa>$err</font>] <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font>
      <b><font color=#ca14ca>return</font></b> no
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckOutdated'>CheckOutdated</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for outdated TODOs of all projects except for the current. Return {} or a name of project with outdated TODOs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckOutdated</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CheckOutdated' href="javascript:toggleSource('alited_project_CheckOutdated')">Show source</a></p>
<div id='alited_project_CheckOutdated' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CheckOutdated {} {
  <i><font color=#4b5d50># Checks for outdated TODOs of all projects except for the current.</font></i>
  <i><font color=#4b5d50># Return {} or a name of project with outdated TODOs.</font></i>

  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>foreach</font></b> prj <font color=#1b1baa>$prjlist</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> ne <font color=#1b1baa>$::alited::al(prjname)</font>} {
      <b><font color=#3a6797>if</font></b> {[IsOutdated <font color=#1b1baa>$prj</font>]} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$prj</font>}
    }
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckPrjLeaf'>CheckPrjLeaf</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks &quot;Regexp of a leaf&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckPrjLeaf</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CheckPrjLeaf' href="javascript:toggleSource('alited_project_CheckPrjLeaf')">Show source</a></p>
<div id='alited_project_CheckPrjLeaf' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CheckPrjLeaf {} {
  <i><font color=#4b5d50># Checks &quot;Regexp of a leaf&quot; field.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjleafRE)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> al(prjleafRE) [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$al(RE,leaf)</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckPrjUseLeaf'>CheckPrjUseLeaf</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enables/disables the &quot;Regexp of a leaf&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckPrjUseLeaf</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CheckPrjUseLeaf' href="javascript:toggleSource('alited_project_CheckPrjUseLeaf')">Show source</a></p>
<div id='alited_project_CheckPrjUseLeaf' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CheckPrjUseLeaf {} {
  <i><font color=#4b5d50># Enables/disables the &quot;Regexp of a leaf&quot; field.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  CheckPrjLeaf
  <b><font color=#3a6797>set</font></b> al(prjuseleafRE) [<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(prjuseleafRE)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjuseleafRE)</font>} {<b><font color=#3a6797>set</font></b> _ normal} {<b><font color=#3a6797>set</font></b> _ disabled}
  [<font color=#1b1baa>$obPrj</font> EntLf] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$_</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckProjectName'>CheckProjectName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes spec.characters from a project name (sort of normalizing it).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckProjectName</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if the name is &quot;correct&quot; (no char replacements made).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CheckProjectName' href="javascript:toggleSource('alited_project_CheckProjectName')">Show source</a></p>
<div id='alited_project_CheckProjectName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CheckProjectName {} {
  <i><font color=#4b5d50># Removes spec.characters from a project name (sort of normalizing it).</font></i>
  <i><font color=#4b5d50># Returns yes, if the name is &quot;correct&quot; (no char replacements made).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> oldname <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> al(prjname) [::apave::NormalizeFileName <font color=#1b1baa>$al(prjname)</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$oldname</font> eq <font color=#1b1baa>$al(prjname)</font>}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ChecksCom'>ChecksCom</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets checks of &quot;Commands / Run for all&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChecksCom</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ChecksCom' href="javascript:toggleSource('alited_project_ChecksCom')">Show source</a></p>
<div id='alited_project_ChecksCom' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ChecksCom {} {
  <i><font color=#4b5d50># Sets checks of &quot;Commands / Run for all&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> al(PTP,comch<font color=#1b1baa>$i</font>) <font color=#1b1baa>$al(PTP,chbClearCom)</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ChecksRun'>ChecksRun</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets checks of &quot;Commands / Run for project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChecksRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ChecksRun' href="javascript:toggleSource('alited_project_ChecksRun')">Show source</a></p>
<div id='alited_project_ChecksRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ChecksRun {} {
  <i><font color=#4b5d50># Sets checks of &quot;Commands / Run for project&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> al(PTP,runch<font color=#1b1baa>$i</font>) <font color=#1b1baa>$al(PTP,chbClearRun)</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ClockFormat'>ClockFormat</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats date in seconds.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClockFormat</span> <span class='ruff_arg'>secs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>secs</code></code></td><td class='ruff_defitem'>date in seconds</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ClockFormat' href="javascript:toggleSource('alited_project_ClockFormat')">Show source</a></p>
<div id='alited_project_ClockFormat' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ClockFormat {secs} {
  <i><font color=#4b5d50># Formats date in seconds.</font></i>
  <i><font color=#4b5d50>#   secs - date in seconds</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$secs</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ClockScan'>ClockScan</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Scans date to get date in seconds.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClockScan</span> <span class='ruff_arg'>d</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>date</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ClockScan' href="javascript:toggleSource('alited_project_ClockScan')">Show source</a></p>
<div id='alited_project_ClockScan' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ClockScan {d} {
  <i><font color=#4b5d50># Scans date to get date in seconds.</font></i>
  <i><font color=#4b5d50>#   d - date</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>clock</font></b> scan <font color=#1b1baa>$d</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ClockYMD'>ClockYMD</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Extracts year, month, day from date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClockYMD</span> <span class='ruff_arg'>d</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>date</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ClockYMD' href="javascript:toggleSource('alited_project_ClockYMD')">Show source</a></p>
<div id='alited_project_ClockYMD' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ClockYMD {d} {
  <i><font color=#4b5d50># Extracts year, month, day from date.</font></i>
  <i><font color=#4b5d50>#   d - date</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>split</font></b> [ClockFormat <font color=#1b1baa>$d</font>] /]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CloseSelFiles'>CloseSelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes selected files of listbox. Files are closed in a currently open project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseSelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CloseSelFiles' href="javascript:toggleSource('alited_project_CloseSelFiles')">Show source</a></p>
<div id='alited_project_CloseSelFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CloseSelFiles {} {
  <i><font color=#4b5d50># Closes selected files of listbox.</font></i>
  <i><font color=#4b5d50># Files are closed in a currently open project.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> pname [ExistingProject no]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> prj <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> cprj <font color=#1b1baa>$curinfo(prjname)</font>
  <b><font color=#3a6797>lassign</font></b> [SelFiles] lbx selidx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lbx</font> ne {}} {
    <b><font color=#3a6797>set</font></b> closecurr no
    <b><font color=#3a6797>set</font></b> fnamecurr [alited::bar::FileName]
    <b><font color=#3a6797>foreach</font></b> idx <font color=#1b1baa>$selidx</font> {
      <b><font color=#3a6797>set</font></b> fname [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]
      <b><font color=#3a6797>if</font></b> {[alited::file::IsNoName <font color=#1b1baa>$fname</font>]} <b><font color=#ca14ca>continue</font></b>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] ne {}} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fnamecurr</font>} {
          <b><font color=#3a6797>set</font></b> closecurr yes
        } <b><font color=#3a6797>else</font></b> {
          alited::bar::BAR <font color=#1b1baa>$TID</font> close no
        }
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> eq <font color=#1b1baa>$cprj</font> &&
      [<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> <font color=#1b1baa>$fname</font>]]&gt;=0} {
        <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$cprj</font>,tablist) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
      }
    }
    <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$cprj</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$closecurr</font> && [<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fnamecurr</font>]] ne {}} {
      alited::bar::BAR <font color=#1b1baa>$TID</font> close ;<i><font color=#4b5d50># this should be last to check for &quot;No name&quot; tab</font></i>
    }
    alited::bar::BAR draw
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> eq <font color=#1b1baa>$cprj</font>} {
      <b><font color=#3a6797>set</font></b> al(tablist) <font color=#1b1baa>$prjinfo($cprj,tablist)</font>
      TabFileInfo
    }
    <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$prj</font>
    afterOpenCloseFiles
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CurrentFile'>CurrentFile</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current file of file listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentFile</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns file name of first selected file or 1st in the list, if no selection.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CurrentFile' href="javascript:toggleSource('alited_project_CurrentFile')">Show source</a></p>
<div id='alited_project_CurrentFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CurrentFile {} {
  <i><font color=#4b5d50># Gets a current file of file listbox.</font></i>
  <i><font color=#4b5d50># Returns file name of first selected file or 1st in the list, if no selection.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>set</font></b> selidx [<font color=#1b1baa>$lbx</font> curselection]]]} {
      <b><font color=#3a6797>set</font></b> idx [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selidx</font> 0]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> idx 0
    }
    <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]
  }]} {
    <b><font color=#3a6797>set</font></b> res {}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CurrProject'>CurrProject</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current project name, from a current item of project list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrProject</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_CurrProject' href="javascript:toggleSource('alited_project_CurrProject')">Show source</a></p>
<div id='alited_project_CurrProject' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CurrProject {} {
  <i><font color=#4b5d50># Gets a current project name, from a current item of project list.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>set</font></b> prj {}
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obPrj</font> TreePrj]
    <b><font color=#3a6797>set</font></b> item [Selected item no]
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$item</font>]
    <b><font color=#3a6797>set</font></b> prj [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$prj</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Delete project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Delete' href="javascript:toggleSource('alited_project_Delete')">Show source</a></p>
<div id='alited_project_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Delete {} {
  <i><font color=#4b5d50># &quot;Delete project&quot; button's handler.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-centerme <font color=#1b1baa>$</font>win&quot;</font>
  <b><font color=#3a6797>set</font></b> nametodel [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nametodel</font> eq <font color=#1b1baa>$curinfo(prjname)</font>} {
    Message <font color=#1b1baa>$al(MC,prjcantdel)</font> 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nametodel</font>] <font color=#1b1baa>$al(MC,prjdelq)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> NO {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [ProjectFileName <font color=#1b1baa>$nametodel</font>]} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [NotesFile <font color=#1b1baa>$nametodel</font>]}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [RemsFile <font color=#1b1baa>$nametodel</font>]}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]] && <font color=#1b1baa>$isel</font>&gt;=<font color=#1b1baa>$llen</font>} {
    <b><font color=#3a6797>set</font></b> isel [<b><font color=#3a6797>incr</font></b> llen -1]
  }
  GetProjects
  UpdateTree
  Select <font color=#1b1baa>$isel</font>
  Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nametodel</font>] <font color=#1b1baa>$al(MC,prjdel2)</font>] 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::DeleteFromTplList'>DeleteFromTplList</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a template name from the list of project templates.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteFromTplList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_DeleteFromTplList' href="javascript:toggleSource('alited_project_DeleteFromTplList')">Show source</a></p>
<div id='alited_project_DeleteFromTplList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::DeleteFromTplList {} {
  <i><font color=#4b5d50># Deletes a template name from the list of project templates.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obPrj</font> CbxTpl]
  RemoveFromTplList [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$cbx</font> get]]
  <font color=#1b1baa>$cbx</font> configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$::alited::al(PTP,names)</font>
  <font color=#1b1baa>$cbx</font> set {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::DetachSelFiles'>DetachSelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Detaches selected files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DetachSelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_DetachSelFiles' href="javascript:toggleSource('alited_project_DetachSelFiles')">Show source</a></p>
<div id='alited_project_DetachSelFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::DetachSelFiles {} {
  <i><font color=#4b5d50># Detaches selected files.</font></i>

  <b><font color=#3a6797>lassign</font></b> [SelFiles] lbx selidx
  <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lbx</font> ne {}} {
    <b><font color=#3a6797>foreach</font></b> idx <font color=#1b1baa>$selidx</font> {<b><font color=#3a6797>lappend</font></b> fnames [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]}
  }
  alited::file::Detach <font color=#1b1baa>$fnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ExistingProject'>ExistingProject</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a project (of entry field) exists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExistingProject</span> <span class='ruff_arg'>msgOnExist</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msgOnExist</code></code></td><td class='ruff_defitem'>yes, if message on existing, else on non-existing project</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a project name if it exists or {} otherwise.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ExistingProject' href="javascript:toggleSource('alited_project_ExistingProject')">Show source</a></p>
<div id='alited_project_ExistingProject' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ExistingProject {msgOnExist} {
  <i><font color=#4b5d50># Checks if a project (of entry field) exists.</font></i>
  <i><font color=#4b5d50>#   msgOnExist - yes, if message on existing, else on non-existing project</font></i>
  <i><font color=#4b5d50># Returns a project name if it exists or {} otherwise.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>set</font></b> pname <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$pname</font>]&gt;-1} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$msgOnExist</font>} {
      FocusInTab f1 [<font color=#1b1baa>$obPrj</font> EntName]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$pname</font>] <font color=#1b1baa>$al(MC,prjexists)</font>]
      Message <font color=#1b1baa>$msg</font> 4
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$msgOnExist</font>} {
      FocusInTab f1 [<font color=#1b1baa>$obPrj</font> EntName]
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc  <font color=#8b2a0e>&quot;A project \&quot;%n\&quot; doesn't exists. Hit \[+\] button to create it.&quot;</font>]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$pname</font>] <font color=#1b1baa>$msg</font>]
      Message <font color=#1b1baa>$msg</font> 4
    }
    <b><font color=#3a6797>set</font></b> pname {}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::FocusInTab'>FocusInTab</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Focuses on a widget in a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusInTab</span> <span class='ruff_arg'>tab wid</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>the tab's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wid</code></code></td><td class='ruff_defitem'>the widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_FocusInTab' href="javascript:toggleSource('alited_project_FocusInTab')">Show source</a></p>
<div id='alited_project_FocusInTab' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::FocusInTab {tab wid} {
  <i><font color=#4b5d50># Focuses on a widget in a tab.</font></i>
  <i><font color=#4b5d50>#   tab - the tab's path</font></i>
  <i><font color=#4b5d50>#   wid - the widget's path</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <font color=#1b1baa>$win</font>.fra.fraR.nbk select <font color=#1b1baa>$win</font>.fra.fraR.nbk.<font color=#1b1baa>$tab</font>
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wid</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::focusTree'>focusTree</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets focus on the treeview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>focusTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_focusTree' href="javascript:toggleSource('alited_project_focusTree')">Show source</a></p>
<div id='alited_project_focusTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::focusTree {} {
  <i><font color=#4b5d50># Sets focus on the treeview.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$win</font>
  <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obPrj</font> TreePrj]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetOptVal'>GetOptVal</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a name and a value from a line of form &quot;name=value&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetOptVal</span> <span class='ruff_arg'>line</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_GetOptVal' href="javascript:toggleSource('alited_project_GetOptVal')">Show source</a></p>
<div id='alited_project_GetOptVal' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::GetOptVal {line} {
  <i><font color=#4b5d50># Gets a name and a value from a line of form &quot;name=value&quot;.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$line</font>]]&gt;-1} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> 0 <font color=#1b1baa>$i</font>-1] [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>+1 end]]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetProjectOpts'>GetProjectOpts</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a project's settings from a project settings file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetProjectOpts</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the project settings file's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_GetProjectOpts' href="javascript:toggleSource('alited_project_GetProjectOpts')">Show source</a></p>
<div id='alited_project_GetProjectOpts' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::GetProjectOpts {fname} {
  <i><font color=#4b5d50># Reads a project's settings from a project settings file.</font></i>
  <i><font color=#4b5d50>#   fname - the project settings file's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al OPTS OPTS DIR DIR
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>set</font></b> pname [ProjectName <font color=#1b1baa>$fname</font>]
  <i><font color=#4b5d50># save project names to 'prjlist' variable to display it by treeview widget</font></i>
  <b><font color=#3a6797>lappend</font></b> prjlist <font color=#1b1baa>$pname</font>
  <i><font color=#4b5d50># save project files' settings in prjinfo array</font></i>
  <b><font color=#3a6797>set</font></b> filecont [readTextFile <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$prjinfo(*DEFAULT*,$opt)</font>}  ;<i><font color=#4b5d50># defaults</font></i>
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,tablist) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> currentprj [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$curinfo(prjname)</font> eq <font color=#1b1baa>$pname</font>}]]} {
    <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
      <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> val [alited::bar::FileName <font color=#1b1baa>$tid</font>]] ne {}} {
        <b><font color=#3a6797>lappend</font></b> prjinfo(<font color=#1b1baa>$pname</font>,tablist) <font color=#1b1baa>$val</font>
      }
    }
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,prjroot) <font color=#1b1baa>$DIR</font>
  <b><font color=#3a6797>foreach</font></b> line [textsplit <font color=#1b1baa>$filecont</font>] {
    <b><font color=#3a6797>lassign</font></b> [GetOptVal <font color=#1b1baa>$line</font>] opt val
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$OPTS</font> <font color=#1b1baa>$opt</font>]&gt;-1} {
      <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,<font color=#1b1baa>$opt</font>) [alited::ProcEOL <font color=#1b1baa>$val</font> in]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$opt</font> eq {tab} && !<font color=#1b1baa>$currentprj</font> && <font color=#1b1baa>$val</font> ne {}} {
      <b><font color=#3a6797>lappend</font></b> prjinfo(<font color=#1b1baa>$pname</font>,tablist) <font color=#1b1baa>$val</font>
    }
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,prjfile) <font color=#1b1baa>$fname</font>
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,prjname) <font color=#1b1baa>$pname</font>
  <b><font color=#3a6797>set</font></b> al(tablist) <font color=#1b1baa>$prjinfo($pname,tablist)</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetProjects'>GetProjects</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads settings of all projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetProjects</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_GetProjects' href="javascript:toggleSource('alited_project_GetProjects')">Show source</a></p>
<div id='alited_project_GetProjects' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::GetProjects {} {
  <i><font color=#4b5d50># Reads settings of all projects.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al PRJEXT PRJEXT
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>set</font></b> prjlist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> ilast 0]
  alited::tree::PrepareDirectoryContents
  <b><font color=#3a6797>foreach</font></b> finfo [alited::tree::GetDirectoryContents <font color=#1b1baa>$::alited::PRJDIR</font>] {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$finfo</font> 2]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>] eq <font color=#1b1baa>$PRJEXT</font>} {
      <b><font color=#3a6797>if</font></b> {[GetProjectOpts <font color=#1b1baa>$fname</font>] eq <font color=#1b1baa>$al(prjname)</font>} {
        <b><font color=#3a6797>set</font></b> ilast <font color=#1b1baa>$i</font>
      }
      <b><font color=#3a6797>incr</font></b> i
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Help' href="javascript:toggleSource('alited_project_Help')">Show source</a></p>
<div id='alited_project_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Help {} {
  <i><font color=#4b5d50># 'Help' button handler.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> th {}
  <b><font color=#3a6797>set</font></b> ts [<b><font color=#3a6797>string</font></b> range [<font color=#1b1baa>$win</font>.fra.fraR.nbk select] end-1 end]
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$ts</font> {
    f2 - f3 - f4 - f5 {<b><font color=#3a6797>set</font></b> th [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$ts</font> end]}
  }
  alited::Help <font color=#1b1baa>$win</font> <font color=#1b1baa>$th</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' for start.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_HelpMe' href="javascript:toggleSource('alited_project_HelpMe')">Show source</a></p>
<div id='alited_project_HelpMe' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::HelpMe {} {
  <i><font color=#4b5d50># 'Help' for start.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::HelpMe <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::IsOutdated'>IsOutdated</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for outdated TODOs of a project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsOutdated</span> <span class='ruff_arg'>prj ?todo?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>project's name</td></tr>
<tr><td class='ruff_defitem'><code><code>todo</code></code></td><td class='ruff_defitem'>if yes, gets also date and todo; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 0, if no todo for the project, 1 otherwise; if todo=yes, adds also date and todo outdated (if there is).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_IsOutdated' href="javascript:toggleSource('alited_project_IsOutdated')">Show source</a></p>
<div id='alited_project_IsOutdated' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::IsOutdated {prj {todo no}} {
  <i><font color=#4b5d50># Checks for outdated TODOs of a project.</font></i>
  <i><font color=#4b5d50>#   prj - project's name</font></i>
  <i><font color=#4b5d50>#   todo - if yes, gets also date and todo</font></i>
  <i><font color=#4b5d50># Returns 0, if no todo for the project, 1 otherwise; if todo=yes, adds also date and todo outdated (if there is).</font></i>

  <b><font color=#3a6797>set</font></b> rems [SortRems [ReadRems <font color=#1b1baa>$prj</font>]]
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$rems</font> 2]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$todo</font>} {
    <b><font color=#3a6797>lappend</font></b> res {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$rems</font> 1 0]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KeyOnTree'>KeyOnTree</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles key press on the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyOnTree</span> <span class='ruff_arg'>K</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>K</code></code></td><td class='ruff_defitem'>key</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KeyOnTree' href="javascript:toggleSource('alited_project_KeyOnTree')">Show source</a></p>
<div id='alited_project_KeyOnTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KeyOnTree {K} {
  <i><font color=#4b5d50># Handles key press on the tree.</font></i>
  <i><font color=#4b5d50>#   K - key</font></i>

  <b><font color=#3a6797>variable</font></b> prjlist
  Message {}
  <b><font color=#3a6797>set</font></b> icur [Selected index no]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is integer <font color=#6c3e67>-strict</font> <font color=#1b1baa>$icur</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>foreach</font></b> i [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>incr</font></b> icur] 0] {
    <b><font color=#3a6797>foreach</font></b> pr [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$i</font> end] {
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> compare <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$K</font> [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$pr</font> 0]]} {
        Select <font color=#1b1baa>$i</font>
        <b><font color=#ca14ca>return</font></b>
      }
      <b><font color=#3a6797>incr</font></b> i
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_button'>Klnd_button</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fire an event handler (paste/undo/redo) on a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_button</span> <span class='ruff_arg'>ev</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ev</code></code></td><td class='ruff_defitem'>event to fire</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_button' href="javascript:toggleSource('alited_project_Klnd_button')">Show source</a></p>
<div id='alited_project_Klnd_button' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_button {ev} {
  <i><font color=#4b5d50># Fire an event handler (paste/undo/redo) on a reminder.</font></i>
  <i><font color=#4b5d50>#   ev - event to fire</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  ::apave::eventOnText [<font color=#1b1baa>$obPrj</font> TexKlnd] <font color=#1b1baa>$ev</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_delete'>Klnd_delete</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_delete' href="javascript:toggleSource('alited_project_Klnd_delete')">Show source</a></p>
<div id='alited_project_Klnd_delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_delete {} {
  <i><font color=#4b5d50># Clears a reminder.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  [<font color=#1b1baa>$obPrj</font> TexKlnd] replace 1.0 end {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_moveTODO'>Klnd_moveTODO</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves current TODO to a new date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_moveTODO</span> <span class='ruff_arg'>wrem todo date</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wrem</code></code></td><td class='ruff_defitem'>text widget of TODO</td></tr>
<tr><td class='ruff_defitem'><code><code>todo</code></code></td><td class='ruff_defitem'>text of TODO</td></tr>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>new date (in seconds)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_moveTODO' href="javascript:toggleSource('alited_project_Klnd_moveTODO')">Show source</a></p>
<div id='alited_project_Klnd_moveTODO' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_moveTODO {wrem todo date} {
  <i><font color=#4b5d50># Moves current TODO to a new date.</font></i>
  <i><font color=#4b5d50>#   wrem - text widget of TODO</font></i>
  <i><font color=#4b5d50>#   todo - text of TODO</font></i>
  <i><font color=#4b5d50>#   date - new date (in seconds)</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <i><font color=#4b5d50># get TODO of new date</font></i>
  <b><font color=#3a6797>lassign</font></b> [ClockYMD <font color=#1b1baa>$date</font>] y m d
  KlndClick <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>
  <b><font color=#3a6797>set</font></b> todonew [<b><font color=#3a6797>string</font></b> trimright [<font color=#1b1baa>$wrem</font> get 1.0 end]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$todonew</font> ne {}} {<b><font color=#3a6797>append</font></b> todonew \n}
  <i><font color=#4b5d50># add the moved TODO to the new TODO</font></i>
  <b><font color=#3a6797>append</font></b> todonew <font color=#1b1baa>$todo</font>
  <i><font color=#4b5d50># select the new date</font></i>
  <b><font color=#3a6797>set</font></b> klnddata(SAVEDATE) [ClockFormat <font color=#1b1baa>$date</font>]
  KlndDay <font color=#1b1baa>$date</font> no
  <i><font color=#4b5d50># update the new TODO</font></i>
  <font color=#1b1baa>$wrem</font> replace 1.0 end <font color=#1b1baa>$todonew</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_next'>Klnd_next</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a reminder to <em>days</em>.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_next</span> <span class='ruff_arg'>?days?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>days</code></code></td><td class='ruff_defitem'>days to move to; <i>optional, default</i> <code>1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_next' href="javascript:toggleSource('alited_project_Klnd_next')">Show source</a></p>
<div id='alited_project_Klnd_next' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_next {{days 1}} {
  <i><font color=#4b5d50># Moves a reminder to *days*.</font></i>
  <i><font color=#4b5d50>#   days - days to move to</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> wrem [<font color=#1b1baa>$obPrj</font> TexKlnd]
  <b><font color=#3a6797>set</font></b> todo [<b><font color=#3a6797>string</font></b> trimright [<font color=#1b1baa>$wrem</font> get 1.0 end]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$todo</font> eq {}} {
    <b><font color=#134070>bell</font></b>
    FocusInTab f1 <font color=#1b1baa>$wrem</font>
    <b><font color=#ca14ca>return</font></b>
  }
  Klnd_delete
  <b><font color=#3a6797>set</font></b> date [ClockScan <font color=#1b1baa>$klnddata(SAVEDATE)</font>]
  <b><font color=#3a6797>set</font></b> date [<b><font color=#3a6797>clock</font></b> add <font color=#1b1baa>$date</font> <font color=#1b1baa>$days</font> days]
  <b><font color=#3a6797>after</font></b> 100 [<b><font color=#3a6797>list</font></b> alited::project::Klnd_moveTODO <font color=#1b1baa>$wrem</font> <font color=#1b1baa>$todo</font> <font color=#1b1baa>$date</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_next2'>Klnd_next2</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a reminder to 7 days.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_next2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_next2' href="javascript:toggleSource('alited_project_Klnd_next2')">Show source</a></p>
<div id='alited_project_Klnd_next2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_next2 {} {
  <i><font color=#4b5d50># Moves a reminder to 7 days.</font></i>

  Klnd_next 7
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_paste'>Klnd_paste</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Pastes a text to a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_paste</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_paste' href="javascript:toggleSource('alited_project_Klnd_paste')">Show source</a></p>
<div id='alited_project_Klnd_paste' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_paste {} {
  <i><font color=#4b5d50># Pastes a text to a reminder.</font></i>

  Klnd_button &lt;&lt;Paste&gt;&gt;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_previous'>Klnd_previous</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a reminder back to 1 day.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_previous</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_previous' href="javascript:toggleSource('alited_project_Klnd_previous')">Show source</a></p>
<div id='alited_project_Klnd_previous' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_previous {} {
  <i><font color=#4b5d50># Moves a reminder back to 1 day.</font></i>

  Klnd_next -1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_previous2'>Klnd_previous2</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a reminder back to 7 days.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_previous2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_previous2' href="javascript:toggleSource('alited_project_Klnd_previous2')">Show source</a></p>
<div id='alited_project_Klnd_previous2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_previous2 {} {
  <i><font color=#4b5d50># Moves a reminder back to 7 days.</font></i>

  Klnd_next -7
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_redo'>Klnd_redo</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redoes changes of a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_redo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_redo' href="javascript:toggleSource('alited_project_Klnd_redo')">Show source</a></p>
<div id='alited_project_Klnd_redo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_redo {} {
  <i><font color=#4b5d50># Redoes changes of a reminder.</font></i>

  Klnd_button &lt;&lt;Redo&gt;&gt;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_save'>Klnd_save</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a reminder on a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_save</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_save' href="javascript:toggleSource('alited_project_Klnd_save')">Show source</a></p>
<div id='alited_project_Klnd_save' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_save {} {
  <i><font color=#4b5d50># Saves a reminder on a date.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obPrj</font> TexKlnd]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> prjname <font color=#1b1baa>$klnddata(SAVEPRJ)</font>] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> text [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get 1.0 end]]
  <b><font color=#3a6797>set</font></b> date <font color=#1b1baa>$klnddata(SAVEDATE)</font>
  <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$date</font> <font color=#1b1baa>$text</font> <font color=#8b2a0e>&quot;TODO opt.&quot;</font>]  ;<i><font color=#4b5d50># + possible options for future</font></i>
  <b><font color=#3a6797>set</font></b> i [KlndSearch <font color=#1b1baa>$date</font> <font color=#1b1baa>$prjname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$text</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&gt;-1} {
      <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$prjname</font>,prjrem) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjinfo($prjname,prjrem)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
    KlndBorderText
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$i</font>&gt;-1} {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$prjname</font>,prjrem) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjinfo($prjname,prjrem)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$info</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lappend</font></b> prjinfo(<font color=#1b1baa>$prjname</font>,prjrem) <font color=#1b1baa>$info</font>
  }
  ::klnd::update {} {} {} <font color=#1b1baa>$prjinfo($prjname,prjrem)</font>
  <b><font color=#3a6797>set</font></b> fcont <font color=#1b1baa>$prjinfo($prjname,prjrem)</font>
  writeTextFile [RemsFile <font color=#1b1baa>$prjname</font>] fcont 0 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_undo'>Klnd_undo</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Undoes changes of a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_undo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Klnd_undo' href="javascript:toggleSource('alited_project_Klnd_undo')">Show source</a></p>
<div id='alited_project_Klnd_undo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_undo {} {
  <i><font color=#4b5d50># Undoes changes of a reminder.</font></i>

  Klnd_button &lt;&lt;Undo&gt;&gt;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndBorderText'>KlndBorderText</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights/unhighlights a reminder's border.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndBorderText</span> <span class='ruff_arg'>?clr?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>clr</code></code></td><td class='ruff_defitem'>color of border; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndBorderText' href="javascript:toggleSource('alited_project_KlndBorderText')">Show source</a></p>
<div id='alited_project_KlndBorderText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndBorderText {{clr {}}} {
  <i><font color=#4b5d50># Highlights/unhighlights a reminder's border.</font></i>
  <i><font color=#4b5d50>#   clr - color of border</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$clr</font> eq {}} {<b><font color=#3a6797>set</font></b> clr [<b><font color=#3a6797>lindex</font></b> [obj csGet] 8]}
  [<font color=#1b1baa>$obPrj</font> TexKlnd] configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$clr</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndClick'>KlndClick</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes a click on a calendar day.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndClick</span> <span class='ruff_arg'>y m d</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>year</td></tr>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month</td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>day</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndClick' href="javascript:toggleSource('alited_project_KlndClick')">Show source</a></p>
<div id='alited_project_KlndClick' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndClick {y m d} {
  <i><font color=#4b5d50># Processes a click on a calendar day.</font></i>
  <i><font color=#4b5d50>#   y - year</font></i>
  <i><font color=#4b5d50>#   m - month</font></i>
  <i><font color=#4b5d50>#   d - day</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> klnddata(date) [KlndOutDate <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>]
  <i><font color=#4b5d50># first, save a previous reminder at need</font></i>
  <b><font color=#3a6797>set</font></b> klnddata(SAVEDATE) <font color=#1b1baa>$klnddata(date)</font>
  <b><font color=#3a6797>set</font></b> klnddata(SAVEPRJ) [CurrProject]
  <i><font color=#4b5d50># then display a new reminder's text</font></i>
  <b><font color=#3a6797>set</font></b> klndtex [<font color=#1b1baa>$obPrj</font> TexKlnd]
  <font color=#1b1baa>$obPrj</font> displayText <font color=#1b1baa>$klndtex</font> [KlndText <font color=#1b1baa>$klnddata(date)</font>]
  alited::ini::HighlightFileText <font color=#1b1baa>$klndtex</font> .md 0  <font color=#6c3e67>-dobind</font> 1 <font color=#6c3e67>-cmdpos</font> ::apave::None  <font color=#6c3e67>-cmd</font> alited::project::KlndTextModified
  [<font color=#1b1baa>$obPrj</font> LabKlndDate] configure <font color=#6c3e67>-text</font> [KlndDate <font color=#1b1baa>$klnddata(date)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndDate'>KlndDate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats a calendar date by alited's format (Preferences/Templates).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndDate</span> <span class='ruff_arg'>date</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>the date to be formatted</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndDate' href="javascript:toggleSource('alited_project_KlndDate')">Show source</a></p>
<div id='alited_project_KlndDate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndDate {date} {
  <i><font color=#4b5d50># Formats a calendar date by alited's format (Preferences/Templates).</font></i>
  <i><font color=#4b5d50>#   date - the date to be formatted</font></i>

  <b><font color=#3a6797>set</font></b> seconds [ClockScan <font color=#1b1baa>$date</font>]
  <b><font color=#ca14ca>return</font></b> [alited::tool::FormatDate <font color=#1b1baa>$seconds</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndDay'>KlndDay</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a date of reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndDay</span> <span class='ruff_arg'>dsec ?doblink?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dsec</code></code></td><td class='ruff_defitem'>date in seconds to select</td></tr>
<tr><td class='ruff_defitem'><code><code>doblink</code></code></td><td class='ruff_defitem'>if yes, make the month blink; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndDay' href="javascript:toggleSource('alited_project_KlndDay')">Show source</a></p>
<div id='alited_project_KlndDay' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndDay {dsec {doblink yes}} {
  <i><font color=#4b5d50># Selects a date of reminder.</font></i>
  <i><font color=#4b5d50>#   dsec - date in seconds to select</font></i>
  <i><font color=#4b5d50>#   doblink - if yes, make the month blink</font></i>

  <b><font color=#3a6797>lassign</font></b> [ClockYMD <font color=#1b1baa>$dsec</font>] y m d
  <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$m</font> { 0}]
  <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$d</font> { 0}]
  ::klnd::selectedDay {} <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font> <font color=#1b1baa>$doblink</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndDayRem'>KlndDayRem</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a date of reminder before a current one.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndDayRem</span> <span class='ruff_arg'>dmin</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dmin</code></code></td><td class='ruff_defitem'>date in seconds to select</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndDayRem' href="javascript:toggleSource('alited_project_KlndDayRem')">Show source</a></p>
<div id='alited_project_KlndDayRem' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndDayRem {dmin} {
  <i><font color=#4b5d50># Selects a date of reminder before a current one.</font></i>
  <i><font color=#4b5d50>#   dmin - date in seconds to select</font></i>

  KlndDay <font color=#1b1baa>$dmin</font>
  <b><font color=#3a6797>after</font></b> idle {::alited::project::KlndBorderText red}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndInDate'>KlndInDate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a date in seconds.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndInDate</span> <span class='ruff_arg'>?y? ?m? ?d?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>year; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>day; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>y</em> is omitted or y/m/d not valid, gets a current date in seconds.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndInDate' href="javascript:toggleSource('alited_project_KlndInDate')">Show source</a></p>
<div id='alited_project_KlndInDate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndInDate {{y {}} {m {}} {d {}}} {
  <i><font color=#4b5d50># Gets a date in seconds.</font></i>
  <i><font color=#4b5d50>#   y - year</font></i>
  <i><font color=#4b5d50>#   m - month</font></i>
  <i><font color=#4b5d50>#   d - day</font></i>
  <i><font color=#4b5d50># If *y* is omitted or y/m/d not valid, gets a current date in seconds.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$y</font> ne {}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> date [ClockScan <font color=#1b1baa>$y</font>/<font color=#1b1baa>$m</font>/<font color=#1b1baa>$d</font>]}]} {
      <b><font color=#3a6797>set</font></b> y {}
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$y</font> eq {}} {<b><font color=#3a6797>set</font></b> date [<b><font color=#3a6797>clock</font></b> seconds]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$date</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndOutDate'>KlndOutDate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a date formatted.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndOutDate</span> <span class='ruff_arg'>?y? ?m? ?d?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>year; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>day; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>y</em> is omitted or y/m/d not valid, gets a current date formatted.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndOutDate' href="javascript:toggleSource('alited_project_KlndOutDate')">Show source</a></p>
<div id='alited_project_KlndOutDate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndOutDate {{y {}} {m {}} {d {}}} {
  <i><font color=#4b5d50># Gets a date formatted.</font></i>
  <i><font color=#4b5d50>#   y - year</font></i>
  <i><font color=#4b5d50>#   m - month</font></i>
  <i><font color=#4b5d50>#   d - day</font></i>
  <i><font color=#4b5d50># If *y* is omitted or y/m/d not valid, gets a current date formatted.</font></i>

  <b><font color=#ca14ca>return</font></b> [ClockFormat [KlndInDate <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndPopup'>KlndPopup</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a popup menu for the calendar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndPopup</span> <span class='ruff_arg'>w y m d X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>day widget clicked</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>year</td></tr>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month</td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>day</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>X-coordinate of pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>Y-coordinate of pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndPopup' href="javascript:toggleSource('alited_project_KlndPopup')">Show source</a></p>
<div id='alited_project_KlndPopup' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndPopup {w y m d X Y} {
  <i><font color=#4b5d50># Handles a popup menu for the calendar.</font></i>
  <i><font color=#4b5d50>#   w - day widget clicked</font></i>
  <i><font color=#4b5d50>#   y - year</font></i>
  <i><font color=#4b5d50>#   m - month</font></i>
  <i><font color=#4b5d50>#   d - day</font></i>
  <i><font color=#4b5d50>#   X - X-coordinate of pointer</font></i>
  <i><font color=#4b5d50>#   Y - Y-coordinate of pointer</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  KlndClick <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>
  ::klnd::selectedDay {} <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font> no
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$w</font>.popup
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <b><font color=#3a6797>foreach</font></b> img {delete - previous2 previous - next next2} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$img</font> eq {-}} {
      <font color=#1b1baa>$popm</font> add separator
    } <b><font color=#3a6797>else</font></b> {
      <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-image</font> alimg_<font color=#1b1baa>$img</font>  <font color=#6c3e67>-compound</font> left  <font color=#6c3e67>-label</font> <font color=#1b1baa>$::alited::al(MC,prjT$img)</font> <font color=#6c3e67>-command</font> alited::project::Klnd_<font color=#1b1baa>$img</font>
    }
  }
  <font color=#1b1baa>$obPrj</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
  KlndUpdate
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndSearch'>KlndSearch</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Search a date in calendar data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndSearch</span> <span class='ruff_arg'>date prjname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>prjname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns index of found item or -1 if not found.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndSearch' href="javascript:toggleSource('alited_project_KlndSearch')">Show source</a></p>
<div id='alited_project_KlndSearch' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndSearch {date prjname} {
  <i><font color=#4b5d50># Search a date in calendar data.</font></i>
  <i><font color=#4b5d50># Returns index of found item or -1 if not found.</font></i>

  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> res -1
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjinfo($prjname,prjrem)</font> <font color=#1b1baa>$date</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndText'>KlndText</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a reminder text for a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndText</span> <span class='ruff_arg'>dt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dt</code></code></td><td class='ruff_defitem'>date</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndText' href="javascript:toggleSource('alited_project_KlndText')">Show source</a></p>
<div id='alited_project_KlndText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndText {dt} {
  <i><font color=#4b5d50># Gets a reminder text for a date.</font></i>
  <i><font color=#4b5d50>#   dt - date</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [KlndSearch <font color=#1b1baa>$dt</font> <font color=#1b1baa>$al(prjname)</font>]]&gt;-1} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjinfo($al(prjname)</font>,prjrem) <font color=#1b1baa>$i</font> 1]
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndTextModified'>KlndTextModified</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes modifications of calendar text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndTextModified</span> <span class='ruff_arg'>wtxt ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>not used arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndTextModified' href="javascript:toggleSource('alited_project_KlndTextModified')">Show source</a></p>
<div id='alited_project_KlndTextModified' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndTextModified {wtxt args} {
  <i><font color=#4b5d50># Processes modifications of calendar text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   args - not used arguments</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> aft _KLND_TextModified
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al($aft)</font>}
  <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$aft</font>) [<b><font color=#3a6797>after</font></b> idle alited::project::Klnd_save]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndUpdate'>KlndUpdate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates calendar data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndUpdate</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_KlndUpdate' href="javascript:toggleSource('alited_project_KlndUpdate')">Show source</a></p>
<div id='alited_project_KlndUpdate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndUpdate {} {
  <i><font color=#4b5d50># Updates calendar data.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists prjinfo(<font color=#1b1baa>$al(prjname)</font>,prjrem)]} {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$al(prjname)</font>,prjrem) {}
  }
  ::klnd::update {} {} {} <font color=#1b1baa>$prjinfo($al(prjname)</font>,prjrem)
  <b><font color=#3a6797>lassign</font></b> [::klnd::selectedDay] y m d
  KlndClick <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::LbxPopup'>LbxPopup</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a popup menu on the project files listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LbxPopup</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_LbxPopup' href="javascript:toggleSource('alited_project_LbxPopup')">Show source</a></p>
<div id='alited_project_LbxPopup' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::LbxPopup {X Y} {
  <i><font color=#4b5d50># Runs a popup menu on the project files listbox.</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of mouse pointer</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> filefilter
  <b><font color=#3a6797>set</font></b> popm [<font color=#1b1baa>$obPrj</font> LbxFlist].popup
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#3a6797>lassign</font></b> [SelFiles] lbx selidx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$filefilter</font> eq {}} {<b><font color=#3a6797>set</font></b> state normal} {<b><font color=#3a6797>set</font></b> state disabled}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selidx</font>]} {<b><font color=#3a6797>set</font></b> stateS normal} {<b><font color=#3a6797>set</font></b> stateS [<b><font color=#3a6797>set</font></b> state disabled]}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$::alited::al(MC,openselfile)</font> <font color=#6c3e67>-command</font> alited::project::OpenSelFiles <font color=#6c3e67>-state</font> <font color=#1b1baa>$stateS</font>
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Close Selected Files}]  <font color=#6c3e67>-command</font> alited::project::CloseSelFiles <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$::alited::al(MC,detachsel)</font> <font color=#6c3e67>-command</font> alited::project::DetachSelFiles <font color=#6c3e67>-state</font> <font color=#1b1baa>$stateS</font>
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Select All}] <font color=#6c3e67>-command</font> alited::project::SelectAllFiles <font color=#6c3e67>-accelerator</font> Ctrl+A
  baltip::sleep 1000
  <font color=#1b1baa>$obPrj</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::MainFrame'>MainFrame</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main frame of &quot;Project&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MainFrame</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_MainFrame' href="javascript:toggleSource('alited_project_MainFrame')">Show source</a></p>
<div id='alited_project_MainFrame' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::MainFrame {} {
  <i><font color=#4b5d50># Creates a main frame of &quot;Project&quot; dialogue.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {fraTreePrj - - 10 1 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-rw</font> 1}}
    {.TreePrj - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-h</font> 16 <font color=#6c3e67>-show</font> headings <font color=#6c3e67>-columns</font> {C1} <font color=#6c3e67>-displaycolumns</font> {C1}  <font color=#6c3e67>-popup</font> {alited::project::PopupMenu %x %y %X %Y}}}
    {.sbvPrjs + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both}}
    {fraR fraTreePrj L 10 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-pady</font> 4}}
    {fraR.nbk - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {
      f1 {<font color=#6c3e67>-text</font> {<font color=#1b1baa>$al(MC,info)</font>}}
      f2 {<font color=#6c3e67>-text</font> {<font color=#1b1baa>$al(MC,prjOptions)</font>}}
      f3 {<font color=#6c3e67>-text</font> Templates}
      f4 {<font color=#6c3e67>-text</font> Commands}
      f5 {<font color=#6c3e67>-text</font> Files}
      <font color=#6c3e67>-traverse</font> yes <font color=#6c3e67>-select</font> f1
    }}
    {fraB1 fraTreePrj T 1 1 {<font color=#6c3e67>-st</font> nsew}}
    {.btTad - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> n}  {<font color=#6c3e67>-com</font> alited::project::Add <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$::alited::al(MC,prjadd)</font>} <font color=#6c3e67>-image</font> alimg_add-big}}
    {.btTch - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-com</font> alited::project::Change <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$::alited::al(MC,prjchg)</font>} <font color=#6c3e67>-image</font> alimg_change-big}}
    {.btTdel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-com</font> alited::project::Delete <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$::alited::al(MC,prjdel1)</font>}  <font color=#6c3e67>-image</font> alimg_delete-big}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1}}
    {.btTtpl - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-com</font> alited::project::Template <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$::alited::al(MC,CrTemplPrj)</font>}  <font color=#6c3e67>-image</font> alimg_plus-big}}
    {.btTtview - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4}  {<font color=#6c3e67>-image</font> alimg_folder-big <font color=#6c3e67>-com</font> alited::project::ViewDir <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$::alited::al(MC,ViewDir)</font>}}}
    {LabMess fraB1 L 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-style</font> TLabelFS}}
    {seh fraB1 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 2}}
    {fraB2 + T 1 2 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-padding</font> {2 2}}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s <font color=#6c3e67>-padx</font> 2}  {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,help)</font>} <font color=#6c3e67>-tip</font> F1 <font color=#6c3e67>-com</font> alited::project::Help}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-w</font> 50}}
    {.ButOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s <font color=#6c3e67>-padx</font> 2}  {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,select)</font>} <font color=#6c3e67>-com</font> alited::project::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> alited::project::Cancel}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of projects dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>2</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Message' href="javascript:toggleSource('alited_project_Message')">Show source</a></p>
<div id='alited_project_Message' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Message {msg {mode 2}} {
  <i><font color=#4b5d50># Displays a message in statusbar of projects dialogue.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - mode of Message</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  alited::Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> [<font color=#1b1baa>$obPrj</font> LabMess]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::NotesFile'>NotesFile</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name of notes.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NotesFile</span> <span class='ruff_arg'>prj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>project's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_NotesFile' href="javascript:toggleSource('alited_project_NotesFile')">Show source</a></p>
<div id='alited_project_NotesFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::NotesFile {prj} {
  <i><font color=#4b5d50># Gets a file name of notes.</font></i>
  <i><font color=#4b5d50>#   prj - project's name</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::PRJDIR</font> <font color=#1b1baa>$prj</font>-notes.txt]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'OK' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>possible arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Ok' href="javascript:toggleSource('alited_project_Ok')">Show source</a></p>
<div id='alited_project_Ok' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Ok {args} {
  <i><font color=#4b5d50># 'OK' button handler.</font></i>
  <i><font color=#4b5d50>#   args - possible arguments</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav _dirtree _dirtree
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>variable</font></b> updateGUI
  alited::CloseDlg
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curinfo(_NO2ENT)</font>} {
    <i><font color=#4b5d50># disables entering twice (at multiple double-clicks)</font></i>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {} || ![ValidProject]} {
    focusTree
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {![ValidProject]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> pname [ExistingProject no]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> N [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag m]]]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;All modified files (%n) will be saved.\n\nDo you agree?&quot;</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$N</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$win</font>]} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {![alited::file::SaveAll]} {
    <font color=#1b1baa>$obPrj</font> res <font color=#1b1baa>$win</font> 0
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> N [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR cget <font color=#6c3e67>-select</font>]]]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;All selected files (%n) will remain open\nin the project you are switching to.\n\nDo you agree?&quot;</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$N</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$win</font>]} <b><font color=#ca14ca>return</font></b>
  }
  ::apave::withdraw <font color=#1b1baa>$win</font>
  <b><font color=#3a6797>set</font></b> curinfo(_NO2ENT) 1
  <b><font color=#3a6797>set</font></b> fname [ProjectFileName <font color=#1b1baa>$pname</font>]
  <b><font color=#3a6797>catch</font></b> {alited::run::Cancel}  ;<i><font color=#4b5d50># possibly open Run dialogue: discard its settings</font></i>
  RestoreSettings
  alited::ini::SaveIni
  <i><font color=#4b5d50># setting al(project::Ok) to skip &quot;No name&quot; & SaveCurrentIni at closing all</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> al(project::Ok) 1]} {
    <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
    alited::file::CloseAll 1 <font color=#6c3e67>-skipsel</font>  ;<i><font color=#4b5d50># the selected tabs aren't closed</font></i>
    <b><font color=#3a6797>set</font></b> selfiles [<b><font color=#3a6797>list</font></b>]                ;<i><font color=#4b5d50># -&gt; get their file names to reopen afterwards</font></i>
    <b><font color=#3a6797>foreach</font></b> tid [alited::bar::BAR listFlag s] {
      <b><font color=#3a6797>lappend</font></b> selfiles [alited::bar::FileName <font color=#1b1baa>$tid</font>]
    }
    alited::file::CloseAll 1   ;<i><font color=#4b5d50># close all tabs</font></i>
    <b><font color=#3a6797>set</font></b> comms [<b><font color=#3a6797>info</font></b> commands]
    <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
      <b><font color=#3a6797>set</font></b> tab [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>foreach</font></b> c <font color=#1b1baa>$comms</font> {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;\[._\]<font color=#1b1baa>$</font>tab\(\[.\]internal\$|\$\)&quot;</font> <font color=#1b1baa>$c</font>]} {
          <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$c</font>}
          <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>rename</font></b> <font color=#1b1baa>$c</font> {}}
        }
      }
    }
    <font color=#1b1baa>$obPav</font> untouchWidgets clear *btsBar*  ;<i><font color=#4b5d50># remove bartabs references to the untouched</font></i>
    <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$pname</font>
    <b><font color=#3a6797>set</font></b> al(prjfile) <font color=#1b1baa>$fname</font>
    alited::ini::ReadIni <font color=#1b1baa>$fname</font>
    alited::bar::FillBar [<font color=#1b1baa>$obPav</font> BtsBar]
    <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selfiles</font>]} {<font color=#1b1baa>$i</font>} {} { ;<i><font color=#4b5d50># reopen selected files of previous project</font></i>
      <b><font color=#3a6797>incr</font></b> i -1
      <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selfiles</font> <font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>if</font></b> {[alited::bar::FileTID <font color=#1b1baa>$fname</font>] eq {}} {
        <b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fname</font>
      }
    }
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> [alited::bar::BAR listTab] <font color=#1b1baa>$al(curtab)</font> 0]
    <b><font color=#3a6797>catch</font></b> {alited::bar::BAR <font color=#1b1baa>$TID</font> show no no}
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fnames</font>]} {alited::file::OpenFile <font color=#1b1baa>$fnames</font> yes yes}
    alited::main::UpdateProjectInfo
    alited::ini::GetUserDirs
    alited::file::MakeThemHighlighted
    alited::favor::ShowFavVisit
    [<font color=#1b1baa>$obPav</font> Tree] selection set {}  ;<i><font color=#4b5d50># new project - no group selected</font></i>
    <b><font color=#3a6797>update</font></b>
  }
  <b><font color=#3a6797>unset</font></b> al(project::Ok)
  alited::file::CheckForNew yes
  <b><font color=#3a6797>after</font></b> 200 {<b><font color=#3a6797>after</font></b> idle alited::main::FocusText}
  <b><font color=#3a6797>set</font></b> _dirtree [<b><font color=#3a6797>list</font></b>] ;<i><font color=#4b5d50># free its memory</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>after</font></b> 200 {<b><font color=#3a6797>after</font></b> idle alited::tree::RecreateTree}
  }
  <b><font color=#3a6797>set</font></b> updateGUI no ;<i><font color=#4b5d50># GUI will be updating anyway</font></i>
  <font color=#1b1baa>$obPrj</font> res <font color=#1b1baa>$win</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::OnProjectEnter'>OnProjectEnter</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions on entering a project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnProjectEnter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_OnProjectEnter' href="javascript:toggleSource('alited_project_OnProjectEnter')">Show source</a></p>
<div id='alited_project_OnProjectEnter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::OnProjectEnter {} {
  <i><font color=#4b5d50># Actions on entering a project.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> msgtodo
  <b><font color=#3a6797>variable</font></b> itemtodo
  <b><font color=#3a6797>lassign</font></b> [SortRems <font color=#1b1baa>$prjinfo($::alited::al(prjname)</font>,prjrem)] dmin - outdated
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$outdated</font>} {
    <b><font color=#3a6797>set</font></b> tab1 <font color=#1b1baa>$win</font>.fra.fraR.nbk.f1
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$win</font>.fra.fraR.nbk select] ne <font color=#1b1baa>$tab1</font>} {
      <font color=#1b1baa>$win</font>.fra.fraR.nbk select <font color=#1b1baa>$tab1</font>
    }
    KlndDayRem <font color=#1b1baa>$dmin</font>
    <b><font color=#3a6797>set</font></b> msgtodo [msgcat::mc {TODO reminders for the past: %d.}]
    <b><font color=#3a6797>set</font></b> dmin [ClockFormat <font color=#1b1baa>$dmin</font>]
    <b><font color=#3a6797>set</font></b> msgtodo [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$dmin</font>] <font color=#1b1baa>$msgtodo</font>]
    Message <font color=#1b1baa>$msgtodo</font> 6
    <b><font color=#3a6797>set</font></b> itemtodo [Selected item no]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::OpenFile'>OpenFile</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a file of listbox after double clicking.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFile</span> <span class='ruff_arg'>y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate of clicking</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_OpenFile' href="javascript:toggleSource('alited_project_OpenFile')">Show source</a></p>
<div id='alited_project_OpenFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::OpenFile {y} {
  <i><font color=#4b5d50># Opens a file of listbox after double clicking.</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate of clicking</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <b><font color=#3a6797>set</font></b> selid [<font color=#1b1baa>$lbx</font> nearest <font color=#1b1baa>$y</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selid</font> != -1} {
    <font color=#1b1baa>$lbx</font> selection clear 0 end
    <font color=#1b1baa>$lbx</font> selection set <font color=#1b1baa>$selid</font>
    OpenSelFiles no
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::OpenSelFiles'>OpenSelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens selected files of listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenSelFiles</span> <span class='ruff_arg'>?showmsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>showmsg</code></code></td><td class='ruff_defitem'>if yes, shows a message; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Files are open in a currently open project.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_OpenSelFiles' href="javascript:toggleSource('alited_project_OpenSelFiles')">Show source</a></p>
<div id='alited_project_OpenSelFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::OpenSelFiles {{showmsg yes}} {
  <i><font color=#4b5d50># Opens selected files of listbox.</font></i>
  <i><font color=#4b5d50>#   showmsg - if yes, shows a message</font></i>
  <i><font color=#4b5d50># Files are open in a currently open project.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>set</font></b> prj <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> cprj <font color=#1b1baa>$curinfo(prjname)</font>
  <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$curinfo(prjname)</font>
  <b><font color=#3a6797>lassign</font></b> [SelFiles] lbx selidx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lbx</font> ne {}} {
    <b><font color=#3a6797>update</font></b>
    <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> balloon {}
    <b><font color=#3a6797>foreach</font></b> idx [<b><font color=#3a6797>lreverse</font></b> <font color=#1b1baa>$selidx</font>] {
      <b><font color=#3a6797>set</font></b> fn [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fn</font>]} {
        <b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fn</font>
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> <font color=#1b1baa>$fn</font>]&lt;0} {
          <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$cprj</font>,tablist) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> 0 <font color=#1b1baa>$fn</font>]
        }
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> balloon <font color=#1b1baa>$fn</font>
      }
    }
    <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fnames</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$showmsg</font>} {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$llen</font>] [msgcat::mc {Open files: %n}]]
      Message <font color=#1b1baa>$msg</font> 3
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>} {
      alited::file::OpenFile <font color=#1b1baa>$fnames</font> yes yes alited::info::Put
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$balloon</font> ne {}} {
      <b><font color=#3a6797>after</font></b> idle alited::Balloon1 <font color=#1b1baa>$balloon</font>
    }
  }
  <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$prj</font>
  afterOpenCloseFiles
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::PopupMenu'>PopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a popup menu in the project list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupMenu</span> <span class='ruff_arg'>x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_PopupMenu' href="javascript:toggleSource('alited_project_PopupMenu')">Show source</a></p>
<div id='alited_project_PopupMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::PopupMenu {x y X Y} {
  <i><font color=#4b5d50># Opens a popup menu in the project list.</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - x-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$win</font>.popupmenu
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,prjadd)</font>  <font color=#6c3e67>-command</font> alited::project::Add {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPrj</font> iconA add]
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,prjchg)</font>  <font color=#6c3e67>-command</font> alited::project::Change {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPrj</font> iconA change]
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,prjdel1)</font>  <font color=#6c3e67>-command</font> alited::project::Delete {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPrj</font> iconA delete]
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,CrTemplPrj)</font>  <font color=#6c3e67>-command</font> alited::project::Template {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPrj</font> iconA plus]
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,ViewDir)</font>  <font color=#6c3e67>-command</font> alited::project::ViewDir {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPrj</font> iconA OpenFile]
  <font color=#1b1baa>$obPrj</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::postValidateFilter'>postValidateFilter</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Postvalidates the file filter change.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>postValidateFilter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_postValidateFilter' href="javascript:toggleSource('alited_project_postValidateFilter')">Show source</a></p>
<div id='alited_project_postValidateFilter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::postValidateFilter {} {
  <i><font color=#4b5d50># Postvalidates the file filter change.</font></i>

  <b><font color=#3a6797>variable</font></b> filefilter
  <b><font color=#3a6797>variable</font></b> casefilter
  <b><font color=#3a6797>variable</font></b> savedfilefilter
  <b><font color=#3a6797>variable</font></b> savedcasefilter
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$savedfilefilter</font> ne <font color=#1b1baa>$filefilter</font> || <font color=#1b1baa>$savedcasefilter</font> ne <font color=#1b1baa>$casefilter</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$filefilter</font> eq {}} {
      TabFileInfo
    } <b><font color=#3a6797>else</font></b> {
      TabFileFilter
    }
    <b><font color=#3a6797>set</font></b> savedfilefilter <font color=#1b1baa>$filefilter</font>
    <b><font color=#3a6797>set</font></b> savedcasefilter <font color=#1b1baa>$casefilter</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::preValidateFilter'>preValidateFilter</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prevalidates the file filter change.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>preValidateFilter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_preValidateFilter' href="javascript:toggleSource('alited_project_preValidateFilter')">Show source</a></p>
<div id='alited_project_preValidateFilter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::preValidateFilter {} {
  <i><font color=#4b5d50># Prevalidates the file filter change.</font></i>

  <b><font color=#3a6797>after</font></b> idle alited::project::postValidateFilter
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProcMessage'>ProcMessage</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles clicking on message label. Shows the message and if it is about TODO, selects the corresponding project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcMessage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ProcMessage' href="javascript:toggleSource('alited_project_ProcMessage')">Show source</a></p>
<div id='alited_project_ProcMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProcMessage {} {
  <i><font color=#4b5d50># Handles clicking on message label.</font></i>
  <i><font color=#4b5d50># Shows the message and if it is about TODO, selects the corresponding project.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> msgtodo
  <b><font color=#3a6797>variable</font></b> itemtodo
  <b><font color=#3a6797>set</font></b> msg [baltip cget [<font color=#1b1baa>$obPrj</font> LabMess] <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$msgtodo</font> eq <font color=#1b1baa>$msg</font>} {
    Message <font color=#1b1baa>$msg</font> 6
    Select <font color=#1b1baa>$itemtodo</font>
  } <b><font color=#3a6797>else</font></b> {
    Message <font color=#1b1baa>$msg</font> 3
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectEnter'>ProjectEnter</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes double-clicking and pressing Enter on the project list. Cancels selecting projects if there are old reminders.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectEnter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ProjectEnter' href="javascript:toggleSource('alited_project_ProjectEnter')">Show source</a></p>
<div id='alited_project_ProjectEnter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProjectEnter {} {
  <i><font color=#4b5d50># Processes double-clicking and pressing Enter on the project list.</font></i>
  <i><font color=#4b5d50># Cancels selecting projects if there are old reminders.</font></i>

  OnProjectEnter
  Ok
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectFileName'>ProjectFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a project file name from a project's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectFileName</span> <span class='ruff_arg'>name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ProjectFileName' href="javascript:toggleSource('alited_project_ProjectFileName')">Show source</a></p>
<div id='alited_project_ProjectFileName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProjectFileName {name} {
  <i><font color=#4b5d50># Gets a project file name from a project's name.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited PRJDIR PRJDIR PRJEXT PRJEXT
  <b><font color=#3a6797>set</font></b> name [ProjectName [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name</font>]]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> normalize [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$PRJDIR</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>name<font color=#1b1baa>$</font>PRJEXT&quot;</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectName'>ProjectName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a project name from its file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ProjectName' href="javascript:toggleSource('alited_project_ProjectName')">Show source</a></p>
<div id='alited_project_ProjectName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProjectName {fname} {
  <i><font color=#4b5d50># Gets a project name from its file name.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited PRJEXT PRJEXT
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#6c3e67>-nocase</font> *<font color=#1b1baa>$PRJEXT</font> <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::PutProjectOpts'>PutProjectOpts</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Writes a project's settings to a project settings file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PutProjectOpts</span> <span class='ruff_arg'>fname oldname dorename</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the project settings file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>oldname</code></code></td><td class='ruff_defitem'>old name of the project file</td></tr>
<tr><td class='ruff_defitem'><code><code>dorename</code></code></td><td class='ruff_defitem'>yes, if rename of old -notes/-rems</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_PutProjectOpts' href="javascript:toggleSource('alited_project_PutProjectOpts')">Show source</a></p>
<div id='alited_project_PutProjectOpts' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::PutProjectOpts {fname oldname dorename} {
  <i><font color=#4b5d50># Writes a project's settings to a project settings file.</font></i>
  <i><font color=#4b5d50>#   fname - the project settings file's name</font></i>
  <i><font color=#4b5d50>#   oldname - old name of the project file</font></i>
  <i><font color=#4b5d50>#   dorename - yes, if rename of old -notes/-rems</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al OPTS OPTS
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>set</font></b> filecont [readTextFile <font color=#1b1baa>$oldname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$filecont</font> eq {}} {
    alited::ini::SaveIniPrj
    <b><font color=#3a6797>set</font></b> filecont [readTextFile <font color=#1b1baa>$oldname</font>]
  }
  <b><font color=#3a6797>set</font></b> newcont {}
  <b><font color=#3a6797>foreach</font></b> line [textsplit <font color=#1b1baa>$filecont</font>] {
    <b><font color=#3a6797>lassign</font></b> [GetOptVal <font color=#1b1baa>$line</font>] opt val
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> eq {[Tabs]}} {
      <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$al(tablist)</font> {
        <b><font color=#3a6797>append</font></b> line \n <font color=#8b2a0e>&quot;tab=<font color=#1b1baa>$</font>tab&quot;</font>
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$opt</font> in [<b><font color=#3a6797>list</font></b> tab rem tablist {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$OPTS</font>]} {
      <b><font color=#ca14ca>continue</font></b>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$opt</font> in {curtab}} {
      <i><font color=#4b5d50>#</font></i>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$line</font> eq {[Options]}} {
      <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$opt</font> ni {prjname tablist}} {
          <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$opt</font>)]
          <b><font color=#3a6797>append</font></b> line \n <font color=#1b1baa>$opt</font>= <font color=#1b1baa>$val</font>
          <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$al(prjname)</font>,<font color=#1b1baa>$opt</font>) [alited::ProcEOL <font color=#1b1baa>$val</font> in]
        }
      }
    }
    <b><font color=#3a6797>append</font></b> newcont <font color=#1b1baa>$line</font> \n
  }
  writeTextFile <font color=#1b1baa>$fname</font> newcont
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldname</font> ne <font color=#1b1baa>$fname</font>} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$oldname</font>}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dorename</font>} {
      <b><font color=#3a6797>foreach</font></b> ftyp {notes rems} {
        <b><font color=#3a6797>set</font></b> oldtyp [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$oldname</font>]-<font color=#1b1baa>$ftyp</font>.txt
        <b><font color=#3a6797>set</font></b> newtyp [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$fname</font>]-<font color=#1b1baa>$ftyp</font>.txt
        <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> rename <font color=#1b1baa>$oldtyp</font> <font color=#1b1baa>$newtyp</font>}
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ReadNotes'>ReadNotes</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads notes of a project and commands for Commands tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadNotes</span> <span class='ruff_arg'>prj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>project's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ReadNotes' href="javascript:toggleSource('alited_project_ReadNotes')">Show source</a></p>
<div id='alited_project_ReadNotes' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ReadNotes {prj} {
  <i><font color=#4b5d50># Reads notes of a project and commands for Commands tab.</font></i>
  <i><font color=#4b5d50>#   prj - project's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> COMSEP
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>set</font></b> al(PTP,run<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>set</font></b> al(PTP,com<font color=#1b1baa>$i</font>) {}]
    <b><font color=#3a6797>set</font></b> al(PTP,runch<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>set</font></b> al(PTP,comch<font color=#1b1baa>$i</font>) 0]
  }
  <b><font color=#3a6797>set</font></b> al(PTP,chbClearRun) 0
  <b><font color=#3a6797>set</font></b> al(PTP,chbClearCom) 0
  <b><font color=#3a6797>set</font></b> irun [<b><font color=#3a6797>set</font></b> icom 0]
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obPrj</font> TexPrj]
  <font color=#1b1baa>$wtxt</font> delete 1.0 end
  <b><font color=#3a6797>set</font></b> fnotes [NotesFile <font color=#1b1baa>$prj</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fnotes</font>]} {
    <b><font color=#3a6797>set</font></b> cont [readTextFile <font color=#1b1baa>$fnotes</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ir [<b><font color=#3a6797>string</font></b> first run1<font color=#1b1baa>$COMSEP</font> <font color=#1b1baa>$cont</font>]]&gt;-1} {
      <i><font color=#4b5d50># get commands for Commands tab (project's and common)</font></i>
      <b><font color=#3a6797>foreach</font></b> com [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$cont</font> <font color=#1b1baa>$i</font> end] \n] {
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$com</font> <font color=#1b1baa>$COMSEP</font>] run ch com1 com2
        <b><font color=#3a6797>set</font></b> ch [<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$ch</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com1</font> ne {}} {
          <b><font color=#3a6797>set</font></b> al(PTP,run[<b><font color=#3a6797>incr</font></b> irun]) <font color=#1b1baa>$com1</font>
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font>} {<b><font color=#3a6797>set</font></b> al(PTP,runch<font color=#1b1baa>$irun</font>) [<b><font color=#3a6797>set</font></b> al(PTP,chbClearRun) 1]}
        } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$com2</font> ne {}} {
          <b><font color=#3a6797>set</font></b> al(PTP,com[<b><font color=#3a6797>incr</font></b> icom]) <font color=#1b1baa>$com2</font>
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font>} {<b><font color=#3a6797>set</font></b> al(PTP,comch<font color=#1b1baa>$icom</font>) [<b><font color=#3a6797>set</font></b> al(PTP,chbClearCom) 1]}
        }
      }
      <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$cont</font> 0 <font color=#1b1baa>$ir</font>-1]
    }
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$cont</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cont</font> ne {}} {<font color=#1b1baa>$wtxt</font> insert end <font color=#1b1baa>$cont</font>}
  }
  <font color=#1b1baa>$wtxt</font> edit reset; <font color=#1b1baa>$wtxt</font> edit modified no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ReadRems'>ReadRems</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file of reminders.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadRems</span> <span class='ruff_arg'>prj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ReadRems' href="javascript:toggleSource('alited_project_ReadRems')">Show source</a></p>
<div id='alited_project_ReadRems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ReadRems {prj} {
  <i><font color=#4b5d50># Reads a file of reminders.</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> frems [RemsFile <font color=#1b1baa>$prj</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$frems</font>]} {
    <b><font color=#3a6797>set</font></b> res [readTextFile <font color=#1b1baa>$frems</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::RemoveFromTplList'>RemoveFromTplList</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes a template name from the lists of template data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemoveFromTplList</span> <span class='ruff_arg'>val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>name of template to be removed</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_RemoveFromTplList' href="javascript:toggleSource('alited_project_RemoveFromTplList')">Show source</a></p>
<div id='alited_project_RemoveFromTplList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::RemoveFromTplList {val} {
  <i><font color=#4b5d50># Removes a template name from the lists of template data.</font></i>
  <i><font color=#4b5d50>#   val - name of template to be removed</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># remove from list of template names</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(PTP,names)</font> <font color=#1b1baa>$val</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> al(PTP,names) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(PTP,names)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  }
  <i><font color=#4b5d50># remove from list of template pairs &quot;name contents&quot;</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(PTP,list)</font> <font color=#1b1baa>$val</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> al(PTP,list) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(PTP,list)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>+1]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::RemsFile'>RemsFile</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name of reminders.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemsFile</span> <span class='ruff_arg'>prj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_RemsFile' href="javascript:toggleSource('alited_project_RemsFile')">Show source</a></p>
<div id='alited_project_RemsFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::RemsFile {prj} {
  <i><font color=#4b5d50># Gets a file name of reminders.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::PRJDIR</font> <font color=#1b1baa>$prj</font>-rems.txt]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::RestoreSettings'>RestoreSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores project settings from curinfo array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_RestoreSettings' href="javascript:toggleSource('alited_project_RestoreSettings')">Show source</a></p>
<div id='alited_project_RestoreSettings' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::RestoreSettings {} {
  <i><font color=#4b5d50># Restores project settings from curinfo array.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al OPTS OPTS
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>foreach</font></b> v <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$v</font>) <font color=#1b1baa>$curinfo($v)</font>
  }
  <b><font color=#3a6797>set</font></b> al(prjfile) <font color=#1b1baa>$curinfo(prjfile)</font>
  TabFileInfo
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::RunComs'>RunComs</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles running commands of Commands tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunComs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_RunComs' href="javascript:toggleSource('alited_project_RunComs')">Show source</a></p>
<div id='alited_project_RunComs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::RunComs {} {
  <i><font color=#4b5d50># Handles running commands of Commands tab.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  SaveNotes [CurrProject]
  <b><font color=#3a6797>set</font></b> comtorun {}
  <b><font color=#3a6797>set</font></b> comcnt 0
  <i><font color=#4b5d50># collect commands executed on the current project</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists prjinfo(<font color=#1b1baa>$al(prjname)</font>,prjroot)]} {
    <b><font color=#3a6797>set</font></b> dir <font color=#1b1baa>$prjinfo($al(prjname)</font>,prjroot)
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(PTP,runch$i)</font> && <font color=#1b1baa>$al(PTP,run$i)</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$comcnt</font>} {
          <b><font color=#3a6797>append</font></b> comtorun <font color=#8b2a0e>&quot;cd <font color=#1b1baa>$</font>dir\n&quot;</font>
        }
        <b><font color=#3a6797>append</font></b> comtorun <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(PTP,run<font color=#1b1baa>$</font>i)\n&quot;</font>
        <b><font color=#3a6797>incr</font></b> comcnt
      }
    }
  }
  <i><font color=#4b5d50># collect general commands executed per project</font></i>
  <b><font color=#3a6797>foreach</font></b> prj <font color=#1b1baa>$prjlist</font> {
    <b><font color=#3a6797>set</font></b> dir <font color=#1b1baa>$prjinfo($prj,prjroot)</font>
    <b><font color=#3a6797>set</font></b> com {}
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(PTP,comch$i)</font> && <font color=#1b1baa>$al(PTP,com$i)</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> eq {}} {
          <b><font color=#3a6797>append</font></b> com <font color=#8b2a0e>&quot;cd <font color=#1b1baa>$</font>dir\n&quot;</font>
        }
        <b><font color=#3a6797>append</font></b> com <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(PTP,com<font color=#1b1baa>$</font>i)\n&quot;</font>
        <b><font color=#3a6797>incr</font></b> comcnt
      }
    }
    <b><font color=#3a6797>append</font></b> comtorun <font color=#1b1baa>$com</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$comtorun</font> eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obPrj</font> Entrun1]
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {%n commands will be executed!}]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$comcnt</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>if</font></b> {[alited::msg yesno ques <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$win</font>]} {
      alited::tool::Run_in_e_menu <font color=#1b1baa>$comtorun</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveData'>SaveData</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves some data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveData</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_SaveData' href="javascript:toggleSource('alited_project_SaveData')">Show source</a></p>
<div id='alited_project_SaveData' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SaveData {} {
  <i><font color=#4b5d50># Saves some data.</font></i>

  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>set</font></b> ilast [Selected index no]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveNotes'>SaveNotes</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>For a current item of project list, saves a file of notes and Commands tab's commands.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveNotes</span> <span class='ruff_arg'>?prj?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>project's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_SaveNotes' href="javascript:toggleSource('alited_project_SaveNotes')">Show source</a></p>
<div id='alited_project_SaveNotes' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SaveNotes {{prj {}}} {
  <i><font color=#4b5d50>#  For a current item of project list, saves a file of notes and Commands tab's commands.</font></i>
  <i><font color=#4b5d50>#   prj - project's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>variable</font></b> COMSEP
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> eq {}} {<b><font color=#3a6797>set</font></b> prj <font color=#1b1baa>$klnddata(SAVEPRJ)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fnotes [NotesFile <font color=#1b1baa>$prj</font>]
    <b><font color=#3a6797>set</font></b> fcont [<b><font color=#3a6797>string</font></b> trimright [[<font color=#1b1baa>$obPrj</font> TexPrj] get 1.0 end]]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> indent [<b><font color=#3a6797>string</font></b> repeat { } <font color=#1b1baa>$::alited::al(prjindent)</font>]}]} {<b><font color=#3a6797>set</font></b> indent {    }}
    <b><font color=#3a6797>set</font></b> fcont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$COMSEP</font> <font color=#1b1baa>$indent</font>] <font color=#1b1baa>$fcont</font>]
    <b><font color=#3a6797>set</font></b> fcontOrig <font color=#1b1baa>$fcont</font>
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(PTP,run$i)</font>]
      <b><font color=#3a6797>set</font></b> al(PTP,run<font color=#1b1baa>$i</font>) {}
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
        <b><font color=#3a6797>incr</font></b> irun   ;<i><font color=#4b5d50># starting commands from #1</font></i>
        <b><font color=#3a6797>append</font></b> fcont \nrun<font color=#1b1baa>$irun$COMSEP$al(PTP,runch$i)$COMSEP$com</font>
        <b><font color=#3a6797>set</font></b> al(PTP,run<font color=#1b1baa>$i</font>) <font color=#1b1baa>$com</font>
      }
    }
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(PTP,com$i)</font>]
      <b><font color=#3a6797>set</font></b> al(PTP,com<font color=#1b1baa>$i</font>) {}
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
        <b><font color=#3a6797>incr</font></b> irun   ;<i><font color=#4b5d50># starting commands from #1</font></i>
        <b><font color=#3a6797>append</font></b> fcont \nrun<font color=#1b1baa>$irun$COMSEP$al(PTP,comch$i)$COMSEP$COMSEP$com</font>
        <b><font color=#3a6797>set</font></b> al(PTP,com<font color=#1b1baa>$i</font>) <font color=#1b1baa>$com</font>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fcontOrig</font> eq {} && <font color=#1b1baa>$fcont</font> ne {}} {
      <b><font color=#3a6797>set</font></b> fcont __<font color=#1b1baa>$al(MC,coms)</font>__<font color=#1b1baa>$fcont</font>
    }
    writeTextFile <font color=#1b1baa>$fnotes</font> fcont 0 0
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveSettings'>SaveSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves project settings to curinfo array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_SaveSettings' href="javascript:toggleSource('alited_project_SaveSettings')">Show source</a></p>
<div id='alited_project_SaveSettings' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SaveSettings {} {
  <i><font color=#4b5d50># Saves project settings to curinfo array.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al OPTS OPTS
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>foreach</font></b> v <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>set</font></b> curinfo(<font color=#1b1baa>$v</font>) <font color=#1b1baa>$al($v)</font>
  }
  <b><font color=#3a6797>set</font></b> curinfo(prjfile) <font color=#1b1baa>$al(prjfile)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection in a list of projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?item?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Select' href="javascript:toggleSource('alited_project_Select')">Show source</a></p>
<div id='alited_project_Select' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Select {{item {}}} {
  <i><font color=#4b5d50># Handles a selection in a list of projects.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al OPTS OPTS
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> eq {}} {<b><font color=#3a6797>set</font></b> item [Selected item no]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {
    <b><font color=#3a6797>lassign</font></b> [SelectedPrj <font color=#1b1baa>$item</font>] tree item prj
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> eq {}} <b><font color=#ca14ca>return</font></b>
    ReadNotes <font color=#1b1baa>$prj</font>
    <b><font color=#3a6797>lassign</font></b> [SortRems [ReadRems <font color=#1b1baa>$prj</font>]] dmin prjinfo(<font color=#1b1baa>$prj</font>,prjrem)
    <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$prjinfo($prj,$opt)</font>} e]} {
        Message <font color=#1b1baa>$e</font>
        <b><font color=#ca14ca>return</font></b>
      }
    }
    <b><font color=#3a6797>set</font></b> al(tablist) <font color=#1b1baa>$prjinfo($prj,tablist)</font>
    TabFileInfo
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$tree</font> selection] ne <font color=#1b1baa>$item</font>} {
      <font color=#1b1baa>$tree</font> selection set <font color=#1b1baa>$item</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dmin</font>&gt;0} {
      KlndDayRem <font color=#1b1baa>$dmin</font>
    } <b><font color=#3a6797>else</font></b> {
      KlndDay [<b><font color=#3a6797>clock</font></b> seconds] no
      KlndBorderText
    }
    ::klnd::blinking no
    <b><font color=#3a6797>set</font></b> klnddata(SAVEDATE) {}
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$klnddata(AFTERKLND)</font>}
    <b><font color=#3a6797>set</font></b> klnddata(AFTERKLND) [<b><font color=#3a6797>after</font></b> 200 alited::project::KlndUpdate]
    [<font color=#1b1baa>$obPrj</font> Labprj] configure <font color=#6c3e67>-text</font> [msgcat::mc {For project}]\ <font color=#1b1baa>$al(prjname)</font>
    <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,prjName) <font color=#1b1baa>$</font>al(prjname)&quot;</font>] <font color=#1b1baa>$al(MC,alloffile)</font>]
    ::baltip tip [<font color=#1b1baa>$obPrj</font> ChbClearRun] <font color=#1b1baa>$tip</font>
    <b><font color=#3a6797>after</font></b> 200 <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>tree see <font color=#1b1baa>$</font>item; <font color=#1b1baa>$</font>tree focus <font color=#1b1baa>$</font>item&quot;</font>
    CheckPrjUseLeaf
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SelectAllFiles'>SelectAllFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects all files of listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectAllFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_SelectAllFiles' href="javascript:toggleSource('alited_project_SelectAllFiles')">Show source</a></p>
<div id='alited_project_SelectAllFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SelectAllFiles {} {
  <i><font color=#4b5d50># Selects all files of listbox.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  [<font color=#1b1baa>$obPrj</font> LbxFlist] selection set 0 end
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a currently selected project's index.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> <span class='ruff_arg'>what ?domsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>if &quot;index&quot;, selected item's index is returned</td></tr>
<tr><td class='ruff_defitem'><code><code>domsg</code></code></td><td class='ruff_defitem'>if &quot;no&quot;, no message displayed if there is no selected project; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Selected' href="javascript:toggleSource('alited_project_Selected')">Show source</a></p>
<div id='alited_project_Selected' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Selected {what {domsg yes}} {
  <i><font color=#4b5d50># Gets a currently selected project's index.</font></i>
  <i><font color=#4b5d50>#   what - if &quot;index&quot;, selected item's index is returned</font></i>
  <i><font color=#4b5d50>#   domsg - if &quot;no&quot;, no message displayed if there is no selected project</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obPrj</font> TreePrj]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> selection]] eq {} && [<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> focus]] eq {} && <font color=#1b1baa>$domsg</font>} {
    Message <font color=#1b1baa>$::alited::al(MC,prjsel)</font> 4
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> ne {} && <font color=#1b1baa>$what</font> eq {index}} {
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SelectedPrj'>SelectedPrj</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a project name of selected item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectedPrj</span> <span class='ruff_arg'>item</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>selected item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_SelectedPrj' href="javascript:toggleSource('alited_project_SelectedPrj')">Show source</a></p>
<div id='alited_project_SelectedPrj' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SelectedPrj {item} {
  <i><font color=#4b5d50># Gets a project name of selected item.</font></i>
  <i><font color=#4b5d50>#   item - selected item</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obPrj</font> TreePrj]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#1b1baa>$item</font>]} {  ;<i><font color=#4b5d50># the item is an index</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font>&lt;0 || <font color=#1b1baa>$item</font>&gt;=[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]} {<b><font color=#ca14ca>return</font></b> {}}
    <b><font color=#3a6797>set</font></b> prj [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$item</font>]
    <b><font color=#3a6797>set</font></b> item <font color=#1b1baa>$prjinfo($prj,ID)</font>
  } <b><font color=#3a6797>elseif</font></b> {![<font color=#1b1baa>$tree</font> exists <font color=#1b1baa>$item</font>]} {
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$item</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font>&lt;0 || <font color=#1b1baa>$isel</font>&gt;=[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tree</font> <font color=#1b1baa>$item</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SelFiles'>SelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for a selection of file listbox. Returns: list of listbox's path and the selection or {}.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_SelFiles' href="javascript:toggleSource('alited_project_SelFiles')">Show source</a></p>
<div id='alited_project_SelFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SelFiles {} {
  <i><font color=#4b5d50># Checks for a selection of file listbox.</font></i>
  <i><font color=#4b5d50># Returns: list of listbox's path and the selection or {}.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>set</font></b> selidx [<font color=#1b1baa>$lbx</font> curselection]]]} {
    Message [msgcat::mc {No selected files}] 4
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lbx</font> <font color=#1b1baa>$selidx</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SortRems'>SortRems</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sorts reminders by date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SortRems</span> <span class='ruff_arg'>rems</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>rems</code></code></td><td class='ruff_defitem'>list of reminders</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of reminder date before current date, sorted list, flag of outdated reminder.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_SortRems' href="javascript:toggleSource('alited_project_SortRems')">Show source</a></p>
<div id='alited_project_SortRems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SortRems {rems} {
  <i><font color=#4b5d50># Sorts reminders by date.</font></i>
  <i><font color=#4b5d50>#   rems - list of reminders</font></i>
  <i><font color=#4b5d50># Returns a list of reminder date before current date, sorted list, flag of outdated reminder.</font></i>

  <b><font color=#3a6797>set</font></b> tmp [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> dmin [<b><font color=#3a6797>set</font></b> outdated 0]
  <b><font color=#3a6797>set</font></b> dcur [<b><font color=#3a6797>clock</font></b> add [KlndInDate] <font color=#1b1baa>$::alited::al(todoahead)</font> day]
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$rems</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> d text
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$d</font> /] y m d
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> d [KlndInDate <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>]}]} {
      <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>clock</font></b> seconds]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$d</font>&lt;=<font color=#1b1baa>$dcur</font> && (<font color=#1b1baa>$dmin</font>==0 || <font color=#1b1baa>$d</font>&lt;<font color=#1b1baa>$dmin</font>)} {
      <b><font color=#3a6797>set</font></b> dmin <font color=#1b1baa>$d</font>
    }
    <b><font color=#3a6797>lappend</font></b> tmp [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$d</font> <font color=#1b1baa>$text</font>]
  }
  <b><font color=#3a6797>set</font></b> rems [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> it [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$tmp</font>] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> d text
    <b><font color=#3a6797>lappend</font></b> rems [<b><font color=#3a6797>list</font></b> [ClockFormat <font color=#1b1baa>$d</font>] <font color=#1b1baa>$text</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dmin</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dmin</font>&lt;[<b><font color=#3a6797>clock</font></b> seconds]} {
      <b><font color=#3a6797>set</font></b> outdated 1 ;<i><font color=#4b5d50># current day reached</font></i>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$dmin</font>&lt;<font color=#1b1baa>$dcur</font>} {
      <b><font color=#3a6797>set</font></b> outdated 2 ;<i><font color=#4b5d50># &quot;ahead&quot; day reached</font></i>
    }
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$dmin</font> <font color=#1b1baa>$rems</font> <font color=#1b1baa>$outdated</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::StdLeafRE'>StdLeafRE</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets standard RE for leaf unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>StdLeafRE</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_StdLeafRE' href="javascript:toggleSource('alited_project_StdLeafRE')">Show source</a></p>
<div id='alited_project_StdLeafRE' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::StdLeafRE {} {
  <i><font color=#4b5d50># Sets standard RE for leaf unit.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(prjleafRE) <font color=#1b1baa>$al(RE,leafDEF)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab1'>Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Tab1' href="javascript:toggleSource('alited_project_Tab1')">Show source</a></p>
<div id='alited_project_Tab1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Tab1 {} {
  <i><font color=#4b5d50># Creates a main tab of &quot;Project&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> klnddata(SAVEDATE) [<b><font color=#3a6797>set</font></b> klnddata(SAVEPRJ) {}]
  <b><font color=#3a6797>set</font></b> monofont <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>font actual apaveFontMono<font color=#1b1baa>]</font> -size <font color=#1b1baa>$</font>al(FONTSIZE,small)&quot;</font>
  <b><font color=#3a6797>set</font></b> klnddata(toobar) <font color=#8b2a0e>&quot;LabKlndDate <font color=#1b1baa>{{}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-font <font color=#1b1baa>{$</font>monofont<font color=#1b1baa>}}}</font> sev 6&quot;</font>
  <b><font color=#3a6797>foreach</font></b> img {delete paste undo redo - previous2 previous next next2} {
    <i><font color=#4b5d50># -method option for possible disable/enable BuT_alimg_delete etc.</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$img</font> eq {-}} {
      <b><font color=#3a6797>append</font></b> klnddata(toobar) <font color=#8b2a0e>&quot; sev 4&quot;</font>
      <b><font color=#ca14ca>continue</font></b>
    }
    <b><font color=#3a6797>append</font></b> klnddata(toobar) <font color=#8b2a0e>&quot; alimg_<font color=#1b1baa>$</font>img \{<font color=#1b1baa>{}</font>  -tip <font color=#1b1baa>{</font>-BALTIP <font color=#1b1baa>{$</font>al(MC,prjT<font color=#1b1baa>$</font>img)<font color=#1b1baa>}</font> -MAXEXP 2@@ -under 4<font color=#1b1baa>}</font>  -com alited::project::Klnd_<font color=#1b1baa>$</font>img -method yes \}&quot;</font>
  }
  <b><font color=#3a6797>set</font></b> klnddata(vsbltext) yes
  <b><font color=#3a6797>set</font></b> klnddata(date) [KlndOutDate]
  <b><font color=#3a6797>after</font></b> idle alited::project::KlndUpdate
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra1 v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labName - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,prjName)</font>} <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$al(FG,DEFopts)</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
    {.EntName + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> ::alited::al(prjname) <font color=#6c3e67>-w</font> 50}}
    {.labDir .labName T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 8 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Root directory:&quot;</font>}}
    {.Dir + L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(prjroot) <font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-validate</font> focus  <font color=#6c3e67>-validatecommand</font> alited::project::ValidateDir}}
    {lab fra1 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Notes:&quot;</font>}}
    {fra2 + T 2 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-cw</font> 99}}
    {.TexPrj - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-h</font> 20 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> *.spx <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,notes)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
    {frasp lab L 1 1 {<font color=#6c3e67>-st</font> nsew}}
    {.lab - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> {TODO days ahead:}}}
    {.spx - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-tvar</font> ::alited::al(todoahead) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 365 <font color=#6c3e67>-w</font> 5 <font color=#6c3e67>-justify</font> center  <font color=#6c3e67>-com</font> alited::project::Select <font color=#6c3e67>-validate</font> all  <font color=#6c3e67>-validatecommand</font> {alited::project::ValidateIni %V}}}
    {fra3 fra2 L 2 1 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-relief</font> groove <font color=#6c3e67>-borderwidth</font> 2}}
    {.seh - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x}}
    {.daT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-tvar</font> ::alited::project::klnddata(date)  <font color=#6c3e67>-com</font> {alited::project::KlndUpdate; alited::project::KlndBorderText}  <font color=#6c3e67>-dateformat</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>::alited::al(TPL,%d)&quot;</font>  <font color=#6c3e67>-tip</font> {alited::project::KlndText %D} <font color=#6c3e67>-weeks</font> <font color=#1b1baa>$::alited::al(klndweeks)</font>  <font color=#6c3e67>-popup</font> {alited::project::KlndPopup %W %y %m %d %X %Y} <font color=#6c3e67>-width</font> 3}}
    {fra3.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.seh2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x}}
    {.too - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top}  {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-borderwidth</font> 0 <font color=#6c3e67>-array</font> {<font color=#1b1baa>$::alited::project::klnddata(toobar)</font>}}}
    {.TexKlnd - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> {alited::Tnext *.texPrj} <font color=#6c3e67>-w</font> 4 <font color=#6c3e67>-h</font> 8  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,prjTtext)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab2'>Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Options tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Tab2' href="javascript:toggleSource('alited_project_Tab2')">Show source</a></p>
<div id='alited_project_Tab2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Tab2 {} {
  <i><font color=#4b5d50># Creates Options tab of &quot;Project&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [alited::FgFgBold] fg al(FG,DEFopts)
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(PRJDEFAULT)</font>} {
    <b><font color=#3a6797>set</font></b> al(FG,DEFopts) <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>fg -afteridle <font color=#1b1baa>{</font>grid forget %w<font color=#1b1baa>}</font>&quot;</font> ;<i><font color=#4b5d50># no heading message</font></i>
  }
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 10}
    {lab1 + T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,DEFopts)</font>} <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$al(FG,DEFopts)</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
    {fra2 + T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labIgn - - 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,Ign:)</font>}}}
    {.entIgn + L 1 8 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> ::alited::al(prjdirign) <font color=#6c3e67>-w</font> 50}}
    {.labEOL .labIgn T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,EOL:)</font>}}}
    {.cbxEOL + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(prjEOL) <font color=#6c3e67>-values</font> {{} LF CR CRLF} <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-state</font> readonly}}
    {.labIndent .labEOL T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,indent:)</font>}}}
    {.spxIndent + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(prjindent) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 8 <font color=#6c3e67>-com</font> {::alited::pref::CheckIndent <font color=#8b2a0e>&quot;&quot;</font>}}}
    {.chbIndAuto + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-var</font> ::alited::al(prjindentAuto) <font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,indentAuto)</font>}}}
    {.labRedunit .labIndent T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,redunit)</font>}}}
    {.spxRedunit + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(prjredunit) <font color=#6c3e67>-from</font> <font color=#1b1baa>$al(minredunit)</font> <font color=#6c3e67>-to</font> 100}}
    {.labmaxcom .labRedunit T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Maximum Run commands}}}
    {.spxMaxcom + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-tvar</font> ::alited::al(prjmaxcoms) <font color=#6c3e67>-from</font> 4 <font color=#6c3e67>-to</font> 99 <font color=#6c3e67>-tabnext</font> alited::Tnext}}
    {.labMult .labmaxcom T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,multiline)</font>} <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,notrecomm)</font>}}}
    {.swiMult + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-var</font> ::alited::al(prjmultiline) <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,notrecomm)</font>}}}
    {.labTrWs .labMult T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,trailwhite)</font>}}}
    {.swiTrWs + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-var</font> ::alited::al(prjtrailwhite)}}
    {.seh .labTrWs T 1 9}
    {.labUself + T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,useleafRE)</font>}}}
    {.swiUself + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1}  {<font color=#6c3e67>-var</font> ::alited::al(prjuseleafRE) <font color=#6c3e67>-com</font> alited::project::CheckPrjUseLeaf}}
    {.butStd + L 1 7 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> alited::project::StdLeafRE}}
    {.labLf .labUself T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,leafRE)</font>}}}
    {.EntLf + L 1 8 {<font color=#6c3e67>-st</font> sew <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(prjleafRE)}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab3'>Tab3</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Templates tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Tab3' href="javascript:toggleSource('alited_project_Tab3')">Show source</a></p>
<div id='alited_project_Tab3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Tab3 {} {
  <i><font color=#4b5d50># Creates Templates tab of &quot;Project&quot;.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 9}
    {lab1 + T 1 9 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,TemplPrj)</font>}}}
    {lab2 + T 1 1 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3}  {<font color=#6c3e67>-t</font> Template: <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$al(FG,DEFopts)</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
    {CbxTpl + L 1 3 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}  {<font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-h</font> 12 <font color=#6c3e67>-cbxsel</font> {<font color=#1b1baa>$al(PTP,name)</font>} <font color=#6c3e67>-tvar</font> ::alited::al(PTP,name)  <font color=#6c3e67>-values</font> {<font color=#1b1baa>$al(PTP,names)</font>} <font color=#6c3e67>-clearcom</font> alited::project::DeleteFromTplList  <font color=#6c3e67>-selcombobox</font> alited::project::UpdateTplText}}
    {fraTlist + T 1 8 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-padx</font> 3 <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {.TexTemplate - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}  {<font color=#6c3e67>-h</font> 20 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-tabnext</font> <font color=#8b2a0e>&quot;*.butTplDef *.cbxTpl&quot;</font> <font color=#6c3e67>-wrap</font> none}}
    {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
    {butTplDef fraTlist T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 4 <font color=#6c3e67>-pady</font> 4}  {<font color=#6c3e67>-t</font> Standard <font color=#6c3e67>-com</font> alited::project::TplDefault <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab4'>Tab4</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Commands tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab4</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Tab4' href="javascript:toggleSource('alited_project_Tab4')">Show source</a></p>
<div id='alited_project_Tab4' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Tab4 {} {
  <i><font color=#4b5d50># Creates Commands tab of &quot;Project&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(PTP,chbClearRun) 0
  <b><font color=#3a6797>set</font></b> al(PTP,chbClearCom) 0
  <b><font color=#3a6797>set</font></b> al(PTP,chbClearTip) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [msgcat::mc General]] <font color=#1b1baa>$al(MC,alloffile)</font>]
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 3}
    {Labprj + T 1 2 {} {<font color=#6c3e67>-foreground</font> <font color=#1b1baa>$al(FG,DEFopts)</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
    {ChbClearRun labprj L 1 1 {<font color=#6c3e67>-st</font> w}  {<font color=#6c3e67>-var</font> ::alited::al(PTP,chbClearRun) <font color=#6c3e67>-com</font> alited::project::ChecksRun <font color=#6c3e67>-takefocus</font> 0}}
    {tcl {
        <b><font color=#3a6797>set</font></b> prt labprj
        <b><font color=#3a6797>set</font></b> ent Entrun
        <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$::alited::al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;lab<font color=#1b1baa>$</font>i <font color=#1b1baa>$</font>prt T 1 1 <font color=#1b1baa>{</font>-st nse<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-t <font color=#1b1baa>{$</font>::alited::al(MC,com) <font color=#1b1baa>$</font>i:<font color=#1b1baa>}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>ent<font color=#1b1baa>$</font>i lab<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{</font>-cw 1 -st ew<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-tvar ::alited::al(PTP,run<font color=#1b1baa>$</font>i)<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;chb<font color=#1b1baa>$</font>i <font color=#1b1baa>$</font>ent<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-t <font color=#1b1baa>{</font>Run it<font color=#1b1baa>}</font>  -var ::alited::al(PTP,runch<font color=#1b1baa>$</font>i) -takefocus 0<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> prt lab<font color=#1b1baa>$i</font>
          <b><font color=#3a6797>set</font></b> ent ent
        }
        <b><font color=#3a6797>set</font></b> lwid {seh1 lab6 T 1 3}
        %C <font color=#1b1baa>$lwid</font>
        <b><font color=#3a6797>set</font></b> lwid {labcom seh1 T 1 2 {}  {<font color=#6c3e67>-t</font> General <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$::alited::al(FG,DEFopts)</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
        %C <font color=#1b1baa>$lwid</font>
        <b><font color=#3a6797>set</font></b> lwid {chbClearCom labcom L 1 1 {<font color=#6c3e67>-st</font> w}  {<font color=#6c3e67>-var</font> ::alited::al(PTP,chbClearCom) <font color=#6c3e67>-com</font> alited::project::ChecksCom <font color=#6c3e67>-takefocus</font> 0  <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(PTP,chbClearTip)</font>}}}
        %C <font color=#1b1baa>$lwid</font>
        <b><font color=#3a6797>set</font></b> prt labcom
        <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 1} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$::alited::al(cmdNum)</font>} {<b><font color=#3a6797>incr</font></b> i} {
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;labc<font color=#1b1baa>$</font>i <font color=#1b1baa>$</font>prt T 1 1 <font color=#1b1baa>{</font>-st nse<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-t <font color=#1b1baa>{$</font>::alited::al(MC,com) <font color=#1b1baa>$</font>i:<font color=#1b1baa>}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;entc<font color=#1b1baa>$</font>i labc<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{</font>-cw 1 -st ew<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-tvar ::alited::al(PTP,com<font color=#1b1baa>$</font>i)<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#8b2a0e>&quot;chbc<font color=#1b1baa>$</font>i entc<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-t <font color=#1b1baa>{</font>Run it<font color=#1b1baa>}</font> -var ::alited::al(PTP,comch<font color=#1b1baa>$</font>i) -takefocus 0<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> prt labc<font color=#1b1baa>$i</font>
        }
      }
    }
    {seh2 labc6 T 1 3}
    {h_ seh2 T 1 1}
    {butRun h_ L 1 2 {<font color=#6c3e67>-st</font> ew} {<font color=#6c3e67>-t</font> Run <font color=#6c3e67>-com</font> alited::project::RunComs <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,saving)</font> & <font color=#1b1baa>$al(MC,run)</font>} <font color=#6c3e67>-tabnext</font> alited::Tnext}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab5'>Tab5</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Files tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab5</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Tab5' href="javascript:toggleSource('alited_project_Tab5')">Show source</a></p>
<div id='alited_project_Tab5' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Tab5 {} {
  <i><font color=#4b5d50># Creates Files tab of &quot;Project&quot;.</font></i>

  alited::ini::ProjectsToolbar
  <b><font color=#ca14ca>return</font></b> {
    {frat - - 1 9 {<font color=#6c3e67>-st</font> ew}}
    {frat.ToolTop + T - - pack {<font color=#6c3e67>-array</font> {<font color=#1b1baa>$::alited::al(atools)</font>} <font color=#6c3e67>-relief</font> groove <font color=#6c3e67>-borderwidth</font> 1}}
    {labFilter frat T 1 1 {<font color=#6c3e67>-st</font> se <font color=#6c3e67>-padx</font> 1} {<font color=#6c3e67>-t</font> {All files filter:}}}
    {EntFilter + L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-padx</font> 1 <font color=#6c3e67>-cw</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::project::filefilter <font color=#6c3e67>-validate</font> all <font color=#6c3e67>-validatecommand</font> alited::project::preValidateFilter}}
    {ChbFilter + L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-padx</font> 1} {<font color=#6c3e67>-var</font> ::alited::project::casefilter <font color=#6c3e67>-t</font> {Match case} <font color=#6c3e67>-com</font> alited::project::postValidateFilter}}
    {seh_ labFilter T 1 3}
    {LabFlist + T 1 3 {<font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-foreground</font> <font color=#1b1baa>$al(FG,DEFopts)</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
    {fraFlist + T 1 3 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-padx</font> 3 <font color=#6c3e67>-rw</font> 1}}
    {.LbxFlist - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-selectmode</font> multiple <font color=#6c3e67>-popup</font> {::alited::project::LbxPopup %X %Y}}}
    {.sbvFlist + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TabFileFill'>TabFileFill</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a listbox of files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabFileFill</span> <span class='ruff_arg'>flist</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>flist</code></code></td><td class='ruff_defitem'>file list</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_TabFileFill' href="javascript:toggleSource('alited_project_TabFileFill')">Show source</a></p>
<div id='alited_project_TabFileFill' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TabFileFill {flist} {
  <i><font color=#4b5d50># Fills a listbox of files.</font></i>
  <i><font color=#4b5d50>#   flist - file list</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <font color=#1b1baa>$lbx</font> delete 0 end
  <b><font color=#3a6797>set</font></b> savfname {}
  <b><font color=#3a6797>foreach</font></b> tab [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$flist</font>] {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tab</font> \t] 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$savfname</font> ne <font color=#1b1baa>$fname</font>} {  ;<i><font color=#4b5d50># no duplicates</font></i>
      <font color=#1b1baa>$lbx</font> insert end <font color=#1b1baa>$fname</font>
      <b><font color=#3a6797>set</font></b> savfname <font color=#1b1baa>$fname</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TabFileFilter'>TabFileFilter</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a listbox with a list of filtered files of all projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabFileFilter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_TabFileFilter' href="javascript:toggleSource('alited_project_TabFileFilter')">Show source</a></p>
<div id='alited_project_TabFileFilter' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TabFileFilter {} {
  <i><font color=#4b5d50># Fills a listbox with a list of filtered files of all projects.</font></i>

  <b><font color=#3a6797>variable</font></b> filefilter
  <b><font color=#3a6797>variable</font></b> casefilter
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$filefilter</font> eq {}} {
    TabFileInfo
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> alltablist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$casefilter</font>} {<b><font color=#3a6797>set</font></b> nocase {}} {<b><font color=#3a6797>set</font></b> nocase <font color=#6c3e67>-nocase</font>}
  <b><font color=#3a6797>foreach</font></b> prj <font color=#1b1baa>$prjlist</font> {
    <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$prjinfo($prj,tablist)</font> {
      <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tab</font> \t] 0]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$nocase</font> *<font color=#1b1baa>$filefilter</font>* <font color=#1b1baa>$fname</font>]} {
        <b><font color=#3a6797>lappend</font></b> alltablist <font color=#1b1baa>$tab</font>
      }
    }
  }
  TabFileFill <font color=#1b1baa>$alltablist</font>
  TabFileHeading
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TabFileHeading'>TabFileHeading</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Show Files tab's heading.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabFileHeading</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_TabFileHeading' href="javascript:toggleSource('alited_project_TabFileHeading')">Show source</a></p>
<div id='alited_project_TabFileHeading' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TabFileHeading {} {
  <i><font color=#4b5d50># Show Files tab's heading.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <b><font color=#3a6797>set</font></b> txt [msgcat::mc {List of files (%n):}]
  <b><font color=#3a6797>set</font></b> txt [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<font color=#1b1baa>$lbx</font> index end]] <font color=#1b1baa>$txt</font>]
  [<font color=#1b1baa>$obPrj</font> LabFlist] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$txt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TabFileInfo'>TabFileInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a listbox with a list of project files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabFileInfo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_TabFileInfo' href="javascript:toggleSource('alited_project_TabFileInfo')">Show source</a></p>
<div id='alited_project_TabFileInfo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TabFileInfo {} {
  <i><font color=#4b5d50># Fills a listbox with a list of project files.</font></i>

  <b><font color=#3a6797>variable</font></b> filefilter
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$filefilter</font> ne {}} {
    TabFileFilter
    <b><font color=#ca14ca>return</font></b>
  }
  TabFileFill <font color=#1b1baa>$::alited::al(tablist)</font>
  TabFileHeading
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Template'>Template</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a project by template as set in Template tab. The template can contain directories or files (indented for subdirectories). The files satisfy glob-patterns: changelog<em>, license</em>, licence<em>, readme</em>.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Template</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::project::TplDefault" title="TplDefault" class='ruff_cmd'>TplDefault</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_Template' href="javascript:toggleSource('alited_project_Template')">Show source</a></p>
<div id='alited_project_Template' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Template {} {
  <i><font color=#4b5d50># Creates a project by template as set in Template tab.</font></i>
  <i><font color=#4b5d50># The template can contain directories or files (indented for subdirectories).</font></i>
  <i><font color=#4b5d50># The files satisfy glob-patterns: changelog*, license*, licence*, readme*.</font></i>
  <i><font color=#4b5d50># See also: TplDefault</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> curinfo
  <i><font color=#4b5d50># first, update the template list independently on errors</font></i>
  UpdateTplLists
  <i><font color=#4b5d50># then check the template for correctness</font></i>
  <b><font color=#3a6797>set</font></b> wtpl [<font color=#1b1baa>$obPrj</font> TexTemplate]
  <b><font color=#3a6797>set</font></b> namelist [<b><font color=#3a6797>set</font></b> errmess {}]
  <b><font color=#3a6797>set</font></b> margin [<b><font color=#3a6797>set</font></b> indent [<b><font color=#3a6797>set</font></b> spprev -1]]
  <b><font color=#3a6797>foreach</font></b> name [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtpl</font> get 1.0 end] \n] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$name</font>]] eq {}} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name</font>] ne [::apave::NormalizeFileName <font color=#1b1baa>$name</font>]} {
      <b><font color=#3a6797>set</font></b> errmess [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,incorrname)</font>]
      <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>set</font></b> sporig [<font color=#1b1baa>$obPrj</font> leadingSpaces <font color=#1b1baa>$name</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$margin</font>&lt;0} {<b><font color=#3a6797>set</font></b> margin <font color=#1b1baa>$sporig</font>}
    <b><font color=#3a6797>set</font></b> sp [<font color=#1b1baa>$obPrj</font> leadingSpaces [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$name</font> <font color=#1b1baa>$margin</font> end]]
    <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$name</font>]
    <b><font color=#3a6797>set</font></b> lastname {}  ;<i><font color=#4b5d50># root of project dir</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sp</font> || <font color=#1b1baa>$margin</font>&gt;<font color=#1b1baa>$sporig</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$indent</font>&lt;0} {<b><font color=#3a6797>set</font></b> indent <font color=#1b1baa>$sp</font>}
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$margin</font>&gt;<font color=#1b1baa>$sporig</font> || <font color=#1b1baa>$sp</font> % <font color=#1b1baa>$indent</font> || <font color=#1b1baa>$sp</font>&gt;(<font color=#1b1baa>$spprev</font>+<font color=#1b1baa>$indent</font>)} {
        <b><font color=#3a6797>set</font></b> errmess [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font>]  [msgcat::mc {Incorrect indentation in Project template: %n}]]
        <b><font color=#ca14ca>break</font></b>
      }
      <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$namelist</font>]} {<font color=#1b1baa>$i</font>} {} {
        <b><font color=#3a6797>incr</font></b> i -1
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$namelist</font> <font color=#1b1baa>$i</font>] n1 s1
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$s1</font>&lt;<font color=#1b1baa>$sp</font>} {
          <b><font color=#3a6797>set</font></b> lastname <font color=#1b1baa>$n1</font>/
          <b><font color=#ca14ca>break</font></b>
        }
      }
    }
    <b><font color=#3a6797>lappend</font></b> namelist [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>file</font></b> nativename <font color=#1b1baa>$lastname$name</font>] <font color=#1b1baa>$sp</font>]
    <b><font color=#3a6797>set</font></b> spprev <font color=#1b1baa>$sp</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>errmess<font color=#1b1baa>$</font>namelist&quot;</font> eq {}} {
    <b><font color=#3a6797>set</font></b> errmess {The project template is empty!}
  } <b><font color=#3a6797>elseif</font></b> {[ExistingProject yes] ne {}} {
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(prjroot)</font>]} {
    <b><font color=#3a6797>set</font></b> errmess {The project directory already exists! It isn't created with templates.}
    FocusInTab f1 [<font color=#1b1baa>$obPrj</font> chooserPath Dir]
    Message [msgcat::mc <font color=#1b1baa>$errmess</font>] 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$errmess</font> ne {}} {
    <b><font color=#3a6797>set</font></b> namelist {}  ;<i><font color=#4b5d50># skip the following foreach</font></i>
  } <b><font color=#3a6797>elseif</font></b> {![Add no]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <i><font color=#4b5d50># the template is OK -&gt; create its dir/file tree</font></i>
  <b><font color=#3a6797>foreach</font></b> fn <font color=#1b1baa>$namelist</font> {
    <b><font color=#3a6797>set</font></b> fn [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fn</font> 0]
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$fn</font>]
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> <font color=#6c3e67>-nocase</font> -- [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fn</font>] {
      README* - CHANGELOG* {
        <b><font color=#3a6797>set</font></b> err [<b><font color=#3a6797>catch</font></b> {writeTextFile <font color=#1b1baa>$fname</font> {} 1} errmess]
      }
      LICENCE* - LICENSE* {
        <b><font color=#3a6797>set</font></b> fname0 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$curinfo(prjroot)</font> <font color=#1b1baa>$fn</font>]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname0</font>]} {
          <b><font color=#3a6797>set</font></b> err [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$fname0</font> <font color=#1b1baa>$fname</font>} errmess]
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> err [<b><font color=#3a6797>catch</font></b> {writeTextFile <font color=#1b1baa>$fname</font> {} 1} errmess]
        }
      }
      <b><font color=#3a6797>default</font></b> {
        <b><font color=#3a6797>set</font></b> err [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$fname</font>} errmess]
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} <b><font color=#ca14ca>break</font></b>
    <b><font color=#3a6797>set</font></b> errmess {}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$errmess</font> ne {}} {
    FocusInTab f3 <font color=#1b1baa>$wtpl</font>
    Message [msgcat::mc <font color=#1b1baa>$errmess</font>] 4
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TipOnFile'>TipOnFile</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows info on a file in the file list as a tooltip.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TipOnFile</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>item index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_TipOnFile' href="javascript:toggleSource('alited_project_TipOnFile')">Show source</a></p>
<div id='alited_project_TipOnFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TipOnFile {idx} {
  <i><font color=#4b5d50># Shows info on a file in the file list as a tooltip.</font></i>
  <i><font color=#4b5d50>#   idx - item index</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPrj</font> LbxFlist]
  <b><font color=#3a6797>set</font></b> item [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]
  <b><font color=#ca14ca>return</font></b> [alited::file::FileStat <font color=#1b1baa>$item</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TplDefault'>TplDefault</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets default contents of project template.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TplDefault</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_TplDefault' href="javascript:toggleSource('alited_project_TplDefault')">Show source</a></p>
<div id='alited_project_TplDefault' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TplDefault {} {
  <i><font color=#4b5d50># Sets default contents of project template.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obPrj</font> CbxTpl]
  <font color=#1b1baa>$cbx</font> set Default
  <font color=#1b1baa>$cbx</font> selection clear
  <font color=#1b1baa>$obPrj</font> displayText [<font color=#1b1baa>$obPrj</font> TexTemplate] [TplDefaultText]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TplDefaultText'>TplDefaultText</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets default contents of project template.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TplDefaultText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_TplDefaultText' href="javascript:toggleSource('alited_project_TplDefaultText')">Show source</a></p>
<div id='alited_project_TplDefaultText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TplDefaultText {} {
  <i><font color=#4b5d50># Gets default contents of project template.</font></i>

  <b><font color=#ca14ca>return</font></b>  {doc
data
  hlp
  img
  msg
lib
  theme
  utils
    tkcon
src
CHANGELOG.md
LICENSE
README.md}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::UpdateMsg'>UpdateMsg</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message on project updating.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateMsg</span> <span class='ruff_arg'>msg ?showtotals?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message of action (add/change)</td></tr>
<tr><td class='ruff_defitem'><code><code>showtotals</code></code></td><td class='ruff_defitem'>if yes, shows total number of files; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_UpdateMsg' href="javascript:toggleSource('alited_project_UpdateMsg')">Show source</a></p>
<div id='alited_project_UpdateMsg' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::UpdateMsg {msg {showtotals yes}} {
  <i><font color=#4b5d50># Displays a message on project updating.</font></i>
  <i><font color=#4b5d50>#   msg - message of action (add/change)</font></i>
  <i><font color=#4b5d50>#   showtotals - if yes, shows total number of files</font></i>

  <b><font color=#3a6797>variable</font></b> totalfiles
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$showtotals</font>} {<b><font color=#3a6797>append</font></b> msg <font color=#8b2a0e>&quot; (<font color=#1b1baa>$</font>::alited::al(MC,files) : <font color=#1b1baa>$</font>totalfiles) &quot;</font>}
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::UpdateTplLists'>UpdateTplLists</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates lists of template data, setting the current template on the top.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTplLists</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_UpdateTplLists' href="javascript:toggleSource('alited_project_UpdateTplLists')">Show source</a></p>
<div id='alited_project_UpdateTplLists' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::UpdateTplLists {} {
  <i><font color=#4b5d50># Updates lists of template data, setting the current template on the top.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> wtpl [<font color=#1b1baa>$obPrj</font> TexTemplate]
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obPrj</font> CbxTpl]
  <b><font color=#3a6797>set</font></b> al(PTP,name) [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$cbx</font> get]]
  RemoveFromTplList <font color=#1b1baa>$al(PTP,name)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(PTP,name)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> al(PTP,name) Template\ #[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(PTP,names)</font>]
  }
  <b><font color=#3a6797>set</font></b> tpltext [<b><font color=#3a6797>string</font></b> trimright [<font color=#1b1baa>$wtpl</font> get 1.0 end]]
  <b><font color=#3a6797>set</font></b> al(PTP,names) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(PTP,names)</font> 0 <font color=#1b1baa>$al(PTP,name)</font>]
  <b><font color=#3a6797>set</font></b> al(PTP,list) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(PTP,list)</font> 0 <font color=#1b1baa>$al(PTP,name)</font> <font color=#1b1baa>$tpltext</font>]
  <b><font color=#3a6797>set</font></b> maxlen 16
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(PTP,names) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(PTP,names)</font> <font color=#1b1baa>$maxlen</font> end]}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(PTP,list) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(PTP,list)</font> <font color=#1b1baa>$maxlen</font>+<font color=#1b1baa>$maxlen</font> end]}
  <b><font color=#3a6797>set</font></b> ltmp [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> {n c} <font color=#1b1baa>$al(PTP,list)</font> {
    <b><font color=#3a6797>set</font></b> t {}
    <b><font color=#3a6797>foreach</font></b> l [<b><font color=#3a6797>lrange</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$c</font> \n] 0 200] {<b><font color=#3a6797>append</font></b> t [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$l</font>] \n}
    <b><font color=#3a6797>lappend</font></b> ltmp <font color=#1b1baa>$n</font> [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$t</font>]
  }
  <b><font color=#3a6797>set</font></b> al(PTP,list) <font color=#1b1baa>$ltmp</font>
  <font color=#1b1baa>$cbx</font> set <font color=#1b1baa>$al(PTP,name)</font>
  <font color=#1b1baa>$cbx</font> configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$al(PTP,names)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::UpdateTplText'>UpdateTplText</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the template text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTplText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_UpdateTplText' href="javascript:toggleSource('alited_project_UpdateTplText')">Show source</a></p>
<div id='alited_project_UpdateTplText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::UpdateTplText {} {
  <i><font color=#4b5d50># Updates the template text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(PTP,list)</font> <font color=#1b1baa>$al(PTP,name)</font>]
  <font color=#1b1baa>$obPrj</font> displayText [<font color=#1b1baa>$obPrj</font> TexTemplate] [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(PTP,list)</font> <font color=#1b1baa>$i</font>+1]
  UpdateTplLists
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::UpdateTree'>UpdateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a list of projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_UpdateTree' href="javascript:toggleSource('alited_project_UpdateTree')">Show source</a></p>
<div id='alited_project_UpdateTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::UpdateTree {} {
  <i><font color=#4b5d50># Fills a list of projects.</font></i>

  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obPrj</font> TreePrj]
  <font color=#1b1baa>$tree</font> delete [<font color=#1b1baa>$tree</font> children {}]
  <b><font color=#3a6797>foreach</font></b> prj <font color=#1b1baa>$prjlist</font> {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$prj</font>,ID) [<font color=#1b1baa>$tree</font> insert {} end <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$prj</font>]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ValidateDir'>ValidateDir</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tries to get a project name at choosing root dir.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidateDir</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ValidateDir' href="javascript:toggleSource('alited_project_ValidateDir')">Show source</a></p>
<div id='alited_project_ValidateDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ValidateDir {} {
  <i><font color=#4b5d50># Tries to get a project name at choosing root dir.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>update</font></b> idletasks ;<i><font color=#4b5d50>#  update ;# a bug of ttk?</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjname)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$al(prjroot)</font>]
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ValidateIni'>ValidateIni</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Validates values of alited.ini.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidateIni</span> <span class='ruff_arg'>V</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>V</code></code></td><td class='ruff_defitem'>%V wildcard of -validatecommand</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ValidateIni' href="javascript:toggleSource('alited_project_ValidateIni')">Show source</a></p>
<div id='alited_project_ValidateIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ValidateIni {V} {
  <i><font color=#4b5d50># Validates values of alited.ini.</font></i>
  <i><font color=#4b5d50>#   V - %V wildcard of -validatecommand</font></i>

  <b><font color=#3a6797>variable</font></b> saveini
  <b><font color=#3a6797>set</font></b> saveini yes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$V</font> eq {focusout}} {
    alited::ini::SaveIni
    <b><font color=#3a6797>set</font></b> saveini no
  }
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ValidProject'>ValidProject</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a project's options are valid.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidProject</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ValidProject' href="javascript:toggleSource('alited_project_ValidProject')">Show source</a></p>
<div id='alited_project_ValidProject' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ValidProject {} {
  <i><font color=#4b5d50># Checks if a project's options are valid.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obPrj
  <b><font color=#3a6797>variable</font></b> totalfiles
  <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(prjname)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjname)</font> eq {} || ![CheckProjectName]} {
    <b><font color=#134070>bell</font></b>
    FocusInTab f1 [<font color=#1b1baa>$obPrj</font> EntName]
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq {}} {
    <b><font color=#134070>bell</font></b>
    FocusInTab f1 [<font color=#1b1baa>$obPrj</font> chooserPath Dir]
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjuseleafRE)</font> && <font color=#1b1baa>$al(prjleafRE)</font> eq {}} {
    <b><font color=#134070>bell</font></b>
    FocusInTab f2 [<font color=#1b1baa>$obPrj</font> EntLf]
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>set</font></b> al(prjroot) [<b><font color=#3a6797>file</font></b> nativename <font color=#1b1baa>$al(prjroot)</font>]
  <b><font color=#3a6797>if</font></b> {![CheckNewDir]} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindent)</font>&lt;0 || <font color=#1b1baa>$al(prjindent)</font>&gt;8} {<b><font color=#3a6797>set</font></b> al(prjindent) 2}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjredunit)</font>&lt;<font color=#1b1baa>$al(minredunit)</font> || <font color=#1b1baa>$al(prjredunit)</font>&gt;100} {<b><font color=#3a6797>set</font></b> al(prjredunit) 20}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$al(prjroot)</font>]  [msgcat::mc {Checking %d. Wait a little...}]]
  Message <font color=#1b1baa>$msg</font> 5
  alited::tree::PrepareDirectoryContents
  <b><font color=#3a6797>set</font></b> totalfiles [<b><font color=#3a6797>llength</font></b> [alited::tree::GetDirectoryContents <font color=#1b1baa>$al(prjroot)</font>]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$totalfiles</font> &gt;= <font color=#1b1baa>$al(MAXFILES)</font>} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$al(MAXFILES)</font>]  [msgcat::mc {Too big directory for a project: %n files or more.}]]
    Message <font color=#1b1baa>$msg</font> 4
    <b><font color=#3a6797>set</font></b> res no
  } <b><font color=#3a6797>else</font></b> {
    Message {}
    <b><font color=#3a6797>set</font></b> res yes
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ViewDir'>ViewDir</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows file chooser just to view the project's dir</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ViewDir</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_project_ViewDir' href="javascript:toggleSource('alited_project_ViewDir')">Show source</a></p>
<div id='alited_project_ViewDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ViewDir {} {
  <i><font color=#4b5d50># Shows file chooser just to view the project's dir</font></i>

  alited::tool::e_menu EX=4 d=<font color=#1b1baa>$::alited::al(prjroot)</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::run'></a>::alited::run<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::run-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::run::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Dialogue to define a command for &quot;Tools/Run&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run__create' href="javascript:toggleSource('alited_run__create')">Show source</a></p>
<div id='alited_run__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::_create {} {
  <i><font color=#4b5d50># Dialogue to define a command for &quot;Tools/Run&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> vent
  alited::SaveRunOptions
  <b><font color=#3a6797>set</font></b> al(_startRunDialogue) yes
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(comForceLs)</font> 0] eq {-}} {
      <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(comForceLs)</font> 0 0]  ;<i><font color=#4b5d50># legacy</font></i>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(comForceLs)</font> 0] ne {}} {
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$al(comForceLs)</font> {}]
      <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(comForceLs)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(comForceLs)</font> 0 {}]  ;<i><font color=#4b5d50># to allow blank value</font></i>
    }
  }]} {
    <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(comForceLs)</font>] && <font color=#1b1baa>$fname</font> ne <font color=#1b1baa>$al(MC,nofile)</font>} {
    <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>list</font></b> {} <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>lassign</font></b> [alited::tool::RunArgs] ar rf ex
  <b><font color=#3a6797>set</font></b> vent <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>ar<font color=#1b1baa>$</font>rf<font color=#1b1baa>$</font>ex&quot;</font>
  <b><font color=#3a6797>set</font></b> run [::alited::ProcEOL <font color=#1b1baa>$al(prjbeforerun)</font> in]
  <font color=#1b1baa>$obRun</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$al(MC,run)</font>
  <font color=#1b1baa>$obRun</font> paveWindow <font color=#1b1baa>$win</font>.fra {
    {h_ - - 1 5}  {lab T + 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> Run:}}  {fraIn + L 1 4 {<font color=#6c3e67>-st</font> ew}}  {.Rad1 - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-tvar</font> ::alited::al(MC,inconsole) <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-var</font> ::alited::al(prjincons)}}  {.rad0 + L 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-tvar</font> ::alited::al(MC,intkcon) <font color=#6c3e67>-value</font> 0 <font color=#6c3e67>-var</font> ::alited::al(prjincons)}}  {.Rad2 + L 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-tvar</font> ::alited::al(MC,asis) <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-var</font> ::alited::al(prjincons)}}  {.h_ - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1}}  {seh1 lab T 1 5 {<font color=#6c3e67>-pady</font> 5}}  {rad3 + T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {By #RUNF: / #EXEC:} <font color=#6c3e67>-value</font> 0 <font color=#6c3e67>-var</font> ::alited::al(comForceCh) <font color=#6c3e67>-com</font> alited::run::ChbForced}}  {Ent + L 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-state</font> disabled <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> ! <font color=#6c3e67>-COMMAND</font> {[<font color=#1b1baa>$::alited::obRun</font> Ent] get} <font color=#6c3e67>-UNDER</font> 2 <font color=#6c3e67>-PER10</font> 0} <font color=#6c3e67>-tvar</font> ::alited::run::vent}}  {rad4 rad3 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {By command:} <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-var</font> ::alited::al(comForceCh) <font color=#6c3e67>-com</font> alited::run::ChbForced}}  {fiL + L 1 4 {<font color=#6c3e67>-st</font> ew} {<font color=#6c3e67>-h</font> 12 <font color=#6c3e67>-cbxsel</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(comForce)&quot;</font> <font color=#6c3e67>-clearcom</font> alited::run::DeleteForcedRun <font color=#6c3e67>-values</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(comForceLs)&quot;</font> <font color=#6c3e67>-validate</font> focus <font color=#6c3e67>-validatecommand</font> alited::run::ValidatePath}}  {fra1 rad4 T 1 5 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}  {.Tex1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-h</font> 9 <font color=#6c3e67>-afteridle</font> alited::run::FillTex1 <font color=#6c3e67>-tabnext</font> *tex2}}  {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}  {seh3 fra1 T 1 5 {<font color=#6c3e67>-pady</font> 5}}  {lab2 + T 1 5 {} {<font color=#6c3e67>-t</font> { OS or Tcl commands to be run before running a current file:}}}  {fra2 + T 1 5 {<font color=#6c3e67>-st</font> nsew}}  {.Tex2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-h</font> 4 <font color=#6c3e67>-afteridle</font> alited::run::FillTex2 <font color=#6c3e67>-tabnext</font> *butRun}}  {.sbv + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}  {seh2 fra2 T 1 5 {<font color=#6c3e67>-pady</font> 5}}  {butHelp + T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Help <font color=#6c3e67>-com</font> alited::run::Help}}  {h_2 + L 1 2 {<font color=#6c3e67>-st</font> ew}}  {fra3 + L 1 2 {<font color=#6c3e67>-st</font> e}}  {.butRun - - 1 1 {<font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Run <font color=#6c3e67>-com</font> alited::run::Run}}  {.butSave + L 1 1 {} {<font color=#6c3e67>-t</font> Save <font color=#6c3e67>-com</font> alited::run::Save}}  {.butCancel + L 1 1 {<font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-com</font> alited::run::Cancel}}  }
  ValidatePath
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; alited::run::Help
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F5&gt; alited::run::Run
  <b><font color=#3a6797>set</font></b> geo <font color=#1b1baa>$al(runGeometry)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geo</font> ne {}} {<b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry <font color=#1b1baa>$</font>geo&quot;</font>}
  <font color=#1b1baa>$obRun</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-waitvar</font> yes <font color=#6c3e67>-onclose</font> alited::run::Cancel <font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obRun</font> Rad1] <font color=#6c3e67>-decor</font> 1 <font color=#6c3e67>-minsize</font> {400 300} {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font> <font color=#6c3e67>-ontop</font> 0
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  ::apave::deiconify <font color=#1b1baa>$al(WIN)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run__run' href="javascript:toggleSource('alited_run__run')">Show source</a></p>
<div id='alited_run__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::_run {} {
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
    ::apave::withdraw <font color=#1b1baa>$win</font>
    ::apave::deiconify <font color=#1b1baa>$win</font>
  } <b><font color=#3a6797>else</font></b> {
    _create
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_Cancel' href="javascript:toggleSource('alited_run_Cancel')">Show source</a></p>
<div id='alited_run_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::Cancel {args} {
  <i><font color=#4b5d50># Handles hitting &quot;Cancel&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>variable</font></b> win
  alited::RestoreRunOptions
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> al(runGeometry) [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
    <font color=#1b1baa>$obRun</font> res <font color=#1b1baa>$win</font> 0
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::ChbForced'>ChbForced</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks states &amp; values of widgets.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChbForced</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_ChbForced' href="javascript:toggleSource('alited_run_ChbForced')">Show source</a></p>
<div id='alited_run_ChbForced' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::ChbForced {} {
  <i><font color=#4b5d50># Checks states & values of widgets.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(comForceCh)</font>} {<b><font color=#3a6797>set</font></b> state normal} {<b><font color=#3a6797>set</font></b> state disabled}
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obRun</font> CbxfiL]
  <b><font color=#3a6797>set</font></b> but [<b><font color=#3a6797>string</font></b> map {.cbx .btT} <font color=#1b1baa>$cbx</font>] ;<i><font color=#4b5d50># path to combobox' button</font></i>
  <font color=#1b1baa>$cbx</font> configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  <font color=#1b1baa>$but</font> configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  [<font color=#1b1baa>$obRun</font> Tex1] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  FillTex1
  ValidatePath
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::DeleteForcedRun'>DeleteForcedRun</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears current combobox' value.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteForcedRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_DeleteForcedRun' href="javascript:toggleSource('alited_run_DeleteForcedRun')">Show source</a></p>
<div id='alited_run_DeleteForcedRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::DeleteForcedRun {} {
  <i><font color=#4b5d50># Clears current combobox' value.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obRun</font> CbxfiL]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$cbx</font> get]]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> values [<font color=#1b1baa>$cbx</font> cget <font color=#6c3e67>-values</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$values</font> <font color=#1b1baa>$val</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$values</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    <font color=#1b1baa>$cbx</font> configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$al(comForceLs)</font>
  }
  <font color=#1b1baa>$cbx</font> set {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::FillCbx'>FillCbx</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fill the command combobox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillCbx</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_FillCbx' href="javascript:toggleSource('alited_run_FillCbx')">Show source</a></p>
<div id='alited_run_FillCbx' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::FillCbx {args} {
  <i><font color=#4b5d50># Fill the command combobox.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(comForceCh)</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> tex1 [<font color=#1b1baa>$::alited::obRun</font> Tex1]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(comForceCh)</font> || [<b><font color=#134070>focus</font></b>] ne <font color=#1b1baa>$tex1</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obRun</font> CbxfiL]
  <b><font color=#3a6797>set</font></b> lst [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> curline {}
  <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$tex1</font> index insert])}]
  <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$tex1</font> get 1.0 end] \n] {
    <b><font color=#3a6797>incr</font></b> l
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l</font>==1 || [<b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>]] ne {}} {
      <b><font color=#3a6797>lappend</font></b> lst <font color=#1b1baa>$line</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l</font>==<font color=#1b1baa>$l1</font>} {
      <b><font color=#3a6797>set</font></b> curline <font color=#1b1baa>$line</font>
    }
  }
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$lst</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>&lt;<font color=#1b1baa>$al(prjmaxcoms)</font>} {
    alited::Message {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(run_checkmaxcomms)] && <font color=#1b1baa>$al(run_checkmaxcomms)</font>} {
      <b><font color=#3a6797>set</font></b> mm 4 ;<i><font color=#4b5d50># bell + red message</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> mm 6 ;<i><font color=#4b5d50># only red message</font></i>
    }
    <b><font color=#3a6797>set</font></b> al(run_checkmaxcomms) 0
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Maximum commands reached: %n, current: %i (see Project/Options)}]
    alited::Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %i <font color=#1b1baa>$llen</font> %n <font color=#1b1baa>$al(prjmaxcoms)</font>] <font color=#1b1baa>$msg</font>] <font color=#1b1baa>$mm</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$lst</font> 0] ne {}} {<b><font color=#3a6797>set</font></b> lst [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$lst</font> 0 {}]}
  <font color=#1b1baa>$cbx</font> configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$lst</font>
  <b><font color=#3a6797>set</font></b> curline [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$curline</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curline</font> ne {}} {
    <font color=#1b1baa>$cbx</font> set <font color=#1b1baa>$curline</font>
    <b><font color=#134070>selection</font></b> clear <font color=#6c3e67>-displayof</font> <font color=#1b1baa>$cbx</font>
    <font color=#1b1baa>$cbx</font> selection range 0 end
  }
  RunOptions
  ValidatePath
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::FillTex1'>FillTex1</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills command content text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillTex1</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_FillTex1' href="javascript:toggleSource('alited_run_FillTex1')">Show source</a></p>
<div id='alited_run_FillTex1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::FillTex1 {args} {
  <i><font color=#4b5d50># Fills command content text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>set</font></b> tex1 [<font color=#1b1baa>$::alited::obRun</font> Tex1]
  <b><font color=#3a6797>set</font></b> tex2 [<font color=#1b1baa>$::alited::obRun</font> Tex2]
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obRun</font> CbxfiL]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(_startRunDialogue)</font>} {
    <b><font color=#3a6797>set</font></b> al(_startRunDialogue) no
    InitTex12 <font color=#1b1baa>$tex1</font> <font color=#1b1baa>$tex2</font> <font color=#1b1baa>$cbx</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(comForceCh)</font>} {
    <font color=#1b1baa>$obRun</font> displayText <font color=#1b1baa>$tex1</font> [[<font color=#1b1baa>$::alited::obRun</font> Ent] get]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>focus</font></b>] eq <font color=#1b1baa>$tex1</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> com [<font color=#1b1baa>$cbx</font> get]
  <b><font color=#3a6797>set</font></b> coms {}
  <b><font color=#3a6797>set</font></b> l1 0
  <b><font color=#3a6797>foreach</font></b> c [<font color=#1b1baa>$cbx</font> cget <font color=#6c3e67>-values</font>] {
    <b><font color=#3a6797>incr</font></b> l
    <b><font color=#3a6797>set</font></b> c [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$c</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$c</font> eq <font color=#1b1baa>$com</font> && !<font color=#1b1baa>$l1</font>} {<b><font color=#3a6797>set</font></b> l1 <font color=#1b1baa>$l</font>}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$c</font> ne {}} {
      <b><font color=#3a6797>append</font></b> coms <font color=#1b1baa>$c</font>\n\n
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l1</font>} {
    <b><font color=#3a6797>catch</font></b> {::tk::TextSetCursor <font color=#1b1baa>$tex1</font> <font color=#1b1baa>$l1</font>.0}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> coms <font color=#1b1baa>$com</font>\n\n<font color=#1b1baa>$coms</font>
  }
  <font color=#1b1baa>$obRun</font> displayText <font color=#1b1baa>$tex1</font> <font color=#1b1baa>$coms</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::FillTex2'>FillTex2</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills &quot;commands before running&quot; text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillTex2</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_FillTex2' href="javascript:toggleSource('alited_run_FillTex2')">Show source</a></p>
<div id='alited_run_FillTex2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::FillTex2 {args} {
  <i><font color=#4b5d50># Fills &quot;commands before running&quot; text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>set</font></b> tex2 [<font color=#1b1baa>$::alited::obRun</font> Tex2]
  <font color=#1b1baa>$obRun</font> displayText <font color=#1b1baa>$tex2</font> [::alited::ProcEOL [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(prjbeforerun)</font>] in]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows Run's help.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_Help' href="javascript:toggleSource('alited_run_Help')">Show source</a></p>
<div id='alited_run_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::Help {} {
  <i><font color=#4b5d50># Shows Run's help.</font></i>

  alited::HelpAlited #runme
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::InitTex12'>InitTex12</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes texts &amp; combobox (colors, events, highlighting etc.).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitTex12</span> <span class='ruff_arg'>tex1 tex2 cbx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tex1</code></code></td><td class='ruff_defitem'>1st text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tex2</code></code></td><td class='ruff_defitem'>2nd text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>cbx</code></code></td><td class='ruff_defitem'>compobox's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_InitTex12' href="javascript:toggleSource('alited_run_InitTex12')">Show source</a></p>
<div id='alited_run_InitTex12' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::InitTex12 {tex1 tex2 cbx} {
  <i><font color=#4b5d50># Initializes texts & combobox (colors, events, highlighting etc.).</font></i>
  <i><font color=#4b5d50>#   tex1 - 1st text's path</font></i>
  <i><font color=#4b5d50>#   tex2 - 2nd text's path</font></i>
  <i><font color=#4b5d50>#   cbx - compobox's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  ::hl_tcl::hl_init <font color=#1b1baa>$tex1</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obRun</font> csDark] <font color=#6c3e67>-plaintext</font> 1  <font color=#6c3e67>-cmd</font> ::alited::run::FillCbx <font color=#6c3e67>-cmdpos</font> ::alited::run::FillCbx  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT)</font> <font color=#6c3e67>-dobind</font> yes
  ::hl_tcl::hl_text <font color=#1b1baa>$tex1</font>
  ::hl_tcl::hl_init <font color=#1b1baa>$tex2</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obRun</font> csDark] <font color=#6c3e67>-plaintext</font> 1  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT)</font> <font color=#6c3e67>-cmdpos</font> ::apave::None <font color=#6c3e67>-dobind</font> yes
  ::hl_tcl::hl_text <font color=#1b1baa>$tex2</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tex1</font> &lt;FocusIn&gt; {<b><font color=#3a6797>set</font></b> ::alited::al(run_checkmaxcomms) 1}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$cbx</font> &lt;FocusOut&gt; alited::run::FillTex1
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$cbx</font> &lt;&lt;ComboboxSelected&gt;&gt; alited::run::FillTex1
  ChbForced
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::Run'>Run</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a command of &quot;Run...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_Run' href="javascript:toggleSource('alited_run_Run')">Show source</a></p>
<div id='alited_run_Run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::Run {} {
  <i><font color=#4b5d50># Runs a command of &quot;Run...&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$win</font> <font color=#6c3e67>-topmost</font> 0  ;<i><font color=#4b5d50># let Run dialogue be hidden</font></i>
  RunOptions
  <b><font color=#3a6797>if</font></b> {![alited::file::IsTcl [alited::bar::FileName]]} {
    <b><font color=#3a6797>set</font></b> in {}
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(prjincons)</font>==1} {
    <b><font color=#3a6797>set</font></b> in terminal
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(prjincons)</font>==2} {
    <b><font color=#3a6797>set</font></b> in {as is}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> in tkcon
  }
  alited::tool::_run {} <font color=#1b1baa>$in</font> <font color=#6c3e67>-doit</font> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::RunOptions'>RunOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets options of &quot;Run...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunOptions</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_RunOptions' href="javascript:toggleSource('alited_run_RunOptions')">Show source</a></p>
<div id='alited_run_RunOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::RunOptions {args} {
  <i><font color=#4b5d50># Sets options of &quot;Run...&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obRun</font> CbxfiL]
  <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$cbx</font> get]]
  <b><font color=#3a6797>set</font></b> al(comForce) <font color=#1b1baa>$com</font>
  <b><font color=#3a6797>set</font></b> al(comForceLs) [<font color=#1b1baa>$cbx</font> cget <font color=#6c3e67>-values</font>]
  <b><font color=#3a6797>set</font></b> befrun [[<font color=#1b1baa>$obRun</font> Tex2] get 1.0 end]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
    <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(comForceLs)</font> <font color=#1b1baa>$com</font>]
    <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(comForceLs)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(comForceLs)</font>]&lt;2} {<b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>list</font></b> {}]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(comForceLs)</font> 1 <font color=#1b1baa>$com</font>]
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(comForceLs)</font>]} {<font color=#1b1baa>$i</font>&gt;1} {} {
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(comForceLs)</font> <font color=#1b1baa>$i</font>]] eq {}} {
      <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(comForceLs)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
  }
  <b><font color=#3a6797>set</font></b> al(comForceLs) [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$al(comForceLs)</font> 0 <font color=#1b1baa>$al(prjmaxcoms)</font>]
  <b><font color=#3a6797>set</font></b> al(prjbeforerun) [::alited::ProcEOL [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$befrun</font>] out]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::Save'>Save</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves settings of &quot;Run...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Save</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_Save' href="javascript:toggleSource('alited_run_Save')">Show source</a></p>
<div id='alited_run_Save' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::Save {} {
  <i><font color=#4b5d50># Saves settings of &quot;Run...&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> al(runGeometry) [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  RunOptions
  alited::SaveRunOptions
  alited::ini::SaveIniPrj
  alited::main::UpdateProjectInfo
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obRun</font> res <font color=#1b1baa>$win</font> 1}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run::ValidatePath'>ValidatePath</a><span class='ns_scope'> [<a href="alited.html#::alited::run" title="::alited::run" class='ruff_cmd'>::alited::run</a>]</span><span class='tinylink'><a href='alited.html#::alited::run'>run</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Validates a path chosen from the file picker.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidatePath</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_run_ValidatePath' href="javascript:toggleSource('alited_run_ValidatePath')">Show source</a></p>
<div id='alited_run_ValidatePath' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run::ValidatePath {} {
  <i><font color=#4b5d50># Validates a path chosen from the file picker.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obRun obRun
  <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obRun</font> CbxfiL]
  <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$cbx</font> get]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$com</font>]} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$com</font>]]&gt;1} {
      <b><font color=#3a6797>set</font></b> com <font color=#8b2a0e>&quot;\&quot;<font color=#1b1baa>$</font>com\&quot;&quot;</font>
    }
    <font color=#1b1baa>$cbx</font> set [<b><font color=#3a6797>file</font></b> nativename <font color=#1b1baa>$com</font>]
  }
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::tool'></a>::alited::tool<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::tool-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::tool::_close'>_close</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes e_menu (being an internal procedure) by force.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_close</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool__close' href="javascript:toggleSource('alited_tool__close')">Show source</a></p>
<div id='alited_tool__close' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::_close {{fname {}}} {
  <i><font color=#4b5d50># Closes e_menu (being an internal procedure) by force.</font></i>

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> .em}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu's item of menu.em.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?what? ?runmode? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>the item (by default, &quot;Run me&quot;); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>runmode</code></code></td><td class='ruff_defitem'>mode of running (in console or in tkcon); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool__run' href="javascript:toggleSource('alited_tool__run')">Show source</a></p>
<div id='alited_tool__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::_run {{what {}} {runmode {}} args} {
  <i><font color=#4b5d50># Runs e_menu's item of menu.em.</font></i>
  <i><font color=#4b5d50>#   what - the item (by default, &quot;Run me&quot;)</font></i>
  <i><font color=#4b5d50>#   runmode - mode of running (in console or in tkcon)</font></i>
  <i><font color=#4b5d50>#   args - additional options</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[is_emenu]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> opts <font color=#8b2a0e>&quot;EX=<font color=#1b1baa>$</font>what&quot;</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$what</font> eq {}} {
    <b><font color=#3a6797>set</font></b> doit [::apave::extractOptions args <font color=#6c3e67>-doit</font> 0]
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$::alited::DEBUG</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,exec)</font>} {
        <b><font color=#3a6797>set</font></b> fpid [alited::TmpFile .pid~]
        <b><font color=#3a6797>set</font></b> pid [readTextFile <font color=#1b1baa>$fpid</font>]
      } <b><font color=#3a6797>else</font></b> {
        ::alited::Source_e_menu ;<i><font color=#4b5d50># e_menu is &quot;internal&quot;</font></i>
        <b><font color=#3a6797>set</font></b> pid [::em::pID]
        ::em::pID 0
      }
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pid</font>&gt;0} {<b><font color=#3a6797>exec</font></b> kill <font color=#6c3e67>-s</font> SIGINT <font color=#1b1baa>$pid</font>}
      }
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::pID</font>&gt;0} {<b><font color=#3a6797>exec</font></b> kill <font color=#6c3e67>-s</font> SIGINT <font color=#1b1baa>$::alited::pID</font>}
      }
      <b><font color=#3a6797>set</font></b> ::alited::pID 0
    }
    <b><font color=#3a6797>set</font></b> fnameCur [alited::bar::FileName]
    <b><font color=#3a6797>set</font></b> com [PrepareRunCommand <font color=#1b1baa>$al(prjbeforerun)</font> <font color=#1b1baa>$fnameCur</font>]
    Runs {} <font color=#1b1baa>$com</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjincons)</font>==2} {  ;<i><font color=#4b5d50># run &quot;as is&quot;</font></i>
      EM_SaveFiles
      <b><font color=#3a6797>if</font></b> {[ComForced]} {
        <b><font color=#3a6797>set</font></b> com <font color=#1b1baa>$al(comForce)</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>lassign</font></b> [alited::tool::RunArgs] ar rf ex
        <b><font color=#3a6797>set</font></b> com <font color=#1b1baa>$ar$rf$ex</font>
      }
      <b><font color=#3a6797>set</font></b> com [PrepareRunCommand <font color=#1b1baa>$com</font> <font color=#1b1baa>$fnameCur</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$com</font>] ne {}} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$com</font> end] ne {&}} {<b><font color=#3a6797>append</font></b> com { &}}
        <b><font color=#3a6797>exec</font></b> -- {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$com</font>
        <b><font color=#ca14ca>return</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {[alited::file::IsTcl <font color=#1b1baa>$fnameCur</font>]} CheckTcl
    <b><font color=#3a6797>if</font></b> {[ComForced]} {
      <b><font color=#3a6797>set</font></b> com [PrepareRunCommand <font color=#1b1baa>$al(comForce)</font> <font color=#1b1baa>$fnameCur</font>]
      Run_in_e_menu <font color=#1b1baa>$com</font> <font color=#1b1baa>$fnameCur</font>
      <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>if</font></b> {[RunTcl <font color=#1b1baa>$runmode</font>]} <b><font color=#ca14ca>return</font></b>
    <b><font color=#3a6797>set</font></b> opts <font color=#8b2a0e>&quot;EX=1 PI=1 <font color=#1b1baa>[</font>SHarg<font color=#1b1baa>]</font>&quot;</font>
  }
  e_menu {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font> tc=[alited::Tclexe] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::AddTooltipRun'>AddTooltipRun</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Addition to Run's tooltip.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddTooltipRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_AddTooltipRun' href="javascript:toggleSource('alited_tool_AddTooltipRun')">Show source</a></p>
<div id='alited_tool_AddTooltipRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::AddTooltipRun {} {
  <i><font color=#4b5d50># Addition to Run's tooltip.</font></i>

  <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;\n\nCtrl+click = <font color=#1b1baa>$</font>::alited::al(acc_22) = <font color=#1b1baa>$</font>::alited::al(acc_2) + F4&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::AfterStart'>AfterStart</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs commands after starting alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterStart</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_AfterStart' href="javascript:toggleSource('alited_tool_AfterStart')">Show source</a></p>
<div id='alited_tool_AfterStart' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::AfterStart {} {
  <i><font color=#4b5d50># Runs commands after starting alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  Runs <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,afterstart) :&quot;</font> <font color=#1b1baa>$al(afterstart)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::AfterStartDlg'>AfterStartDlg</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Dialogue &quot;Setup/For Start&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterStartDlg</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_AfterStartDlg' href="javascript:toggleSource('alited_tool_AfterStartDlg')">Show source</a></p>
<div id='alited_tool_AfterStartDlg' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::AfterStartDlg {} {
  <i><font color=#4b5d50># Dialogue &quot;Setup/For Start&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> lab [msgcat::mc <font color=#8b2a0e>&quot; Enter commands to be run after starting alited.\n They can be Tcl or executables:&quot;</font>]
  <b><font color=#3a6797>set</font></b> run [::alited::ProcEOL <font color=#1b1baa>$al(afterstart)</font> in]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$al(MC,afterstart)</font> [<b><font color=#3a6797>list</font></b>  lab [<b><font color=#3a6797>list</font></b> {} {<font color=#6c3e67>-pady</font> 8} [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-t</font> <font color=#1b1baa>$lab</font>]] {}  tex <font color=#8b2a0e>&quot;<font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 80 -h 16 -tabnext <font color=#1b1baa>{</font>butOK butCANCEL<font color=#1b1baa>}</font> -afteridle <font color=#1b1baa>{</font>alited::tool::AfterStartSyntax %w<font color=#1b1baa>}}</font>&quot;</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>run&quot;</font> ]  <font color=#6c3e67>-help</font> {alited::HelpAlited #forstart}] res run
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> al(afterstart) [::alited::ProcEOL [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$run</font>] out]
    alited::ini::SaveIni
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::AfterStartSyntax'>AfterStartSyntax</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlight &quot;Setup/For Start&quot; text's syntax, at least Tcl part of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterStartSyntax</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_AfterStartSyntax' href="javascript:toggleSource('alited_tool_AfterStartSyntax')">Show source</a></p>
<div id='alited_tool_AfterStartSyntax' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::AfterStartSyntax {w} {
  <i><font color=#4b5d50># Highlight &quot;Setup/For Start&quot; text's syntax, at least Tcl part of it.</font></i>
  <i><font color=#4b5d50>#   w - the text's path</font></i>

  alited::SyntaxHighlight tcl <font color=#1b1baa>$w</font> [alited::SyntaxColors]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::aloupePath'>aloupePath</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets aloupe ini file's path.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>aloupePath</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_aloupePath' href="javascript:toggleSource('alited_tool_aloupePath')">Show source</a></p>
<div id='alited_tool_aloupePath' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::aloupePath {} {
  <i><font color=#4b5d50># Gets aloupe ini file's path.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited USERDIR USERDIR
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$USERDIR</font> aloupe.conf]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::CheckTcl'>CheckTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check a current unit for errors, before running Tcl file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckTcl</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_CheckTcl' href="javascript:toggleSource('alited_tool_CheckTcl')">Show source</a></p>
<div id='alited_tool_CheckTcl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::CheckTcl {} {
  <i><font color=#4b5d50># Check a current unit for errors, before running Tcl file.</font></i>

  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine {} 1] - - leaf - name l1 l2
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$leaf</font>] && <font color=#1b1baa>$name</font> ne {}} {
    alited::CheckSource
    alited::info::ClearRed
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>set</font></b> err [alited::check::CheckUnit <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end <font color=#1b1baa>$TID</font> <font color=#1b1baa>$name</font> yes yes]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Errors found in unit:}]\ <font color=#1b1baa>$name</font>
      alited::Message <font color=#1b1baa>$msg</font> 4
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::ColorPicker'>ColorPicker</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a color picker passing to it and getting from it a color.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorPicker</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_ColorPicker' href="javascript:toggleSource('alited_tool_ColorPicker')">Show source</a></p>
<div id='alited_tool_ColorPicker' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::ColorPicker {} {
  <i><font color=#4b5d50># Calls a color picker passing to it and getting from it a color.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al PAVEDIR PAVEDIR
  <b><font color=#3a6797>lassign</font></b> [alited::find::GetWordOfText 2] color pos1 pos2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$color</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(chosencolor) <font color=#1b1baa>$color</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands ::aloupe::run] eq {}} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>source</font></b> [SrcPath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$PAVEDIR</font> pickers color aloupe aloupe.tcl]]}
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is boolean <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(moveall)</font>]} {<b><font color=#3a6797>set</font></b> al(moveall) 0}
  <b><font color=#3a6797>lassign</font></b> [LineCoordinates] X Y
  <b><font color=#3a6797>set</font></b> res [obj chooser colorChooser ::alited::al(chosencolor)  <font color=#6c3e67>-moveall</font> <font color=#1b1baa>$al(moveall)</font> <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-geometry</font> +<font color=#1b1baa>$X</font>+<font color=#1b1baa>$Y</font>  <font color=#6c3e67>-inifile</font> [aloupePath] <font color=#6c3e67>-ontop</font> [::asKDE]]
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> [::tk::dialog::color::GetOptions] al(moveall)}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(chosencolor) <font color=#1b1baa>$res</font>
    InsertInText <font color=#1b1baa>$res</font> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>
  }
  alited::FocusText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::ComForced'>ComForced</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks whether a forced command is set.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ComForced</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_ComForced' href="javascript:toggleSource('alited_tool_ComForced')">Show source</a></p>
<div id='alited_tool_ComForced' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::ComForced {} {
  <i><font color=#4b5d50># Checks whether a forced command is set.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$::alited::al(comForceCh)</font> &&  [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$::alited::al(comForce)</font>] ni {- {}}}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::DatePicker'>DatePicker</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a calendar to pick a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DatePicker</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_DatePicker' href="javascript:toggleSource('alited_tool_DatePicker')">Show source</a></p>
<div id='alited_tool_DatePicker' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::DatePicker {} {
  <i><font color=#4b5d50># Calls a calendar to pick a date.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [alited::find::GetWordOfText 2] date pos1 pos2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$date</font> ne {}  && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>clock</font></b> scan <font color=#1b1baa>$date</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$al(TPL,%d)</font>}]} {
    <b><font color=#3a6797>set</font></b> al(klnddate) <font color=#1b1baa>$date</font>
  } <b><font color=#3a6797>elseif</font></b> {![<b><font color=#3a6797>info</font></b> exists al(klnddate)]} {
    <b><font color=#3a6797>set</font></b> al(klnddate) [FormatDate]
  }
  <b><font color=#3a6797>lassign</font></b> [LineCoordinates] X Y
  <b><font color=#3a6797>set</font></b> res [obj chooser dateChooser ::alited::al(klnddate)  <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-geometry</font> +<font color=#1b1baa>$X</font>+<font color=#1b1baa>$Y</font> <font color=#6c3e67>-dateformat</font> <font color=#1b1baa>$al(TPL,%d)</font>  <font color=#6c3e67>-weeks</font> <font color=#1b1baa>$al(klndweeks)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(klnddate) <font color=#1b1baa>$res</font>
    InsertInText <font color=#1b1baa>$res</font>
  }
  alited::FocusText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu'>e_menu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>arguments of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an external application or an internal procedure, depending on e_menu's preferences.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_e_menu' href="javascript:toggleSource('alited_tool_e_menu')">Show source</a></p>
<div id='alited_tool_e_menu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::e_menu {args} {
  <i><font color=#4b5d50># Runs e_menu.</font></i>
  <i><font color=#4b5d50>#   args - arguments of e_menu</font></i>
  <i><font color=#4b5d50># The e_menu is run as an external application or an internal procedure,</font></i>
  <i><font color=#4b5d50># depending on e_menu's preferences.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lappend</font></b> args {<b><font color=#3a6797>*</font></b>}[EM_optionTF {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
  <b><font color=#3a6797>if</font></b> {{EX=Help} ni <font color=#1b1baa>$args</font>} {
    EM_SaveFiles
    <b><font color=#3a6797>if</font></b> {![is_mainmenu <font color=#1b1baa>$args</font>]} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> p [<b><font color=#3a6797>string</font></b> first + <font color=#1b1baa>$al(EM,geometry)</font>]]&gt;-1} {
        <b><font color=#3a6797>set</font></b> g [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$al(EM,geometry)</font> <font color=#1b1baa>$p</font> end]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> g {}
      }
      <b><font color=#3a6797>append</font></b> args <font color=#8b2a0e>&quot; g=<font color=#1b1baa>$</font>g&quot;</font>  ;<i><font color=#4b5d50># should be last, to override previous settings</font></i>
    }
    <b><font color=#3a6797>if</font></b> {[EM_menuhere grep <font color=#1b1baa>$args</font>]} {
      <b><font color=#3a6797>append</font></b> args { NE=1}  ;<i><font color=#4b5d50># let him search till closing the search dialogue</font></i>
    }
  }
  <b><font color=#3a6797>if</font></b> {[EM_menuhere menu <font color=#1b1baa>$args</font>] && {ex=d} in <font color=#1b1baa>$args</font> && <font color=#1b1baa>$al(BACKUP)</font> ne {}} {
    <i><font color=#4b5d50># Differences of a file & its backup: get the backup's name</font></i>
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>lassign</font></b> [alited::edit::BackupDirFileNames <font color=#1b1baa>$TID</font>] dir fname fname2
    <i><font color=#4b5d50>#set fname2 [alited::edit::BackupFileName $fname2 0]</font></i>
    <b><font color=#3a6797>append</font></b> args <font color=#8b2a0e>&quot; \&quot;BF=<font color=#1b1baa>$</font>fname2\&quot;&quot;</font>  ;<i><font color=#4b5d50># version before 1st change</font></i>
  }
  <b><font color=#3a6797>if</font></b> {{EX=1} ni <font color=#1b1baa>$args</font>} {
    <b><font color=#3a6797>append</font></b> args { AL=1}  ;<i><font color=#4b5d50># to read a current file only at &quot;Run me&quot;</font></i>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$args</font> {SH=1}]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> args [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$args</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> [SHarg]]
  }
  <i><font color=#4b5d50># check options for compatibility</font></i>
  <b><font color=#3a6797>set</font></b> itc [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$args</font> tc=*]
  <b><font color=#3a6797>set</font></b> iee [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$args</font> ee=*]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itc</font>&gt;-1 && <font color=#1b1baa>$iee</font>&gt;-1 && <font color=#1b1baa>$al(prjincons)</font>} {
    <b><font color=#3a6797>set</font></b> ee [<b><font color=#3a6797>string</font></b> range [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> <font color=#1b1baa>$iee</font>] 3 end]
    <b><font color=#3a6797>if</font></b> {![alited::file::IsTcl <font color=#1b1baa>$ee</font>]} {
      <b><font color=#3a6797>set</font></b> args [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$args</font> <font color=#1b1baa>$itc</font> <font color=#1b1baa>$itc</font>] ;<i><font color=#4b5d50># not a Tcl file - can't be run with tclsh</font></i>
    }
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$itc</font>==-1 && <font color=#1b1baa>$iee</font>==-1 && <font color=#1b1baa>$al(prjincons)</font>} {
    <b><font color=#3a6797>lappend</font></b> args tc=[alited::Tclexe]  ;<i><font color=#4b5d50># for console - set &quot;path to tclsh&quot; argument</font></i>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::al(EM,exec)</font>} {
    e_menu1 <font color=#1b1baa>$args</font>
  } <b><font color=#3a6797>else</font></b> {
    e_menu2 <font color=#1b1baa>$args</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu1'>e_menu1</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu1</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>options of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an external application.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_e_menu1' href="javascript:toggleSource('alited_tool_e_menu1')">Show source</a></p>
<div id='alited_tool_e_menu1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::e_menu1 {opts} {
  <i><font color=#4b5d50># Runs e_menu.</font></i>
  <i><font color=#4b5d50>#   opts - options of e_menu</font></i>
  <i><font color=#4b5d50># The e_menu is run as an external application.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,ownCS)</font>} {
    <b><font color=#3a6797>set</font></b> cs <font color=#1b1baa>$al(EM,CS)</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> cs <font color=#1b1baa>$al(INI,CS)</font>  ;<i><font color=#4b5d50># without tinting: e_menu hasn't the tint option</font></i>
  }
  <b><font color=#3a6797>set</font></b> opts [EM_Options <font color=#1b1baa>$opts</font>]
  <b><font color=#3a6797>set</font></b> opts <font color=#8b2a0e>&quot;c=<font color=#1b1baa>$</font>cs fs=<font color=#1b1baa>$</font>al(FONTSIZE,std) <font color=#1b1baa>$</font>opts&quot;</font>
  <b><font color=#3a6797>set</font></b> th <font color=#1b1baa>$al(THEME)</font>
  <i><font color=#4b5d50># cs= and fs= can be reset in EM_Options</font></i>
  <b><font color=#3a6797>foreach</font></b> o [<b><font color=#3a6797>list</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match c=* <font color=#1b1baa>$o</font>]}  {<b><font color=#3a6797>set</font></b> cs [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$o</font> 2 end]}
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match th=* <font color=#1b1baa>$o</font>]} {<b><font color=#3a6797>set</font></b> th [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$o</font> 3 end]}
  }
  <b><font color=#3a6797>set</font></b> thdark [<font color=#1b1baa>$obPav</font> thDark <font color=#1b1baa>$th</font>]
  <b><font color=#3a6797>set</font></b> csdark [<font color=#1b1baa>$obPav</font> csDark <font color=#1b1baa>$cs</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$thdark</font>==1 && !<font color=#1b1baa>$csdark</font> || <font color=#1b1baa>$thdark</font>==0 && <font color=#1b1baa>$csdark</font>} {
    <b><font color=#3a6797>set</font></b> opts <font color=#8b2a0e>&quot;th=default <font color=#1b1baa>$</font>opts th=default&quot;</font> ;<i><font color=#4b5d50># default theme fits any CS</font></i>
  }
  <b><font color=#3a6797>set</font></b> e_menu [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::e_menu_dir</font> e_menu.tcl]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {alited::Run <font color=#1b1baa>$e_menu</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>} err]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#8b2a0e>&quot;Incorrect \&quot;Preferences/Tools/tclsh...\&quot;\nresults in the error:&quot;</font>]
    alited::Msg <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>msg\n\n<font color=#1b1baa>$</font>e_menu <font color=#1b1baa>$</font>opts\n\n==&gt;\n<font color=#1b1baa>$</font>err&quot;</font> err <font color=#6c3e67>-w</font> {50 80} <font color=#6c3e67>-h</font> {9 24}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu2'>e_menu2</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu2</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>options of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an internal procedure.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_e_menu2' href="javascript:toggleSource('alited_tool_e_menu2')">Show source</a></p>
<div id='alited_tool_e_menu2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::e_menu2 {opts} {
  <i><font color=#4b5d50># Runs e_menu.</font></i>
  <i><font color=#4b5d50>#   opts - options of e_menu</font></i>
  <i><font color=#4b5d50># The e_menu is run as an internal procedure.</font></i>

  ::alited::Source_e_menu
  ::apave::cs_Active no ;<i><font color=#4b5d50># no CS changes by e_menu</font></i>
  <b><font color=#3a6797>if</font></b> {[is_emenu]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> options [EM_Options <font color=#1b1baa>$opts</font>]
  ::em::main <font color=#6c3e67>-prior</font> 1 <font color=#6c3e67>-modal</font> 0 <font color=#6c3e67>-remain</font> 0 <font color=#6c3e67>-noCS</font> 1 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$options</font>
  <b><font color=#3a6797>set</font></b> maingeo [::em::menuOption <font color=#1b1baa>$::alited::al(EM,mnu)</font> geometry]
  <b><font color=#3a6797>if</font></b> {[is_mainmenu <font color=#1b1baa>$options</font>] && <font color=#1b1baa>$maingeo</font> ne {}} {
    <b><font color=#3a6797>set</font></b> ::alited::al(EM,geometry) <font color=#1b1baa>$maingeo</font>
  }
  ::apave::cs_Active yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu3'>e_menu3</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares TF= argument for e_menu and runs e_menu's main menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_e_menu3' href="javascript:toggleSource('alited_tool_e_menu3')">Show source</a></p>
<div id='alited_tool_e_menu3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::e_menu3 {} {
  <i><font color=#4b5d50># Prepares TF= argument for e_menu and runs e_menu's main menu.</font></i>

  e_menu o=0 {<b><font color=#3a6797>*</font></b>}[EM_optionTF]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_AllStructure'>EM_AllStructure</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets all items of all menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_AllStructure</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>a root menu's file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_AllStructure' href="javascript:toggleSource('alited_tool_EM_AllStructure')">Show source</a></p>
<div id='alited_tool_EM_AllStructure' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_AllStructure {mnu} {
  <i><font color=#4b5d50># Gets all items of all menus.</font></i>
  <i><font color=#4b5d50>#   mnu - a root menu's file name</font></i>

  <b><font color=#3a6797>set</font></b> ::alited::al(EM_STRUCTURE) [<b><font color=#3a6797>list</font></b>]
  EM_AllStructure1 <font color=#1b1baa>$mnu</font> 0
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$::alited::al(EM_STRUCTURE)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_AllStructure1'>EM_AllStructure1</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets recursively all items of all menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_AllStructure1</span> <span class='ruff_arg'>mnu lev</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>a current menu's file name</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>a current level of menu</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_AllStructure1' href="javascript:toggleSource('alited_tool_EM_AllStructure1')">Show source</a></p>
<div id='alited_tool_EM_AllStructure1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_AllStructure1 {mnu lev} {
  <i><font color=#4b5d50># Gets recursively all items of all menus.</font></i>
  <i><font color=#4b5d50>#   mnu - a current menu's file name</font></i>
  <i><font color=#4b5d50>#   lev - a current level of menu</font></i>

  <b><font color=#3a6797>foreach</font></b> mit [EM_Structure <font color=#1b1baa>$mnu</font>] {
    <b><font color=#3a6797>incr</font></b> i
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$mit</font> mnu item
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match {M-*} <font color=#1b1baa>$item</font>]} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> end <font color=#1b1baa>$::alited::al(EM_STRUCTURE)</font> <font color=#1b1baa>$item</font>]&gt;-1} {
        <b><font color=#ca14ca>continue</font></b> ;<i><font color=#4b5d50># to avoid infinite cycle</font></i>
      }
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$item</font> \n] item
      <b><font color=#3a6797>set</font></b> lev [EM_AllStructure1 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$item</font> 2 end] [<b><font color=#3a6797>incr</font></b> lev]]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> ::alited::al(EM_STRUCTURE) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$mnu</font> [EM_HotKey <font color=#1b1baa>$i</font>] <font color=#1b1baa>$item</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>incr</font></b> lev -1]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_command'>EM_command</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets e_menu command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_command</span> <span class='ruff_arg'>im</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>im</code></code></td><td class='ruff_defitem'>index of the command in em_inf array</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_command' href="javascript:toggleSource('alited_tool_EM_command')">Show source</a></p>
<div id='alited_tool_EM_command' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_command {im} {
  <i><font color=#4b5d50># Gets e_menu command.</font></i>
  <i><font color=#4b5d50>#   im - index of the command in em_inf array</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_inf em_inf
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$em_inf($im)</font> mnu idx item
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font> eq {-} || [<b><font color=#3a6797>regexp</font></b> {^[^[:blank:].]+[.](mnu|em): } <font color=#1b1baa>$item</font>]} {
      <i><font color=#4b5d50># open a menu</font></i>
      <b><font color=#3a6797>set</font></b> mnu [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$item</font> 0 [<b><font color=#3a6797>string</font></b> first : <font color=#1b1baa>$item</font>]-1]
      <b><font color=#3a6797>set</font></b> ex {ex= o=-1}
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># call a command</font></i>
      <b><font color=#3a6797>set</font></b> ex <font color=#8b2a0e>&quot;ex=<font color=#1b1baa>[</font>alited::tool::EM_HotKey <font color=#1b1baa>$</font>idx<font color=#1b1baa>]</font> SH=1&quot;</font>
    }
    <b><font color=#3a6797>set</font></b> res <font color=#8b2a0e>&quot;alited::tool::e_menu \&quot;m=<font color=#1b1baa>$</font>mnu\&quot; <font color=#1b1baa>$</font>ex&quot;</font>
  } err]} <b><font color=#3a6797>then</font></b> {
    <b><font color=#3a6797>puts</font></b> stderr <font color=#8b2a0e>&quot;\nalited error: <font color=#1b1baa>$</font>err&quot;</font>
    <b><font color=#3a6797>set</font></b> res {}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_dir'>EM_dir</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a directory of e_menu's menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_dir</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a directory of e_menu's menus.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_dir' href="javascript:toggleSource('alited_tool_EM_dir')">Show source</a></p>
<div id='alited_tool_EM_dir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_dir {} {
  <i><font color=#4b5d50># Returns a directory of e_menu's menus.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,mnudir)</font> eq {}} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::e_menu_dir</font> menus]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$al(EM,mnudir)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_HotKey'>EM_HotKey</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns e_menu's hotkeys which numerate menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_HotKey</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>item's index</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns e_menu's hotkeys which numerate menu items.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_HotKey' href="javascript:toggleSource('alited_tool_EM_HotKey')">Show source</a></p>
<div id='alited_tool_EM_HotKey' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_HotKey {idx} {
  <i><font color=#4b5d50># Returns e_menu's hotkeys which numerate menu items.</font></i>
  <i><font color=#4b5d50>#   idx - item's index</font></i>

  <b><font color=#3a6797>set</font></b> hk {0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,./}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$hk</font> <font color=#1b1baa>$idx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_menuhere'>EM_menuhere</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if m=<code>$mnu</code> is present in e_menu's arguments.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_menuhere</span> <span class='ruff_arg'>mnu menuargs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>menu name</td></tr>
<tr><td class='ruff_defitem'><code><code>menuargs</code></code></td><td class='ruff_defitem'>e_menu's arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_menuhere' href="javascript:toggleSource('alited_tool_EM_menuhere')">Show source</a></p>
<div id='alited_tool_EM_menuhere' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_menuhere {mnu menuargs} {
  <i><font color=#4b5d50># Checks if m=$mnu is present in e_menu's arguments.</font></i>
  <i><font color=#4b5d50>#   mnu - menu name</font></i>
  <i><font color=#4b5d50>#   menuargs - e_menu's arguments</font></i>

  <b><font color=#3a6797>foreach</font></b> m [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$mnu</font>.em <font color=#1b1baa>$mnu</font>.mnu <font color=#1b1baa>$mnu</font>] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$menuargs</font> m=<font color=#1b1baa>$m</font>]&gt;-1} {
      <b><font color=#ca14ca>return</font></b> yes
    }
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_Options'>EM_Options</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns e_menu's general options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_Options</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns e_menu's general options.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_Options' href="javascript:toggleSource('alited_tool_EM_Options')">Show source</a></p>
<div id='alited_tool_EM_Options' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_Options {opts} {
  <i><font color=#4b5d50># Returns e_menu's general options.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al SCRIPTNORMAL SCRIPTNORMAL CONFIGDIR CONFIGDIR
  <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>string</font></b> trim [alited::find::GetWordOfText]]
  <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$sel</font> \n] 0] ;<i><font color=#4b5d50># only 1st line for &quot;selection&quot;</font></i>
  <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \&quot; {} \{ {} \} {} \[ {} \] {} \\ {} \$ {}] <font color=#1b1baa>$sel</font>]
  <b><font color=#3a6797>set</font></b> f [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$f</font>]
  <i><font color=#4b5d50># get a list of selected tabs (i.e. their file names):</font></i>
  <i><font color=#4b5d50># it's used as %ls wildcard in grep.em (&quot;SEARCH EXACT LS=&quot;)</font></i>
  <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listFlag s]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tabs</font>]&gt;1} {
    <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
      <b><font color=#3a6797>append</font></b> ls [alited::bar::FileName <font color=#1b1baa>$tab</font>] { }
    }
    <b><font color=#3a6797>set</font></b> ls <font color=#8b2a0e>&quot;\&quot;ls=<font color=#1b1baa>$</font>ls\&quot;&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> ls <font color=#8b2a0e>&quot;ls=&quot;</font>
  }
  <i><font color=#4b5d50># get file names of left & right tabs (used in utils.em by diff items)</font></i>
  <b><font color=#3a6797>set</font></b> z6 {}
  <b><font color=#3a6797>set</font></b> z7 {}
  <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&gt;=0} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>} {
      <b><font color=#3a6797>append</font></b> z6 z6=[alited::bar::FileName [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$i</font>-1 0]]
    }
    <b><font color=#3a6797>append</font></b> z7 z7=[alited::bar::FileName [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$i</font>+1 0]]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,DiffTool)</font> ne {}} {<b><font color=#3a6797>set</font></b> df DF=<font color=#1b1baa>$al(EM,DiffTool)</font>} {<b><font color=#3a6797>set</font></b> df {}}
  <b><font color=#3a6797>set</font></b> l [[alited::main::CurrentWTXT] index insert]
  <b><font color=#3a6797>set</font></b> l [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$l</font>)}]
  <b><font color=#3a6797>set</font></b> dirvar [<b><font color=#3a6797>set</font></b> filvar [<b><font color=#3a6797>set</font></b> tdir {}]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,exec)</font>} {
    <b><font color=#3a6797>lassign</font></b> [::apave::getProperty DirFilGeoVars] dirvar filvar
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dirvar</font> ne {} && [<b><font color=#3a6797>set</font></b> dirvar [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$dirvar</font>]] ne {}} {
      <b><font color=#3a6797>set</font></b> dirvar <font color=#8b2a0e>&quot;\&quot;g1=<font color=#1b1baa>$</font>dirvar\&quot;&quot;</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$filvar</font> ne {} && [<b><font color=#3a6797>set</font></b> filvar [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$filvar</font>]] ne {}} {
      <b><font color=#3a6797>set</font></b> filvar <font color=#8b2a0e>&quot;\&quot;g2=<font color=#1b1baa>$</font>filvar\&quot;&quot;</font>
    }
    <b><font color=#3a6797>set</font></b> tdir <font color=#1b1baa>$::alited::LIBDIR</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,geometry)</font> eq {}} {
    <i><font color=#4b5d50># at 1st exposition, center e_menu approximately</font></i>
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$al(WIN)</font>] x+] w h x y
    <b><font color=#3a6797>set</font></b> al(EM,geometry) [obj EXPORT CenteredXY <font color=#1b1baa>$w</font> <font color=#1b1baa>$h</font> <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font> 300 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$h</font>/2}]]
  }
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,tt)</font>] tt
  <b><font color=#3a6797>if</font></b> {[::isunix] && [<b><font color=#3a6797>auto_execok</font></b> <font color=#1b1baa>$tt</font>] eq {}} {
    alited::Balloon [msgcat::mc {Set a Linux terminal in Preferences/Tools}] yes
  }
  <b><font color=#3a6797>set</font></b> ed [<b><font color=#3a6797>info</font></b> nameofexecutable]\ <font color=#1b1baa>$SCRIPTNORMAL</font>\ <font color=#1b1baa>$CONFIGDIR</font>
  <b><font color=#3a6797>set</font></b> R [<b><font color=#3a6797>list</font></b> md=<font color=#1b1baa>$al(EM,mnudir)</font> m=<font color=#1b1baa>$al(EM,mnu)</font> f=<font color=#1b1baa>$f</font> d=<font color=#1b1baa>$d</font> l=<font color=#1b1baa>$l</font>  PD=<font color=#1b1baa>$al(EM,PD=)</font> pd=<font color=#1b1baa>$al(prjroot)</font> h=<font color=#1b1baa>$al(EM,h=)</font> tt=<font color=#1b1baa>$al(EM,tt)</font> s=<font color=#1b1baa>$sel</font>  o=-1 om=0 {<b><font color=#3a6797>*</font></b>}g=<font color=#1b1baa>$al(EM,geometry)</font> <font color=#1b1baa>$z6</font> <font color=#1b1baa>$z7</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$ls</font> <font color=#1b1baa>$df</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$dirvar</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$filvar</font> td=<font color=#1b1baa>$tdir</font> ed=<font color=#1b1baa>$ed</font> wt=<font color=#1b1baa>$al(EM,wt=)</font> mp=1]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$R</font> th=*]&lt;0} {<b><font color=#3a6797>lappend</font></b> R th=<font color=#1b1baa>$al(THEME)</font>}
  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>foreach</font></b> r <font color=#1b1baa>$R</font> {<b><font color=#3a6797>append</font></b> res \&quot;<font color=#1b1baa>$r</font>\&quot; { }}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$res</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_optionTF'>EM_optionTF</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares TF= option for e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_optionTF</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>TF= is a name of file that contains a current text's selection. If there is no selection, TF= option is a current file's name.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_optionTF' href="javascript:toggleSource('alited_tool_EM_optionTF')">Show source</a></p>
<div id='alited_tool_EM_optionTF' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_optionTF {args} {
  <i><font color=#4b5d50># Prepares TF= option for e_menu.</font></i>
  <i><font color=#4b5d50>#   args - options of e_menu</font></i>
  <i><font color=#4b5d50># TF= is a name of file that contains a current text's selection.</font></i>
  <i><font color=#4b5d50># If there is no selection, TF= option is a current file's name.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-glob</font> <font color=#1b1baa>$args</font> TF=*]&gt;-1} {
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> sels [alited::edit::SelectedLines {} yes]
  <b><font color=#3a6797>set</font></b> wtxt [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$sels</font> 0]
  <b><font color=#3a6797>set</font></b> sel {}
  <b><font color=#3a6797>foreach</font></b> {l1 l2} [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$sels</font> 1 end] {
    <b><font color=#3a6797>append</font></b> sel [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end] \n
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$sel</font>]]&lt;2 ||  (![is_mainmenu <font color=#1b1baa>$args</font> yes] && ![EM_menuhere tests <font color=#1b1baa>$args</font>])} {
    <b><font color=#3a6797>set</font></b> tmpname [alited::bar::FileName]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tmpname [alited::TmpFile SELECTION~]
    writeTextFile <font color=#1b1baa>$tmpname</font> sel
  }
  <b><font color=#ca14ca>return</font></b> TF=<font color=#1b1baa>$tmpname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_SaveFiles'>EM_SaveFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_SaveFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_SaveFiles' href="javascript:toggleSource('alited_tool_EM_SaveFiles')">Show source</a></p>
<div id='alited_tool_EM_SaveFiles' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_SaveFiles {} {
  <i><font color=#4b5d50># Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.</font></i>
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,save)</font>==1} {
    alited::file::SaveAll
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(EM,save)</font>==2} {
    <b><font color=#3a6797>if</font></b> {[alited::file::IsModified]} {
      alited::file::SaveFile
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_Structure'>EM_Structure</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a menu's items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_Structure</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>the menu's file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_EM_Structure' href="javascript:toggleSource('alited_tool_EM_Structure')">Show source</a></p>
<div id='alited_tool_EM_Structure' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_Structure {mnu} {
  <i><font color=#4b5d50># Gets a menu's items.</font></i>
  <i><font color=#4b5d50>#   mnu - the menu's file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> mnu [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$mnu</font> <font color=#8b2a0e>&quot;\&quot; &quot;</font>]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join [EM_dir] [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$mnu</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> fcont [readTextFile <font color=#1b1baa>$fname</font> {} 1]}]} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> prname {}
  <b><font color=#3a6797>set</font></b> mmarks [<b><font color=#3a6797>list</font></b> S: R: M: S/ R/ M/ SE: RE: ME: SE/ RE/ ME/ SW: RW: MW: SW/ RW/ MW/ I:]
  <b><font color=#3a6797>set</font></b> ismenu yes
  <b><font color=#3a6797>set</font></b> isitem no
  <b><font color=#3a6797>foreach</font></b> line [textsplit <font color=#1b1baa>$fcont</font>] {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$line</font> {
      {[MENU]} {
        <b><font color=#3a6797>set</font></b> ismenu yes
        <b><font color=#3a6797>set</font></b> isitem no
        <b><font color=#ca14ca>continue</font></b>
      }
      {[HIDDEN]} - {[OPTIONS]} - {[DATA]} {
        <b><font color=#3a6797>set</font></b> ismenu [<b><font color=#3a6797>set</font></b> isitem no]
        <b><font color=#ca14ca>continue</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ismenu</font>} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {^\s*SEP\s*=\s*} <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>set</font></b> isitem no
      <b><font color=#ca14ca>continue</font></b>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {^\s*ITEM\s*=\s*} <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>set</font></b> isitem yes
      <b><font color=#3a6797>set</font></b> itemname [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$line</font>] end]
      <b><font color=#3a6797>set</font></b> itemname [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$itemname</font> { =}]
      <b><font color=#ca14ca>continue</font></b>
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isitem</font>} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> origname <font color=#1b1baa>$itemname</font>
    <b><font color=#3a6797>foreach</font></b> mark <font color=#1b1baa>$mmarks</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#8b2a0e>&quot;^\s*<font color=#1b1baa>$</font>mark&quot;</font> <font color=#1b1baa>$line</font>]} {
        <b><font color=#3a6797>set</font></b> typ [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$mark</font> 0]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$typ</font> eq {M}} {
          <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {.+m=([^[:blank:]]+)} <font color=#1b1baa>$line</font>] -&gt; itemname
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemname</font> ne {} && [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$itemname</font>] ne {.em}} {
            <b><font color=#3a6797>set</font></b> itemname [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$itemname</font>].em  ;<i><font color=#4b5d50># normalized menu filename</font></i>
          }
        }
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemname</font> ni {{} -} && <font color=#1b1baa>$itemname</font> ne <font color=#1b1baa>$prname</font>} {
          <b><font color=#3a6797>set</font></b> prname <font color=#1b1baa>$itemname</font>
          <b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$mnu</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>typ-<font color=#1b1baa>$</font>itemname\n<font color=#1b1baa>$</font>origname&quot;</font>]
        }
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::FormatDate'>FormatDate</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FormatDate</span> <span class='ruff_arg'>?date?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>date to be formatted (a current date if omitted); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_FormatDate' href="javascript:toggleSource('alited_tool_FormatDate')">Show source</a></p>
<div id='alited_tool_FormatDate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::FormatDate {{date {}}} {
  <i><font color=#4b5d50># Formats a date.</font></i>
  <i><font color=#4b5d50>#   date - date to be formatted (a current date if omitted)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$date</font> eq {}} {<b><font color=#3a6797>set</font></b> date [<b><font color=#3a6797>clock</font></b> seconds]}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$date</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$al(TPL,%d)</font> <font color=#6c3e67>-locale</font> <font color=#1b1baa>$::alited::al(LOCAL)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a help on alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_Help' href="javascript:toggleSource('alited_tool_Help')">Show source</a></p>
<div id='alited_tool_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Help {} {
  <i><font color=#4b5d50># Calls a help on alited.</font></i>

  _run Help
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::InsertInText'>InsertInText</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Insert a string into a text possibly instead of its selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertInText</span> <span class='ruff_arg'>str ?pos1? ?pos2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>the string</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position in a current line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>ending position in a current line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_InsertInText' href="javascript:toggleSource('alited_tool_InsertInText')">Show source</a></p>
<div id='alited_tool_InsertInText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::InsertInText {str {pos1 {}} {pos2 {}}} {
  <i><font color=#4b5d50># Insert a string into a text possibly instead of its selection.</font></i>
  <i><font color=#4b5d50>#   str - the string</font></i>
  <i><font color=#4b5d50>#   pos1 - starting position in a current line</font></i>
  <i><font color=#4b5d50>#   pos2 - ending position in a current line</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos1</font> eq {}} {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges sel] pos1 pos2
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
    <b><font color=#3a6797>set</font></b> prevch [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$line</font>.[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$pos1</font>-1}] <font color=#1b1baa>$line</font>.<font color=#1b1baa>$pos1</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prevch</font> eq [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$str</font> 0]} {
      <b><font color=#3a6797>incr</font></b> pos1 -1
    }
    <b><font color=#3a6797>set</font></b> pos1 <font color=#1b1baa>$line</font>.<font color=#1b1baa>$pos1</font>
    <b><font color=#3a6797>set</font></b> pos2 <font color=#1b1baa>$line</font>.[<b><font color=#3a6797>incr</font></b> pos2]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos1</font> ne {}} {
    <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>
  }
  <font color=#1b1baa>$wtxt</font> insert [<font color=#1b1baa>$wtxt</font> index insert] <font color=#1b1baa>$str</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::is_emenu'>is_emenu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for e_menu's existence.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>is_emenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_is_emenu' href="javascript:toggleSource('alited_tool_is_emenu')">Show source</a></p>
<div id='alited_tool_is_emenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::is_emenu {} {
  <i><font color=#4b5d50># Check for e_menu's existence.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists .em] && [<b><font color=#134070>winfo</font></b> ismapped .em]} {
    <b><font color=#134070>wm</font></b> withdraw .em
    <b><font color=#134070>wm</font></b> deiconify .em
    <b><font color=#134070>bell</font></b>
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::is_mainmenu'>is_mainmenu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if e_menu's arguments are for the main menu (run by F4).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>is_mainmenu</span> <span class='ruff_arg'>menuargs ?withTF?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>menuargs</code></code></td><td class='ruff_defitem'>e_menu's arguments</td></tr>
<tr><td class='ruff_defitem'><code><code>withTF</code></code></td><td class='ruff_defitem'>yes, if checking together with TF= argument; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu's arguments contain ex= or EX= for bar-menu tools only.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_is_mainmenu' href="javascript:toggleSource('alited_tool_is_mainmenu')">Show source</a></p>
<div id='alited_tool_is_mainmenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::is_mainmenu {menuargs {withTF no}} {
  <i><font color=#4b5d50># Checks if e_menu's arguments are for the main menu (run by F4).</font></i>
  <i><font color=#4b5d50>#   menuargs - e_menu's arguments</font></i>
  <i><font color=#4b5d50>#   withTF - yes, if checking together with TF= argument</font></i>
  <i><font color=#4b5d50># The e_menu's arguments contain ex= or EX= for bar-menu tools only.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$withTF</font> && [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$menuargs</font> m=menu.em] &gt;= 0} {
    <b><font color=#ca14ca>return</font></b> 1
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-glob</font> <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$menuargs</font> EX=*] &lt; 0}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::LineCoordinates'>LineCoordinates</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets X, Y screen coordinates of current line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LineCoordinates</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_LineCoordinates' href="javascript:toggleSource('alited_tool_LineCoordinates')">Show source</a></p>
<div id='alited_tool_LineCoordinates' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::LineCoordinates {} {
  <i><font color=#4b5d50># Gets X, Y screen coordinates of current line.</font></i>

  <b><font color=#3a6797>lassign</font></b> [alited::complete::CursorCoordsChar {} linestart] X Y
  <b><font color=#3a6797>if</font></b> {[::iswindows]} {<b><font color=#3a6797>incr</font></b> Y 50} {<b><font color=#3a6797>incr</font></b> Y 10}
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Loupe'>Loupe</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a screen loupe.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Loupe</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_Loupe' href="javascript:toggleSource('alited_tool_Loupe')">Show source</a></p>
<div id='alited_tool_Loupe' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Loupe {} {
  <i><font color=#4b5d50># Calls a screen loupe.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al LIBDIR LIBDIR PAVEDIR PAVEDIR
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(IsWindows)</font>} {<b><font color=#3a6797>set</font></b> le aloupe.exe} {<b><font color=#3a6797>set</font></b> le aloupe}
  <b><font color=#3a6797>set</font></b> loupe [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$LIBDIR</font> util <font color=#1b1baa>$le</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$loupe</font>]} {
    <i><font color=#4b5d50># try to run the loupe executable from lib/util</font></i>
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>exec</font></b> <font color=#1b1baa>$loupe</font>}]} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> loupe [SrcPath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$PAVEDIR</font> pickers color aloupe aloupe.tcl]]
  alited::Runtime <font color=#1b1baa>$loupe</font> <font color=#6c3e67>-locale</font> <font color=#1b1baa>$::alited::al(LOCAL)</font> <font color=#6c3e67>-apavedir</font> <font color=#1b1baa>$PAVEDIR</font> <font color=#6c3e67>-cs</font> <font color=#1b1baa>$al(INI,CS)</font>  <font color=#6c3e67>-fcgeom</font> <font color=#1b1baa>$::alited::FilGeometry</font> <font color=#6c3e67>-inifile</font> [aloupePath]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::PopupBar'>PopupBar</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a popup menu in the tool bar, to enter e_menu's preferences.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupBar</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of clicking on the tool bar</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of clicking on the tool bar</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_PopupBar' href="javascript:toggleSource('alited_tool_PopupBar')">Show source</a></p>
<div id='alited_tool_PopupBar' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::PopupBar {X Y} {
  <i><font color=#4b5d50># Opens a popup menu in the tool bar, to enter e_menu's preferences.</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of clicking on the tool bar</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of clicking on the tool bar</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$al(WIN)</font>.popupBar
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Open bar-menu settings}]  <font color=#6c3e67>-command</font> {alited::pref::_run Emenu_Tab}
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::PrepareRunCommand'>PrepareRunCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares a command to run. The command can include wildcards.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PrepareRunCommand</span> <span class='ruff_arg'>com fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>com</code></code></td><td class='ruff_defitem'>command</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>current file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_PrepareRunCommand' href="javascript:toggleSource('alited_tool_PrepareRunCommand')">Show source</a></p>
<div id='alited_tool_PrepareRunCommand' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::PrepareRunCommand {com fname} {
  <i><font color=#4b5d50># Prepares a command to run. The command can include wildcards.</font></i>
  <i><font color=#4b5d50>#   com - command</font></i>
  <i><font color=#4b5d50>#   fname - current file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> sel [alited::find::GetWordOfText select]
  alited::Map {} <font color=#1b1baa>$com</font> <font color=#1b1baa>$::alited::EOL</font> \n %s <font color=#1b1baa>$sel</font>  %f <font color=#1b1baa>$fname</font> %d [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] %pd <font color=#1b1baa>$al(prjroot)</font> %H [::apave::HomeDir]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Redo'>Redo</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redoes a change.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Redo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_Redo' href="javascript:toggleSource('alited_tool_Redo')">Show source</a></p>
<div id='alited_tool_Redo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Redo {} {
  <i><font color=#4b5d50># Redoes a change.</font></i>

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Redo&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::redoAll'>redoAll</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redoes all changes.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>redoAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_redoAll' href="javascript:toggleSource('alited_tool_redoAll')">Show source</a></p>
<div id='alited_tool_redoAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::redoAll {} {
  <i><font color=#4b5d50># Redoes all changes.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> plaintext [SetPlainText <font color=#1b1baa>$wtxt</font> yes]
  <b><font color=#3a6797>while</font></b> {[<font color=#1b1baa>$wtxt</font> edit canredo]} {
    <b><font color=#3a6797>if</font></b> {[Redo]} <b><font color=#ca14ca>break</font></b>
  }
  SetPlainText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$plaintext</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Run_in_e_menu'>Run_in_e_menu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a command with e_menu application</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Run_in_e_menu</span> <span class='ruff_arg'>com ?fnameCur?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>com</code></code></td><td class='ruff_defitem'>the command</td></tr>
<tr><td class='ruff_defitem'><code><code>fnameCur</code></code></td><td class='ruff_defitem'>currently edited file; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_Run_in_e_menu' href="javascript:toggleSource('alited_tool_Run_in_e_menu')">Show source</a></p>
<div id='alited_tool_Run_in_e_menu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Run_in_e_menu {com {fnameCur {}}} {
  <i><font color=#4b5d50># Runs a command with e_menu application</font></i>
  <i><font color=#4b5d50>#   com - the command</font></i>
  <i><font color=#4b5d50>#   fnameCur - currently edited file</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  ::alited::Message <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,run): <font color=#1b1baa>$</font>com&quot;</font> 3
  <b><font color=#3a6797>set</font></b> tc {}
  <b><font color=#3a6797>set</font></b> tw %t
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$com</font> 0]] eq {%f}} {
      <b><font color=#3a6797>set</font></b> fname <font color=#1b1baa>$fnameCur</font>
    }
    <b><font color=#3a6797>if</font></b> {[alited::file::IsTcl <font color=#1b1baa>$fname</font>]} {
      <b><font color=#3a6797>set</font></b> tkconcall <font color=#8b2a0e>&quot; <font color=#1b1baa>[</font>alited::tool::tkconPath<font color=#1b1baa>]</font> <font color=#1b1baa>[</font>alited::tool::tkconOptions<font color=#1b1baa>]</font> &quot;</font>
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(prjincons)</font>} {
        <b><font color=#3a6797>set</font></b> tc <font color=#8b2a0e>&quot;tc=<font color=#1b1baa>[</font>alited::Tclexe<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>tkconcall&quot;</font>
        <b><font color=#3a6797>set</font></b> tw {}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> tw <font color=#8b2a0e>&quot;%t <font color=#1b1baa>[</font>alited::Tclexe<font color=#1b1baa>]</font> &quot;</font>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnameCur</font> ne {}} {<b><font color=#3a6797>set</font></b> fnameCur f=[<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\ \\\\] <font color=#1b1baa>$fnameCur</font>]}
  e_menu ee=<font color=#1b1baa>$tw</font>[<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \&quot; \\\&quot; \\ \\\\] <font color=#1b1baa>$com</font>]  pd=[<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\ \\\\] <font color=#1b1baa>$al(prjroot)</font>] <font color=#1b1baa>$tc</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$fnameCur</font> [SHarg]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::RunArgs'>RunArgs</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ARGS/RUNF/EXEC arguments (similar to ::em::get_AR of e_menu.tcl).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunArgs</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of ARGS and RUNF arguments found in the current file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_RunArgs' href="javascript:toggleSource('alited_tool_RunArgs')">Show source</a></p>
<div id='alited_tool_RunArgs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::RunArgs {} {
  <i><font color=#4b5d50># Gets ARGS/RUNF/EXEC arguments (similar to ::em::get_AR of e_menu.tcl).</font></i>
  <i><font color=#4b5d50># Returns a list of ARGS and RUNF arguments found in the current file.</font></i>

  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>set</font></b> ar {^[[:space:]#/*]*#[ ]?ARGS[0-9]?:[ ]*(.*)}
  <b><font color=#3a6797>set</font></b> rf {^[[:space:]#/*]*#[ ]?RUNF[0-9]?:[ ]*(.*)}
  <b><font color=#3a6797>set</font></b> ex {^[[:space:]#/*]*#[ ]?EXEC[0-9]?:[ ]*(.*)}
  <b><font color=#3a6797>set</font></b> AR [<b><font color=#3a6797>set</font></b> RF [<b><font color=#3a6797>set</font></b> EX {}]]
  <b><font color=#3a6797>set</font></b> filecontent [<b><font color=#3a6797>split</font></b> [[alited::main::CurrentWTXT] get 1.0 end] \n]
  <b><font color=#3a6797>foreach</font></b> st <font color=#1b1baa>$filecontent</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$ar</font> <font color=#1b1baa>$st</font>] && <font color=#1b1baa>$AR</font> eq {}} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$ar</font> <font color=#1b1baa>$st</font>] =&gt; AR
    } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$rf</font> <font color=#1b1baa>$st</font>] && <font color=#1b1baa>$RF</font> eq {}} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$rf</font> <font color=#1b1baa>$st</font>] =&gt; RF
    } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$ex</font> <font color=#1b1baa>$st</font>] && <font color=#1b1baa>$EX</font> eq {}} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$ex</font> <font color=#1b1baa>$st</font>] =&gt; EX
    }
    <b><font color=#3a6797>if</font></b> {<font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>AR<font color=#1b1baa>$</font>RF<font color=#1b1baa>$</font>EX&quot;</font> ne {}} {
      <b><font color=#3a6797>if</font></b> {<font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>AR<font color=#1b1baa>$</font>RF<font color=#1b1baa>$</font>EX&quot;</font> ne {OFF}} {
        <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$AR</font> <font color=#1b1baa>$RF</font> <font color=#1b1baa>$EX</font>]
      }
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::RunFile'>RunFile</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a current file as is (by associated app).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunFile</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_RunFile' href="javascript:toggleSource('alited_tool_RunFile')">Show source</a></p>
<div id='alited_tool_RunFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::RunFile {} {
  <i><font color=#4b5d50># Runs a current file as is (by associated app).</font></i>

  alited::Message <font color=#1b1baa>$::alited::al(MC,run)</font>:\ [alited::bar::FileName] 3
  alited::tool::_run 1 {} <font color=#6c3e67>-doit</font> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::RunMode'>RunMode</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Tcl source file with choosing the mode - in console or in tkcon.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunMode</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_RunMode' href="javascript:toggleSource('alited_tool_RunMode')">Show source</a></p>
<div id='alited_tool_RunMode' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::RunMode {} {
  <i><font color=#4b5d50># Runs Tcl source file with choosing the mode - in console or in tkcon.</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::run]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::SRCDIR</font> run.tcl]
    }
  }
  alited::run::_run
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Runs'>Runs</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a list of Tcl/ext commands.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Runs</span> <span class='ruff_arg'>mc runs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mc</code></code></td><td class='ruff_defitem'>message for infobar</td></tr>
<tr><td class='ruff_defitem'><code><code>runs</code></code></td><td class='ruff_defitem'>list of commands</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_Runs' href="javascript:toggleSource('alited_tool_Runs')">Show source</a></p>
<div id='alited_tool_Runs' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Runs {mc runs} {
  <i><font color=#4b5d50># Runs a list of Tcl/ext commands.</font></i>
  <i><font color=#4b5d50>#   mc - message for infobar</font></i>
  <i><font color=#4b5d50>#   runs - list of commands</font></i>

  <b><font color=#3a6797>set</font></b> runs [::alited::ProcEOL <font color=#1b1baa>$runs</font> in]
  <b><font color=#3a6797>foreach</font></b> run [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$runs</font> \n] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> run [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$run</font>]] ne {} && [<b><font color=#3a6797>string</font></b> first # <font color=#1b1baa>$run</font>]!=0} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>eval</font></b> <font color=#1b1baa>$run</font>} e]} {
        <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>exec</font></b> -- {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$run</font>} e2
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$e2</font> ne {}} {<b><font color=#3a6797>set</font></b> e <font color=#1b1baa>$e2</font>} {<b><font color=#3a6797>append</font></b> e <font color=#8b2a0e>&quot; / OS ?&quot;</font>}
      }
      alited::info::Put <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>mc\&quot;<font color=#1b1baa>$</font>run\&quot; -&gt; <font color=#1b1baa>$</font>e&quot;</font>
      <b><font color=#3a6797>update</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::RunTcl'>RunTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Try to run tcl source file by means of tkcon utility.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunTcl</span> <span class='ruff_arg'>?runmode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>runmode</code></code></td><td class='ruff_defitem'>mode of running (in console or in tkcon); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes if a tcl file was started.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_RunTcl' href="javascript:toggleSource('alited_tool_RunTcl')">Show source</a></p>
<div id='alited_tool_RunTcl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::RunTcl {{runmode {}}} {
  <i><font color=#4b5d50># Try to run tcl source file by means of tkcon utility.</font></i>
  <i><font color=#4b5d50>#   runmode - mode of running (in console or in tkcon)</font></i>
  <i><font color=#4b5d50># Returns yes if a tcl file was started.</font></i>

  <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$runmode</font> eq {} && !<font color=#1b1baa>$::alited::al(prjincons)</font>) || <font color=#1b1baa>$runmode</font> eq {tkcon}} {
    <b><font color=#3a6797>lassign</font></b> [RunArgs] ar rf
    <b><font color=#3a6797>set</font></b> tclfile {}
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {  ;<i><font color=#4b5d50># ar & rf can be badly formed =&gt; catch</font></i>
      <b><font color=#3a6797>set</font></b> fnameCur [alited::bar::FileName]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ar</font>] || (![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$rf</font>] && [alited::file::IsTcl <font color=#1b1baa>$fnameCur</font>])} {
        <b><font color=#3a6797>set</font></b> rf <font color=#8b2a0e>&quot;\&quot;<font color=#1b1baa>$</font>fnameCur\&quot;&quot;</font>
        <b><font color=#3a6797>append</font></b> rf { } <font color=#1b1baa>$ar</font>
      }
      <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$rf</font> 0]
      <b><font color=#3a6797>set</font></b> fname [PrepareRunCommand <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fnameCur</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> tclfile <font color=#1b1baa>$fname</font>] ne {}} {
        <b><font color=#3a6797>cd</font></b> [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fnameCur</font>]
        <b><font color=#3a6797>set</font></b> tclfile [<b><font color=#3a6797>file</font></b> normalize <font color=#1b1baa>$tclfile</font>]
        <b><font color=#3a6797>set</font></b> rf [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$rf</font> 0 0]
      }
    } err]} {
      alited::Message <font color=#1b1baa>$err</font> 4
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tclfile</font> ne {} && [<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$tclfile</font>]} {
      <i><font color=#4b5d50># run tkcon with file.tcl & argv</font></i>
      EM_SaveFiles
      tkcon <font color=#1b1baa>$tclfile</font> <font color=#6c3e67>-apl-topmost</font> 0 <font color=#6c3e67>-argv</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$rf</font>
      <b><font color=#ca14ca>return</font></b> yes
    }
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::SetPlainText'>SetPlainText</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Set the flag &quot;plain text&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetPlainText</span> <span class='ruff_arg'>wtxt val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text path</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of the flag</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns old value of the flag.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_SetPlainText' href="javascript:toggleSource('alited_tool_SetPlainText')">Show source</a></p>
<div id='alited_tool_SetPlainText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::SetPlainText {wtxt val} {
  <i><font color=#4b5d50># Set the flag &quot;plain text&quot;.</font></i>
  <i><font color=#4b5d50>#   wtxt - text path</font></i>
  <i><font color=#4b5d50>#   val - value of the flag</font></i>
  <i><font color=#4b5d50># Returns old value of the flag.</font></i>

  <b><font color=#3a6797>if</font></b> {[alited::file::IsClang [alited::bar::FileName]]} {
    <b><font color=#3a6797>set</font></b> oldval [::hl_c::cget <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-plaintext</font>]
    ::hl_c::configure <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-plaintext</font> <font color=#1b1baa>$val</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> oldval [::hl_tcl::cget <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-plaintext</font>]
    ::hl_tcl::configure <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-plaintext</font> <font color=#1b1baa>$val</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$oldval</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::SHarg'>SHarg</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets SH= argument of e_menu (main window's geometry).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SHarg</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_SHarg' href="javascript:toggleSource('alited_tool_SHarg')">Show source</a></p>
<div id='alited_tool_SHarg' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::SHarg {} {
  <i><font color=#4b5d50># Gets SH= argument of e_menu (main window's geometry).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$al(WIN)</font>] && [<b><font color=#134070>winfo</font></b> ismapped <font color=#1b1baa>$al(WIN)</font>]} {
    <b><font color=#ca14ca>return</font></b> SH=[<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$al(WIN)</font>]
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::SrcPath'>SrcPath</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a path to an external tool. This may be useful at calling alited by tclkit: tkcon, aloupe etc. may be located in &quot;src&quot; subdirectory of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SrcPath</span> <span class='ruff_arg'>toolpath</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>toolpath</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_SrcPath' href="javascript:toggleSource('alited_tool_SrcPath')">Show source</a></p>
<div id='alited_tool_SrcPath' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::SrcPath {toolpath} {
  <i><font color=#4b5d50># Gets a path to an external tool.</font></i>
  <i><font color=#4b5d50># This may be useful at calling alited by tclkit:</font></i>
  <i><font color=#4b5d50># tkcon, aloupe etc. may be located in &quot;src&quot; subdirectory of alited.</font></i>

  <b><font color=#3a6797>set</font></b> srcpath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::FILEDIR</font> src [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$toolpath</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$srcpath</font>]} {<b><font color=#3a6797>set</font></b> toolpath <font color=#1b1baa>$srcpath</font>}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>cd</font></b> [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$toolpath</font>]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$toolpath</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::tkcon'>tkcon</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls Tkcon application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>tkcon</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments for tkcon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_tkcon' href="javascript:toggleSource('alited_tool_tkcon')">Show source</a></p>
<div id='alited_tool_tkcon' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::tkcon {args} {
  <i><font color=#4b5d50># Calls Tkcon application.</font></i>
  <i><font color=#4b5d50>#   args - additional arguments for tkcon</font></i>

  <b><font color=#3a6797>set</font></b> pid [alited::Run [tkconPath] {<b><font color=#3a6797>*</font></b>}[tkconOptions] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$args</font>]} {<b><font color=#3a6797>set</font></b> ::alited::pID <font color=#1b1baa>$pid</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::tkconOptions'>tkconOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of tkcon.tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>tkconOptions</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_tkconOptions' href="javascript:toggleSource('alited_tool_tkconOptions')">Show source</a></p>
<div id='alited_tool_tkconOptions' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::tkconOptions {} {
  <i><font color=#4b5d50># Gets options of tkcon.tcl.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>foreach</font></b> opt [<b><font color=#3a6797>array</font></b> names al tkcon,clr*] {
    <b><font color=#3a6797>lappend</font></b> opts <font color=#6c3e67>-color-</font>[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$opt</font> 9 end] [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$al($opt)</font> #]
  }
  <b><font color=#3a6797>foreach</font></b> {opt val} <font color=#1b1baa>$al(tkcon,options)</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$val</font>] ne {}} {
      <b><font color=#3a6797>lappend</font></b> opts <font color=#6c3e67>-apl</font><font color=#1b1baa>$opt</font> <font color=#1b1baa>$val</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$opts</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::tkconPath'>tkconPath</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the path to tkcon.tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>tkconPath</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_tkconPath' href="javascript:toggleSource('alited_tool_tkconPath')">Show source</a></p>
<div id='alited_tool_tkconPath' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::tkconPath {} {
  <i><font color=#4b5d50># Gets the path to tkcon.tcl.</font></i>

  <b><font color=#ca14ca>return</font></b> [SrcPath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::LIBDIR</font> util tkcon.tcl]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::ToolButName'>ToolButName</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Helper procedure to get a name of toolbar button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolButName</span> <span class='ruff_arg'>img</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>img</code></code></td><td class='ruff_defitem'>name of icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_ToolButName' href="javascript:toggleSource('alited_tool_ToolButName')">Show source</a></p>
<div id='alited_tool_ToolButName' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::ToolButName {img} {
  <i><font color=#4b5d50># Helper procedure to get a name of toolbar button.</font></i>
  <i><font color=#4b5d50>#   img - name of icon</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#ca14ca>return</font></b> [<font color=#1b1baa>$obPav</font> ToolTop].buT_alimg_<font color=#1b1baa>$img</font>-big
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::TooltipRun'>TooltipRun</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip for &quot;Run&quot; tool.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TooltipRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_TooltipRun' href="javascript:toggleSource('alited_tool_TooltipRun')">Show source</a></p>
<div id='alited_tool_TooltipRun' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::TooltipRun {} {
  <i><font color=#4b5d50># Gets a tip for &quot;Run&quot; tool.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> res <font color=#1b1baa>$al(MC,icorun)</font>
  <b><font color=#3a6797>if</font></b> {[ComForced]} {
    <b><font color=#3a6797>set</font></b> res <font color=#1b1baa>$al(comForce)</font>\n[<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$res</font> \n] 1]
  }
  <b><font color=#3a6797>append</font></b> res [AddTooltipRun]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Undo'>Undo</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Undoes a change.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Undo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_Undo' href="javascript:toggleSource('alited_tool_Undo')">Show source</a></p>
<div id='alited_tool_Undo' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Undo {} {
  <i><font color=#4b5d50># Undoes a change.</font></i>

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Undo&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::undoAll'>undoAll</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Undoes all changes.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>undoAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tool_undoAll' href="javascript:toggleSource('alited_tool_undoAll')">Show source</a></p>
<div id='alited_tool_undoAll' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::undoAll {} {
  <i><font color=#4b5d50># Undoes all changes.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> plaintext [SetPlainText <font color=#1b1baa>$wtxt</font> yes]
  <b><font color=#3a6797>while</font></b> {[<font color=#1b1baa>$wtxt</font> edit canundo]} {
    <b><font color=#3a6797>if</font></b> {[Undo]} <b><font color=#ca14ca>break</font></b>
  }
  SetPlainText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$plaintext</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::tree'></a>::alited::tree<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::tree-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddItem'>AddItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a new item to the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddItem</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>an item's ID where the new item will be added (for the file tree); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_AddItem' href="javascript:toggleSource('alited_tree_AddItem')">Show source</a></p>
<div id='alited_tree_AddItem' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AddItem {{ID {}}} {
  <i><font color=#4b5d50># Adds a new item to the tree.</font></i>
  <i><font color=#4b5d50>#   ID - an item's ID where the new item will be added (for the file tree).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    alited::unit::Add
  } <b><font color=#3a6797>else</font></b> {
    alited::file::Add <font color=#1b1baa>$ID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddTags'>AddTags</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates tags for the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddTags</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_AddTags' href="javascript:toggleSource('alited_tree_AddTags')">Show source</a></p>
<div id='alited_tree_AddTags' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AddTags {wtree} {
  <i><font color=#4b5d50># Creates tags for the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [alited::FgAdditional] fgbr fgred fgtodo
  <b><font color=#3a6797>append</font></b> fontN <font color=#8b2a0e>&quot;-font <font color=#1b1baa>$</font>::alited::al(FONT,defsmall)&quot;</font>
  <b><font color=#3a6797>append</font></b> fontS <font color=#1b1baa>$fontN</font> <font color=#8b2a0e>&quot; -foreground <font color=#1b1baa>$</font>fgred&quot;</font>
  <font color=#1b1baa>$wtree</font> tag configure tagNorm {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$fontN</font>
  <font color=#1b1baa>$wtree</font> tag configure tagSel  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$fontS</font>
  <font color=#1b1baa>$wtree</font> tag configure tagBold <font color=#6c3e67>-foreground</font> magenta
  <font color=#1b1baa>$wtree</font> tag configure tagTODO <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgtodo</font>
  <font color=#1b1baa>$wtree</font> tag configure tagBranch <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgbr</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddTagSel'>AddTagSel</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds tagSel tag to the unit tree's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddTagSel</span> <span class='ruff_arg'>wtree ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>the item's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_AddTagSel' href="javascript:toggleSource('alited_tree_AddTagSel')">Show source</a></p>
<div id='alited_tree_AddTagSel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AddTagSel {wtree ID} {
  <i><font color=#4b5d50># Adds tagSel tag to the unit tree's item.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>
  <i><font color=#4b5d50>#   ID - the item's ID</font></i>

  <b><font color=#3a6797>set</font></b> leaf [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 5]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$leaf</font>] && ![<font color=#1b1baa>$wtree</font> tag has tagTODO <font color=#1b1baa>$ID</font>]} {
    <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$ID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddToDirContents'>AddToDirContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds an item to a list of directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddToDirContents</span> <span class='ruff_arg'>lev isfile fname iroot</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level in the directory hierarchy</td></tr>
<tr><td class='ruff_defitem'><code><code>isfile</code></code></td><td class='ruff_defitem'>a flag &quot;file&quot; (if yes) or &quot;directory&quot; (if no)</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>a file name to be added</td></tr>
<tr><td class='ruff_defitem'><code><code>iroot</code></code></td><td class='ruff_defitem'>index of the directory's parent or -1</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_AddToDirContents' href="javascript:toggleSource('alited_tree_AddToDirContents')">Show source</a></p>
<div id='alited_tree_AddToDirContents' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AddToDirContents {lev isfile fname iroot} {
  <i><font color=#4b5d50># Adds an item to a list of directory's contents.</font></i>
  <i><font color=#4b5d50>#   lev - level in the directory hierarchy</font></i>
  <i><font color=#4b5d50>#   isfile - a flag &quot;file&quot; (if yes) or &quot;directory&quot; (if no)</font></i>
  <i><font color=#4b5d50>#   fname - a file name to be added</font></i>
  <i><font color=#4b5d50>#   iroot - index of the directory's parent or -1</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al _dirtree _dirtree
  <b><font color=#3a6797>set</font></b> dllen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$_dirtree</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dllen</font> &lt; <font color=#1b1baa>$al(MAXFILES)</font>} {
    <b><font color=#3a6797>lappend</font></b> _dirtree [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$fname</font> 0 <font color=#1b1baa>$iroot</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iroot</font>&gt;-1} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$_dirtree</font> <font color=#1b1baa>$iroot</font>] lev isfile fname fcount sroot
      <b><font color=#3a6797>set</font></b> _dirtree [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$_dirtree</font> <font color=#1b1baa>$iroot</font> <font color=#1b1baa>$iroot</font>  [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$fname</font> [<b><font color=#3a6797>incr</font></b> fcount] <font color=#1b1baa>$sroot</font>]]
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$dllen</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AdjustWidth'>AdjustWidth</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fixes a problem with the tree scrollbar's width at resizing the panes. The problem occurs if Frame's width is less than Tree's + Scrollbar's, as then the scrollbar is squeezed. Thus the Tree's width should be adjusted. The restart of alited will fully repair this.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AdjustWidth</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_AdjustWidth' href="javascript:toggleSource('alited_tree_AdjustWidth')">Show source</a></p>
<div id='alited_tree_AdjustWidth' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AdjustWidth {} {
  <i><font color=#4b5d50># Fixes a problem with the tree scrollbar's width at resizing the panes.</font></i>
  <i><font color=#4b5d50># The problem occurs if Frame's width is less than Tree's + Scrollbar's, as</font></i>
  <i><font color=#4b5d50># then the scrollbar is squeezed. Thus the Tree's width should be adjusted.</font></i>
  <i><font color=#4b5d50># The restart of alited will fully repair this.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wpf [<b><font color=#134070>winfo</font></b> width [<font color=#1b1baa>$obPav</font> FraTree]]
  <b><font color=#3a6797>set</font></b> ws1 [<b><font color=#134070>winfo</font></b> width [<font color=#1b1baa>$obPav</font> SbvTree]]
  <b><font color=#3a6797>set</font></b> ws2 [<b><font color=#134070>winfo</font></b> width [<font color=#1b1baa>$obPav</font> SbvFavor]]
  <b><font color=#3a6797>set</font></b> w2 [[<font color=#1b1baa>$obPav</font> Tree] column #1 <font color=#6c3e67>-width</font>]
  [<font color=#1b1baa>$obPav</font> Tree] column #0 <font color=#6c3e67>-width</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$wpf</font>-<font color=#1b1baa>$w2</font>-<font color=#1b1baa>$ws2</font>-4}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonMotion'>ButtonMotion</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Starts moving an item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonMotion</span> <span class='ruff_arg'>but s x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>state (ctrl/alt/shift)</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ButtonMotion' href="javascript:toggleSource('alited_tree_ButtonMotion')">Show source</a></p>
<div id='alited_tree_ButtonMotion' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ButtonMotion {but s x y X Y} {
  <i><font color=#4b5d50># Starts moving an item of the tree.</font></i>
  <i><font color=#4b5d50>#   but - mouse button</font></i>
  <i><font color=#4b5d50>#   s - state (ctrl/alt/shift)</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - x-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(movWin)] || <font color=#1b1baa>$al(movWin)</font> eq {}} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$s</font> & 0b111} {
    <b><font color=#3a6797>set</font></b> al(movWin) {}
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <i><font color=#4b5d50># dragging the tab</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$al(movWin)</font>]} {
    <i><font color=#4b5d50># make the tab's replica to be dragged</font></i>
    <b><font color=#134070>toplevel</font></b> <font color=#1b1baa>$al(movWin)</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(IsWindows)</font>} {
      <b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$al(movWin)</font> <font color=#6c3e67>-alpha</font> 0.0
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>wm</font></b> withdraw <font color=#1b1baa>$al(movWin)</font>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>tk</font></b> windowingsystem] eq {aqua}} {
      ::tk::unsupported::MacWindowStyle style <font color=#1b1baa>$al(movWin)</font> help none
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>wm</font></b> overrideredirect <font color=#1b1baa>$al(movWin)</font> 1
    }
    <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]]&gt;1} {
      <b><font color=#3a6797>set</font></b> al(movID) <font color=#1b1baa>$selection</font>
      <b><font color=#3a6797>set</font></b> text <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>il items&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> text [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$al(movID)</font> <font color=#6c3e67>-text</font>]
    }
    <b><font color=#134070>label</font></b> <font color=#1b1baa>$al(movWin)</font>.label <font color=#6c3e67>-text</font> <font color=#1b1baa>$text</font> <font color=#6c3e67>-relief</font> solid  <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$al(MOVEFG)</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$al(MOVEBG)</font>
    <b><font color=#134070>pack</font></b> <font color=#1b1baa>$al(movWin)</font>.label <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-ipadx</font> 1
  }
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$al(movWin)</font> +[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$X</font>+10}]+[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$Y</font>+10}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(IsWindows)</font>} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$al(movWin)</font> <font color=#6c3e67>-alpha</font>] &lt; 0.1} {<b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$al(movWin)</font> <font color=#6c3e67>-alpha</font> 1.0}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>wm</font></b> deiconify <font color=#1b1baa>$al(movWin)</font> ; <b><font color=#134070>raise</font></b> <font color=#1b1baa>$al(movWin)</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonPress'>ButtonPress</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a mouse clicking the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonPress</span> <span class='ruff_arg'>but x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ButtonPress' href="javascript:toggleSource('alited_tree_ButtonPress')">Show source</a></p>
<div id='alited_tree_ButtonPress' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ButtonPress {but x y X Y} {
  <i><font color=#4b5d50># Handles a mouse clicking the tree.</font></i>
  <i><font color=#4b5d50>#   but - mouse button</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - x-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#3a6797>set</font></b> region [<font color=#1b1baa>$wtree</font> identify region <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#3a6797>set</font></b> al(movID) [<b><font color=#3a6797>set</font></b> al(movWin) {}]
  <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>] || <font color=#1b1baa>$region</font> ni {tree cell}} {
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># only tree items are processed</font></i>
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$but</font> {
    {3} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<font color=#1b1baa>$wtree</font> selection]]&lt;2} {
        <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$ID</font>
      }
      ShowPopupMenu <font color=#1b1baa>$ID</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
    }
    {1} {
      <b><font color=#3a6797>set</font></b> al(movID) <font color=#1b1baa>$ID</font>
      <b><font color=#3a6797>set</font></b> al(movWin) .tritem_move
      <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
      <b><font color=#3a6797>set</font></b> doubleclick [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>info</font></b> exists al(_MSEC)] && [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$al(_MSEC)</font>)&lt;400}]}]
      <b><font color=#3a6797>set</font></b> al(_MSEC) <font color=#1b1baa>$msec</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doubleclick</font>} {     ;<i><font color=#4b5d50># at double click:</font></i>
        DestroyMoveWindow yes ;<i><font color=#4b5d50># disable any drag-drop</font></i>
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
        NewSelection <font color=#1b1baa>$ID</font>
        alited::main::SaveVisitInfo
      } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$doubleclick</font>} {
        OpenFile <font color=#1b1baa>$ID</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonRelease'>ButtonRelease</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a mouse button releasing on the tree, at moving an item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonRelease</span> <span class='ruff_arg'>but s x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>state (ctrl/alt/shift)</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ButtonRelease' href="javascript:toggleSource('alited_tree_ButtonRelease')">Show source</a></p>
<div id='alited_tree_ButtonRelease' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ButtonRelease {but s x y X Y} {
  <i><font color=#4b5d50># Handles a mouse button releasing on the tree, at moving an item.</font></i>
  <i><font color=#4b5d50>#   but - mouse button</font></i>
  <i><font color=#4b5d50>#   s - state (ctrl/alt/shift)</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - x-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  DestroyMoveWindow no
  <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
  <b><font color=#3a6797>set</font></b> ctrl [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$s</font> & 0b100}]
  <b><font color=#3a6797>if</font></b> {([<b><font color=#3a6797>info</font></b> exists al(_MSEC)] && [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$al(_MSEC)</font>)&lt;400}]) || <font color=#1b1baa>$ctrl</font>} {
    SelectUnits <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ctrl</font>
    <b><font color=#3a6797>set</font></b> al(movWin) {}
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>] && [<b><font color=#3a6797>info</font></b> exists al(movID)] &&  <font color=#1b1baa>$al(movID)</font> ne {} && <font color=#1b1baa>$ID</font> ne {} && <font color=#1b1baa>$al(movID)</font> ne <font color=#1b1baa>$ID</font> &&  [<font color=#1b1baa>$wtree</font> identify region <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>] eq {tree}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      alited::unit::MoveUnits <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$al(movID)</font> <font color=#1b1baa>$ID</font>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::MoveFiles <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$al(movID)</font> <font color=#1b1baa>$ID</font>
    }
  }
  DestroyMoveWindow yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ColorUnitsTree'>ColorUnitsTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Color units of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorUnitsTree</span> <span class='ruff_arg'>TID wtxt wtree wait</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>a current tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wait</code></code></td><td class='ruff_defitem'>waiting mode: -1 no wait, &gt;0 wait for highlighting done, 0 waiting done</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ColorUnitsTree' href="javascript:toggleSource('alited_tree_ColorUnitsTree')">Show source</a></p>
<div id='alited_tree_ColorUnitsTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ColorUnitsTree {TID wtxt wtree wait} {
  <i><font color=#4b5d50># Color units of the tree.</font></i>
  <i><font color=#4b5d50>#   TID - a current tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>
  <i><font color=#4b5d50>#   wait - waiting mode: -1 no wait, &gt;0 wait for highlighting done, 0 waiting done</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne [alited::bar::CurrentTabID]} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># colorizing should wait for the highlighting done</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wait</font>&gt;0} {
    <b><font color=#3a6797>if</font></b> {[alited::file::IsClang [alited::bar::FileName <font color=#1b1baa>$TID</font>]]} {
      <b><font color=#3a6797>set</font></b> dowait [<b><font color=#3a6797>expr</font></b> {![::hl_c::isdone <font color=#1b1baa>$wtxt</font>]}]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> dowait [<b><font color=#3a6797>expr</font></b> {![::hl_tcl::isdone <font color=#1b1baa>$wtxt</font>]}]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dowait</font>} {
      <b><font color=#3a6797>incr</font></b> wait -1
      <b><font color=#3a6797>after</font></b> 100 [<b><font color=#3a6797>list</font></b> alited::tree::ColorUnitsTree <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$wait</font>]
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> ctab [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> todolist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> {tr1 tr2} [<font color=#1b1baa>$wtxt</font> tag ranges tagCMN2] {
    <b><font color=#3a6797>lappend</font></b> todolist [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$tr1</font>)}]
  }
  <font color=#1b1baa>$wtree</font> tag remove tagTODO
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wait</font>==-1} {
    <font color=#1b1baa>$wtree</font> tag remove tagBranch
    <font color=#1b1baa>$wtree</font> tag remove tagSel
  }
  <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]&lt;3} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> itemID  [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>set</font></b> tag tagNorm
    <b><font color=#3a6797>foreach</font></b> tr <font color=#1b1baa>$todolist</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tr</font>&gt;=<font color=#1b1baa>$l1</font> && <font color=#1b1baa>$tr</font>&lt;=<font color=#1b1baa>$l2</font>} {
        <b><font color=#3a6797>set</font></b> tag tagTODO
        <b><font color=#ca14ca>break</font></b>
      }
    }
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font> &&  [<b><font color=#3a6797>info</font></b> exists al(CPOS,<font color=#1b1baa>$ctab</font>,[alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font>])]} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tag</font> ne {tagTODO}} {<b><font color=#3a6797>set</font></b> tag tagSel}
      }
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$leaf</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tag</font> ne {tagTODO}} {<b><font color=#3a6797>set</font></b> tag tagBranch}
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tag</font> ne {tagNorm} && (<font color=#1b1baa>$wait</font>==-1 && <font color=#1b1baa>$tag</font> ne {tagTODO} || <font color=#1b1baa>$tag</font> eq {tagTODO})} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> tag add <font color=#1b1baa>$tag</font> <font color=#1b1baa>$itemID</font>}]} <b><font color=#ca14ca>break</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::Create'>Create</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a tree of units/files, at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Create</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::CreateFilesTree" title="CreateFilesTree" class='ruff_cmd'>CreateFilesTree</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_Create' href="javascript:toggleSource('alited_tree_Create')">Show source</a></p>
<div id='alited_tree_Create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::Create {} {
  <i><font color=#4b5d50># Creates a tree of units/files, at need.</font></i>
  <i><font color=#4b5d50># See also: CreateFilesTree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font> && <font color=#1b1baa>$al(TREE,units)</font>  || !<font color=#1b1baa>$al(TREE,isunits)</font> && <font color=#1b1baa>$al(TREE,files)</font>} <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># no need</font></i>
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> BtTRenT] ;<i><font color=#4b5d50># hide file buttons for unit tree</font></i>
    <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> BtTCloT]
    <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> BtTOpen]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> BtTRenT] <font color=#6c3e67>-side</font> left <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> BtTAddT]  ;<i><font color=#4b5d50># show file buttons</font></i>
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> BtTCloT] <font color=#6c3e67>-side</font> left <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> BtTDelT]
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> BtTOpen] <font color=#6c3e67>-side</font> left <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> BtTCloT]
    <i><font color=#4b5d50># get file tree's current &quot;open branch&quot; flags to check in CreateFilesTree</font></i>
    <b><font color=#3a6797>set</font></b> al(FILETREE_BRANCH_OPEN) [<b><font color=#3a6797>dict</font></b> create]
    <b><font color=#3a6797>foreach</font></b> item [GetTree] {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> - - ID - values
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> -&gt; fname isfile
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is false <font color=#6c3e67>-strict</font> <font color=#1b1baa>$isfile</font>] && [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-open</font>]} {
        <b><font color=#3a6797>dict</font></b> set al(FILETREE_BRANCH_OPEN) <font color=#1b1baa>$fname</font> 1
      }
    }
  }
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  Delete <font color=#1b1baa>$wtree</font> {} <font color=#1b1baa>$TID</font>
  AddTags <font color=#1b1baa>$wtree</font>
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonPress&gt; {<b><font color=#3a6797>after</font></b> idle {alited::tree::ButtonPress %b %x %y %X %Y}}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonRelease&gt; {<b><font color=#3a6797>after</font></b> idle {alited::tree::ButtonRelease %b %s %x %y %X %Y}}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;Motion&gt; {<b><font color=#3a6797>after</font></b> idle {alited::tree::ButtonMotion %b %s %x %y %X %Y}}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;ButtonRelease&gt; {alited::tree::DestroyMoveWindow no}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;Leave&gt; {alited::tree::DestroyMoveWindow yes}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;F2&gt; {alited::file::RenameFileInTree 0 -}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;Insert&gt; {alited::tree::AddItem}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;Delete&gt; {alited::tree::DelItem {} {}}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    CreateUnitsTree <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtree</font>
  } <b><font color=#3a6797>else</font></b> {
    CreateFilesTree <font color=#1b1baa>$wtree</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CreateFilesTree'>CreateFilesTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateFilesTree</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_CreateFilesTree' href="javascript:toggleSource('alited_tree_CreateFilesTree')">Show source</a></p>
<div id='alited_tree_CreateFilesTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CreateFilesTree {wtree} {
  <i><font color=#4b5d50># Creates a file tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(TREE,files) yes
  [<font color=#1b1baa>$obPav</font> BtTswitch] configure <font color=#6c3e67>-image</font> alimg_gulls
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTswitch] <font color=#1b1baa>$al(MC,swfiles)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTAddT] <font color=#1b1baa>$al(MC,filesadd)</font>\nInsert
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTDelT] <font color=#1b1baa>$al(MC,filesdel)</font>\nDelete
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTUp] <font color=#1b1baa>$al(MC,moveupF)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTDown] <font color=#1b1baa>$al(MC,movedownF)</font>
  <font color=#1b1baa>$wtree</font> heading #0 <font color=#6c3e67>-text</font> <font color=#8b2a0e>&quot;:: <font color=#1b1baa>$</font>al(prjname) ::&quot;</font>
  <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> <font color=#1b1baa>$al(MC,files)</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;Return&gt; {::alited::tree::OpenFile}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> selfile [alited::bar::FileName]}]} {
    <b><font color=#3a6797>set</font></b> selfile {} ;<i><font color=#4b5d50># at closing by Ctrl+W with file tree open: no current file</font></i>
  }
  <b><font color=#3a6797>set</font></b> filesTIDs [alited::bar::FilesTIDs]
  PrepareDirectoryContents
  <b><font color=#3a6797>foreach</font></b> item [GetDirectoryContents <font color=#1b1baa>$al(prjroot)</font>] {
    <b><font color=#3a6797>set</font></b> itemID  [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev isfile fname fcount iroot
    <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iroot</font>&lt;0} {
      <b><font color=#3a6797>set</font></b> parent {}
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> parent [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iroot]]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>if</font></b> {[alited::file::IsTcl <font color=#1b1baa>$fname</font>]} {
        <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_tclfile}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_file}
      }
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_folder}
      <i><font color=#4b5d50># get the directory's flag of expanded branch (in the file tree)</font></i>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fcount</font>} {<b><font color=#3a6797>set</font></b> fc <font color=#1b1baa>$fcount</font>} {<b><font color=#3a6797>set</font></b> fc {}}
    <b><font color=#3a6797>set</font></b> isopen [<b><font color=#3a6797>dict</font></b> exists <font color=#1b1baa>$al(FILETREE_BRANCH_OPEN)</font> <font color=#1b1baa>$fname</font>]
    <font color=#1b1baa>$wtree</font> insert <font color=#1b1baa>$parent</font> end <font color=#6c3e67>-id</font> <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-text</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>title&quot;</font>  <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fc</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$itemID</font>] <font color=#6c3e67>-open</font> <font color=#1b1baa>$isopen</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$imgopt</font>
    <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$itemID</font>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isfile</font>} {
      <font color=#1b1baa>$wtree</font> tag add tagBranch <font color=#1b1baa>$itemID</font>
    } <b><font color=#3a6797>elseif</font></b> {[alited::bar::FileTID <font color=#1b1baa>$fname</font> <font color=#1b1baa>$filesTIDs</font>] ne {}} {
      <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CreateUnitsTree'>CreateUnitsTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a unit tree for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateUnitsTree</span> <span class='ruff_arg'>TID wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>a current tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_CreateUnitsTree' href="javascript:toggleSource('alited_tree_CreateUnitsTree')">Show source</a></p>
<div id='alited_tree_CreateUnitsTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CreateUnitsTree {TID wtree} {
  <i><font color=#4b5d50># Creates a unit tree for a tab.</font></i>
  <i><font color=#4b5d50>#   TID - a current tab's ID</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(TREE,units) yes
  [<font color=#1b1baa>$obPav</font> BtTswitch] configure <font color=#6c3e67>-image</font> alimg_folder
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTswitch] <font color=#1b1baa>$al(MC,swunits)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTAddT] <font color=#1b1baa>$al(MC,tpl)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTDelT] <font color=#1b1baa>$al(MC,unitsdel)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTUp] <font color=#1b1baa>$al(MC,moveupU)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BtTDown] <font color=#1b1baa>$al(MC,movedownU)</font>
  <font color=#1b1baa>$wtree</font> heading #0 <font color=#6c3e67>-text</font> [alited::bar::CurrentTab 1]
  <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc Row]
  <b><font color=#3a6797>set</font></b> parents [<b><font color=#3a6797>list</font></b> {}]
  <b><font color=#3a6797>set</font></b> parent {}
  <b><font color=#3a6797>set</font></b> levprev -1
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>incr</font></b> iiuni
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]&lt;3} <b><font color=#ca14ca>continue</font></b>
    <b><font color=#3a6797>set</font></b> itemID  [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>set</font></b> title [UnitTitle <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
    <b><font color=#3a6797>set</font></b> lev [<b><font color=#3a6797>expr</font></b> {min(<font color=#1b1baa>$lev</font>,[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$parents</font>])}]
    <b><font color=#3a6797>set</font></b> parent [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$parents</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>-1}]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font>} {
      <b><font color=#3a6797>set</font></b> title <font color=#8b2a0e>&quot; <font color=#1b1baa>$</font>title&quot;</font>
      <b><font color=#3a6797>set</font></b> pr [<b><font color=#3a6797>expr</font></b> {max(0,min(7,(<font color=#1b1baa>$l2</font>-<font color=#1b1baa>$l1</font>-<font color=#1b1baa>$::alited::al(minredunit)</font>)/<font color=#1b1baa>$al(prjredunit)</font>))}]
      <b><font color=#3a6797>set</font></b> imgopt <font color=#8b2a0e>&quot;-image alimg_pro<font color=#1b1baa>$</font>pr&quot;</font>
      <b><font color=#3a6797>set</font></b> isopen no
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> imgopt <font color=#8b2a0e>&quot;-image alimg_gulls&quot;</font>
      <b><font color=#3a6797>set</font></b> levtmp [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$iiuni</font> 0]
      <b><font color=#3a6797>set</font></b> isopen [<b><font color=#3a6797>expr</font></b> (<font color=#1b1baa>$levtmp</font>+0)&gt;<font color=#1b1baa>$lev</font>]
    }
    <font color=#1b1baa>$wtree</font> insert <font color=#1b1baa>$parent</font> end <font color=#6c3e67>-id</font> <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-text</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>title&quot;</font>  <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font> {} <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$leaf</font> <font color=#1b1baa>$fl1</font>] <font color=#6c3e67>-open</font> <font color=#1b1baa>$isopen</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$imgopt</font>
    <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$itemID</font>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$leaf</font>} {
      <b><font color=#3a6797>set</font></b> parent <font color=#1b1baa>$itemID</font>
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> parents [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$parents</font> <font color=#1b1baa>$lev</font> end <font color=#1b1baa>$parent</font>]}
    }
    <b><font color=#3a6797>set</font></b> levprev <font color=#1b1baa>$lev</font>
  }
  alited::tree::ColorUnitsTree <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wtree</font> -1  ;<i><font color=#4b5d50># color without todos, then with</font></i>
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after 10 [<b><font color=#3a6797>list</font></b> alited::tree::ColorUnitsTree <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wtree</font> 50]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CurrentItem'>CurrentItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID of selected item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentItem</span> <span class='ruff_arg'>?Tree? ?wtree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>the tree widget's name; <i>optional, default</i> <code>Tree</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>full path to the tree; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_CurrentItem' href="javascript:toggleSource('alited_tree_CurrentItem')">Show source</a></p>
<div id='alited_tree_CurrentItem' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CurrentItem {{Tree Tree} {wtree {}}} {
  <i><font color=#4b5d50># Gets ID of selected item of the tree.</font></i>
  <i><font color=#4b5d50>#   Tree - the tree widget's name</font></i>
  <i><font color=#4b5d50>#   wtree - full path to the tree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> eq {}} {<b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$Tree</font>]}
  <b><font color=#3a6797>set</font></b> it [<font color=#1b1baa>$wtree</font> focus]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$it</font> eq {}} {<b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> selection] 0]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$it</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CurrentItemByLine'>CurrentItemByLine</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets item ID of unit tree for a current text position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentItemByLine</span> <span class='ruff_arg'>?pos? ?fullinfo?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>the current text position; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fullinfo</code></code></td><td class='ruff_defitem'>if yes, returns a full info for the found ID; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_CurrentItemByLine' href="javascript:toggleSource('alited_tree_CurrentItemByLine')">Show source</a></p>
<div id='alited_tree_CurrentItemByLine' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CurrentItemByLine {{pos {}} {fullinfo no}} {
  <i><font color=#4b5d50># Gets item ID of unit tree for a current text position.</font></i>
  <i><font color=#4b5d50>#   pos - the current text position</font></i>
  <i><font color=#4b5d50>#  fullinfo - if yes, returns a full info for the found ID.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {
    <b><font color=#3a6797>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
  }
  <b><font color=#3a6797>set</font></b> l [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> L 0
  <b><font color=#3a6797>set</font></b> R [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font>]
  <b><font color=#3a6797>while</font></b> {<font color=#1b1baa>$L</font>&lt;<font color=#1b1baa>$R</font>} {
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>expr</font></b> {int((<font color=#1b1baa>$L</font>+<font color=#1b1baa>$R</font>)/2)}]
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$m</font>] lev leaf fl1 title l1 l2 ID
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l2</font>&lt;<font color=#1b1baa>$l</font>} {
      <b><font color=#3a6797>set</font></b> L [<b><font color=#3a6797>incr</font></b> m]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$l1</font>&gt;<font color=#1b1baa>$l</font>} {
      <b><font color=#3a6797>set</font></b> R <font color=#1b1baa>$m</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fullinfo</font>} {
        <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$ID</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$leaf</font> <font color=#1b1baa>$fl1</font> <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
      }
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ID</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes recursively an item and its children from the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>wtree item TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>ID of the item to be deleted.</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_Delete' href="javascript:toggleSource('alited_tree_Delete')">Show source</a></p>
<div id='alited_tree_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::Delete {wtree item TID} {
  <i><font color=#4b5d50># Removes recursively an item and its children from the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree widget's path</font></i>
  <i><font color=#4b5d50>#   item - ID of the item to be deleted.</font></i>

  <b><font color=#3a6797>foreach</font></b> child [<font color=#1b1baa>$wtree</font> children <font color=#1b1baa>$item</font>] {
    alited::tree::Delete <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$child</font> <font color=#1b1baa>$TID</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {<font color=#1b1baa>$wtree</font> delete <font color=#1b1baa>$item</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DelItem'>DelItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes an item from the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DelItem</span> <span class='ruff_arg'>?ID? ?sy?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>an item's ID to be deleted; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>sy</code></code></td><td class='ruff_defitem'>relative Y-coordinate for a query; <i>optional, default</i> <code>10</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_DelItem' href="javascript:toggleSource('alited_tree_DelItem')">Show source</a></p>
<div id='alited_tree_DelItem' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DelItem {{ID {}} {sy 10}} {
  <i><font color=#4b5d50># Removes an item from the tree.</font></i>
  <i><font color=#4b5d50>#   ID - an item's ID to be deleted.</font></i>
  <i><font color=#4b5d50>#   sy - relative Y-coordinate for a query</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq {} && [<b><font color=#3a6797>set</font></b> ID [alited::tree::CurrentItem]] eq {}} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    alited::unit::Delete <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$sy</font>
  } <b><font color=#3a6797>else</font></b> {
    alited::file::Delete <font color=#1b1baa>$ID</font> <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$sy</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DestroyMoveWindow'>DestroyMoveWindow</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys an item moving window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DestroyMoveWindow</span> <span class='ruff_arg'>cancel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cancel</code></code></td><td class='ruff_defitem'>if yes, clears also the related variables.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_DestroyMoveWindow' href="javascript:toggleSource('alited_tree_DestroyMoveWindow')">Show source</a></p>
<div id='alited_tree_DestroyMoveWindow' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DestroyMoveWindow {cancel} {
  <i><font color=#4b5d50># Destroys an item moving window.</font></i>
  <i><font color=#4b5d50>#   cancel - if yes, clears also the related variables.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$al(movWin)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cancel</font>} {<b><font color=#3a6797>lassign</font></b> {} al(movWin) al(movID)}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DirContents'>DirContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DirContents</span> <span class='ruff_arg'>dirname ?lev? ?iroot? ?globs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirname</code></code></td><td class='ruff_defitem'>a dirtectory's name</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level in the directory hierarchy; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>iroot</code></code></td><td class='ruff_defitem'>index of the directory's parent or -1; <i>optional, default</i> <code>-1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>globs</code></code></td><td class='ruff_defitem'>list of globs to filter files; <i>optional, default</i> <code>*</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::GetDirectoryContents" title="GetDirectoryContents" class='ruff_cmd'>GetDirectoryContents</a>, <a href="alited.html#::alited::tree::AddToDirContents" title="AddToDirContents" class='ruff_cmd'>AddToDirContents</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_DirContents' href="javascript:toggleSource('alited_tree_DirContents')">Show source</a></p>
<div id='alited_tree_DirContents' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DirContents {dirname {lev 0} {iroot -1} {globs *}} {
  <i><font color=#4b5d50># Reads a directory's contents.</font></i>
  <i><font color=#4b5d50>#   dirname - a dirtectory's name</font></i>
  <i><font color=#4b5d50>#   lev - level in the directory hierarchy</font></i>
  <i><font color=#4b5d50>#   iroot - index of the directory's parent or -1</font></i>
  <i><font color=#4b5d50>#   globs - list of globs to filter files.</font></i>
  <i><font color=#4b5d50># See also:</font></i>
  <i><font color=#4b5d50>#   GetDirectoryContents</font></i>
  <i><font color=#4b5d50>#   AddToDirContents</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al _dirtree _dirtree
  <b><font color=#3a6797>incr</font></b> lev
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dirname</font> *]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>glob</font></b> <font color=#1b1baa>$tpl</font>]}]} {
    <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>lappend</font></b> dcont {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-type</font> hidden <font color=#1b1baa>$tpl</font>]
  }
  <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$dcont</font>]
  <i><font color=#4b5d50># firstly directories:</font></i>
  <i><font color=#4b5d50># 1. skip the ignored ones</font></i>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$dcont</font>]} {<font color=#1b1baa>$i</font>} {} {
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>if</font></b> {[IgnoredDir [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font>]]} {
      <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
  }
  <i><font color=#4b5d50># 2. put the directories to the beginning of the file list</font></i>
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>foreach</font></b> fname <font color=#1b1baa>$dcont</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$fname</font>]} {
      <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#8b2a0e>&quot;y&quot;</font>]]
      <b><font color=#3a6797>set</font></b> nroot [AddToDirContents <font color=#1b1baa>$lev</font> 0 <font color=#1b1baa>$fname</font> <font color=#1b1baa>$iroot</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$_dirtree</font>] &lt; <font color=#1b1baa>$al(MAXFILES)</font>} {
        DirContents <font color=#1b1baa>$fname</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$nroot</font> <font color=#1b1baa>$globs</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#ca14ca>break</font></b>
      }
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font>]]
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <i><font color=#4b5d50># then files</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$_dirtree</font>] &lt; <font color=#1b1baa>$al(MAXFILES)</font>} {
    <b><font color=#3a6797>foreach</font></b> fname <font color=#1b1baa>$dcont</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$fname</font> fname d
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$d</font> ne <font color=#8b2a0e>&quot;y&quot;</font>} {
        <b><font color=#3a6797>foreach</font></b> gl [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$globs</font> <font color=#8b2a0e>&quot;,&quot;</font>] {
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$gl</font> <font color=#1b1baa>$fname</font>]} {
            AddToDirContents <font color=#1b1baa>$lev</font> 1 <font color=#1b1baa>$fname</font> <font color=#1b1baa>$iroot</font>
            <b><font color=#ca14ca>break</font></b>
          }
        }
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DropItems'>DropItems</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Drops (moves) selected items to a current position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropItems</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of an item to be clicked</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_DropItems' href="javascript:toggleSource('alited_tree_DropItems')">Show source</a></p>
<div id='alited_tree_DropItems' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DropItems {ID} {
  <i><font color=#4b5d50># Drops (moves) selected items to a current position.</font></i>
  <i><font color=#4b5d50>#   ID - ID of an item to be clicked</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>] && <font color=#1b1baa>$selection</font> ne {} && <font color=#1b1baa>$ID</font> ne {} && <font color=#1b1baa>$selection</font> ne <font color=#1b1baa>$ID</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      alited::unit::MoveUnits <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$selection</font> <font color=#1b1baa>$ID</font>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::MoveFiles <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$selection</font> <font color=#1b1baa>$ID</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ExpandContractTree'>ExpandContractTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Expands or contracts the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExpandContractTree</span> <span class='ruff_arg'>Tree ?isexp?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>the tree's name</td></tr>
<tr><td class='ruff_defitem'><code><code>isexp</code></code></td><td class='ruff_defitem'>yes, if to expand; no, if to contract; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ExpandContractTree' href="javascript:toggleSource('alited_tree_ExpandContractTree')">Show source</a></p>
<div id='alited_tree_ExpandContractTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ExpandContractTree {Tree {isexp yes}} {
  <i><font color=#4b5d50># Expands or contracts the tree.</font></i>
  <i><font color=#4b5d50>#   Tree - the tree's name</font></i>
  <i><font color=#4b5d50>#   isexp - yes, if to expand; no, if to contract</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$Tree</font>]
  <b><font color=#3a6797>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>lassign</font></b> [CurrentItemByLine <font color=#1b1baa>$pos</font> 1] itemID
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(TREE,isexpand) <font color=#1b1baa>$isexp</font>
    <b><font color=#3a6797>set</font></b> itemID [CurrentItem]
  }
  <b><font color=#3a6797>set</font></b> branch [<b><font color=#3a6797>set</font></b> selbranch {}]
  <b><font color=#3a6797>foreach</font></b> item [GetTree {} <font color=#1b1baa>$Tree</font>] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt ID
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<font color=#1b1baa>$wtree</font> children <font color=#1b1baa>$ID</font>]]} {
      <b><font color=#3a6797>set</font></b> branch <font color=#1b1baa>$ID</font>
      <font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-open</font> <font color=#1b1baa>$isexp</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq <font color=#1b1baa>$itemID</font>} {<b><font color=#3a6797>set</font></b> selbranch <font color=#1b1baa>$branch</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isexp</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> ne {}} {<font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$itemID</font>}
    SeeSelection
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$selbranch</font> ne {}} {
    <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$selbranch</font>
    SeeSelection
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ExpandSelection'>ExpandSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Expands the tree selection, counting the file tree expanded mode.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExpandSelection</span> <span class='ruff_arg'>selID ?wtree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>selID</code></code></td><td class='ruff_defitem'>ID of selection</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ExpandSelection' href="javascript:toggleSource('alited_tree_ExpandSelection')">Show source</a></p>
<div id='alited_tree_ExpandSelection' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ExpandSelection {selID {wtree {}}} {
  <i><font color=#4b5d50># Expands the tree selection, counting the file tree expanded mode.</font></i>
  <i><font color=#4b5d50>#   selID - ID of selection</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font> || <font color=#1b1baa>$al(TREE,isexpand)</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> eq {}} {<b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]}
    <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$selID</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ForEach'>ForEach</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Scans all items of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ForEach</span> <span class='ruff_arg'>wtree aproc ?lev? ?branch?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>aproc</code></code></td><td class='ruff_defitem'>a procedure to run at scanning</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level of the tree; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>branch</code></code></td><td class='ruff_defitem'>ID of the branch to be scanned; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The 'aproc' argument can include wildcards to be replaced appropriate data:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>%level</code></td><td class='ruff_defitem'>current tree level</td></tr>
<tr><td class='ruff_defitem'><code>%children</code></td><td class='ruff_defitem'>children of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%item</code></td><td class='ruff_defitem'>ID of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%text</code></td><td class='ruff_defitem'>text of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%values</code></td><td class='ruff_defitem'>values of a current item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ForEach' href="javascript:toggleSource('alited_tree_ForEach')">Show source</a></p>
<div id='alited_tree_ForEach' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ForEach {wtree aproc {lev 0} {branch {}}} {
  <i><font color=#4b5d50># Scans all items of the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>
  <i><font color=#4b5d50>#   aproc - a procedure to run at scanning</font></i>
  <i><font color=#4b5d50>#   lev - level of the tree</font></i>
  <i><font color=#4b5d50>#   branch - ID of the branch to be scanned</font></i>
  <i><font color=#4b5d50># The 'aproc' argument can include wildcards to be replaced</font></i>
  <i><font color=#4b5d50># appropriate data:</font></i>
  <i><font color=#4b5d50>#    %level - current tree level</font></i>
  <i><font color=#4b5d50>#    %children - children of a current item</font></i>
  <i><font color=#4b5d50>#    %item - ID of a current item</font></i>
  <i><font color=#4b5d50>#    %text - text of a current item</font></i>
  <i><font color=#4b5d50>#    %values - values of a current item</font></i>

  <b><font color=#3a6797>set</font></b> children [<font color=#1b1baa>$wtree</font> children <font color=#1b1baa>$branch</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lev</font>} {
    <b><font color=#3a6797>set</font></b> proc [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b>  %level <font color=#1b1baa>$lev</font>  %children [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$children</font>]  %item <font color=#1b1baa>$branch</font>  %text [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$branch</font> <font color=#6c3e67>-text</font>]  %values [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$branch</font> <font color=#6c3e67>-values</font>]]  <font color=#1b1baa>$aproc</font>]
    <b><font color=#3a6797>uplevel</font></b> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>+1}] <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>proc&quot;</font>
  }
  <b><font color=#3a6797>incr</font></b> lev
  <b><font color=#3a6797>foreach</font></b> child <font color=#1b1baa>$children</font> {
    ForEach <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$aproc</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$child</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetDirectoryContents'>GetDirectoryContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetDirectoryContents</span> <span class='ruff_arg'>dirname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirname</code></code></td><td class='ruff_defitem'>the directory's name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list containing the directory's contents.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::DirContents" title="DirContents" class='ruff_cmd'>DirContents</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_GetDirectoryContents' href="javascript:toggleSource('alited_tree_GetDirectoryContents')">Show source</a></p>
<div id='alited_tree_GetDirectoryContents' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::GetDirectoryContents {dirname} {
  <i><font color=#4b5d50># Gets a directory's contents.</font></i>
  <i><font color=#4b5d50>#   dirname - the directory's name</font></i>
  <i><font color=#4b5d50># Returns a list containing the directory's contents.</font></i>
  <i><font color=#4b5d50># See also: DirContents</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited _dirtree _dirtree
  DirContents <font color=#1b1baa>$dirname</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$_dirtree</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetTooltip'>GetTooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip for unit / file tree's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTooltip</span> <span class='ruff_arg'>ID NC</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of treeview item</td></tr>
<tr><td class='ruff_defitem'><code><code>NC</code></code></td><td class='ruff_defitem'>column of treeview item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_GetTooltip' href="javascript:toggleSource('alited_tree_GetTooltip')">Show source</a></p>
<div id='alited_tree_GetTooltip' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::GetTooltip {ID NC} {
  <i><font color=#4b5d50># Gets a tip for unit / file tree's item.</font></i>
  <i><font color=#4b5d50>#   ID - ID of treeview item</font></i>
  <i><font color=#4b5d50>#   NC - column of treeview item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(movWin)] && <font color=#1b1baa>$al(movWin)</font> ne {} || ![::alited::IsTipable]} {
    <b><font color=#ca14ca>return</font></b> {}  ;<i><font color=#4b5d50># no tips while drag-n-dropping or focusing somewhere else</font></i>
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <i><font color=#4b5d50># for units</font></i>
    <b><font color=#3a6797>set</font></b> tip [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font> <font color=#1b1baa>$NC</font>]
    <i><font color=#4b5d50># try to read and add TODOs for this unit</font></i>
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2
      <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
      <b><font color=#3a6797>append</font></b> tip [UnitTooltip <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TIPS,Tree)</font> && ![<b><font color=#3a6797>info</font></b> exists todo]} {
      <i><font color=#4b5d50># no tips while switched off (excepting for TODOs)</font></i>
      <b><font color=#ca14ca>return</font></b> {}
    }
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># for files</font></i>
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; tip isfile
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,showinfo)</font>} {
        <b><font color=#3a6797>set</font></b> tip [alited::file::FileStat <font color=#1b1baa>$tip</font>]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> tip {}
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetTree'>GetTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tree or its branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTree</span> <span class='ruff_arg'>?parent? ?Tree? ?wtree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>parent</code></code></td><td class='ruff_defitem'>ID of the branch; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>name of the tree widget; <i>optional, default</i> <code>Tree</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>full path to the tree; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_GetTree' href="javascript:toggleSource('alited_tree_GetTree')">Show source</a></p>
<div id='alited_tree_GetTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::GetTree {{parent {}} {Tree Tree} {wtree {}}} {
  <i><font color=#4b5d50># Gets a tree or its branch.</font></i>
  <i><font color=#4b5d50>#   parent - ID of the branch</font></i>
  <i><font color=#4b5d50>#   Tree - name of the tree widget</font></i>
  <i><font color=#4b5d50>#   wtree - full path to the tree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> eq {}} {<b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$Tree</font>]}
  <b><font color=#3a6797>set</font></b> tree [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> levp -1
  ForEach <font color=#1b1baa>$wtree</font> {
    <b><font color=#3a6797>set</font></b> item <font color=#8b2a0e>&quot;%item&quot;</font>
    <b><font color=#3a6797>set</font></b> lev %level
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$levp</font>&gt;-1 || <font color=#1b1baa>$item</font> eq <font color=#1b1baa>$parent</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lev</font>&lt;=<font color=#1b1baa>$levp</font>} {<b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> break}  ;<i><font color=#4b5d50># all of branch fetched</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> eq <font color=#1b1baa>$parent</font>} {<b><font color=#3a6797>set</font></b> levp <font color=#1b1baa>$lev</font>}
    }
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$parent</font> eq {} || <font color=#1b1baa>$levp</font>&gt;-1} {
        <b><font color=#3a6797>lappend</font></b> tree [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> %children <font color=#1b1baa>$item</font> {%text} {%values}]
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tree</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::IgnoredDir'>IgnoredDir</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a directory is in the list of the ignored ones.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IgnoredDir</span> <span class='ruff_arg'>dir</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dir</code></code></td><td class='ruff_defitem'>the directory's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_IgnoredDir' href="javascript:toggleSource('alited_tree_IgnoredDir')">Show source</a></p>
<div id='alited_tree_IgnoredDir' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::IgnoredDir {dir} {
  <i><font color=#4b5d50># Checks if a directory is in the list of the ignored ones.</font></i>
  <i><font color=#4b5d50>#   dir - the directory's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>string</font></b> toupper [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dir</font>]]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(_dirignore)</font> <font color=#1b1baa>$dir</font>]&gt;-1}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::MoveItem'>MoveItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves items of the tree (units or files)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveItem</span> <span class='ruff_arg'>to ?f1112?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (&quot;up&quot; or &quot;down&quot;)</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>true, if started by keypressing (false, if by mouse); <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_MoveItem' href="javascript:toggleSource('alited_tree_MoveItem')">Show source</a></p>
<div id='alited_tree_MoveItem' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::MoveItem {to {f1112 no}} {
  <i><font color=#4b5d50># Moves items of the tree (units or files)</font></i>
  <i><font color=#4b5d50>#   to - direction (&quot;up&quot; or &quot;down&quot;)</font></i>
  <i><font color=#4b5d50>#   f1112 - true, if started by keypressing (false, if by mouse)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font> && [alited::file::MoveExternal <font color=#1b1baa>$f1112</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> eq {}} {
    <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> focus]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$f1112</font>} {<b><font color=#3a6797>set</font></b> geo {}} {<b><font color=#3a6797>set</font></b> geo {<font color=#6c3e67>-geometry</font> pointer+10+10}}
    alited::Message {No item selected.} 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    alited::unit::MoveUnits <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$to</font> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$f1112</font>
  } <b><font color=#3a6797>else</font></b> {
    alited::file::MoveFiles <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$to</font> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$f1112</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::NewItemID'>NewItemID</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a new ID for the tree item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewItemID</span> <span class='ruff_arg'>iit</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>iit</code></code></td><td class='ruff_defitem'>index of the new item.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_NewItemID' href="javascript:toggleSource('alited_tree_NewItemID')">Show source</a></p>
<div id='alited_tree_NewItemID' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::NewItemID {iit} {
  <i><font color=#4b5d50># Gets a new ID for the tree item.</font></i>
  <i><font color=#4b5d50>#   iit - index of the new item.</font></i>

  <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;al<font color=#1b1baa>$</font>iit&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::NewSelection'>NewSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a new item of the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewSelection</span> <span class='ruff_arg'>?itnew? ?line? ?topos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>itnew</code></code></td><td class='ruff_defitem'>ID of the new selected item; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>a relative line number inside the item or an absolute position in the text; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>topos</code></code></td><td class='ruff_defitem'>if yes, 'line' is an absolute position in the text; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns ID of the newly selected item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_NewSelection' href="javascript:toggleSource('alited_tree_NewSelection')">Show source</a></p>
<div id='alited_tree_NewSelection' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::NewSelection {{itnew {}} {line 0} {topos no}} {
  <i><font color=#4b5d50># Selects a new item of the unit tree.</font></i>
  <i><font color=#4b5d50>#   itnew - ID of the new selected item</font></i>
  <i><font color=#4b5d50>#   line - a relative line number inside the item or an absolute position in the text</font></i>
  <i><font color=#4b5d50>#   topos - if yes, 'line' is an absolute position in the text</font></i>
  <i><font color=#4b5d50># Returns ID of the newly selected item.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> doFocus
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> ctab [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <i><font color=#4b5d50># newly selected item</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itnew</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$topos</font>} {
      <b><font color=#3a6797>set</font></b> itnew [CurrentItemByLine <font color=#1b1baa>$line</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> itnew [CurrentItem]
    }
  }
  <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itnew</font>]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itnew</font> <font color=#6c3e67>-values</font>] l1 l2
  AddTagSel <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itnew</font>
  <i><font color=#4b5d50># get saved pos</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(CPOS,<font color=#1b1baa>$ctab</font>,<font color=#1b1baa>$header</font>)]} {
    <b><font color=#3a6797>set</font></b> pos [::apave::p+ <font color=#1b1baa>$l1</font> <font color=#1b1baa>$al(CPOS,$ctab,$header)</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$topos</font>} {
    <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$line</font>
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$l1</font>] && [<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$l2</font>]} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$line</font>] && <font color=#1b1baa>$line</font> != 0 &&  <font color=#1b1baa>$l1</font>&lt;(<font color=#1b1baa>$l1</font>+<font color=#1b1baa>$line</font>) && (<font color=#1b1baa>$l1</font>+<font color=#1b1baa>$line</font>)&lt;(<font color=#1b1baa>$l2</font>+1)} {
      <i><font color=#4b5d50># it's coming from a saved favorite item</font></i>
      <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l1</font>+<font color=#1b1baa>$line</font>}]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font>&lt;<font color=#1b1baa>$l1</font> || <font color=#1b1baa>$pos</font>&gt;=(<font color=#1b1baa>$l2</font>+1)} {
        <i><font color=#4b5d50># if not saved, get it from 1st line</font></i>
        <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$l1</font>.0
      }
    }
  }
  <i><font color=#4b5d50># previously selected item</font></i>
  <b><font color=#3a6797>lassign</font></b> [alited::bar::BAR cget <font color=#6c3e67>--currSelTab</font> <font color=#6c3e67>--currSelItem</font>] otab itold
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itold</font> ne <font color=#8b2a0e>&quot;&quot;</font> && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itold</font> <font color=#6c3e67>-values</font>] o1 o2}]} {
    <i><font color=#4b5d50># if there was the previously selected item, save its cursor position</font></i>
    <b><font color=#3a6797>catch</font></b> {
      <i><font color=#4b5d50># -values at files' tree is invalid for this =&gt; 'catch'</font></i>
      <i><font color=#4b5d50># (then pos=saved position for the whole file, got from --pos)</font></i>
      <b><font color=#3a6797>set</font></b> opos [<font color=#1b1baa>$wtxt</font> index insert]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$o1</font>&lt;=<font color=#1b1baa>$opos</font> && <font color=#1b1baa>$opos</font>&lt;(<font color=#1b1baa>$o2</font>+1)} {
        <b><font color=#3a6797>set</font></b> ohead [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itold</font>]
        <b><font color=#3a6797>set</font></b> al(CPOS,<font color=#1b1baa>$otab</font>,<font color=#1b1baa>$ohead</font>) [::apave::p+ <font color=#1b1baa>$opos</font> -<font color=#1b1baa>$o1</font>]
      }
    }
  }
  alited::bar::BAR configure <font color=#6c3e67>--currSelTab</font> <font color=#1b1baa>$ctab</font> <font color=#6c3e67>--currSelItem</font> <font color=#1b1baa>$itnew</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(CPOS,<font color=#1b1baa>$ctab</font>,<font color=#1b1baa>$header</font>) [::apave::p+ <font color=#1b1baa>$pos</font> -<font color=#1b1baa>$l1</font>]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doFocus</font>} {
    alited::main::FocusText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font> && <font color=#1b1baa>$al(dolastvisited)</font>} {
    alited::favor::LastVisited [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itnew</font>] <font color=#1b1baa>$header</font>
  }
  alited::main::UpdateGutter
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$itnew</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::OpenFile'>OpenFile</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens file at clicking a file tree's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFile</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of unit tree; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_OpenFile' href="javascript:toggleSource('alited_tree_OpenFile')">Show source</a></p>
<div id='alited_tree_OpenFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::OpenFile {{ID {}}} {
  <i><font color=#4b5d50># Opens file at clicking a file tree's item.</font></i>
  <i><font color=#4b5d50>#   ID - ID of unit tree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> selection]] eq {}} <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; fname isfile
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      alited::file::OpenFile <font color=#1b1baa>$fname</font>
      <b><font color=#3a6797>after</font></b> idle {alited::bar::BAR draw; alited::tree::UpdateFileTree}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::PrepareDirectoryContents'>PrepareDirectoryContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares reading a directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PrepareDirectoryContents</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::GetDirectoryContents" title="GetDirectoryContents" class='ruff_cmd'>GetDirectoryContents</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_PrepareDirectoryContents' href="javascript:toggleSource('alited_tree_PrepareDirectoryContents')">Show source</a></p>
<div id='alited_tree_PrepareDirectoryContents' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::PrepareDirectoryContents {} {
  <i><font color=#4b5d50># Prepares reading a directory's contents.</font></i>
  <i><font color=#4b5d50># See also: GetDirectoryContents</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al _dirtree _dirtree
  <b><font color=#3a6797>set</font></b> _dirtree [<b><font color=#3a6797>set</font></b> al(_dirignore) [<b><font color=#3a6797>list</font></b>]]
  <b><font color=#3a6797>catch</font></b> {    ;<i><font color=#4b5d50># there might be an incorrect list -&gt; catch it</font></i>
    <b><font color=#3a6797>foreach</font></b> d <font color=#1b1baa>$al(prjdirign)</font> {
      <b><font color=#3a6797>lappend</font></b> al(_dirignore) [<b><font color=#3a6797>string</font></b> toupper [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$d</font> \&quot;]]
    }
  }
  <b><font color=#3a6797>lappend</font></b> al(_dirignore) [<b><font color=#3a6797>string</font></b> toupper [<b><font color=#3a6797>file</font></b> tail [alited::Tclexe]]] . ..
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::RecreateTree'>RecreateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Recreates the tree and restores its selections.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RecreateTree</span> <span class='ruff_arg'>?wtree? ?headers? ?clearsel?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>a list of selected items; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>clearsel</code></code></td><td class='ruff_defitem'>if yes, clears tree's selection; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_RecreateTree' href="javascript:toggleSource('alited_tree_RecreateTree')">Show source</a></p>
<div id='alited_tree_RecreateTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::RecreateTree {{wtree {}} {headers {}} {clearsel no}} {
  <i><font color=#4b5d50># Recreates the tree and restores its selections.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>
  <i><font color=#4b5d50>#   headers - a list of selected items</font></i>
  <i><font color=#4b5d50>#   clearsel - if yes, clears tree's selection</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> eq {}} {<b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$clearsel</font> || [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]}]} {
    <b><font color=#3a6797>set</font></b> selection [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>set</font></b> al(TREE,units) no
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    alited::unit::RecreateUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(TREE,files) no
  }
  Create
  <i><font color=#4b5d50># restore selections</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$headers</font> eq {-}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$headers</font> ne {}} {
    <b><font color=#3a6797>set</font></b> selection [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree] {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt ID
      <b><font color=#3a6797>foreach</font></b> hd <font color=#1b1baa>$headers</font> {
        <b><font color=#3a6797>if</font></b> {[alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>] eq <font color=#1b1baa>$hd</font>} {
          <b><font color=#3a6797>lappend</font></b> selection <font color=#1b1baa>$ID</font>
          <b><font color=#ca14ca>break</font></b>
        }
      }
    }
    <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$selection</font>
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># try to restore selections</font></i>
    <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$selection</font> {
      <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> selection add <font color=#1b1baa>$item</font>}
    }
  }
  <b><font color=#3a6797>catch</font></b> {ExpandSelection [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selection</font> 0] <font color=#1b1baa>$wtree</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SaveCursorPos'>SaveCursorPos</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves current unit's cursor position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCursorPos</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::favor::GoToUnit" title="favor::GoToUnit" class='ruff_cmd'>favor::GoToUnit</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_SaveCursorPos' href="javascript:toggleSource('alited_tree_SaveCursorPos')">Show source</a></p>
<div id='alited_tree_SaveCursorPos' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SaveCursorPos {} {
  <i><font color=#4b5d50># Saves current unit's cursor position.</font></i>
  <i><font color=#4b5d50># See also: favor::GoToUnit</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <i><font color=#4b5d50># catch is needed at creating text, as the tree doesn't exist</font></i>
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> itnew [CurrentItemByLine <font color=#1b1baa>$pos</font>]
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
    <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itnew</font>]
    <i><font color=#4b5d50># save the position to unit tree list, to restore it in favor::GoToUnit</font></i>
    <b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 6 <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$itnew</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$it</font>&gt;-1} {
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$it</font>]
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$item</font> 7 7 <font color=#1b1baa>$pos</font>]
      <b><font color=#3a6797>set</font></b> al(_unittree,<font color=#1b1baa>$TID</font>) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$it</font> <font color=#1b1baa>$it</font> <font color=#1b1baa>$item</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SeeFile'>SeeFile</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sees file name in file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SeeFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_SeeFile' href="javascript:toggleSource('alited_tree_SeeFile')">Show source</a></p>
<div id='alited_tree_SeeFile' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SeeFile {fname} {
  <i><font color=#4b5d50># Sees file name in file tree.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> id [alited::file::SearchInFileTree <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$id</font> ne {}} {
    <b><font color=#3a6797>after</font></b> 10 <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obPav Tree<font color=#1b1baa>]</font> selection add <font color=#1b1baa>$</font>id; alited::tree::ExpandSelection <font color=#1b1baa>$</font>id&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SeeSelection'>SeeSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sees (makes visible) a current selected item in the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SeeSelection</span> <span class='ruff_arg'>?wtree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_SeeSelection' href="javascript:toggleSource('alited_tree_SeeSelection')">Show source</a></p>
<div id='alited_tree_SeeSelection' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SeeSelection {{wtree {}}} {
  <i><font color=#4b5d50># Sees (makes visible) a current selected item in the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> eq {}} {<b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]}
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]==1} {ExpandSelection <font color=#1b1baa>$selection</font> <font color=#1b1baa>$wtree</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SelectUnits'>SelectUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects units at Ctrl/Shift clicking the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectUnits</span> <span class='ruff_arg'>wtree ctrl</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>path to tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>ctrl</code></code></td><td class='ruff_defitem'>1 if pressed Ctrl/Shift key at clicking</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_SelectUnits' href="javascript:toggleSource('alited_tree_SelectUnits')">Show source</a></p>
<div id='alited_tree_SelectUnits' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SelectUnits {wtree ctrl} {
  <i><font color=#4b5d50># Selects units at Ctrl/Shift clicking the unit tree.</font></i>
  <i><font color=#4b5d50>#   wtree - path to tree widget</font></i>
  <i><font color=#4b5d50>#   ctrl - 1 if pressed Ctrl/Shift key at clicking</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ctrl</font> || !<font color=#1b1baa>$al(TREE,isunits)</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <font color=#1b1baa>$wtxt</font> tag remove sel 1.0 end
  <b><font color=#3a6797>foreach</font></b> ID [<font color=#1b1baa>$wtree</font> selection] {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2
    <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$l1</font>.0 [<b><font color=#3a6797>incr</font></b> l2].0
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ShowPopupMenu'>ShowPopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and opens a popup menu at right clicking the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowPopupMenu</span> <span class='ruff_arg'>ID X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of clicked item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_ShowPopupMenu' href="javascript:toggleSource('alited_tree_ShowPopupMenu')">Show source</a></p>
<div id='alited_tree_ShowPopupMenu' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ShowPopupMenu {ID X Y} {
  <i><font color=#4b5d50># Creates and opens a popup menu at right clicking the tree.</font></i>
  <i><font color=#4b5d50>#   ID - ID of clicked item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  ::baltip sleep 1000
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$wtree</font>.popup
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <b><font color=#3a6797>set</font></b> header [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>] \n] 0]
  <b><font color=#3a6797>set</font></b> sname [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; fname isfile - - isunit
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>set</font></b> img alimg_folder
    <b><font color=#3a6797>set</font></b> m1 <font color=#1b1baa>$al(MC,swunits)</font>
    <b><font color=#3a6797>set</font></b> m2 <font color=#1b1baa>$al(MC,tpl)</font>
    <b><font color=#3a6797>set</font></b> m3 <font color=#1b1baa>$al(MC,unitsdel)</font>
    <b><font color=#3a6797>set</font></b> moveup <font color=#1b1baa>$al(MC,moveupU)</font>
    <b><font color=#3a6797>set</font></b> movedown <font color=#1b1baa>$al(MC,movedownU)</font>
    <b><font color=#3a6797>set</font></b> dropitem [msgcat::mc {Drop Selected Units Here}]
    <b><font color=#3a6797>set</font></b> accins {}
    <b><font color=#3a6797>set</font></b> accdel {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> img alimg_gulls
    <b><font color=#3a6797>set</font></b> m1 <font color=#1b1baa>$al(MC,swfiles)</font>
    <b><font color=#3a6797>set</font></b> m2 <font color=#1b1baa>$al(MC,filesadd...)</font>
    <b><font color=#3a6797>set</font></b> m3 <font color=#1b1baa>$al(MC,filesdel)</font>
    <b><font color=#3a6797>set</font></b> moveup <font color=#1b1baa>$al(MC,moveupF)</font>
    <b><font color=#3a6797>set</font></b> movedown <font color=#1b1baa>$al(MC,movedownF)</font>
    <b><font color=#3a6797>set</font></b> dropitem [msgcat::mc {Drop Selected Files Here}]
    <b><font color=#3a6797>set</font></b> accins {<font color=#6c3e67>-accelerator</font> Insert}
    <b><font color=#3a6797>set</font></b> accdel {<font color=#6c3e67>-accelerator</font> Delete}
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$sname</font>]&gt;25} {<b><font color=#3a6797>set</font></b> sname <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>sname 0 21<font color=#1b1baa>]</font>...&quot;</font>}
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$m1</font>  <font color=#6c3e67>-command</font> ::alited::tree::SwitchTree <font color=#6c3e67>-image</font> <font color=#1b1baa>$img</font>
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,updtree)</font>  <font color=#6c3e67>-command</font> alited::tree::RecreateTree <font color=#6c3e67>-image</font> alimg_retry
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$moveup</font>  <font color=#6c3e67>-command</font> {::alited::tree::MoveItem up} <font color=#6c3e67>-image</font> alimg_up
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$movedown</font>  <font color=#6c3e67>-command</font> {::alited::tree::MoveItem down} <font color=#6c3e67>-image</font> alimg_down
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$m2</font>  <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;::alited::tree::AddItem <font color=#1b1baa>$</font>ID&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$accins</font> <font color=#6c3e67>-image</font> alimg_add
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA change]  <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,renamefile...)</font> <font color=#6c3e67>-accelerator</font> F2  <font color=#6c3e67>-command</font> {::alited::file::RenameFileInTree no}
  }
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$m3</font>  <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;::alited::tree::DelItem <font color=#1b1baa>$</font>ID -100&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$accdel</font> <font color=#6c3e67>-image</font> alimg_delete
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
      <font color=#1b1baa>$popm</font> add separator
      <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA heart] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favoradd)</font>  <font color=#6c3e67>-command</font> ::alited::favor::AddFromTree
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isunit</font>} {
      <font color=#1b1baa>$popm</font> add separator
      <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,copydecl)</font>  <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;clipboard clear ; clipboard append <font color=#1b1baa>{$</font>header<font color=#1b1baa>}</font>&quot;</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA copy]  <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,clonefile...)</font> <font color=#6c3e67>-command</font> ::alited::file::CloneFile
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA OpenFile] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,openwith)</font>  <font color=#6c3e67>-command</font> ::alited::file::OpenWith
    <font color=#1b1baa>$popm</font> add separator
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {<b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>]}
    <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,openselfile)</font> <font color=#6c3e67>-command</font> ::alited::file::OpenFiles
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,openofdir)</font>]
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$msg</font>  <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;::alited::file::OpenOfDir <font color=#1b1baa>{$</font>fname<font color=#1b1baa>}</font>&quot;</font>
    <font color=#1b1baa>$popm</font> add separator
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,detachsel)</font>  <font color=#6c3e67>-command</font> ::alited::file::DetachFromTree
  }
  <b><font color=#3a6797>set</font></b> addsel {}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<font color=#1b1baa>$wtree</font> selection]]&gt;1} {
    <font color=#1b1baa>$popm</font> add separator
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$dropitem</font>  <font color=#6c3e67>-command</font> <font color=#8b2a0e>&quot;::alited::tree::DropItems <font color=#1b1baa>$</font>ID&quot;</font> <font color=#6c3e67>-image</font> alimg_paste
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtree</font> tag has tagSel <font color=#1b1baa>$ID</font>]} {
      <i><font color=#4b5d50># the added tagSel tag should be overrided</font></i>
      <font color=#1b1baa>$wtree</font> tag remove tagSel <font color=#1b1baa>$ID</font>
      <b><font color=#3a6797>set</font></b> addsel <font color=#8b2a0e>&quot;; <font color=#1b1baa>$</font>wtree tag add tagSel <font color=#1b1baa>$</font>ID&quot;</font>
    }
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$popm</font> &lt;FocusIn&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>wtree tag add tagBold <font color=#1b1baa>$</font>ID&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$popm</font> &lt;FocusOut&gt; <font color=#8b2a0e>&quot;catch <font color=#1b1baa>{$</font>wtree tag remove tagBold <font color=#1b1baa>$</font>ID; <font color=#1b1baa>$</font>addsel<font color=#1b1baa>}</font>&quot;</font>
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SwitchTree'>SwitchTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchTree</span> </div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Switches trees</code></code></td><td class='ruff_defitem'>units to files and vice versa.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_SwitchTree' href="javascript:toggleSource('alited_tree_SwitchTree')">Show source</a></p>
<div id='alited_tree_SwitchTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SwitchTree {} {
  <i><font color=#4b5d50># Switches trees - units to files and vice versa.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> al(TREE,isunits) [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>}]]} {
    <b><font color=#3a6797>unset</font></b> al(widthPanBM)  ;<i><font color=#4b5d50># the variable used to save the panel's size</font></i>
    [<font color=#1b1baa>$obPav</font> PanL] add [<font color=#1b1baa>$obPav</font> FraFV]
    RecreateTree
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(widthPanBM) [<b><font color=#134070>winfo</font></b> geometry [<font color=#1b1baa>$::alited::obPav</font> PanBM]]
    [<font color=#1b1baa>$obPav</font> PanL] forget [<font color=#1b1baa>$obPav</font> FraFV]
    <b><font color=#3a6797>set</font></b> al(TREE,files) no
    Create
  }
  alited::main::FocusText
  <b><font color=#3a6797>update</font></b> idletasks
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::syOption'>syOption</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets -geometry option of dialogues.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>syOption</span> <span class='ruff_arg'>sy</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sy</code></code></td><td class='ruff_defitem'>relative Y-coordinate of dialogue</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::unit::Delete" title="unit::Delete" class='ruff_cmd'>unit::Delete</a>, <a href="alited.html#::alited::file::Delete" title="file::Delete" class='ruff_cmd'>file::Delete</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_syOption' href="javascript:toggleSource('alited_tree_syOption')">Show source</a></p>
<div id='alited_tree_syOption' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::syOption {sy} {
  <i><font color=#4b5d50># Gets -geometry option of dialogues.</font></i>
  <i><font color=#4b5d50>#   sy - relative Y-coordinate of dialogue</font></i>
  <i><font color=#4b5d50># See also: unit::Delete, file::Delete</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sy</font> eq {}} {
    <b><font color=#3a6797>set</font></b> opt {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> opt [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-geometry</font> pointer+10+<font color=#1b1baa>$sy</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$opt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::UnitTitle'>UnitTitle</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a title of a unit (checking for empty string).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitTitle</span> <span class='ruff_arg'>title l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>original title</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>first line of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>latst line of the unit</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_UnitTitle' href="javascript:toggleSource('alited_tree_UnitTitle')">Show source</a></p>
<div id='alited_tree_UnitTitle' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::UnitTitle {title l1 l2} {
  <i><font color=#4b5d50># Gets a title of a unit (checking for empty string).</font></i>
  <i><font color=#4b5d50>#   title - original title</font></i>
  <i><font color=#4b5d50>#   l1 - first line of the unit</font></i>
  <i><font color=#4b5d50>#   l2 - latst line of the unit</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$title</font> eq {}} {<b><font color=#3a6797>set</font></b> title <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>::alited::al(MC,lines) <font color=#1b1baa>$</font>l1-<font color=#1b1baa>$</font>l2&quot;</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$title</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::UnitTooltip'>UnitTooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets unit's tooltip.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitTooltip</span> <span class='ruff_arg'>wtxt l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line's number</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line's number</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_UnitTooltip' href="javascript:toggleSource('alited_tree_UnitTooltip')">Show source</a></p>
<div id='alited_tree_UnitTooltip' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::UnitTooltip {wtxt l1 l2} {
  <i><font color=#4b5d50># Gets unit's tooltip.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line's number</font></i>
  <i><font color=#4b5d50>#   l2 - last line's number</font></i>

  <b><font color=#3a6797>set</font></b> tip {}
  <b><font color=#3a6797>foreach</font></b> {p1 p2} [<font color=#1b1baa>$wtxt</font> tag ranges tagCMN2] {
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$l1</font>.0 &lt;= <font color=#1b1baa>$p1</font>] && [<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$p2</font> &lt;= <font color=#1b1baa>$l2</font>.end]} {
      <b><font color=#3a6797>set</font></b> todo [<b><font color=#3a6797>string</font></b> trimleft [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$p1</font> <font color=#1b1baa>$p2</font>] #!]
      <b><font color=#3a6797>switch</font></b> [<b><font color=#3a6797>incr</font></b> tiplines] {
        1  {<b><font color=#3a6797>append</font></b> tip \n_______________________\n}
        13 {<b><font color=#ca14ca>break</font></b>}
      }
      <b><font color=#3a6797>append</font></b> tip \n <font color=#1b1baa>$todo</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::UpdateFileTree'>UpdateFileTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the file tree (colors of files).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateFileTree</span> <span class='ruff_arg'>?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>yes, if run after idle; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::CreateFilesTree" title="CreateFilesTree" class='ruff_cmd'>CreateFilesTree</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_tree_UpdateFileTree' href="javascript:toggleSource('alited_tree_UpdateFileTree')">Show source</a></p>
<div id='alited_tree_UpdateFileTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::UpdateFileTree {{doit no}} {
  <i><font color=#4b5d50># Updates the file tree (colors of files).</font></i>
  <i><font color=#4b5d50>#   doit - yes, if run after idle</font></i>
  <i><font color=#4b5d50># See also: CreateFilesTree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># no need</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font>} {
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
    <b><font color=#3a6797>foreach</font></b> item [GetTree {} Tree] {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 4] - fname leaf itemID
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font>} {
        <b><font color=#3a6797>if</font></b> {[alited::bar::FileTID <font color=#1b1baa>$fname</font>] ne {}} {
          <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
        } <b><font color=#3a6797>else</font></b> {
          <font color=#1b1baa>$wtree</font> tag remove tagSel <font color=#1b1baa>$itemID</font>
        }
      }
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al(_UPDATEFILETREE_)</font>}
    <b><font color=#3a6797>set</font></b> al(_UPDATEFILETREE_) [<b><font color=#3a6797>after</font></b> idle {alited::tree::UpdateFileTree yes}]
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::unit'></a>::alited::unit<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::unit-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::unit::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_Add' href="javascript:toggleSource('alited_unit_Add')">Show source</a></p>
<div id='alited_unit_Add' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::Add {} {
  <i><font color=#4b5d50># Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.</font></i>

  <b><font color=#3a6797>set</font></b> res [Run_unit_tpl]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne {}} {InsertTemplate <font color=#1b1baa>$res</font> no}
  alited::keys::BindKeys [alited::main::CurrentWTXT] template
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::CorrectPos'>CorrectPos</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Corrects an insert position, counting the insertion point's indentation.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CorrectPos</span> <span class='ruff_arg'>wtxt tex posc pos0 posi</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>current text widget</td></tr>
<tr><td class='ruff_defitem'><code><code>tex</code></code></td><td class='ruff_defitem'>template's text</td></tr>
<tr><td class='ruff_defitem'><code><code>posc</code></code></td><td class='ruff_defitem'>relative position of cursor</td></tr>
<tr><td class='ruff_defitem'><code><code>pos0</code></code></td><td class='ruff_defitem'>position of insertion</td></tr>
<tr><td class='ruff_defitem'><code><code>posi</code></code></td><td class='ruff_defitem'>cursor position</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_CorrectPos' href="javascript:toggleSource('alited_unit_CorrectPos')">Show source</a></p>
<div id='alited_unit_CorrectPos' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::CorrectPos {wtxt tex posc pos0 posi} {
  <i><font color=#4b5d50># Corrects an insert position, counting the insertion point's indentation.</font></i>
  <i><font color=#4b5d50>#   wtxt - current text widget</font></i>
  <i><font color=#4b5d50>#   tex - template's text</font></i>
  <i><font color=#4b5d50>#   posc - relative position of cursor</font></i>
  <i><font color=#4b5d50>#   pos0 - position of insertion</font></i>
  <i><font color=#4b5d50>#   posi - cursor position</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> REtodel
  <b><font color=#3a6797>set</font></b> tlist [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tex</font> \n]
  <b><font color=#3a6797>set</font></b> indent1 0
  <b><font color=#3a6797>foreach</font></b> t <font color=#1b1baa>$tlist</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> t [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$t</font>]] ne {}} {
      <b><font color=#3a6797>set</font></b> indent1 [obj leadingSpaces <font color=#1b1baa>$t</font>]  ;<i><font color=#4b5d50># indentation of the template</font></i>
      <b><font color=#ca14ca>break</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> pos1 [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index <font color=#1b1baa>$pos0</font>])}]
  <b><font color=#3a6797>set</font></b> line2 [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$pos1</font>.0 <font color=#1b1baa>$pos1</font>.end]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$posi</font> eq {}} {
    <b><font color=#3a6797>set</font></b> indent2 [obj leadingSpaces <font color=#1b1baa>$line2</font>]  ;<i><font color=#4b5d50># indentation of the insert point</font></i>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> posi [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$posi</font>)}]
    <b><font color=#3a6797>set</font></b> linei [<b><font color=#3a6797>string</font></b> trimright [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$posi</font>.0 <font color=#1b1baa>$posi</font>.end]]
    <b><font color=#3a6797>set</font></b> indent2 [obj leadingSpaces <font color=#1b1baa>$linei</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$linei</font> eq {}} {
      <b><font color=#3a6797>foreach</font></b> i {+0 +1 +2 -1 -2} {
        <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>expr</font></b> <font color=#1b1baa>$posi$i</font>]
        <b><font color=#3a6797>set</font></b> ind [obj leadingSpaces [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$i</font>.0 <font color=#1b1baa>$i</font>.end]=]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ind</font>} {
          <b><font color=#3a6797>set</font></b> indent2 <font color=#1b1baa>$ind</font>
          <b><font color=#ca14ca>break</font></b>
        }
      }
    }
  }
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$posc</font> .] pl pc
  <i><font color=#4b5d50># If 1st line of the template is underlined, we place it under a previous</font></i>
  <i><font color=#4b5d50># unit's closing brace. But if the insertion point is already underlined</font></i>
  <i><font color=#4b5d50># or is a branch, we move 1st line of the template to its end.</font></i>
  <i><font color=#4b5d50># Or remove it at all, at the end of branch.</font></i>
  <b><font color=#3a6797>set</font></b> line1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tlist</font> 0]
  <b><font color=#3a6797>set</font></b> under {^\s*#\s?_+$}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$under</font> <font color=#1b1baa>$line1</font>]} {
    <b><font color=#3a6797>set</font></b> isund [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$under</font> <font color=#1b1baa>$line2</font>] || [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,leaf2)</font> <font color=#1b1baa>$line2</font>]}]
    <b><font color=#3a6797>while</font></b> {[<b><font color=#3a6797>incr</font></b> pos1 -1]&gt;1} {
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$pos1</font>.0 <font color=#1b1baa>$pos1</font>.end]]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$under</font> <font color=#1b1baa>$line</font>] || [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,leaf2)</font> <font color=#1b1baa>$line</font>]} {
          <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$tex</font> [<b><font color=#3a6797>string</font></b> first \n <font color=#1b1baa>$tex</font>] end]
          <b><font color=#3a6797>set</font></b> len1 [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tlist</font>]
          <b><font color=#3a6797>set</font></b> len2 [<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$tex</font>] \n]]
          <b><font color=#3a6797>set</font></b> tex \n[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$tex</font>]\n
          <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isund</font>} {<b><font color=#3a6797>append</font></b> tex <font color=#1b1baa>$line1</font> \n}
          <b><font color=#3a6797>incr</font></b> pl [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$len2</font>-<font color=#1b1baa>$len1</font>+1}]  ;<i><font color=#4b5d50># cursor position changed too</font></i>
          <b><font color=#3a6797>set</font></b> posc <font color=#1b1baa>$pl</font>.<font color=#1b1baa>$pc</font>
        } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$line</font> ne <font color=#8b2a0e>&quot;\}&quot;</font>} {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isund</font>} {<b><font color=#3a6797>append</font></b> tex \n}
          <b><font color=#ca14ca>break</font></b>
        }
        <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>pos1.0 + 1 line&quot;</font>]
        <b><font color=#ca14ca>break</font></b>
      }
    }
  }
  Source_unit_tpl
  <i><font color=#4b5d50># indent the template & increment the cursor position</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$REtodel</font> <font color=#1b1baa>$tex</font>] && <font color=#1b1baa>$indent1</font>&lt;<font color=#1b1baa>$indent2</font>} {
    <b><font color=#3a6797>incr</font></b> indent2 -<font color=#1b1baa>$indent1</font>
    <b><font color=#3a6797>set</font></b> indent [<b><font color=#3a6797>string</font></b> repeat { } <font color=#1b1baa>$indent2</font>]
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$posc</font> .] pl pc
    <b><font color=#3a6797>set</font></b> posc <font color=#1b1baa>$pl</font>.[<b><font color=#3a6797>incr</font></b> pc <font color=#1b1baa>$indent2</font>]
    <b><font color=#3a6797>foreach</font></b> t [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tex</font> \n] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> _cnt]==1} {<b><font color=#3a6797>set</font></b> tex {}} {<b><font color=#3a6797>append</font></b> tex \n}
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$t</font> ne {}} {<b><font color=#3a6797>set</font></b> t <font color=#1b1baa>$indent$t</font>}
      <b><font color=#3a6797>append</font></b> tex <font color=#1b1baa>$t</font>
    }
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$pos0</font> <font color=#1b1baa>$posc</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a unit from a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>wtree fname sy</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>sy</code></code></td><td class='ruff_defitem'>relative Y-coordinate for a query</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_Delete' href="javascript:toggleSource('alited_unit_Delete')">Show source</a></p>
<div id='alited_unit_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::Delete {wtree fname sy} {
  <i><font color=#4b5d50># Deletes a unit from a text.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   sy - relative Y-coordinate for a query</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>set</font></b> wasdel no
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]]&gt;1} {
    <b><font color=#3a6797>set</font></b> dlg yesnocancel
    <b><font color=#3a6797>set</font></b> dlgopts [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> dlg yesno
    <b><font color=#3a6797>set</font></b> dlgopts [alited::tree::syOption <font color=#1b1baa>$sy</font>]
  }
  <b><font color=#3a6797>set</font></b> ans 1
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$llen</font>} {<font color=#1b1baa>$i</font>} {} {
    <i><font color=#4b5d50># delete units from the text's bottom (text selection is sorted by items)</font></i>
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>set</font></b> ID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selection</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>set</font></b> name [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,delitem)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font>&lt;11} {
      <b><font color=#3a6797>set</font></b> ans [alited::msg <font color=#1b1baa>$dlg</font> ques <font color=#1b1baa>$msg</font> YES {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$dlgopts</font>]
    }
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$ans</font> {
      0 - 12 break
      1 - 11 {
        <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2
        <b><font color=#3a6797>set</font></b> ind2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>l2.end +1 char&quot;</font>]
        <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$ind2</font>
        <b><font color=#3a6797>set</font></b> wasdel yes
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::DropUnits'>DropUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves unit(s) from one location in the unit tree to other.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropUnits</span> <span class='ruff_arg'>wtree fromIDs toID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fromIDs</code></code></td><td class='ruff_defitem'>IDs of tree item &quot;to move from&quot;</td></tr>
<tr><td class='ruff_defitem'><code><code>toID</code></code></td><td class='ruff_defitem'>ID of tree item &quot;to move to&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_DropUnits' href="javascript:toggleSource('alited_unit_DropUnits')">Show source</a></p>
<div id='alited_unit_DropUnits' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::DropUnits {wtree fromIDs toID} {
  <i><font color=#4b5d50># Moves unit(s) from one location in the unit tree to other.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   fromIDs - IDs of tree item &quot;to move from&quot;</font></i>
  <i><font color=#4b5d50>#   toID - ID of tree item &quot;to move to&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  undoIn <font color=#1b1baa>$wtxt</font>
  <i><font color=#4b5d50># firstly, cut all moved lines</font></i>
  <b><font color=#3a6797>set</font></b> ijust 0
  <b><font color=#3a6797>set</font></b> movedlines [<b><font color=#3a6797>list</font></b>]
  <i><font color=#4b5d50># we must cut from below, so sort units reversely:</font></i>
  <b><font color=#3a6797>set</font></b> fromIDs [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$fromIDs</font>]
  <b><font color=#3a6797>set</font></b> headers [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> fromID <font color=#1b1baa>$fromIDs</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fromID</font> eq <font color=#1b1baa>$toID</font>} <b><font color=#ca14ca>continue</font></b>
    <i><font color=#4b5d50># simply for each unit: find its moved lines and a destination line</font></i>
    <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>set</font></b> io 0]]
    <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$tree</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt id title values
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> l1 l2 prl id lev leaf fl1
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$id</font> eq <font color=#1b1baa>$fromID</font>} {
        <b><font color=#3a6797>set</font></b> i1 <font color=#1b1baa>$l1</font>
        <b><font color=#3a6797>set</font></b> i2 <font color=#1b1baa>$l2</font>
      } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$id</font> eq <font color=#1b1baa>$toID</font>} {
        <b><font color=#3a6797>set</font></b> io <font color=#1b1baa>$l1</font>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i1</font> && <font color=#1b1baa>$i2</font> && <font color=#1b1baa>$io</font>} {
      <b><font color=#3a6797>lappend</font></b> headers [GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$fromID</font>]
      <i><font color=#4b5d50># if the unit is above the destination, the destination should be adjusted</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i2</font>&lt;<font color=#1b1baa>$io</font>} {<b><font color=#3a6797>set</font></b> ijust [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$ijust</font>-<font color=#1b1baa>$i2</font>+<font color=#1b1baa>$i1</font>-1}]}
      <b><font color=#3a6797>set</font></b> ind2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>i2.end +1 char&quot;</font>]
      <b><font color=#3a6797>set</font></b> lines [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>]
      <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>
      <i><font color=#4b5d50># the cut lines are saved, to paste them afterwards</font></i>
      <b><font color=#3a6797>lappend</font></b> movedlines <font color=#1b1baa>$lines</font>
    }
  }
  <i><font color=#4b5d50># secondly, paste all moved lines</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$movedlines</font>]} {
    <b><font color=#3a6797>incr</font></b> io <font color=#1b1baa>$ijust</font>
    <b><font color=#3a6797>foreach</font></b> lines <font color=#1b1baa>$movedlines</font> {
      <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$io</font>.0 <font color=#1b1baa>$lines</font>
    }
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$io</font>.0
    alited::main::UpdateAll <font color=#1b1baa>$headers</font>
    alited::main::FocusText
  }
  undoOut <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::GetDeclaration'>GetDeclaration</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a unit's declaration.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetDeclaration</span> <span class='ruff_arg'>wtxt tip l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>unit's name</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of unit</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line of unit</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_GetDeclaration' href="javascript:toggleSource('alited_unit_GetDeclaration')">Show source</a></p>
<div id='alited_unit_GetDeclaration' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::GetDeclaration {wtxt tip l1 l2} {
  <i><font color=#4b5d50># Gets a unit's declaration.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget</font></i>
  <i><font color=#4b5d50>#   tip - unit's name</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line of unit</font></i>
  <i><font color=#4b5d50>#   l2 - last line of unit</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> unithead <font color=#1b1baa>$tip</font>
  <b><font color=#3a6797>if</font></b> {[IsLeafRegexp] && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> unittext [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end]}]} {
    <b><font color=#3a6797>foreach</font></b> t [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$unittext</font> \n] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc2)</font> <font color=#1b1baa>$t</font>]} {
        <b><font color=#3a6797>set</font></b> unithead <font color=#1b1baa>$t</font>
        <b><font color=#ca14ca>break</font></b>
      }
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> unithead [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$unithead</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::GetHeader'>GetHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a header of unit: declaration + initial comments.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetHeader</span> <span class='ruff_arg'>wtree ID ?NC? ?wtxt? ?tip? ?l1? ?l2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of item in the unit tree</td></tr>
<tr><td class='ruff_defitem'><code><code>NC</code></code></td><td class='ruff_defitem'>index of column of the unit tree; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>unit's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line of unit; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_GetHeader' href="javascript:toggleSource('alited_unit_GetHeader')">Show source</a></p>
<div id='alited_unit_GetHeader' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::GetHeader {wtree ID {NC {}} {wtxt {}} {tip {}} {l1 0} {l2 0}} {
  <i><font color=#4b5d50># Gets a header of unit: declaration + initial comments.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree widget</font></i>
  <i><font color=#4b5d50>#   ID - ID of item in the unit tree</font></i>
  <i><font color=#4b5d50>#   NC - index of column of the unit tree</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget</font></i>
  <i><font color=#4b5d50>#   tip - unit's name</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line of unit</font></i>
  <i><font color=#4b5d50>#   l2 - last line of unit</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> ne {}} {
    <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]]
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2 - id
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$l2</font>  ;<i><font color=#4b5d50># for file tree, it's a full file name</font></i>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$NC</font> eq {#1}} {
    <b><font color=#3a6797>set</font></b> tip <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>string map <font color=#1b1baa>{</font>al #<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>id<font color=#1b1baa>]</font>\n<font color=#1b1baa>$</font>l1 - <font color=#1b1baa>[</font>expr <font color=#1b1baa>{</font>max(<font color=#1b1baa>$</font>l1,<font color=#1b1baa>$</font>l2)<font color=#1b1baa>}]</font>&quot;</font>
    <b><font color=#3a6797>set</font></b> ID {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
        <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
      }
      <b><font color=#3a6797>set</font></b> tip2 [GetDeclaration <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$tip</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#8b2a0e>&quot;*\{&quot;</font> <font color=#1b1baa>$tip2</font>] || [<b><font color=#3a6797>string</font></b> match <font color=#8b2a0e>&quot;test *&quot;</font> <font color=#1b1baa>$tip2</font>]} {
        <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$tip2</font> <font color=#8b2a0e>&quot; \{\\&quot;</font>]
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$NC</font> eq {}} {
        <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>  ;<i><font color=#4b5d50># returns a declaration only</font></i>
      }
      <i><font color=#4b5d50># find first commented line, after the proc/method declaration</font></i>
      <b><font color=#3a6797>set</font></b> isleafRE [IsLeafRegexp]
      <b><font color=#3a6797>for</font></b> {} {<font color=#1b1baa>$l1</font>&lt;<font color=#1b1baa>$l2</font>} {} {
        <b><font color=#3a6797>incr</font></b> l1
        <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> end] ni [<b><font color=#3a6797>list</font></b> \\ \{] && <font color=#1b1baa>$line</font> ni {{} # //}  && (<font color=#1b1baa>$isleafRE</font> || ![<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$line</font>])} {
          <b><font color=#3a6797>set</font></b> line1 [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line</font> {#!;}]
          <b><font color=#3a6797>set</font></b> line2 [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line</font> {/}]
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$line</font>] && [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line1</font>] ne {} &&  ![<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$::hl_tcl::my::data(RETODO)</font> <font color=#1b1baa>$line</font>]} {
            <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {^\s+} <font color=#1b1baa>$line1</font>]} {<b><font color=#3a6797>set</font></b> line1 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line1</font> 1 end]}
            <b><font color=#3a6797>append</font></b> tip \n <font color=#1b1baa>$line1</font>
            <b><font color=#ca14ca>break</font></b>
          } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> match //* <font color=#1b1baa>$line</font>] && [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line2</font>] ne {}} {
            <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> {^\s+} <font color=#1b1baa>$line2</font>]} {<b><font color=#3a6797>set</font></b> line2 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line2</font> 1 end]}
            <b><font color=#3a6797>append</font></b> tip \n <font color=#1b1baa>$line2</font>
            <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(RE,proc)</font> ne {}} <b><font color=#ca14ca>break</font></b>
          } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$line</font> ne {}} {
            <b><font color=#ca14ca>break</font></b>
          }
        }
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::GetUnits'>GetUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a unit structure from a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetUnits</span> <span class='ruff_arg'>TID textcont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab ID of the text</td></tr>
<tr><td class='ruff_defitem'><code><code>textcont</code></code></td><td class='ruff_defitem'>contents of the text</td></tr>
</table>
<h5 class='ruff'>Description</h5><ul class='ruff'>
<li>level</li>
<li>0 (branch) or 1 (INI,LEAF)</li>
<li>title</li>
<li>line1 - first text line for the item</li>
<li>line2 - last text line for the item</li>
</ul>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of unit items. An item contains:</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_GetUnits' href="javascript:toggleSource('alited_unit_GetUnits')">Show source</a></p>
<div id='alited_unit_GetUnits' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::GetUnits {TID textcont} {
  <i><font color=#4b5d50># Gets a unit structure from a text.</font></i>
  <i><font color=#4b5d50>#   TID - tab ID of the text</font></i>
  <i><font color=#4b5d50>#   textcont - contents of the text</font></i>
  <i><font color=#4b5d50># Returns a list of unit items.</font></i>
  <i><font color=#4b5d50># An item contains:</font></i>
  <i><font color=#4b5d50>#   - level</font></i>
  <i><font color=#4b5d50>#   - 0 (branch) or 1 (INI,LEAF)</font></i>
  <i><font color=#4b5d50>#   - title</font></i>
  <i><font color=#4b5d50>#   - line1 - first text line for the item</font></i>
  <i><font color=#4b5d50>#   - line2 - last text line for the item</font></i>

  <i><font color=#4b5d50># The procedure searhes &quot;branch&quot; units in commented lines, e.g. for:</font></i>
  <i><font color=#4b5d50>#   # ___ level 1 _____ #</font></i>
  <i><font color=#4b5d50>#   ## ___ level 2 _____ ##</font></i>
  <i><font color=#4b5d50>#   ### ___ level 3 _____ ###</font></i>
  <i><font color=#4b5d50># using regexp {^\s*(#+) [_]+([^_]+)[_]+ (#+)} $line -&gt; cmn1 title cmn2</font></i>
  <i><font color=#4b5d50># it extracts two comment marks (#, ## or ###) and a title (level 1/2/3).</font></i>
  <i><font color=#4b5d50>#</font></i>
  <i><font color=#4b5d50># To search &quot;leaf&quot; units (containing procs and methods), another `regexp`</font></i>
  <i><font color=#4b5d50># is used, e.g. for:</font></i>
  <i><font color=#4b5d50>#   # _____</font></i>
  <i><font color=#4b5d50>#   # _____ my leaf 1</font></i>
  <i><font color=#4b5d50># regexp {^\s*# [_]+([^_]*)$} $line -&gt; title</font></i>
  <i><font color=#4b5d50># extracts a title (my leaf 1).</font></i>
  <i><font color=#4b5d50>#</font></i>
  <i><font color=#4b5d50># If &quot;leaf&quot; title is empty, it's taken from the proc/method name, e.g. for</font></i>
  <i><font color=#4b5d50>#   proc unit::SelectUnit {} {...}</font></i>
  <i><font color=#4b5d50>#   method unit::SelectUnit {} {...}</font></i>
  <i><font color=#4b5d50># regexp {^\s*(proc|method)\s+([[:alnum:]_:]+)\s.+} $line -&gt; type title</font></i>
  <i><font color=#4b5d50># extracts a type (proc/method) and a title (unit::SelectUnit).</font></i>
  <i><font color=#4b5d50># The last non-empty group is taken for the title.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> retlist [<b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>list</font></b>]]]
  <b><font color=#3a6797>set</font></b> textcont [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$textcont</font> \n]
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$textcont</font>]
  <b><font color=#3a6797>lappend</font></b> textcont <font color=#8b2a0e>&quot;&quot;</font>  ;<i><font color=#4b5d50># to save a last unit to the retlist</font></i>
  <b><font color=#3a6797>lassign</font></b> [UnitHeaderMode <font color=#1b1baa>$TID</font>] isLeafRE isProc leafRE
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> lev [<b><font color=#3a6797>set</font></b> leaf [<b><font color=#3a6797>set</font></b> icomleaf -1]]]
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$textcont</font> {
    <b><font color=#3a6797>incr</font></b> i
    <b><font color=#3a6797>set</font></b> flag1 0
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> flag [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,branch)</font> <font color=#1b1baa>$line</font> -&gt; cmn1 title]]} {
      <i><font color=#4b5d50># a branch</font></i>
      <b><font color=#3a6797>set</font></b> leaf [<b><font color=#3a6797>set</font></b> icomleaf 0]
      <b><font color=#3a6797>set</font></b> lev [<b><font color=#3a6797>expr</font></b> {max(0,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$cmn1</font>]-1)}]
    } <b><font color=#3a6797>elseif</font></b> {  <font color=#1b1baa>$isProc</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$line</font> -&gt; t1 t2 t3 t4 t5 t6 t7] ||  <font color=#1b1baa>$isLeafRE</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$leafRE</font> <font color=#1b1baa>$line</font> -&gt; t1 t2 t3 t4 t5 t6 t7]} {
      <b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$t1</font>  ;<i><font color=#4b5d50># default title: just after found string</font></i>
      <b><font color=#3a6797>foreach</font></b> t {t7 t6 t5 t4 t3 t2} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> _ [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$t</font>]] ne <font color=#8b2a0e>&quot;&quot;</font>} {
          <b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$_</font>  ;<i><font color=#4b5d50># last non-empty group of others is a real title</font></i>
          <b><font color=#ca14ca>break</font></b>
        }
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> cl [<b><font color=#3a6797>string</font></b> last :: <font color=#1b1baa>$title</font>]]&gt;-1 && [<b><font color=#3a6797>set</font></b> cl [<b><font color=#3a6797>string</font></b> last :: <font color=#1b1baa>$title</font> <font color=#1b1baa>$cl</font>]]&gt;-1} {
        <i><font color=#4b5d50># let only a last namespace be present in the titles</font></i>
        <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$title</font> <font color=#1b1baa>$cl</font>+2 end]
      }
      <b><font color=#3a6797>set</font></b> flag1 <font color=#1b1baa>$al(INI,LEAF)</font>
      <b><font color=#3a6797>set</font></b> flag [<b><font color=#3a6797>set</font></b> leaf 1]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> flag [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>&gt;=<font color=#1b1baa>$llen</font>}]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$flag</font>} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]} {
        <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 4]-1}]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l1</font>&gt;0 && ![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$retlist</font>]} {
          <i><font color=#4b5d50># first found at line&gt;1 =&gt; create a starting leaf</font></i>
          <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
          <b><font color=#3a6797>lappend</font></b> retlist [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> 1 <font color=#1b1baa>$al(INI,LEAF)</font> <font color=#8b2a0e>&quot;&quot;</font> 1 <font color=#1b1baa>$l1</font> <font color=#1b1baa>$treeID</font>]
        }
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$retlist</font> end] levE leafE flE namE l1E - treeIDE
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> levC leafC flC namC l1C
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$flE</font> eq <font color=#8b2a0e>&quot;1&quot;</font> && <font color=#1b1baa>$flC</font> eq <font color=#8b2a0e>&quot;0&quot;</font> && <font color=#1b1baa>$levE</font>==<font color=#1b1baa>$levC</font> && <font color=#1b1baa>$leafE</font>==<font color=#1b1baa>$leafC</font>} {
          <i><font color=#4b5d50># found a named previous leaf</font></i>
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$namE</font> eq <font color=#8b2a0e>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> namE <font color=#1b1baa>$namC</font>}
          <i><font color=#4b5d50># update the named leaf</font></i>
          <b><font color=#3a6797>set</font></b> retlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$retlist</font> end end  [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$levE</font> <font color=#1b1baa>$leafE</font> <font color=#1b1baa>$flE</font> <font color=#1b1baa>$namE</font> <font color=#1b1baa>$l1E</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$treeIDE</font>]]
        } <b><font color=#3a6797>else</font></b> {
          <i><font color=#4b5d50># add l2 (last line of unit), ID of unit</font></i>
          <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
          <b><font color=#3a6797>lappend</font></b> retlist [<b><font color=#3a6797>lappend</font></b> item <font color=#1b1baa>$i</font> <font color=#1b1baa>$treeID</font>]
        }
      }
      <i><font color=#4b5d50># prepare an item for saving</font></i>
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>list</font></b>  [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>+<font color=#1b1baa>$leaf</font>}] <font color=#1b1baa>$leaf</font> <font color=#1b1baa>$flag1</font> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$title</font> <font color=#8b2a0e>&quot; #&quot;</font>] [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]]
    }
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$retlist</font>]} {
    <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName <font color=#1b1baa>$TID</font>]]
    <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,alloffile)</font>]
    <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lappend</font></b> retlist [<b><font color=#3a6797>list</font></b> 1 1 1 <font color=#1b1baa>$name</font> 1 <font color=#1b1baa>$llen</font> <font color=#1b1baa>$treeID</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$retlist</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::InsertTemplate'>InsertTemplate</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a template into a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertTemplate</span> <span class='ruff_arg'>tpldata ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tpldata</code></code></td><td class='ruff_defitem'>template</td></tr>
<tr><td class='ruff_defitem'><code><code>dobreak</code></code></td><td class='ruff_defitem'>if yes, means &quot;called from bindings, should return -code break&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_InsertTemplate' href="javascript:toggleSource('alited_unit_InsertTemplate')">Show source</a></p>
<div id='alited_unit_InsertTemplate' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::InsertTemplate {tpldata {dobreak yes}} {
  <i><font color=#4b5d50># Inserts a template into a current text.</font></i>
  <i><font color=#4b5d50>#   tpldata - template</font></i>
  <i><font color=#4b5d50>#   dobreak - if yes, means &quot;called from bindings, should return -code break&quot;</font></i>

  <i><font color=#4b5d50># for noname file - save it beforehand, as templates refer to a file name</font></i>
  <b><font color=#3a6797>if</font></b> {[alited::file::IsNoName [alited::bar::FileName]]} {
    <b><font color=#3a6797>if</font></b> {![alited::file::SaveFile]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dobreak</font>} {<b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> break}
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine <font color=#8b2a0e>&quot;&quot;</font> 1] itemID - - - - l1 l2
  <b><font color=#3a6797>lassign</font></b> [TemplateData <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font> <font color=#1b1baa>$tpldata</font>] tex posc place
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$posc</font> .] -&gt; col0
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$place</font> {
    0 { ;<i><font color=#4b5d50># returned by TemplateData: after a declaration</font></i>
      <b><font color=#3a6797>set</font></b> pos0 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l1</font>+1}].0
    }
    4 { ;<i><font color=#4b5d50># after 1st line</font></i>
      <b><font color=#3a6797>set</font></b> pos0 1.0
    }
    3 { ;<i><font color=#4b5d50># after cursor</font></i>
      <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> index insert]
    }
    2 { ;<i><font color=#4b5d50># after unit</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l2</font> ne <font color=#8b2a0e>&quot;&quot;</font>} {
        <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>l2.0 +1 line linestart&quot;</font>]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$tex</font> end] ne <font color=#8b2a0e>&quot;\n&quot;</font>} {<b><font color=#3a6797>append</font></b> tex \n}
        <b><font color=#3a6797>lassign</font></b> [CorrectPos <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$posc</font> <font color=#1b1baa>$pos0</font> {}] tex pos0 posc
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$posc</font> .] -&gt; col0
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> place 1
      }
    }
    <b><font color=#3a6797>default</font></b> { ;<i><font color=#4b5d50># after line</font></i>
      <b><font color=#3a6797>set</font></b> place 1
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$place</font> == 1} {
    <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;insert +1 line linestart&quot;</font>]
    <b><font color=#3a6797>set</font></b> posi [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;insert linestart&quot;</font>]
    <b><font color=#3a6797>lassign</font></b> [CorrectPos <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$posc</font> <font color=#1b1baa>$pos0</font> <font color=#1b1baa>$posi</font>] tex pos0 posc
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$posc</font> .] -&gt; col0
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$tex</font> end] ne <font color=#8b2a0e>&quot;\n&quot;</font>} {<b><font color=#3a6797>append</font></b> tex \n}
  }
  <b><font color=#3a6797>set</font></b> posc <font color=#8b2a0e>&quot;<font color=#1b1baa>[</font>expr <font color=#1b1baa>{</font>int(<font color=#1b1baa>$</font>posc)-1<font color=#1b1baa>}]</font>.<font color=#1b1baa>$</font>col0&quot;</font>
  <b><font color=#3a6797>set</font></b> posc [::apave::p+ <font color=#1b1baa>$pos0</font> <font color=#1b1baa>$posc</font>]
  <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$pos0</font> <font color=#1b1baa>$tex</font>
  ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$posc</font>
  alited::main::UpdateAll
  <b><font color=#3a6797>after</font></b> idle alited::main::FocusText
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dobreak</font>} {<b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> break}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::IsLeafRegexp'>IsLeafRegexp</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for using &quot;leaf's regexp&quot; setting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsLeafRegexp</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_IsLeafRegexp' href="javascript:toggleSource('alited_unit_IsLeafRegexp')">Show source</a></p>
<div id='alited_unit_IsLeafRegexp' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::IsLeafRegexp {} {
  <i><font color=#4b5d50># Checks for using &quot;leaf's regexp&quot; setting.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(prjuseleafRE) [<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(prjuseleafRE)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjuseleafRE)</font> && <font color=#1b1baa>$al(prjleafRE)</font> ne {}} {
    <b><font color=#3a6797>set</font></b> res 1
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$al(RE,leaf)</font> ne {} && <font color=#1b1baa>$al(INI,LEAF)</font>}]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::LeafRegexp'>LeafRegexp</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets &quot;leaf's regexp&quot; setting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LeafRegexp</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_LeafRegexp' href="javascript:toggleSource('alited_unit_LeafRegexp')">Show source</a></p>
<div id='alited_unit_LeafRegexp' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::LeafRegexp {} {
  <i><font color=#4b5d50># Gets &quot;leaf's regexp&quot; setting.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjuseleafRE)</font> && <font color=#1b1baa>$al(prjleafRE)</font> ne {}} {
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$al(prjleafRE)</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$al(RE,leaf)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveL1L2'>MoveL1L2</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a text lines to other location.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveL1L2</span> <span class='ruff_arg'>wtxt i1 i2 io ?dosep?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>i1</code></code></td><td class='ruff_defitem'>first line to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>i2</code></code></td><td class='ruff_defitem'>last line to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>io</code></code></td><td class='ruff_defitem'>destination line (to insert the moved lines before)</td></tr>
<tr><td class='ruff_defitem'><code><code>dosep</code></code></td><td class='ruff_defitem'>yes, if &quot;edit separator&quot; is required; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a position of destination line, if the moving was successful.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_MoveL1L2' href="javascript:toggleSource('alited_unit_MoveL1L2')">Show source</a></p>
<div id='alited_unit_MoveL1L2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::MoveL1L2 {wtxt i1 i2 io {dosep yes}} {
  <i><font color=#4b5d50># Moves a text lines to other location.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   i1 - first line to be moved</font></i>
  <i><font color=#4b5d50>#   i2 - last line to be moved</font></i>
  <i><font color=#4b5d50>#   io - destination line (to insert the moved lines before)</font></i>
  <i><font color=#4b5d50>#   dosep - yes, if &quot;edit separator&quot; is required</font></i>
  <i><font color=#4b5d50># Returns a position of destination line, if the moving was successful.</font></i>

  <b><font color=#3a6797>set</font></b> ind2 [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>i2.end +1 char&quot;</font>]
  <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$i1</font>&lt;=<font color=#1b1baa>$io</font> && <font color=#1b1baa>$io</font>&lt;=<font color=#1b1baa>$i2</font>) || <font color=#1b1baa>$io</font>&lt;1 || <font color=#1b1baa>$i1</font>&lt;1 || <font color=#1b1baa>$i2</font>&lt;1 ||  [<b><font color=#3a6797>set</font></b> linesmoved [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>]] eq <font color=#8b2a0e>&quot;&quot;</font>} {
    <b><font color=#ca14ca>return</font></b> <font color=#8b2a0e>&quot;&quot;</font> ;<i><font color=#4b5d50># nothing to do</font></i>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosep</font>} {undoIn <font color=#1b1baa>$wtxt</font>}
  <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$io</font>&gt;<font color=#1b1baa>$i2</font>} {
    <i><font color=#4b5d50># 3. i1    if moved below, the moved (deleted) lines change 'io', so</font></i>
    <i><font color=#4b5d50># 4. i2    'io' is shifted up (by range of moved lines i.e. i1-i2-1)</font></i>
    <i><font color=#4b5d50># 5.</font></i>
    <i><font color=#4b5d50># 6. io    resulting io = io-(i2-i1+1) = io+i1-i2-1 (6+3-4-1=4)</font></i>
    <b><font color=#3a6797>set</font></b> io [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$io</font>+<font color=#1b1baa>$i1</font>-<font color=#1b1baa>$i2</font>-1}]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$io</font> == int([<font color=#1b1baa>$wtxt</font> index end])} {
    <i><font color=#4b5d50># &quot;If index refers to the end of the text (the character after the last newline)</font></i>
    <i><font color=#4b5d50># then the new text is inserted just before the last newline instead.&quot;</font></i>
    <i><font color=#4b5d50># (The text manual page)</font></i>
    <font color=#1b1baa>$wtxt</font> insert <font color=#8b2a0e>&quot;end&quot;</font> \n<font color=#1b1baa>$linesmoved</font>
    <font color=#1b1baa>$wtxt</font> delete [<font color=#1b1baa>$wtxt</font> index <font color=#8b2a0e>&quot;end -1 char&quot;</font>] end
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$io</font>.0 <font color=#1b1baa>$linesmoved</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosep</font>} {undoOut <font color=#1b1baa>$wtxt</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$io</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveUnit'>MoveUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a unit up/down the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveUnit</span> <span class='ruff_arg'>wtree to hd headers f1112 ?dosep?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (up/down)</td></tr>
<tr><td class='ruff_defitem'><code><code>hd</code></code></td><td class='ruff_defitem'>header of the moved unit</td></tr>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>headers of all selected units</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
<tr><td class='ruff_defitem'><code><code>dosep</code></code></td><td class='ruff_defitem'>yes, if &quot;edit separator&quot; is required; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_MoveUnit' href="javascript:toggleSource('alited_unit_MoveUnit')">Show source</a></p>
<div id='alited_unit_MoveUnit' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::MoveUnit {wtree to hd headers f1112 {dosep yes}} {
  <i><font color=#4b5d50># Moves a unit up/down the unit tree.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   to - direction (up/down)</font></i>
  <i><font color=#4b5d50>#   hd - header of the moved unit</font></i>
  <i><font color=#4b5d50>#   headers - headers of all selected units</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by F11/F12 keys</font></i>
  <i><font color=#4b5d50>#   dosep - yes, if &quot;edit separator&quot; is required</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> itemID [SearchByHeader <font color=#1b1baa>$hd</font>]
  <b><font color=#3a6797>set</font></b> newparent [<b><font color=#3a6797>set</font></b> oldparent {}]
  <b><font color=#3a6797>set</font></b> newlev [<b><font color=#3a6797>set</font></b> oldlev [<b><font color=#3a6797>set</font></b> iold -1]]
  <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>set</font></b> io 0]]
  <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$tree</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt id title values
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> l1 l2 prl id lev leaf fl1
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$id</font> eq <font color=#1b1baa>$itemID</font>} {
      <b><font color=#3a6797>set</font></b> oldlev <font color=#1b1baa>$lev</font>
      <b><font color=#3a6797>set</font></b> i1 <font color=#1b1baa>$l1</font>
      <b><font color=#3a6797>set</font></b> i2 <font color=#1b1baa>$l2</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq <font color=#8b2a0e>&quot;up&quot;</font>} <b><font color=#ca14ca>break</font></b>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$to</font> ne <font color=#8b2a0e>&quot;up&quot;</font> && <font color=#1b1baa>$oldlev</font>&gt;-1} {
      <b><font color=#3a6797>set</font></b> io [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l2</font>+1}]
      <b><font color=#ca14ca>break</font></b>
    }
    <b><font color=#3a6797>set</font></b> io <font color=#1b1baa>$l1</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$io</font>&lt;<font color=#1b1baa>$al(INI,LINES1)</font>} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$al(INI,LINES1)</font>] <font color=#1b1baa>$al(MC,introln2)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$f1112</font>} {<b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;&quot;</font>} <b><font color=#3a6797>else</font></b> {<b><font color=#3a6797>set</font></b> geo <font color=#8b2a0e>&quot;-geometry pointer+10+10&quot;</font>}
    alited::msg ok err <font color=#1b1baa>$msg</font> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,introln1)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> pos [MoveL1L2 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font> <font color=#1b1baa>$io</font> <font color=#1b1baa>$dosep</font>]] ne {}} {
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}].0
    alited::tree::RecreateTree <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$headers</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveUnits'>MoveUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves selected units up/down the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveUnits</span> <span class='ruff_arg'>wtree to itemIDs f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (up/down)</td></tr>
<tr><td class='ruff_defitem'><code><code>itemIDs</code></code></td><td class='ruff_defitem'>tree item IDs of selected units</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_MoveUnits' href="javascript:toggleSource('alited_unit_MoveUnits')">Show source</a></p>
<div id='alited_unit_MoveUnits' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::MoveUnits {wtree to itemIDs f1112} {
  <i><font color=#4b5d50># Moves selected units up/down the unit tree.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   to - direction (up/down)</font></i>
  <i><font color=#4b5d50>#   itemIDs - tree item IDs of selected units</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by F11/F12 keys</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <i><font color=#4b5d50># update the unit tree, to act for sure</font></i>
  alited::tree::RecreateTree
  <i><font color=#4b5d50># check the moved units for the consistency of braces</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$itemIDs</font> {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2 - id
    <b><font color=#3a6797>set</font></b> cc1 [<b><font color=#3a6797>set</font></b> cc2 0]
    <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end] \n] {
      <b><font color=#3a6797>incr</font></b> cc1 [::apave::countChar <font color=#1b1baa>$line</font> \{]
      <b><font color=#3a6797>incr</font></b> cc2 [::apave::countChar <font color=#1b1baa>$line</font> \}]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cc1</font>!=<font color=#1b1baa>$cc2</font>} {
      <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$tip</font> %1 <font color=#1b1baa>$cc1</font> %2 <font color=#1b1baa>$cc2</font>] <font color=#1b1baa>$al(MC,errmove)</font>]
      alited::Message <font color=#1b1baa>$msg</font> 4
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {move}} {
    DropUnits <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemIDs</font> <font color=#1b1baa>$f1112</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> al(RECREATE) 0
  <b><font color=#3a6797>set</font></b> headers [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$itemIDs</font> {
    <b><font color=#3a6797>set</font></b> hd [GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {up}} {
      <b><font color=#3a6797>lappend</font></b> headers <font color=#1b1baa>$hd</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> headers [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$headers</font> 0 <font color=#1b1baa>$hd</font>]
    }
  }
  <i><font color=#4b5d50># move items one by one, by their headers</font></i>
  undoIn <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>foreach</font></b> hd <font color=#1b1baa>$headers</font> {
    <b><font color=#3a6797>if</font></b> {![MoveUnit <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$to</font> <font color=#1b1baa>$hd</font> <font color=#1b1baa>$headers</font> <font color=#1b1baa>$f1112</font> no]} {
      <b><font color=#ca14ca>break</font></b>
    }
  }
  undoOut <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>set</font></b> com <font color=#8b2a0e>&quot;set ::alited::al(RECREATE) 1; alited::tree::RecreateTree&quot;</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtree</font> selection]] ne {}} {
    <b><font color=#3a6797>append</font></b> com <font color=#8b2a0e>&quot;; <font color=#1b1baa>$</font>wtree selection set <font color=#1b1baa>{$</font>sel<font color=#1b1baa>}</font>&quot;</font>
  }
  <b><font color=#3a6797>after</font></b> idle <font color=#1b1baa>$com</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::RecreateUnits'>RecreateUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Recreates the internal tree of units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RecreateUnits</span> <span class='ruff_arg'>TID wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_RecreateUnits' href="javascript:toggleSource('alited_unit_RecreateUnits')">Show source</a></p>
<div id='alited_unit_RecreateUnits' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::RecreateUnits {TID wtxt} {
  <i><font color=#4b5d50># Recreates the internal tree of units.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(_unittree,<font color=#1b1baa>$TID</font>) [GetUnits <font color=#1b1baa>$TID</font> [<font color=#1b1baa>$wtxt</font> get 1.0 {end -1 char}]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::Run_unit_tpl'>Run_unit_tpl</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Templates dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Run_unit_tpl</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_Run_unit_tpl' href="javascript:toggleSource('alited_unit_Run_unit_tpl')">Show source</a></p>
<div id='alited_unit_Run_unit_tpl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::Run_unit_tpl {args} {
  <i><font color=#4b5d50># Runs Templates dialogue.</font></i>

  Source_unit_tpl
  <b><font color=#ca14ca>return</font></b> [::alited::unit_tpl::_run {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SearchByHeader'>SearchByHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tree item ID of a units by its header (declaration+initial comment).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByHeader</span> <span class='ruff_arg'>header</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_SearchByHeader' href="javascript:toggleSource('alited_unit_SearchByHeader')">Show source</a></p>
<div id='alited_unit_SearchByHeader' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::SearchByHeader {header} {
  <i><font color=#4b5d50># Gets tree item ID of a units by its header (declaration+initial comment).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree] {
    <b><font color=#3a6797>set</font></b> ID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 2]
    <b><font color=#3a6797>set</font></b> header2 [GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$header</font> eq <font color=#1b1baa>$header2</font>} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ID</font>}
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SearchInBranch'>SearchInBranch</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks whether a unit is in a branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchInBranch</span> <span class='ruff_arg'>unit ?branch?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>unit</code></code></td><td class='ruff_defitem'>ID of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>branch</code></code></td><td class='ruff_defitem'>the branch or its ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>branch</em> is omitted, searches in all of the tree. If <em>branch</em> is set as ID, the branch is fetched from this ID.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the unit's index in the branch or -1 if not found.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_SearchInBranch' href="javascript:toggleSource('alited_unit_SearchInBranch')">Show source</a></p>
<div id='alited_unit_SearchInBranch' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::SearchInBranch {unit {branch {}}} {
  <i><font color=#4b5d50># Checks whether a unit is in a branch.</font></i>
  <i><font color=#4b5d50>#   unit - ID of the unit</font></i>
  <i><font color=#4b5d50>#   branch - the branch or its ID</font></i>
  <i><font color=#4b5d50># If *branch* is omitted, searches in all of the tree.</font></i>
  <i><font color=#4b5d50># If *branch* is set as ID, the branch is fetched from this ID.</font></i>
  <i><font color=#4b5d50># Returns the unit's index in the branch or -1 if not found.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$branch</font>]&lt;2} {
    <b><font color=#3a6797>set</font></b> branch [alited::tree::GetTree <font color=#1b1baa>$branch</font>]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 2 <font color=#1b1baa>$branch</font> <font color=#1b1baa>$unit</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::Source_unit_tpl'>Source_unit_tpl</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sources unit_tpl.tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Source_unit_tpl</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_Source_unit_tpl' href="javascript:toggleSource('alited_unit_Source_unit_tpl')">Show source</a></p>
<div id='alited_unit_Source_unit_tpl' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::Source_unit_tpl {} {
  <i><font color=#4b5d50># Sources unit_tpl.tcl.</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::unit_tpl]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$SRCDIR</font> unit_tpl.tcl]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SwitchUnits'>SwitchUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches between last two active units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchUnits</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_SwitchUnits' href="javascript:toggleSource('alited_unit_SwitchUnits')">Show source</a></p>
<div id='alited_unit_SwitchUnits' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::SwitchUnits {} {
  <i><font color=#4b5d50># Switches between last two active units.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(FAV,visited)</font>]&lt;2} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 1 4] name fname header
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::favor::OpenSelectedFile <font color=#1b1baa>$fname</font>]] eq {}} <b><font color=#ca14ca>return</font></b>
  alited::favor::GoToUnit <font color=#1b1baa>$TID</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$header</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::TemplateData'>TemplateData</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces the template wildcards with data of current text and unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TemplateData</span> <span class='ruff_arg'>wtxt l1 l2 tpldata</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of current unit</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line of current unit</td></tr>
<tr><td class='ruff_defitem'><code><code>tpldata</code></code></td><td class='ruff_defitem'>template</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_TemplateData' href="javascript:toggleSource('alited_unit_TemplateData')">Show source</a></p>
<div id='alited_unit_TemplateData' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::TemplateData {wtxt l1 l2 tpldata} {
  <i><font color=#4b5d50># Replaces the template wildcards with data of current text and unit.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line of current unit</font></i>
  <i><font color=#4b5d50>#   l2 - last line of current unit</font></i>
  <i><font color=#4b5d50>#   tpldata - template</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DIR DIR MNUDIR MNUDIR
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$tpldata</font> tex pos place
  <b><font color=#3a6797>set</font></b> sec [<b><font color=#3a6797>clock</font></b> seconds]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> tex [TemplateMap <font color=#1b1baa>$tex</font>]
  <i><font color=#4b5d50># get a list of proc/method's arguments:</font></i>
  <i><font color=#4b5d50># from &quot;proc pr {ar1 ar2 ar3} &quot; and a template &quot;  # %a -\n&quot;</font></i>
  <i><font color=#4b5d50># to get</font></i>
  <i><font color=#4b5d50>#   # ar1 -</font></i>
  <i><font color=#4b5d50>#   # ar2 -</font></i>
  <i><font color=#4b5d50>#   # ar3 -</font></i>
  <b><font color=#3a6797>set</font></b> unithead [GetDeclaration <font color=#1b1baa>$wtxt</font> {} <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
  <b><font color=#3a6797>set</font></b> unithead [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$unithead</font> <font color=#8b2a0e>&quot;\{ &quot;</font>]
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$unithead</font> <font color=#8b2a0e>&quot;\{&quot;</font>] proc
  <b><font color=#3a6797>set</font></b> iarg [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$unithead</font> [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$proc</font>] end]
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> ipad [obj leadingSpaces [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]]
    <b><font color=#3a6797>if</font></b> {![IsLeafRegexp]} {
      <b><font color=#3a6797>incr</font></b> ipad [obj leadingSpaces <font color=#1b1baa>$tex</font>]
    }
    <b><font color=#3a6797>set</font></b> pad [<b><font color=#3a6797>string</font></b> repeat <font color=#8b2a0e>&quot; &quot;</font> <font color=#1b1baa>$ipad</font>]
    <b><font color=#3a6797>set</font></b> tpla <font color=#1b1baa>$pad</font>[<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\n \n] <font color=#1b1baa>$al(TPL,%a)</font>]
    <b><font color=#3a6797>set</font></b> oarg [<b><font color=#3a6797>set</font></b> st1 <font color=#8b2a0e>&quot;&quot;</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match \{<b><font color=#3a6797>*</font></b>\} <font color=#1b1baa>$iarg</font>]} {<b><font color=#3a6797>set</font></b> iarg [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$iarg</font> 1 end-1]}
    <b><font color=#3a6797>foreach</font></b> a [<b><font color=#3a6797>list</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$iarg</font>] {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$a</font> a
      <b><font color=#3a6797>set</font></b> a [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$a</font> <font color=#8b2a0e>&quot;\{\} &quot;</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$a</font> ne {}} {
        <b><font color=#3a6797>set</font></b> st [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %a <font color=#1b1baa>$a</font>] <font color=#1b1baa>$tpla</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$st1</font> eq <font color=#8b2a0e>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> st1 <font color=#1b1baa>$st</font>}
        <b><font color=#3a6797>append</font></b> oarg <font color=#1b1baa>$st</font>
      }
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first %a <font color=#1b1baa>$tex</font>]&gt;-1} {
      <b><font color=#3a6797>set</font></b> tex <font color=#1b1baa>$pad</font>[<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$tex</font>]
      <b><font color=#3a6797>set</font></b> place 0
      <b><font color=#3a6797>set</font></b> pos 1.[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$st1</font>]
    }
    <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\n \n %a <font color=#1b1baa>$oarg</font>] <font color=#1b1baa>$tex</font>]
  }
  <b><font color=#3a6797>set</font></b> ll1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tex</font>]
  <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %p [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$proc</font> 1]] <font color=#1b1baa>$tex</font>]
  <b><font color=#3a6797>set</font></b> ll2 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tex</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ll [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$ll2</font>-<font color=#1b1baa>$ll1</font>}]]} {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$pos</font> .] r c
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$c</font>]} {
      <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$r</font>.[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$c</font>+<font color=#1b1baa>$ll</font>}]
    }
  }
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$place</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::TemplateMap'>TemplateMap</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Maps a string using template wildcards.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TemplateMap</span> <span class='ruff_arg'>str</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>string to map</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_TemplateMap' href="javascript:toggleSource('alited_unit_TemplateMap')">Show source</a></p>
<div id='alited_unit_TemplateMap' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::TemplateMap {str} {
  <i><font color=#4b5d50># Maps a string using template wildcards.</font></i>
  <i><font color=#4b5d50>#   str - string to map</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DIR DIR
  <b><font color=#3a6797>set</font></b> sec [<b><font color=#3a6797>clock</font></b> seconds]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#ca14ca>return</font></b> [alited::Map {} <font color=#1b1baa>$str</font>  %d [alited::tool::FormatDate <font color=#1b1baa>$sec</font>]  %t [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$sec</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$al(TPL,%t)</font> <font color=#6c3e67>-locale</font> <font color=#1b1baa>$::alited::al(LOCAL)</font>]  %u <font color=#1b1baa>$al(TPL,%u)</font>  %U <font color=#1b1baa>$al(TPL,%U)</font>  %m <font color=#1b1baa>$al(TPL,%m)</font>  %w <font color=#1b1baa>$al(TPL,%w)</font>  %F <font color=#1b1baa>$fname</font>  %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]  %n [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]  %A <font color=#1b1baa>$DIR</font>  %M <font color=#1b1baa>$al(EM,mnudir)</font>  ]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::UnitHeaderMode'>UnitHeaderMode</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets modes for unit tree : do use RE for leaf headers and do not.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitHeaderMode</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 2 flags: &quot;Use leaf's RE&quot; and &quot;Use proc/method declaration&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_UnitHeaderMode' href="javascript:toggleSource('alited_unit_UnitHeaderMode')">Show source</a></p>
<div id='alited_unit_UnitHeaderMode' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::UnitHeaderMode {TID} {
  <i><font color=#4b5d50># Gets modes for unit tree : do use RE for leaf headers and do not.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50># Returns 2 flags: &quot;Use leaf's RE&quot; and &quot;Use proc/method declaration&quot;.</font></i>

  <b><font color=#3a6797>set</font></b> isLeafRE [IsLeafRegexp]
  <b><font color=#3a6797>set</font></b> isProc [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$isLeafRE</font> &&  (<font color=#1b1baa>$TID</font> eq {TMP} || [alited::file::IsTcl [alited::bar::FileName <font color=#1b1baa>$TID</font>]])}]
  <b><font color=#3a6797>set</font></b> leafRE [LeafRegexp]
  <b><font color=#3a6797>list</font></b> <font color=#1b1baa>$isLeafRE</font> <font color=#1b1baa>$isProc</font> <font color=#1b1baa>$leafRE</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::UnitRegexp'>UnitRegexp</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets RE to check unit's beginning.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitRegexp</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_UnitRegexp' href="javascript:toggleSource('alited_unit_UnitRegexp')">Show source</a></p>
<div id='alited_unit_UnitRegexp' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::UnitRegexp {} {
  <i><font color=#4b5d50># Gets RE to check unit's beginning.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[IsLeafRegexp]} {
    <b><font color=#ca14ca>return</font></b> [LeafRegexp]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$al(RE,proc2)</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::unit_tpl'></a>::alited::unit_tpl<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::unit_tpl-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Templates&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> <span class='ruff_arg'>?geom?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>geom</code></code></td><td class='ruff_defitem'>&quot;-geometry&quot; option for showModal; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl__create' href="javascript:toggleSource('alited_unit_tpl__create')">Show source</a></p>
<div id='alited_unit_tpl__create' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::_create {{geom {}}} {
  <i><font color=#4b5d50># Creates &quot;Templates&quot; dialogue.</font></i>
  <i><font color=#4b5d50>#   geom - &quot;-geometry&quot; option for showModal</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al tplgeometry tplgeometry
  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> dosel
  <b><font color=#3a6797>set</font></b> tipson [baltip::cget <font color=#6c3e67>-on</font>]
  baltip::configure <font color=#6c3e67>-on</font> <font color=#1b1baa>$al(TIPS,Templates)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosel</font>} {
    <b><font color=#3a6797>set</font></b> forget {}
    <b><font color=#3a6797>set</font></b> ::alited::unit_tpl::BUTEXIT Cancel
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> forget forget
    <b><font color=#3a6797>set</font></b> ::alited::unit_tpl::BUTEXIT Close
  }
  ::apave::APave create <font color=#1b1baa>$obTpl</font> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$obTpl</font> makeWindow <font color=#1b1baa>$win</font> <font color=#1b1baa>$al(MC,tpl)</font>
  <font color=#1b1baa>$obTpl</font> paveWindow <font color=#1b1baa>$win</font> {
    {fraTreeTpl - - 10 10 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-rw</font> 3 <font color=#6c3e67>-pady</font> 8} {}}
    {.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> both} {}}
    {.fra.btTAd - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-anchor</font> n}  {<font color=#6c3e67>-com</font> ::alited::unit_tpl::Add <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Add a template&quot;</font> <font color=#6c3e67>-image</font> alimg_add-big}}
    {.fra.btTChg - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> top}  {<font color=#6c3e67>-com</font> ::alited::unit_tpl::Change <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Change a template&quot;</font> <font color=#6c3e67>-image</font> alimg_change-big}}
    {.fra.btTDel - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> top}  {<font color=#6c3e67>-com</font> ::alited::unit_tpl::Delete <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Delete a template&quot;</font> <font color=#6c3e67>-image</font> alimg_delete-big}}
    {.fra.v_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-pady</font> 2} {}}
    {.fra.btTImp - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> top}  {<font color=#6c3e67>-com</font> ::alited::unit_tpl::Import  <font color=#6c3e67>-tip</font> <font color=#8b2a0e>&quot;Import templates\nfrom external alited.ini&quot;</font> <font color=#6c3e67>-image</font> alimg_plus-big}}
    {.TreeTpl - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-h</font> 12 <font color=#6c3e67>-show</font> headings <font color=#6c3e67>-columns</font> {C1 C2} <font color=#6c3e67>-displaycolumns</font> {C1 C2}  <font color=#6c3e67>-columnoptions</font> <font color=#8b2a0e>&quot;C2 <font color=#1b1baa>{</font>-stretch 0<font color=#1b1baa>}</font>&quot;</font>}}
    {.sbvTpls + L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both}}
    {fra1 fraTreeTpl T 10 10 {<font color=#6c3e67>-st</font> nsew}}
    {.h_ - - 1 1 {<font color=#6c3e67>-st</font> we} {<font color=#6c3e67>-h</font> 20}}
    {.labTpl .h_ T 1 1 {<font color=#6c3e67>-st</font> e} {<font color=#6c3e67>-anchor</font> center <font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Current template:&quot;</font>}}
    {.EntTpl .labTpl L 1 8 {<font color=#6c3e67>-st</font> we}  {<font color=#6c3e67>-tvar</font> ::alited::unit_tpl::tpl <font color=#6c3e67>-w</font> 45 <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,tplent1)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
    {.CbxKey + L 1 1 {<font color=#6c3e67>-st</font> w}  {<font color=#6c3e67>-tvar</font> ::alited::unit_tpl::tplkey <font color=#6c3e67>-postcommand</font> ::alited::unit_tpl::GetKeyList  <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-h</font> 16 <font color=#6c3e67>-w</font> 16 <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,tplent3)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
    {fratex fra1 T 10 10 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-cw</font> 1} {}}
    {.TexTpl - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}  {<font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-w</font> 80 <font color=#6c3e67>-tip</font>  {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,tplent2)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
    {.sbvTpl + L - - pack {}}
    {fra2 fratex T 1 10 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {.labBA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;Place after:&quot;</font>}}
    {.radA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;line&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 1  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,tplaft1)</font>} <font color=#6c3e67>-UNDER</font> 4}}}
    {.radB - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;unit&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 2  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,tplaft2)</font>} <font color=#6c3e67>-UNDER</font> 4}}}
    {.radC - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;cursor&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 3  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,tplaft3)</font>} <font color=#6c3e67>-UNDER</font> 4}}}
    {.radD - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;file's beginning&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 4  <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$al(MC,tplaft4)</font>} <font color=#6c3e67>-UNDER</font> 4}}}
    {LabMess fra2 T 1 10 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-style</font> TLabelFS}}
    {fra3 + T 1 10 {<font color=#6c3e67>-st</font> nsew}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,help)</font>} <font color=#6c3e67>-tip</font> F1 <font color=#6c3e67>-command</font> ::alited::unit_tpl::Help}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}}
    {.butOK - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$forget</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2}  {<font color=#6c3e67>-t</font> <font color=#8b2a0e>&quot;<font color=#1b1baa>$</font>al(MC,select)&quot;</font> <font color=#6c3e67>-command</font> ::alited::unit_tpl::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}  {<font color=#6c3e67>-t</font> <font color=#1b1baa>$::alited::unit_tpl::BUTEXIT</font> <font color=#6c3e67>-command</font> ::alited::unit_tpl::Cancel}}
  }
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obTpl</font> TreeTpl]
  <font color=#1b1baa>$tree</font> heading C1 <font color=#6c3e67>-text</font> [msgcat::mc Template]
  <font color=#1b1baa>$tree</font> heading C2 <font color=#6c3e67>-text</font> [msgcat::mc {Hot keys}]
  UpdateTree no
  Select
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obTpl</font> TexTpl]
  SyntaxText <font color=#1b1baa>$wtxt</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;&lt;TreeviewSelect&gt;&gt; ::alited::unit_tpl::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Delete&gt; ::alited::unit_tpl::Delete
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Double-Button-1&gt; ::alited::unit_tpl::Ok
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Return&gt; ::alited::unit_tpl::Ok
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;FocusIn&gt; <font color=#8b2a0e>&quot;::alited::unit_tpl::InText <font color=#1b1baa>$</font>wtxt&quot;</font>
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obTpl</font> CbxKey] &lt;FocusOut&gt; ::alited::unit_tpl::ClearCbx
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#8b2a0e>&quot;<font color=#1b1baa>[$</font>obTpl ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obTpl</font> LabMess] &lt;Button-1&gt; alited::unit_tpl::ProcMessage
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tpllist</font>]} {<b><font color=#3a6797>set</font></b> foc <font color=#1b1baa>$tree</font>} {<b><font color=#3a6797>set</font></b> foc [<font color=#1b1baa>$obTpl</font> EntTpl]}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> il <font color=#1b1baa>$::alited::unit::ilast</font>] &gt; -1} {
    Select <font color=#1b1baa>$il</font>
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::unit_tpl::Select <font color=#1b1baa>$</font>il&quot;</font>  ;<i><font color=#4b5d50># just to highlight</font></i>
  }
  <b><font color=#3a6797>after</font></b> 500 ::alited::unit_tpl::HelpMe ;<i><font color=#4b5d50># show an introduction after a short pause</font></i>
  <b><font color=#3a6797>set</font></b> geo {<font color=#6c3e67>-resizable</font> 1 <font color=#6c3e67>-minsize</font> {640 480}}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geom</font> ne {}} {
    <b><font color=#3a6797>set</font></b> geo <font color=#1b1baa>$geom</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$tplgeometry</font> ne {}} {
    <b><font color=#3a6797>append</font></b> geo <font color=#8b2a0e>&quot; -geometry <font color=#1b1baa>$</font>tplgeometry&quot;</font>
  }
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obTpl</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-onclose</font> ::alited::unit_tpl::Cancel <font color=#6c3e67>-focus</font> <font color=#1b1baa>$foc</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$geom</font> eq {}} {
    <b><font color=#3a6797>set</font></b> tplgeometry [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  }
  baltip::configure {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tipson</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <font color=#1b1baa>$obTpl</font> destroy
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>] &lt; 2} {<b><font color=#3a6797>set</font></b> res {}}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Templates&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?doselect? ?geom?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doselect</code></code></td><td class='ruff_defitem'>if yes, enables &quot;Select&quot; action; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>geom</code></code></td><td class='ruff_defitem'>&quot;-geometry&quot; option for showModal; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl__run' href="javascript:toggleSource('alited_unit_tpl__run')">Show source</a></p>
<div id='alited_unit_tpl__run' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::_run {{doselect yes} {geom {}}} {
  <i><font color=#4b5d50># Runs &quot;Templates&quot; dialogue.</font></i>
  <i><font color=#4b5d50>#   doselect - if yes, enables &quot;Select&quot; action</font></i>
  <i><font color=#4b5d50>#   geom - &quot;-geometry&quot; option for showModal</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> dosel
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> dosel <font color=#1b1baa>$doselect</font>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  alited::keys::UnBindKeys <font color=#1b1baa>$wtxt</font> template
  ReadIni
  <b><font color=#3a6797>set</font></b> res [_create <font color=#1b1baa>$geom</font>]
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
  alited::keys::BindKeys <font color=#1b1baa>$wtxt</font> template
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Add template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>?inpos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inpos</code></code></td><td class='ruff_defitem'>cursor position in template text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1, if the template was added, else returns 0.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Add' href="javascript:toggleSource('alited_unit_tpl_Add')">Show source</a></p>
<div id='alited_unit_tpl_Add' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Add {{inpos {}}} {
  <i><font color=#4b5d50># Handles &quot;Add template&quot; button.</font></i>
  <i><font color=#4b5d50>#   inpos - cursor position in template text</font></i>
  <i><font color=#4b5d50># Returns 1, if the template was added, else returns 0.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tpl
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> txt [Text]
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obTpl</font> TreeTpl]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tplkey</font> ne {}} {
    <b><font color=#3a6797>set</font></b> isel2 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tplkeys</font> <font color=#1b1baa>$tplkey</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> isel2 -1
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tpl</font> ne {} && <font color=#1b1baa>$txt</font> ne {} && (  [<b><font color=#3a6797>set</font></b> isel1 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tpllist</font> <font color=#1b1baa>$tpl</font>]]&gt;-1 || <font color=#1b1baa>$isel2</font>&gt;-1 ||
  [<b><font color=#3a6797>set</font></b> isel3 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$txt</font>]]&gt;-1 )} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel1</font>&gt;-1} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obTpl</font> EntTpl]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$isel2</font>&gt;-1} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obTpl</font> CbxKey]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obTpl</font> TexTpl]
      <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtxt</font>
      <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel3</font>]
      ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
    }
    Message <font color=#1b1baa>$al(MC,tplexists)</font> 4
    <b><font color=#ca14ca>return</font></b> 0
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$tpl</font> eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obTpl</font> EntTpl]
    Message <font color=#1b1baa>$al(MC,tplent1)</font> 4
    <b><font color=#ca14ca>return</font></b> 0
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$txt</font>] eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obTpl</font> TexTpl]
    Message <font color=#1b1baa>$al(MC,tplent2)</font> 4
    <b><font color=#ca14ca>return</font></b> 0
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inpos</font> eq {}} {<b><font color=#3a6797>set</font></b> inpos [Pos]}
  <b><font color=#3a6797>lappend</font></b> tpllist <font color=#1b1baa>$tpl</font>
  <b><font color=#3a6797>lappend</font></b> tplcont <font color=#1b1baa>$txt</font>
  <b><font color=#3a6797>lappend</font></b> tplpos <font color=#1b1baa>$inpos</font>
  <b><font color=#3a6797>lappend</font></b> tplpla <font color=#1b1baa>$place</font>
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tpllist</font>]] <font color=#1b1baa>$al(MC,tplnew)</font>]
  <b><font color=#3a6797>set</font></b> item [<font color=#1b1baa>$tree</font> insert {} end <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$tplkey</font>]]
  <b><font color=#3a6797>lappend</font></b> tplkeys <font color=#1b1baa>$tplkey</font>
  UpdateTree
  <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$tree</font> children {}] end]
  <b><font color=#3a6797>lappend</font></b> tplid <font color=#1b1baa>$item</font>
  <b><font color=#3a6797>set</font></b> isel [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tplid</font>]-1}]
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;::alited::unit_tpl::Select <font color=#1b1baa>$</font>isel&quot;</font>
  Message <font color=#1b1baa>$msg</font> 3
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Cancel' href="javascript:toggleSource('alited_unit_tpl_Cancel')">Show source</a></p>
<div id='alited_unit_tpl_Cancel' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Cancel {args} {
  <i><font color=#4b5d50># Handles &quot;Cancel&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> win
  alited::CloseDlg
  SaveIni
  <font color=#1b1baa>$obTpl</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Change template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Change' href="javascript:toggleSource('alited_unit_tpl_Change')">Show source</a></p>
<div id='alited_unit_tpl_Change' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Change {} {
  <i><font color=#4b5d50># Handles &quot;Change template&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> tpl
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> tpllist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tpllist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> tplcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> [Text]]
  <b><font color=#3a6797>set</font></b> tplpos [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> [Pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font>]]]
  <b><font color=#3a6797>set</font></b> tplpla [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplpla</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$place</font>]
  <b><font color=#3a6797>set</font></b> tplkeys [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplkeys</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$tplkey</font>]
  UpdateTree
  <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;::alited::unit_tpl::Select <font color=#1b1baa>$</font>isel&quot;</font>
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>incr</font></b> isel]] <font color=#1b1baa>$::alited::al(MC,tplupd)</font>]
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::ClearCbx'>ClearCbx</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Helper to clear the combobox's selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearCbx</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_ClearCbx' href="javascript:toggleSource('alited_unit_tpl_ClearCbx')">Show source</a></p>
<div id='alited_unit_tpl_ClearCbx' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::ClearCbx {} {
  <i><font color=#4b5d50># Helper to clear the combobox's selection.</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  [<font color=#1b1baa>$obTpl</font> CbxKey] selection clear
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Delete template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Delete' href="javascript:toggleSource('alited_unit_tpl_Delete')">Show source</a></p>
<div id='alited_unit_tpl_Delete' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Delete {} {
  <i><font color=#4b5d50># Handles &quot;Delete template&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> dosel
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$dosel</font> || [<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> nsel [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$isel</font>+1}]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,tpldelq)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> NO <font color=#6c3e67>-centerme</font> <font color=#1b1baa>$win</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>foreach</font></b> tl {tpllist tplcont tplpos tplpla tplid tplkeys} {
    <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$tl</font> [<b><font color=#3a6797>lreplace</font></b> [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$tl</font>] <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tpllist</font>]-1}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font>&gt;<font color=#1b1baa>$llen</font>} {<b><font color=#3a6797>set</font></b> isel <font color=#1b1baa>$llen</font>}
  UpdateTree
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>&gt;=0} {<b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;alited::unit_tpl::Select <font color=#1b1baa>$</font>isel&quot;</font>}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,tplrem)</font>]
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Focus'>Focus</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the focus on the template list's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Focus</span> <span class='ruff_arg'>isel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>index of item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Focus' href="javascript:toggleSource('alited_unit_tpl_Focus')">Show source</a></p>
<div id='alited_unit_tpl_Focus' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Focus {isel} {
  <i><font color=#4b5d50># Sets the focus on the template list's item.</font></i>
  <i><font color=#4b5d50>#   isel - index of item</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obTpl</font> TreeTpl]
  <font color=#1b1baa>$tree</font> selection set <font color=#1b1baa>$isel</font>
  <font color=#1b1baa>$tree</font> see <font color=#1b1baa>$isel</font>
  <font color=#1b1baa>$tree</font> focus <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::GetKeyList'>GetKeyList</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a key list for &quot;Keys&quot; combobox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetKeyList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_GetKeyList' href="javascript:toggleSource('alited_unit_tpl_GetKeyList')">Show source</a></p>
<div id='alited_unit_tpl_GetKeyList' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::GetKeyList {} {
  <i><font color=#4b5d50># Creates a key list for &quot;Keys&quot; combobox.</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  RegisterKeys
  <b><font color=#3a6797>set</font></b> keys [<b><font color=#3a6797>linsert</font></b> [alited::keys::VacantList] 0 <font color=#8b2a0e>&quot;&quot;</font>]
  [<font color=#1b1baa>$obTpl</font> CbxKey] configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$keys</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Help&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Help' href="javascript:toggleSource('alited_unit_tpl_Help')">Show source</a></p>
<div id='alited_unit_tpl_Help' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Help {args} {
  <i><font color=#4b5d50># Handles &quot;Help&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::Help <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' for start.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_HelpMe' href="javascript:toggleSource('alited_unit_tpl_HelpMe')">Show source</a></p>
<div id='alited_unit_tpl_HelpMe' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::HelpMe {args} {
  <i><font color=#4b5d50># 'Help' for start.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::HelpMe <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Import'>Import</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Import templates&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Import</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Import' href="javascript:toggleSource('alited_unit_tpl_Import')">Show source</a></p>
<div id='alited_unit_tpl_Import' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Import {} {
  <i><font color=#4b5d50># Handles &quot;Import templates&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DATAUSERINI DATAUSERINI
  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> tpl
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> al(TMPfname) alited.ini
  <b><font color=#3a6797>set</font></b> fname [<font color=#1b1baa>$obTpl</font> chooser tk_getOpenFile ::alited::al(TMPfname)  <font color=#6c3e67>-initialdir</font> <font color=#1b1baa>$DATAUSERINI</font> <font color=#6c3e67>-parent</font> <font color=#1b1baa>$win</font>]
  <b><font color=#3a6797>unset</font></b> al(TMPfname)
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> imported 0
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obTpl</font> TexTpl]
  <b><font color=#3a6797>foreach</font></b> line [textsplit [readTextFile <font color=#1b1baa>$fname</font>]] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match tpl=* <font color=#1b1baa>$line</font>]} {
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> 4 end]
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$line</font> tpl tplkey cont pos place}]} {
        <b><font color=#3a6797>set</font></b> cont [::alited::ProcEOL <font color=#1b1baa>$cont</font> in]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tpl</font> ne {} && <font color=#1b1baa>$cont</font> ne {} && <font color=#1b1baa>$pos</font> ne {}} {
          <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos</font>]} {<b><font color=#3a6797>set</font></b> pos 1.0}
          <font color=#1b1baa>$wtxt</font> delete 1.0 end
          <font color=#1b1baa>$wtxt</font> insert end <font color=#1b1baa>$cont</font>
          <b><font color=#3a6797>incr</font></b> imported [Add <font color=#1b1baa>$pos</font>]
        }
      }
    }
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map <font color=#8b2a0e>&quot;%n <font color=#1b1baa>$</font>imported&quot;</font> [msgcat::mc <font color=#8b2a0e>&quot;Number of imported templates: %n&quot;</font>]]
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::InText'>InText</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Goes into the template's text and sets the cursor on it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InText</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_InText' href="javascript:toggleSource('alited_unit_tpl_InText')">Show source</a></p>
<div id='alited_unit_tpl_InText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::InText {wtxt} {
  <i><font color=#4b5d50># Goes into the template's text and sets the cursor on it.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index no]] ne {}} {
    <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>after</font></b> idle <font color=#8b2a0e>&quot;  ::hl_tcl::iscurline <font color=#1b1baa>$</font>wtxt yes ;  ::tk::TextSetCursor <font color=#1b1baa>$</font>wtxt <font color=#1b1baa>$</font>pos ;  event generate <font color=#1b1baa>$</font>wtxt &lt;Enter&gt; ;# to force highlighting</font>
<font color=#8b2a0e>      &quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of templates dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>2</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Message' href="javascript:toggleSource('alited_unit_tpl_Message')">Show source</a></p>
<div id='alited_unit_tpl_Message' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Message {msg {mode 2}} {
  <i><font color=#4b5d50># Displays a message in statusbar of templates dialogue.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - mode of Message</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  alited::Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> [<font color=#1b1baa>$obTpl</font> LabMess]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Ok' href="javascript:toggleSource('alited_unit_tpl_Ok')">Show source</a></p>
<div id='alited_unit_tpl_Ok' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Ok {args} {
  <i><font color=#4b5d50># Handles &quot;OK&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> dosel
  alited::CloseDlg
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$dosel</font> || [<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obTpl</font> TreeTpl]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> pla [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpla</font> <font color=#1b1baa>$isel</font>]
  SaveIni
  <font color=#1b1baa>$obTpl</font> res <font color=#1b1baa>$win</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pla</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Pos'>Pos</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a cursor position in the template's text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Pos</span> <span class='ruff_arg'>?pos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>if not &quot;&quot;, it's a position to be returned by default; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a cursor position in the template's text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Pos' href="javascript:toggleSource('alited_unit_tpl_Pos')">Show source</a></p>
<div id='alited_unit_tpl_Pos' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Pos {{pos {}}} {
  <i><font color=#4b5d50># Returns a cursor position in the template's text.</font></i>
  <i><font color=#4b5d50>#   pos - if not &quot;&quot;, it's a position to be returned by default</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obTpl</font> TexTpl]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq [<b><font color=#134070>focus</font></b>] || <font color=#1b1baa>$pos</font> eq {}} {
    <b><font color=#ca14ca>return</font></b> [<font color=#1b1baa>$wtxt</font> index insert]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::ProcMessage'>ProcMessage</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles clicking on message label.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcMessage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_ProcMessage' href="javascript:toggleSource('alited_unit_tpl_ProcMessage')">Show source</a></p>
<div id='alited_unit_tpl_ProcMessage' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::ProcMessage {} {
  <i><font color=#4b5d50># Handles clicking on message label.</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>set</font></b> msg [baltip cget [<font color=#1b1baa>$obTpl</font> LabMess] <font color=#6c3e67>-text</font>]
  Message <font color=#1b1baa>$msg</font> 3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::ReadIni'>ReadIni</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets templates' data from al(TPL,list) saved in alited.ini.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_ReadIni' href="javascript:toggleSource('alited_unit_tpl_ReadIni')">Show source</a></p>
<div id='alited_unit_tpl_ReadIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::ReadIni {} {
  <i><font color=#4b5d50># Gets templates' data from al(TPL,list) saved in alited.ini.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>foreach</font></b> tv {tpllist tplcont tplkeys tplpos tplpla} {
    <b><font color=#3a6797>variable</font></b> <font color=#1b1baa>$tv</font>
    <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$tv</font> [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#3a6797>foreach</font></b> lst <font color=#1b1baa>$al(TPL,list)</font> {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$lst</font> tpl key cont pos pla}]} {
      <b><font color=#3a6797>set</font></b> cont [::alited::ProcEOL <font color=#1b1baa>$cont</font> in]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tpl</font> ne {} && <font color=#1b1baa>$cont</font> ne {} && <font color=#1b1baa>$pos</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos</font>]} {<b><font color=#3a6797>set</font></b> pos 1.0}
        <b><font color=#3a6797>lappend</font></b> tpllist <font color=#1b1baa>$tpl</font>
        <b><font color=#3a6797>lappend</font></b> tplcont <font color=#1b1baa>$cont</font>
        <b><font color=#3a6797>lappend</font></b> tplkeys <font color=#1b1baa>$key</font>
        <b><font color=#3a6797>lappend</font></b> tplpos <font color=#1b1baa>$pos</font>
        <b><font color=#3a6797>lappend</font></b> tplpla <font color=#1b1baa>$pla</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::RegisterKeys'>RegisterKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Registers key bindings of templates, to save them to alited.ini afterwards.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RegisterKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_RegisterKeys' href="javascript:toggleSource('alited_unit_tpl_RegisterKeys')">Show source</a></p>
<div id='alited_unit_tpl_RegisterKeys' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::RegisterKeys {} {
  <i><font color=#4b5d50># Registers key bindings of templates, to save them to alited.ini afterwards.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  alited::keys::Delete template
  <b><font color=#3a6797>set</font></b> al(TPL,list) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tpl <font color=#1b1baa>$tpllist</font> key <font color=#1b1baa>$tplkeys</font> cont <font color=#1b1baa>$tplcont</font> pos <font color=#1b1baa>$tplpos</font> pla <font color=#1b1baa>$tplpla</font> {
    <b><font color=#3a6797>set</font></b> cont [::alited::ProcEOL <font color=#1b1baa>$cont</font> out]
    <b><font color=#3a6797>lappend</font></b> al(TPL,list) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$key</font> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pla</font>]
    alited::keys::Add template <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$key</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pla</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::SaveIni'>SaveIni</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts templates' data to al(TPL,list) to save in alited.ini.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_SaveIni' href="javascript:toggleSource('alited_unit_tpl_SaveIni')">Show source</a></p>
<div id='alited_unit_tpl_SaveIni' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::SaveIni {} {
  <i><font color=#4b5d50># Puts templates' data to al(TPL,list) to save in alited.ini.</font></i>

  <b><font color=#3a6797>set</font></b> ::alited::unit::ilast [Selected index no]
  RegisterKeys
  alited::ini::SaveIni
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects an item of the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?item?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>index (ID) of template list; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Select' href="javascript:toggleSource('alited_unit_tpl_Select')">Show source</a></p>
<div id='alited_unit_tpl_Select' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Select {{item {}}} {
  <i><font color=#4b5d50># Selects an item of the template list.</font></i>
  <i><font color=#4b5d50>#   item - index (ID) of template list</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> tpl
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> eq {}} {<b><font color=#3a6797>set</font></b> item [Selected item no]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#1b1baa>$item</font>]} {  ;<i><font color=#4b5d50># the item is an index</font></i>
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplid</font> <font color=#1b1baa>$item</font>]
    }
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obTpl</font> TreeTpl]
      <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$item</font>]
      <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tpllist</font> <font color=#1b1baa>$isel</font>]
      <b><font color=#3a6797>set</font></b> tplkey [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplkeys</font> <font color=#1b1baa>$isel</font>]
      <b><font color=#3a6797>set</font></b> place [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpla</font> <font color=#1b1baa>$isel</font>]
      <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$isel</font>]
      <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obTpl</font> TexTpl]
      ::hl_tcl::iscurline <font color=#1b1baa>$wtxt</font> no
      <font color=#1b1baa>$wtxt</font> delete 1.0 end
      <font color=#1b1baa>$wtxt</font> insert end <font color=#1b1baa>$cont</font>
      InText <font color=#1b1baa>$wtxt</font>
      <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$tree</font> selection] ne <font color=#1b1baa>$item</font>} {
        <font color=#1b1baa>$tree</font> selection set <font color=#1b1baa>$item</font>
      }
      <b><font color=#134070>focus</font></b> <font color=#1b1baa>$tree</font>
      <font color=#1b1baa>$tree</font> see <font color=#1b1baa>$item</font>
      <font color=#1b1baa>$tree</font> focus <font color=#1b1baa>$item</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID or index of currently selected item of the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> <span class='ruff_arg'>what ?domsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>if &quot;index&quot;, gets a current item's index</td></tr>
<tr><td class='ruff_defitem'><code><code>domsg</code></code></td><td class='ruff_defitem'>if yes, shows a message about the selection; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Selected' href="javascript:toggleSource('alited_unit_tpl_Selected')">Show source</a></p>
<div id='alited_unit_tpl_Selected' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Selected {what {domsg yes}} {
  <i><font color=#4b5d50># Gets ID or index of currently selected item of the template list.</font></i>
  <i><font color=#4b5d50>#   what - if &quot;index&quot;, gets a current item's index</font></i>
  <i><font color=#4b5d50>#   domsg - if yes, shows a message about the selection</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obTpl</font> TreeTpl]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> selection]] eq {} && [<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> focus]] eq {} && <font color=#1b1baa>$domsg</font>} {
    Message <font color=#1b1baa>$::alited::al(MC,tplsel)</font> 4
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> ne {} && <font color=#1b1baa>$what</font> eq {index}} {
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::SyntaxText'>SyntaxText</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares syntax highlighting of template's text</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SyntaxText</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_SyntaxText' href="javascript:toggleSource('alited_unit_tpl_SyntaxText')">Show source</a></p>
<div id='alited_unit_tpl_SyntaxText' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::SyntaxText {wtxt} {
  <i><font color=#4b5d50># Prepares syntax highlighting of template's text</font></i>
  <i><font color=#4b5d50>#   wtxt - the text's path</font></i>

  alited::SyntaxHighlight tcl <font color=#1b1baa>$wtxt</font> [alited::SyntaxColors]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Text'>Text</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the contents of the template's text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the contents of the template's text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_Text' href="javascript:toggleSource('alited_unit_tpl_Text')">Show source</a></p>
<div id='alited_unit_tpl_Text' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Text {} {
  <i><font color=#4b5d50># Returns the contents of the template's text.</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#ca14ca>return</font></b> [[<font color=#1b1baa>$obTpl</font> TexTpl] get 1.0 {end -1 char}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::UpdateTree'>UpdateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTree</span> <span class='ruff_arg'>?saveini?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>saveini</code></code></td><td class='ruff_defitem'>save templates in ini-file; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_alited_unit_tpl_UpdateTree' href="javascript:toggleSource('alited_unit_tpl_UpdateTree')">Show source</a></p>
<div id='alited_unit_tpl_UpdateTree' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::UpdateTree {{saveini yes}} {
  <i><font color=#4b5d50># Updates the template list.</font></i>
  <i><font color=#4b5d50>#   saveini - save templates in ini-file</font></i>

  <b><font color=#3a6797>variable</font></b> obTpl
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obTpl</font> TreeTpl]
  <font color=#1b1baa>$tree</font> delete [<font color=#1b1baa>$tree</font> children {}]
  <b><font color=#3a6797>set</font></b> tplid [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> item0 {}
  <b><font color=#3a6797>foreach</font></b> tpl <font color=#1b1baa>$tpllist</font> tplkey <font color=#1b1baa>$tplkeys</font> {
    <b><font color=#3a6797>set</font></b> item [<font color=#1b1baa>$tree</font> insert {} end <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$tplkey</font>]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item0</font> eq {}} {<b><font color=#3a6797>set</font></b> item0 <font color=#1b1baa>$item</font>}
    <b><font color=#3a6797>lappend</font></b> tplid <font color=#1b1baa>$item</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item0</font> ne {} && <font color=#1b1baa>$::alited::unit::ilast</font>&lt;0} {Focus <font color=#1b1baa>$item0</font>}
  ClearCbx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$saveini</font>} SaveIni
}<br><br></code></pre></div>
</div></div></div><div class='yui-b navbox' ><h1><a href='#::alited'>alited</a></h1><h2><a href='#::alited-What's that'>What's that</a></h2><h2><a href='#::alited-Links'>Links</a></h2><h2><a href='#::alited-Inevitable blah-blah'>Inevitable blah-blah</a></h2><h2><a href='#::alited-Typical story'>Typical story</a></h2><h2><a href='#::alited-Screenshots'>Screenshots</a></h2><h2><a href='#::alited-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::Balloon'>Balloon</a><span class='tooltiptext'>Displays a message in a balloon window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Balloon1'>Balloon1</a><span class='tooltiptext'>Shows a balloon about non-existing file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::CheckRun'>CheckRun</a><span class='tooltiptext'>Runs &quot;Check Tcl&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::CheckSource'>CheckSource</a><span class='tooltiptext'>Sources check.tcl (at need).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::CloseDlg'>CloseDlg</a><span class='tooltiptext'>Tries to close a Help dialogue, open non-modal aside by the current dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::destroyWindow'>destroyWindow</a><span class='tooltiptext'>Destroys current window and focuses on previously focused widget.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::EditExt'>EditExt</a><span class='tooltiptext'>Gets an edited file's extention without '.'.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::EnsureAlArray'>EnsureAlArray</a><span class='tooltiptext'>Ensures restoring an array at calling a proc.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Exit'>Exit</a><span class='tooltiptext'>Closes alited application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::FgAdditional'>FgAdditional</a><span class='tooltiptext'>Gets the list of additional colors: branch, red, todo.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::FgFgBold'>FgFgBold</a><span class='tooltiptext'>Gets foregrounds of normal and colored text of current color scheme and red color of TODOs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::FocusText'>FocusText</a><span class='tooltiptext'>Focuses a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Font'>Font</a><span class='tooltiptext'>Gets editor's font.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Help'>Help</a><span class='tooltiptext'>Shows a help file for a procedure.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpAbout'>HelpAbout</a><span class='tooltiptext'>Shows &quot;About...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpAlited'>HelpAlited</a><span class='tooltiptext'>Shows a main help of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpFile'>HelpFile</a><span class='tooltiptext'>Reads and shows a help file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpFname'>HelpFname</a><span class='tooltiptext'>Gets a help file's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpMe'>HelpMe</a><span class='tooltiptext'>Shows a help file for a procedure with &quot;Don't show again&quot; checkbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpOnce'>HelpOnce</a><span class='tooltiptext'>Handles &quot;Help&quot; window to have the only instance of it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HighlightAddon'>HighlightAddon</a><span class='tooltiptext'>Tries to highlight add-on extensions.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Hl_Colors'>Hl_Colors</a><span class='tooltiptext'>Gets highlighting colors.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::InitUnitTree'>InitUnitTree</a><span class='tooltiptext'>Initializes the unit tree of file to be processed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::isTclScript'>isTclScript</a><span class='tooltiptext'>Check if the tab's file is of .tcl type.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::IsTipable'>IsTipable</a><span class='tooltiptext'>Checks if a tip on the tree/favorites can be shown.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ListPaved'>ListPaved</a><span class='tooltiptext'>Returns a list of apave objects for dialogues.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main_user_dirs'>main_user_dirs</a><span class='tooltiptext'>Gets names of main user directories for settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Map'>Map</a><span class='tooltiptext'>Maps wildcards and %% in a string.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::MapWildCards'>MapWildCards</a><span class='tooltiptext'>Maps some common wildcards in a command
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::MessageError'>MessageError</a><span class='tooltiptext'>Doubles error message: in infobar and in status bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::MessageNotDisturb'>MessageNotDisturb</a><span class='tooltiptext'>Shows &quot;Don't disturb&quot; message.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::MessageTags'>MessageTags</a><span class='tooltiptext'>Gets tags for texts shown with messages.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Msg'>Msg</a><span class='tooltiptext'>Shows a message in text box.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::msg'>msg</a><span class='tooltiptext'>Shows a message and asks for an answer.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::msgcatMessages'>msgcatMessages</a><span class='tooltiptext'>Sets common localized messages.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::open_files_and_raise'>open_files_and_raise</a><span class='tooltiptext'>Opens files of CLI.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::PrinterRun'>PrinterRun</a><span class='tooltiptext'>Runs &quot;Project Printer&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ProcEOL'>ProcEOL</a><span class='tooltiptext'>Transforms \n to &quot;EOL chars&quot; and vise versa.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ProcessFiles'>ProcessFiles</a><span class='tooltiptext'>Processes files according to Selected/All choice.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::raise_window'>raise_window</a><span class='tooltiptext'>Raises the app's window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::RestoreRunOptions'>RestoreRunOptions</a><span class='tooltiptext'>Restores options of &quot;Run...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Run'>Run</a><span class='tooltiptext'>Runs Tcl/Tk script.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run_remote'>run_remote</a><span class='tooltiptext'>Runs a command that was started by another process.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Runtime'>Runtime</a><span class='tooltiptext'>Runs Tcl/Tk script by alited's Tcl/Tk runtime.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::SaveRunOptions'>SaveRunOptions</a><span class='tooltiptext'>Saves options of &quot;Run...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ScriptSource'>ScriptSource</a><span class='tooltiptext'>Sources script.tcl (at need).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::SessionList'>SessionList</a><span class='tooltiptext'>Returns a list of all tabs or selected tabs (if set).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::SessionTclList'>SessionTclList</a><span class='tooltiptext'>Returns a list of all tabs or selected tabs of .tcl files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Source_e_menu'>Source_e_menu</a><span class='tooltiptext'>Sources e_menu.tcl at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::SyntaxColors'>SyntaxColors</a><span class='tooltiptext'>Gets colors for syntax highlighting.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::SyntaxHighlight'>SyntaxHighlight</a><span class='tooltiptext'>Makes a text being syntax highlighted.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Tclexe'>Tclexe</a><span class='tooltiptext'>Gets Tcl's executable file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::TextIcon'>TextIcon</a><span class='tooltiptext'>Gets a picture from a character and vice versa.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::TipMessage'>TipMessage</a><span class='tooltiptext'>Shows a tip on status message and clears the status message.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::TmpFile'>TmpFile</a><span class='tooltiptext'>Gets a temporary file's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Tnext'>Tnext</a><span class='tooltiptext'>Returns &quot;next &amp; prev widgets&quot; for Tab &amp; Shift/Tab keys, just to skip &quot;Help&quot;.
</span></h4><h1><a href='#::alited::about'>alited::about</a></h1><h2><a href='#::alited::about-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::about::About'>About</a><span class='tooltiptext'>Shows &quot;About&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::about::textImaged'>textImaged</a><span class='tooltiptext'>Makes the feather blink.
</span></h4><h1><a href='#::alited::bar'>alited::bar</a></h1><h2><a href='#::alited::bar-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::bar::BAR'>BAR</a><span class='tooltiptext'>Runs the tab bar's method.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::ColorBar'>ColorBar</a><span class='tooltiptext'>Makes the bar of tabs to have a &quot;marked tab&quot; color consistent with current color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CompareByDate'>CompareByDate</a><span class='tooltiptext'>Compares two tabs by date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CompareByExtn'>CompareByExtn</a><span class='tooltiptext'>Compares two tabs by extension.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CompareBySize'>CompareBySize</a><span class='tooltiptext'>Compares two tabs by size.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::ControlTab'>ControlTab</a><span class='tooltiptext'>Switches between last two active tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentControlTab'>CurrentControlTab</a><span class='tooltiptext'>Keeps a list of last switched files, to switch between last two.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentTab'>CurrentTab</a><span class='tooltiptext'>Gets an attribute of the current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentTabID'>CurrentTabID</a><span class='tooltiptext'>Gets ID of the current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::Detach'>Detach</a><span class='tooltiptext'>Gets an attribute of the current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::DisableTabLeft'>DisableTabLeft</a><span class='tooltiptext'>Checks for left tabs to disable &quot;select all at left&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::DisableTabRight'>DisableTabRight</a><span class='tooltiptext'>Checks for right tabs to disable &quot;select all at right&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FileName'>FileName</a><span class='tooltiptext'>Gets a file name of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FilesTIDs'>FilesTIDs</a><span class='tooltiptext'>Gets a list of pairs &quot;filename &amp; TID&quot;. Useful at massive calls of FileTID proc.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FileTID'>FileTID</a><span class='tooltiptext'>Gets a tab's ID of a file name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FillBar'>FillBar</a><span class='tooltiptext'>Fills the bar of tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::GetBarState'>GetBarState</a><span class='tooltiptext'>Gets attributes of a tab that are specific for alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::GetTabState'>GetTabState</a><span class='tooltiptext'>Gets attributes of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::InsertTab'>InsertTab</a><span class='tooltiptext'>Inserts a new tab into the beginning of bar of tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::Lifo'>Lifo</a><span class='tooltiptext'>Sets -lifo option of the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnControlClick'>OnControlClick</a><span class='tooltiptext'>Shows a number of tabs selected by Ctrl+Click.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnTabMove'>OnTabMove</a><span class='tooltiptext'>Handles moving a tab in the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnTabMove3'>OnTabMove3</a><span class='tooltiptext'>Handles moving selected tab(s) in the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnTabSelection'>OnTabSelection</a><span class='tooltiptext'>Handles selecting a tab in the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::PopupTip'>PopupTip</a><span class='tooltiptext'>Makes tooltips (full file names) for popup menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::RenameTitles'>RenameTitles</a><span class='tooltiptext'>After closing a tab, seeks and renames synonyms of tabs: &quot;name (2)&quot;, &quot;name (3)&quot;
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelFile'>SelFile</a><span class='tooltiptext'>Open a file from the file list even when it's closed (the file list may be open due to -tearoff option).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTab'>SelTab</a><span class='tooltiptext'>Makes a tab selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabAll'>SelTabAll</a><span class='tooltiptext'>Makes all tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabLeft'>SelTabLeft</a><span class='tooltiptext'>Makes all left tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabRight'>SelTabRight</a><span class='tooltiptext'>Makes all right tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabVis'>SelTabVis</a><span class='tooltiptext'>Makes visible tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SetBarState'>SetBarState</a><span class='tooltiptext'>Sets attributes of the tab bar that are specific for alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SetTabState'>SetTabState</a><span class='tooltiptext'>Sets attributes of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::Sort'>Sort</a><span class='tooltiptext'>Sorts tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SortData'>SortData</a><span class='tooltiptext'>Sets or gets data for sorting bar tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::TabName'>TabName</a><span class='tooltiptext'>Gets a tab's title.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::UniqueListTab'>UniqueListTab</a><span class='tooltiptext'>Returns a unique tab name for a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::UniqueTab'>UniqueTab</a><span class='tooltiptext'>Returns a unique name for a tab.
</span></h4><h1><a href='#::alited::check'>alited::check</a></h1><h2><a href='#::alited::check-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::check::_create'>_create</a><span class='tooltiptext'>Creates &quot;Checking&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::_run'>_run</a><span class='tooltiptext'>Runs &quot;Checking&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Cancel'>Cancel</a><span class='tooltiptext'>Handles hitting &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Check'>Check</a><span class='tooltiptext'>Runs checking.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckAll'>CheckAll</a><span class='tooltiptext'>Checks all files of session.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckFile'>CheckFile</a><span class='tooltiptext'>Checks a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckUnit'>CheckUnit</a><span class='tooltiptext'>Checks a unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::PosInfo'>PosInfo</a><span class='tooltiptext'>Gets an info on a unit's position (for Put procedure).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::ShowResults'>ShowResults</a><span class='tooltiptext'>Displays results of checking.
</span></h4><h1><a href='#::alited::complete'>alited::complete</a></h1><h2><a href='#::alited::complete-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::complete::AllSessionCommands'>AllSessionCommands</a><span class='tooltiptext'>Gets all commands available in Tcl/Tk and in session files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::AutoCompleteCommand'>AutoCompleteCommand</a><span class='tooltiptext'>Runs auto completion of commands.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::ColorPick'>ColorPick</a><span class='tooltiptext'>Sets colors for pick list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::CursorCoordsChar'>CursorCoordsChar</a><span class='tooltiptext'>Gets cursor's screen coordinates and a character under cursor in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::EntReturn'>EntReturn</a><span class='tooltiptext'>Handles pressing Return on entry.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::IsMatch'>IsMatch</a><span class='tooltiptext'>Check matching a word to a command.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::MatchedCommands'>MatchedCommands</a><span class='tooltiptext'>Gets commands that are matched to a current (under cursor) word.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::PickCommand'>PickCommand</a><span class='tooltiptext'>Shows a frame of commands for auto completion, allowing a user to select from it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::PickFocusOut'>PickFocusOut</a><span class='tooltiptext'>Closes the word picker at &quot;focus out&quot; event.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::PickValid'>PickValid</a><span class='tooltiptext'>Validates the word picker's input.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::SelectCommand'>SelectCommand</a><span class='tooltiptext'>Handles a selection of command for auto completion.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::TextCursorCoordinates'>TextCursorCoordinates</a><span class='tooltiptext'>Gets cursor's screen coordinates under cursor in a text. Also, sets the focus on the text (to make this task be possible at all).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::WinGeometry'>WinGeometry</a><span class='tooltiptext'>Checks and corrects the completion window's geometry (esp. for KDE).
</span></h4><h1><a href='#::alited::detached'>alited::detached</a></h1><h2><a href='#::alited::detached-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::detached::_create'>_create</a><span class='tooltiptext'>Handles detached editor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::_run'>_run</a><span class='tooltiptext'>Open files in detached editors.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::Close'>Close</a><span class='tooltiptext'>Closes detached editor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::DisplayText'>DisplayText</a><span class='tooltiptext'>Displays file's text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::Find'>Find</a><span class='tooltiptext'>Finds string in text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::Modified'>Modified</a><span class='tooltiptext'>Callback for modifying text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::Options'>Options</a><span class='tooltiptext'>Gets options of new detached editor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::SaveFile'>SaveFile</a><span class='tooltiptext'>Saves changed text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::detached::Tool'>Tool</a><span class='tooltiptext'>Applies tool to text.
</span></h4><h1><a href='#::alited::edit'>alited::edit</a></h1><h2><a href='#::alited::edit-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupDirFileNames'>BackupDirFileNames</a><span class='tooltiptext'>Gets directory and file names for backuping.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupFile'>BackupFile</a><span class='tooltiptext'>Makes a backup copy of a file after the first modification of it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupFileName'>BackupFileName</a><span class='tooltiptext'>Gets a backup name for a file (checking for backup's maximum).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::BindPluginables'>BindPluginables</a><span class='tooltiptext'>Binds pluginable formatters to the edited text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CheckSaveIcons'>CheckSaveIcons</a><span class='tooltiptext'>Checks for states of save buttons at modifications of files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CheckUndoRedoIcons'>CheckUndoRedoIcons</a><span class='tooltiptext'>Checks for states of undo/redo button for a file being modified.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Comment'>Comment</a><span class='tooltiptext'>Comments selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CommentChar'>CommentChar</a><span class='tooltiptext'>Returns the commenting chars for a current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CompareByLength'>CompareByLength</a><span class='tooltiptext'>Compares two string by length.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ControlLeft'>ControlLeft</a><span class='tooltiptext'>Goes to a previous word's start/end as seen from programmer's viewpoint.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ControlRight'>ControlRight</a><span class='tooltiptext'>Goes to a next word's start as seen from programmer's viewpoint.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::DispatchMacro'>DispatchMacro</a><span class='tooltiptext'>Dispatches macro actions.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::DoMacro'>DoMacro</a><span class='tooltiptext'>Plays or records a macro.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::EscapeValue'>EscapeValue</a><span class='tooltiptext'>Escapes a value's backslashes and braces.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::FindColorValues'>FindColorValues</a><span class='tooltiptext'>Finds color values.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::FormatterName'>FormatterName</a><span class='tooltiptext'>Gets formatter's file name from its full name.
</span></h4><h4><a href='alited.html#::alited::edit::FormatUnitDesc'>FormatUnitDesc</a></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::HelpOnMacro'>HelpOnMacro</a><span class='tooltiptext'>Shows Play Macro help.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::HideColorValues'>HideColorValues</a><span class='tooltiptext'>Unhighlights color values.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Indent'>Indent</a><span class='tooltiptext'>Indent selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::IniParameter'>IniParameter</a><span class='tooltiptext'>Gets parameter value from a line of ini-file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::InputMacro'>InputMacro</a><span class='tooltiptext'>Enters/changes a macro.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::InvertStringCase'>InvertStringCase</a><span class='tooltiptext'>Inverts cases in a string (e.g. InversE -&gt; iNVERSe).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::MacroDir'>MacroDir</a><span class='tooltiptext'>Gets a directory name of macros.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::MacroExists'>MacroExists</a><span class='tooltiptext'>Checks for existing macro. If the macro doesn't exist, shows a message and updates the macros list menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::MacroFileName'>MacroFileName</a><span class='tooltiptext'>Gets a file name for a macro.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::MacroInit'>MacroInit</a><span class='tooltiptext'>Initializes macro stuff.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::MacroMenu'>MacroMenu</a><span class='tooltiptext'>Recreate macros' menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::MacroSource'>MacroSource</a><span class='tooltiptext'>Loads playtkl package.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::MacroUpdate'>MacroUpdate</a><span class='tooltiptext'>If a file is a macro, updates macros' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::makeRect'>makeRect</a><span class='tooltiptext'>Selects a rectangle.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Modified'>Modified</a><span class='tooltiptext'>Handles a modification of file, recreating the unit tree at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::NormIndent'>NormIndent</a><span class='tooltiptext'>Normalizes a current text's indenting.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::OpenFormatFile'>OpenFormatFile</a><span class='tooltiptext'>Opens file(s) from data/format directory or its subdirectories.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::OpenMacroFile'>OpenMacroFile</a><span class='tooltiptext'>Opens a file of macro.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::pasteRect'>pasteRect</a><span class='tooltiptext'>Pastes a rectangle.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::PluginAccelerator'>PluginAccelerator</a><span class='tooltiptext'>Adds -accelerator to Formats menu item or returns a list of accelerators used by pluginables.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ReadMacroComment'>ReadMacroComment</a><span class='tooltiptext'>Reads macro's comment.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::RectSelection'>RectSelection</a><span class='tooltiptext'>Starts, ends, does, cuts, copies and pastes a rectangular selection. mode: 0 for start/end, 1 do, 2 cut, 3 copy, 4 paste
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::RemoveTrailWhites'>RemoveTrailWhites</a><span class='tooltiptext'>Removes trailing spaces of lines - all of lines or a selection of lines.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ReverseString'>ReverseString</a><span class='tooltiptext'>The same as &quot;string reverse&quot;, but counts escaping braces made in format::Mode2.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::RunFormat'>RunFormat</a><span class='tooltiptext'>Does format according to a format file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::saveRect'>saveRect</a><span class='tooltiptext'>Cuts &amp; copies a rectangle.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::SelectedLines'>SelectedLines</a><span class='tooltiptext'>Gets a range of lines of text that are selected at least partly.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::SelectLines'>SelectLines</a><span class='tooltiptext'>Selects lines (all their contents) of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ShowColorValues'>ShowColorValues</a><span class='tooltiptext'>Highlights color values.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::SourceFormatTcl'>SourceFormatTcl</a><span class='tooltiptext'>Sources format.tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::SqueezeLines'>SqueezeLines</a><span class='tooltiptext'>Squeezes a list of lines.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::SqueezeString'>SqueezeString</a><span class='tooltiptext'>Squeezes multiple spaces to one space (except for leading spaces) and removes tailing spaces, e.g. &quot;   a  b   c &quot; =&gt; &quot;   a b c&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::UnComment'>UnComment</a><span class='tooltiptext'>Uncomments selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::UnEscapeValue'>UnEscapeValue</a><span class='tooltiptext'>Unescapes a value's backslashes and braces.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::UnIndent'>UnIndent</a><span class='tooltiptext'>Unindent selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ValidMacro'>ValidMacro</a><span class='tooltiptext'>Validates the macro name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ValidMacroReal'>ValidMacroReal</a><span class='tooltiptext'>Gets &quot;root tail&quot; of the file name and saves its directory name. Changes the record icon depending on the macro file exists or not.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::WatchMacro'>WatchMacro</a><span class='tooltiptext'>Watch the end of recording.
</span></h4><h1><a href='#::alited::favor'>alited::favor</a></h1><h2><a href='#::alited::favor-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::favor::_init'>_init</a><span class='tooltiptext'>Initializes and shows favorite / last visited units' view.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Add'>Add</a><span class='tooltiptext'>Adds a unit to favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::AddFromTree'>AddFromTree</a><span class='tooltiptext'>Adds a list of selected items of the tree to Favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::CopyDeclaration'>CopyDeclaration</a><span class='tooltiptext'>Copies a current unit's declaration to the clipboard.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::CurrentID'>CurrentID</a><span class='tooltiptext'>Gets ID of a currently selected favorite.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::CurrentName'>CurrentName</a><span class='tooltiptext'>Gets data of a current favorite.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Delete'>Delete</a><span class='tooltiptext'>Deletes an item from favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::DeleteAll'>DeleteAll</a><span class='tooltiptext'>Deletes all items from favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::DeleteLastVisited'>DeleteLastVisited</a><span class='tooltiptext'>Deletes last visited item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::GeoForQuery'>GeoForQuery</a><span class='tooltiptext'>Gets geometry for a query.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::GetTooltip'>GetTooltip</a><span class='tooltiptext'>Gets a tip of favorite / last visited unit's declaration.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::GoToUnit'>GoToUnit</a><span class='tooltiptext'>Enters a unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::InitFavorites'>InitFavorites</a><span class='tooltiptext'>Initializes favorites list for possible &quot;Back&quot; of &quot;Favorites' Lists&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::IsFavoritesFiles'>IsFavoritesFiles</a><span class='tooltiptext'>Checks if the selected favorites list is a list of file names
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::IsSelected'>IsSelected</a><span class='tooltiptext'>Gets data of currently selected item of favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::LastVisited'>LastVisited</a><span class='tooltiptext'>Puts an item to &quot;Last visited&quot; list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Lists'>Lists</a><span class='tooltiptext'>Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::OpenFiles'>OpenFiles</a><span class='tooltiptext'>Opens files with current favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::OpenSelectedFile'>OpenSelectedFile</a><span class='tooltiptext'>Opens a file from a selected item of favorites/last visited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::PopupMenu'>PopupMenu</a><span class='tooltiptext'>Prepares and runs a popup menu at clicking Favorites / last visited list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Rename'>Rename</a><span class='tooltiptext'>Renames a current favorite.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Select'>Select</a><span class='tooltiptext'>Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SetAndClose'>SetAndClose</a><span class='tooltiptext'>Sets favorites list, opens files from favorites list, closes other files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SetFavorites'>SetFavorites</a><span class='tooltiptext'>Sets favorites/last visited list in the treeview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Show'>Show</a><span class='tooltiptext'>Shows a list of favorites / last visited units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::ShowFavVisit'>ShowFavVisit</a><span class='tooltiptext'>Show favorites/last visits, depending on the mode.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::ShowPopupMenu'>ShowPopupMenu</a><span class='tooltiptext'>Displays a popup menu at clicking Favorites / last visited list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SkipVisited'>SkipVisited</a><span class='tooltiptext'>Sets/gets a flag to skip remembering a last visit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SwitchFavVisit'>SwitchFavVisit</a><span class='tooltiptext'>Switches favorites / last visited units' view.
</span></h4><h1><a href='#::alited::favor_ls'>alited::favor_ls</a></h1><h2><a href='#::alited::favor_ls-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::_create'>_create</a><span class='tooltiptext'>Creates &quot;Favorites lists&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::_run'>_run</a><span class='tooltiptext'>Runs &quot;Favorites lists&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Add'>Add</a><span class='tooltiptext'>Handles hitting &quot;Add favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::AddFiles'>AddFiles</a><span class='tooltiptext'>Adds .tcl files of current session as the favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Cancel'>Cancel</a><span class='tooltiptext'>Handles hitting Cancel button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Change'>Change</a><span class='tooltiptext'>Handles hitting &quot;Change favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::ComposeText'>ComposeText</a><span class='tooltiptext'>Composes a current text of favorites or files of favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Delete'>Delete</a><span class='tooltiptext'>Handles hitting &quot;Delete favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::DisplayFavorText'>DisplayFavorText</a><span class='tooltiptext'>Displays text of favorites or their files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::DisplayText'>DisplayText</a><span class='tooltiptext'>Displays text of favorites or their files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::DoubleClick'>DoubleClick</a><span class='tooltiptext'>Handles double clicking on the list: in &quot;Favorites&quot; mode, invokes &quot;Select&quot; button, otherwise &quot;Open...&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Focus'>Focus</a><span class='tooltiptext'>Focuses on an item of the list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::GetIni'>GetIni</a><span class='tooltiptext'>Reads favorites' lists data, stored in the ini file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Help'>Help</a><span class='tooltiptext'>Handles hitting Help button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::HelpMe'>HelpMe</a><span class='tooltiptext'>'Help' for start.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::IniFile'>IniFile</a><span class='tooltiptext'>Returns the ini file's name to store favorites' lists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar of favorites dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Ok'>Ok</a><span class='tooltiptext'>Handles hitting OK button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::ProcMessage'>ProcMessage</a><span class='tooltiptext'>Handles clicking on message label.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::PutIni'>PutIni</a><span class='tooltiptext'>Makes favorites' lists data to store to the ini file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Restore_favlist'>Restore_favlist</a><span class='tooltiptext'>Restores favorites' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Save_favlist'>Save_favlist</a><span class='tooltiptext'>Saves favorites' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Select'>Select</a><span class='tooltiptext'>Handles a selection in the list of favorites' lists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Selected'>Selected</a><span class='tooltiptext'>Gets a selected item of favorites list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Split'>Split</a><span class='tooltiptext'>Splits a saved list by the list's dividers.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Text'>Text</a><span class='tooltiptext'>Gets the text widget's content.
</span></h4><h1><a href='#::alited::file'>alited::file</a></h1><h2><a href='#::alited::file-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::file::Add'>Add</a><span class='tooltiptext'>Creates a file at the file tree.
</span></h4><h4><a href='alited.html#::alited::file::AddRecent'>AddRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::AllSaved'>AllSaved</a><span class='tooltiptext'>Checks whether all files are saved. Saves them if not.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CheckForNew'>CheckForNew</a><span class='tooltiptext'>Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ChooseMultipleFiles'>ChooseMultipleFiles</a><span class='tooltiptext'>Choose miltiple files to open.
</span></h4><h4><a href='alited.html#::alited::file::ChooseRecent'>ChooseRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ClearupAlTag'>ClearupAlTag</a><span class='tooltiptext'>Clears <em>al</em> array of <em>tag,tab</em> data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ClearupOnClose'>ClearupOnClose</a><span class='tooltiptext'>Clearance after closing a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloneFile'>CloneFile</a><span class='tooltiptext'>Clones a current file in a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloneFileName'>CloneFileName</a><span class='tooltiptext'>Gets a clone's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseAll'>CloseAll</a><span class='tooltiptext'>Closes files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseAndDelete'>CloseAndDelete</a><span class='tooltiptext'>Closes and deletes a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseFile'>CloseFile</a><span class='tooltiptext'>Closes a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseFileMenu'>CloseFileMenu</a><span class='tooltiptext'>Closes the current file from the menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CommandForFile2'>CommandForFile2</a><span class='tooltiptext'>Execute a command for two files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::Delete'>Delete</a><span class='tooltiptext'>Deletes file(s) at the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DeleteFile'>DeleteFile</a><span class='tooltiptext'>Deletes a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DeleteOne'>DeleteOne</a><span class='tooltiptext'>Deletes a file at the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::Detach'>Detach</a><span class='tooltiptext'>Open file in detached editors
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DetachedInfo'>DetachedInfo</a><span class='tooltiptext'>Gets detached editor's object and window.
</span></h4><h4><a href='alited.html#::alited::file::DetachFromTree'>DetachFromTree</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DisplayFile'>DisplayFile</a><span class='tooltiptext'>Displays a file's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DoMoveFile'>DoMoveFile</a><span class='tooltiptext'>Asks and moves a file to a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DoRenameFileInTree'>DoRenameFileInTree</a><span class='tooltiptext'>Performs renaming a current file in a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DropFiles'>DropFiles</a><span class='tooltiptext'>Moves a group of selected files to other tree position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::Encoding'>Encoding</a><span class='tooltiptext'>Gets/sets a file's encoding.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::EOL'>EOL</a><span class='tooltiptext'>Gets/sets a file's translation.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileAttrs'>FileAttrs</a><span class='tooltiptext'>Returns a file attributes: name &amp; time.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileSize'>FileSize</a><span class='tooltiptext'>Formats a file's size.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileStat'>FileStat</a><span class='tooltiptext'>Gets a file's attributes: times &amp; size.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FillRecent'>FillRecent</a><span class='tooltiptext'>Creates &quot;Recent Files&quot; menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::InputFileName'>InputFileName</a><span class='tooltiptext'>Dialogue to input a file name.
</span></h4><h4><a href='alited.html#::alited::file::InsertRecent'>InsertRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsClang'>IsClang</a><span class='tooltiptext'>Checks if a file is of C/C++.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsModified'>IsModified</a><span class='tooltiptext'>Checks if a text of tab is modified.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsNoName'>IsNoName</a><span class='tooltiptext'>Checks if a file name is &quot;No name&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsSaved'>IsSaved</a><span class='tooltiptext'>Checks if a file is modified and if yes, offers to save it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsTcl'>IsTcl</a><span class='tooltiptext'>Checks if a file is of Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsUnitFile'>IsUnitFile</a><span class='tooltiptext'>Checks if a file has a unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MakeThemHighlighted'>MakeThemHighlighted</a><span class='tooltiptext'>Sets flag &quot;highlight file(s) anyway&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MoveExternal'>MoveExternal</a><span class='tooltiptext'>Moves an external file to a project's directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MoveFiles'>MoveFiles</a><span class='tooltiptext'>Moves  file(s).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::NewFile'>NewFile</a><span class='tooltiptext'>Handles &quot;New file&quot; menu item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenDetach'>OpenDetach</a><span class='tooltiptext'>Choose files and open them in detached editors.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenFile'>OpenFile</a><span class='tooltiptext'>Handles &quot;Open file&quot; menu item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenFiles'>OpenFiles</a><span class='tooltiptext'>Opens files selected in the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenOfDir'>OpenOfDir</a><span class='tooltiptext'>Opens all Tcl files of a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenWith'>OpenWith</a><span class='tooltiptext'>Opens files selected in the file tree, with their apps.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OutwardChange'>OutwardChange</a><span class='tooltiptext'>Checks for change of file by an external application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ReadFile'>ReadFile</a><span class='tooltiptext'>Reads a file, creates its unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ReadFileByTID'>ReadFileByTID</a><span class='tooltiptext'>Reads a file of tab, if needed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RecreateFileTree'>RecreateFileTree</a><span class='tooltiptext'>Creates the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::Reload1'>Reload1</a><span class='tooltiptext'>Reloads a current file with EOL.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::Reload2'>Reload2</a><span class='tooltiptext'>Reloads a current file with an encoding.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RemoveFile'>RemoveFile</a><span class='tooltiptext'>Removes or backups a file, trying to save it in a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RenameFile'>RenameFile</a><span class='tooltiptext'>Renames a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RenameFileInTree'>RenameFileInTree</a><span class='tooltiptext'>Renames a current file in a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveAll'>SaveAll</a><span class='tooltiptext'>Saves all files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveAndClose'>SaveAndClose</a><span class='tooltiptext'>Saves and closes a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFile'>SaveFile</a><span class='tooltiptext'>Saves the current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileAs'>SaveFileAs</a><span class='tooltiptext'>Saves the current file &quot;as&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileByName'>SaveFileByName</a><span class='tooltiptext'>Saves a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveText'>SaveText</a><span class='tooltiptext'>Saves text buffer to file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SbhText'>SbhText</a><span class='tooltiptext'>Shows/hides the horizontal scrollbar of the text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SearchInFileTree'>SearchInFileTree</a><span class='tooltiptext'>Searches a file name in file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SelectFileInTree'>SelectFileInTree</a><span class='tooltiptext'>Finds a file in file tree and selects it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SelectInTree'>SelectInTree</a><span class='tooltiptext'>Selects an item in the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SortTreeSelFiles'>SortTreeSelFiles</a><span class='tooltiptext'>Sorts a list of file tree's selected files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SourceDetach'>SourceDetach</a><span class='tooltiptext'>Sources detached.tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ToBeHighlighted'>ToBeHighlighted</a><span class='tooltiptext'>Checks flag &quot;highlight text anyway&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::TreeFilename'>TreeFilename</a><span class='tooltiptext'>Fetches a file name selected in the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::TreeSelFiles'>TreeSelFiles</a><span class='tooltiptext'>Gets a list of file tree's selected files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::UpdateFileStat'>UpdateFileStat</a><span class='tooltiptext'>Updates tips in tab bar (file info).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::WrapLines'>WrapLines</a><span class='tooltiptext'>Switches wrap word mode for a current text.
</span></h4><h1><a href='#::alited::find'>alited::find</a></h1><h2><a href='#::alited::find-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::find::_create'>_create</a><span class='tooltiptext'>Creates Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::_run'>_run</a><span class='tooltiptext'>Runs Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::btTPaste'>btTPaste</a><span class='tooltiptext'>Copies text from &quot;Find&quot; to &quot;Replace&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::btTRetry'>btTRetry</a><span class='tooltiptext'>Resizes Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CheckData'>CheckData</a><span class='tooltiptext'>Checks if the find/replace data are valid.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CheckWord'>CheckWord</a><span class='tooltiptext'>Check if the found string is a word, at searching by words,
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ClearTags'>ClearTags</a><span class='tooltiptext'>Clears find tags in all texts, if Find dialogues are closed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CloseFind'>CloseFind</a><span class='tooltiptext'>Closes Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CloseFind2'>CloseFind2</a><span class='tooltiptext'>Closes Find by List dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::DoFindUnit'>DoFindUnit</a><span class='tooltiptext'>Runs searching units in current text / all texts.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FillRE2Tex'>FillRE2Tex</a><span class='tooltiptext'>Fills a text field of RE2 dialog.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Find'>Find</a><span class='tooltiptext'>Searches one string in a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindAll'>FindAll</a><span class='tooltiptext'>Searches all strings in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindInSession'>FindInSession</a><span class='tooltiptext'>Searches all strings in a session.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindInText'>FindInText</a><span class='tooltiptext'>Searches all strings in a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindNext'>FindNext</a><span class='tooltiptext'>Performs &quot;find next&quot; (F3 key) for the current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindOptions'>FindOptions</a><span class='tooltiptext'>Gets options of search, according to the dialogue's fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindReplStr'>FindReplStr</a><span class='tooltiptext'>Prepares a string to find/replace for messages.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindUnit'>FindUnit</a><span class='tooltiptext'>Displays &quot;Find unit&quot; frame.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FocusCbx'>FocusCbx</a><span class='tooltiptext'>Forces focusing on &quot;Find&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FocusCbx1'>FocusCbx1</a><span class='tooltiptext'>Set focus on &quot;Find&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetCommandOfLine'>GetCommandOfLine</a><span class='tooltiptext'>Gets a command from a line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetCommandOfText'>GetCommandOfText</a><span class='tooltiptext'>Gets a command under the cursor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetFindEntry'>GetFindEntry</a><span class='tooltiptext'>Puts a current selection of text to the &quot;Find:&quot; field
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetWordOfLine'>GetWordOfLine</a><span class='tooltiptext'>Gets a word from a line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetWordOfText'>GetWordOfText</a><span class='tooltiptext'>Gets a word of text under the cursor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::HelpFind'>HelpFind</a><span class='tooltiptext'>Helps on search by list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::HideFindUnit'>HideFindUnit</a><span class='tooltiptext'>Hides &quot;Find unit&quot; frame.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::InitShowResults'>InitShowResults</a><span class='tooltiptext'>Clears the info list before any search.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::LastInvoke'>LastInvoke</a><span class='tooltiptext'>Invokes last Find button that was pressed. If Ctrl-F is pressed inside Find/Replace dialogue, the last pressed Find button will be invoked.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::LookDecl'>LookDecl</a><span class='tooltiptext'>Prepares and runs searching a declaration in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::LookDecl1'>LookDecl1</a><span class='tooltiptext'>Searches a declaration in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Next'>Next</a><span class='tooltiptext'>Generate F3 key pressing event.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::NextFoundByList'>NextFoundByList</a><span class='tooltiptext'>Finds next occurence of found strings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::NotFoundMessage'>NotFoundMessage</a><span class='tooltiptext'>Shows &quot;not found&quot; message.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::OKRE2'>OKRE2</a><span class='tooltiptext'>Saves data, closes RE2 dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::PrepareSearchByList'>PrepareSearchByList</a><span class='tooltiptext'>Prepares searched word by list and search options.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::PutInfo'>PutInfo</a><span class='tooltiptext'>Puts a message to the info listbox widget, about a line found in a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::RE2'>RE2</a><span class='tooltiptext'>RE2 dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Replace'>Replace</a><span class='tooltiptext'>Replaces one string and finds next.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Replace1'>Replace1</a><span class='tooltiptext'>Replaces a string found, possibly using regsub.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceAll'>ReplaceAll</a><span class='tooltiptext'>Replaces all found strings in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceInSession'>ReplaceInSession</a><span class='tooltiptext'>Handles hitting &quot;Replace in Session&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceInText'>ReplaceInText</a><span class='tooltiptext'>Handles hitting &quot;Replace in Text&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Search'>Search</a><span class='tooltiptext'>Searches a text for a string to find.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Search1'>Search1</a><span class='tooltiptext'>Searches a text from a position for a string to find.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchByList'>SearchByList</a><span class='tooltiptext'>Searches words by list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchByList_Do'>SearchByList_Do</a><span class='tooltiptext'>Does searching words by list.
</span></h4><h4><a href='alited.html#::alited::find::SearchWordInSession'>SearchWordInSession</a></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SessionButtons'>SessionButtons</a><span class='tooltiptext'>Prepares buttons' label (&quot;in all/selected tabs&quot;).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SetCursor'>SetCursor</a><span class='tooltiptext'>Sets the cursor in a text after a replacement made.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SetTags'>SetTags</a><span class='tooltiptext'>Adds a tag of found strings to a text widget.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults'>ShowResults</a><span class='tooltiptext'>Shows a message containing results of a search.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults1'>ShowResults1</a><span class='tooltiptext'>Shows a message of all found strings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults2'>ShowResults2</a><span class='tooltiptext'>Shows a message of number of found strings (e.g. in a tab).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::skipRE2'>skipRE2</a><span class='tooltiptext'>Checks if a RE2 line has to be skipped.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::stopRE2'>stopRE2</a><span class='tooltiptext'>Checks if a text line stops RE2 list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::styleButtonRE2'>styleButtonRE2</a><span class='tooltiptext'>Gets RE2 button styled.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::TabsToSearch'>TabsToSearch</a><span class='tooltiptext'>Gets a list of tabs to search something, beginning from a current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::UnsetTags'>UnsetTags</a><span class='tooltiptext'>Clears the text of the find tag.
</span></h4><h1><a href='#::alited::format'>alited::format</a></h1><h2><a href='#::alited::format-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::format::AfterFormatting'>AfterFormatting</a><span class='tooltiptext'>Actions after formatting: replace &amp; update all &amp; select the formatted stuff.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::BeforeFormatting'>BeforeFormatting</a><span class='tooltiptext'>Gets option for formatting - text's path, selected text and positions to process.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Cancel'>Cancel</a><span class='tooltiptext'>Handles pressing Cancel button of Move Descriptions dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::ChangeTo'>ChangeTo</a><span class='tooltiptext'>At changing the direction, fills 2 texts with &quot;from/to&quot; examples.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::CheckOk'>CheckOk</a><span class='tooltiptext'>Check options of Move Descriptions dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::CreateFormatIcon'>CreateFormatIcon</a><span class='tooltiptext'>Create icon of formatter in toolbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::EventOK'>EventOK</a><span class='tooltiptext'>Checks if an event is correct (not overlap alited key mapping).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Help'>Help</a><span class='tooltiptext'>Handles &quot;Help&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::LeafRE'>LeafRE</a><span class='tooltiptext'>Gets the chosen leaf's RE (current or standard, seen by the user).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Mode1'>Mode1</a><span class='tooltiptext'>Maps selection by pairs taken from config.file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Mode2'>Mode2</a><span class='tooltiptext'>Applies a command to selection/current line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Mode3'>Mode3</a><span class='tooltiptext'>Applies command(s) to lines of selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Mode4'>Mode4</a><span class='tooltiptext'>Applies external command(s) to selection or lines of selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Mode5'>Mode5</a><span class='tooltiptext'>Inserts a string at the current cursor position. Or does something without changing the text (if commands return &quot;&quot;).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Mode6'>Mode6</a><span class='tooltiptext'>Runs a pluginable formatter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::MoveInside'>MoveInside</a><span class='tooltiptext'>Move a unit description outside the unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::MoveOut'>MoveOut</a><span class='tooltiptext'>Move a unit description outside the unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::MoveUnitDesc'>MoveUnitDesc</a><span class='tooltiptext'>Does move the unit descriptions.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Ok'>Ok</a><span class='tooltiptext'>Handles pressing OK button of Move Descriptions dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Re_Colors'>Re_Colors</a><span class='tooltiptext'>Gets colors for leaf's regexp (comment's fg &amp; bg).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Re_FgColor'>Re_FgColor</a><span class='tooltiptext'>Sets foreground color for leaf's regexp.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::Separ1'>Separ1</a><span class='tooltiptext'>Gets &quot;real&quot; separator and limit of its length (extracted from it).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::ShowUnitDesc'>ShowUnitDesc</a><span class='tooltiptext'>Displays unit descriptions to move.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::StandardOptions'>StandardOptions</a><span class='tooltiptext'>Sets standard options of Move Descr.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::UnitDesc'>UnitDesc</a><span class='tooltiptext'>Moves unit description from inner to above units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::format::ValidateUnitDesc'>ValidateUnitDesc</a><span class='tooltiptext'>Validates the separator's entry
</span></h4><h1><a href='#::alited::hl_alm'>alited::hl_alm</a></h1><h2><a href='#::alited::hl_alm-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::hl_alm::init'>init</a><span class='tooltiptext'>Initializes highlighting .alm text (alited's macro).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::hl_alm::line'>line</a><span class='tooltiptext'>Highlights a line of .alm text (alited's macro).
</span></h4><h1><a href='#::alited::hl_em'>alited::hl_em</a></h1><h2><a href='#::alited::hl_em-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::hl_em::getRSIM'>getRSIM</a><span class='tooltiptext'>Gets R:, R/ etc type from a line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::hl_em::init'>init</a><span class='tooltiptext'>Initializes highlighting .em text (e_menu's menu).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::hl_em::line'>line</a><span class='tooltiptext'>Highlights a line of .em text (e_menu's menu).
</span></h4><h1><a href='#::alited::hl_html'>alited::hl_html</a></h1><h2><a href='#::alited::hl_html-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::hl_html::init'>init</a><span class='tooltiptext'>Initializes highlighting .html text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::hl_html::line'>line</a><span class='tooltiptext'>Highlights a line of .html text.
</span></h4><h1><a href='#::alited::hl_ini'>alited::hl_ini</a></h1><h2><a href='#::alited::hl_ini-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::hl_ini::init'>init</a><span class='tooltiptext'>Initializes highlighting .ini text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::hl_ini::line'>line</a><span class='tooltiptext'>Highlights a line of .ini text.
</span></h4><h1><a href='#::alited::hl_md'>alited::hl_md</a></h1><h2><a href='#::alited::hl_md-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::hl_md::init'>init</a><span class='tooltiptext'>Initializes highlighting .md text (markdown).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::hl_md::line'>line</a><span class='tooltiptext'>Highlights a line of .md text (markdown).
</span></h4><h1><a href='#::alited::hl_wiki'>alited::hl_wiki</a></h1><h2><a href='#::alited::hl_wiki-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::hl_wiki::init'>init</a><span class='tooltiptext'>Initializes highlighting .wiki text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::hl_wiki::line'>line</a><span class='tooltiptext'>Highlights a line of .wiki text.
</span></h4><h1><a href='#::alited::img'>alited::img</a></h1><h1><a href='#::alited::indent'>alited::indent</a></h1><h2><a href='#::alited::indent-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::indent::indent'>indent</a><span class='tooltiptext'>Indents Tcl code.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::indent::normalize'>normalize</a><span class='tooltiptext'>Normalizes all indents of the current Tcl text.
</span></h4><h1><a href='#::alited::info'>alited::info</a></h1><h2><a href='#::alited::info-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::info::Clear'>Clear</a><span class='tooltiptext'>Clears the info listbox widget and the related data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::ClearOut'>ClearOut</a><span class='tooltiptext'>Clears and out of the info listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::ClearRed'>ClearRed</a><span class='tooltiptext'>Clears a red message in info bar (if it was displayed).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::FocusIn'>FocusIn</a><span class='tooltiptext'>At focusing in the info listbox, shows its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::FocusOut'>FocusOut</a><span class='tooltiptext'>At focusing out of the info listbox, hides its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::ListboxSelect'>ListboxSelect</a><span class='tooltiptext'>Handles a selection event of the info listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::PopupMenu'>PopupMenu</a><span class='tooltiptext'>Runs a popup menu on the info listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::Put'>Put</a><span class='tooltiptext'>Puts a message to the info listbox widget.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::SwitchFocustext'>SwitchFocustext</a><span class='tooltiptext'>Switches a variable of flag &quot;listbox is focused&quot;.
</span></h4><h1><a href='#::alited::ini'>alited::ini</a></h1><h2><a href='#::alited::ini-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::ini::_init'>_init</a><span class='tooltiptext'>Initializes alited app.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::AddConfigDir'>AddConfigDir</a><span class='tooltiptext'>Adds a config directory to the list of all config dirs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::AlitedVersion'>AlitedVersion</a><span class='tooltiptext'>Gets current version of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CheckIni'>CheckIni</a><span class='tooltiptext'>Checks if the configuration directory exists and if not asks for it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CheckUpdates'>CheckUpdates</a><span class='tooltiptext'>Updates significant data of current version of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreateIcon'>CreateIcon</a><span class='tooltiptext'>Create an icon (of normal and big size).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreateMacrosDir'>CreateMacrosDir</a><span class='tooltiptext'>Creates macros' directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreatePossibleNewDirs'>CreatePossibleNewDirs</a><span class='tooltiptext'>Creates a user directories, possibly new after v1.4.0 (e.g. macro).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreateUserDirs'>CreateUserDirs</a><span class='tooltiptext'>Creates main directories for settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::EditSettings'>EditSettings</a><span class='tooltiptext'>Displays the settings file, just to look behind the wall.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::Em_Number'>Em_Number</a><span class='tooltiptext'>Gets a real number of e_menu items counting non-empty ones only.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::GetConfiguration'>GetConfiguration</a><span class='tooltiptext'>Gets the configuration directory's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::GetUserDirs'>GetUserDirs</a><span class='tooltiptext'>Gets names of user directories for settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::HighlightFileText'>HighlightFileText</a><span class='tooltiptext'>Highlights a text of a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitFonts'>InitFonts</a><span class='tooltiptext'>Loads main fonts for alited to use as default and mono.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitGUI'>InitGUI</a><span class='tooltiptext'>Initializes GUI.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::initStyles'>initStyles</a><span class='tooltiptext'>Initializes widget styles for alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitXterminal'>InitXterminal</a><span class='tooltiptext'>Gets Linux terminal called by x-terminal-emulator, saves the result to al(EM,tt).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ProjectsToolbar'>ProjectsToolbar</a><span class='tooltiptext'>Tool bar for Projects (subset of main toolbar).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIni'>ReadIni</a><span class='tooltiptext'>Reads alited application's and project's settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniEM'>ReadIniEM</a><span class='tooltiptext'>Gets e_menu options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniFormats'>ReadIniFormats</a><span class='tooltiptext'>Gets pluginable formatters of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniGeometry'>ReadIniGeometry</a><span class='tooltiptext'>Gets the geometry options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniKeys'>ReadIniKeys</a><span class='tooltiptext'>Gets keys options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniMisc'>ReadIniMisc</a><span class='tooltiptext'>Gets miscellaneous options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniOptions'>ReadIniOptions</a><span class='tooltiptext'>Gets various options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniPrj'>ReadIniPrj</a><span class='tooltiptext'>Reads a project's settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniTemplates'>ReadIniTemplates</a><span class='tooltiptext'>Sets new or updates old templates.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniTkcon'>ReadIniTkcon</a><span class='tooltiptext'>Gets tkcon options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjFavorites'>ReadPrjFavorites</a><span class='tooltiptext'>Gets favorites of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjMisc'>ReadPrjMisc</a><span class='tooltiptext'>Gets favorites of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjOptions'>ReadPrjOptions</a><span class='tooltiptext'>Gets options of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjTabs'>ReadPrjTabs</a><span class='tooltiptext'>Gets tabs of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveCurrentIni'>SaveCurrentIni</a><span class='tooltiptext'>Saves a current configuration of alited on various events.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveIni'>SaveIni</a><span class='tooltiptext'>Saves a current configuration of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveIniGlob'>SaveIniGlob</a><span class='tooltiptext'>Save 3 lines of global configuration of alited: current .ini file, current project's path, list of config dirs
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveIniPrj'>SaveIniPrj</a><span class='tooltiptext'>Saves settings of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::TipToolHotkeys'>TipToolHotkeys</a><span class='tooltiptext'>Adds hotkeys to toolbar tips.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolbarTip'>ToolbarTip</a><span class='tooltiptext'>Gets a toolbar button's tip, mapping %f / %D to a current file / directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolByKey'>ToolByKey</a><span class='tooltiptext'>Runs a command after its hot key pressing in f5 tab of Projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolPrjCommand'>ToolPrjCommand</a><span class='tooltiptext'>Executes project toolbar's command.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolPrjDirname'>ToolPrjDirname</a><span class='tooltiptext'>Gets dir name of current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolPrjEM'>ToolPrjEM</a><span class='tooltiptext'>Calls e_menu from toolbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolPrjFilename'>ToolPrjFilename</a><span class='tooltiptext'>Gets file name of current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolPrjRun'>ToolPrjRun</a><span class='tooltiptext'>Runs current file from toolbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolPrjTip'>ToolPrjTip</a><span class='tooltiptext'>Gets a toolbar button's tip, mapping %f / %D to a current file / directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolPrjTkcon'>ToolPrjTkcon</a><span class='tooltiptext'>Runs tkcon from toolbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::TooltipPrjRun'>TooltipPrjRun</a><span class='tooltiptext'>Gets a tip for &quot;Projects' Run&quot; tool.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::UpdateTemplates'>UpdateTemplates</a><span class='tooltiptext'>Updates templates.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ViewUpdates'>ViewUpdates</a><span class='tooltiptext'>Views changes for updating.
</span></h4><h1><a href='#::alited::keys'>alited::keys</a></h1><h2><a href='#::alited::keys-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::keys::Add'>Add</a><span class='tooltiptext'>Adds an item to a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::BindAllKeys'>BindAllKeys</a><span class='tooltiptext'>Binds all keys to appropriate events of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::BindKeys'>BindKeys</a><span class='tooltiptext'>Binds keys to appropriate events of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Delete'>Delete</a><span class='tooltiptext'>Deletes an item from a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::EngagedList'>EngagedList</a><span class='tooltiptext'>Returns a list of keys engaged by a user.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::ReservedAdd'>ReservedAdd</a><span class='tooltiptext'>Saves reserved (&quot;action&quot;) keys to a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::ReservedList'>ReservedList</a><span class='tooltiptext'>Returns a list of keys reserved by alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Search'>Search</a><span class='tooltiptext'>Searches an item in a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Test'>Test</a><span class='tooltiptext'>It's just for testing keys.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::UnBindKeys'>UnBindKeys</a><span class='tooltiptext'>Clears key bindings of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::UserList'>UserList</a><span class='tooltiptext'>Returns a list of keys available to a user.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::VacantList'>VacantList</a><span class='tooltiptext'>Returns a list of keys not yet engaged.
</span></h4><h1><a href='#::alited::main'>alited::main</a></h1><h2><a href='#::alited::main-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::main::_create'>_create</a><span class='tooltiptext'>Creates a main form of the alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::_run'>_run</a><span class='tooltiptext'>Runs the alited, displaying its main form with attributes 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons', 'minimal sizes' and 'saved geometry'. After closing the alited, saves its settings (geometry etc.).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::AfterCut'>AfterCut</a><span class='tooltiptext'>Actions after cutting text: resets the unit tree's selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::AfterUndoRedo'>AfterUndoRedo</a><span class='tooltiptext'>Actions after undo/redo.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::BindsForCode'>BindsForCode</a><span class='tooltiptext'>Sets bindings for a code.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::BindsForText'>BindsForText</a><span class='tooltiptext'>Sets bindings for a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CalcIndentation'>CalcIndentation</a><span class='tooltiptext'>Check for &quot;Auto detection of indentation&quot; and calculates it at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CalcPad'>CalcPad</a><span class='tooltiptext'>Calculates the indenting pad for the edited text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ClearCbx'>ClearCbx</a><span class='tooltiptext'>Clears a combobox's value and removes it from the combobox' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CurrentWTXT'>CurrentWTXT</a><span class='tooltiptext'>Gets a current text widget's path.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CursorPos'>CursorPos</a><span class='tooltiptext'>Displays a current text's row and column in the status bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::FillMarkBar'>FillMarkBar</a><span class='tooltiptext'>Fills the mark bar, makes bindings for its tags.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::FocusInText'>FocusInText</a><span class='tooltiptext'>Processes <FocusIn> event on the text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::FocusText'>FocusText</a><span class='tooltiptext'>Sets a focus on a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GetText'>GetText</a><span class='tooltiptext'>Creates or gets a text widget for a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GetWTXT'>GetWTXT</a><span class='tooltiptext'>Gets a text widget's path of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GotoBracket'>GotoBracket</a><span class='tooltiptext'>Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GotoLine'>GotoLine</a><span class='tooltiptext'>Processes Ctrl+G keypressing: &quot;go to a line&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GutterAttrs'>GutterAttrs</a><span class='tooltiptext'>Returns list of gutter's data (canvas widget, width, shift)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::HighlightLine'>HighlightLine</a><span class='tooltiptext'>Highlights a current line of a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::HighlightText'>HighlightText</a><span class='tooltiptext'>Highlights a file's syntax constructs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::InitActions'>InitActions</a><span class='tooltiptext'>Initializes working with a main form of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::InsertLine'>InsertLine</a><span class='tooltiptext'>Puts a new line into a text, attentive to a previous line's indentation.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::MarkOptions'>MarkOptions</a><span class='tooltiptext'>Returns options for marks.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::MarkWidth'>MarkWidth</a><span class='tooltiptext'>Change the mark bar's width.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::MarkWidthSave'>MarkWidthSave</a><span class='tooltiptext'>Saves alited.ini at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::PackTextWidgets'>PackTextWidgets</a><span class='tooltiptext'>Packs a text and its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ProcMessage'>ProcMessage</a><span class='tooltiptext'>Handles clicking on message label.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::RestoreMarks'>RestoreMarks</a><span class='tooltiptext'>Restores mark data for a text to be shown.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::SaveMarks'>SaveMarks</a><span class='tooltiptext'>Saves mark data for a text to be closed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::SaveVisitInfo'>SaveVisitInfo</a><span class='tooltiptext'>Remembers data about current unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::SetMark'>SetMark</a><span class='tooltiptext'>Sets a mark in the mark bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::SetTabs'>SetTabs</a><span class='tooltiptext'>Configures tabs of a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ShowHeader'>ShowHeader</a><span class='tooltiptext'>Displays a file's name and modification flag (*) in alited's title.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ShowOutdatedTODO'>ShowOutdatedTODO</a><span class='tooltiptext'>Shows a balloon with outdated TODO.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ShowText'>ShowText</a><span class='tooltiptext'>Displays a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::TipStatus'>TipStatus</a><span class='tooltiptext'>Gets a tip for a status bar's short info.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UnsetAllMarks'>UnsetAllMarks</a><span class='tooltiptext'>Unsets all marks in the mark bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UnsetMark'>UnsetMark</a><span class='tooltiptext'>Unsets a mark in the mark bar or call a popup menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UnsetOneMark'>UnsetOneMark</a><span class='tooltiptext'>Unsets one mark in the mark bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateAll'>UpdateAll</a><span class='tooltiptext'>Updates tree, text and gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateGutter'>UpdateGutter</a><span class='tooltiptext'>Redraws the gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateIcons'>UpdateIcons</a><span class='tooltiptext'>Updates after replacements: icons.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateMarkBar'>UpdateMarkBar</a><span class='tooltiptext'>Updates mark bar at changing -bg color.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateProjectInfo'>UpdateProjectInfo</a><span class='tooltiptext'>Displays a project settings in the status bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateText'>UpdateText</a><span class='tooltiptext'>Redraws a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateTextGutter'>UpdateTextGutter</a><span class='tooltiptext'>Redraws both a text and a gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateTextGutterTree'>UpdateTextGutterTree</a><span class='tooltiptext'>Updates after replacements: text, gutter, unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateTextGutterTreeIcons'>UpdateTextGutterTreeIcons</a><span class='tooltiptext'>Updates after replacements: text, gutter, unit tree, icons.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateUnitTree'>UpdateUnitTree</a><span class='tooltiptext'>Redraws unit tree at need.
</span></h4><h1><a href='#::alited::menu'>alited::menu</a></h1><h2><a href='#::alited::menu-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::menu::CheckMenuItems'>CheckMenuItems</a><span class='tooltiptext'>Disables/enables &quot;File/Close All...&quot; menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::CheckTint'>CheckTint</a><span class='tooltiptext'>Sets a check in menu &quot;Tint&quot; according to the current tint.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::CompareFnames'>CompareFnames</a><span class='tooltiptext'>Comapares two names of files, by their rootnames.
</span></h4><h4><a href='alited.html#::alited::menu::Configurations'>Configurations</a></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillFormatItems'>FillFormatItems</a><span class='tooltiptext'>Fills Edit/Format submenu with items taken from &quot;alited/data/format&quot; directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillMacroItems'>FillMacroItems</a><span class='tooltiptext'>Fills play macro items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillMenu'>FillMenu</a><span class='tooltiptext'>Populates alited's main menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillRunItems'>FillRunItems</a><span class='tooltiptext'>Fills Tools/e_menu items, depending on a currently edited file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FormatsItemName'>FormatsItemName</a><span class='tooltiptext'>Gets a Formats item's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::HelpFiles'>HelpFiles</a><span class='tooltiptext'>Gets a list of Help/Context (file names and labels).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::MacroOptions'>MacroOptions</a><span class='tooltiptext'>Gets play macro item's options.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::MapRunItems'>MapRunItems</a><span class='tooltiptext'>Gets a map list to map %f &amp; %D wildcards to the current file &amp; directory names.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::MenuCascade'>MenuCascade</a><span class='tooltiptext'>Creates a cascade submenu, saving its title (for saved/restored submenus).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::Paver'>Paver</a><span class='tooltiptext'>Loads and calls Paver tool.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::RestoreCascadeMenu'>RestoreCascadeMenu</a><span class='tooltiptext'>Restores cascade menus at starting alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::SaveCascadeMenuGeo'>SaveCascadeMenuGeo</a><span class='tooltiptext'>Saves the geometry of tear-off menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::SetTint'>SetTint</a><span class='tooltiptext'>Sets a tint of a current color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::TearoffCascadeMenu'>TearoffCascadeMenu</a><span class='tooltiptext'>Tear off a cascade menus at starting alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::TintRange'>TintRange</a><span class='tooltiptext'>Gets the range for tints, counting the current one as the middle point.
</span></h4><h1><a href='#::alited::paver'>alited::paver</a></h1><h2><a href='#::alited::paver-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::paver::_create'>_create</a><span class='tooltiptext'>Creates and shows the paver's window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::_run'>_run</a><span class='tooltiptext'>Runs the paver.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::AutoUpdate'>AutoUpdate</a><span class='tooltiptext'>Auto-updates the paver.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::CheckCommentedOptions'>CheckCommentedOptions</a><span class='tooltiptext'>Checks for commented options of gridpack &amp; attrs of widget list item
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::Close'>Close</a><span class='tooltiptext'>Closes paver's window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::Destroy'>Destroy</a><span class='tooltiptext'>Destroys paver's window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::ExitViewer'>ExitViewer</a><span class='tooltiptext'>Closes the viewer.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::HandleViewer'>HandleViewer</a><span class='tooltiptext'>Handles viewer's save/close actions.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::Help'>Help</a><span class='tooltiptext'>Handles hitting Help button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::MessageNotList'>MessageNotList</a><span class='tooltiptext'>Show a message about absent widget list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::RemoveVarOptions'>RemoveVarOptions</a><span class='tooltiptext'>Removes some options with variable values.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::Viewer'>Viewer</a><span class='tooltiptext'>Shows the widget list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::paver::WidgetList'>WidgetList</a><span class='tooltiptext'>Finds and gets a paveWindow's widget list from a current text.
</span></h4><h1><a href='#::alited::pref'>alited::pref</a></h1><h2><a href='#::alited::pref-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::pref::_create'>_create</a><span class='tooltiptext'>Creates &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::_init'>_init</a><span class='tooltiptext'>Initializes &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::_run'>_run</a><span class='tooltiptext'>Runs &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::BindKey'>BindKey</a><span class='tooltiptext'>Binds a key event to a key combination.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::BindKey2'>BindKey2</a><span class='tooltiptext'>Almost the same as BindKey, but gets a list of upper &amp; lower keys.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::C_Default'>C_Default</a><span class='tooltiptext'>Sets default colors to highlight C.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Cancel'>Cancel</a><span class='tooltiptext'>Closes Preferences.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CbxBackup'>CbxBackup</a><span class='tooltiptext'>Check for access to SpxMaxBak field. If CbxBackup is empty (no backup), SpxMaxBak should be disabled.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckCS'>CheckCS</a><span class='tooltiptext'>Checks if the color scheme is changed and, if so, sets &quot;Color of cursor&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckIndent'>CheckIndent</a><span class='tooltiptext'>Sets &quot;auto indentation&quot;, if indent is 1 (for indentation by Tabs)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckOk'>CheckOk</a><span class='tooltiptext'>Checker for &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckTheming'>CheckTheming</a><span class='tooltiptext'>Checks periodically theming options and, if changed, shows their preview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckUseDef'>CheckUseDef</a><span class='tooltiptext'>Enables/disables the project default fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckUseLeaf'>CheckUseLeaf</a><span class='tooltiptext'>Enables/disables the &quot;Regexp of a leaf&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Common_Tab'>Common_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/Common&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CsDark'>CsDark</a><span class='tooltiptext'>Gets a lightness of a color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Default_e_menu'>Default_e_menu</a><span class='tooltiptext'>Set default a_menu settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::DelRun'>DelRun</a><span class='tooltiptext'>Deletes a current &quot;bar-menu&quot; action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::DownRun'>DownRun</a><span class='tooltiptext'>Move a current run item down.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab1'>Edit_Tab1</a><span class='tooltiptext'>Serves to layout &quot;Editor&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab2'>Edit_Tab2</a><span class='tooltiptext'>Serves to layout &quot;Tcl syntax&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab3'>Edit_Tab3</a><span class='tooltiptext'>Serves to layout &quot;C/C++ syntax&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab4'>Edit_Tab4</a><span class='tooltiptext'>Serves to layout &quot;Plain texts&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Em_ShowAll'>Em_ShowAll</a><span class='tooltiptext'>Handles separators of bar-menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Emenu_Tab'>Emenu_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/e_menu&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ExchangeRuns'>ExchangeRuns</a><span class='tooltiptext'>Exchanges two run items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::fetchVars'>fetchVars</a><span class='tooltiptext'>Delivers namespace variables to a caller.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::fillCan'>fillCan</a><span class='tooltiptext'>Sets a bg color of tab canvas.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::FocusedRun'>FocusedRun</a><span class='tooltiptext'>Gets an index of current run.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab1'>General_Tab1</a><span class='tooltiptext'>Serves to layout &quot;General&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab2'>General_Tab2</a><span class='tooltiptext'>Serves to layout &quot;General/Saving&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab3'>General_Tab3</a><span class='tooltiptext'>Serves to layout &quot;General/Projects&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetCS'>GetCS</a><span class='tooltiptext'>Gets a color scheme's index from <em>opcc</em> / <em>opcc2</em>  variable.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetKeyList'>GetKeyList</a><span class='tooltiptext'>Gets a list of available (not engaged) key combinations.
</span></h4><h4><a href='alited.html#::alited::pref::GetLocaleImage'>GetLocaleImage</a></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Help'>Help</a><span class='tooltiptext'>Shows a help on a current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::IniKeys'>IniKeys</a><span class='tooltiptext'>Gets key settings at opening &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitLocales'>InitLocales</a><span class='tooltiptext'>Creates flag images to display at &quot;Preferable locale&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitSyntax'>InitSyntax</a><span class='tooltiptext'>Updates and initializes color fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitSyntaxC'>InitSyntaxC</a><span class='tooltiptext'>Initializes syntax stuff for C/C++.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitSyntaxTcl'>InitSyntaxTcl</a><span class='tooltiptext'>Initializes syntax stuff for Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::KeyAccelerator'>KeyAccelerator</a><span class='tooltiptext'>Gets a key accelerator for a combobox of keys, bound to an action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::KeyAccelerators'>KeyAccelerators</a><span class='tooltiptext'>Gets a full list of key accelerators,
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Keys_Tab1'>Keys_Tab1</a><span class='tooltiptext'>Serves to layout &quot;Keys&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::MainFrame'>MainFrame</a><span class='tooltiptext'>Creates a main frame of the dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar of preferences dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Ok'>Ok</a><span class='tooltiptext'>Handler of &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::opcIcoPre'>opcIcoPre</a><span class='tooltiptext'>Gets an item for icon list of a bar-menu action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::opcToolPre'>opcToolPre</a><span class='tooltiptext'>Gets colors for &quot;Color schemes&quot; items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::OwnCS'>OwnCS</a><span class='tooltiptext'>Looks for ownCS option.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::PickMenuItem'>PickMenuItem</a><span class='tooltiptext'>Selects e_menu's action for a &quot;bar-menu&quot; item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ProcMessage'>ProcMessage</a><span class='tooltiptext'>Handles clicking on message label.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::RegisterKeys'>RegisterKeys</a><span class='tooltiptext'>Adds key bindings to keys array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ReservedIcons'>ReservedIcons</a><span class='tooltiptext'>Returns a list of icons already engaged by alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::RestoreSettings'>RestoreSettings</a><span class='tooltiptext'>Restores original settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Runs_Tab'>Runs_Tab</a><span class='tooltiptext'>Prepares and layouts &quot;Tools/bar-menu&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SavedOptions'>SavedOptions</a><span class='tooltiptext'>Returns a list of names of main settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SaveSettings'>SaveSettings</a><span class='tooltiptext'>Saves original settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ScrollRuns'>ScrollRuns</a><span class='tooltiptext'>Updates scrollbars of bar-menu tab because its contents may have various length.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SelectKey'>SelectKey</a><span class='tooltiptext'>Handles &lt;<ComboboxSelected>&gt; event on a combobox of keys.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tab'>Tab</a><span class='tooltiptext'>Handles changing tabs of notebooks.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tcl_Default'>Tcl_Default</a><span class='tooltiptext'>Sets default colors to highlight Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Template_Tab'>Template_Tab</a><span class='tooltiptext'>Serves to layout &quot;Template&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Test_e_menu'>Test_e_menu</a><span class='tooltiptext'>Tests a_menu settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Text_Default'>Text_Default</a><span class='tooltiptext'>Sets defaults for plain text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::TextIcons'>TextIcons</a><span class='tooltiptext'>Returns a list of letters to be toolbar &quot;icons&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Default'>Tkcon_Default</a><span class='tooltiptext'>Sets defaults for &quot;Tools/Tkcon&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Default1'>Tkcon_Default1</a><span class='tooltiptext'>Sets light theme colors for Tkcon.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Default2'>Tkcon_Default2</a><span class='tooltiptext'>Sets dark theme colors for Tkcon.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Tab'>Tkcon_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/Tkcon&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Units_Default'>Units_Default</a><span class='tooltiptext'>Sets the default settings of units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Units_Tab'>Units_Tab</a><span class='tooltiptext'>Serves to layout &quot;Units&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::UpdateSyntaxTab'>UpdateSyntaxTab</a><span class='tooltiptext'>Updates color labels at clicking &quot;Default&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::UpdateTkconTab'>UpdateTkconTab</a><span class='tooltiptext'>Updates color labels for &quot;Tools/Tkcon&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::UpRun'>UpRun</a><span class='tooltiptext'>Move a current run item up.
</span></h4><h1><a href='#::alited::printer'>alited::printer</a></h1><h2><a href='#::alited::printer-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::printer::_create'>_create</a><span class='tooltiptext'>Creates Project Printer dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::_run'>_run</a><span class='tooltiptext'>Runs Project Printer dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Cancel'>Cancel</a><span class='tooltiptext'>Cancel handling the dialog.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::CheckData'>CheckData</a><span class='tooltiptext'>Check for correctness of the dialog's data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::CheckDir'>CheckDir</a><span class='tooltiptext'>Checks the output directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::CheckFile'>CheckFile</a><span class='tooltiptext'>Checks the file of contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::CheckTemplates'>CheckTemplates</a><span class='tooltiptext'>Checks alited's templates for .html files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::CompareUnits'>CompareUnits</a><span class='tooltiptext'>Compares the unit tree items by their titles. Useful for trees without branches.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::ExpandContract'>ExpandContract</a><span class='tooltiptext'>Expands or contracts the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::ExpandMarked'>ExpandMarked</a><span class='tooltiptext'>Shows all marked tree item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::fetchVars'>fetchVars</a><span class='tooltiptext'>Delivers namespace variables to a caller.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::FillTree'>FillTree</a><span class='tooltiptext'>Populates the tree of project files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::FocusID'>FocusID</a><span class='tooltiptext'>Focuses an item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::FocusID1'>FocusID1</a><span class='tooltiptext'>Focuses 1st item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::FocusIn'>FocusIn</a><span class='tooltiptext'>Handles focusing the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::FocusOut'>FocusOut</a><span class='tooltiptext'>Handles unfocusing the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::GetBranchLink'>GetBranchLink</a><span class='tooltiptext'>Gets a contents branch link for index.html.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::GetCss'>GetCss</a><span class='tooltiptext'>Create style.css.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::GetDirLink'>GetDirLink</a><span class='tooltiptext'>Gets a dir link for index.html.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::GetFileName'>GetFileName</a><span class='tooltiptext'>Gets a file link for index.html.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::GetLeafLink'>GetLeafLink</a><span class='tooltiptext'>Gets a contents leaf link for index.html.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::GetReadme'>GetReadme</a><span class='tooltiptext'>Create html version of readme.md.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Help'>Help</a><span class='tooltiptext'>Handles &quot;Help&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Hl_html'>Hl_html</a><span class='tooltiptext'>Highlights Tcl code in html file
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::MakeFile'>MakeFile</a><span class='tooltiptext'>Makes a html file or a copy of file from a source file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Mark'>Mark</a><span class='tooltiptext'>Mark/unmark tree items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Mark1'>Mark1</a><span class='tooltiptext'>Mark/unmark tree item of file, with a key.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::MarkFile'>MarkFile</a><span class='tooltiptext'>Mark/unmark tree item of file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::MarkTotal'>MarkTotal</a><span class='tooltiptext'>Show a number of marked items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::MarkUnmarkFile'>MarkUnmarkFile</a><span class='tooltiptext'>Marks/unmarks and item in file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::MdInit'>MdInit</a><span class='tooltiptext'>Initializes a text widget for md syntax.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::MdOutput'>MdOutput</a><span class='tooltiptext'>Puts out the .html made from .md (in a text buffer): final processings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::MdProc'>MdProc</a><span class='tooltiptext'>Makes .html version of .md file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar of the dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Off_Html_tags'>Off_Html_tags</a><span class='tooltiptext'>Disables html tags in a code snippet.
</span></h4><h4><a href='alited.html#::alited::printer::Ok'>Ok</a></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::Process'>Process</a><span class='tooltiptext'>Processes files to make the resulting .html.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::ProcMessage'>ProcMessage</a><span class='tooltiptext'>Handles clicking on message label.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::ReadIni'>ReadIni</a><span class='tooltiptext'>Reads ini data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::RunFinal'>RunFinal</a><span class='tooltiptext'>Runs final processor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::SaveIni'>SaveIni</a><span class='tooltiptext'>Saves ini data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::StdClr'>StdClr</a><span class='tooltiptext'>Sets standard colors.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::TryFocusTree'>TryFocusTree</a><span class='tooltiptext'>Tries focusing the focused item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::printer::UnitTooltip'>UnitTooltip</a><span class='tooltiptext'>Gets unit's tooltip.
</span></h4><h1><a href='#::alited::project'>alited::project</a></h1><h2><a href='#::alited::project-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::project::_create'>_create</a><span class='tooltiptext'>Creates and opens Projects dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::_run'>_run</a><span class='tooltiptext'>Runs Projects dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Add'>Add</a><span class='tooltiptext'>&quot;Add project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::afterOpenCloseFiles'>afterOpenCloseFiles</a><span class='tooltiptext'>Actions after opening/closing files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Cancel'>Cancel</a><span class='tooltiptext'>'Cancel' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Change'>Change</a><span class='tooltiptext'>&quot;Change project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckNewDir'>CheckNewDir</a><span class='tooltiptext'>Checks if the root directory exists. If no, tries to create it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckOutdated'>CheckOutdated</a><span class='tooltiptext'>Checks for outdated TODOs of all projects except for the current. Return {} or a name of project with outdated TODOs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckPrjLeaf'>CheckPrjLeaf</a><span class='tooltiptext'>Checks &quot;Regexp of a leaf&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckPrjUseLeaf'>CheckPrjUseLeaf</a><span class='tooltiptext'>Enables/disables the &quot;Regexp of a leaf&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckProjectName'>CheckProjectName</a><span class='tooltiptext'>Removes spec.characters from a project name (sort of normalizing it).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ChecksCom'>ChecksCom</a><span class='tooltiptext'>Sets checks of &quot;Commands / Run for all&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ChecksRun'>ChecksRun</a><span class='tooltiptext'>Sets checks of &quot;Commands / Run for project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ClockFormat'>ClockFormat</a><span class='tooltiptext'>Formats date in seconds.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ClockScan'>ClockScan</a><span class='tooltiptext'>Scans date to get date in seconds.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ClockYMD'>ClockYMD</a><span class='tooltiptext'>Extracts year, month, day from date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CloseSelFiles'>CloseSelFiles</a><span class='tooltiptext'>Closes selected files of listbox. Files are closed in a currently open project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CurrentFile'>CurrentFile</a><span class='tooltiptext'>Gets a current file of file listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CurrProject'>CurrProject</a><span class='tooltiptext'>Gets a current project name, from a current item of project list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Delete'>Delete</a><span class='tooltiptext'>&quot;Delete project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::DeleteFromTplList'>DeleteFromTplList</a><span class='tooltiptext'>Deletes a template name from the list of project templates.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::DetachSelFiles'>DetachSelFiles</a><span class='tooltiptext'>Detaches selected files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ExistingProject'>ExistingProject</a><span class='tooltiptext'>Checks if a project (of entry field) exists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::FocusInTab'>FocusInTab</a><span class='tooltiptext'>Focuses on a widget in a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::focusTree'>focusTree</a><span class='tooltiptext'>Sets focus on the treeview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetOptVal'>GetOptVal</a><span class='tooltiptext'>Gets a name and a value from a line of form &quot;name=value&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetProjectOpts'>GetProjectOpts</a><span class='tooltiptext'>Reads a project's settings from a project settings file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetProjects'>GetProjects</a><span class='tooltiptext'>Reads settings of all projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Help'>Help</a><span class='tooltiptext'>'Help' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::HelpMe'>HelpMe</a><span class='tooltiptext'>'Help' for start.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::IsOutdated'>IsOutdated</a><span class='tooltiptext'>Checks for outdated TODOs of a project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KeyOnTree'>KeyOnTree</a><span class='tooltiptext'>Handles key press on the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_button'>Klnd_button</a><span class='tooltiptext'>Fire an event handler (paste/undo/redo) on a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_delete'>Klnd_delete</a><span class='tooltiptext'>Clears a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_moveTODO'>Klnd_moveTODO</a><span class='tooltiptext'>Moves current TODO to a new date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_next'>Klnd_next</a><span class='tooltiptext'>Moves a reminder to <em>days</em>.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_next2'>Klnd_next2</a><span class='tooltiptext'>Moves a reminder to 7 days.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_paste'>Klnd_paste</a><span class='tooltiptext'>Pastes a text to a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_previous'>Klnd_previous</a><span class='tooltiptext'>Moves a reminder back to 1 day.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_previous2'>Klnd_previous2</a><span class='tooltiptext'>Moves a reminder back to 7 days.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_redo'>Klnd_redo</a><span class='tooltiptext'>Redoes changes of a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_save'>Klnd_save</a><span class='tooltiptext'>Saves a reminder on a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_undo'>Klnd_undo</a><span class='tooltiptext'>Undoes changes of a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndBorderText'>KlndBorderText</a><span class='tooltiptext'>Highlights/unhighlights a reminder's border.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndClick'>KlndClick</a><span class='tooltiptext'>Processes a click on a calendar day.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndDate'>KlndDate</a><span class='tooltiptext'>Formats a calendar date by alited's format (Preferences/Templates).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndDay'>KlndDay</a><span class='tooltiptext'>Selects a date of reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndDayRem'>KlndDayRem</a><span class='tooltiptext'>Selects a date of reminder before a current one.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndInDate'>KlndInDate</a><span class='tooltiptext'>Gets a date in seconds.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndOutDate'>KlndOutDate</a><span class='tooltiptext'>Gets a date formatted.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndPopup'>KlndPopup</a><span class='tooltiptext'>Handles a popup menu for the calendar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndSearch'>KlndSearch</a><span class='tooltiptext'>Search a date in calendar data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndText'>KlndText</a><span class='tooltiptext'>Gets a reminder text for a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndTextModified'>KlndTextModified</a><span class='tooltiptext'>Processes modifications of calendar text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndUpdate'>KlndUpdate</a><span class='tooltiptext'>Updates calendar data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::LbxPopup'>LbxPopup</a><span class='tooltiptext'>Runs a popup menu on the project files listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::MainFrame'>MainFrame</a><span class='tooltiptext'>Creates a main frame of &quot;Project&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar of projects dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::NotesFile'>NotesFile</a><span class='tooltiptext'>Gets a file name of notes.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Ok'>Ok</a><span class='tooltiptext'>'OK' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::OnProjectEnter'>OnProjectEnter</a><span class='tooltiptext'>Actions on entering a project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::OpenFile'>OpenFile</a><span class='tooltiptext'>Opens a file of listbox after double clicking.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::OpenSelFiles'>OpenSelFiles</a><span class='tooltiptext'>Opens selected files of listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::PopupMenu'>PopupMenu</a><span class='tooltiptext'>Opens a popup menu in the project list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::postValidateFilter'>postValidateFilter</a><span class='tooltiptext'>Postvalidates the file filter change.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::preValidateFilter'>preValidateFilter</a><span class='tooltiptext'>Prevalidates the file filter change.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProcMessage'>ProcMessage</a><span class='tooltiptext'>Handles clicking on message label. Shows the message and if it is about TODO, selects the corresponding project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectEnter'>ProjectEnter</a><span class='tooltiptext'>Processes double-clicking and pressing Enter on the project list. Cancels selecting projects if there are old reminders.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectFileName'>ProjectFileName</a><span class='tooltiptext'>Gets a project file name from a project's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectName'>ProjectName</a><span class='tooltiptext'>Gets a project name from its file name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::PutProjectOpts'>PutProjectOpts</a><span class='tooltiptext'>Writes a project's settings to a project settings file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ReadNotes'>ReadNotes</a><span class='tooltiptext'>Reads notes of a project and commands for Commands tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ReadRems'>ReadRems</a><span class='tooltiptext'>Reads a file of reminders.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::RemoveFromTplList'>RemoveFromTplList</a><span class='tooltiptext'>Removes a template name from the lists of template data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::RemsFile'>RemsFile</a><span class='tooltiptext'>Gets a file name of reminders.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::RestoreSettings'>RestoreSettings</a><span class='tooltiptext'>Restores project settings from curinfo array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::RunComs'>RunComs</a><span class='tooltiptext'>Handles running commands of Commands tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveData'>SaveData</a><span class='tooltiptext'>Saves some data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveNotes'>SaveNotes</a><span class='tooltiptext'>For a current item of project list, saves a file of notes and Commands tab's commands.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveSettings'>SaveSettings</a><span class='tooltiptext'>Saves project settings to curinfo array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Select'>Select</a><span class='tooltiptext'>Handles a selection in a list of projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SelectAllFiles'>SelectAllFiles</a><span class='tooltiptext'>Selects all files of listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Selected'>Selected</a><span class='tooltiptext'>Gets a currently selected project's index.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SelectedPrj'>SelectedPrj</a><span class='tooltiptext'>Gets a project name of selected item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SelFiles'>SelFiles</a><span class='tooltiptext'>Checks for a selection of file listbox. Returns: list of listbox's path and the selection or {}.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SortRems'>SortRems</a><span class='tooltiptext'>Sorts reminders by date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::StdLeafRE'>StdLeafRE</a><span class='tooltiptext'>Sets standard RE for leaf unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab1'>Tab1</a><span class='tooltiptext'>Creates a main tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab2'>Tab2</a><span class='tooltiptext'>Creates Options tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab3'>Tab3</a><span class='tooltiptext'>Creates Templates tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab4'>Tab4</a><span class='tooltiptext'>Creates Commands tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab5'>Tab5</a><span class='tooltiptext'>Creates Files tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TabFileFill'>TabFileFill</a><span class='tooltiptext'>Fills a listbox of files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TabFileFilter'>TabFileFilter</a><span class='tooltiptext'>Fills a listbox with a list of filtered files of all projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TabFileHeading'>TabFileHeading</a><span class='tooltiptext'>Show Files tab's heading.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TabFileInfo'>TabFileInfo</a><span class='tooltiptext'>Fills a listbox with a list of project files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Template'>Template</a><span class='tooltiptext'>Creates a project by template as set in Template tab. The template can contain directories or files (indented for subdirectories). The files satisfy glob-patterns: changelog<em>, license</em>, licence<em>, readme</em>.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TipOnFile'>TipOnFile</a><span class='tooltiptext'>Shows info on a file in the file list as a tooltip.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TplDefault'>TplDefault</a><span class='tooltiptext'>Sets default contents of project template.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TplDefaultText'>TplDefaultText</a><span class='tooltiptext'>Gets default contents of project template.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::UpdateMsg'>UpdateMsg</a><span class='tooltiptext'>Displays a message on project updating.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::UpdateTplLists'>UpdateTplLists</a><span class='tooltiptext'>Updates lists of template data, setting the current template on the top.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::UpdateTplText'>UpdateTplText</a><span class='tooltiptext'>Updates the template text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::UpdateTree'>UpdateTree</a><span class='tooltiptext'>Fills a list of projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ValidateDir'>ValidateDir</a><span class='tooltiptext'>Tries to get a project name at choosing root dir.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ValidateIni'>ValidateIni</a><span class='tooltiptext'>Validates values of alited.ini.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ValidProject'>ValidProject</a><span class='tooltiptext'>Checks if a project's options are valid.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ViewDir'>ViewDir</a><span class='tooltiptext'>Shows file chooser just to view the project's dir
</span></h4><h1><a href='#::alited::run'>alited::run</a></h1><h2><a href='#::alited::run-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::run::_create'>_create</a><span class='tooltiptext'>Dialogue to define a command for &quot;Tools/Run&quot;.
</span></h4><h4><a href='alited.html#::alited::run::_run'>_run</a></h4><h4 class='tooltip'><a href='alited.html#::alited::run::Cancel'>Cancel</a><span class='tooltiptext'>Handles hitting &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::ChbForced'>ChbForced</a><span class='tooltiptext'>Checks states &amp; values of widgets.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::DeleteForcedRun'>DeleteForcedRun</a><span class='tooltiptext'>Clears current combobox' value.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::FillCbx'>FillCbx</a><span class='tooltiptext'>Fill the command combobox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::FillTex1'>FillTex1</a><span class='tooltiptext'>Fills command content text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::FillTex2'>FillTex2</a><span class='tooltiptext'>Fills &quot;commands before running&quot; text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::Help'>Help</a><span class='tooltiptext'>Shows Run's help.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::InitTex12'>InitTex12</a><span class='tooltiptext'>Initializes texts &amp; combobox (colors, events, highlighting etc.).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::Run'>Run</a><span class='tooltiptext'>Runs a command of &quot;Run...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::RunOptions'>RunOptions</a><span class='tooltiptext'>Sets options of &quot;Run...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::Save'>Save</a><span class='tooltiptext'>Saves settings of &quot;Run...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run::ValidatePath'>ValidatePath</a><span class='tooltiptext'>Validates a path chosen from the file picker.
</span></h4><h1><a href='#::alited::tool'>alited::tool</a></h1><h2><a href='#::alited::tool-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::tool::_close'>_close</a><span class='tooltiptext'>Closes e_menu (being an internal procedure) by force.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::_run'>_run</a><span class='tooltiptext'>Runs e_menu's item of menu.em.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::AddTooltipRun'>AddTooltipRun</a><span class='tooltiptext'>Addition to Run's tooltip.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::AfterStart'>AfterStart</a><span class='tooltiptext'>Runs commands after starting alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::AfterStartDlg'>AfterStartDlg</a><span class='tooltiptext'>Dialogue &quot;Setup/For Start&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::AfterStartSyntax'>AfterStartSyntax</a><span class='tooltiptext'>Highlight &quot;Setup/For Start&quot; text's syntax, at least Tcl part of it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::aloupePath'>aloupePath</a><span class='tooltiptext'>Gets aloupe ini file's path.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::CheckTcl'>CheckTcl</a><span class='tooltiptext'>Check a current unit for errors, before running Tcl file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::ColorPicker'>ColorPicker</a><span class='tooltiptext'>Calls a color picker passing to it and getting from it a color.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::ComForced'>ComForced</a><span class='tooltiptext'>Checks whether a forced command is set.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::DatePicker'>DatePicker</a><span class='tooltiptext'>Calls a calendar to pick a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu'>e_menu</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu1'>e_menu1</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu2'>e_menu2</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu3'>e_menu3</a><span class='tooltiptext'>Prepares TF= argument for e_menu and runs e_menu's main menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_AllStructure'>EM_AllStructure</a><span class='tooltiptext'>Gets all items of all menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_AllStructure1'>EM_AllStructure1</a><span class='tooltiptext'>Gets recursively all items of all menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_command'>EM_command</a><span class='tooltiptext'>Gets e_menu command.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_dir'>EM_dir</a><span class='tooltiptext'>Returns a directory of e_menu's menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_HotKey'>EM_HotKey</a><span class='tooltiptext'>Returns e_menu's hotkeys which numerate menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_menuhere'>EM_menuhere</a><span class='tooltiptext'>Checks if m=<code>$mnu</code> is present in e_menu's arguments.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_Options'>EM_Options</a><span class='tooltiptext'>Returns e_menu's general options.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_optionTF'>EM_optionTF</a><span class='tooltiptext'>Prepares TF= option for e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_SaveFiles'>EM_SaveFiles</a><span class='tooltiptext'>Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_Structure'>EM_Structure</a><span class='tooltiptext'>Gets a menu's items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::FormatDate'>FormatDate</a><span class='tooltiptext'>Formats a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Help'>Help</a><span class='tooltiptext'>Calls a help on alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::InsertInText'>InsertInText</a><span class='tooltiptext'>Insert a string into a text possibly instead of its selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::is_emenu'>is_emenu</a><span class='tooltiptext'>Check for e_menu's existence.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::is_mainmenu'>is_mainmenu</a><span class='tooltiptext'>Checks if e_menu's arguments are for the main menu (run by F4).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::LineCoordinates'>LineCoordinates</a><span class='tooltiptext'>Gets X, Y screen coordinates of current line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Loupe'>Loupe</a><span class='tooltiptext'>Calls a screen loupe.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::PopupBar'>PopupBar</a><span class='tooltiptext'>Opens a popup menu in the tool bar, to enter e_menu's preferences.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::PrepareRunCommand'>PrepareRunCommand</a><span class='tooltiptext'>Prepares a command to run. The command can include wildcards.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Redo'>Redo</a><span class='tooltiptext'>Redoes a change.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::redoAll'>redoAll</a><span class='tooltiptext'>Redoes all changes.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Run_in_e_menu'>Run_in_e_menu</a><span class='tooltiptext'>Runs a command with e_menu application
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::RunArgs'>RunArgs</a><span class='tooltiptext'>Gets ARGS/RUNF/EXEC arguments (similar to ::em::get_AR of e_menu.tcl).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::RunFile'>RunFile</a><span class='tooltiptext'>Runs a current file as is (by associated app).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::RunMode'>RunMode</a><span class='tooltiptext'>Runs Tcl source file with choosing the mode - in console or in tkcon.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Runs'>Runs</a><span class='tooltiptext'>Runs a list of Tcl/ext commands.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::RunTcl'>RunTcl</a><span class='tooltiptext'>Try to run tcl source file by means of tkcon utility.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::SetPlainText'>SetPlainText</a><span class='tooltiptext'>Set the flag &quot;plain text&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::SHarg'>SHarg</a><span class='tooltiptext'>Gets SH= argument of e_menu (main window's geometry).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::SrcPath'>SrcPath</a><span class='tooltiptext'>Gets a path to an external tool. This may be useful at calling alited by tclkit: tkcon, aloupe etc. may be located in &quot;src&quot; subdirectory of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::tkcon'>tkcon</a><span class='tooltiptext'>Calls Tkcon application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::tkconOptions'>tkconOptions</a><span class='tooltiptext'>Gets options of tkcon.tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::tkconPath'>tkconPath</a><span class='tooltiptext'>Gets the path to tkcon.tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::ToolButName'>ToolButName</a><span class='tooltiptext'>Helper procedure to get a name of toolbar button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::TooltipRun'>TooltipRun</a><span class='tooltiptext'>Gets a tip for &quot;Run&quot; tool.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Undo'>Undo</a><span class='tooltiptext'>Undoes a change.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::undoAll'>undoAll</a><span class='tooltiptext'>Undoes all changes.
</span></h4><h1><a href='#::alited::tree'>alited::tree</a></h1><h2><a href='#::alited::tree-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::tree::AddItem'>AddItem</a><span class='tooltiptext'>Adds a new item to the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AddTags'>AddTags</a><span class='tooltiptext'>Creates tags for the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AddTagSel'>AddTagSel</a><span class='tooltiptext'>Adds tagSel tag to the unit tree's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AddToDirContents'>AddToDirContents</a><span class='tooltiptext'>Adds an item to a list of directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AdjustWidth'>AdjustWidth</a><span class='tooltiptext'>Fixes a problem with the tree scrollbar's width at resizing the panes. The problem occurs if Frame's width is less than Tree's + Scrollbar's, as then the scrollbar is squeezed. Thus the Tree's width should be adjusted. The restart of alited will fully repair this.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonMotion'>ButtonMotion</a><span class='tooltiptext'>Starts moving an item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonPress'>ButtonPress</a><span class='tooltiptext'>Handles a mouse clicking the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonRelease'>ButtonRelease</a><span class='tooltiptext'>Handles a mouse button releasing on the tree, at moving an item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ColorUnitsTree'>ColorUnitsTree</a><span class='tooltiptext'>Color units of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::Create'>Create</a><span class='tooltiptext'>Creates a tree of units/files, at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CreateFilesTree'>CreateFilesTree</a><span class='tooltiptext'>Creates a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CreateUnitsTree'>CreateUnitsTree</a><span class='tooltiptext'>Creates a unit tree for a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CurrentItem'>CurrentItem</a><span class='tooltiptext'>Gets ID of selected item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CurrentItemByLine'>CurrentItemByLine</a><span class='tooltiptext'>Gets item ID of unit tree for a current text position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::Delete'>Delete</a><span class='tooltiptext'>Removes recursively an item and its children from the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DelItem'>DelItem</a><span class='tooltiptext'>Removes an item from the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DestroyMoveWindow'>DestroyMoveWindow</a><span class='tooltiptext'>Destroys an item moving window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DirContents'>DirContents</a><span class='tooltiptext'>Reads a directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DropItems'>DropItems</a><span class='tooltiptext'>Drops (moves) selected items to a current position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ExpandContractTree'>ExpandContractTree</a><span class='tooltiptext'>Expands or contracts the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ExpandSelection'>ExpandSelection</a><span class='tooltiptext'>Expands the tree selection, counting the file tree expanded mode.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ForEach'>ForEach</a><span class='tooltiptext'>Scans all items of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetDirectoryContents'>GetDirectoryContents</a><span class='tooltiptext'>Gets a directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetTooltip'>GetTooltip</a><span class='tooltiptext'>Gets a tip for unit / file tree's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetTree'>GetTree</a><span class='tooltiptext'>Gets a tree or its branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::IgnoredDir'>IgnoredDir</a><span class='tooltiptext'>Checks if a directory is in the list of the ignored ones.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::MoveItem'>MoveItem</a><span class='tooltiptext'>Moves items of the tree (units or files)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::NewItemID'>NewItemID</a><span class='tooltiptext'>Gets a new ID for the tree item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::NewSelection'>NewSelection</a><span class='tooltiptext'>Selects a new item of the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::OpenFile'>OpenFile</a><span class='tooltiptext'>Opens file at clicking a file tree's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::PrepareDirectoryContents'>PrepareDirectoryContents</a><span class='tooltiptext'>Prepares reading a directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::RecreateTree'>RecreateTree</a><span class='tooltiptext'>Recreates the tree and restores its selections.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SaveCursorPos'>SaveCursorPos</a><span class='tooltiptext'>Saves current unit's cursor position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SeeFile'>SeeFile</a><span class='tooltiptext'>Sees file name in file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SeeSelection'>SeeSelection</a><span class='tooltiptext'>Sees (makes visible) a current selected item in the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SelectUnits'>SelectUnits</a><span class='tooltiptext'>Selects units at Ctrl/Shift clicking the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ShowPopupMenu'>ShowPopupMenu</a><span class='tooltiptext'>Creates and opens a popup menu at right clicking the tree.
</span></h4><h4><a href='alited.html#::alited::tree::SwitchTree'>SwitchTree</a></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::syOption'>syOption</a><span class='tooltiptext'>Gets -geometry option of dialogues.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::UnitTitle'>UnitTitle</a><span class='tooltiptext'>Gets a title of a unit (checking for empty string).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::UnitTooltip'>UnitTooltip</a><span class='tooltiptext'>Gets unit's tooltip.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::UpdateFileTree'>UpdateFileTree</a><span class='tooltiptext'>Updates the file tree (colors of files).
</span></h4><h1><a href='#::alited::unit'>alited::unit</a></h1><h2><a href='#::alited::unit-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::unit::Add'>Add</a><span class='tooltiptext'>Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::CorrectPos'>CorrectPos</a><span class='tooltiptext'>Corrects an insert position, counting the insertion point's indentation.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::Delete'>Delete</a><span class='tooltiptext'>Deletes a unit from a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::DropUnits'>DropUnits</a><span class='tooltiptext'>Moves unit(s) from one location in the unit tree to other.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::GetDeclaration'>GetDeclaration</a><span class='tooltiptext'>Gets a unit's declaration.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::GetHeader'>GetHeader</a><span class='tooltiptext'>Gets a header of unit: declaration + initial comments.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::GetUnits'>GetUnits</a><span class='tooltiptext'>Gets a unit structure from a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::InsertTemplate'>InsertTemplate</a><span class='tooltiptext'>Inserts a template into a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::IsLeafRegexp'>IsLeafRegexp</a><span class='tooltiptext'>Checks for using &quot;leaf's regexp&quot; setting.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::LeafRegexp'>LeafRegexp</a><span class='tooltiptext'>Gets &quot;leaf's regexp&quot; setting.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveL1L2'>MoveL1L2</a><span class='tooltiptext'>Moves a text lines to other location.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveUnit'>MoveUnit</a><span class='tooltiptext'>Moves a unit up/down the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveUnits'>MoveUnits</a><span class='tooltiptext'>Moves selected units up/down the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::RecreateUnits'>RecreateUnits</a><span class='tooltiptext'>Recreates the internal tree of units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::Run_unit_tpl'>Run_unit_tpl</a><span class='tooltiptext'>Runs Templates dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SearchByHeader'>SearchByHeader</a><span class='tooltiptext'>Gets tree item ID of a units by its header (declaration+initial comment).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SearchInBranch'>SearchInBranch</a><span class='tooltiptext'>Checks whether a unit is in a branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::Source_unit_tpl'>Source_unit_tpl</a><span class='tooltiptext'>Sources unit_tpl.tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SwitchUnits'>SwitchUnits</a><span class='tooltiptext'>Switches between last two active units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::TemplateData'>TemplateData</a><span class='tooltiptext'>Replaces the template wildcards with data of current text and unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::TemplateMap'>TemplateMap</a><span class='tooltiptext'>Maps a string using template wildcards.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::UnitHeaderMode'>UnitHeaderMode</a><span class='tooltiptext'>Gets modes for unit tree : do use RE for leaf headers and do not.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::UnitRegexp'>UnitRegexp</a><span class='tooltiptext'>Gets RE to check unit's beginning.
</span></h4><h1><a href='#::alited::unit_tpl'>alited::unit_tpl</a></h1><h2><a href='#::alited::unit_tpl-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::_create'>_create</a><span class='tooltiptext'>Creates &quot;Templates&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::_run'>_run</a><span class='tooltiptext'>Runs &quot;Templates&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Add'>Add</a><span class='tooltiptext'>Handles &quot;Add template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Cancel'>Cancel</a><span class='tooltiptext'>Handles &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Change'>Change</a><span class='tooltiptext'>Handles &quot;Change template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::ClearCbx'>ClearCbx</a><span class='tooltiptext'>Helper to clear the combobox's selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Delete'>Delete</a><span class='tooltiptext'>Handles &quot;Delete template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Focus'>Focus</a><span class='tooltiptext'>Sets the focus on the template list's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::GetKeyList'>GetKeyList</a><span class='tooltiptext'>Creates a key list for &quot;Keys&quot; combobox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Help'>Help</a><span class='tooltiptext'>Handles &quot;Help&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::HelpMe'>HelpMe</a><span class='tooltiptext'>'Help' for start.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Import'>Import</a><span class='tooltiptext'>Handles &quot;Import templates&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::InText'>InText</a><span class='tooltiptext'>Goes into the template's text and sets the cursor on it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar of templates dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Ok'>Ok</a><span class='tooltiptext'>Handles &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Pos'>Pos</a><span class='tooltiptext'>Returns a cursor position in the template's text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::ProcMessage'>ProcMessage</a><span class='tooltiptext'>Handles clicking on message label.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::ReadIni'>ReadIni</a><span class='tooltiptext'>Gets templates' data from al(TPL,list) saved in alited.ini.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::RegisterKeys'>RegisterKeys</a><span class='tooltiptext'>Registers key bindings of templates, to save them to alited.ini afterwards.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::SaveIni'>SaveIni</a><span class='tooltiptext'>Puts templates' data to al(TPL,list) to save in alited.ini.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Select'>Select</a><span class='tooltiptext'>Selects an item of the template list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Selected'>Selected</a><span class='tooltiptext'>Gets ID or index of currently selected item of the template list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::SyntaxText'>SyntaxText</a><span class='tooltiptext'>Prepares syntax highlighting of template's text
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Text'>Text</a><span class='tooltiptext'>Returns the contents of the template's text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::UpdateTree'>UpdateTree</a><span class='tooltiptext'>Updates the template list.
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
