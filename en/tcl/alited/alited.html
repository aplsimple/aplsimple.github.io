<!DOCTYPE html><html><head><meta charset="utf-8"/>
<link rel="stylesheet" href="../../../zoo/sh/styles/aplsimple.css">
<title>::alited reference</title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:Consolas,"Courier New",monospace;font-size:100%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto 10px;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:9.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:10.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:0;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}

/* Ruff default CSS */

body {
  /*max-width: 70em;*/
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft { font-size: x-small; font-family: Arial, sans-serif;
  text-align: left;
  border-top: 1px solid #0B3467;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #0B3467;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #0B3467;
 color: #0B3467;
}

p.linkline {
  text-align: right;
  font-size: smaller;
  /*    margin-top: -1em; */
  margin-bottom: 0;
}

.tinylink {
  font-size: x-small;
  font-variant: normal;
  font-family: Arial, sans-serif;
  float: right;
  padding:2px;
}

h1 .tinylink a {
  color: white;
}

#bd {
font-family: Arial, sans-serif;
/*font-size: 108%;*/
}

div.navbox {
  /* margin-top: 1em; */
  background-color: #0B3467;
  color: white;
  padding: 3px 4px 2px 4px;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

div.navbox:hover {
  overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
  font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #0B3467;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
  position: relative;
  /* display: inline-block; */
}

.tooltip .tooltiptext {
  width: 100%;
  font-weight: bold;
  background-color: white;
  color: #0B3467;
  text-align: left;
  border: 1px solid #0B3467;
  /* border-radius: 4px; */
  position: absolute;
  z-index: 1;
  margin-left: 4px;
  padding: 2px 3px;
  visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
  visibility: visible;
}

span.ns_scope {
  color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
  background-color: #0B3467;
  color: #ffffff;
  padding-left: 0.2em;
  font-family: "Times New Roman", serif;
}
h2.ruff {
  font-variant: small-caps;
  color: #0B3467;
  font-weight: bold;
  font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
  color: #0B3467;
}
h5.ruff {
  font-style: italic;
  font-weight: normal;
}
h6.ruff {
  font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
  border-bottom: thin solid #0B3467;
  color: #0B3467;
  margin-bottom: 0.2em;
}

pre {
  background-color: #f9f9f9;
  margin-top: 1em;
  margin-left: 1em;
  padding: 5px;
  font-family: Consolas, "Courier New", monospace;
  /* width: max-content; --- to leave footsteps */ overflow: auto;
  line-height: 1.2em;
}

.ruff_dyn_src {
  display: none; /* Displayed via JS */
}

.ruff_synopsis {
  border: thin solid #cccccc;
  background: #f9f9f9;
  font-family: Consolas, "Courier New", monospace;
  padding: 5px;
  margin: 0em 2em 1em;
}
.ruff_const, .ruff_cmd, ruff_defitem {
  font-weight: bold;
  font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
  font-style: italic;
  font-family: Consolas, "Courier New", monospace;
}

.ruff_source_link {
  font-size: smaller;
}

.ruff_index {
  font-size: small;
  color: grey;
  line-height: 1;
}

.ruff_index ul li {
  list-style-type: none;
}

.ruff_index ul li a {
  text-decoration: none;
}
</style>
<script>function toggleSource( id )
{
  /* Copied from Rails */
  var elem
  var link

  if( document.getElementById )
  {
      elem = document.getElementById( id )
      link = document.getElementById( "l_" + id )
  }
  else if ( document.all )
  {
      elem = eval( "document.all." + id )
      link = eval( "document.all.l_" + id )
  }
  else
      return false;

  if( elem.style.display == "block" )
  {
      elem.style.display = "none"
      link.innerHTML = "Show source"
  }
  else
  {
      elem.style.display = "block"
      link.innerHTML = "Hide source"
  }
}
</script></head>
<meta name="author" content="aplsimple">
<meta name="description" content="aplsimple's home page">
<meta name="keywords" content="aplsimple,home">
<link rel="stylesheet" href="../../../en/zoo/style.css">
<style>
table{
background-color: #f9f9f9;
margin: 0%;
margin-bottom: 2%;
padding: 0%;
box-shadow: none;
filter: none;
}
pre{
margin: 0%;
margin-bottom: 2%;
padding: 0%;
}
</style>
<link rel="icon" type="image/jpg" href="../../../zoo/favicon.jpg">
<body>
<div id="wrapper">
<div name="divd1" ALIGN="CENTER"> <FONT SIZE=5em color=#b01c20><B>
<noscript>THIS PAGE IS NOT WORKING WITHOUT JAVASCRIPT!
<BR>
<BR>PLEASE, SWITCH ON JAVASCRIPT IN SETTINGS OF YOUR BROWSER AND RELOAD THE PAGE.
</noscript>
</B></FONT></div>
<div id='doc3' class='yui-t2'>
<script src="../../../zoo/funcs.js"></script>
<script src="../../../en/zoo/this.js"></script>
<section id=sec2>
<div id='hd' class='banner'>
<a name='alited.html'>::alited reference</a>
</div>
<div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::alited'></a>::alited<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>The <em>alited</em> stands for &quot;a lite editor&quot;.</p>
<p class='ruff'>The main features of <em>alited</em> are:</p>
<ul class='ruff'>
<li>structured code</li>
<li>easy access to the code</li>
<li>born for <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> development only</li>
</ul>
<p class='ruff'>It satisfies most requirements of <a href="https://wiki.tcl-lang.org/Tcl+Editors" >Tcl Editors</a>, adding its own features.</p>
<p class='ruff'>Edited by <em>alited</em> are <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> files. The C/C++ code is another target of <em>alited</em>, still for <em><a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> development only</em> all the same.</p>
<p class='ruff'>The <em>alited</em> facilitates the development and the maintenance of <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code, particularly because of the <a href="https://github.com/aplsimple/alited/releases/download/2.Units_alited-1.0.5/2.Units_alited-1.0.5.mp4" >unit tree</a> being a sort of documentation.</p>
<p class='ruff'>The <em>alited</em> is suspected of being very good with large <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> projects, i.e. when, in one session, you deal with 30-40-50... <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> scripts, to say nothing of others.</p>
<p class='ruff'>It's quick at starting.</p>
<p class='ruff'>It's quick at switching projects.</p>
<p class='ruff'>It's quick at organizing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at navigating <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at searching <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at writing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at testing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at saving <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at maintaining <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'><em>Briefly, alited is totally quick while being still in its embryonic days a pure <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> application.</em></p>
<br><h2 class='ruff'><a name='::alited-Links'></a>Links<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<ul class='ruff'>
<li><a href="https://aplsimple.github.io/en/tcl/alited" >Description</a></li>
<li><a href="https://aplsimple.github.io/en/tcl/alited/alited.html" >Reference</a></li>
<li><a href="https://chiselapp.com/user/aplsimple/repository/alited/download" >Download</a></li>
</ul>
<p class='ruff'>For a quick acquaintance of <em>alited</em>, a few of demo videos are available:</p>
<ul class='ruff'>
<li><a href="https://github.com/aplsimple/alited/releases/download/1.Start_alited-1.0.4/1.Start_alited-1.0.4.mp4" >1. First start</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/2.Units_alited-1.0.5/2.Units_alited-1.0.5.mp4" >2. Units</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/3.Projects_alited-1.0.4/3.Projects_alited-1.0.4.mp4" >3. Projects</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/4.Find_alited-1.0.4/4.Find_alited-1.0.4.mp4" >4. Find and replace</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/5.Tools_alited-1.0.4/5.Tools_alited-1.0.4.mp4" >5. Tools</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/6.Themes_alited-1.0.5/6.Themes_alited-1.0.5.mp4" >6. Themes</a></li>
</ul>
<br><h2 class='ruff'><a name='::alited-Inevitable blah-blah'></a>Inevitable blah-blah<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<p class='ruff'>The <em>alited</em> project started 1 March 2021 and as such isn't complete, perfect etc. And in no way and in no time it will be so.</p>
<p class='ruff'>In fact, <em>alited</em> has been developed by its own means since v0.2. Inspite of permanent overheads of this way and a raw state of <em>alited</em>, it turned out to be amazingly productive, more and more in the course of time.</p>
<p class='ruff'>Below is a screenshot of <em>alited</em>, just to glance at it:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-en.png" class="media" alt=""></p>
<p class='ruff'>... and its localized and themed variant:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-ru.png" class="media" alt=""></p>
<br><h2 class='ruff'><a name='::alited-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::Exit'>Exit</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes alited application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Exit</span> <span class='ruff_arg'>?w? ?res? ?ask?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>not used; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>result of running of main window; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>ask</code></code></td><td class='ruff_defitem'>if &quot;yes&quot;, requests the confirmation of the exit; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_1' href="javascript:toggleSource('1')">Show source</a></p>
<div id='1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::Exit {{w {}} {res 0} {ask yes}} {

  <i><font color=#646464># Closes alited application.</font></i>
  <i><font color=#646464>#   w - not used</font></i>
  <i><font color=#646464>#   res - result of running of main window</font></i>
  <i><font color=#646464>#   ask - if &quot;yes&quot;, requests the confirmation of the exit</font></i>

  <b><font color=#923B23>variable</font></b> al
  <b><font color=#923B23>variable</font></b> obPav
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$ask</font> || !<font color=#4A181B>$al(INI</font>,confirmexit) ||  [msg yesno ques [msgcat::mc {Quit alited?}]]} {
    <b><font color=#923B23>if</font></b> {[alited::file::AllSaved]} {
      <font color=#4A181B>$obPav</font> res <font color=#4A181B>$al(WIN)</font> <font color=#4A181B>$res</font>
      alited::find::_close
      alited::tool::_close
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::FgFgBold'>FgFgBold</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets foregrounds of normal and colored text of current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FgFgBold</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_2' href="javascript:toggleSource('2')">Show source</a></p>
<div id='2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::FgFgBold {} {

  <i><font color=#646464># Gets foregrounds of normal and colored text of current color scheme.</font></i>

  <b><font color=#923B23>variable</font></b> obPav
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obPav</font> csGet] - fg - - - - - - - fgbold
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$fg</font> <font color=#4A181B>$fgbold</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads and shows a help file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>win ?suff?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>suffix for a help file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_3' href="javascript:toggleSource('3')">Show source</a></p>
<div id='3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::Help {win {suff {}}} {

  <i><font color=#646464># Reads and shows a help file.</font></i>
  <i><font color=#646464>#   win - currently active window</font></i>
  <i><font color=#646464>#   suff - suffix for a help file's name</font></i>

  <b><font color=#923B23>variable</font></b> DATADIR
  <b><font color=#923B23>variable</font></b> al
  <b><font color=#923B23>variable</font></b> obDlg
  <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> [<b><font color=#923B23>split</font></b> [<b><font color=#923B23>dict</font></b> get [<b><font color=#923B23>info</font></b> frame -1] proc] :] end-2]
  <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>file</font></b> join [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$DATADIR</font> help] <font color=#4A181B>$fname</font>$suff.txt]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fname</font>]} {
    <b><font color=#923B23>set</font></b> msg [::apave::readTextFile <font color=#4A181B>$fname</font>]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> msg <font color=#035103>&quot;Here should be a text of\n\&quot;<font color=#4A181B>$</font>fname\&quot;&quot;</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$alited::DEBUG</font>} {
    <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;help file: <font color=#4A181B>$</font>fname&quot;</font>
  }
  msg ok {} <font color=#4A181B>$msg</font> <font color=#463e11>-title</font> Help <font color=#463e11>-text</font> 1 <font color=#463e11>-geometry</font> root=<font color=#4A181B>$win</font> <font color=#463e11>-scroll</font> no <font color=#463e11>-noesc</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpAbout'>HelpAbout</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows &quot;About...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpAbout</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_4' href="javascript:toggleSource('4')">Show source</a></p>
<div id='4' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::HelpAbout {} {

  <i><font color=#646464># Shows &quot;About...&quot; dialogue.</font></i>

  <b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::SRCDIR</font> about.tcl]
  about::About
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpAlited'>HelpAlited</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a main help of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpAlited</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_5' href="javascript:toggleSource('5')">Show source</a></p>
<div id='5' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::HelpAlited {} {

  <i><font color=#646464># Shows a main help of alited.</font></i>

  ::apave::openDoc [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::DIR</font> doc index.html]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode? ?lab? ?first?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>1: simple; 2: bold; 3: bold colored; 4: bold colored bell; 5: static; <i>optional, default</i> <code>1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>lab</code></code></td><td class='ruff_defitem'>label's name to display the message in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>first</code></code></td><td class='ruff_defitem'>serves to recursively erase the message; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_6' href="javascript:toggleSource('6')">Show source</a></p>
<div id='6' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::Message {msg {mode 1} {lab {}} {first yes}} {

  <i><font color=#646464># Displays a message in statusbar.</font></i>
  <i><font color=#646464>#   msg - message</font></i>
  <i><font color=#646464>#   mode - 1: simple; 2: bold; 3: bold colored; 4: bold colored bell; 5: static</font></i>
  <i><font color=#646464>#   lab - label's name to display the message in</font></i>
  <i><font color=#646464>#   first - serves to recursively erase the message</font></i>

  <b><font color=#923B23>variable</font></b> al
  <b><font color=#923B23>variable</font></b> obPav
  <b><font color=#923B23>lassign</font></b> [FgFgBold] fg fgbold
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$lab</font> eq {}} {<b><font color=#923B23>set</font></b> lab [<font color=#4A181B>$obPav</font> Labstat3]}
  <b><font color=#923B23>set</font></b> font [[<font color=#4A181B>$obPav</font> Labstat2] cget <font color=#463e11>-font</font>]
  <b><font color=#923B23>set</font></b> fontB [<b><font color=#923B23>list</font></b> {*}<font color=#4A181B>$font</font> <font color=#463e11>-weight</font> bold]
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> range [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \n { } \r {}] <font color=#4A181B>$msg</font>] 0 100]
  <b><font color=#923B23>set</font></b> slen [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$msg</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<font color=#4A181B>$lab</font> configure <font color=#463e11>-text</font> <font color=#4A181B>$msg</font>}] || !<font color=#4A181B>$slen</font>} <b><font color=#A106A1>return</font></b>
  <font color=#4A181B>$lab</font> configure <font color=#463e11>-font</font> <font color=#4A181B>$font</font> <font color=#463e11>-foreground</font> <font color=#4A181B>$fg</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> in {2 3 4 5}} {
    <font color=#4A181B>$lab</font> configure <font color=#463e11>-font</font> <font color=#4A181B>$fontB</font>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> in {3 4 5}} {
      <font color=#4A181B>$lab</font> configure <font color=#463e11>-foreground</font> <font color=#4A181B>$fgbold</font>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> eq {4} && <font color=#4A181B>$first</font>} <b><font color=#7A040E>bell</font></b>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> eq {5}} {
    <b><font color=#923B23>update</font></b>
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$first</font>} {
    <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>expr</font></b> {200*<font color=#4A181B>$slen</font>}]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$msg</font> 0 end-1]
    <b><font color=#923B23>set</font></b> msec 10
  }
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>after</font></b> cancel <font color=#4A181B>$al(afterID)</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$msec</font>&gt;0} {
    <b><font color=#923B23>set</font></b> al(afterID) [<b><font color=#923B23>after</font></b> <font color=#4A181B>$msec</font> [<b><font color=#923B23>list</font></b> ::alited::Message <font color=#4A181B>$msg</font> <font color=#4A181B>$mode</font> <font color=#4A181B>$lab</font> no]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Message2'>Message2</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of secondary dialogue (<code>$obDl2</code>).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message2</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::Message" title="Message" class='ruff_cmd'>Message</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_7' href="javascript:toggleSource('7')">Show source</a></p>
<div id='7' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::Message2 {msg {mode 1}} {

  <i><font color=#646464># Displays a message in statusbar of secondary dialogue ($obDl2).</font></i>
  <i><font color=#646464>#   msg - message</font></i>
  <i><font color=#646464>#   mode - mode of Message</font></i>
  <i><font color=#646464># See also: Message</font></i>

  <b><font color=#923B23>variable</font></b> obDl2
  Message <font color=#4A181B>$msg</font> <font color=#4A181B>$mode</font> [<font color=#4A181B>$obDl2</font> LabMess]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::msg'>msg</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message and asks for an answer.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>msg</span> <span class='ruff_arg'>type icon message ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>ok/yesno/okcancel/yesnocancel</td></tr>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>info/warn/err</td></tr>
<tr><td class='ruff_defitem'><code><code>message</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>default button (for not &quot;ok&quot; dialogs); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments (-title and font's option)</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>For &quot;ok&quot; dialogue, 'defb' is omitted (being a part of args).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_8' href="javascript:toggleSource('8')">Show source</a></p>
<div id='8' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::msg {type icon message {defb {}} args} {

  <i><font color=#646464># Shows a message and asks for an answer.</font></i>
  <i><font color=#646464>#   type - ok/yesno/okcancel/yesnocancel</font></i>
  <i><font color=#646464>#   icon - info/warn/err</font></i>
  <i><font color=#646464>#   message - the message</font></i>
  <i><font color=#646464>#   defb - default button (for not &quot;ok&quot; dialogs)</font></i>
  <i><font color=#646464>#   args - additional arguments (-title and font's option)</font></i>
  <i><font color=#646464># For &quot;ok&quot; dialogue, 'defb' is omitted (being a part of args).</font></i>

  <b><font color=#923B23>variable</font></b> obDlg
  <b><font color=#923B23>variable</font></b> al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$type</font> eq {ok}} {
    <b><font color=#923B23>set</font></b> args [<b><font color=#923B23>linsert</font></b> <font color=#4A181B>$args</font> 0 <font color=#4A181B>$defb</font>]
    <b><font color=#923B23>set</font></b> defb {}
  }
  <b><font color=#923B23>lassign</font></b> [::apave::extractOptions args <font color=#463e11>-title</font> {} <font color=#463e11>-noesc</font> 0] title noesc
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$title</font> eq {}} {
    <b><font color=#923B23>switch</font></b> <font color=#4A181B>$icon</font> {
      warn {<b><font color=#923B23>set</font></b> title <font color=#4A181B>$al(MC</font>,warning)}
      err {<b><font color=#923B23>set</font></b> title [msgcat::mc Error]}
      ques {<b><font color=#923B23>set</font></b> title [msgcat::mc Question]}
      <b><font color=#923B23>default</font></b> {<b><font color=#923B23>set</font></b> title <font color=#4A181B>$al(MC</font>,info)}
   }
  }
  <i><font color=#646464>#TODO: if {!$noesc} {set message [string map [list \\ \\\\] $message]}</font></i>
  <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obDlg</font> <font color=#4A181B>$type</font> <font color=#4A181B>$icon</font> <font color=#4A181B>$title</font> <font color=#035103>&quot;\n<font color=#4A181B>$</font>message\n&quot;</font> {*}<font color=#4A181B>$defb</font> {*}<font color=#4A181B>$args</font>]
  <b><font color=#923B23>after</font></b> idle {<b><font color=#923B23>catch</font></b> alited::main::UpdateGutter}
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$res</font> 0]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::msgcatMessages'>msgcatMessages</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets common localized messages.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>msgcatMessages</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_9' href="javascript:toggleSource('9')">Show source</a></p>
<div id='9' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::msgcatMessages {} {

  <i><font color=#646464># Sets common localized messages.</font></i>

  <b><font color=#923B23>variable</font></b> al
  <i><font color=#646464>## _ common _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,nofile)      [msgcat::mc {No name}]
  <b><font color=#923B23>set</font></b> al(MC,warning)     [msgcat::mc Warning]
  <b><font color=#923B23>set</font></b> al(MC,info)        [msgcat::mc Information]
  <b><font color=#923B23>set</font></b> al(MC,wait)        [msgcat::mc {Wait a little ...}]
  <b><font color=#923B23>set</font></b> al(MC,help)        [msgcat::mc Help]
  <b><font color=#923B23>set</font></b> al(MC,select)      [msgcat::mc Select]  ;<i><font color=#646464># verb</font></i>
  <b><font color=#923B23>set</font></b> al(MC,notsaved)    [msgcat::mc <font color=#035103>&quot;\&quot;%f\&quot; wasn't saved.\n\nSave it?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,saving)      [msgcat::mc Saving]
  <b><font color=#923B23>set</font></b> al(MC,files)       [msgcat::mc Files]
  <b><font color=#923B23>set</font></b> al(MC,moving)      [msgcat::mc Moving]
  <b><font color=#923B23>set</font></b> al(MC,run)         [msgcat::mc Run]
  <b><font color=#923B23>set</font></b> al(MC,new)         [msgcat::mc New]
  <b><font color=#923B23>set</font></b> al(MC,open...)     [msgcat::mc Open...]
  <b><font color=#923B23>set</font></b> al(MC,close)       [msgcat::mc Close]
  <b><font color=#923B23>set</font></b> al(MC,save)        [msgcat::mc Save]
  <b><font color=#923B23>set</font></b> al(MC,saveas...)   [msgcat::mc {Save as...}]
  <b><font color=#923B23>set</font></b> al(MC,saveall)     [msgcat::mc {Save All}]
  <b><font color=#923B23>set</font></b> al(MC,clall)       [msgcat::mc {... All}]
  <b><font color=#923B23>set</font></b> al(MC,clallleft)   [msgcat::mc {... All at Left}]
  <b><font color=#923B23>set</font></b> al(MC,clallright)  [msgcat::mc {... All at Right}]
  <b><font color=#923B23>set</font></b> al(MC,pref)        [msgcat::mc Preferences]
  <b><font color=#923B23>set</font></b> al(MC,pref...)     [msgcat::mc Preferences...]
  <b><font color=#923B23>set</font></b> al(MC,notrecomm)   [msgcat::mc <font color=#035103>&quot;Not recommended for projects\nwith large files (&gt;2000 LOC)!&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,restart)     [msgcat::mc Restart]
  <b><font color=#923B23>set</font></b> al(MC,quit)        [msgcat::mc Quit]
  <b><font color=#923B23>set</font></b> al(MC,indent)      [msgcat::mc Indent]
  <b><font color=#923B23>set</font></b> al(MC,unindent)    [msgcat::mc Unindent]
  <b><font color=#923B23>set</font></b> al(MC,comment)     [msgcat::mc Comment]
  <b><font color=#923B23>set</font></b> al(MC,uncomment)   [msgcat::mc Uncomment]
  <b><font color=#923B23>set</font></b> al(MC,findreplace) [msgcat::mc {Find / Replace}]
  <b><font color=#923B23>set</font></b> al(MC,findnext)    [msgcat::mc {Find Next}]
  <b><font color=#923B23>set</font></b> al(MC,alloffile)   [msgcat::mc <font color=#035103>&quot;All of \&quot;%f\&quot;&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,lines)       [msgcat::mc Lines]
  <b><font color=#923B23>set</font></b> al(MC,moveupU)     [msgcat::mc {Move Unit Up}]
  <b><font color=#923B23>set</font></b> al(MC,movedownU)   [msgcat::mc {Move Unit Down}]
  <b><font color=#923B23>set</font></b> al(MC,moveupF)     [msgcat::mc {Move File Up}]
  <b><font color=#923B23>set</font></b> al(MC,movedownF)   [msgcat::mc {Move File Down}]
  <b><font color=#923B23>set</font></b> al(MC,FavLists)    [msgcat::mc {Lists of Favorites}]
  <b><font color=#923B23>set</font></b> al(MC,swfiles)     [msgcat::mc {Switch to Unit Tree}]
  <b><font color=#923B23>set</font></b> al(MC,swunits)     [msgcat::mc {Switch to File Tree}]
  <b><font color=#923B23>set</font></b> al(MC,filesadd)    [msgcat::mc {Create File}]
  <b><font color=#923B23>set</font></b> al(MC,filesadd2)   [msgcat::mc <font color=#035103>&quot;Enter a name of file to create in:\n%d\n\nIf it is a directory, check 'Directory' box.\nThe directory can include subdirectories (a/b/c).&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,filesdel)    [msgcat::mc {Delete File}]
  <b><font color=#923B23>set</font></b> al(MC,fileexist)   [msgcat::mc <font color=#035103>&quot;File %f already exists in\n%d&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,unitsadd)    [msgcat::mc {Add Unit by Template}]
  <b><font color=#923B23>set</font></b> al(MC,unitsdel)    [msgcat::mc {Remove Unit(s)}]
  <b><font color=#923B23>set</font></b> al(MC,favoradd)    [msgcat::mc {Add to Favorites}]
  <b><font color=#923B23>set</font></b> al(MC,favordel)    [msgcat::mc {Remove}]
  <b><font color=#923B23>set</font></b> al(MC,favordelall) [msgcat::mc {Remove All}]
  <b><font color=#923B23>set</font></b> al(MC,updtree)     [msgcat::mc {Update Tree}]
  <b><font color=#923B23>set</font></b> al(MC,movefile)    [msgcat::mc <font color=#035103>&quot;Move %f\nto\n%d\n?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,introln1)    [msgcat::mc {First Lines}]
  <b><font color=#923B23>set</font></b> al(MC,introln2)    [msgcat::mc {Can't touch the first %n lines.}]
  <b><font color=#923B23>set</font></b> al(MC,favorites)   [msgcat::mc Favorites]
  <b><font color=#923B23>set</font></b> al(MC,lastvisit)   [msgcat::mc {Last Visited}]
  <b><font color=#923B23>set</font></b> al(MC,addfavor)    [msgcat::mc <font color=#035103>&quot;Add \&quot;%n\&quot; of %f\nto Favorites?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,addexist)    [msgcat::mc <font color=#035103>&quot;Item \&quot;%n\&quot; of %f\nis already in Favorites.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,delfavor)    [msgcat::mc <font color=#035103>&quot;Remove \&quot;%n\&quot; of %f\nfrom Favorites?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,notfavor)    [msgcat::mc <font color=#035103>&quot;\&quot;%n\&quot; unit of %f is not in the list.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,selfavor)    [msgcat::mc <font color=#035103>&quot;Click \&quot;%t\&quot;&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,copydecl)    [msgcat::mc {Copy Declaration}]
  <b><font color=#923B23>set</font></b> al(MC,openofdir)   [msgcat::mc <font color=#035103>&quot;Open All Tcl Files of \&quot;%n\&quot;&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,delitem)     [msgcat::mc <font color=#035103>&quot;Remove \&quot;%n\&quot;\nfrom \&quot;%f\&quot;?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,delfile)     [msgcat::mc <font color=#035103>&quot;Delete \&quot;%f\&quot;?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,nodelopen)   [msgcat::mc {An open file can not be deleted.}]
  <b><font color=#923B23>set</font></b> al(MC,modiffile)   [msgcat::mc <font color=#035103>&quot;File \&quot;%f\&quot; was modified by some application.\n\nCancel your edition and reload the file?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,wasdelfile)  [msgcat::mc <font color=#035103>&quot;File \&quot;%f\&quot; was deleted by some application.\n\nSave the file?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,Row:)        [msgcat::mc {Row: }]
  <b><font color=#923B23>set</font></b> al(MC,Col:)        [msgcat::mc { Col: }]
  <b><font color=#923B23>set</font></b> al(MC,Item)        [msgcat::mc Item]
  <b><font color=#923B23>set</font></b> al(MC,errmove)     [msgcat::mc <font color=#035103>&quot;\&quot;%n\&quot; contains unbalanced \{\}: %1!=%2&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,beforerun)   [msgcat::mc {Commands before <font color=#035103>&quot;Run&quot;</font>}]
  <b><font color=#923B23>set</font></b> al(MC,locale)      [msgcat::mc <font color=#035103>&quot;This is a country code: ru, ua, cz...\nIn alited, \&quot;en\&quot; means American English.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,noask)       [msgcat::mc {Don't ask anymore}]
  <b><font color=#923B23>set</font></b> al(MC,hue)         [msgcat::mc {Makes colors darker .. lighter}]
  <b><font color=#923B23>set</font></b> al(MC,maxbak)      [msgcat::mc {Maximum of backup copies per a file}]

  <i><font color=#646464>## _ templates _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,tpl)         [msgcat::mc Templates]
  <b><font color=#923B23>set</font></b> al(MC,tplsel)      [msgcat::mc {Click a template}]
  <b><font color=#923B23>set</font></b> al(MC,tplnew)      [msgcat::mc {The template #%n added}]
  <b><font color=#923B23>set</font></b> al(MC,tplupd)      [msgcat::mc {The template #%n updated}]
  <b><font color=#923B23>set</font></b> al(MC,tplrem)      [msgcat::mc {The template #%n removed}]
  <b><font color=#923B23>set</font></b> al(MC,tplent1)     [msgcat::mc {Enter a name of the template}]
  <b><font color=#923B23>set</font></b> al(MC,tplent2)     [msgcat::mc {Enter a text of the template}]
  <b><font color=#923B23>set</font></b> al(MC,tplexists)   [msgcat::mc {A template with the attribute(s) already exists.}]
  <b><font color=#923B23>set</font></b> al(MC,tpldelq)     [msgcat::mc {Delete a template #%n ?}]

  <i><font color=#646464>## _ projects _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,projects)    [msgcat::mc Projects]
  <b><font color=#923B23>set</font></b> al(MC,prjgoing)    [msgcat::mc {You are going to %n!}]
  <b><font color=#923B23>set</font></b> al(MC,prjadd)      [msgcat::mc {Add a project}]
  <b><font color=#923B23>set</font></b> al(MC,prjchg)      [msgcat::mc {Change a project}]
  <b><font color=#923B23>set</font></b> al(MC,prjdel)      [msgcat::mc {Delete a project}]
  <b><font color=#923B23>set</font></b> al(MC,prjcantdel)  [msgcat::mc {Don't delete the current project!}]
  <b><font color=#923B23>set</font></b> al(MC,prjnew)      [msgcat::mc <font color=#035103>&quot;The project \&quot;%n\&quot; added&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,prjupd)      [msgcat::mc <font color=#035103>&quot;The project \&quot;%n\&quot; updated&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,prjrem)      [msgcat::mc <font color=#035103>&quot;The project \&quot;%n\&quot; removed&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,prjOptions)  [msgcat::mc Options]
  <b><font color=#923B23>set</font></b> al(MC,prjName)     [msgcat::mc {Project name:}]
  <b><font color=#923B23>set</font></b> al(MC,prjsavfl)    [msgcat::mc <font color=#035103>&quot;You can\n  - add the current one to\n  - substitute with the current one\n  - delete\n  - not change\nthe file list of the project.\n&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,prjaddfl)    [msgcat::mc Add]
  <b><font color=#923B23>set</font></b> al(MC,prjsubstfl)  [msgcat::mc Substitute]
  <b><font color=#923B23>set</font></b> al(MC,prjdelfl)    [msgcat::mc Delete]
  <b><font color=#923B23>set</font></b> al(MC,prjnochfl)   [msgcat::mc {Don't change}]
  <b><font color=#923B23>set</font></b> al(MC,prjsel)      [msgcat::mc {Click a project}]
  <b><font color=#923B23>set</font></b> al(MC,prjdelq)     [msgcat::mc <font color=#035103>&quot;Delete a project \&quot;%n\&quot; ?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,prjexists)   [msgcat::mc <font color=#035103>&quot;A project \&quot;%n\&quot; already exists.&quot;</font>]

  <i><font color=#646464>## _ favorites _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,favsel)      [msgcat::mc {Click a list of favorites}]
  <b><font color=#923B23>set</font></b> al(MC,favnew)      [msgcat::mc {The list #%n added}]
  <b><font color=#923B23>set</font></b> al(MC,favupd)      [msgcat::mc {The list #%n updated}]
  <b><font color=#923B23>set</font></b> al(MC,favrem)      [msgcat::mc {The list #%n removed}]
  <b><font color=#923B23>set</font></b> al(MC,favent1)     [msgcat::mc {Enter a name of the list}]
  <b><font color=#923B23>set</font></b> al(MC,favent3)     [msgcat::mc {The current list is empty!}]
  <b><font color=#923B23>set</font></b> al(MC,favexists)   [msgcat::mc {This list already exists}]
  <b><font color=#923B23>set</font></b> al(MC,faverrsav)   [msgcat::mc <font color=#035103>&quot;This list not saved to\n\&quot;%f\&quot;.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,favdelq)     [msgcat::mc {Delete a favorites' list #%n ?}]

  <i><font color=#646464>## _ find-replace dialogue _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,frMatch) [msgcat::mc {Match: }]
  <b><font color=#923B23>set</font></b> al(MC,frWord)  [msgcat::mc {Match whole word only}]
  <b><font color=#923B23>set</font></b> al(MC,frExact) [msgcat::mc {Exact}]
  <b><font color=#923B23>set</font></b> al(MC,frCase)  [msgcat::mc {Match case}]
  <b><font color=#923B23>set</font></b> al(MC,frres1)  [msgcat::mc <font color=#035103>&quot;Found %n matches for \&quot;%s\&quot;.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,frres2)  [msgcat::mc <font color=#035103>&quot;Made %n replacements of \&quot;%s\&quot; with \&quot;%r\&quot; in \&quot;%f\&quot;.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,frres3)  [msgcat::mc <font color=#035103>&quot;Made %n replacements of \&quot;%s\&quot; with \&quot;%r\&quot; in all of session.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,frdoit1) [msgcat::mc <font color=#035103>&quot;Replace all of \&quot;%s\&quot;\n\nwith \&quot;%r\&quot;\n\nin \&quot;%f\&quot; ?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,frdoit2) [msgcat::mc <font color=#035103>&quot;Replace all of \&quot;%s\&quot;\n\nwith \&quot;%r\&quot;\n\nin all texts?&quot;</font>]

  <i><font color=#646464>## _ file & directory _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,errcopy)     [msgcat::mc <font color=#035103>&quot;Can't backup \&quot;%f\&quot; to\n\&quot;%d\&quot;!\n\nDelete it anyway?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,removed)     [msgcat::mc <font color=#035103>&quot;\&quot;%f\&quot; removed to \&quot;%d\&quot;&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,nottoopen)   [msgcat::mc <font color=#035103>&quot;The file \&quot;%f\&quot; seems to be not of types\n%s.\n\nStill do you want to open it?&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,renamefile)  [msgcat::mc {Rename File}]

  <i><font color=#646464>## _ checking ini directory _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,chini1)      [msgcat::mc {Choosing Directory for Settings}]
  <b><font color=#923B23>set</font></b> al(MC,chini2)      [msgcat::mc <font color=#035103>&quot;\n The \&quot;alited\&quot; needs a configuration directory to store its settings.\n You can pass its name to alited as an argument.\n\n The default configuration directory is \&quot;%d\&quot;.\n It's preferable as used to run \&quot;alited\&quot; without arguments.\n&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,chini3)      [msgcat::mc {Choose a directory}]

  <b><font color=#923B23>set</font></b> al(MC,notes)       [msgcat::mc <font color=#035103>&quot;Sort of diary.\nList of TODOs etc.&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,checktcl)    [msgcat::mc {Check of Tcl}]
  <b><font color=#923B23>set</font></b> al(MC,colorpicker) [msgcat::mc {Color Picker}]
  <b><font color=#923B23>set</font></b> al(MC,datepicker)  [msgcat::mc {Date Picker}]
  <b><font color=#923B23>set</font></b> al(checkroot)      [msgcat::mc {Checking %d. Wait a little...}]
  <b><font color=#923B23>set</font></b> al(badroot)        [msgcat::mc {Too big directory for a project: %n files or more.}]
  <b><font color=#923B23>set</font></b> al(makeroot)       [msgcat::mc <font color=#035103>&quot;Directory \&quot;%d\&quot;\ndoesn't exist.\n\nCreate it?&quot;</font>]

  <i><font color=#646464>## _ icons of toolbar _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,icofile)     [msgcat::mc <font color=#035103>&quot;Create a file\nCtrl+N&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icoOpenFile) [msgcat::mc <font color=#035103>&quot;Open a file\nCtrl+O&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icoSaveFile) [msgcat::mc <font color=#035103>&quot;Save the file\nF2&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icosaveall)  [msgcat::mc <font color=#035103>&quot;Save all files\nCtrl+Shift+S&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icohelp)     [msgcat::mc <font color=#035103>&quot;Tcl/Tk help on the selection\nF1&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icoreplace)  [msgcat::mc <font color=#035103>&quot;Find / Replace\nCtrl+F&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icook)       <font color=#4A181B>$al(MC</font>,checktcl)
  <b><font color=#923B23>set</font></b> al(MC,icocolor)    <font color=#4A181B>$al(MC</font>,colorpicker)
  <b><font color=#923B23>set</font></b> al(MC,icodate)     <font color=#4A181B>$al(MC</font>,datepicker)
  <b><font color=#923B23>set</font></b> al(MC,icoother)    tkcon
  <b><font color=#923B23>set</font></b> al(MC,icorun)      [msgcat::mc <font color=#035103>&quot;Run the file\nF5&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icoe_menu)   [msgcat::mc <font color=#035103>&quot;Run e_menu\nF4&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icoundo)     [msgcat::mc <font color=#035103>&quot;Undo changes\nCtrl+Z&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icoredo)     [msgcat::mc <font color=#035103>&quot;Redo changes\nCtrl+Shift+Z&quot;</font>]
  <b><font color=#923B23>set</font></b> al(MC,icocategories) [msgcat::mc Projects]

  <i><font color=#646464>## _ find units _ ##</font></i>
  <b><font color=#923B23>set</font></b> al(MC,findunit)    [msgcat::mc <font color=#035103>&quot;Use glob patterns to find units' declarations\ne.g. \&quot;s*rt\&quot; would find \&quot;start\&quot; and \&quot;insert\&quot;.\nThe letter case is ignored.&quot;</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::open_files_and_raise'>open_files_and_raise</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files of CLI.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>open_files_and_raise</span> <span class='ruff_arg'>iin ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>iin</code></code></td><td class='ruff_defitem'>count of call</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of file names</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::bar::FillBar" title="bar::FillBar" class='ruff_cmd'>bar::FillBar</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_10' href="javascript:toggleSource('10')">Show source</a></p>
<div id='10' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::open_files_and_raise {iin args} {

  <i><font color=#646464># Opens files of CLI.</font></i>
  <i><font color=#646464>#   iin - count of call</font></i>
  <i><font color=#646464>#   args - list of file names</font></i>
  <i><font color=#646464># See also: bar::FillBar</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$iin</font>&lt;10} {
    <i><font color=#646464># let the tab bar be filled first</font></i>
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists ::alited::al(BID)]} {
      <b><font color=#923B23>after</font></b> idle [<b><font color=#923B23>list</font></b> after 1000 [<b><font color=#923B23>list</font></b> ::alited::open_files_and_raise [<b><font color=#923B23>incr</font></b> iin] {*}<font color=#4A181B>$args</font>]]
      <b><font color=#A106A1>return</font></b>
    }
    <b><font color=#923B23>foreach</font></b> fname [<b><font color=#923B23>lreverse</font></b> <font color=#4A181B>$args</font>] {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> isfile <font color=#4A181B>$fname</font>]} {
        alited::file::OpenFile <font color=#4A181B>$fname</font>
      }
    }
  }
  raise_window
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::p+'>p+</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sums two text positions straightforward: lines &amp; columns separately.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>p+</span> <span class='ruff_arg'>p1 p2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>p1</code></code></td><td class='ruff_defitem'>1st position</td></tr>
<tr><td class='ruff_defitem'><code><code>p2</code></code></td><td class='ruff_defitem'>2nd position</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The lines may be with &quot;-&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_11' href="javascript:toggleSource('11')">Show source</a></p>
<div id='11' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::p+ {p1 p2} {

  <i><font color=#646464># Sums two text positions straightforward: lines & columns separately.</font></i>
  <i><font color=#646464>#   p1 - 1st position</font></i>
  <i><font color=#646464>#   p2 - 2nd position</font></i>
  <i><font color=#646464># The lines may be with &quot;-&quot;.</font></i>

  <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$p1</font> .] l11 c11
  <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$p2</font> .] l21 c21
  <b><font color=#923B23>foreach</font></b> n {l11 c11 l21 c21} {
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> is digit <font color=#463e11>-strict</font> [<b><font color=#923B23>string</font></b> trimleft [<b><font color=#923B23>set</font></b> <font color=#4A181B>$n</font>] -]]} {<b><font color=#923B23>set</font></b> <font color=#4A181B>$n</font> 0}
  }
  <b><font color=#A106A1>return</font></b> <font color=#035103>&quot;<font color=#4A181B>[</font>incr l11 <font color=#4A181B>$</font>l21<font color=#4A181B>]</font>.<font color=#4A181B>[</font>incr c11 <font color=#4A181B>$</font>c21<font color=#4A181B>]</font>&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::raise_window'>raise_window</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Raises the app's window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>raise_window</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_12' href="javascript:toggleSource('12')">Show source</a></p>
<div id='12' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::raise_window {} {

  <i><font color=#646464># Raises the app's window.</font></i>

  <b><font color=#923B23>variable</font></b> al
  <b><font color=#923B23>catch</font></b> {
    <b><font color=#7A040E>wm</font></b> withdraw <font color=#4A181B>$al(WIN)</font>
    <b><font color=#7A040E>wm</font></b> deiconify <font color=#4A181B>$al(WIN)</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Run'>Run</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Tcl/Tk script.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Run</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>script's name and arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_13' href="javascript:toggleSource('13')">Show source</a></p>
<div id='13' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::Run {args} {

  <i><font color=#646464># Runs Tcl/Tk script.</font></i>
  <i><font color=#646464>#   args - script's name and arguments</font></i>

  <b><font color=#923B23>variable</font></b> al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(EM</font>,Tcl) eq {}} {
    <b><font color=#923B23>set</font></b> Tclexe [<b><font color=#923B23>info</font></b> nameofexecutable]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> Tclexe <font color=#4A181B>$al(EM</font>,Tcl)
  }
  <b><font color=#923B23>exec</font></b> {*}<font color=#4A181B>$Tclexe</font> {*}<font color=#4A181B>$args</font> &
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run_remote'>run_remote</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a command that was started by another process.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>run_remote</span> <span class='ruff_arg'>cmd ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cmd</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_14' href="javascript:toggleSource('14')">Show source</a></p>
<div id='14' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::run_remote {cmd args} {

  <i><font color=#646464># Runs a command that was started by another process.</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> { <font color=#4A181B>$cmd</font> {*}<font color=#4A181B>$args</font> } err]} {
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$err</font>
    <b><font color=#A106A1>return</font></b> <font color=#463e11>-code</font> error
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::bar'></a>::alited::bar<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::bar-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::bar::BAR'>BAR</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs the tab bar's method.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BAR</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>method's name and its arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_15' href="javascript:toggleSource('15')">Show source</a></p>
<div id='15' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::BAR {args} {

  <i><font color=#646464># Runs the tab bar's method.</font></i>
  <i><font color=#646464>#   args - method's name and its arguments</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#A106A1>return</font></b> [al(bts) <font color=#4A181B>$al(BID)</font> {*}<font color=#4A181B>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::ColorBar'>ColorBar</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes the bar of tabs to have a &quot;marked tab&quot; color consistent with current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorBar</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_16' href="javascript:toggleSource('16')">Show source</a></p>
<div id='16' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::ColorBar {} {

  <i><font color=#646464># Makes the bar of tabs to have a &quot;marked tab&quot; color</font></i>
  <i><font color=#646464># consistent with current color scheme.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>set</font></b> cs [<font color=#4A181B>$obPav</font> csCurrent]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$cs</font>&gt;-1} {
    <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obPav</font> csGet <font color=#4A181B>$cs</font>] cfg2 cfg1 cbg2 cbg1 cfhh - - - - - - - - - - - - fgmark
    BAR configure <font color=#463e11>-fgmark</font> <font color=#4A181B>$fgmark</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::ControlTab'>ControlTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches between last two active tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ControlTab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_17' href="javascript:toggleSource('17')">Show source</a></p>
<div id='17' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::ControlTab {} {

  <i><font color=#646464># Switches between last two active tabs.</font></i>

  <b><font color=#923B23>variable</font></b> ctrltablist
  <b><font color=#923B23>set</font></b> fname [CurrentControlTab]
  <b><font color=#923B23>set</font></b> found no
  <b><font color=#923B23>while</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$ctrltablist</font>]} {
    <b><font color=#923B23>set</font></b> fnext [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$ctrltablist</font> 0]
    <b><font color=#923B23>foreach</font></b> tab [BAR listTab] {
      <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fnext</font> eq [FileName <font color=#4A181B>$TID</font>]} {
        <b><font color=#923B23>set</font></b> found yes
        <b><font color=#923B23>break</font></b>
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$found</font>} <b><font color=#923B23>break</font></b>
    <i><font color=#646464># if the file was closed, remove it from the ctrl-tabbed</font></i>
    <b><font color=#923B23>set</font></b> ctrltablist [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$ctrltablist</font> 0 0]
  }
  CurrentControlTab <font color=#4A181B>$fname</font>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$found</font>} {
    <i><font color=#646464># only one tab is open - return to it (possibly not visible in the bar tab)</font></i>
    <b><font color=#923B23>set</font></b> TID [CurrentTabID]
    <b><font color=#923B23>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
    <b><font color=#923B23>after</font></b> idle [<b><font color=#923B23>list</font></b> alited::main::FocusText <font color=#4A181B>$TID</font> <font color=#4A181B>$pos</font>]
  }
  <i><font color=#646464># select the first of open files that was next to the current</font></i>
  BAR <font color=#4A181B>$TID</font> show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentControlTab'>CurrentControlTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Keeps a list of last switched files, to switch between last two.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentControlTab</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_18' href="javascript:toggleSource('18')">Show source</a></p>
<div id='18' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::CurrentControlTab {{fname {}}} {

  <i><font color=#646464># Keeps a list of last switched files, to switch between last two.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>variable</font></b> ctrltablist
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> ret [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$fname</font> eq {}}]]} {
    <b><font color=#923B23>set</font></b> fname [FileName]
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$ctrltablist</font> <font color=#4A181B>$fname</font>]]&gt;-1} {
    <b><font color=#923B23>set</font></b> ctrltablist [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$ctrltablist</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ret</font>} {<b><font color=#A106A1>return</font></b> <font color=#4A181B>$fname</font>}
  <b><font color=#923B23>set</font></b> ctrltablist [<b><font color=#923B23>linsert</font></b> <font color=#4A181B>$ctrltablist</font> 0 <font color=#4A181B>$fname</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentTab'>CurrentTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an attribute of the current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentTab</span> <span class='ruff_arg'>io ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>io</code></code></td><td class='ruff_defitem'>0 to get ID, 1 - short name (tab label), 2 - full name, 3 - index</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_19' href="javascript:toggleSource('19')">Show source</a></p>
<div id='19' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::CurrentTab {io {TID {}}} {

  <i><font color=#646464># Gets an attribute of the current tab.</font></i>
  <i><font color=#646464>#   io - 0 to get ID, 1 - short name (tab label), 2 - full name, 3 - index</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq {}} {<b><font color=#923B23>set</font></b> TID [CurrentTabID]}
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$io</font> {
    0 {<b><font color=#923B23>set</font></b> res <font color=#4A181B>$TID</font>}
    1 {<b><font color=#923B23>set</font></b> res [BAR <font color=#4A181B>$TID</font> cget <font color=#463e11>-text</font>]}
    2 {<b><font color=#923B23>set</font></b> res [FileName <font color=#4A181B>$TID</font>]}
    3 {<b><font color=#923B23>set</font></b> res [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-index</font> 0 [BAR listTab] <font color=#4A181B>$TID</font>]}
    <b><font color=#923B23>default</font></b> {<b><font color=#923B23>set</font></b> res {}}
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentTabID'>CurrentTabID</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID of the current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentTabID</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_20' href="javascript:toggleSource('20')">Show source</a></p>
<div id='20' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::CurrentTabID {} {

  <i><font color=#646464># Gets ID of the current tab.</font></i>

  <b><font color=#A106A1>return</font></b> [BAR cget <font color=#463e11>-tabcurrent</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::DisableTabLeft'>DisableTabLeft</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for left tabs to disable &quot;select all at left&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisableTabLeft</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1, if no left tab exists, thus disabling the menu's item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_21' href="javascript:toggleSource('21')">Show source</a></p>
<div id='21' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::DisableTabLeft {tab} {

  <i><font color=#646464># Checks for left tabs to disable &quot;select all at left&quot;.</font></i>
  <i><font color=#646464>#   tab - tab's ID</font></i>
  <i><font color=#646464># Returns 1, if no left tab exists, thus disabling the menu's item.</font></i>

  <b><font color=#923B23>set</font></b> i [CurrentTab 3 <font color=#4A181B>$tab</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>} {<b><font color=#A106A1>return</font></b> 0}
  <b><font color=#A106A1>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::DisableTabRight'>DisableTabRight</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for right tabs to disable &quot;select all at right&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisableTabRight</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1, if no right tab exists, thus disabling the menu's item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_22' href="javascript:toggleSource('22')">Show source</a></p>
<div id='22' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::DisableTabRight {tab} {

  <i><font color=#646464># Checks for right tabs to disable &quot;select all at right&quot;.</font></i>
  <i><font color=#646464>#   tab - tab's ID</font></i>
  <i><font color=#646464># Returns 1, if no right tab exists, thus disabling the menu's item.</font></i>

  <b><font color=#923B23>set</font></b> i [CurrentTab 3 <font color=#4A181B>$tab</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font> &lt; ([<b><font color=#923B23>llength</font></b> [BAR listTab]]-1)} {<b><font color=#A106A1>return</font></b> 0}
  <b><font color=#A106A1>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FileName'>FileName</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileName</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_23' href="javascript:toggleSource('23')">Show source</a></p>
<div id='23' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::FileName {{TID {}}} {

  <i><font color=#646464># Gets a file name of a tab.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq {}} {<b><font color=#923B23>set</font></b> TID [CurrentTabID]}
  <b><font color=#923B23>set</font></b> tip [BAR <font color=#4A181B>$TID</font> cget <font color=#463e11>-tip</font>]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>lindex</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$tip</font> \n] 0]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FileTID'>FileTID</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tab's ID of a file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileTID</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_24' href="javascript:toggleSource('24')">Show source</a></p>
<div id='24' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::FileTID {fname} {

  <i><font color=#646464># Gets a tab's ID of a file name.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>set</font></b> TID {}
  <b><font color=#923B23>foreach</font></b> tab [BAR listTab] {
    <b><font color=#923B23>set</font></b> TID2 [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> eq [FileName <font color=#4A181B>$TID2</font>]} {
      <b><font color=#923B23>set</font></b> TID <font color=#4A181B>$TID2</font>
      <b><font color=#923B23>break</font></b>
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FillBar'>FillBar</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills the bar of tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillBar</span> <span class='ruff_arg'>wframe ?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wframe</code></code></td><td class='ruff_defitem'>frame's path to place the bar in</td></tr>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>if yes, creates the bar from scratch; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_25' href="javascript:toggleSource('25')">Show source</a></p>
<div id='25' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::FillBar {wframe {newproject no}} {

  <i><font color=#646464># Fills the bar of tabs.</font></i>
  <i><font color=#646464>#   wframe - frame's path to place the bar in</font></i>
  <i><font color=#646464>#   newproject - if yes, creates the bar from scratch</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wbase [<font color=#4A181B>$obPav</font> LbxInfo]
  <b><font color=#923B23>set</font></b> lab0 [msgcat::mc (Un)Select]
  <b><font color=#923B23>set</font></b> lab1 [msgcat::mc {... Visible}]
  <b><font color=#923B23>set</font></b> lab2 [msgcat::mc {... All at Left}]
  <b><font color=#923B23>set</font></b> lab3 [msgcat::mc {... All at Right}]
  <b><font color=#923B23>set</font></b> lab4 [msgcat::mc {... All}]
  <b><font color=#923B23>set</font></b> bar1Opts [<b><font color=#923B23>list</font></b> <font color=#463e11>-wbar</font> <font color=#4A181B>$wframe</font> <font color=#463e11>-wbase</font> <font color=#4A181B>$wbase</font> <font color=#463e11>-pady</font> 2 <font color=#463e11>-scrollsel</font> no <font color=#463e11>-lifo</font> yes  <font color=#463e11>-lowlist</font> <font color=#4A181B>$al(FONTSIZE</font>,small) <font color=#463e11>-lablen</font> <font color=#4A181B>$al(INI</font>,barlablen) <font color=#463e11>-tiplen</font> <font color=#4A181B>$al(INI</font>,bartiplen)  <font color=#463e11>-bg</font> [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$obPav</font> csGet] 3]  <font color=#463e11>-menu</font> [<b><font color=#923B23>list</font></b>  sep  <font color=#035103>&quot;com <font color=#4A181B>{$</font>lab0<font color=#4A181B>}</font> <font color=#4A181B>{</font>::alited::bar::SelTab %t<font color=#4A181B>}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{}</font>&quot;</font>  <font color=#035103>&quot;com <font color=#4A181B>{$</font>lab1<font color=#4A181B>}</font> <font color=#4A181B>{</font>::alited::bar::SelTabVis<font color=#4A181B>}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{}</font>&quot;</font>  <font color=#035103>&quot;com <font color=#4A181B>{$</font>lab2<font color=#4A181B>}</font> <font color=#4A181B>{</font>::alited::bar::SelTabLeft %t<font color=#4A181B>}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{{</font>\[::alited::bar::DisableTabLeft %t\<font color=#4A181B>]}}</font>&quot;</font>  <font color=#035103>&quot;com <font color=#4A181B>{$</font>lab3<font color=#4A181B>}</font> <font color=#4A181B>{</font>::alited::bar::SelTabRight %t<font color=#4A181B>}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{{</font>\[::alited::bar::DisableTabRight %t\<font color=#4A181B>]}}</font>&quot;</font>  <font color=#035103>&quot;com <font color=#4A181B>{$</font>lab4<font color=#4A181B>}</font> <font color=#4A181B>{</font>::alited::bar::SelTabAll<font color=#4A181B>}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{}</font>&quot;</font>]  <font color=#463e11>-separator</font> no <font color=#463e11>-font</font> apaveFontDefTypedsmall  <font color=#463e11>-csel2</font> {alited::bar::OnTabSelection %t}  <font color=#463e11>-cdel</font> {alited::file::CloseFile %t}  <font color=#463e11>-cmov2</font> alited::bar::OnTabMove]
  <b><font color=#923B23>set</font></b> tabs [<b><font color=#923B23>set</font></b> files [<b><font color=#923B23>set</font></b> posis [<b><font color=#923B23>list</font></b>]]]
  <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$al(tabs)</font> {
    <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$tab</font> \t] tab pos
    <b><font color=#923B23>lappend</font></b> files <font color=#4A181B>$tab</font>
    <b><font color=#923B23>lappend</font></b> posis <font color=#4A181B>$pos</font>
    <b><font color=#923B23>set</font></b> tab [UniqueTab <font color=#4A181B>$tabs</font> [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$tab</font>]]
    <b><font color=#923B23>lappend</font></b> tabs <font color=#4A181B>$tab</font>
    <b><font color=#923B23>lappend</font></b> bar1Opts <font color=#463e11>-tab</font> <font color=#4A181B>$tab</font>
  }
  <b><font color=#923B23>set</font></b> curname [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tabs</font> <font color=#4A181B>$al(curtab)</font>]
  <b><font color=#923B23>catch</font></b> {::bartabs::Bars create al(bts)}   ;<i><font color=#646464># al(bts) is Bars object</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$newproject</font> || [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> al(BID) [al(bts) create al(bt) <font color=#4A181B>$bar1Opts</font> <font color=#4A181B>$curname</font>]}]} {
    <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$tabs</font> {BAR insertTab <font color=#4A181B>$tab</font>}
  }
  <b><font color=#923B23>set</font></b> tabs [BAR listTab]
  <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$tabs</font> fname <font color=#4A181B>$files</font> pos <font color=#4A181B>$posis</font> {
    <b><font color=#923B23>set</font></b> tid [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    SetTabState <font color=#4A181B>$tid</font> -<font color=#463e11>-fname</font> <font color=#4A181B>$fname</font> -<font color=#463e11>-pos</font> <font color=#4A181B>$pos</font>
    BAR <font color=#4A181B>$tid</font> configure <font color=#463e11>-tip</font> [alited::file::FileStat <font color=#4A181B>$fname</font>]
  }
  <b><font color=#923B23>set</font></b> curname [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$files</font> <font color=#4A181B>$al(curtab)</font>]
  SetBarState -1 <font color=#4A181B>$curname</font> [<font color=#4A181B>$obPav</font> Text] [<font color=#4A181B>$obPav</font> SbvText]
  ColorBar
  alited::file::CheckForNew
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::GetBarState'>GetBarState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets attributes of a tab that are specific for alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetBarState</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_26' href="javascript:toggleSource('26')">Show source</a></p>
<div id='26' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::GetBarState {} {

  <i><font color=#646464># Gets attributes of a tab that are specific for alited.</font></i>

  <b><font color=#A106A1>return</font></b> [BAR cget <font color=#463e11>-ALITED</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::GetTabState'>GetTabState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets attributes of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTabState</span> <span class='ruff_arg'>?TID? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID (current one by default); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_27' href="javascript:toggleSource('27')">Show source</a></p>
<div id='27' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::GetTabState {{TID {}} args} {

  <i><font color=#646464># Gets attributes of a tab.</font></i>
  <i><font color=#646464>#   TID - tab's ID (current one by default)</font></i>
  <i><font color=#646464>#   args - list of attributes + values</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq {}} {<b><font color=#923B23>set</font></b> TID [CurrentTabID]}
  <b><font color=#923B23>if</font></b> {![BAR isTab <font color=#4A181B>$TID</font>]} {<b><font color=#A106A1>return</font></b> {}}
  <b><font color=#A106A1>return</font></b> [BAR <font color=#4A181B>$TID</font> cget {*}<font color=#4A181B>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::InsertTab'>InsertTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a new tab into the beginning of bar of tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertTab</span> <span class='ruff_arg'>tab tip</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>the tab</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>the tab's tip</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_28' href="javascript:toggleSource('28')">Show source</a></p>
<div id='28' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::InsertTab {tab tip} {

  <i><font color=#646464># Inserts a new tab into the beginning of bar of tabs.</font></i>
  <i><font color=#646464>#   tab - the tab</font></i>
  <i><font color=#646464>#   tip - the tab's tip</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> TID [BAR insertTab <font color=#4A181B>$tab</font> 0]
  BAR <font color=#4A181B>$TID</font> configure <font color=#463e11>-tip</font> <font color=#4A181B>$tip</font>
  SetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-fname</font> <font color=#4A181B>$tip</font>
  alited::ini::SaveCurrentIni <font color=#4A181B>$al(INI</font>,save_onadd)
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnTabMove'>OnTabMove</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles moving a tab in the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnTabMove</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_29' href="javascript:toggleSource('29')">Show source</a></p>
<div id='29' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::OnTabMove {} {

  <i><font color=#646464># Handles moving a tab in the bar.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  alited::ini::SaveCurrentIni <font color=#4A181B>$al(INI</font>,save_onmove)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnTabSelection'>OnTabSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles selecting a tab in the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnTabSelection</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_30' href="javascript:toggleSource('30')">Show source</a></p>
<div id='30' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::OnTabSelection {TID} {

  <i><font color=#646464># Handles selecting a tab in the bar.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  alited::main::ShowText
  alited::find::ClearTags
  alited::ini::SaveCurrentIni <font color=#4A181B>$al(INI</font>,save_onselect)
  alited::edit::CheckSaveIcons [alited::file::IsModified <font color=#4A181B>$TID</font>]
  alited::edit::CheckUndoRedoIcons [alited::main::CurrentWTXT] <font color=#4A181B>$TID</font>
  <b><font color=#923B23>if</font></b> {[alited::file::IsTcl [FileName]]} {<b><font color=#923B23>set</font></b> indst normal} {<b><font color=#923B23>set</font></b> indst disabled}
  <font color=#4A181B>$al(MENUEDIT)</font> entryconfigure 5 <font color=#463e11>-state</font> <font color=#4A181B>$indst</font>
  <b><font color=#923B23>if</font></b> {[alited::edit::CommentChar] ne {}} {<b><font color=#923B23>set</font></b> cmnst normal} {<b><font color=#923B23>set</font></b> cmnst disabled}
  <font color=#4A181B>$al(MENUEDIT)</font> entryconfigure 7 <font color=#463e11>-state</font> <font color=#4A181B>$cmnst</font>
  <font color=#4A181B>$al(MENUEDIT)</font> entryconfigure 8 <font color=#463e11>-state</font> <font color=#4A181B>$cmnst</font>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> wtxt [alited::main::GetWTXT <font color=#4A181B>$TID</font>]] ne {}} {
    <b><font color=#923B23>set</font></b> al(wrapwords) [<b><font color=#923B23>expr</font></b> {[<font color=#4A181B>$wtxt</font> cget <font color=#463e11>-wrap</font>] eq {word}}]
  }
  CurrentControlTab [FileName <font color=#4A181B>$TID</font>]
  alited::main::HighlightLine
  <b><font color=#923B23>set</font></b> indent [alited::main::CalcIndentation]
  ::apave::setTextIndent <font color=#4A181B>$indent</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjindentAuto)</font>} {alited::main::UpdateProjectInfo <font color=#4A181B>$indent</font>}
  <b><font color=#923B23>after</font></b> 10 ::alited::tree::SeeSelection
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTab'>SelTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a tab selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTab</span> <span class='ruff_arg'>tab ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if 1, selects the tab; <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_31' href="javascript:toggleSource('31')">Show source</a></p>
<div id='31' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::SelTab {tab {mode -1}} {

  <i><font color=#646464># Makes a tab selected / unselected.</font></i>
  <i><font color=#646464>#   tab - tab's ID</font></i>
  <i><font color=#646464>#   mode - if 1, selects the tab</font></i>

  <b><font color=#923B23>set</font></b> selected [BAR cget <font color=#463e11>-select</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> == 1 || <font color=#4A181B>$tab</font> in <font color=#4A181B>$selected</font>} {
    BAR unselectTab <font color=#4A181B>$tab</font>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$mode</font> == 0 || <font color=#4A181B>$tab</font> ni <font color=#4A181B>$selected</font>} {
    BAR selectTab <font color=#4A181B>$tab</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabAll'>SelTabAll</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_32' href="javascript:toggleSource('32')">Show source</a></p>
<div id='32' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::SelTabAll {} {

  <i><font color=#646464># Makes all tabs selected / unselected.</font></i>

  <b><font color=#923B23>set</font></b> mode [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>llength</font></b> [BAR cget <font color=#463e11>-select</font>]]&gt;0}]
  <b><font color=#923B23>foreach</font></b> tab [BAR listTab] {
    SelTab [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0] <font color=#4A181B>$mode</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabLeft'>SelTabLeft</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all left tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabLeft</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_33' href="javascript:toggleSource('33')">Show source</a></p>
<div id='33' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::SelTabLeft {tab} {

  <i><font color=#646464># Makes all left tabs selected / unselected.</font></i>
  <i><font color=#646464>#   tab - tab's ID</font></i>

  <b><font color=#923B23>foreach</font></b> t [BAR listTab] {
    <b><font color=#923B23>set</font></b> t [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$t</font> 0]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$t</font> eq <font color=#4A181B>$tab</font>} <b><font color=#923B23>break</font></b>
    SelTab <font color=#4A181B>$t</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabRight'>SelTabRight</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all right tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabRight</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_34' href="javascript:toggleSource('34')">Show source</a></p>
<div id='34' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::SelTabRight {tab} {

  <i><font color=#646464># Makes all right tabs selected / unselected.</font></i>
  <i><font color=#646464>#   tab - tab's ID</font></i>

  <b><font color=#923B23>set</font></b> cntrd no
  <b><font color=#923B23>foreach</font></b> t [BAR listTab] {
    <b><font color=#923B23>set</font></b> t [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$t</font> 0]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$t</font> eq <font color=#4A181B>$tab</font>} {
      <b><font color=#923B23>set</font></b> cntrd yes
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$cntrd</font>} {
      SelTab <font color=#4A181B>$t</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabVis'>SelTabVis</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes visible tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabVis</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_35' href="javascript:toggleSource('35')">Show source</a></p>
<div id='35' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::SelTabVis {} {

  <i><font color=#646464># Makes visible tabs selected / unselected.</font></i>

  <b><font color=#923B23>foreach</font></b> tab [BAR listFlag v] {
    SelTab <font color=#4A181B>$tab</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SetBarState'>SetBarState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets attributes of the tab bar that are specific for alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetBarState</span> <span class='ruff_arg'>TID ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_36' href="javascript:toggleSource('36')">Show source</a></p>
<div id='36' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::SetBarState {TID args} {

  <i><font color=#646464># Sets attributes of the tab bar that are specific for alited.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   args - list of attributes + values</font></i>

  BAR configure <font color=#463e11>-ALITED</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$TID</font> {*}<font color=#4A181B>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SetTabState'>SetTabState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets attributes of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTabState</span> <span class='ruff_arg'>TID ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_37' href="javascript:toggleSource('37')">Show source</a></p>
<div id='37' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::SetTabState {TID args} {

  <i><font color=#646464># Sets attributes of a tab.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   args - list of attributes + values</font></i>

  <b><font color=#923B23>if</font></b> {![BAR isTab <font color=#4A181B>$TID</font>]} <b><font color=#A106A1>return</font></b>
  BAR <font color=#4A181B>$TID</font> configure {*}<font color=#4A181B>$args</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::UniqueListTab'>UniqueListTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a unique tab name for a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UniqueListTab</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a unique tab name for a file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_38' href="javascript:toggleSource('38')">Show source</a></p>
<div id='38' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::UniqueListTab {fname} {

  <i><font color=#646464># Returns a unique tab name for a file.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>set</font></b> tabs [alited::bar::BAR listTab]
  <b><font color=#923B23>set</font></b> tab [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#A106A1>return</font></b> [UniqueTab <font color=#4A181B>$tabs</font> <font color=#4A181B>$tab</font> <font color=#463e11>-index</font> 1]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::UniqueTab'>UniqueTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a unique name for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UniqueTab</span> <span class='ruff_arg'>tabs tab ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tabs</code></code></td><td class='ruff_defitem'>list of tabs</td></tr>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab name to be checked for its duplicate</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of lsearch to find a duplicate name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If some file has a tail name (tab name) equal to an existing one's, the new tab name should get &quot;(N)&quot; suffix to be unique. This is required by bartabs package: no duplicates allowed.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a unique name for a tab.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_39' href="javascript:toggleSource('39')">Show source</a></p>
<div id='39' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::bar::UniqueTab {tabs tab args} {

  <i><font color=#646464># Returns a unique name for a tab.</font></i>
  <i><font color=#646464>#   tabs - list of tabs</font></i>
  <i><font color=#646464>#   tab - tab name to be checked for its duplicate</font></i>
  <i><font color=#646464>#   args - options of lsearch to find a duplicate name</font></i>
  <i><font color=#646464># If some file has a tail name (tab name) equal to an existing one's,</font></i>
  <i><font color=#646464># the new tab name should get &quot;(N)&quot; suffix to be unique.</font></i>
  <i><font color=#646464># This is required by bartabs package: no duplicates allowed.</font></i>

  <b><font color=#923B23>set</font></b> cnttab 1
  <b><font color=#923B23>set</font></b> taborig <font color=#4A181B>$tab</font>
  <b><font color=#923B23>while</font></b> {1} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>lsearch</font></b> {*}<font color=#4A181B>$args</font> <font color=#4A181B>$tabs</font> <font color=#4A181B>$tab</font>]==-1} <b><font color=#923B23>break</font></b>
    <b><font color=#923B23>set</font></b> tab <font color=#035103>&quot;<font color=#4A181B>$</font>taborig (<font color=#4A181B>[</font>incr cnttab<font color=#4A181B>]</font>)&quot;</font>
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$tab</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::check'></a>::alited::check<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::check-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::check::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Checking&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_40' href="javascript:toggleSource('40')">Show source</a></p>
<div id='40' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::_create {} {

  <i><font color=#646464># Creates &quot;Checking&quot; dialogue.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <font color=#4A181B>$obDl2</font> makeWindow <font color=#4A181B>$win</font>.fra <font color=#4A181B>$al(MC</font>,checktcl)
  <font color=#4A181B>$obDl2</font> paveWindow <font color=#4A181B>$win</font>.fra {
    {v_ - -}
    {labHead v_ T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 4 <font color=#463e11>-padx</font> 8} {<font color=#463e11>-t</font> <font color=#035103>&quot;Checks available:&quot;</font>}}
    {chb1 labHead T 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 22} {<font color=#463e11>-var</font> alited::check::chBrace <font color=#463e11>-t</font> {Consistency of {} }}}
    {chb2 chb1 T 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 22} {<font color=#463e11>-var</font> alited::check::chBracket <font color=#463e11>-t</font> {Consistency of []}}}
    {chb3 chb2 T 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 22} {<font color=#463e11>-var</font> alited::check::chParenthesis <font color=#463e11>-t</font> {Consistency of ()}}}
    {v_2 chb3 T}
    {fra v_2 T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 0 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-padding</font> {5 5 5 5} <font color=#463e11>-relief</font> groove}}
    {fra.lab - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;Check:&quot;</font>}}
    {fra.radA - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 9}  {<font color=#463e11>-t</font> <font color=#035103>&quot;current file&quot;</font> <font color=#463e11>-var</font> ::alited::check::what <font color=#463e11>-value</font> 1}}
    {fra.radB - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 9}  {<font color=#463e11>-t</font> <font color=#035103>&quot;all of session files&quot;</font> <font color=#463e11>-var</font> ::alited::check::what <font color=#463e11>-value</font> 2}}
    {fra2 fra T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-padding</font> {5 5 5 5} <font color=#463e11>-relief</font> groove}}
    {.butHelp - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;Help&quot;</font> <font color=#463e11>-command</font> ::alited::check::Help}}
    {.h_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both}}
    {.ButOK - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 2} {<font color=#463e11>-t</font> <font color=#035103>&quot;Check&quot;</font> <font color=#463e11>-command</font> ::alited::check::Ok}}
    {.butCancel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> Cancel <font color=#463e11>-command</font> ::alited::check::Cancel}}
  }
  <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obDl2</font> showModal <font color=#4A181B>$win</font> <font color=#463e11>-resizable</font> {0 0} <font color=#463e11>-focus</font> [<font color=#4A181B>$obDl2</font> ButOK]  <font color=#463e11>-onclose</font> alited::check::Cancel]
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Checking&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_41' href="javascript:toggleSource('41')">Show source</a></p>
<div id='41' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::_run {} {

  <i><font color=#646464># Runs &quot;Checking&quot; dialogue.</font></i>

  <b><font color=#923B23>if</font></b> {[_create]} Check
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_42' href="javascript:toggleSource('42')">Show source</a></p>
<div id='42' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::Cancel {args} {

  <i><font color=#646464># Handles hitting &quot;Cancel&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Check'>Check</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs checking.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Check</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_43' href="javascript:toggleSource('43')">Show source</a></p>
<div id='43' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::Check {} {

  <i><font color=#646464># Runs checking.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> what
  <b><font color=#923B23>variable</font></b> errors
  <b><font color=#923B23>variable</font></b> fileerrors
  alited::info::Clear
  alited::info::Put <font color=#4A181B>$al(MC</font>,wait) {} yes
  <b><font color=#923B23>set</font></b> errors [<b><font color=#923B23>set</font></b> fileerrors 0]
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$what</font> {
    1 CheckFile
    2 CheckAll
  }
  alited::info::Clear 0
  ShowResults
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckAll'>CheckAll</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks all files of session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_44' href="javascript:toggleSource('44')">Show source</a></p>
<div id='44' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::CheckAll {} {

  <i><font color=#646464># Checks all files of session.</font></i>

  <b><font color=#923B23>update</font></b>
  <b><font color=#923B23>set</font></b> allfnd [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    alited::file::ReadFileByTID <font color=#4A181B>$TID</font>
    <b><font color=#923B23>lassign</font></b> [alited::main::GetText <font color=#4A181B>$TID</font>] curfile wtxt
    CheckFile <font color=#4A181B>$curfile</font> <font color=#4A181B>$wtxt</font> <font color=#4A181B>$TID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckFile'>CheckFile</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckFile</span> <span class='ruff_arg'>?fname? ?wtxt? ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the file's text widget; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>the file's tab ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_45' href="javascript:toggleSource('45')">Show source</a></p>
<div id='45' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::CheckFile {{fname {}} {wtxt {}} {TID {}}} {

  <i><font color=#646464># Checks a file.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464>#   wtxt - the file's text widget</font></i>
  <i><font color=#646464>#   TID - the file's tab ID</font></i>

  <b><font color=#923B23>variable</font></b> errors
  <b><font color=#923B23>variable</font></b> fileerrors
  <b><font color=#923B23>variable</font></b> errors1
  <b><font color=#923B23>variable</font></b> errors2
  <b><font color=#923B23>variable</font></b> errors3
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> eq {}} {
    <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
    <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  }
  <b><font color=#923B23>if</font></b> {![alited::file::IsTcl <font color=#4A181B>$fname</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> curfile [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>set</font></b> textcont [<font color=#4A181B>$wtxt</font> get 1.0 end]
  <b><font color=#923B23>set</font></b> errors1 [<b><font color=#923B23>set</font></b> errors2 [<b><font color=#923B23>set</font></b> errors3 0]]
  <b><font color=#923B23>set</font></b> fileerrs [CheckUnit <font color=#4A181B>$wtxt</font> 1.0 end]
  <b><font color=#923B23>incr</font></b> fileerrors <font color=#4A181B>$fileerrs</font>
  <b><font color=#923B23>set</font></b> und [<b><font color=#923B23>string</font></b> repeat _ 30]
  <b><font color=#923B23>set</font></b> pos1 [alited::bar::GetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-pos</font>]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> is double <font color=#463e11>-strict</font> <font color=#4A181B>$$pos1</font>]} {<b><font color=#923B23>set</font></b> pos1 1.0}
  <b><font color=#923B23>set</font></b> info [<b><font color=#923B23>list</font></b> <font color=#4A181B>$TID</font> [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$pos1)</font>}]]
  alited::info::Put <font color=#035103>&quot;<font color=#4A181B>$</font>und <font color=#4A181B>$</font>fileerrs (<font color=#4A181B>$</font>errors1/<font color=#4A181B>$</font>errors2/<font color=#4A181B>$</font>errors3) file errors of <font color=#4A181B>$</font>curfile <font color=#4A181B>$</font>und<font color=#4A181B>$</font>und<font color=#4A181B>$</font>und&quot;</font> <font color=#4A181B>$info</font>
  <b><font color=#923B23>set</font></b> unittree [alited::unit::GetUnits <font color=#4A181B>$TID</font> <font color=#4A181B>$textcont</font>]
  <b><font color=#923B23>foreach</font></b> item <font color=#4A181B>$unittree</font> {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$leaf</font> || <font color=#4A181B>$title</font> eq {}} <b><font color=#923B23>continue</font></b>
    <b><font color=#923B23>set</font></b> title <font color=#035103>&quot;<font color=#4A181B>$</font>curfile: <font color=#4A181B>$</font>title&quot;</font>
    <b><font color=#923B23>set</font></b> err [CheckUnit <font color=#4A181B>$wtxt</font> <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$l2</font>.end <font color=#4A181B>$TID</font> <font color=#4A181B>$title</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$err</font>} {
      <b><font color=#923B23>incr</font></b> errors <font color=#4A181B>$err</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckUnit'>CheckUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks a unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUnit</span> <span class='ruff_arg'>wtxt pos1 pos2 ?TID? ?title?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>ending position of the unit in the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>title of the unit; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_46' href="javascript:toggleSource('46')">Show source</a></p>
<div id='46' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::CheckUnit {wtxt pos1 pos2 {TID {}} {title {}}} {

  <i><font color=#646464># Checks a unit.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   pos1 - starting position of the unit in the text</font></i>
  <i><font color=#646464>#   pos1 - ending position of the unit in the text</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   title - title of the unit</font></i>

  <b><font color=#923B23>variable</font></b> chBrace 1
  <b><font color=#923B23>variable</font></b> chBracket 1
  <b><font color=#923B23>variable</font></b> chParenthesis 1
  <b><font color=#923B23>variable</font></b> errors1
  <b><font color=#923B23>variable</font></b> errors2
  <b><font color=#923B23>variable</font></b> errors3
  <b><font color=#923B23>set</font></b> cc1 [<b><font color=#923B23>set</font></b> cc2 [<b><font color=#923B23>set</font></b> ck1 [<b><font color=#923B23>set</font></b> ck2 [<b><font color=#923B23>set</font></b> cp1 [<b><font color=#923B23>set</font></b> cp2 0]]]]]
  <b><font color=#923B23>foreach</font></b> line [<b><font color=#923B23>split</font></b> [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$pos1</font> <font color=#4A181B>$pos2</font>] \n] {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$chBrace</font>} {
      <b><font color=#923B23>incr</font></b> cc1 [::apave::countChar <font color=#4A181B>$line</font> \{]
      <b><font color=#923B23>incr</font></b> cc2 [::apave::countChar <font color=#4A181B>$line</font> \}]
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$chBracket</font>} {
      <b><font color=#923B23>incr</font></b> ck1 [::apave::countChar <font color=#4A181B>$line</font> \[]
      <b><font color=#923B23>incr</font></b> ck2 [::apave::countChar <font color=#4A181B>$line</font> \]]
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$chParenthesis</font>} {
      <b><font color=#923B23>incr</font></b> cp1 [::apave::countChar <font color=#4A181B>$line</font> (]
      <b><font color=#923B23>incr</font></b> cp2 [::apave::countChar <font color=#4A181B>$line</font> )]
    }
  }
  <b><font color=#923B23>set</font></b> err 0
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ne {}} {
    <b><font color=#923B23>set</font></b> info [<b><font color=#923B23>list</font></b> <font color=#4A181B>$TID</font> [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>string</font></b> is double <font color=#463e11>-strict</font> <font color=#4A181B>$pos1</font>] ? int(<font color=#4A181B>$pos1)</font> : 1}]]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$cc1</font> != <font color=#4A181B>$cc2</font>} {
    <b><font color=#923B23>incr</font></b> err
    <b><font color=#923B23>incr</font></b> errors1
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ne {}} {alited::info::Put <font color=#035103>&quot;<font color=#4A181B>$</font>title: inconsistent \{\}: <font color=#4A181B>$</font>cc1 != <font color=#4A181B>$</font>cc2&quot;</font> <font color=#4A181B>$info</font>}
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ck1</font> != <font color=#4A181B>$ck2</font>} {
    <b><font color=#923B23>incr</font></b> err
    <b><font color=#923B23>incr</font></b> errors2
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ne {}} {alited::info::Put <font color=#035103>&quot;<font color=#4A181B>$</font>title: inconsistent \[\]: <font color=#4A181B>$</font>ck1 != <font color=#4A181B>$</font>ck2&quot;</font> <font color=#4A181B>$info</font>}
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$cp1</font> != <font color=#4A181B>$cp2</font>} {
    <b><font color=#923B23>incr</font></b> err
    <b><font color=#923B23>incr</font></b> errors3
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ne {}} {alited::info::Put <font color=#035103>&quot;<font color=#4A181B>$</font>title: inconsistent (): <font color=#4A181B>$</font>cp1 != <font color=#4A181B>$</font>cp2&quot;</font> <font color=#4A181B>$info</font>}
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$err</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Help&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_47' href="javascript:toggleSource('47')">Show source</a></p>
<div id='47' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::Help {args} {

  <i><font color=#646464># Handles hitting &quot;Help&quot; button.</font></i>

  <b><font color=#923B23>variable</font></b> win
  alited::Help <font color=#4A181B>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_48' href="javascript:toggleSource('48')">Show source</a></p>
<div id='48' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::Ok {args} {

  <i><font color=#646464># Handles hitting &quot;OK&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 1
  <b><font color=#A106A1>return</font></b>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::ShowResults'>ShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays results of checking.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_49' href="javascript:toggleSource('49')">Show source</a></p>
<div id='49' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::check::ShowResults {} {

  <i><font color=#646464># Displays results of checking.</font></i>

  <b><font color=#923B23>variable</font></b> errors
  <b><font color=#923B23>variable</font></b> fileerrors
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$errors</font> || <font color=#4A181B>$fileerrors</font>} {
    <b><font color=#923B23>set</font></b> msg [msgcat::mc {Found %f file error(s), %u unit error(s).}]
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$fileerrors</font> %u <font color=#4A181B>$errors</font>] <font color=#4A181B>$msg</font>]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> msg [msgcat::mc {No errors found.}]
  }
  alited::info::Put <font color=#4A181B>$msg</font> {} yes
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::complete'></a>::alited::complete<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::complete-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::complete::AllSessionCommands'>AllSessionCommands</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets all commands available in Tcl/Tk and in session files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AllSessionCommands</span> <span class='ruff_arg'>?currentTID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>currentTID</code></code></td><td class='ruff_defitem'>ID of a current tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If currentTID is set, the commands of this TID are shown unqualified.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_50' href="javascript:toggleSource('50')">Show source</a></p>
<div id='50' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::complete::AllSessionCommands {{currentTID {}}} {

  <i><font color=#646464># Gets all commands available in Tcl/Tk and in session files.</font></i>
  <i><font color=#646464>#   currentTID - ID of a current tab</font></i>
  <i><font color=#646464># If currentTID is set, the commands of this TID are shown unqualified.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> tab [alited::find::SessionList] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    alited::file::ReadFileByTID <font color=#4A181B>$TID</font>
    <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> lev leaf fl1 ttl l1 l2
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$leaf</font> && [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$ttl</font>]==1} {
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq <font color=#4A181B>$currentTID</font>} {
          <b><font color=#923B23>lappend</font></b> res [<b><font color=#923B23>lindex</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$ttl</font> :] end]
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#923B23>lappend</font></b> res <font color=#4A181B>$ttl</font>
        }
      }
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::AutoCompleteCommand'>AutoCompleteCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs auto completion of commands.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AutoCompleteCommand</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_51' href="javascript:toggleSource('51')">Show source</a></p>
<div id='51' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::complete::AutoCompleteCommand {} {

  <i><font color=#646464># Runs auto completion of commands.</font></i>

  <b><font color=#923B23>lassign</font></b> [MatchedCommands] curword idx1 idx2 alited::complete::comms
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> com [PickCommand <font color=#4A181B>$wtxt</font>]] ne {}} {
    <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#923B23>set</font></b> row [<b><font color=#923B23>expr</font></b> {int([<font color=#4A181B>$wtxt</font> index insert])}]
    <font color=#4A181B>$wtxt</font> delete <font color=#4A181B>$row</font>.<font color=#4A181B>$idx1</font> <font color=#4A181B>$row</font>.[<b><font color=#923B23>incr</font></b> idx2]
    <b><font color=#923B23>set</font></b> pos <font color=#4A181B>$row</font>.<font color=#4A181B>$idx1</font>
    <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$pos</font> <font color=#4A181B>$com</font>
    ::alited::main::HighlightLine
  }
  <b><font color=#7A040E>focus</font></b> <font color=#463e11>-force</font> <font color=#4A181B>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::MatchedCommands'>MatchedCommands</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets commands that are matched to a current (under cursor) word.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MatchedCommands</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns list of current word, begin and end of it, matched commands.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_52' href="javascript:toggleSource('52')">Show source</a></p>
<div id='52' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::complete::MatchedCommands {} {

  <i><font color=#646464># Gets commands that are matched to a current (under cursor) word.</font></i>
  <i><font color=#646464># Returns list of current word, begin and end of it, matched commands.</font></i>

  <b><font color=#923B23>lassign</font></b> [alited::find::GetWordOfText noselect2] curword idx1 idx2
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>namespace</font></b> exists ::alited::repl]} {
    <b><font color=#923B23>namespace</font></b> eval ::alited {
      <b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::LIBDIR</font> repl repl.tcl]
    }
  }
  <b><font color=#923B23>set</font></b> allcomms [<b><font color=#923B23>lindex</font></b> [::alited::repl::complete command {}] 1]
  <b><font color=#923B23>lappend</font></b> allcomms {*}[AllSessionCommands [alited::bar::CurrentTabID]]
  <b><font color=#923B23>set</font></b> comms [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> excluded [<b><font color=#923B23>list</font></b> {[._]*} alimg_* bts_* \$*]
  <b><font color=#923B23>foreach</font></b> com <font color=#4A181B>$allcomms</font> {
    <b><font color=#923B23>set</font></b> incl 1
    <b><font color=#923B23>foreach</font></b> ex <font color=#4A181B>$excluded</font> {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#4A181B>$ex</font> <font color=#4A181B>$com</font>]} {
        <b><font color=#923B23>set</font></b> incl 0
        <b><font color=#923B23>break</font></b>
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$incl</font> && [<b><font color=#923B23>string</font></b> match <font color=#035103>&quot;<font color=#4A181B>${</font>curword<font color=#4A181B>}</font>*&quot;</font> <font color=#4A181B>$com</font>]} {<b><font color=#923B23>lappend</font></b> comms <font color=#4A181B>$com</font>}
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$curword</font> <font color=#4A181B>$idx1</font> <font color=#4A181B>$idx2</font> [<b><font color=#923B23>lsort</font></b> <font color=#4A181B>$comms</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::PickCommand'>PickCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a frame of commands for auto completion, allowing a user to select from it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickCommand</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_53' href="javascript:toggleSource('53')">Show source</a></p>
<div id='53' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::complete::PickCommand {wtxt} {

  <i><font color=#646464># Shows a frame of commands for auto completion,</font></i>
  <i><font color=#646464># allowing a user to select from it.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>

  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$alited::complete::comms</font>]} {<b><font color=#A106A1>return</font></b> {}}
  <b><font color=#923B23>set</font></b> win .pickcommand
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$::tcl_platform(platform)</font> eq {windows}} {
    <b><font color=#7A040E>toplevel</font></b> <font color=#4A181B>$win</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#7A040E>frame</font></b> <font color=#4A181B>$win</font>
    <b><font color=#7A040E>wm</font></b> manage <font color=#4A181B>$win</font>
  }
  <b><font color=#7A040E>wm</font></b> withdraw <font color=#4A181B>$win</font>
  <b><font color=#7A040E>wm</font></b> overrideredirect <font color=#4A181B>$win</font> 1
  <b><font color=#923B23>set</font></b> obj pavedPickCommand
  ::apave::APaveInput create <font color=#4A181B>$obj</font> <font color=#4A181B>$win</font>
  <font color=#4A181B>$obj</font> paveWindow <font color=#4A181B>$win</font> {
    {LbxPick - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-h</font> 16 <font color=#463e11>-w</font> 32 <font color=#463e11>-lvar</font> ::alited::complete::comms}}
    {sbvPick LbxPick L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both} {}}
  }
  <b><font color=#923B23>set</font></b> lbx [<font color=#4A181B>$obj</font> LbxPick]
  <b><font color=#923B23>foreach</font></b> ev {ButtonPress-1 Return KP_Enter KeyPress<font color=#463e11>-space</font>} {
    <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbx</font> &lt;<font color=#4A181B>$ev</font>&gt; <font color=#035103>&quot;after idle <font color=#4A181B>{</font>::alited::complete::SelectCommand <font color=#4A181B>$</font>win <font color=#4A181B>$</font>obj <font color=#4A181B>$</font>lbx<font color=#4A181B>}</font>&quot;</font>}
  }
  <font color=#4A181B>$lbx</font> selection set 0
  <b><font color=#923B23>lassign</font></b> [TextCursorCoordinates <font color=#4A181B>$wtxt</font>] X Y
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$X</font>==-1} {
    <b><font color=#7A040E>bell</font></b>
    <b><font color=#923B23>set</font></b> res {}
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$::tcl_platform(platform)</font> eq {windows}} {
      <b><font color=#923B23>incr</font></b> X 10
      <b><font color=#923B23>incr</font></b> Y 40
      <b><font color=#923B23>after</font></b> 100 <font color=#035103>&quot;wm deiconify <font color=#4A181B>$</font>win&quot;</font>
    }
    <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obj</font> showModal <font color=#4A181B>$win</font> <font color=#463e11>-decor</font> 0 <font color=#463e11>-focus</font> <font color=#4A181B>$lbx</font> <font color=#463e11>-geometry</font> +<font color=#4A181B>$X</font>+<font color=#4A181B>$Y</font>]
  }
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
  <font color=#4A181B>$obj</font> destroy
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> ne <font color=#035103>&quot;0&quot;</font>} {<b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>}
  <b><font color=#A106A1>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::SelectCommand'>SelectCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection of command for auto completion.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectCommand</span> <span class='ruff_arg'>win obj lbx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window of command list</td></tr>
<tr><td class='ruff_defitem'><code><code>obj</code></code></td><td class='ruff_defitem'>apave object</td></tr>
<tr><td class='ruff_defitem'><code><code>lbx</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_54' href="javascript:toggleSource('54')">Show source</a></p>
<div id='54' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::complete::SelectCommand {win obj lbx} {

  <i><font color=#646464># Handles a selection of command for auto completion.</font></i>
  <i><font color=#646464>#   win - window of command list</font></i>
  <i><font color=#646464>#   obj - apave object</font></i>
  <i><font color=#646464>#   lbx - listbox's path</font></i>

  <font color=#4A181B>$obj</font> res <font color=#4A181B>$win</font> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$alited::complete::comms</font> [<font color=#4A181B>$lbx</font> curselection]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::TextCursorCoordinates'>TextCursorCoordinates</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets screen coordinates (X, Y) under cursor in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TextCursorCoordinates</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of X and Y coordinates.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_55' href="javascript:toggleSource('55')">Show source</a></p>
<div id='55' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::complete::TextCursorCoordinates {wtxt} {

  <i><font color=#646464># Gets screen coordinates (X, Y) under cursor in a text.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464># Returns a list of X and Y coordinates.</font></i>

  <b><font color=#923B23>set</font></b> poi [<font color=#4A181B>$wtxt</font> index insert]
  <b><font color=#923B23>set</font></b> ch [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$poi</font> [<font color=#4A181B>$wtxt</font> index {insert +1c}]]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$ch</font>] eq {}} {<b><font color=#923B23>set</font></b> pos {insert -1c}} {<b><font color=#923B23>set</font></b> pos insert}
  <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index <font color=#4A181B>$pos</font>]
  <b><font color=#923B23>if</font></b> {int(<font color=#4A181B>$pos)</font>!=int(<font color=#4A181B>$poi)</font>} {<b><font color=#A106A1>return</font></b> -1}
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtxt</font> bbox <font color=#4A181B>$pos</font>] X Y w h
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$w</font> eq {}} {<b><font color=#A106A1>return</font></b> -1}
  <b><font color=#923B23>incr</font></b> X <font color=#4A181B>$w</font>
  <b><font color=#923B23>incr</font></b> Y <font color=#4A181B>$h</font>
  <b><font color=#923B23>set</font></b> p [<b><font color=#7A040E>winfo</font></b> parent <font color=#4A181B>$wtxt</font>]
  <b><font color=#923B23>while</font></b> 1 {
    <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> [<b><font color=#7A040E>winfo</font></b> geometry <font color=#4A181B>$p</font>] x+] w h x y
    <b><font color=#923B23>incr</font></b> X <font color=#4A181B>$x</font>
    <b><font color=#923B23>incr</font></b> Y <font color=#4A181B>$y</font>
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> p [<b><font color=#7A040E>winfo</font></b> parent <font color=#4A181B>$p</font>]}] || <font color=#4A181B>$p</font> in {{} {.}}} <b><font color=#923B23>break</font></b>
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::edit'></a>::alited::edit<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::edit-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupDirFileNames'>BackupDirFileNames</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets directory and file names for backuping.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupDirFileNames</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>current tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of names: directory, source file, target original file</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_56' href="javascript:toggleSource('56')">Show source</a></p>
<div id='56' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::BackupDirFileNames {TID} {

  <i><font color=#646464># Gets directory and file names for backuping.</font></i>
  <i><font color=#646464>#   TID - current tab's ID</font></i>
  <i><font color=#646464># Returns a list of names:</font></i>
  <i><font color=#646464>#   directory, source file, target original file</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(BACKUP)</font> eq {}} {<b><font color=#A106A1>return</font></b> {}}
  <b><font color=#923B23>set</font></b> dir [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$al(prjroot)</font> <font color=#4A181B>$al(BACKUP)</font>]
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName <font color=#4A181B>$TID</font>]
  <b><font color=#923B23>set</font></b> fname2 [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$dir</font> [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$dir</font>] && [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> mkdir <font color=#4A181B>$dir</font>} err]} {
    alited::msg ok err <font color=#4A181B>$err</font>
    <b><font color=#A106A1>return</font></b> {}
  }
  <b><font color=#923B23>set</font></b> fname3 [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$dir</font> [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$dir</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$fname2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupFile'>BackupFile</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a backup copy of a file after the first modification of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupFile</span> <span class='ruff_arg'>TID ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID of the file</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if {orig}, makes an original copy of a file, otherwise makes .bak copy; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_57' href="javascript:toggleSource('57')">Show source</a></p>
<div id='57' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::BackupFile {TID {mode {}}} {

  <i><font color=#646464># Makes a backup copy of a file after the first modification of it.</font></i>
  <i><font color=#646464>#   TID - tab's ID of the file</font></i>
  <i><font color=#646464>#   mode - if {orig}, makes an original copy of a file, otherwise makes .bak copy</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>lassign</font></b> [BackupDirFileNames <font color=#4A181B>$TID</font>] dir fname fname2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dir</font> ne {}} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> eq {}} {
      <b><font color=#923B23>set</font></b> fname2 [BackupFileName <font color=#4A181B>$fname2</font>]
    }
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>file</font></b> copy <font color=#463e11>-force</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$fname2</font>
      ::apave::logMessage <font color=#035103>&quot;backup <font color=#4A181B>$</font>fname -&gt; <font color=#4A181B>$</font>fname2&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupFileName'>BackupFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a backup name for a file (checking for backup's maximum).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupFileName</span> <span class='ruff_arg'>fname ?iincr?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>name of target file</td></tr>
<tr><td class='ruff_defitem'><code><code>iincr</code></code></td><td class='ruff_defitem'>incrementation for backup index; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The iincr parameter is used to get the last backup's name: if no backups, the empty string is returned.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_58' href="javascript:toggleSource('58')">Show source</a></p>
<div id='58' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::BackupFileName {fname {iincr 1}} {

  <i><font color=#646464># Gets a backup name for a file (checking for backup's maximum).</font></i>
  <i><font color=#646464>#   fname - name of target file</font></i>
  <i><font color=#646464>#   iincr - incrementation for backup index</font></i>
  <i><font color=#646464># The iincr parameter is used to get the last backup's name:</font></i>
  <i><font color=#646464># if no backups, the empty string is returned.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(MAXBACKUP)</font>&gt;1} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> baks [<b><font color=#923B23>glob</font></b> <font color=#4A181B>${fname}</font>*]}]} {
      <b><font color=#923B23>set</font></b> nbak 1
      <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$iincr</font>} {<b><font color=#A106A1>return</font></b> {}} ;<i><font color=#646464># no backups yet</font></i>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>foreach</font></b> bak <font color=#4A181B>$baks</font> {
        <b><font color=#923B23>lappend</font></b> bakdata [<b><font color=#923B23>list</font></b> [<b><font color=#923B23>file</font></b> mtime <font color=#4A181B>$bak</font>] <font color=#4A181B>$bak</font>]
      }
      <b><font color=#923B23>set</font></b> bakdata [<b><font color=#923B23>lsort</font></b> <font color=#463e11>-decreasing</font> <font color=#4A181B>$bakdata</font>]
      <b><font color=#923B23>set</font></b> bak1 [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$bakdata</font> 0 1]
      <b><font color=#923B23>set</font></b> nbak [<b><font color=#923B23>lindex</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$bak1</font> -.] end-1]
      <b><font color=#923B23>foreach</font></b> delbak [<b><font color=#923B23>lrange</font></b> <font color=#4A181B>$bakdata</font> <font color=#4A181B>$al(MAXBACKUP)</font> end] {
        <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> delete [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$delbak</font> 1]}
      }
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>incr</font></b> nbak <font color=#4A181B>$iincr</font>}] || <font color=#4A181B>$nbak</font>&gt;<font color=#4A181B>$al(MAXBACKUP)</font>} {<b><font color=#923B23>set</font></b> nbak 1}
    }
    <b><font color=#923B23>append</font></b> fname -<font color=#4A181B>$nbak</font>.bak
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ChangeEncoding'>ChangeEncoding</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Changes encoding of file(s).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChangeEncoding</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_59' href="javascript:toggleSource('59')">Show source</a></p>
<div id='59' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::ChangeEncoding {} {

    <i><font color=#646464># Changes encoding of file(s).</font></i>

  <b><font color=#7A040E>tk_messageBox</font></b> <font color=#463e11>-message</font> <font color=#035103>&quot;edit::ChangeEncoding - stub&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ChangeEOL'>ChangeEOL</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Changes EOL of file(s).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChangeEOL</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_60' href="javascript:toggleSource('60')">Show source</a></p>
<div id='60' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::ChangeEOL {} {

    <i><font color=#646464># Changes EOL of file(s).</font></i>

  <b><font color=#7A040E>tk_messageBox</font></b> <font color=#463e11>-message</font> <font color=#035103>&quot;edit::ChangeEOL - stub&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CheckSaveIcons'>CheckSaveIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for states of save buttons at modifications of files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckSaveIcons</span> <span class='ruff_arg'>modif</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>modif</code></code></td><td class='ruff_defitem'>yes, if a file has been modified</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_61' href="javascript:toggleSource('61')">Show source</a></p>
<div id='61' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::CheckSaveIcons {modif} {

  <i><font color=#646464># Checks for states of save buttons at modifications of files.</font></i>
  <i><font color=#646464>#   modif - yes, if a file has been modified</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> marked [alited::bar::BAR listFlag <font color=#035103>&quot;m&quot;</font>]
  <b><font color=#923B23>set</font></b> b_save [alited::tool::ToolButName SaveFile]
  <b><font color=#923B23>set</font></b> b_saveall [alited::tool::ToolButName saveall]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$marked</font>]} {
    <b><font color=#923B23>foreach</font></b> but {SaveFile saveall} {
      [alited::tool::ToolButName <font color=#4A181B>$but</font>] configure <font color=#463e11>-state</font> disabled
    }
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$modif</font>} {<b><font color=#923B23>set</font></b> stat normal} {<b><font color=#923B23>set</font></b> stat disabled}
    <font color=#4A181B>$b_save</font> configure <font color=#463e11>-state</font> <font color=#4A181B>$stat</font>
    <font color=#4A181B>$b_saveall</font> configure <font color=#463e11>-state</font> normal
  }
  <font color=#4A181B>$al(MENUFILE)</font> entryconfigure 4 <font color=#463e11>-state</font> [<font color=#4A181B>$b_save</font> cget <font color=#463e11>-state</font>]
  <font color=#4A181B>$al(MENUFILE)</font> entryconfigure 6 <font color=#463e11>-state</font> [<font color=#4A181B>$b_saveall</font> cget <font color=#463e11>-state</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CheckUndoRedoIcons'>CheckUndoRedoIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for states of undo/redo button for a file being modified.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUndoRedoIcons</span> <span class='ruff_arg'>wtxt TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID of the file</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_62' href="javascript:toggleSource('62')">Show source</a></p>
<div id='62' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::CheckUndoRedoIcons {wtxt TID} {

  <i><font color=#646464># Checks for states of undo/redo button for a file being modified.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   TID - tab's ID of the file</font></i>

  <b><font color=#923B23>set</font></b> TIDundo [alited::bar::BAR cget -<font color=#463e11>-TIDundo</font>]
  <b><font color=#923B23>set</font></b> oldundo [alited::bar::BAR <font color=#4A181B>$TID</font> cget -<font color=#463e11>-undo</font>]
  <b><font color=#923B23>set</font></b> oldredo [alited::bar::BAR <font color=#4A181B>$TID</font> cget -<font color=#463e11>-redo</font>]
  <b><font color=#923B23>set</font></b> newundo [<font color=#4A181B>$wtxt</font> edit canundo]
  <b><font color=#923B23>set</font></b> newredo [<font color=#4A181B>$wtxt</font> edit canredo]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TIDundo</font> ne <font color=#4A181B>$TID</font> || <font color=#4A181B>$oldundo</font> ne <font color=#4A181B>$newundo</font>} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$newundo</font>} {<b><font color=#923B23>set</font></b> stat normal} {<b><font color=#923B23>set</font></b> stat disabled}
    [alited::tool::ToolButName undo] configure <font color=#463e11>-state</font> <font color=#4A181B>$stat</font>
    alited::bar::BAR <font color=#4A181B>$TID</font> configure -<font color=#463e11>-undo</font> <font color=#4A181B>$newundo</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TIDundo</font> ne <font color=#4A181B>$TID</font> || <font color=#4A181B>$oldredo</font> ne <font color=#4A181B>$newredo</font>} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$newredo</font>} {<b><font color=#923B23>set</font></b> stat normal} {<b><font color=#923B23>set</font></b> stat disabled}
    [alited::tool::ToolButName redo] configure <font color=#463e11>-state</font> <font color=#4A181B>$stat</font>
    alited::bar::BAR <font color=#4A181B>$TID</font> configure -<font color=#463e11>-redo</font> <font color=#4A181B>$newredo</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$oldundo</font> ne {} && !<font color=#4A181B>$oldundo</font> && !<font color=#4A181B>$oldredo</font> && <font color=#4A181B>$newundo</font>} {
    BackupFile <font color=#4A181B>$TID</font> orig
  }
  alited::bar::BAR configure -<font color=#463e11>-TIDundo</font> <font color=#4A181B>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Comment'>Comment</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Comments selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Comment</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_63' href="javascript:toggleSource('63')">Show source</a></p>
<div id='63' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::Comment {} {

  <i><font color=#646464># Comments selected lines of text.</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> ch [CommentChar]] eq {}} {<b><font color=#7A040E>bell</font></b>; <b><font color=#A106A1>return</font></b>}
  <b><font color=#923B23>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> l <font color=#4A181B>$l1</font>} {<font color=#4A181B>$l</font>&lt;=<font color=#4A181B>$l2</font>} {<b><font color=#923B23>incr</font></b> l} {
    <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$l</font>.0 <font color=#4A181B>$ch</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CommentChar'>CommentChar</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the commenting chars for a current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CommentChar</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the commenting chars for a current file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_64' href="javascript:toggleSource('64')">Show source</a></p>
<div id='64' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::CommentChar {} {

  <i><font color=#646464># Returns the commenting chars for a current file.</font></i>

  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
  <b><font color=#923B23>if</font></b> {[alited::file::IsTcl <font color=#4A181B>$fname</font>]} {
    <b><font color=#A106A1>return</font></b> #
  } <b><font color=#923B23>elseif</font></b> {[alited::file::IsClang <font color=#4A181B>$fname</font>]} {
    <b><font color=#A106A1>return</font></b> //
  }
  <b><font color=#A106A1>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Indent'>Indent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Indent selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Indent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_65' href="javascript:toggleSource('65')">Show source</a></p>
<div id='65' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::Indent {} {

  <i><font color=#646464># Indent selected lines of text.</font></i>

  <b><font color=#923B23>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#923B23>set</font></b> indent <font color=#4A181B>$::apave::_AP_VARS(INDENT)</font>
  <b><font color=#923B23>set</font></b> len [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$::apave::_AP_VARS(INDENT)</font>]
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> l <font color=#4A181B>$l1</font>} {<font color=#4A181B>$l</font>&lt;=<font color=#4A181B>$l2</font>} {<b><font color=#923B23>incr</font></b> l} {
    <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l</font>.0 <font color=#4A181B>$l</font>.end]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$line</font>] eq {}} {
      <font color=#4A181B>$wtxt</font> replace <font color=#4A181B>$l</font>.0 <font color=#4A181B>$l</font>.end {}
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> leadsp [::apave::obj leadingSpaces <font color=#4A181B>$line</font>]
      <b><font color=#923B23>set</font></b> sp [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$leadsp</font> % <font color=#4A181B>$len</font>}]
      <i><font color=#646464># align by the indent edge</font></i>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$sp</font>==0} {
        <b><font color=#923B23>set</font></b> ind <font color=#4A181B>$indent</font>
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> ind [<b><font color=#923B23>string</font></b> repeat <font color=#035103>&quot; &quot;</font> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$len</font> - <font color=#4A181B>$sp</font>}]]
      }
      <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$l</font>.0 <font color=#4A181B>$ind</font>
    }
  }
  alited::main::HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Modified'>Modified</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a modification of file, recreating the unit tree at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Modified</span> <span class='ruff_arg'>TID wtxt ?l1? ?l2? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_66' href="javascript:toggleSource('66')">Show source</a></p>
<div id='66' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::Modified {TID wtxt {l1 0} {l2 0} args} {

  <i><font color=#646464># Handles a modification of file, recreating the unit tree at need.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   l1 - 1st line of unit</font></i>
  <i><font color=#646464>#   l2 - last line of unit</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[alited::bar::BAR isTab <font color=#4A181B>$TID</font>]} {
    <b><font color=#923B23>set</font></b> old [alited::file::IsModified <font color=#4A181B>$TID</font>]
    <b><font color=#923B23>set</font></b> new [<font color=#4A181B>$wtxt</font> edit modified]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$old</font> != <font color=#4A181B>$new</font>} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$new</font>} {
        alited::bar::BAR markTab <font color=#4A181B>$TID</font>
      } <b><font color=#923B23>else</font></b> {
        alited::bar::BAR unmarkTab <font color=#4A181B>$TID</font>
      }
      CheckSaveIcons <font color=#4A181B>$new</font>
    }
    CheckUndoRedoIcons <font color=#4A181B>$wtxt</font> <font color=#4A181B>$TID</font>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
      <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(RECREATE)] || <font color=#4A181B>$al(RECREATE)</font>} {
        <b><font color=#923B23>set</font></b> doit no
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> llen [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font>]]} {
          <b><font color=#923B23>set</font></b> lastrow [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$llen</font>-1 5]
          <b><font color=#923B23>set</font></b> doit [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$lastrow</font> != int([<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;end -1c&quot;</font>])}]
        }
        <b><font color=#923B23>set</font></b> l1 [<b><font color=#923B23>expr</font></b> {int([<font color=#4A181B>$wtxt</font> index insert])}]
        <b><font color=#923B23>set</font></b> notfound [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> ifound [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-index</font> 4 <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$l1</font>]}]
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doit</font> || (!<font color=#4A181B>$notfound</font> && <font color=#4A181B>$ifound</font>&gt;-1) ||  <font color=#4A181B>$al(INI</font>,LEAF) && [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,leaf2) <font color=#4A181B>$args</font>] ||  [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,proc2) <font color=#4A181B>$args</font>]} {
          alited::tree::RecreateTree
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$l1</font>.end]
          <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(INI</font>,LEAF) && [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,leaf) <font color=#4A181B>$line</font>] ||  !<font color=#4A181B>$al(INI</font>,LEAF) && [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,proc) <font color=#4A181B>$line</font>] ||  [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,branch) <font color=#4A181B>$line</font>]} {
            alited::tree::RecreateTree
          }
        }
      }
    }
  }
  alited::main::ShowHeader
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::NormIndent'>NormIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Normalizes a current text's indenting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NormIndent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_67' href="javascript:toggleSource('67')">Show source</a></p>
<div id='67' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::NormIndent {} {

  <i><font color=#646464># Normalizes a current text's indenting.</font></i>

  alited::main::UpdateProjectInfo
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>namespace</font></b> exists alited::indent]} {
    <b><font color=#923B23>namespace</font></b> eval alited {
      <b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::SRCDIR</font> indent.tcl]
    }
  }
  alited::indent::normalize
  alited::main::UpdateTextGutter
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::SelectedLines'>SelectedLines</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a range of lines of text that are selected at least partly.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectedLines</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_68' href="javascript:toggleSource('68')">Show source</a></p>
<div id='68' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::SelectedLines {} {

  <i><font color=#646464># Gets a range of lines of text that are selected at least partly.</font></i>

  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtxt</font> tag ranges sel] pos1 pos2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos1</font> eq <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>set</font></b> pos1 [<b><font color=#923B23>set</font></b> pos2 [<font color=#4A181B>$wtxt</font> index insert]]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> pos21 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>pos2 linestart&quot;</font>]
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$pos21</font> <font color=#4A181B>$pos2</font>] eq <font color=#035103>&quot;&quot;</font>} {
      <b><font color=#923B23>set</font></b> pos2 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>pos2 - 1 line&quot;</font>]
    }
  }
  <b><font color=#923B23>set</font></b> l1 [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$pos1)</font>}]
  <b><font color=#923B23>set</font></b> l2 [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$pos2)</font>}]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$wtxt</font> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::UnComment'>UnComment</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Uncomments selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnComment</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_69' href="javascript:toggleSource('69')">Show source</a></p>
<div id='69' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::UnComment {} {

  <i><font color=#646464># Uncomments selected lines of text.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> ch [CommentChar]] eq {}} {<b><font color=#7A040E>bell</font></b>; <b><font color=#A106A1>return</font></b>}
  <b><font color=#923B23>set</font></b> lch [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$ch</font>]
  <b><font color=#923B23>set</font></b> lch0 [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$lch</font>-1}]
  <b><font color=#923B23>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> l <font color=#4A181B>$l1</font>} {<font color=#4A181B>$l</font>&lt;=<font color=#4A181B>$l2</font>} {<b><font color=#923B23>incr</font></b> l} {
    <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l</font>.0 <font color=#4A181B>$l</font>.end]
    <b><font color=#923B23>set</font></b> isp [<font color=#4A181B>$obPav</font> leadingSpaces <font color=#4A181B>$line</font>]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> <font color=#4A181B>$isp</font> <font color=#4A181B>$isp</font>+<font color=#4A181B>$lch0</font>] eq <font color=#4A181B>$ch</font>} {
      <font color=#4A181B>$wtxt</font> delete <font color=#4A181B>$l</font>.<font color=#4A181B>$isp</font> <font color=#035103>&quot;<font color=#4A181B>$</font>l.<font color=#4A181B>$</font>isp + <font color=#4A181B>${</font>lch<font color=#4A181B>}</font>c&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::UnIndent'>UnIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unindent selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnIndent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_70' href="javascript:toggleSource('70')">Show source</a></p>
<div id='70' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::edit::UnIndent {} {

  <i><font color=#646464># Unindent selected lines of text.</font></i>

  <b><font color=#923B23>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#923B23>set</font></b> len [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$::apave::_AP_VARS(INDENT)</font>]
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> l <font color=#4A181B>$l1</font>} {<font color=#4A181B>$l</font>&lt;=<font color=#4A181B>$l2</font>} {<b><font color=#923B23>incr</font></b> l} {
    <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l</font>.0 <font color=#4A181B>$l</font>.end]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$line</font>] eq {}} {
      <font color=#4A181B>$wtxt</font> replace <font color=#4A181B>$l</font>.0 <font color=#4A181B>$l</font>.end {}
    } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$line</font> 0] eq { }} {
      <b><font color=#923B23>set</font></b> leadsp [::apave::obj leadingSpaces <font color=#4A181B>$line</font>]
      <i><font color=#646464># align by the indent edge</font></i>
      <b><font color=#923B23>set</font></b> sp [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$leadsp</font> % <font color=#4A181B>$len</font>}]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$sp</font>==0} {<b><font color=#923B23>set</font></b> sp <font color=#4A181B>$len</font>}
      <font color=#4A181B>$wtxt</font> delete <font color=#4A181B>$l</font>.0 <font color=#035103>&quot;<font color=#4A181B>$</font>l.0 + <font color=#4A181B>${</font>sp<font color=#4A181B>}</font>c&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::favor'></a>::alited::favor<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::favor-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::favor::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes and shows favorite / last visited units' view.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_71' href="javascript:toggleSource('71')">Show source</a></p>
<div id='71' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::_init {} {

  <i><font color=#646464># Initializes and shows favorite / last visited units' view.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  alited::tree::AddTags <font color=#4A181B>$wtree</font>
  <font color=#4A181B>$wtree</font> tag bind tagNorm &lt;Return&gt; {::alited::favor::Select}
  <font color=#4A181B>$wtree</font> tag bind tagNorm &lt;ButtonRelease-1&gt; {::alited::favor::Select}
  <font color=#4A181B>$wtree</font> tag bind tagNorm &lt;ButtonPress-3&gt; {<b><font color=#923B23>after</font></b> idle {alited::favor::PopupMenu %x %y %X %Y}}
  <font color=#4A181B>$wtree</font> tag bind tagNorm &lt;Motion&gt; {<b><font color=#923B23>after</font></b> idle {alited::favor::Tooltip %x %y %X %Y}}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtree</font> &lt;Leave&gt; {alited::favor::TooltipOff}
  <font color=#4A181B>$wtree</font> heading #1 <font color=#463e11>-text</font> [msgcat::mc <font color=#4A181B>$al(MC</font>,favorites)]
  ShowFavVisit
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a unit to favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>?undermouse? ?idnames?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>idnames</code></code></td><td class='ruff_defitem'>list of unit's ID and names to add; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_72' href="javascript:toggleSource('72')">Show source</a></p>
<div id='72' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::Add {{undermouse yes} {idnames {}}} {

  <i><font color=#646464># Adds a unit to favorites.</font></i>
  <i><font color=#646464>#   undermouse - if yes, run by mouse click</font></i>
  <i><font color=#646464>#   idnames - list of unit's ID and names to add</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
  <b><font color=#923B23>set</font></b> sname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$undermouse</font>} {<b><font color=#923B23>set</font></b> geo {<font color=#463e11>-geometry</font> pointer+10+-100}} {<b><font color=#923B23>set</font></b> geo {}}
  <b><font color=#923B23>set</font></b> idnlen [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$idnames</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$idnlen</font>==0} {
    <b><font color=#923B23>lassign</font></b> [CurrentName] itemID name l1 l2
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$name</font> eq {}} <b><font color=#A106A1>return</font></b>
    <b><font color=#923B23>set</font></b> idnames [<b><font color=#923B23>list</font></b> <font color=#4A181B>$itemID</font> <font color=#4A181B>$name</font>]
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(ANSWER,favor::Add)]} {
    <b><font color=#923B23>set</font></b> al(ANSWER,favor::Add) 0
  }
  <b><font color=#923B23>foreach</font></b> {itemID name} <font color=#4A181B>$idnames</font> {
    <b><font color=#923B23>set</font></b> err no
    <b><font color=#923B23>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
      <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$it</font> 4] name2 fname2
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$name</font> eq <font color=#4A181B>$name2</font> && <font color=#4A181B>$fname</font> eq <font color=#4A181B>$fname2</font>} {
        <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$name</font> %f <font color=#4A181B>$sname</font>] <font color=#4A181B>$al(MC</font>,addexist)]
        alited::Message <font color=#4A181B>$msg</font> 4
        <b><font color=#923B23>set</font></b> err yes
        <b><font color=#923B23>break</font></b>
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$err</font>} <b><font color=#923B23>continue</font></b>
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$name</font> %f <font color=#4A181B>$sname</font>] <font color=#4A181B>$al(MC</font>,addfavor)]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(ANSWER</font>,favor::Add)==11 || [<b><font color=#923B23>set</font></b> al(ANSWER,favor::Add)  [alited::msg yesnocancel ques <font color=#4A181B>$msg</font> YES <font color=#463e11>-ch</font> <font color=#4A181B>$al(MC</font>,noask) {*}<font color=#4A181B>$geo</font>]]  in {1 11}} {
      <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
      <b><font color=#923B23>set</font></b> header [alited::unit::GetHeader [<font color=#4A181B>$obPav</font> Tree] <font color=#4A181B>$itemID</font>]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$idnlen</font>==0} {
        <b><font color=#923B23>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
        <b><font color=#923B23>set</font></b> line [<b><font color=#923B23>expr</font></b> {(<font color=#4A181B>$l1</font> eq {} || <font color=#4A181B>$l2</font> eq {} || <font color=#4A181B>$l1</font>&gt;<font color=#4A181B>$pos</font> || <font color=#4A181B>$l2</font>&lt;<font color=#4A181B>$pos)</font> ? 0 :  [alited::p+ <font color=#4A181B>$pos</font> -<font color=#4A181B>$l1</font>]}]
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> line 0 ;<i><font color=#646464># favorites added from the tree</font></i>
      }
      <b><font color=#923B23>set</font></b> wt2 [<font color=#4A181B>$obPav</font> TreeFavor]
      <b><font color=#923B23>set</font></b> ID2 [<font color=#4A181B>$wt2</font> insert {} 0 <font color=#463e11>-values</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$name</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$header</font> <font color=#4A181B>$line</font>]]
      <font color=#4A181B>$wt2</font> tag add tagNorm <font color=#4A181B>$ID2</font>
    }
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(ANSWER</font>,favor::Add)} <b><font color=#923B23>break</font></b>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::AddFromTree'>AddFromTree</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a list of selected items of the tree to Favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddFromTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_73' href="javascript:toggleSource('73')">Show source</a></p>
<div id='73' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::AddFromTree {} {

  <i><font color=#646464># Adds a list of selected items of the tree to Favorites.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> IDs [<font color=#4A181B>$wtree</font> selection]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$IDs</font> eq {}} {<b><font color=#7A040E>bell</font></b>; <b><font color=#A106A1>return</font></b>}
  <b><font color=#923B23>foreach</font></b> ID <font color=#4A181B>$IDs</font> {
    <b><font color=#923B23>lappend</font></b> idnames <font color=#4A181B>$ID</font> [<b><font color=#923B23>string</font></b> trim [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-text</font>]]
  }
  Add no <font color=#4A181B>$idnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::CopyDeclaration'>CopyDeclaration</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Copies a current unit's declaration to the clipboard.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CopyDeclaration</span> <span class='ruff_arg'>wtree ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_74' href="javascript:toggleSource('74')">Show source</a></p>
<div id='74' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::CopyDeclaration {wtree ID} {

  <i><font color=#646464># Copies a current unit's declaration to the clipboard.</font></i>
  <i><font color=#646464>#   wtree - tree widget's path</font></i>
  <i><font color=#646464>#   ID - tree item's ID</font></i>

  <b><font color=#7A040E>clipboard</font></b> clear
  <b><font color=#7A040E>clipboard</font></b> append [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 2]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::CurrentName'>CurrentName</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets data of a current unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentName</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of the unit's data: ID, title, 1st line, last line.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_75' href="javascript:toggleSource('75')">Show source</a></p>
<div id='75' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::CurrentName {} {

  <i><font color=#646464># Gets data of a current unit.</font></i>
  <i><font color=#646464># Returns a list of the unit's data: ID, title, 1st line, last line.</font></i>

  <b><font color=#923B23>lassign</font></b> [alited::tree::CurrentItemByLine {} 1] itemID - - - name l1 l2
  <b><font color=#923B23>set</font></b> name [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$name</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$name</font> eq {}} <b><font color=#7A040E>bell</font></b>
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$itemID</font> <font color=#4A181B>$name</font> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes an item from favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>?undermouse?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_76' href="javascript:toggleSource('76')">Show source</a></p>
<div id='76' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::Delete {{undermouse yes}} {

  <i><font color=#646464># Deletes an item from favorites.</font></i>
  <i><font color=#646464>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> treelist [alited::tree::GetTree {} TreeFavor]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$undermouse</font>} {
    <b><font color=#923B23>set</font></b> name [<b><font color=#923B23>lindex</font></b> [CurrentName] 1]
    <b><font color=#923B23>set</font></b> favID {}
    <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$treelist</font> {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> - - ID2 - values
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$values</font> name2 fname header line
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$name2</font> eq <font color=#4A181B>$name</font>} {
        <b><font color=#923B23>set</font></b> favID <font color=#4A181B>$ID2</font>
        <b><font color=#923B23>break</font></b>
      }
    }
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>if</font></b> {![IsSelected favID name fname sname header line]} <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists fname] || <font color=#4A181B>$fname</font> eq {}} {
    <b><font color=#7A040E>bell</font></b>
    <b><font color=#A106A1>return</font></b>  ;<i><font color=#646464># for empty list</font></i>
  }
  <b><font color=#923B23>set</font></b> sname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$favID</font> eq {}} {
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$name</font> %f <font color=#4A181B>$sname</font>] <font color=#4A181B>$al(MC</font>,notfavor)]
    alited::Message <font color=#4A181B>$msg</font> 4
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$name</font> %f <font color=#4A181B>$sname</font>] <font color=#4A181B>$al(MC</font>,delfavor)]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$undermouse</font>} {<b><font color=#923B23>set</font></b> geo {<font color=#463e11>-geometry</font> pointer+10+-100}} {<b><font color=#923B23>set</font></b> geo {}}
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(FAV</font>,IsFavor) || [alited::msg yesno warn <font color=#4A181B>$msg</font> NO {*}<font color=#4A181B>$geo</font>]} {
    [<font color=#4A181B>$obPav</font> TreeFavor] delete <font color=#4A181B>$favID</font>
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(FAV</font>,IsFavor)} {
      <b><font color=#923B23>set</font></b> i [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#463e11>-index</font> 2 <font color=#4A181B>$treelist</font> <font color=#4A181B>$favID</font>]
      <b><font color=#923B23>set</font></b> al(FAV,visited) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(FAV</font>,visited) <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::DeleteAll'>DeleteAll</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes all items from favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteAll</span> <span class='ruff_arg'>?undermouse?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_77' href="javascript:toggleSource('77')">Show source</a></p>
<div id='77' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::DeleteAll {{undermouse yes}} {

  <i><font color=#646464># Deletes all items from favorites.</font></i>
  <i><font color=#646464>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$undermouse</font>} {<b><font color=#923B23>set</font></b> geo {<font color=#463e11>-geometry</font> pointer+10+-100}} {<b><font color=#923B23>set</font></b> geo {}}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FAV</font>,IsFavor)} {
    <b><font color=#923B23>set</font></b> msg {Remove all of Favorites?}
    <b><font color=#923B23>set</font></b> listvar al(FAV,current)
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> msg {Remove all of the last visited?}
    <b><font color=#923B23>set</font></b> listvar al(FAV,visited)
  }
  <b><font color=#923B23>set</font></b> favlist [alited::tree::GetTree {} TreeFavor]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$favlist</font> eq {}} {<b><font color=#7A040E>bell</font></b>; <b><font color=#A106A1>return</font></b>}
  <b><font color=#923B23>if</font></b> {[alited::msg yesno warn [msgcat::mc <font color=#4A181B>$msg</font>] NO {*}<font color=#4A181B>$geo</font> <font color=#463e11>-title</font> <font color=#4A181B>$al(MC</font>,favordelall)]} {
    <b><font color=#923B23>foreach</font></b> curfav <font color=#4A181B>$favlist</font> {
      [<font color=#4A181B>$obPav</font> TreeFavor] delete [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$curfav</font> 2]
    }
    <b><font color=#923B23>set</font></b> <font color=#4A181B>$listvar</font> [<b><font color=#923B23>list</font></b>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::GoToUnit'>GoToUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enters a unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GoToUnit</span> <span class='ruff_arg'>TID name header ?forfavor? ?it1? ?values?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>header of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>forfavor</code></code></td><td class='ruff_defitem'>yes, if Favorites list is clicked and must be updated; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>it1</code></code></td><td class='ruff_defitem'>item selected in Favorites (for forfavor=yes); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>values</code></code></td><td class='ruff_defitem'>values of item selected in Favorites (for forfavor=yes); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if the unit is open successfully.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::SaveCursorPos" title="tree::SaveCursorPos" class='ruff_cmd'>tree::SaveCursorPos</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_78' href="javascript:toggleSource('78')">Show source</a></p>
<div id='78' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::GoToUnit {TID name header {forfavor no} {it1 {}} {values {}}} {

  <i><font color=#646464># Enters a unit.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   name - name of the unit</font></i>
  <i><font color=#646464>#   header - header of the unit</font></i>
  <i><font color=#646464>#   forfavor - yes, if Favorites list is clicked and must be updated</font></i>
  <i><font color=#646464>#   it1 - item selected in Favorites (for forfavor=yes)</font></i>
  <i><font color=#646464>#   values - values of item selected in Favorites (for forfavor=yes)</font></i>
  <i><font color=#646464># Returns yes, if the unit is open successfully.</font></i>
  <i><font color=#646464># See also: tree::SaveCursorPos</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> {
    <b><font color=#923B23>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iit]]
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$name</font> eq [alited::tree::UnitTitle <font color=#4A181B>$title</font> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font>]} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$forfavor</font>} {
        <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
        <font color=#4A181B>$wtree</font> delete <font color=#4A181B>$it1</font>
        <b><font color=#923B23>set</font></b> favID [<font color=#4A181B>$wtree</font> insert {} 0 <font color=#463e11>-values</font> <font color=#4A181B>$values</font>]
        <font color=#4A181B>$wtree</font> tag add tagNorm <font color=#4A181B>$favID</font>
      }
      LastVisited [<b><font color=#923B23>list</font></b> <font color=#463e11>-text</font> <font color=#4A181B>$name</font>] <font color=#4A181B>$header</font>
      <b><font color=#923B23>set</font></b> pos [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$it</font> 7]  ;<i><font color=#646464># saved cursor position</font></i>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos</font> ne {}} {<b><font color=#923B23>set</font></b> pos <font color=#035103>&quot;<font color=#4A181B>$</font>pos yes&quot;</font>}
      <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;alited::tree::NewSelection <font color=#4A181B>$</font>treeID <font color=#4A181B>$</font>pos&quot;</font>
      <b><font color=#A106A1>return</font></b> yes
    }
  }
  <b><font color=#A106A1>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::IsSelected'>IsSelected</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets data of currently selected item of favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsSelected</span> <span class='ruff_arg'>IDN nameN fnameN snameN headerN lineN</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>IDN</code></code></td><td class='ruff_defitem'>variable name of item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>nameN</code></code></td><td class='ruff_defitem'>variable name of item's name</td></tr>
<tr><td class='ruff_defitem'><code><code>fnameN</code></code></td><td class='ruff_defitem'>variable name of item's file name</td></tr>
<tr><td class='ruff_defitem'><code><code>snameN</code></code></td><td class='ruff_defitem'>variable name of item's tail file name</td></tr>
<tr><td class='ruff_defitem'><code><code>headerN</code></code></td><td class='ruff_defitem'>variable name of item's header</td></tr>
<tr><td class='ruff_defitem'><code><code>lineN</code></code></td><td class='ruff_defitem'>variable name of item's 1st line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_79' href="javascript:toggleSource('79')">Show source</a></p>
<div id='79' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::IsSelected {IDN nameN fnameN snameN headerN lineN} {

  <i><font color=#646464># Gets data of currently selected item of favorites.</font></i>
  <i><font color=#646464>#   IDN - variable name of item's ID</font></i>
  <i><font color=#646464>#   nameN - variable name of item's name</font></i>
  <i><font color=#646464>#   fnameN - variable name of item's file name</font></i>
  <i><font color=#646464>#   snameN - variable name of item's tail file name</font></i>
  <i><font color=#646464>#   headerN - variable name of item's header</font></i>
  <i><font color=#646464>#   lineN - variable name of item's 1st line</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>upvar</font></b> 1 <font color=#4A181B>$IDN</font> ID <font color=#4A181B>$nameN</font> name <font color=#4A181B>$fnameN</font> fname <font color=#4A181B>$snameN</font> sname <font color=#4A181B>$headerN</font> header <font color=#4A181B>$lineN</font> line
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> ID [alited::tree::CurrentItem TreeFavor]] eq {}} {<b><font color=#A106A1>return</font></b> no}
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] name fname header line
  <b><font color=#923B23>set</font></b> sname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::LastVisited'>LastVisited</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts an item to &quot;Last visited&quot; list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LastVisited</span> <span class='ruff_arg'>item header</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>list of tree's item data (first two: -text {label})</td></tr>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>header of item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_80' href="javascript:toggleSource('80')">Show source</a></p>
<div id='80' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::LastVisited {item header} {

  <i><font color=#646464># Puts an item to &quot;Last visited&quot; list.</font></i>
  <i><font color=#646464>#   item - list of tree's item data (first two: -text {label})</font></i>
  <i><font color=#646464>#   header - header of item</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#646464># check for &quot;All of...&quot; - don't save it</font></i>
  <b><font color=#923B23>set</font></b> allof [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$al(MC</font>,alloffile) 0 [<b><font color=#923B23>string</font></b> first \&quot; <font color=#4A181B>$al(MC</font>,alloffile)]]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> first <font color=#4A181B>$allof</font> <font color=#4A181B>$header</font>]==0} <b><font color=#A106A1>return</font></b>
  <i><font color=#646464># check for &quot;Lines...&quot; - don't save it</font></i>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>regexp</font></b> <font color=#035103>&quot;^<font color=#4A181B>$</font>al(MC,lines) \\d+-\\d+\$&quot;</font> <font color=#4A181B>$header</font>]} <b><font color=#A106A1>return</font></b>
  <i><font color=#646464># check for an empty item - don't save it</font></i>
  <b><font color=#923B23>set</font></b> name [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$item</font> 1]]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$name</font>] eq {}} <b><font color=#A106A1>return</font></b>
  <i><font color=#646464># checks done, save this last visit</font></i>
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
  <i><font color=#646464># search an old item</font></i>
  <b><font color=#923B23>set</font></b> found no
  <b><font color=#923B23>set</font></b> i 0
  <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$al(FAV</font>,visited) {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> - - ID - values
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$values</font> name2 fname2 header2
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> eq <font color=#4A181B>$fname2</font> && <font color=#4A181B>$header</font> eq <font color=#4A181B>$header2</font>} {
      <b><font color=#923B23>set</font></b> found yes
      <i><font color=#646464># if found, move it to 0th position</font></i>
      <b><font color=#923B23>set</font></b> al(FAV,visited) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(FAV</font>,visited) <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
      <b><font color=#923B23>break</font></b>
    }
    <b><font color=#923B23>incr</font></b> i
  }
  <b><font color=#923B23>set</font></b> al(FAV,visited) [<b><font color=#923B23>linsert</font></b> <font color=#4A181B>$al(FAV</font>,visited) 0 [<b><font color=#923B23>list</font></b> - - - - [<b><font color=#923B23>list</font></b> <font color=#4A181B>$name</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$header</font>]]]
  <i><font color=#646464># delete last items if the list's limit is exceeded</font></i>
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> al(FAV,visited) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(FAV</font>,visited) <font color=#4A181B>$al(FAV</font>,MAXLAST) end]}
  <i><font color=#646464># update the tree widget</font></i>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(FAV</font>,IsFavor)} {
    SetFavorites <font color=#4A181B>$al(FAV</font>,visited)
    <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> id0 [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> children {}] 0]] ne {}} {
      <font color=#4A181B>$wtree</font> see <font color=#4A181B>$id0</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Lists'>Lists</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Lists</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_81' href="javascript:toggleSource('81')">Show source</a></p>
<div id='81' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::Lists {} {

  <i><font color=#646464># Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.</font></i>

  <b><font color=#923B23>variable</font></b> initialFavs
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$initialFavs</font>]} {
    <b><font color=#923B23>set</font></b> initialFavs [alited::tree::GetTree {} TreeFavor]
  }
  <b><font color=#923B23>lassign</font></b> [::alited::favor_ls::_run] pla cont
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$pla</font> {
    1 {SetFavorites <font color=#4A181B>$cont</font>}
    2 {SetAndClose <font color=#4A181B>$cont</font>}
    3 {SetFavorites <font color=#4A181B>$initialFavs</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::OpenSelectedFile'>OpenSelectedFile</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a file from a selected item of favorites/last visited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenSelectedFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns tab's ID, if the file is open successfully.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_82' href="javascript:toggleSource('82')">Show source</a></p>
<div id='82' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::OpenSelectedFile {fname} {

  <i><font color=#646464># Opens a file from a selected item of favorites/last visited.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464># Returns tab's ID, if the file is open successfully.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> al(dolastvisited) no
  <b><font color=#923B23>set</font></b> TID [alited::file::OpenFile <font color=#4A181B>$fname</font> yes]
  <b><font color=#923B23>set</font></b> al(dolastvisited) yes
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq {}} {
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$fname</font>] [msgcat::mc {File not found: %f}]]
    alited::Message <font color=#4A181B>$msg</font> 4
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::PopupMenu'>PopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and runs a popup menu at clicking Favorites / last visited list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupMenu</span> <span class='ruff_arg'>x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_83' href="javascript:toggleSource('83')">Show source</a></p>
<div id='83' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::PopupMenu {x y X Y} {

  <i><font color=#646464># Prepares and runs a popup menu at clicking Favorites / last visited list.</font></i>
  <i><font color=#646464>#   x - x-coordinate to identify tree item</font></i>
  <i><font color=#646464>#   y - y-coordinate to identify tree item</font></i>
  <i><font color=#646464>#   X - x-coordinate of the mouse pointer</font></i>
  <i><font color=#646464>#   Y - y-coordinate of the mouse pointer</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  <b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> identify item <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  <b><font color=#923B23>if</font></b> {![<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$ID</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> sel [<font color=#4A181B>$wtree</font> selection]] ne {}} {
    <font color=#4A181B>$wtree</font> selection remove <font color=#4A181B>$sel</font>
  }
  <font color=#4A181B>$wtree</font> selection add <font color=#4A181B>$ID</font>
  ShowPopupMenu <font color=#4A181B>$ID</font> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_84' href="javascript:toggleSource('84')">Show source</a></p>
<div id='84' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::Select {} {

  <i><font color=#646464># Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>clock</font></b> milliseconds]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists al(_MSEC)] && [<b><font color=#923B23>expr</font></b> {(<font color=#4A181B>$msec</font>-<font color=#4A181B>$al(_MSEC))</font>&lt;800}]} {
    <b><font color=#A106A1>return</font></b> ;<i><font color=#646464># disables double click</font></i>
  }
  <b><font color=#923B23>set</font></b> al(_MSEC) <font color=#4A181B>$msec</font>
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  <b><font color=#923B23>if</font></b> {![IsSelected favID name fname sname header line]} {
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> values [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$favID</font> <font color=#463e11>-values</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> TID [OpenSelectedFile <font color=#4A181B>$fname</font>]] eq {}} <b><font color=#A106A1>return</font></b>
  <i><font color=#646464># scan Favorites/last-visited tree, to find the selected item</font></i>
  <i><font color=#646464># and remake favorites and last visits; then go to the selected unit</font></i>
  <b><font color=#923B23>foreach</font></b> it1 [<font color=#4A181B>$wtree</font> children {}] {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$name</font> eq [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$it1</font> <font color=#463e11>-values</font>] 0]} {
      <b><font color=#923B23>if</font></b> {[GoToUnit <font color=#4A181B>$TID</font> <font color=#4A181B>$name</font> <font color=#4A181B>$header</font> <font color=#4A181B>$al(FAV</font>,IsFavor) <font color=#4A181B>$it1</font> <font color=#4A181B>$values</font>]} <b><font color=#A106A1>return</font></b>
      <b><font color=#923B23>break</font></b>
    }
  }
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %u <font color=#4A181B>$name</font>] [msgcat::mc {Unit not found: %u}]]
  alited::Message <font color=#4A181B>$msg</font> 4
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SetAndClose'>SetAndClose</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets favorites list, opens files from favorites list, closes other files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetAndClose</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of favorites</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_85' href="javascript:toggleSource('85')">Show source</a></p>
<div id='85' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::SetAndClose {cont} {

  <i><font color=#646464># Sets favorites list, opens files from favorites list, closes other files.</font></i>
  <i><font color=#646464>#   cont - list of favorites</font></i>

  SetFavorites <font color=#4A181B>$cont</font>
  <b><font color=#923B23>set</font></b> fnamecont {}
  <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>set</font></b> fname [alited::bar::FileName <font color=#4A181B>$TID</font>]
    <b><font color=#923B23>set</font></b> found no
    <b><font color=#923B23>foreach</font></b> fit <font color=#4A181B>$cont</font> {
      <b><font color=#923B23>set</font></b> fnamecont [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$fit</font> 4 1]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> eq <font color=#4A181B>$fnamecont</font>} {
        <b><font color=#923B23>set</font></b> found yes
        <b><font color=#923B23>break</font></b>
      }
    }
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$found</font>} {
      <b><font color=#923B23>if</font></b> {![alited::file::CloseFile <font color=#4A181B>$TID</font> no]} <b><font color=#923B23>break</font></b>
      alited::bar::BAR <font color=#4A181B>$TID</font> close no
    }
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> [alited::bar::BAR listTab]]} {
    <i><font color=#646464># no tabs open</font></i>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fnamecont</font> ne {}} {
      alited::file::OpenFile <font color=#4A181B>$fnamecont</font> yes ;<i><font color=#646464>#  open a file from favorites</font></i>
    } <b><font color=#923B23>else</font></b> {
      alited::file::CheckForNew  ;<i><font color=#646464># ... or create &quot;no name&quot; tab</font></i>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SetFavorites'>SetFavorites</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets favorites/last visited list in the treeview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetFavorites</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of favorites/last visited</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_86' href="javascript:toggleSource('86')">Show source</a></p>
<div id='86' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::SetFavorites {cont} {

  <i><font color=#646464># Sets favorites/last visited list in the treeview.</font></i>
  <i><font color=#646464>#   cont - list of favorites/last visited</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  <b><font color=#923B23>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
    <font color=#4A181B>$wtree</font> delete [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$it</font> 2]
  }
  <b><font color=#923B23>foreach</font></b> curfav <font color=#4A181B>$cont</font> {
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$curfav</font> - - - - values
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$values</font> ne {}} {
        <b><font color=#923B23>set</font></b> itemID [<font color=#4A181B>$wtree</font> insert {} end <font color=#463e11>-values</font> <font color=#4A181B>$values</font>]
        <font color=#4A181B>$wtree</font> tag add tagNorm <font color=#4A181B>$itemID</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Show'>Show</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a list of favorites / last visited units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Show</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_87' href="javascript:toggleSource('87')">Show source</a></p>
<div id='87' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::Show {} {

  <i><font color=#646464># Shows a list of favorites / last visited units.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FAV</font>,IsFavor)} {
    [<font color=#4A181B>$obPav</font> BuTVisitF] configure <font color=#463e11>-image</font> alimg_misc
    <b><font color=#923B23>set</font></b> tip <font color=#4A181B>$alited::al(MC</font>,lastvisit)
    <b><font color=#923B23>set</font></b> state normal
    SetFavorites <font color=#4A181B>$al(FAV</font>,current)
    <font color=#4A181B>$wtree</font> heading #1 <font color=#463e11>-text</font> [msgcat::mc <font color=#4A181B>$al(MC</font>,favorites)]

  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> al(FAV,current) [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
      <b><font color=#923B23>lappend</font></b> al(FAV,current) <font color=#4A181B>$it</font>
    }
    [<font color=#4A181B>$obPav</font> BuTVisitF] configure <font color=#463e11>-image</font> alimg_heart
    <b><font color=#923B23>set</font></b> tip <font color=#4A181B>$al(MC</font>,favorites)
    <b><font color=#923B23>set</font></b> state disable
    SetFavorites <font color=#4A181B>$al(FAV</font>,visited)
    <font color=#4A181B>$wtree</font> heading #1 <font color=#463e11>-text</font> [msgcat::mc <font color=#4A181B>$al(MC</font>,lastvisit)]
  }
  <b><font color=#923B23>foreach</font></b> but {BuTListF BuTAddF} {
    [<font color=#4A181B>$obPav</font> <font color=#4A181B>$but</font>] configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
  }
  baltip::tip [<font color=#4A181B>$obPav</font> BuTVisitF] <font color=#4A181B>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::ShowFavVisit'>ShowFavVisit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Show favorites/last visits, depending on the mode.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowFavVisit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_88' href="javascript:toggleSource('88')">Show source</a></p>
<div id='88' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::ShowFavVisit {} {

  <i><font color=#646464># Show favorites/last visits, depending on the mode.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  SetFavorites <font color=#4A181B>$al(FAV</font>,current)
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(FAV</font>,IsFavor)} Show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::ShowPopupMenu'>ShowPopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a popup menu at clicking Favorites / last visited list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowPopupMenu</span> <span class='ruff_arg'>ID X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_89' href="javascript:toggleSource('89')">Show source</a></p>
<div id='89' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::ShowPopupMenu {ID X Y} {

  <i><font color=#646464># Displays a popup menu at clicking Favorites / last visited list.</font></i>
  <i><font color=#646464>#   ID - tree item's ID</font></i>
  <i><font color=#646464>#   X - x-coordinate of the mouse pointer</font></i>
  <i><font color=#646464>#   Y - y-coordinate of the mouse pointer</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  <b><font color=#923B23>set</font></b> popm <font color=#4A181B>$wtree</font>.popup
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$popm</font>}
  <b><font color=#7A040E>menu</font></b> <font color=#4A181B>$popm</font> <font color=#463e11>-tearoff</font> 0
  <b><font color=#923B23>set</font></b> sname [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 0]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> length <font color=#4A181B>$sname</font>]&gt;25} {<b><font color=#923B23>set</font></b> sname <font color=#035103>&quot;<font color=#4A181B>[</font>string range <font color=#4A181B>$</font>sname 0 21<font color=#4A181B>]</font>...&quot;</font>}
  <b><font color=#923B23>set</font></b> msgsel [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %t <font color=#4A181B>$sname</font>] <font color=#4A181B>$al(MC</font>,selfavor)]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FAV</font>,IsFavor)} {
    <b><font color=#923B23>set</font></b> img alimg_misc
    <b><font color=#923B23>set</font></b> lab <font color=#4A181B>$al(MC</font>,lastvisit)
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> img alimg_heart
    <b><font color=#923B23>set</font></b> lab <font color=#4A181B>$al(MC</font>,favorites)
  }
  <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$lab</font> {*}[<font color=#4A181B>$obPav</font> iconA none]  <font color=#463e11>-command</font> alited::favor::SwitchFavVisit <font color=#463e11>-image</font> <font color=#4A181B>$img</font>
  <font color=#4A181B>$popm</font> add separator
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FAV</font>,IsFavor)} {
    <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,FavLists) {*}[<font color=#4A181B>$obPav</font> iconA none]  <font color=#463e11>-command</font> ::alited::favor::Lists <font color=#463e11>-image</font> alimg_heart
    <font color=#4A181B>$popm</font> add separator
    <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,favoradd) {*}[<font color=#4A181B>$obPav</font> iconA none]  <font color=#463e11>-command</font> {::alited::favor::Add no} <font color=#463e11>-image</font> alimg_add
  }
  <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,favordel) {*}[<font color=#4A181B>$obPav</font> iconA none]  <font color=#463e11>-command</font> {::alited::favor::Delete no} <font color=#463e11>-image</font> alimg_delete
  <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,favordelall) {*}[<font color=#4A181B>$obPav</font> iconA none]  <font color=#463e11>-command</font> {::alited::favor::DeleteAll no} <font color=#463e11>-image</font> alimg_trash
  <font color=#4A181B>$popm</font> add separator
  <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,copydecl) {*}[<font color=#4A181B>$obPav</font> iconA none]  <font color=#463e11>-command</font> <font color=#035103>&quot;::alited::favor::CopyDeclaration <font color=#4A181B>$</font>wtree <font color=#4A181B>$</font>ID&quot;</font>
  <font color=#4A181B>$obPav</font> themePopup <font color=#4A181B>$popm</font>
  <b><font color=#7A040E>tk_popup</font></b> <font color=#4A181B>$popm</font> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SwitchFavVisit'>SwitchFavVisit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches favorites / last visited units' view.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchFavVisit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_90' href="javascript:toggleSource('90')">Show source</a></p>
<div id='90' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::SwitchFavVisit {} {

  <i><font color=#646464># Switches favorites / last visited units' view.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> al(FAV,IsFavor) [<b><font color=#923B23>expr</font></b> {!<font color=#4A181B>$al(FAV</font>,IsFavor)}]
  Show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Tooltip'>Tooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a tip of favorite / last visited unit's declaration.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tooltip</span> <span class='ruff_arg'>x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_91' href="javascript:toggleSource('91')">Show source</a></p>
<div id='91' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::Tooltip {x y X Y} {

  <i><font color=#646464># Shows a tip of favorite / last visited unit's declaration.</font></i>
  <i><font color=#646464>#   x - x-coordinate to identify tree item</font></i>
  <i><font color=#646464>#   y - y-coordinate to identify tree item</font></i>
  <i><font color=#646464>#   X - x-coordinate of the mouse pointer</font></i>
  <i><font color=#646464>#   Y - y-coordinate of the mouse pointer</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>variable</font></b> tipID
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> TreeFavor]
  <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtree</font> identify region <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>] ni {tree cell}} {
    TooltipOff
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> identify item <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$ID</font>] && <font color=#4A181B>$tipID</font> ne <font color=#4A181B>$ID</font>} {
    <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> bbox <font color=#4A181B>$ID</font>] x2 y2 w2 h2
    <b><font color=#923B23>incr</font></b> X 10
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>incr</font></b> Y [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$y2</font>-<font color=#4A181B>$y</font>+<font color=#4A181B>$h2</font>}]}]} {<b><font color=#923B23>incr</font></b> Y 10}
    <b><font color=#923B23>set</font></b> decl [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 2]
    <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 1]
    <b><font color=#923B23>append</font></b> tip <font color=#4A181B>$decl</font> \n <font color=#4A181B>$fname</font>
    <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>clock</font></b> milliseconds]
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(FAVORTIP_MSEC)]} {
      <b><font color=#923B23>set</font></b> al(FAVORTIP_MSEC) 0
    }
    <b><font color=#923B23>if</font></b> {(<font color=#4A181B>$msec</font>-<font color=#4A181B>$al(FAVORTIP_MSEC))</font>&gt;200} {
      ::baltip tip <font color=#4A181B>$al(WIN)</font> <font color=#4A181B>$tip</font> <font color=#463e11>-geometry</font> +<font color=#4A181B>$X</font>+<font color=#4A181B>$Y</font> <font color=#463e11>-per10</font> 4000 <font color=#463e11>-pause</font> 5 <font color=#463e11>-fade</font> 5
      <b><font color=#923B23>set</font></b> tipID <font color=#4A181B>$ID</font>
    } <b><font color=#923B23>else</font></b> {
      TooltipOff
    }
    <b><font color=#923B23>set</font></b> al(FAVORTIP_MSEC) <font color=#4A181B>$msec</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::TooltipOff'>TooltipOff</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes a tip of favorite / last visited unit's declaration.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TooltipOff</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_92' href="javascript:toggleSource('92')">Show source</a></p>
<div id='92' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor::TooltipOff {} {

  <i><font color=#646464># Removes a tip of favorite / last visited unit's declaration.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>variable</font></b> tipID
  ::baltip hide <font color=#4A181B>$al(WIN)</font>
  <b><font color=#923B23>set</font></b> tipID {}
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::favor_ls'></a>::alited::favor_ls<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::favor_ls-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Favorites lists&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_93' href="javascript:toggleSource('93')">Show source</a></p>
<div id='93' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::_create {} {

  <i><font color=#646464># Creates &quot;Favorites lists&quot; dialogue.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> fav
  <font color=#4A181B>$obDl2</font> makeWindow <font color=#4A181B>$win</font> <font color=#4A181B>$al(MC</font>,favorites)
  <font color=#4A181B>$obDl2</font> paveWindow <font color=#4A181B>$win</font> {
    {fraLbxFav - - 1 2 {<font color=#463e11>-st</font> nswe <font color=#463e11>-pady</font> 4} {}}
    {.labFavs - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-anchor</font> nw <font color=#463e11>-padx</font> 4} {<font color=#463e11>-t</font> <font color=#035103>&quot;Lists of favorites:&quot;</font>}}
    {.fra - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> right <font color=#463e11>-fill</font> both} {}}
    {.fra.buTAd - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-anchor</font> n} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::favor_ls::Add <font color=#463e11>-tip</font> <font color=#035103>&quot;Add a list of favorites&quot;</font> <font color=#463e11>-image</font> alimg_add<font color=#463e11>-big</font>}}
    {.fra.buTChg - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::favor_ls::Change <font color=#463e11>-tip</font> <font color=#035103>&quot;Change a list of favorites&quot;</font> <font color=#463e11>-image</font> alimg_change<font color=#463e11>-big</font>}}
    {.fra.buTDel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::favor_ls::Delete <font color=#463e11>-tip</font> <font color=#035103>&quot;Delete a list of favorites&quot;</font> <font color=#463e11>-image</font> alimg_delete<font color=#463e11>-big</font>}}
    {.LbxFav - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-h</font> 7 <font color=#463e11>-w</font> 40 <font color=#463e11>-lvar</font> ::alited::favor_ls::favlist}}
    {.sbvFavs fraLbxFav.LbxFav L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both} {}}
    {fra1 fraLbxFav T 1 2 {<font color=#463e11>-st</font> nswe}}
    {fra1.fraEnt - - 1 1 {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both <font color=#463e11>-pady</font> 4}}
    {.labFav - - 1 1 {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 4} {<font color=#463e11>-t</font> <font color=#035103>&quot;Current list of favorites:&quot;</font>}}
    {.EntFav fra1.labFav L 1 1 {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-tvar</font> ::alited::favor_ls::fav <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,favent1)}}}
    {fra1.fratex fra1.labFav T 1 2 {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> bottom}}
    {.TexFav - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-h</font> 7 <font color=#463e11>-w</font> 60 <font color=#463e11>-tip</font> <font color=#035103>&quot;Favorites of the current list&quot;</font> <font color=#463e11>-ro</font> 1}}
    {.sbvFav .TexFav L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left}}
    {fra2 fra1 T 1 2 {<font color=#463e11>-st</font> nswe} {<font color=#463e11>-padding</font> {5 5 5 5} <font color=#463e11>-relief</font> groove}}
    {.labBA - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;Non-favorite files to be:&quot;</font>}}
    {.radA - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 8}  {<font color=#463e11>-t</font> kept <font color=#463e11>-var</font> ::alited::favor_ls::place <font color=#463e11>-value</font> 1 <font color=#463e11>-tip</font> <font color=#035103>&quot;Doesn't close any tab without favorites\nat choosing Favorites' list&quot;</font>}}
    {.radB - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 8}  {<font color=#463e11>-t</font> closed <font color=#463e11>-var</font> ::alited::favor_ls::place <font color=#463e11>-value</font> 2 <font color=#463e11>-tip</font> <font color=#035103>&quot;Closes all tabs without favorites\nat choosing Favorites' list&quot;</font>}}
    {LabMess fra2 T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 0 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-style</font> TLabelFS}}
    {fra3 labMess T 1 2 {<font color=#463e11>-st</font> nswe}}
    {.butHelp - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;<font color=#4A181B>$</font>alited::al(MC,help)&quot;</font> <font color=#463e11>-command</font> ::alited::favor_ls::Help}}
    {.h_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both <font color=#463e11>-padx</font> 4}}
    {.butUndo - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> Back <font color=#463e11>-command</font> {::alited::favor_ls::Ok 3} <font color=#463e11>-tip</font> <font color=#035103>&quot;Sets a list of Favorites\nthat was active initially.&quot;</font>}}
    {.butOK - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 2} {<font color=#463e11>-t</font> <font color=#035103>&quot;<font color=#4A181B>$</font>alited::al(MC,select)&quot;</font> <font color=#463e11>-command</font> ::alited::favor_ls::Ok}}
    {.butCancel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> Cancel <font color=#463e11>-command</font> ::alited::favor_ls::Cancel}}
  }

  <b><font color=#923B23>set</font></b> fav {}
  <b><font color=#923B23>set</font></b> lbx [<font color=#4A181B>$obDl2</font> LbxFav]
  <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obDl2</font> TexFav]
  GetCurrentList
  Restore_favlist
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbx</font> &lt;&lt;ListboxSelect&gt;&gt; ::alited::favor_ls::Select
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbx</font> &lt;FocusIn&gt; ::alited::favor_ls::Select
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbx</font> &lt;Delete&gt; ::alited::favor_ls::Delete
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbx</font> &lt;Double<font color=#463e11>-Button</font>-1&gt; ::alited::favor_ls::Ok
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbx</font> &lt;Return&gt; ::alited::favor_ls::Ok
  <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obDl2</font> showModal <font color=#4A181B>$win</font> <font color=#463e11>-resizable</font> {0 0}  <font color=#463e11>-onclose</font> ::alited::favor_ls::Cancel <font color=#463e11>-focus</font> [<font color=#4A181B>$obDl2</font> EntFav]]
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Favorites lists&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_94' href="javascript:toggleSource('94')">Show source</a></p>
<div id='94' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::_run {} {

  <i><font color=#646464># Runs &quot;Favorites lists&quot; dialogue.</font></i>

  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>set</font></b> res [_create]
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Add favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_95' href="javascript:toggleSource('95')">Show source</a></p>
<div id='95' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Add {} {

  <i><font color=#646464># Handles hitting &quot;Add favorites' list&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favcont
  <b><font color=#923B23>variable</font></b> favpla
  <b><font color=#923B23>variable</font></b> currents
  <b><font color=#923B23>variable</font></b> fav
  <b><font color=#923B23>variable</font></b> place
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [[<font color=#4A181B>$obDl2</font> LbxFav] curselection]] eq {}} {
    <b><font color=#923B23>set</font></b> cont <font color=#4A181B>$currents</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> cont [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$favcont</font> <font color=#4A181B>$isel</font>]
  }
  <b><font color=#923B23>set</font></b> found no
  <b><font color=#923B23>set</font></b> isel 0
  <b><font color=#923B23>foreach</font></b> f <font color=#4A181B>$favlist</font> p <font color=#4A181B>$favpla</font> c <font color=#4A181B>$favcont</font> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fav</font> eq <font color=#4A181B>$f</font> || (<font color=#4A181B>$p</font> eq <font color=#4A181B>$place</font> && <font color=#4A181B>$c</font> eq <font color=#4A181B>$cont)</font>} {
      <b><font color=#923B23>set</font></b> found yes
      <b><font color=#923B23>break</font></b>
    }
    <b><font color=#923B23>incr</font></b> isel
  }
  <b><font color=#923B23>set</font></b> fav [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$fav</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fav</font> ne <font color=#035103>&quot;&quot;</font> && <font color=#4A181B>$cont</font> ne <font color=#035103>&quot;&quot;</font> && <font color=#4A181B>$found</font>} {
    alited::Message2 <font color=#4A181B>$al(MC</font>,favexists) 4
    Select <font color=#4A181B>$isel</font>
    <b><font color=#A106A1>return</font></b>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$fav</font> eq <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> EntFav]
    alited::Message2 <font color=#4A181B>$al(MC</font>,favent1) 4
    <b><font color=#A106A1>return</font></b>
  } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$cont</font>] eq <font color=#035103>&quot;&quot;</font>} {
    alited::Message2 <font color=#4A181B>$al(MC</font>,favent3) 4
    <b><font color=#A106A1>return</font></b>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> isel end
    <b><font color=#923B23>lappend</font></b> favlist <font color=#4A181B>$fav</font>
    <b><font color=#923B23>lappend</font></b> favcont <font color=#4A181B>$cont</font>
    <b><font color=#923B23>lappend</font></b> favpla <font color=#4A181B>$place</font>
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$favlist</font>]] <font color=#4A181B>$al(MC</font>,favnew)]
    alited::Message2 <font color=#4A181B>$msg</font>
  }
  Focus <font color=#4A181B>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting Cancel button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_96' href="javascript:toggleSource('96')">Show source</a></p>
<div id='96' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Cancel {args} {

  <i><font color=#646464># Handles hitting Cancel button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  Save_favlist
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Change favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_97' href="javascript:toggleSource('97')">Show source</a></p>
<div id='97' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Change {} {

  <i><font color=#646464># Handles hitting &quot;Change favorites' list&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favpla
  <b><font color=#923B23>variable</font></b> place
  <b><font color=#923B23>variable</font></b> fav
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected]] eq <font color=#035103>&quot;&quot;</font>} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isl1 [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$favlist</font> <font color=#4A181B>$fav</font>]]!=<font color=#4A181B>$isel</font>} {
    alited::Message2 <font color=#4A181B>$al(MC</font>,favexists) 4
    Select <font color=#4A181B>$isl1</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> favlist [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$favlist</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$fav</font>]
    <b><font color=#923B23>set</font></b> favpla [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$favpla</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$place</font>]
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n [<b><font color=#923B23>incr</font></b> isel]] <font color=#4A181B>$al(MC</font>,favupd)]
    alited::Message2 <font color=#4A181B>$msg</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Delete favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_98' href="javascript:toggleSource('98')">Show source</a></p>
<div id='98' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Delete {} {

  <i><font color=#646464># Handles hitting &quot;Delete favorites' list&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favcont
  <b><font color=#923B23>variable</font></b> favpla
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected]] eq <font color=#035103>&quot;&quot;</font>} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> nsel [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$isel</font>+1}]
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$nsel</font>] <font color=#4A181B>$al(MC</font>,favdelq)]
  <b><font color=#923B23>if</font></b> {![alited::msg yesno warn <font color=#4A181B>$msg</font> NO <font color=#463e11>-title</font> <font color=#4A181B>$al(MC</font>,warning)]} {
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> favlist [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$favlist</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font>]
  <b><font color=#923B23>set</font></b> favcont [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$favcont</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font>]
  <b><font color=#923B23>set</font></b> favpla [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$favpla</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font>]
  <b><font color=#923B23>set</font></b> llen [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$favlist</font>]-1}]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font>&gt;<font color=#4A181B>$llen</font>} {<b><font color=#923B23>set</font></b> isel <font color=#4A181B>$llen</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$llen</font>&gt;=0} {Select <font color=#4A181B>$isel</font>}
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$nsel</font>] <font color=#4A181B>$al(MC</font>,favrem)]
  alited::Message2 <font color=#4A181B>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Focus'>Focus</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Focuses on an item of the list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Focus</span> <span class='ruff_arg'>isel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>the item to focus on</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_99' href="javascript:toggleSource('99')">Show source</a></p>
<div id='99' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Focus {isel} {

  <i><font color=#646464># Focuses on an item of the list.</font></i>
  <i><font color=#646464>#   isel - the item to focus on</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>set</font></b> lbx [<font color=#4A181B>$obDl2</font> LbxFav]
  <font color=#4A181B>$lbx</font> selection clear 0 end
  <font color=#4A181B>$lbx</font> selection set <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font>
  <font color=#4A181B>$lbx</font> see <font color=#4A181B>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::GetCurrentList'>GetCurrentList</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current list of favorites from alited's main form.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCurrentList</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>a list of favorites</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If args is omitted, the current favorites tree's contents will be the list.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_100' href="javascript:toggleSource('100')">Show source</a></p>
<div id='100' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::GetCurrentList {args} {

  <i><font color=#646464># Gets a current list of favorites from alited's main form.</font></i>
  <i><font color=#646464>#   args - a list of favorites</font></i>
  <i><font color=#646464># If args is omitted, the current favorites tree's contents will be the list.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> currents
  <b><font color=#923B23>set</font></b> text [<b><font color=#923B23>set</font></b> currents {}]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$args</font>]} {<b><font color=#923B23>set</font></b> args [alited::tree::GetTree {} TreeFavor]}
  <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$args</font> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$text</font> ne {}} {
      <b><font color=#923B23>append</font></b> text \n
      <b><font color=#923B23>append</font></b> currents <font color=#4A181B>$::alited::EOL</font>
    }
    <b><font color=#923B23>append</font></b> text [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$it</font> 4 0]
    <b><font color=#923B23>append</font></b> currents <font color=#4A181B>$it</font>
  }
  <b><font color=#923B23>set</font></b> w [<font color=#4A181B>$obDl2</font> TexFav]
  <font color=#4A181B>$obDl2</font> readonlyWidget <font color=#4A181B>$w</font> no
  <font color=#4A181B>$obDl2</font> displayText <font color=#4A181B>$w</font> <font color=#4A181B>$text</font>
  <font color=#4A181B>$obDl2</font> readonlyWidget <font color=#4A181B>$w</font> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::GetIni'>GetIni</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads favorites' lists data, stored in the ini file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetIni</span> <span class='ruff_arg'>lines</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lines</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_101' href="javascript:toggleSource('101')">Show source</a></p>
<div id='101' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::GetIni {lines} {

  <i><font color=#646464># Reads favorites' lists data, stored in the ini file.</font></i>

  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favlistsaved
  <b><font color=#923B23>variable</font></b> favcont
  <b><font color=#923B23>variable</font></b> favpla
  <b><font color=#923B23>variable</font></b> currents
  <b><font color=#923B23>variable</font></b> fav
  <b><font color=#923B23>variable</font></b> place
  <b><font color=#923B23>set</font></b> lines [Split <font color=#4A181B>$lines</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$lines</font>]&lt;3} {
    <i><font color=#646464># initialize arrays</font></i>
    <b><font color=#923B23>set</font></b> favlist [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>set</font></b> favlistsaved [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>set</font></b> favcont [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>set</font></b> favpla  [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>set</font></b> currents [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>set</font></b> fav {}
    <b><font color=#923B23>set</font></b> place 1
  } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>set</font></b> cont [<b><font color=#923B23>lrange</font></b> <font color=#4A181B>$lines</font> 2 end]] ne {}} {
    <b><font color=#923B23>lappend</font></b> favlist [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$lines</font> 0]
    <b><font color=#923B23>lappend</font></b> favpla  [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$lines</font> 1]
    <b><font color=#923B23>lappend</font></b> favcont [<b><font color=#923B23>join</font></b> <font color=#4A181B>$cont</font> <font color=#4A181B>$::alited::EOL</font>]
  }
  Save_favlist
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting Help button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_102' href="javascript:toggleSource('102')">Show source</a></p>
<div id='102' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Help {args} {

  <i><font color=#646464># Handles hitting Help button.</font></i>

  <b><font color=#923B23>variable</font></b> win
  alited::Help <font color=#4A181B>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::IniFile'>IniFile</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the ini file's name to store favorites' lists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IniFile</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the ini file's name to store favorites' lists.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_103' href="javascript:toggleSource('103')">Show source</a></p>
<div id='103' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::IniFile {} {

  <i><font color=#646464># Returns the ini file's name to store favorites' lists.</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::INIDIR</font> favor_ls.ini]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting OK button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?res?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>if 0, sets the dialogue's result from a current favorites item; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_104' href="javascript:toggleSource('104')">Show source</a></p>
<div id='104' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Ok {{res 0}} {

  <i><font color=#646464># Handles hitting OK button.</font></i>
  <i><font color=#646464>#   res - if 0, sets the dialogue's result from a current favorites item.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> favcont
  <b><font color=#923B23>variable</font></b> favpla
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$res</font>} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected]] eq {}} {
      <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> LbxFav]
      <b><font color=#A106A1>return</font></b>
    }
    <b><font color=#923B23>set</font></b> pla [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$favpla</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> cont [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$favcont</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b> <font color=#4A181B>$pla</font> [Split <font color=#4A181B>$cont</font>]]
  }
  Save_favlist
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::PutIni'>PutIni</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes favorites' lists data to store to the ini file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PutIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_105' href="javascript:toggleSource('105')">Show source</a></p>
<div id='105' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::PutIni {} {

  <i><font color=#646464># Makes favorites' lists data to store to the ini file.</font></i>

  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favcont
  <b><font color=#923B23>variable</font></b> favpla
  Restore_favlist
  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> fav <font color=#4A181B>$favlist</font> pla <font color=#4A181B>$favpla</font> cont <font color=#4A181B>$favcont</font> {
    <b><font color=#923B23>set</font></b> r1 <font color=#4A181B>$fav</font>
    <b><font color=#923B23>append</font></b> r1 <font color=#4A181B>$::alited::EOL</font>
    <b><font color=#923B23>append</font></b> r1 <font color=#4A181B>$pla</font>
    <b><font color=#923B23>append</font></b> r1 <font color=#4A181B>$::alited::EOL</font>
    <b><font color=#923B23>append</font></b> r1 <font color=#4A181B>$cont</font>
    <b><font color=#923B23>lappend</font></b> res <font color=#4A181B>$r1</font>
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Restore_favlist'>Restore_favlist</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores favorites' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Restore_favlist</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_106' href="javascript:toggleSource('106')">Show source</a></p>
<div id='106' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Restore_favlist {} {

  <i><font color=#646464># Restores favorites' list.</font></i>

  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favlistsaved
  <b><font color=#923B23>set</font></b> favlist <font color=#4A181B>$favlistsaved</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Save_favlist'>Save_favlist</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves favorites' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Save_favlist</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_107' href="javascript:toggleSource('107')">Show source</a></p>
<div id='107' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Save_favlist {} {

  <i><font color=#646464># Saves favorites' list.</font></i>

  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favlistsaved
  <b><font color=#923B23>set</font></b> favlistsaved <font color=#4A181B>$favlist</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection in the list of favorites' lists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?isel?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>a selected item of the list; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_108' href="javascript:toggleSource('108')">Show source</a></p>
<div id='108' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Select {{isel {}}} {

  <i><font color=#646464># Handles a selection in the list of favorites' lists.</font></i>
  <i><font color=#646464>#   isel - a selected item of the list</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>variable</font></b> favcont
  <b><font color=#923B23>variable</font></b> favpla
  <b><font color=#923B23>variable</font></b> fav
  <b><font color=#923B23>variable</font></b> place
  <b><font color=#923B23>set</font></b> lbx [<font color=#4A181B>$obDl2</font> LbxFav]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font> eq {}} {<b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$lbx</font> curselection]}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font> eq {} && [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$favlist</font>]} {<b><font color=#923B23>set</font></b> isel 0}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font> ne {}} {
    <b><font color=#923B23>set</font></b> fav [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$favlist</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> place [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$favpla</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> cont [Split [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$favcont</font> <font color=#4A181B>$isel</font>]]
    GetCurrentList {*}<font color=#4A181B>$cont</font>
    Focus <font color=#4A181B>$isel</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a selected item of favorites list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_109' href="javascript:toggleSource('109')">Show source</a></p>
<div id='109' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Selected {} {

  <i><font color=#646464># Gets a selected item of favorites list.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> favlist
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [[<font color=#4A181B>$obDl2</font> LbxFav] curselection]] eq {}} {
    alited::Message2 <font color=#4A181B>$al(MC</font>,favsel) 4
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Split'>Split</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Splits a saved list by the list's dividers.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Split</span> <span class='ruff_arg'>lines</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lines</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_110' href="javascript:toggleSource('110')">Show source</a></p>
<div id='110' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Split {lines} {

  <i><font color=#646464># Splits a saved list by the list's dividers.</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>split</font></b> [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$::alited::EOL</font> \n] <font color=#4A181B>$lines</font>] \n]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Text'>Text</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a text with a list of favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_111' href="javascript:toggleSource('111')">Show source</a></p>
<div id='111' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::favor_ls::Text {} {

  <i><font color=#646464># Gets a text with a list of favorites.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#A106A1>return</font></b> [[<font color=#4A181B>$obDl2</font> TexFav] get 1.0 {end -1 char}]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::file'></a>::alited::file<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::file-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::file::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a file at the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_112' href="javascript:toggleSource('112')">Show source</a></p>
<div id='112' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::Add {ID} {

  <i><font color=#646464># Creates a file at the file tree.</font></i>
  <i><font color=#646464>#   ID - tree item's ID</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav obDl2 obDl2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ID</font> eq {}} {<b><font color=#923B23>set</font></b> ID [alited::tree::CurrentItem]}
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> dname [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 1]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> isdirectory <font color=#4A181B>$dname</font>]} {
    <b><font color=#923B23>set</font></b> fname {}
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$dname</font>]
    <b><font color=#923B23>set</font></b> dname [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$dname</font>]
  }
  <b><font color=#923B23>set</font></b> head [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %d <font color=#4A181B>$dname</font>] <font color=#4A181B>$al(MC</font>,filesadd2)]
  <b><font color=#923B23>while</font></b> {1} {
    <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obDl2</font> input {} <font color=#4A181B>$al(MC</font>,filesadd) [<b><font color=#923B23>list</font></b>  seh {{} {<font color=#463e11>-pady</font> 10}} {}  ent {{File name:} {} {<font color=#463e11>-w</font> 40}} <font color=#035103>&quot;<font color=#4A181B>{$</font>fname<font color=#4A181B>}</font>&quot;</font>  chb [<b><font color=#923B23>list</font></b> {} {<font color=#463e11>-padx</font> 5} [<b><font color=#923B23>list</font></b> <font color=#463e11>-toprev</font> 1 <font color=#463e11>-t</font> Directory]] {0} ]  <font color=#463e11>-head</font> <font color=#4A181B>$head</font> <font color=#463e11>-family</font> <font color=#035103>&quot;<font color=#4A181B>{[</font>::apave::obj basicTextFont<font color=#4A181B>]}</font>&quot;</font>]
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$res</font> res fname isdir
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> && <font color=#4A181B>$fname</font> eq {}} <b><font color=#7A040E>bell</font></b> else break
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font>} {
    <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$dname</font> <font color=#4A181B>$fname</font>]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isdir</font>} {
        <b><font color=#923B23>file</font></b> mkdir <font color=#4A181B>$fname</font>
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> extension <font color=#4A181B>$fname</font>] eq {}} {<b><font color=#923B23>append</font></b> fname .tcl}
        <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fname</font>]} {<b><font color=#923B23>close</font></b> [<b><font color=#923B23>open</font></b> <font color=#4A181B>$fname</font> w]}
        OpenFile <font color=#4A181B>$fname</font>
      }
      <font color=#4A181B>$wtree</font> selection set {}
      alited::tree::RecreateTree
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isdir</font>} {
        <i><font color=#646464># find the created directory</font></i>
        <b><font color=#923B23>foreach</font></b> item [alited::tree::GetTree] {
          <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> - - ID - data
          <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> dname [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$data</font> 1]] eq <font color=#4A181B>$fname</font>} {
            <b><font color=#923B23>catch</font></b> {<font color=#4A181B>$wtree</font> selection remove [<font color=#4A181B>$wtree</font> selection]}
            <font color=#4A181B>$wtree</font> selection add <font color=#4A181B>$ID</font>
            <font color=#4A181B>$wtree</font> see <font color=#4A181B>$ID</font>
            <b><font color=#923B23>break</font></b>
          }
        }
      }
    } err]} then {
      alited::msg ok err <font color=#4A181B>$err</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::AddRecent'>AddRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddRecent</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_113' href="javascript:toggleSource('113')">Show source</a></p>
<div id='113' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::AddRecent {fname} {

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  InsertRecent <font color=#4A181B>$fname</font> 0
  alited::menu::FillRecent
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::AllSaved'>AllSaved</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks whether all files are saved. Saves them if not.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AllSaved</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_114' href="javascript:toggleSource('114')">Show source</a></p>
<div id='114' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::AllSaved {} {

  <i><font color=#646464># Checks whether all files are saved. Saves them if not.</font></i>

  <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>switch</font></b> [IsSaved <font color=#4A181B>$TID</font>] {
      0 { ;<i><font color=#646464># &quot;Cancel&quot; chosen for a modified</font></i>
        <b><font color=#A106A1>return</font></b> no
      }
      1 { ;<i><font color=#646464># &quot;Save&quot; chosen for a modified</font></i>
        <b><font color=#923B23>set</font></b> res [SaveFile <font color=#4A181B>$TID</font>]
      }
    }
  }
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CheckForNew'>CheckForNew</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckForNew</span> <span class='ruff_arg'>?docheck?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>docheck</code></code></td><td class='ruff_defitem'>if yes, does checking, if no - run itself with docheck=yes; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_115' href="javascript:toggleSource('115')">Show source</a></p>
<div id='115' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::CheckForNew {{docheck no}} {

  <i><font color=#646464># Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.</font></i>
  <i><font color=#646464>#   docheck - if yes, does checking, if no - run itself with docheck=yes</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$docheck</font>} {
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> [alited::bar::BAR listTab]]} {
      alited::file::NewFile
    }
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>after</font></b> idle {::alited::file::CheckForNew yes}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ChooseRecent'>ChooseRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChooseRecent</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_116' href="javascript:toggleSource('116')">Show source</a></p>
<div id='116' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::ChooseRecent {idx} {

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(RECENTFILES)</font> <font color=#4A181B>$idx</font>]
  AddRecent <font color=#4A181B>$fname</font>
  OpenFile <font color=#4A181B>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseAll'>CloseAll</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseAll</span> <span class='ruff_arg'>func ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>func</code></code></td><td class='ruff_defitem'>&quot;1/2/3&quot; means closing &quot;all/to left/to right&quot;</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>may contain -skipsel to not close selected tabs</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_117' href="javascript:toggleSource('117')">Show source</a></p>
<div id='117' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::CloseAll {func args} {

  <i><font color=#646464># Closes files.</font></i>
  <i><font color=#646464>#   func - &quot;1/2/3&quot; means closing &quot;all/to left/to right&quot;</font></i>
  <i><font color=#646464>#   args - may contain -skipsel to not close selected tabs</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>set</font></b> al(closefunc) <font color=#4A181B>$func</font> ;<i><font color=#646464># disables &quot;recent files&quot; at closing all</font></i>
  alited::bar::BAR closeAll <font color=#4A181B>$::alited::al(BID)</font> <font color=#4A181B>$TID</font> <font color=#4A181B>$func</font> {*}<font color=#4A181B>$args</font>
  <b><font color=#923B23>set</font></b> al(closefunc) 0
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>llength</font></b> [alited::bar::BAR listFlag <font color=#035103>&quot;m&quot;</font>]]==0}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseFile'>CloseFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFile</span> <span class='ruff_arg'>?TID? ?checknew?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>checknew</code></code></td><td class='ruff_defitem'>if yes, checks if new file's tab should be created; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 0, if a user selects &quot;Cancel&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_118' href="javascript:toggleSource('118')">Show source</a></p>
<div id='118' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::CloseFile {{TID {}} {checknew yes}} {

  <i><font color=#646464># Closes a file.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   checknew - if yes, checks if new file's tab should be created</font></i>
  <i><font color=#646464># Returns 0, if a user selects &quot;Cancel&quot;.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> res 1
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName <font color=#4A181B>$TID</font>]
  <b><font color=#923B23>lassign</font></b> [alited::bar::GetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-wtxt</font> -<font color=#463e11>-wsbv</font>] wtxt wsbv
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ni {{-1} {}} && <font color=#4A181B>$wtxt</font> ne {}} {
    <b><font color=#923B23>switch</font></b> [IsSaved <font color=#4A181B>$TID</font>] {
      0 { ;<i><font color=#646464># &quot;Cancel&quot; chosen for a modified</font></i>
        <b><font color=#A106A1>return</font></b> 0
      }
      1 { ;<i><font color=#646464># &quot;Save&quot; chosen for a modified</font></i>
        <b><font color=#923B23>set</font></b> res [SaveFile <font color=#4A181B>$TID</font>]
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wtxt</font> ne [<font color=#4A181B>$obPav</font> Text]} {
      <i><font color=#646464># [$obPav Text] was made by main::_open, let it be alive</font></i>
      <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$wtxt</font>
      <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$wsbv</font>
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$checknew</font>} CheckForNew
    alited::ini::SaveCurrentIni <font color=#4A181B>$al(INI</font>,save_onclose)
    alited::tree::UpdateFileTree
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(closefunc)</font> != 1} {  ;<i><font color=#646464># close func = 1 means &quot;close all&quot;</font></i>
    alited::file::AddRecent <font color=#4A181B>$fname</font>
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseFileMenu'>CloseFileMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes the current file from the menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFileMenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_119' href="javascript:toggleSource('119')">Show source</a></p>
<div id='119' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::CloseFileMenu {} {

  <i><font color=#646464># Closes the current file from the menu.</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]] ne <font color=#035103>&quot;&quot;</font>} {
    alited::bar::BAR <font color=#4A181B>$TID</font> close
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a file at the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>ID wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID wtree file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_120' href="javascript:toggleSource('120')">Show source</a></p>
<div id='120' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::Delete {ID wtree} {

  <i><font color=#646464># Deletes a file at the file tree.</font></i>
  <i><font color=#646464>#   ID - tree item's ID</font></i>
  <i><font color=#646464>#   wtree file tree widget</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al BAKDIR BAKDIR
  <b><font color=#923B23>set</font></b> name [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-text</font>]
  <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 1]
  <b><font color=#923B23>set</font></b> TID [alited::bar::FileTID <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#7A040E>bell</font></b>
    alited::msg ok warn <font color=#4A181B>$al(MC</font>,nodelopen)
    alited::bar::BAR <font color=#4A181B>$TID</font> show
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$name</font>] <font color=#4A181B>$al(MC</font>,delfile)]
  <b><font color=#923B23>if</font></b> {[alited::msg yesno ques <font color=#4A181B>$msg</font> NO]} {
    RemoveFile <font color=#4A181B>$fname</font> <font color=#4A181B>$BAKDIR</font> backup
    <font color=#4A181B>$wtree</font> selection set {}
    alited::tree::RecreateTree
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DisplayFile'>DisplayFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a file's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisplayFile</span> <span class='ruff_arg'>TID fname wtxt doreload</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>doreload</code></code></td><td class='ruff_defitem'>if yes, forces reloading (at external changes of file)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_121' href="javascript:toggleSource('121')">Show source</a></p>
<div id='121' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::DisplayFile {TID fname wtxt doreload} {

  <i><font color=#646464># Displays a file's contents.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   doreload - if yes, forces reloading (at external changes of file)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#646464># this is most critical: displayed text should correspond to the tab</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wtxt</font> ne [alited::main::GetWTXT <font color=#4A181B>$TID</font>]} {
    <b><font color=#923B23>set</font></b> errmsg <font color=#035103>&quot;\n ERROR file::DisplayFile:  \n (<font color=#4A181B>$</font>TID) <font color=#4A181B>$</font>wtxt != <font color=#4A181B>[</font>alited::main::GetWTXT <font color=#4A181B>$</font>TID<font color=#4A181B>]</font>  \n Please, notify alited's authors!\n&quot;</font>
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$errmsg</font>
    <b><font color=#A106A1>return</font></b> <font color=#463e11>-code</font> error <font color=#4A181B>$errmsg</font>
  }
  <i><font color=#646464># another critical point: read the file only at need</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doreload</font> || [<b><font color=#923B23>set</font></b> filecont [ReadFileByTID <font color=#4A181B>$TID</font> yes]] eq {}} {
    <i><font color=#646464># last check point: 0 bytes of the file =&gt; read it anyway</font></i>
    <b><font color=#923B23>set</font></b> filecont [ReadFile <font color=#4A181B>$TID</font> <font color=#4A181B>$fname</font>]
  }
  <font color=#4A181B>$obPav</font> displayText <font color=#4A181B>$wtxt</font> <font color=#4A181B>$filecont</font>
  <font color=#4A181B>$obPav</font> makePopup <font color=#4A181B>$wtxt</font> no yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DoMoveFile'>DoMoveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Asks and moves a file to a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoMoveFile</span> <span class='ruff_arg'>fname dname f1112 ?addmsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>directory name</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by pressing F11/F12 keys</td></tr>
<tr><td class='ruff_defitem'><code><code>addmsg</code></code></td><td class='ruff_defitem'>additional message (for external moves); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_122' href="javascript:toggleSource('122')">Show source</a></p>
<div id='122' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::DoMoveFile {fname dname f1112 {addmsg {}}} {

  <i><font color=#646464># Asks and moves a file to a directory.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464>#   dname - directory name</font></i>
  <i><font color=#646464>#   f1112 - yes, if run by pressing F11/F12 keys</font></i>
  <i><font color=#646464>#   addmsg - additional message (for external moves)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> isdirectory <font color=#4A181B>$fname</font>]} {
    <b><font color=#923B23>set</font></b> msg [msgcat::mc {%f is a directory}]
    alited::Message [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$fname</font>] <font color=#4A181B>$msg</font>] 4
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> tailname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$f1112</font> || <font color=#4A181B>$addmsg</font> ne {}} {
    <b><font color=#923B23>set</font></b> defb NO
    <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> defb YES
    <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-geometry pointer+10+10&quot;</font>
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(_ANS_MOVE_)] || <font color=#4A181B>$al(_ANS_MOVE_)</font>!=11} {
    <b><font color=#923B23>append</font></b> addmsg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$tailname</font> %d <font color=#4A181B>$dname</font>] <font color=#4A181B>$al(MC</font>,movefile)]
    <b><font color=#923B23>set</font></b> al(_ANS_MOVE_) [alited::msg yesno ques <font color=#4A181B>$addmsg</font>  <font color=#4A181B>$defb</font> <font color=#463e11>-title</font> <font color=#4A181B>$al(MC</font>,moving) {*}<font color=#4A181B>$geo</font> <font color=#463e11>-ch</font> <font color=#035103>&quot;Don't ask again&quot;</font>]
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(_ANS_MOVE_)</font>} <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#A106A1>return</font></b> [RemoveFile <font color=#4A181B>$fname</font> <font color=#4A181B>$dname</font> move]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DoRenameFileInTree'>DoRenameFileInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Performs renaming a current file in a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoRenameFileInTree</span> <span class='ruff_arg'>wtree ID fname name2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of the file in the file tree</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>old file name (full)</td></tr>
<tr><td class='ruff_defitem'><code><code>name2</code></code></td><td class='ruff_defitem'>new file name (tail)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_123' href="javascript:toggleSource('123')">Show source</a></p>
<div id='123' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::DoRenameFileInTree {wtree ID fname name2} {

  <i><font color=#646464># Performs renaming a current file in a file tree.</font></i>
  <i><font color=#646464>#   wtree - file tree's path</font></i>
  <i><font color=#646464>#   ID    - ID of the file in the file tree</font></i>
  <i><font color=#646464>#   fname - old file name (full)</font></i>
  <i><font color=#646464>#   name2 - new file name (tail)</font></i>

  <b><font color=#923B23>set</font></b> fsplit [<b><font color=#923B23>file</font></b> split <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>set</font></b> fname2 [<b><font color=#923B23>file</font></b> join [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$fname</font>] <font color=#4A181B>$name2</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> rename <font color=#4A181B>$fname</font> <font color=#4A181B>$fname2</font>} err]} {
    alited::msg ok err <font color=#4A181B>$err</font> <font color=#463e11>-text</font> 1 <font color=#463e11>-w</font> 40 <font color=#463e11>-h</font> {5 7}
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>set</font></b> fname1 [alited::bar::FileName <font color=#4A181B>$TID</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname1</font> eq <font color=#4A181B>$fname</font>} {
      RenameFile <font color=#4A181B>$TID</font> <font color=#4A181B>$fname2</font> no
      <b><font color=#923B23>break</font></b>
    }
    <b><font color=#923B23>set</font></b> fsplit1 [<b><font color=#923B23>file</font></b> split <font color=#4A181B>$fname1</font>]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> first <font color=#4A181B>$fsplit</font> <font color=#4A181B>$fsplit1</font>]==0} {
      <b><font color=#923B23>set</font></b> fname1 [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$fname2</font> {*}[<b><font color=#923B23>lrange</font></b> <font color=#4A181B>$fsplit1</font> [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$fsplit</font>] end]]
      RenameFile <font color=#4A181B>$TID</font> <font color=#4A181B>$fname1</font> no
    }
  }
  alited::bar::BAR draw
  RecreateFileTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DropFiles'>DropFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a group of selected files to other tree position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropFiles</span> <span class='ruff_arg'>wtree fromIDs toID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget fromIDs- tree IDs to move the file from</td></tr>
<tr><td class='ruff_defitem'><code><code>fromIDs</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>toID</code></code></td><td class='ruff_defitem'>tree ID to move the file to</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The destination position is freely chosen by &quot;Drop here&quot; menu item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_124' href="javascript:toggleSource('124')">Show source</a></p>
<div id='124' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::DropFiles {wtree fromIDs toID} {

  <i><font color=#646464># Moves a group of selected files to other tree position.</font></i>
  <i><font color=#646464>#   wtree - file tree widget</font></i>
  <i><font color=#646464>#   fromIDs- tree IDs to move the file from</font></i>
  <i><font color=#646464>#   toID - tree ID to move the file to</font></i>
  <i><font color=#646464># The destination position is freely chosen by &quot;Drop here&quot; menu item.</font></i>

  <b><font color=#923B23>if</font></b> {![<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$toID</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> dirname [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$toID</font> <font color=#463e11>-values</font>] 1]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> isdirectory <font color=#4A181B>$dirname</font>]} {
    <b><font color=#923B23>set</font></b> dirname [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$dirname</font>]
  }
  <b><font color=#923B23>set</font></b> movedfiles [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> fromID <font color=#4A181B>$fromIDs</font> {
    <b><font color=#923B23>if</font></b> {![<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$fromID</font>]} <b><font color=#923B23>continue</font></b>
    <b><font color=#923B23>set</font></b> curfile [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$fromID</font> <font color=#463e11>-values</font>] 1]
    <b><font color=#923B23>lappend</font></b> movedfiles <font color=#4A181B>$curfile</font>
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$movedfiles</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>foreach</font></b> curfile <font color=#4A181B>$movedfiles</font> {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> isdirectory <font color=#4A181B>$curfile</font>]} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$curfile</font> ne <font color=#4A181B>$dirname</font>} {
        alited::Message [msgcat::mc {Only files are moved by alited.}] 4
      }
      <b><font color=#923B23>continue</font></b>
    }
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$curfile</font>] ne <font color=#4A181B>$dirname</font>} {
      <b><font color=#923B23>lappend</font></b> newnames [DoMoveFile <font color=#4A181B>$curfile</font> <font color=#4A181B>$dirname</font> yes]
    }
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists newnames]} {
    alited::tree::RecreateTree {} <font color=#4A181B>$newnames</font>
    alited::main::ShowHeader yes
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileAttrs'>FileAttrs</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a file attributes: name &amp; time.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileAttrs</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a file attributes: name &amp; time.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_125' href="javascript:toggleSource('125')">Show source</a></p>
<div id='125' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::FileAttrs {TID} {

  <i><font color=#646464># Returns a file attributes: name & time.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName <font color=#4A181B>$TID</font>]
  <b><font color=#923B23>lassign</font></b> [alited::bar::BAR <font color=#4A181B>$TID</font> cget -<font color=#463e11>-mtime</font> -<font color=#463e11>-mtimefile</font>] mtime mtimefile
  <b><font color=#923B23>set</font></b> isfile [<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {
    <b><font color=#923B23>set</font></b> curtime [<b><font color=#923B23>file</font></b> mtime <font color=#4A181B>$fname</font>]
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$fname</font> ne <font color=#4A181B>$al(MC</font>,nofile)} {
    <b><font color=#923B23>set</font></b> curtime ?
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> curtime {}
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$fname</font> <font color=#4A181B>$isfile</font> <font color=#4A181B>$mtime</font> <font color=#4A181B>$mtimefile</font> <font color=#4A181B>$curtime</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileSize'>FileSize</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats a file's size.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileSize</span> <span class='ruff_arg'>bsize</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>bsize</code></code></td><td class='ruff_defitem'>file size in bytes</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_126' href="javascript:toggleSource('126')">Show source</a></p>
<div id='126' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::FileSize {bsize} {

  <i><font color=#646464># Formats a file's size.</font></i>
  <i><font color=#646464>#   bsize - file size in bytes</font></i>

  <b><font color=#923B23>set</font></b> res <font color=#035103>&quot;<font color=#4A181B>$</font>bsize bytes&quot;</font>
  <b><font color=#923B23>set</font></b> bsz <font color=#4A181B>$bsize</font>
  <b><font color=#923B23>foreach</font></b> m {Kb Mb Gb Tb} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$bsz</font>&lt;1024} <b><font color=#923B23>break</font></b>
    <b><font color=#923B23>set</font></b> rsz [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$bsz</font>/1024.0}]
    <b><font color=#923B23>set</font></b> res <font color=#035103>&quot;<font color=#4A181B>[</font>format %.1f <font color=#4A181B>$</font>rsz<font color=#4A181B>]</font> <font color=#4A181B>$</font>m (<font color=#4A181B>$</font>bsize bytes)&quot;</font>
    <b><font color=#923B23>set</font></b> bsz [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$bsz</font>/1024)}]
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileStat'>FileStat</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file's attributes: times &amp; size.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileStat</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a string with file name and attributes divided by \n.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_127' href="javascript:toggleSource('127')">Show source</a></p>
<div id='127' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::FileStat {fname} {

  <i><font color=#646464># Gets a file's attributes: times & size.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464># Returns a string with file name and attributes divided by \n.</font></i>

  <b><font color=#923B23>set</font></b> res {}
  <b><font color=#923B23>array</font></b> set ares {}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$alited::al(TREE</font>,showinfo) && ![<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> stat <font color=#4A181B>$fname</font> ares}]} {
    <b><font color=#923B23>set</font></b> dtf <font color=#035103>&quot;%D %T&quot;</font>
    <b><font color=#923B23>set</font></b> res <font color=#035103>&quot;\n \nCreated: <font color=#4A181B>[</font>clock format <font color=#4A181B>$</font>ares(ctime) -format <font color=#4A181B>$</font>dtf<font color=#4A181B>]</font> \nModified: <font color=#4A181B>[</font>clock format <font color=#4A181B>$</font>ares(mtime) -format <font color=#4A181B>$</font>dtf<font color=#4A181B>]</font> \nAccessed: <font color=#4A181B>[</font>clock format <font color=#4A181B>$</font>ares(atime) -format <font color=#4A181B>$</font>dtf<font color=#4A181B>]</font> \nSize: <font color=#4A181B>[</font>FileSize <font color=#4A181B>$</font>ares(size)<font color=#4A181B>]</font>&quot;</font>
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>append</font></b> fname <font color=#4A181B>$res</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::InsertRecent'>InsertRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertRecent</span> <span class='ruff_arg'>fname pos</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_128' href="javascript:toggleSource('128')">Show source</a></p>
<div id='128' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::InsertRecent {fname pos} {

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {![IsNoName <font color=#4A181B>$fname</font>]} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>lsearch</font></b> <font color=#4A181B>$al(RECENTFILES)</font> <font color=#4A181B>$fname</font>]]&gt;-1} {
      <b><font color=#923B23>set</font></b> al(RECENTFILES) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(RECENTFILES)</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
    }
    <b><font color=#923B23>set</font></b> al(RECENTFILES) [<b><font color=#923B23>linsert</font></b> <font color=#4A181B>$al(RECENTFILES)</font> <font color=#4A181B>$pos</font> <font color=#4A181B>$fname</font>]
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>set</font></b> al(RECENTFILES) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(RECENTFILES)</font> <font color=#4A181B>$al(INI</font>,RECENTFILES) end]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsClang'>IsClang</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is of C/C++.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsClang</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_129' href="javascript:toggleSource('129')">Show source</a></p>
<div id='129' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::IsClang {fname} {

  <i><font color=#646464># Checks if a file is of C/C++.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> tolower [<b><font color=#923B23>file</font></b> extension <font color=#4A181B>$fname</font>]] in <font color=#4A181B>$alited::al(ClangExtensions)</font>} {
    <b><font color=#A106A1>return</font></b> yes
  }
  <b><font color=#A106A1>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsModified'>IsModified</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a text of tab is modified.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsModified</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_130' href="javascript:toggleSource('130')">Show source</a></p>
<div id='130' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::IsModified {{TID {}}} {

  <i><font color=#646464># Checks if a text of tab is modified.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-index</font> 0 [alited::bar::BAR listFlag m] <font color=#4A181B>$TID</font>]&gt;-1}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsNoName'>IsNoName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file name is &quot;No name&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsNoName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_131' href="javascript:toggleSource('131')">Show source</a></p>
<div id='131' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::IsNoName {fname} {

  <i><font color=#646464># Checks if a file name is &quot;No name&quot;.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>] in [<b><font color=#923B23>list</font></b> <font color=#4A181B>$al(MC</font>,nofile) {No name} {}]} {
    <b><font color=#A106A1>return</font></b> yes
  }
  <b><font color=#A106A1>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsSaved'>IsSaved</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is modified and if yes, offers to save it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsSaved</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1 for &quot;yes, needs saving&quot;, 2 for &quot;needs no saving&quot;, 0 for &quot;cancel&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_132' href="javascript:toggleSource('132')">Show source</a></p>
<div id='132' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::IsSaved {TID} {

  <i><font color=#646464># Checks if a file is modified and if yes, offers to save it.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>
  <i><font color=#646464># Returns 1 for &quot;yes, needs saving&quot;, 2 for &quot;needs no saving&quot;, 0 for &quot;cancel&quot;.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[IsModified <font color=#4A181B>$TID</font>]} {
    <b><font color=#923B23>set</font></b> fname [alited::bar::BAR <font color=#4A181B>$TID</font> cget <font color=#463e11>-text</font>]
    <b><font color=#923B23>set</font></b> ans [alited::msg yesnocancel warn [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$fname</font>]  <font color=#4A181B>$al(MC</font>,notsaved)] YES <font color=#463e11>-title</font> <font color=#4A181B>$al(MC</font>,saving)]
    <b><font color=#A106A1>return</font></b> <font color=#4A181B>$ans</font>
  }
  <b><font color=#A106A1>return</font></b> 2  ;<i><font color=#646464># as if &quot;No&quot; chosen</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsTcl'>IsTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is of Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsTcl</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_133' href="javascript:toggleSource('133')">Show source</a></p>
<div id='133' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::IsTcl {fname} {

  <i><font color=#646464># Checks if a file is of Tcl.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> tolower [<b><font color=#923B23>file</font></b> extension <font color=#4A181B>$fname</font>]] in <font color=#4A181B>$alited::al(TclExtensions)</font>} {
    <b><font color=#A106A1>return</font></b> yes
  }
  <b><font color=#A106A1>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsUnitFile'>IsUnitFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file has a unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsUnitFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_134' href="javascript:toggleSource('134')">Show source</a></p>
<div id='134' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::IsUnitFile {fname} {

  <i><font color=#646464># Checks if a file has a unit tree.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>expr</font></b> {[IsTcl <font color=#4A181B>$fname</font>]}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MakeThemHighlighted'>MakeThemHighlighted</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets flag &quot;highlight file(s) anyway&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MakeThemHighlighted</span> <span class='ruff_arg'>?tabs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tabs</code></code></td><td class='ruff_defitem'>list of tabs to set the flag for; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Useful when you need update the files' highlightings.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_135' href="javascript:toggleSource('135')">Show source</a></p>
<div id='135' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::MakeThemHighlighted {{tabs {}}} {

  <i><font color=#646464># Sets flag &quot;highlight file(s) anyway&quot;.</font></i>
  <i><font color=#646464>#   tabs - list of tabs to set the flag for</font></i>
  <i><font color=#646464># Useful when you need update the files' highlightings.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tabs</font> eq {}} {
    <b><font color=#923B23>set</font></b> tabs [alited::bar::BAR listTab]
  }
  <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$tabs</font> {
    <b><font color=#923B23>set</font></b> wtxt [alited::main::GetWTXT [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]]
    <b><font color=#923B23>set</font></b> al(HL,<font color=#4A181B>$wtxt)</font> {..}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MoveExternal'>MoveExternal</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves an external file to a project's directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveExternal</span> <span class='ruff_arg'>f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_136' href="javascript:toggleSource('136')">Show source</a></p>
<div id='136' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::MoveExternal {f1112} {

  <i><font color=#646464># Moves an external file to a project's directory.</font></i>
  <i><font color=#646464>#   f1112 - yes, if run by F11/F12 keys</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjroot)</font> eq {} || [<b><font color=#923B23>string</font></b> first <font color=#4A181B>$al(prjroot)</font> <font color=#4A181B>$fname</font>]==0} {
    <b><font color=#A106A1>return</font></b> no  ;<i><font color=#646464># no project directory or the file is inside it</font></i>
  }
  <b><font color=#923B23>set</font></b> addmsg [msgcat::mc {THE EXTERNAL FILE IS MOVED TO THE PROJECT!}]
  <b><font color=#923B23>set</font></b> fname2 [DoMoveFile <font color=#4A181B>$fname</font> <font color=#4A181B>$al(prjroot)</font> <font color=#4A181B>$f1112</font> <font color=#035103>&quot;<font color=#4A181B>$</font>addmsg\n\n&quot;</font>]
  alited::tree::RecreateTree {} <font color=#4A181B>$fname2</font>
  alited::main::ShowHeader yes
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MoveFiles'>MoveFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves  file(s).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveFiles</span> <span class='ruff_arg'>wtree to itemIDs f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>&quot;move&quot;, &quot;up&quot; or &quot;down&quot; (direction of moving)</td></tr>
<tr><td class='ruff_defitem'><code><code>itemIDs</code></code></td><td class='ruff_defitem'>file's tree IDs to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes for pressing F11/F12 or file's tree ID</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>For to=move, f1112 is a file's ID to be moved to.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_137' href="javascript:toggleSource('137')">Show source</a></p>
<div id='137' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::MoveFiles {wtree to itemIDs f1112} {

  <i><font color=#646464># Moves  file(s).</font></i>
  <i><font color=#646464>#   wtree - file tree widget</font></i>
  <i><font color=#646464>#   to - &quot;move&quot;, &quot;up&quot; or &quot;down&quot; (direction of moving)</font></i>
  <i><font color=#646464>#   itemIDs - file's tree IDs to be moved</font></i>
  <i><font color=#646464>#   f1112 - yes for pressing F11/F12 or file's tree ID</font></i>
  <i><font color=#646464># For to=move, f1112 is a file's ID to be moved to.</font></i>

  <b><font color=#923B23>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#923B23>set</font></b> itemID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$itemIDs</font> 0]
  <b><font color=#923B23>set</font></b> idx [alited::unit::SearchInBranch <font color=#4A181B>$itemID</font> <font color=#4A181B>$tree</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$to</font> eq {move}} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$idx</font>&gt;=0} {
      DropFiles <font color=#4A181B>$wtree</font> <font color=#4A181B>$itemIDs</font> <font color=#4A181B>$f1112</font>
    }
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> curfile [alited::bar::FileName]
  <b><font color=#923B23>set</font></b> curdir [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$curfile</font>]
  <b><font color=#923B23>set</font></b> isexternal [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>string</font></b> first [<b><font color=#923B23>file</font></b> normalize <font color=#4A181B>$alited::al(prjroot)</font>]  [<b><font color=#923B23>file</font></b> normalize <font color=#4A181B>$curdir</font>]]&lt;0}]
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$isexternal</font>} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$idx</font>&lt;0} {<b><font color=#7A040E>bell</font></b>; <b><font color=#A106A1>return</font></b>}
    <i><font color=#646464># the edited file is not external =&gt; try to move selected files of the tree</font></i>
    <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$itemID</font> <font color=#463e11>-values</font>] -&gt; curfile
    <b><font color=#923B23>set</font></b> curdir [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$curfile</font>]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$to</font> eq {up}} {<b><font color=#923B23>set</font></b> ito 0} {<b><font color=#923B23>set</font></b> ito end}
  <b><font color=#923B23>set</font></b> selparent [<font color=#4A181B>$wtree</font> parent [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$itemIDs</font> <font color=#4A181B>$ito</font>]]
  <b><font color=#923B23>set</font></b> dirname {}
  <b><font color=#923B23>set</font></b> increment [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$to</font> eq {up} ? -1 : 1}]
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i <font color=#4A181B>$idx</font>} {1} {<b><font color=#923B23>incr</font></b> i <font color=#4A181B>$increment</font>} {
    <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tree</font> <font color=#4A181B>$i</font> 4] files fname isfile id
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> eq {}} <b><font color=#923B23>break</font></b>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {
      <b><font color=#923B23>set</font></b> parent [<font color=#4A181B>$wtree</font> parent <font color=#4A181B>$id</font>]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$parent</font> ne <font color=#4A181B>$selparent</font> && <font color=#4A181B>$parent</font> ne {} && [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$fname</font>] ne <font color=#4A181B>$curdir</font>} {
        <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$parent</font> <font color=#463e11>-values</font>] files fname isfile id
        <b><font color=#923B23>set</font></b> dirname <font color=#4A181B>$fname</font>
        <b><font color=#923B23>break</font></b>
      }
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$id</font> ne <font color=#4A181B>$selparent</font> && <font color=#4A181B>$fname</font> ne <font color=#4A181B>$curdir</font>} {
      <b><font color=#923B23>set</font></b> dirname <font color=#4A181B>$fname</font>
      <b><font color=#923B23>break</font></b>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dirname</font> eq {}} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$selparent</font> ne {}} {
      <b><font color=#923B23>set</font></b> dirname <font color=#4A181B>$alited::al(prjroot)</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#7A040E>bell</font></b>
      <b><font color=#A106A1>return</font></b>
    }
  }
  <b><font color=#923B23>set</font></b> movedfiles [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isexternal</font>} {
    <i><font color=#646464># this file is external to the project - ask to move it into the project</font></i>
    <b><font color=#923B23>lappend</font></b> movedfiles [DoMoveFile <font color=#4A181B>$curfile</font> <font color=#4A181B>$dirname</font> <font color=#4A181B>$f1112</font>]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> f1112 [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$f1112</font> || [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$itemIDs</font>]&gt;1}]
    <b><font color=#923B23>foreach</font></b> ID <font color=#4A181B>$itemIDs</font> {
      <b><font color=#923B23>set</font></b> curfile [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 1]
      <b><font color=#923B23>lappend</font></b> movedfiles [DoMoveFile <font color=#4A181B>$curfile</font> <font color=#4A181B>$dirname</font> <font color=#4A181B>$f1112</font>]
    }
  }
  <font color=#4A181B>$wtree</font> selection set {}
  alited::tree::RecreateTree {} <font color=#4A181B>$movedfiles</font>
  alited::main::ShowHeader yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::NewFile'>NewFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;New file&quot; menu item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewFile</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_138' href="javascript:toggleSource('138')">Show source</a></p>
<div id='138' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::NewFile {} {

  <i><font color=#646464># Handles &quot;New file&quot; menu item.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> TID [alited::bar::FileTID <font color=#4A181B>$al(MC</font>,nofile)]] eq {}} {
    <b><font color=#923B23>set</font></b> TID [alited::bar::InsertTab <font color=#4A181B>$al(MC</font>,nofile) <font color=#4A181B>$al(MC</font>,nofile)]
  }
  alited::bar::BAR <font color=#4A181B>$TID</font> show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenFile'>OpenFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Open file&quot; menu item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFile</span> <span class='ruff_arg'>?fnames? ?reload? ?islist?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fnames</code></code></td><td class='ruff_defitem'>file name (if not set, asks for it); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>reload</code></code></td><td class='ruff_defitem'>if yes, loads the file even if it has a &quot;strange&quot; extension; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>islist</code></code></td><td class='ruff_defitem'>if yes, <em>fnames</em> is a file list; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the file's tab ID if it's loaded, or {} if not loaded.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_139' href="javascript:toggleSource('139')">Show source</a></p>
<div id='139' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::OpenFile {{fnames {}} {reload no} {islist no}} {

  <i><font color=#646464># Handles &quot;Open file&quot; menu item.</font></i>
  <i><font color=#646464>#   fnames - file name (if not set, asks for it)</font></i>
  <i><font color=#646464>#   reload - if yes, loads the file even if it has a &quot;strange&quot; extension</font></i>
  <i><font color=#646464>#   islist - if yes, *fnames* is a file list</font></i>
  <i><font color=#646464># Returns the file's tab ID if it's loaded, or {} if not loaded.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> al(filename) {}
  <b><font color=#923B23>set</font></b> chosen no
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fnames</font> eq {}} {
    <b><font color=#923B23>set</font></b> chosen yes
    <b><font color=#923B23>set</font></b> fnames [<font color=#4A181B>$obPav</font> chooser tk_getOpenFile alited::al(filename) <font color=#463e11>-multiple</font> 1  <font color=#463e11>-initialdir</font> [<b><font color=#923B23>file</font></b> dirname [alited::bar::CurrentTab 2]] <font color=#463e11>-parent</font> <font color=#4A181B>$al(WIN)</font>]
    <b><font color=#923B23>set</font></b> fnames [<b><font color=#923B23>lsort</font></b> <font color=#463e11>-decreasing</font> <font color=#4A181B>$fnames</font>]
  } <b><font color=#923B23>elseif</font></b> {!<font color=#4A181B>$islist</font>} {
    <b><font color=#923B23>set</font></b> fnames [<b><font color=#923B23>list</font></b> <font color=#4A181B>$fnames</font>]
  }
  <b><font color=#923B23>set</font></b> TID {}
  <b><font color=#923B23>foreach</font></b> fname <font color=#4A181B>$fnames</font> {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fname</font>]} {
      <b><font color=#923B23>set</font></b> exts <font color=#4A181B>$al(TclExtensions)</font>
      <b><font color=#923B23>append</font></b> exts { } <font color=#4A181B>$al(ClangExtensions)</font>
      <b><font color=#923B23>set</font></b> exts [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>string</font></b> map {{ } {, } . {}} <font color=#4A181B>$exts</font>]]
      <b><font color=#923B23>append</font></b> exts <font color=#035103>&quot;\nhtml, htm, css, md, txt, sh, bat, ini&quot;</font>
      <b><font color=#923B23>set</font></b> ext [<b><font color=#923B23>string</font></b> tolower [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>file</font></b> extension <font color=#4A181B>$fname</font>] .]]
      <b><font color=#923B23>set</font></b> esp [<b><font color=#923B23>split</font></b> [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> { } {} \n ,] <font color=#4A181B>$exts</font>] ,]
      <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$reload</font> && <font color=#4A181B>$ext</font> ni <font color=#4A181B>$esp</font>} {
        <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>] %s <font color=#4A181B>$exts</font>] <font color=#4A181B>$al(MC</font>,nottoopen)]
        <b><font color=#923B23>if</font></b> {![alited::msg yesno warn <font color=#4A181B>$msg</font> NO]} {
          <b><font color=#923B23>break</font></b>
        }
      }
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> TID [alited::bar::FileTID <font color=#4A181B>$fname</font>]] eq {}} {
        <i><font color=#646464># close  &quot;no name&quot; tab if it's the only one and not changed</font></i>
        <b><font color=#923B23>set</font></b> tabs [alited::bar::BAR listTab]
        <b><font color=#923B23>set</font></b> tabm [alited::bar::BAR listFlag m]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$tabs</font>]==1 && [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$tabm</font>]==0} {
          <b><font color=#923B23>set</font></b> tid [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tabs</font> 0 0]
          <b><font color=#923B23>if</font></b> {[alited::bar::FileName <font color=#4A181B>$tid</font>] eq <font color=#4A181B>$al(MC</font>,nofile)} {
            alited::bar::BAR <font color=#4A181B>$tid</font> close
          }
        }
        <i><font color=#646464># open new tab</font></i>
        <b><font color=#923B23>set</font></b> tab [alited::bar::UniqueListTab <font color=#4A181B>$fname</font>]
        <b><font color=#923B23>set</font></b> TID [alited::bar::InsertTab <font color=#4A181B>$tab</font> [FileStat <font color=#4A181B>$fname</font>]]
        alited::file::AddRecent <font color=#4A181B>$fname</font>
      }
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ne {} && <font color=#4A181B>$TID</font> ne [alited::bar::CurrentTabID]} {
    alited::bar::BAR <font color=#4A181B>$TID</font> show
  }
  RecreateFileTree
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenFiles'>OpenFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files selected in the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_140' href="javascript:toggleSource('140')">Show source</a></p>
<div id='140' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::OpenFiles {} {

  <i><font color=#646464># Opens files selected in the file tree.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> fnames [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> selID [<font color=#4A181B>$wtree</font> selection] {
    <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$selID</font> <font color=#463e11>-values</font>] - fname isfile
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {<b><font color=#923B23>lappend</font></b> fnames <font color=#4A181B>$fname</font>}
  }
  OpenFile [<b><font color=#923B23>lsort</font></b> <font color=#463e11>-decreasing</font> <font color=#463e11>-dictionary</font> <font color=#4A181B>$fnames</font>] no yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenOfDir'>OpenOfDir</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens all Tcl files of a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenOfDir</span> <span class='ruff_arg'>dname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>directory's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_141' href="javascript:toggleSource('141')">Show source</a></p>
<div id='141' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::OpenOfDir {dname} {

  <i><font color=#646464># Opens all Tcl files of a directory.</font></i>
  <i><font color=#646464>#   dname - directory's name</font></i>

  <b><font color=#923B23>set</font></b> msg [msgcat::mc <font color=#035103>&quot;All Tcl files of this directory:\n  \&quot;%f\&quot;  \nwill be open.\n\nThis may be expensive!&quot;</font>]
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$dname</font>]] <font color=#4A181B>$msg</font>]
  <b><font color=#923B23>if</font></b> {[alited::msg okcancel warn <font color=#4A181B>$msg</font> NO]} {
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> flist [<b><font color=#923B23>glob</font></b> <font color=#463e11>-directory</font> <font color=#4A181B>$dname</font> *]}]} {
      <b><font color=#923B23>set</font></b> fnames [<b><font color=#923B23>list</font></b>]
      <b><font color=#923B23>foreach</font></b> fname [<b><font color=#923B23>lsort</font></b> <font color=#463e11>-decreasing</font> <font color=#463e11>-dictionary</font> <font color=#4A181B>$flist</font>] {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> isfile <font color=#4A181B>$fname</font>] && [IsTcl <font color=#4A181B>$fname</font>]} {
          <b><font color=#923B23>lappend</font></b> fnames <font color=#4A181B>$fname</font>
        }
      }
      OpenFile <font color=#4A181B>$fnames</font> no yes
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OutwardChange'>OutwardChange</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for change of file by an external application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OutwardChange</span> <span class='ruff_arg'>TID ?docheck?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>docheck</code></code></td><td class='ruff_defitem'>yes for &quot;do check&quot;, no for &quot;just save the file's mtime&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_142' href="javascript:toggleSource('142')">Show source</a></p>
<div id='142' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::OutwardChange {TID {docheck yes}} {

  <i><font color=#646464># Checks for change of file by an external application.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>
  <i><font color=#646464>#   docheck - yes for &quot;do check&quot;, no for &quot;just save the file's mtime&quot;</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>lassign</font></b> [FileAttrs <font color=#4A181B>$TID</font>] fname isfile mtime mtimefile curtime
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$docheck</font> && <font color=#4A181B>$mtime</font> ne {} && <font color=#4A181B>$curtime</font> ne <font color=#4A181B>$mtime</font> && <font color=#4A181B>$fname</font> eq <font color=#4A181B>$mtimefile</font>} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {
      <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]] <font color=#4A181B>$al(MC</font>,modiffile)]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]] <font color=#4A181B>$al(MC</font>,wasdelfile)]
    }
    <i><font color=#646464># at any answer, the tab should be marked as &quot;modified&quot;</font></i>
    alited::bar::BAR markTab <font color=#4A181B>$TID</font>
    alited::edit::CheckSaveIcons yes
    <b><font color=#923B23>if</font></b> {[alited::msg yesno warn <font color=#4A181B>$msg</font> YES <font color=#463e11>-title</font> <font color=#4A181B>$al(MC</font>,saving)]} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {
        <b><font color=#923B23>set</font></b> wtxt [alited::main::GetWTXT <font color=#4A181B>$TID</font>]
        <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
        DisplayFile <font color=#4A181B>$TID</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$wtxt</font> yes
        alited::main::UpdateAll
        <b><font color=#923B23>catch</font></b> {
          ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$pos</font>
          ::alited::main::CursorPos <font color=#4A181B>$wtxt</font>
        }
      } <b><font color=#923B23>else</font></b> {
        alited::bar::BAR <font color=#4A181B>$TID</font> configure -<font color=#463e11>-mtime</font> {}
        SaveFileAs <font color=#4A181B>$TID</font>
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> curtime [<b><font color=#923B23>file</font></b> mtime <font color=#4A181B>$fname</font>]}]} {<b><font color=#923B23>set</font></b> curtime {}}
      }
    }
    <b><font color=#923B23>set</font></b> do_update_tree yes
  }
  <b><font color=#923B23>lassign</font></b> [FileAttrs <font color=#4A181B>$TID</font>] fname isfile mtime mtimefile curtime
  alited::bar::BAR <font color=#4A181B>$TID</font> configure -<font color=#463e11>-mtime</font> <font color=#4A181B>$curtime</font> -<font color=#463e11>-mtimefile</font> <font color=#4A181B>$fname</font>  <font color=#463e11>-tip</font> [FileStat <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists do_update_tree]} {
    ::alited::tree::RecreateTree {} <font color=#4A181B>$fname</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ReadFile'>ReadFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file, creates its unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadFile</span> <span class='ruff_arg'>TID fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the file's contents.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_143' href="javascript:toggleSource('143')">Show source</a></p>
<div id='143' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::ReadFile {TID fname} {

  <i><font color=#646464># Reads a file, creates its unit tree.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464># Returns the file's contents.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> filecont [::apave::readTextFile <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>set</font></b> al(_unittree,<font color=#4A181B>$TID)</font> [alited::unit::GetUnits <font color=#4A181B>$TID</font> <font color=#4A181B>$filecont</font>]
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$filecont</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ReadFileByTID'>ReadFileByTID</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file of tab, if needed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadFileByTID</span> <span class='ruff_arg'>TID ?getcont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of the tab</td></tr>
<tr><td class='ruff_defitem'><code><code>getcont</code></code></td><td class='ruff_defitem'>if yes, returns a content of the file; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_144' href="javascript:toggleSource('144')">Show source</a></p>
<div id='144' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::ReadFileByTID {TID {getcont no}} {

  <i><font color=#646464># Reads a file of tab, if needed.</font></i>
  <i><font color=#646464>#   TID - ID of the tab</font></i>
  <i><font color=#646464>#   getcont - if yes, returns a content of the file</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exist al(_unittree,<font color=#4A181B>$TID)</font>]} {
    <b><font color=#A106A1>return</font></b> [ReadFile <font color=#4A181B>$TID</font> [alited::bar::FileName <font color=#4A181B>$TID</font>]]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$getcont</font>} {
    <b><font color=#923B23>set</font></b> wtxt [alited::main::GetWTXT <font color=#4A181B>$TID</font>]
    <b><font color=#A106A1>return</font></b> [<font color=#4A181B>$wtxt</font> get 1.0 <font color=#035103>&quot;end - 1 chars&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RecreateFileTree'>RecreateFileTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RecreateFileTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_145' href="javascript:toggleSource('145')">Show source</a></p>
<div id='145' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::RecreateFileTree {} {

  <i><font color=#646464># Creates the file tree.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)} {
    [<font color=#4A181B>$obPav</font> Tree] selection set {}
    <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>after</font></b> cancel <font color=#4A181B>$al(_AFT_RECR_)</font>}
    <b><font color=#923B23>set</font></b> al(_AFT_RECR_) [<b><font color=#923B23>after</font></b> 100 ::alited::tree::RecreateTree]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RemoveFile'>RemoveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes or backups a file, trying to save it in a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemoveFile</span> <span class='ruff_arg'>fname dname mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>name of directory</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;move&quot;, then moves a file to a directory, otherwise backups it</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a destination file's name.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_146' href="javascript:toggleSource('146')">Show source</a></p>
<div id='146' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::RemoveFile {fname dname mode} {

  <i><font color=#646464># Removes or backups a file, trying to save it in a directory.</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464>#   dname - name of directory</font></i>
  <i><font color=#646464>#   mode - if &quot;move&quot;, then moves a file to a directory, otherwise backups it</font></i>
  <i><font color=#646464># Returns a destination file's name.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> ftail [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>set</font></b> dtail [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$dname</font>]
  <b><font color=#923B23>set</font></b> fname2 [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$dname</font> <font color=#4A181B>$ftail</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fname2</font>]} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> eq <font color=#035103>&quot;move&quot;</font>} {
      <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$ftail</font> %d <font color=#4A181B>$dname</font>] <font color=#4A181B>$al(MC</font>,fileexist)]
      alited::msg ok warn <font color=#4A181B>$msg</font>
      <b><font color=#A106A1>return</font></b> {}
    }
    <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> delete <font color=#4A181B>$fname2</font>}
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> copy <font color=#4A181B>$fname</font> <font color=#4A181B>$dname</font>} err]} {
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$ftail</font> %d <font color=#4A181B>$dname</font>] <font color=#4A181B>$al(MC</font>,errcopy)]
    <b><font color=#923B23>if</font></b> {![alited::msg yesno warn <font color=#035103>&quot;<font color=#4A181B>$</font>err\n\n<font color=#4A181B>$</font>msg&quot;</font> NO]} {<b><font color=#A106A1>return</font></b> {}}
  }
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> mtime <font color=#4A181B>$fname2</font> [<b><font color=#923B23>file</font></b> mtime <font color=#4A181B>$fname</font>]}
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> delete <font color=#4A181B>$fname</font>} err]} {
    alited::msg ok err <font color=#035103>&quot;Error of deleting\n<font color=#4A181B>$</font>fname\n\n<font color=#4A181B>$</font>err&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    alited::Message [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$ftail</font> %d <font color=#4A181B>$dtail</font>] <font color=#4A181B>$al(MC</font>,removed)]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> eq <font color=#035103>&quot;move&quot;</font> && [<b><font color=#923B23>set</font></b> TID [alited::bar::FileTID <font color=#4A181B>$fname</font>]] ne {}} {
      alited::bar::SetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-fname</font> <font color=#4A181B>$fname2</font>
      alited::bar::BAR <font color=#4A181B>$TID</font> configure <font color=#463e11>-tip</font> [FileStat <font color=#4A181B>$fname2</font>]
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$fname2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RenameFile'>RenameFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Renames a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RenameFile</span> <span class='ruff_arg'>TID fname ?doshow?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>doshow</code></code></td><td class='ruff_defitem'>flag &quot;show the file's text&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_147' href="javascript:toggleSource('147')">Show source</a></p>
<div id='147' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::RenameFile {TID fname {doshow yes}} {

  <i><font color=#646464># Renames a file.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>
  <i><font color=#646464>#   fname - file name</font></i>
  <i><font color=#646464>#   doshow - flag &quot;show the file's text&quot;</font></i>

  alited::bar::SetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-fname</font> <font color=#4A181B>$fname</font>
  alited::bar::BAR <font color=#4A181B>$TID</font> configure <font color=#463e11>-text</font> {} <font color=#463e11>-tip</font> {}
  <b><font color=#923B23>set</font></b> tab [alited::bar::UniqueListTab <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>set</font></b> sname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  alited::bar::BAR <font color=#4A181B>$TID</font> configure <font color=#463e11>-text</font> <font color=#4A181B>$sname</font> <font color=#463e11>-tip</font> [FileStat <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doshow</font>} {
    alited::bar::BAR <font color=#4A181B>$TID</font> show
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RenameFileInTree'>RenameFileInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Renames a current file in a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RenameFileInTree</span> <span class='ruff_arg'>?geo?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>geo</code></code></td><td class='ruff_defitem'>geometry for dialogue; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_148' href="javascript:toggleSource('148')">Show source</a></p>
<div id='148' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::RenameFileInTree {{geo {}}} {

  <i><font color=#646464># Renames a current file in a file tree.</font></i>
  <i><font color=#646464>#   geo - geometry for dialogue</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav obDl2 obDl2
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> selection]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$ID</font>]!=1} {
    alited::msg ok err [msgcat::mc {Select one file in the tree.}]
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> name [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-text</font>]
  <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] 1]
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obDl2</font> input {} <font color=#4A181B>$al(MC</font>,renamefile) [<b><font color=#923B23>list</font></b>  ent <font color=#035103>&quot;<font color=#4A181B>{}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{</font>-w 32<font color=#4A181B>}</font>&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>name&quot;</font>]  <font color=#463e11>-head</font> [msgcat::mc {File name:}] {*}<font color=#4A181B>$geo</font>] res name2
  <b><font color=#923B23>set</font></b> name2 [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$name2</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> && <font color=#4A181B>$name2</font> ne {} && <font color=#4A181B>$name2</font> ne <font color=#4A181B>$name</font>} {
    DoRenameFileInTree <font color=#4A181B>$wtree</font> <font color=#4A181B>$ID</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$name2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveAll'>SaveAll</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves all files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_149' href="javascript:toggleSource('149')">Show source</a></p>
<div id='149' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::SaveAll {} {

  <i><font color=#646464># Saves all files.</font></i>

  <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>if</font></b> {[IsModified <font color=#4A181B>$TID</font>]} {
      <b><font color=#923B23>if</font></b> {![SaveFile <font color=#4A181B>$TID</font>]} {<b><font color=#A106A1>return</font></b> no}
    }
  }
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFile'>SaveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves the current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFile</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_150' href="javascript:toggleSource('150')">Show source</a></p>
<div id='150' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::SaveFile {{TID {}}} {

  <i><font color=#646464># Saves the current file.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq {}} {<b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName <font color=#4A181B>$TID</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> in [<b><font color=#923B23>list</font></b> {} <font color=#4A181B>$al(MC</font>,nofile)]} {
    <b><font color=#A106A1>return</font></b> [SaveFileAs <font color=#4A181B>$TID</font>]
  }
  <b><font color=#923B23>set</font></b> res [SaveFileByName <font color=#4A181B>$TID</font> <font color=#4A181B>$fname</font>]
  alited::ini::SaveCurrentIni <font color=#035103>&quot;<font color=#4A181B>$</font>res && <font color=#4A181B>$</font>al(INI,save_onsave)&quot;</font>
  alited::main::ShowHeader yes
  alited::tree::RecreateTree {} <font color=#4A181B>$fname</font>
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileAndClose'>SaveFileAndClose</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves and closes the current file. This handles pressing Ctrl+W.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileAndClose</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_151' href="javascript:toggleSource('151')">Show source</a></p>
<div id='151' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::SaveFileAndClose {} {

  <i><font color=#646464># Saves and closes the current file.</font></i>
  <i><font color=#646464># This handles pressing Ctrl+W.</font></i>

  <b><font color=#923B23>if</font></b> {[IsModified] && ![SaveFile]} <b><font color=#A106A1>return</font></b>
  alited::bar::BAR [alited::bar::CurrentTabID] close
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileAs'>SaveFileAs</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves the current file &quot;as&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileAs</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_152' href="javascript:toggleSource('152')">Show source</a></p>
<div id='152' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::SaveFileAs {{TID {}}} {

  <i><font color=#646464># Saves the current file &quot;as&quot;.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq {}} {<b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName <font color=#4A181B>$TID</font>]
  <b><font color=#923B23>set</font></b> alited::al(filename) [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$alited::al(filename)</font> in [<b><font color=#923B23>list</font></b> {} <font color=#4A181B>$al(MC</font>,nofile)]} {
    <b><font color=#923B23>set</font></b> alited::al(filename) {}
  }
  <b><font color=#923B23>set</font></b> fname [<font color=#4A181B>$obPav</font> chooser tk_getSaveFile alited::al(filename) <font color=#463e11>-title</font>  [msgcat::mc {Save as}] <font color=#463e11>-initialdir</font> [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$fname</font>] <font color=#463e11>-parent</font> <font color=#4A181B>$al(WIN)</font>  <font color=#463e11>-defaultextension</font> .tcl]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> in [<b><font color=#923B23>list</font></b> {} <font color=#4A181B>$al(MC</font>,nofile)]} {
    <b><font color=#923B23>set</font></b> res 0
  } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>set</font></b> res [SaveFileByName <font color=#4A181B>$TID</font> <font color=#4A181B>$fname</font>]]} {
    RenameFile <font color=#4A181B>$TID</font> <font color=#4A181B>$fname</font>
    alited::main::ShowHeader yes
    alited::tree::RecreateTree {} <font color=#4A181B>$fname</font>
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileByName'>SaveFileByName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileByName</span> <span class='ruff_arg'>TID fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_153' href="javascript:toggleSource('153')">Show source</a></p>
<div id='153' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::SaveFileByName {TID fname} {

  <i><font color=#646464># Saves a file.</font></i>
  <i><font color=#646464>#   TID - ID of tab</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>set</font></b> wtxt [alited::main::GetWTXT <font color=#4A181B>$TID</font>]
  <b><font color=#923B23>set</font></b> fcont [<font color=#4A181B>$wtxt</font> get 1.0 <font color=#035103>&quot;end - 1 chars&quot;</font>]  ;<i><font color=#646464># last \n excluded</font></i>
  <b><font color=#923B23>if</font></b> {![::apave::writeTextFile <font color=#4A181B>$fname</font> fcont]} {
    alited::msg ok err [::apave::error <font color=#4A181B>$fname</font>] <font color=#463e11>-w</font> 50 <font color=#463e11>-text</font> 1
    <b><font color=#A106A1>return</font></b> 0
  }
  alited::edit::BackupFile <font color=#4A181B>$TID</font>
  <font color=#4A181B>$wtxt</font> edit modified no
  alited::edit::Modified <font color=#4A181B>$TID</font> <font color=#4A181B>$wtxt</font>
  alited::main::HighlightText <font color=#4A181B>$TID</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$wtxt</font>
  OutwardChange <font color=#4A181B>$TID</font> no
  RecreateFileTree
  <b><font color=#A106A1>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ToBeHighlighted'>ToBeHighlighted</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks flag &quot;highlight text anyway&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToBeHighlighted</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_154' href="javascript:toggleSource('154')">Show source</a></p>
<div id='154' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::ToBeHighlighted {wtxt} {

  <i><font color=#646464># Checks flag &quot;highlight text anyway&quot;.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>expr</font></b> {![<b><font color=#923B23>info</font></b> exists al(HL,<font color=#4A181B>$wtxt)</font>] || <font color=#4A181B>$al(HL</font>,<font color=#4A181B>$wtxt)</font> eq {..}}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::UpdateFileStat'>UpdateFileStat</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates tips in tab bar (file info).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateFileStat</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_155' href="javascript:toggleSource('155')">Show source</a></p>
<div id='155' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::UpdateFileStat {} {

  <i><font color=#646464># Updates tips in tab bar (file info).</font></i>

  <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>set</font></b> fname [alited::bar::FileName <font color=#4A181B>$TID</font>]
    alited::bar::BAR <font color=#4A181B>$TID</font> configure <font color=#463e11>-tip</font> [FileStat <font color=#4A181B>$fname</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::WrapLines'>WrapLines</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches wrap word mode for a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WrapLines</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_156' href="javascript:toggleSource('156')">Show source</a></p>
<div id='156' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::file::WrapLines {} {

  <i><font color=#646464># Switches wrap word mode for a current text.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> al(wrapwords) [<b><font color=#923B23>expr</font></b> {[<font color=#4A181B>$wtxt</font> cget <font color=#463e11>-wrap</font>] ne {word}}]]} {
    <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-wrap</font> word
  } <b><font color=#923B23>else</font></b> {
    <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-wrap</font> none
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::find'></a>::alited::find<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::find-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::find::_close'>_close</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_close</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_157' href="javascript:toggleSource('157')">Show source</a></p>
<div id='157' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::_close {} {

  <i><font color=#646464># Closes Find/Replace dialogue.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#923B23>catch</font></b> {<font color=#4A181B>$obFND</font> res <font color=#4A181B>$::alited::find::win</font> 0}
  ClearTags
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>$ Creates Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_158' href="javascript:toggleSource('158')">Show source</a></p>
<div id='158' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::_create {} {

  <i><font color=#646464>#$ Creates Find/Replace dialogue.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> geo
  <b><font color=#923B23>variable</font></b> minsize
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>set</font></b> data(lastinvoke) 1
  <b><font color=#923B23>set</font></b> res 1
  <b><font color=#923B23>set</font></b> w <font color=#4A181B>$win</font>.fra
  <b><font color=#923B23>while</font></b> {<font color=#4A181B>$res</font>} {
    <font color=#4A181B>$obFND</font> makeWindow <font color=#4A181B>$w</font> <font color=#4A181B>$al(MC</font>,findreplace)
    <font color=#4A181B>$obFND</font> paveWindow <font color=#4A181B>$w</font> {
      {labB1 - - 1 1    {<font color=#463e11>-st</font> e}  {<font color=#463e11>-t</font> <font color=#035103>&quot;Find: &quot;</font> <font color=#463e11>-style</font> TLabelFS}}
      {Cbx1 labB1 L 1 9 {<font color=#463e11>-st</font> wes} {<font color=#463e11>-tvar</font> ::alited::find::data(en1) <font color=#463e11>-values</font> {<font color=#4A181B>$::alited::find::data(vals1)</font>}}}
      {labB2 labB1 T 1 1 {<font color=#463e11>-st</font> e}  {<font color=#463e11>-t</font> <font color=#035103>&quot;Replace: &quot;</font> <font color=#463e11>-style</font> TLabelFS}}
      {cbx2 labB2 L 1 9 {<font color=#463e11>-st</font> wes} {<font color=#463e11>-tvar</font> ::alited::find::data(en2) <font color=#463e11>-values</font> {<font color=#4A181B>$::alited::find::data(vals2)</font>}}}
      {labBm labB2 T 1 1 {<font color=#463e11>-st</font> e}  {<font color=#463e11>-t</font> <font color=#035103>&quot;Match: &quot;</font> <font color=#463e11>-style</font> TLabelFS}}
      {radA labBm L 1 1 {<font color=#463e11>-st</font> es <font color=#463e11>-padx</font> 0}  {<font color=#463e11>-t</font> <font color=#035103>&quot;Exact&quot;</font> <font color=#463e11>-var</font> ::alited::find::data(v1) <font color=#463e11>-value</font> 1 <font color=#463e11>-style</font> TRadiobuttonFS}}
      {radB radA L 1 1 {<font color=#463e11>-st</font> ws <font color=#463e11>-padx</font> 5}  {<font color=#463e11>-t</font> <font color=#035103>&quot;Glob&quot;</font> <font color=#463e11>-var</font> ::alited::find::data(v1) <font color=#463e11>-value</font> 2 <font color=#463e11>-tip</font> <font color=#035103>&quot;Allows to use *, ?, \[ and \]\nin \&quot;find\&quot; string.&quot;</font> <font color=#463e11>-style</font> TRadiobuttonFS}}
      {radC radB L 1 5 {<font color=#463e11>-st</font> ws <font color=#463e11>-padx</font> 0 <font color=#463e11>-cw</font> 1}  {<font color=#463e11>-t</font> <font color=#035103>&quot;RE&quot;</font> <font color=#463e11>-var</font> ::alited::find::data(v1) <font color=#463e11>-value</font> 3 <font color=#463e11>-tip</font> <font color=#035103>&quot;Allows to use the regular expressions\nin \&quot;find\&quot; string.&quot;</font> <font color=#463e11>-style</font> TRadiobuttonFS}}
      {h_2 labBm T 1 9  {<font color=#463e11>-st</font> es <font color=#463e11>-rw</font> 1}}
      {seh  h_2 T 1 9  {<font color=#463e11>-st</font> ews}}
      {chb1 seh  T 1 2 {<font color=#463e11>-st</font> w} {<font color=#463e11>-t</font> <font color=#035103>&quot;Match whole word only&quot;</font> <font color=#463e11>-var</font> ::alited::find::data(c1) <font color=#463e11>-style</font> TCheckbuttonFS}}
      {chb2 chb1 T 1 2 {<font color=#463e11>-st</font> w} {<font color=#463e11>-t</font> <font color=#035103>&quot;Match case&quot;</font> <font color=#463e11>-var</font> ::alited::find::data(c2) <font color=#463e11>-style</font> TCheckbuttonFS}}
      {chb3 chb2 T 1 2 {<font color=#463e11>-st</font> w} {<font color=#463e11>-t</font> <font color=#035103>&quot;Replace by blank&quot;</font> <font color=#463e11>-var</font> ::alited::find::data(c3) <font color=#463e11>-tip</font> <font color=#035103>&quot;Allows replacements by the empty string,\nin fact, to erase the found ones.&quot;</font> <font color=#463e11>-style</font> TCheckbuttonFS}}
      {sev1 chb1 L 5 1 }
      {fralabB3 sev1 L 4 6 {<font color=#463e11>-st</font> nsw} {<font color=#463e11>-borderwidth</font> 0 <font color=#463e11>-relief</font> groove <font color=#463e11>-padding</font> {3 3}}}
      {.labB3 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-anchor</font> w} {<font color=#463e11>-t</font> <font color=#035103>&quot;Direction:&quot;</font> <font color=#463e11>-style</font> TLabelFS}}
      {.rad1 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-anchor</font> w <font color=#463e11>-padx</font> 0} {<font color=#463e11>-t</font> <font color=#035103>&quot;Up&quot;</font> <font color=#463e11>-image</font> alimg_up <font color=#463e11>-compound</font> left <font color=#463e11>-var</font> ::alited::find::data(v2) <font color=#463e11>-value</font> 1 <font color=#463e11>-style</font> TRadiobuttonFS}}
      {.rad2 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-anchor</font> w <font color=#463e11>-padx</font> 0} {<font color=#463e11>-t</font> <font color=#035103>&quot;Down&quot;</font> <font color=#463e11>-image</font> alimg_down <font color=#463e11>-compound</font> left <font color=#463e11>-var</font> ::alited::find::data(v2) <font color=#463e11>-value</font> 2 <font color=#463e11>-style</font> TRadiobuttonFS}}
      {.chb4 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-anchor</font> sw} {<font color=#463e11>-t</font> <font color=#035103>&quot;Wrap around&quot;</font> <font color=#463e11>-var</font> ::alited::find::data(c4) <font color=#463e11>-style</font> TCheckbuttonFS}}
      {sev2 cbx1 L 10 1 }
      {But1 sev2 L 1 1 {<font color=#463e11>-st</font> wes} {<font color=#463e11>-t</font> <font color=#035103>&quot;Find&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;::alited::find::Find 1&quot;</font> <font color=#463e11>-style</font> TButtonWestBoldFS}}
      {But2 but1 T 1 1 {<font color=#463e11>-st</font> wes} {<font color=#463e11>-t</font> <font color=#035103>&quot;All in Text&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;::alited::find::FindInText 2&quot;</font> <font color=#463e11>-style</font> TButtonWestFS}}
      {But3 but2 T 1 1 {<font color=#463e11>-st</font> wen} {<font color=#463e11>-com</font> <font color=#035103>&quot;::alited::find::FindInSession add 3&quot;</font> <font color=#463e11>-style</font> TButtonWestFS}}
      {seh_3 but3 T 2 1 {<font color=#463e11>-st</font> ews}}
      {but4 seh_3 T 1 1 {<font color=#463e11>-st</font> wes} {<font color=#463e11>-t</font> Replace <font color=#463e11>-com</font> <font color=#035103>&quot;::alited::find::Replace&quot;</font> <font color=#463e11>-style</font> TButtonWestBoldFS}}
      {but5 but4 T 1 1 {<font color=#463e11>-st</font> wes} {<font color=#463e11>-t</font> <font color=#035103>&quot;All in Text&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;::alited::find::ReplaceInText&quot;</font> <font color=#463e11>-style</font> TButtonWestFS}}
      {But6 but5 T 1 1 {<font color=#463e11>-st</font> wen} {<font color=#463e11>-com</font> <font color=#035103>&quot;::alited::find::ReplaceInSession&quot;</font> <font color=#463e11>-style</font> TButtonWestFS}}
    }
    SessionButtons
    <b><font color=#923B23>foreach</font></b> k {f F} {<b><font color=#7A040E>bind</font></b> <font color=#4A181B>$w</font>.cbx1 &lt;Control-<font color=#4A181B>$k</font>&gt; {::alited::find::LastInvoke; <b><font color=#923B23>break</font></b>}}
    <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$w</font>.cbx1 &lt;Return&gt; <font color=#035103>&quot;<font color=#4A181B>$</font>w.but1 invoke&quot;</font>  ;<i><font color=#646464># hot in comboboxes</font></i>
    <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$w</font>.cbx2 &lt;Return&gt; <font color=#035103>&quot;<font color=#4A181B>$</font>w.but4 invoke&quot;</font>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$minsize</font> eq <font color=#035103>&quot;&quot;</font>} {      ;<i><font color=#646464># save default min.sizes</font></i>
      <b><font color=#923B23>after</font></b> idle [<b><font color=#923B23>list</font></b> after 100 {
        <b><font color=#923B23>set</font></b> ::alited::find::minsize <font color=#035103>&quot;-minsize <font color=#4A181B>{[</font>winfo width <font color=#4A181B>$</font>::alited::find::win<font color=#4A181B>]</font> <font color=#4A181B>[</font>winfo height <font color=#4A181B>$</font>::alited::find::win<font color=#4A181B>]}</font>&quot;</font>
      }]
    }
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;<font color=#4A181B>$</font>w.cbx1 selection range 0 end&quot;</font>
    <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obFND</font> showModal <font color=#4A181B>$win</font> <font color=#463e11>-geometry</font> <font color=#4A181B>$geo</font> {*}<font color=#4A181B>$minsize</font> <font color=#463e11>-focus</font> <font color=#4A181B>$w</font>.cbx1 <font color=#463e11>-modal</font> no]
    <b><font color=#923B23>set</font></b> geo [<b><font color=#7A040E>wm</font></b> geometry <font color=#4A181B>$win</font>] ;<i><font color=#646464># save the new geometry of the dialogue</font></i>
    <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
    ClearTags
  }
  <b><font color=#7A040E>focus</font></b> <font color=#463e11>-force</font> [alited::main::CurrentWTXT]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_159' href="javascript:toggleSource('159')">Show source</a></p>
<div id='159' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::_run {} {

  <i><font color=#646464># Runs Find/Replace dialogue.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#923B23>variable</font></b> win
  GetFindEntry
  <b><font color=#923B23>if</font></b> {[<b><font color=#7A040E>winfo</font></b> exists <font color=#4A181B>$win</font>]} {
    SessionButtons
    <b><font color=#7A040E>wm</font></b> withdraw <font color=#4A181B>$win</font>
    <b><font color=#7A040E>wm</font></b> deiconify <font color=#4A181B>$win</font>
    <b><font color=#923B23>set</font></b> cbx [<font color=#4A181B>$obFND</font> Cbx1]
    <b><font color=#7A040E>focus</font></b> <font color=#4A181B>$cbx</font>
    <font color=#4A181B>$cbx</font> selection clear
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;<font color=#4A181B>$</font>cbx selection range 0 end&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    _create
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CheckData'>CheckData</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the find/replace data are valid.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckData</span> <span class='ruff_arg'>op</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>op</code></code></td><td class='ruff_defitem'>if &quot;repl&quot;, checks for &quot;Replace&quot; operation</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Return &quot;yes&quot;, if the input data are valid.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_160' href="javascript:toggleSource('160')">Show source</a></p>
<div id='160' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::CheckData {op} {

  <i><font color=#646464># Checks if the find/replace data are valid.</font></i>
  <i><font color=#646464>#   op - if &quot;repl&quot;, checks for &quot;Replace&quot; operation</font></i>
  <i><font color=#646464># Return &quot;yes&quot;, if the input data are valid.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> data
  <i><font color=#646464># this means &quot;no checks when used outside of the dialogue&quot;:</font></i>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$data(docheck)</font>} {<b><font color=#A106A1>return</font></b> yes}
  <i><font color=#646464># search input data in arrays of combobox values:</font></i>
  <i><font color=#646464># if not found, save the data to the arrays</font></i>
  <b><font color=#923B23>set</font></b> w <font color=#4A181B>$win</font>.fra
  <b><font color=#923B23>set</font></b> foc {}
  <b><font color=#923B23>foreach</font></b> i {2 1} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> data(en<font color=#4A181B>$i)</font>] ne {}} {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> f [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> [<b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font>] [<b><font color=#923B23>set</font></b> data(en<font color=#4A181B>$i)</font>]]]&gt;-1} {
        <b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font> [<b><font color=#923B23>lreplace</font></b> [<b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font>] <font color=#4A181B>$f</font> <font color=#4A181B>$f</font>]
      }
      <b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font> [<b><font color=#923B23>linsert</font></b> [<b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font>] 0 [<b><font color=#923B23>set</font></b> data(en<font color=#4A181B>$i)</font>]]
      <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font> [<b><font color=#923B23>lreplace</font></b> [<b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font>] <font color=#4A181B>$al(INI</font>,maxfind) end]}
      <font color=#4A181B>$w</font>.cbx<font color=#4A181B>$i</font> configure <font color=#463e11>-values</font> [<b><font color=#923B23>set</font></b> data(vals<font color=#4A181B>$i)</font>]
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$i</font>==1 || (<font color=#4A181B>$op</font> eq <font color=#035103>&quot;repl&quot;</font> && !<font color=#4A181B>$data(c3))</font>} {
      <b><font color=#923B23>set</font></b> foc <font color=#4A181B>$w</font>.cbx<font color=#4A181B>$i</font>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$foc</font> ne {}} {
    <i><font color=#646464># if find/replace field is empty, let the bell tolls for him</font></i>
    <b><font color=#7A040E>bell</font></b>
    <b><font color=#7A040E>focus</font></b> <font color=#4A181B>$foc</font>
    <b><font color=#A106A1>return</font></b> no
  }
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CheckWord'>CheckWord</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check if the found string is a word, at searching by words,</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckWord</span> <span class='ruff_arg'>wtxt index1 index2 ?wordonly?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>index1</code></code></td><td class='ruff_defitem'>first index of the found string</td></tr>
<tr><td class='ruff_defitem'><code><code>index2</code></code></td><td class='ruff_defitem'>last index of the found string</td></tr>
<tr><td class='ruff_defitem'><code><code>wordonly</code></code></td><td class='ruff_defitem'>flag &quot;search word only&quot; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;yes&quot; if the found string is a word.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_161' href="javascript:toggleSource('161')">Show source</a></p>
<div id='161' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::CheckWord {wtxt index1 index2 {wordonly {}}} {

  <i><font color=#646464># Check if the found string is a word, at searching by words,</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   index1 - first index of the found string</font></i>
  <i><font color=#646464>#   index2 - last index of the found string</font></i>
  <i><font color=#646464>#   wordonly - flag &quot;search word only&quot;</font></i>
  <i><font color=#646464># Returns &quot;yes&quot; if the found string is a word.</font></i>

  <b><font color=#923B23>variable</font></b> adelim
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wordonly</font> eq {}} {<b><font color=#923B23>set</font></b> wordonly <font color=#4A181B>$data(c1)</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wordonly</font>} {
    <b><font color=#923B23>set</font></b> index10 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>index1 - 1c&quot;</font>]
    <b><font color=#923B23>set</font></b> index20 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>index2 + 1c&quot;</font>]
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$index10</font> <font color=#4A181B>$index1</font>] ni <font color=#4A181B>$adelim</font>} {<b><font color=#A106A1>return</font></b> no}
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$index2</font> <font color=#4A181B>$index20</font>] ni <font color=#4A181B>$adelim</font>} {<b><font color=#A106A1>return</font></b> no}
  }
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ClearTags'>ClearTags</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears all find tags in a current text, if Find/Replace dialogue was closed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearTags</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_162' href="javascript:toggleSource('162')">Show source</a></p>
<div id='162' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::ClearTags {} {

  <i><font color=#646464># Clears all find tags in a current text, if Find/Replace dialogue was closed.</font></i>

  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>catch</font></b> {
    <b><font color=#923B23>if</font></b> {![<b><font color=#7A040E>winfo</font></b> exists <font color=#4A181B>$win</font>]} {
      [alited::main::CurrentWTXT] tag remove fndTag 1.0 end
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::DoFindUnit'>DoFindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs searching units in current text / all texts.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoFindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_163' href="javascript:toggleSource('163')">Show source</a></p>
<div id='163' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::DoFindUnit {} {

  <i><font color=#646464># Runs searching units in current text / all texts.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> ent [<font color=#4A181B>$obPav</font> CbxFindSTD]
  <b><font color=#923B23>set</font></b> what [<b><font color=#923B23>string</font></b> trim [<font color=#4A181B>$ent</font> get]]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$what</font> eq {} || [<b><font color=#923B23>regexp</font></b> {\s} <font color=#4A181B>$what</font>]} {
    alited::Message [msgcat::mc {Incorrect name for a unit.}] 4
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$al(findunitvals)</font> <font color=#4A181B>$what</font>]]&gt;=0} {
    <b><font color=#923B23>set</font></b> al(findunitvals) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(findunitvals)</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
  }
  <b><font color=#923B23>set</font></b> al(findunitvals) [<b><font color=#923B23>linsert</font></b> <font color=#4A181B>$al(findunitvals)</font> 0 <font color=#4A181B>$what</font>]
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> al(findunitvals) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(findunitvals)</font> <font color=#4A181B>$al(FAV</font>,MAXLAST) end]}
  <font color=#4A181B>$ent</font> configure <font color=#463e11>-values</font> <font color=#4A181B>$al(findunitvals)</font>
  InitShowResults
  <b><font color=#923B23>set</font></b> n 0
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$alited::main::findunits</font>==1} {
    <b><font color=#923B23>set</font></b> tabs [SessionList]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> tabs [alited::bar::CurrentTabID]
  }
  <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$tabs</font> {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    alited::file::ReadFileByTID <font color=#4A181B>$TID</font>
    <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> lev leaf fl1 title l1 l2
      <b><font color=#923B23>set</font></b> ttl [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$title</font> [<b><font color=#923B23>string</font></b> last : <font color=#4A181B>$title</font>]+1 end] ;<i><font color=#646464># pure name, no NS</font></i>
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#463e11>-nocase</font> <font color=#035103>&quot;*<font color=#4A181B>$</font>what*&quot;</font> <font color=#4A181B>$ttl</font>]} {
        <b><font color=#923B23>set</font></b> fname [alited::bar::BAR <font color=#4A181B>$TID</font> cget <font color=#463e11>-text</font>]
        alited::info::Put <font color=#035103>&quot;<font color=#4A181B>$</font>fname:<font color=#4A181B>$</font>l1: <font color=#4A181B>$</font>title&quot;</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$TID</font> <font color=#4A181B>$l1</font>]
        <b><font color=#923B23>incr</font></b> n
      }
    }
  }
  alited::info::Clear 0
  ShowResults [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$n</font> %s <font color=#4A181B>$what</font>] <font color=#4A181B>$al(MC</font>,frres1)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Find'>Find</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches one string in a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Find</span> <span class='ruff_arg'>?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (1 means &quot;Find&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_164' href="javascript:toggleSource('164')">Show source</a></p>
<div id='164' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::Find {{inv -1}} {

  <i><font color=#646464># Searches one string in a current text.</font></i>
  <i><font color=#646464>#   inv - index of a button that was hit (1 means &quot;Find&quot; button)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$inv</font>&gt;-1} {<b><font color=#923B23>set</font></b> data(lastinvoke) <font color=#4A181B>$inv</font>}  ;<i><font color=#646464># save the hit button's index</font></i>
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <font color=#4A181B>$wtxt</font> tag remove sel 1.0 end
  <b><font color=#923B23>set</font></b> fndlist [Search <font color=#4A181B>$wtxt</font>]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$fndlist</font>]} {
    <b><font color=#7A040E>bell</font></b>
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obFND</font> Cbx1]
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> indexprev [<b><font color=#923B23>set</font></b> indexnext 0]
  <b><font color=#923B23>set</font></b> index [<font color=#4A181B>$wtxt</font> index insert]
  <b><font color=#923B23>foreach</font></b> idx12 <font color=#4A181B>$fndlist</font> {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$idx12</font> index1 index2
    <font color=#4A181B>$wtxt</font> tag add fndTag <font color=#4A181B>$index1</font> <font color=#4A181B>$index2</font>
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtxt</font> compare <font color=#4A181B>$index1</font> &lt; <font color=#4A181B>$index</font>]} {
      <b><font color=#923B23>set</font></b> indexprev <font color=#4A181B>$index1</font>
      <b><font color=#923B23>set</font></b> indp2 <font color=#4A181B>$index2</font>
    }
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtxt</font> compare <font color=#4A181B>$index</font> &lt; <font color=#4A181B>$index1</font>] && <font color=#4A181B>$indexnext</font>==0} {
      <b><font color=#923B23>set</font></b> indexnext <font color=#4A181B>$index1</font>
      <b><font color=#923B23>set</font></b> indn2 <font color=#4A181B>$index2</font>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$data(c4)</font> && <font color=#4A181B>$data(v2)</font>==1}        {  ;<i><font color=#646464># search backward & wrap around</font></i>
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$indexprev</font>} {<b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$fndlist</font> end] indexprev indp2}
    ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$indexprev</font>
    <font color=#4A181B>$wtxt</font> tag add sel <font color=#4A181B>$indexprev</font> <font color=#4A181B>$indp2</font>

  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$data(c4)</font> && <font color=#4A181B>$data(v2)</font>==2}  {  ;<i><font color=#646464># search forward & wrap around</font></i>
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$indexnext</font> || ([<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$fndlist</font> end 0]==<font color=#4A181B>$indexnext</font> && [<font color=#4A181B>$wtxt</font> compare <font color=#4A181B>$indexnext</font> == <font color=#4A181B>$index</font>])} {
      <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$fndlist</font> 0] indexnext indn2
    }
    ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$indexnext</font>
    <font color=#4A181B>$wtxt</font> tag add sel <font color=#4A181B>$indexnext</font> <font color=#4A181B>$indn2</font>

  } <b><font color=#923B23>elseif</font></b> {!<font color=#4A181B>$data(c4)</font> &&<font color=#4A181B>$data(v2)</font>==1}  {  ;<i><font color=#646464># search backward & not wrap around</font></i>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$indexprev</font>} {
      ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$indexprev</font>
      <font color=#4A181B>$wtxt</font> tag add sel <font color=#4A181B>$indexprev</font> <font color=#4A181B>$indp2</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#7A040E>bell</font></b>
    }

  } <b><font color=#923B23>elseif</font></b> {!<font color=#4A181B>$data(c4)</font> && <font color=#4A181B>$data(v2)</font>==2} {  ;<i><font color=#646464># search forward & not wrap around</font></i>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$indexnext</font>} {
      ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$indexnext</font>
      <font color=#4A181B>$wtxt</font> tag add sel <font color=#4A181B>$indexnext</font> <font color=#4A181B>$indn2</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#7A040E>bell</font></b>
    }
  }
  ::alited::main::CursorPos <font color=#4A181B>$wtxt</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$inv</font>&gt;-1} alited::main::HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindAll'>FindAll</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindAll</span> <span class='ruff_arg'>wtxt TID ?tagme?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>tagme</code></code></td><td class='ruff_defitem'>if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot; <i>optional, default</i> <code>add</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_165' href="javascript:toggleSource('165')">Show source</a></p>
<div id='165' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::FindAll {wtxt TID {tagme add}} {

  <i><font color=#646464># Searches all strings in a text.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   tagme - if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot;</font></i>

  <b><font color=#923B23>set</font></b> fname [alited::bar::BAR <font color=#4A181B>$TID</font> cget <font color=#463e11>-text</font>]
  <b><font color=#923B23>set</font></b> l1 -1
  <b><font color=#923B23>set</font></b> allfnd [Search <font color=#4A181B>$wtxt</font>]
  <b><font color=#923B23>foreach</font></b> idx12 <font color=#4A181B>$allfnd</font> {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$idx12</font> index1 index2
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tagme</font> eq {add}} {<font color=#4A181B>$wtxt</font> tag add fndTag <font color=#4A181B>$index1</font> <font color=#4A181B>$index2</font>}
    <b><font color=#923B23>set</font></b> l2 [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$index1)</font>}]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$l1</font> != <font color=#4A181B>$l2</font>} {
      <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#035103>&quot;<font color=#4A181B>$</font>index1 linestart&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>index1 lineend&quot;</font>]
      alited::info::Put <font color=#035103>&quot;<font color=#4A181B>$</font>fname:<font color=#4A181B>$</font>l2: <font color=#4A181B>[</font>string trim <font color=#4A181B>$</font>line<font color=#4A181B>]</font>&quot;</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$TID</font> <font color=#4A181B>$l2</font>]
      <b><font color=#923B23>set</font></b> l1 <font color=#4A181B>$l2</font>
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$allfnd</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindInSession'>FindInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindInSession</span> <span class='ruff_arg'>?tagme? ?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tagme</code></code></td><td class='ruff_defitem'>if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot; <i>optional, default</i> <code>add</code></td></tr>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (3 means &quot;All in Session&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_166' href="javascript:toggleSource('166')">Show source</a></p>
<div id='166' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::FindInSession {{tagme add} {inv -1}} {

  <i><font color=#646464># Searches all strings in a session.</font></i>
  <i><font color=#646464>#   tagme - if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot;</font></i>
  <i><font color=#646464>#   inv - index of a button that was hit (3 means &quot;All in Session&quot; button)</font></i>

  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$inv</font>&gt;-1} {<b><font color=#923B23>set</font></b> data(lastinvoke) <font color=#4A181B>$inv</font>}
  InitShowResults
  <b><font color=#923B23>set</font></b> allfnd [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> data(_ERR_) no
  <b><font color=#923B23>foreach</font></b> tab [SessionList] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>lassign</font></b> [alited::main::GetText <font color=#4A181B>$TID</font> no no] curfile wtxt
    <b><font color=#923B23>lappend</font></b> allfnd {*}[FindAll <font color=#4A181B>$wtxt</font> <font color=#4A181B>$TID</font> <font color=#4A181B>$tagme</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$data(_ERR_)</font>} <b><font color=#923B23>break</font></b>
  }
  alited::info::Clear 0
  ShowResults1 <font color=#4A181B>$allfnd</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindInText'>FindInText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindInText</span> <span class='ruff_arg'>?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (2 means &quot;All in Text&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_167' href="javascript:toggleSource('167')">Show source</a></p>
<div id='167' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::FindInText {{inv -1}} {

  <i><font color=#646464># Searches all strings in a current text.</font></i>
  <i><font color=#646464>#   inv - index of a button that was hit (2 means &quot;All in Text&quot; button)</font></i>

  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$inv</font>&gt;-1} {<b><font color=#923B23>set</font></b> data(lastinvoke) <font color=#4A181B>$inv</font>}
  alited::info::Clear
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  ShowResults1 [FindAll <font color=#4A181B>$wtxt</font> <font color=#4A181B>$TID</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindOptions'>FindOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of search, according to the dialogue's fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindOptions</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_168' href="javascript:toggleSource('168')">Show source</a></p>
<div id='168' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::FindOptions {wtxt} {

  <i><font color=#646464># Gets options of search, according to the dialogue's fields.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>

  <b><font color=#923B23>variable</font></b> data
  <font color=#4A181B>$wtxt</font> tag remove fndTag 1.0 end  ;<i><font color=#646464># clear the text off the find tag</font></i>
  <b><font color=#923B23>set</font></b> options [<b><font color=#923B23>set</font></b> stopidx {}]
  <b><font color=#923B23>set</font></b> findstr <font color=#4A181B>$data(en1)</font>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$data(c2)</font>} {<b><font color=#923B23>append</font></b> options {<font color=#463e11>-nocase</font> }}
  <i><font color=#646464># glob search - through its regexp</font></i>
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$data(v1)</font> {
    2 {
      <b><font color=#923B23>append</font></b> options {<font color=#463e11>-regexp</font> }
      <b><font color=#923B23>set</font></b> findstr [<b><font color=#923B23>string</font></b> map {* .* ? . . \\. \{ \\\{ \} \\\} ( \\( ) \\) ^ \\^ \$ \\\$ - \\- + \\+} <font color=#4A181B>$findstr</font>]
    }
    3 {
      <b><font color=#923B23>append</font></b> options {<font color=#463e11>-regexp</font> }}
    <b><font color=#923B23>default</font></b> {
      <b><font color=#923B23>append</font></b> options {<font color=#463e11>-exact</font> }}
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$findstr</font> [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$options</font>] <font color=#4A181B>$stopidx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindReplStr'>FindReplStr</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares a string to find/replace for messages.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindReplStr</span> <span class='ruff_arg'>str</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>string to prepare</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_169' href="javascript:toggleSource('169')">Show source</a></p>
<div id='169' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::FindReplStr {str} {

  <i><font color=#646464># Prepares a string to find/replace for messages.</font></i>
  <i><font color=#646464>#   str - string to prepare</font></i>

  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$str</font> 0 50]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> ne <font color=#4A181B>$str</font>} {<b><font color=#923B23>append</font></b> res { ...}}
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindUnit'>FindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays &quot;Find unit&quot; frame.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_170' href="javascript:toggleSource('170')">Show source</a></p>
<div id='170' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::FindUnit {} {

  <i><font color=#646464># Displays &quot;Find unit&quot; frame.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> ent [<font color=#4A181B>$obPav</font> CbxFindSTD]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> word [GetWordOfText]] ne {}} {
    <b><font color=#923B23>set</font></b> alited::al(findunit) <font color=#4A181B>$word</font>
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exist al(isfindunit)] || !<font color=#4A181B>$al(isfindunit)</font>} {
    <b><font color=#923B23>set</font></b> al(isfindunit) true
    <b><font color=#7A040E>pack</font></b> [<font color=#4A181B>$obPav</font> FraHead] <font color=#463e11>-side</font> bottom <font color=#463e11>-fill</font> x <font color=#463e11>-pady</font> 3 <font color=#463e11>-after</font> [<font color=#4A181B>$obPav</font> GutText]
    <b><font color=#923B23>foreach</font></b> k {f F} {<b><font color=#7A040E>bind</font></b> <font color=#4A181B>$ent</font> &lt;Shift<font color=#463e11>-Control</font>-<font color=#4A181B>$k</font>&gt; {alited::find::DoFindUnit; <b><font color=#923B23>break</font></b>}}
    <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$ent</font> &lt;Return&gt; alited::find::DoFindUnit
    <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$ent</font> &lt;Escape&gt; {::alited::find::HideFindUnit; <b><font color=#923B23>break</font></b>}
  }
  <b><font color=#7A040E>focus</font></b> <font color=#4A181B>$ent</font>
  <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;<font color=#4A181B>$</font>ent selection range 0 end&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetCommandOfLine'>GetCommandOfLine</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a command from a line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCommandOfLine</span> <span class='ruff_arg'>line idx ?delim? ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>a column of the line</td></tr>
<tr><td class='ruff_defitem'><code><code>delim</code></code></td><td class='ruff_defitem'>list of word delimiters; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_171' href="javascript:toggleSource('171')">Show source</a></p>
<div id='171' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::GetCommandOfLine {line idx {delim {}} {mode {}}} {

  <i><font color=#646464># Gets a command from a line.</font></i>
  <i><font color=#646464>#   line - the line</font></i>
  <i><font color=#646464>#   idx - a column of the line</font></i>
  <i><font color=#646464>#   delim - list of word delimiters</font></i>
  <i><font color=#646464>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#923B23>variable</font></b> ldelim
  <b><font color=#923B23>variable</font></b> rdelim
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$delim</font> ne {}} {
    <b><font color=#923B23>set</font></b> delim1 <font color=#4A181B>$delim</font>
    <b><font color=#923B23>set</font></b> delim2 <font color=#4A181B>$delim</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> delim1 <font color=#4A181B>$ldelim</font>
    <b><font color=#923B23>set</font></b> delim2 <font color=#4A181B>$rdelim</font>
  }
  <b><font color=#923B23>set</font></b> i1 [<b><font color=#923B23>set</font></b> i2 [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$idx</font> [<b><font color=#923B23>string</font></b> first . <font color=#4A181B>$idx</font>]+1 end]]
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i <font color=#4A181B>$i1</font>} {1} {} {
    <b><font color=#923B23>incr</font></b> i -1
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$line</font> <font color=#4A181B>$i</font>] in <font color=#4A181B>$delim1</font>} {
      <b><font color=#923B23>set</font></b> i1 [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>+1}]
      <b><font color=#923B23>break</font></b>
    }
  }
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i <font color=#4A181B>$i1</font>} {1} {} {
    <b><font color=#923B23>incr</font></b> i
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$line</font> <font color=#4A181B>$i</font>] in <font color=#4A181B>$delim2</font>} {
      <b><font color=#923B23>set</font></b> i2 [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>-1}]
      <b><font color=#923B23>break</font></b>
    }
  }
  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> <font color=#4A181B>$i1</font> <font color=#4A181B>$i2</font>]]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$mode</font> end] eq <font color=#035103>&quot;2&quot;</font>} {
    <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b> <font color=#4A181B>$res</font> <font color=#4A181B>$i1</font> <font color=#4A181B>$i2</font>]
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetCommandOfText'>GetCommandOfText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a command of text under the cursor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCommandOfText</span> <span class='ruff_arg'>wtxt ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_172' href="javascript:toggleSource('172')">Show source</a></p>
<div id='172' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::GetCommandOfText {wtxt {mode {}}} {

  <i><font color=#646464># Gets a command of text under the cursor.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#923B23>set</font></b> idx [<font color=#4A181B>$wtxt</font> index insert]
  <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#035103>&quot;<font color=#4A181B>$</font>idx linestart&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>idx lineend&quot;</font>]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> [GetCommandOfLine <font color=#4A181B>$line</font> <font color=#4A181B>$idx</font> <font color=#035103>&quot;&quot;</font> <font color=#4A181B>$mode</font>] <font color=#4A181B>$idx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetFindEntry'>GetFindEntry</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a current selection of text to the &quot;Find:&quot; field</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetFindEntry</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_173' href="javascript:toggleSource('173')">Show source</a></p>
<div id='173' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::GetFindEntry {} {

  <i><font color=#646464># Puts a current selection of text to the &quot;Find:&quot; field</font></i>

  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> sel [<font color=#4A181B>$wtxt</font> get sel.first sel.last]}]} {
    <b><font color=#923B23>set</font></b> idx [<font color=#4A181B>$wtxt</font> index insert]
    <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#035103>&quot;<font color=#4A181B>$</font>idx linestart&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>idx lineend&quot;</font>]
    <b><font color=#923B23>set</font></b> sel [GetWordOfLine <font color=#4A181B>$line</font> <font color=#4A181B>$idx</font>]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$sel</font> ne {}} {<b><font color=#923B23>set</font></b> data(en1) <font color=#4A181B>$sel</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetWordOfLine'>GetWordOfLine</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a word from a line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWordOfLine</span> <span class='ruff_arg'>line idx ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>a column of the line</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_174' href="javascript:toggleSource('174')">Show source</a></p>
<div id='174' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::GetWordOfLine {line idx {mode {}}} {

  <i><font color=#646464># Gets a word from a line.</font></i>
  <i><font color=#646464>#   line - the line</font></i>
  <i><font color=#646464>#   idx - a column of the line</font></i>
  <i><font color=#646464>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#923B23>variable</font></b> adelim
  <b><font color=#A106A1>return</font></b> [GetCommandOfLine <font color=#4A181B>$line</font> <font color=#4A181B>$idx</font> <font color=#4A181B>$adelim</font> <font color=#4A181B>$mode</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetWordOfText'>GetWordOfText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a word of text under the cursor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWordOfText</span> <span class='ruff_arg'>?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;select&quot;, try to get the word from a line with a selection; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'mode' ends with &quot;2&quot;, the result includes a range of found string.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_175' href="javascript:toggleSource('175')">Show source</a></p>
<div id='175' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::GetWordOfText {{mode {}}} {

  <i><font color=#646464># Gets a word of text under the cursor.</font></i>
  <i><font color=#646464>#   mode - if &quot;select&quot;, try to get the word from a line with a selection</font></i>
  <i><font color=#646464>#  If 'mode' ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> in {noselect noselect2} ||  [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> sel [<font color=#4A181B>$wtxt</font> get sel.first sel.last]}]} {
    <b><font color=#923B23>set</font></b> idx [<font color=#4A181B>$wtxt</font> index insert]
    <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#035103>&quot;<font color=#4A181B>$</font>idx linestart&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>idx lineend&quot;</font>]
    <b><font color=#923B23>set</font></b> sel [GetWordOfLine <font color=#4A181B>$line</font> <font color=#4A181B>$idx</font> <font color=#4A181B>$mode</font>]
  } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$mode</font> end] eq <font color=#035103>&quot;2&quot;</font>} {
    <b><font color=#923B23>set</font></b> sel [<b><font color=#923B23>list</font></b> <font color=#4A181B>$sel</font>]
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$sel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::HideFindUnit'>HideFindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Hides &quot;Find unit&quot; frame.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HideFindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_176' href="javascript:toggleSource('176')">Show source</a></p>
<div id='176' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::HideFindUnit {} {

  <i><font color=#646464># Hides &quot;Find unit&quot; frame.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> al(isfindunit) no
  <b><font color=#7A040E>pack</font></b> forget [<font color=#4A181B>$obPav</font> FraHead]
  <b><font color=#7A040E>focus</font></b> [alited::main::CurrentWTXT]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::InitShowResults'>InitShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears the info list before any search.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitShowResults</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_177' href="javascript:toggleSource('177')">Show source</a></p>
<div id='177' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::InitShowResults {} {

  <i><font color=#646464># Clears the info list before any search.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  alited::info::Clear
  alited::info::Put <font color=#4A181B>$al(MC</font>,wait) <font color=#035103>&quot;&quot;</font> yes
  <b><font color=#923B23>update</font></b>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::LastInvoke'>LastInvoke</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Invokes last Find button that was pressed. If Ctrl-F is pressed inside Find/Replace dialogue, the last pressed Find button will be invoked.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LastInvoke</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_178' href="javascript:toggleSource('178')">Show source</a></p>
<div id='178' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::LastInvoke {} {

  <i><font color=#646464># Invokes last Find button that was pressed.</font></i>
  <i><font color=#646464># If Ctrl-F is pressed inside Find/Replace dialogue, the last</font></i>
  <i><font color=#646464># pressed Find button will be invoked.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#923B23>variable</font></b> data
  [<font color=#4A181B>$obFND</font> But<font color=#4A181B>$data(lastinvoke)</font>] invoke
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Next'>Next</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Generate F3 key pressing event.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Next</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_179' href="javascript:toggleSource('179')">Show source</a></p>
<div id='179' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::Next {} {

  <i><font color=#646464># Generate F3 key pressing event.</font></i>

  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>event</font></b> generate [alited::main::CurrentWTXT] &lt;[alited::pref::BindKey 12 - F3]&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Replace'>Replace</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces one string and finds next.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Replace</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_180' href="javascript:toggleSource('180')">Show source</a></p>
<div id='180' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::Replace {} {

  <i><font color=#646464># Replaces one string and finds next.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {![CheckData repl]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
  <b><font color=#923B23>set</font></b> isset no
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtxt</font> tag ranges sel] idx1 idx2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos</font> eq <font color=#4A181B>$idx1</font>} {
    <b><font color=#923B23>lassign</font></b> [Search1 <font color=#4A181B>$wtxt</font> <font color=#4A181B>$pos</font>] err fnd
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$err</font>} <b><font color=#A106A1>return</font></b>
    <b><font color=#923B23>foreach</font></b> index1 <font color=#4A181B>$fnd</font> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$index1</font> eq <font color=#4A181B>$pos</font>} {
        <b><font color=#923B23>set</font></b> isset yes
        <b><font color=#923B23>break</font></b>
      }
    }
  }
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$isset</font>} Find
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtxt</font> tag ranges sel] idx1 idx2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$idx1</font> ne {} && <font color=#4A181B>$idx2</font> ne {}} {
    <font color=#4A181B>$wtxt</font> replace <font color=#4A181B>$idx1</font> <font color=#4A181B>$idx2</font> <font color=#4A181B>$data(en2)</font>
    SetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$idx1</font>
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n 1 %s <font color=#4A181B>$data(en1)</font> %r <font color=#4A181B>$data(en2)</font>] <font color=#4A181B>$alited::al(MC</font>,frres2)]
    ShowResults <font color=#4A181B>$msg</font>
    alited::main::UpdateTextGutterTree
  }
  Find
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceAll'>ReplaceAll</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces all found strings in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceAll</span> <span class='ruff_arg'>TID wtxt allfnd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>allfnd</code></code></td><td class='ruff_defitem'>list of found strings data (index1, index2)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_181' href="javascript:toggleSource('181')">Show source</a></p>
<div id='181' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::ReplaceAll {TID wtxt allfnd} {

  <i><font color=#646464># Replaces all found strings in a text.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   allfnd - list of found strings data (index1, index2)</font></i>

  <b><font color=#923B23>variable</font></b> data
  <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> no
  <font color=#4A181B>$wtxt</font> edit separator
  <b><font color=#923B23>set</font></b> rn 0
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$allfnd</font>]} {<font color=#4A181B>$i</font>} {} {
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$rn</font>} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ni [alited::bar::BAR listFlag m]} {
        alited::edit::BackupFile <font color=#4A181B>$TID</font> orig
      }
    }
    <b><font color=#923B23>incr</font></b> i -1
    <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$allfnd</font> <font color=#4A181B>$i</font>] idx1 idx2
    <font color=#4A181B>$wtxt</font> replace <font color=#4A181B>$idx1</font> <font color=#4A181B>$idx2</font> <font color=#4A181B>$data(en2)</font>
    <b><font color=#923B23>incr</font></b> rn
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$rn</font>} {SetCursor <font color=#4A181B>$wtxt</font> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$allfnd</font> end 0]}
  <font color=#4A181B>$wtxt</font> edit separator
  <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> yes
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$rn</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceInSession'>ReplaceInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Replace in Session&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceInSession</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_182' href="javascript:toggleSource('182')">Show source</a></p>
<div id='182' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::ReplaceInSession {} {

  <i><font color=#646464># Handles hitting &quot;Replace in Session&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {![CheckData repl]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %s [FindReplStr <font color=#4A181B>$data(en1)</font>]  %r [FindReplStr <font color=#4A181B>$data(en2)</font>]] <font color=#4A181B>$al(MC</font>,frdoit2)]
  <b><font color=#923B23>if</font></b> {![alited::msg yesno warn <font color=#4A181B>$msg</font> NO <font color=#463e11>-ontop</font> <font color=#4A181B>$data(c5)</font>]} {
    <b><font color=#A106A1>return</font></b> {}
  }
  <b><font color=#923B23>set</font></b> rn 0
  <b><font color=#923B23>set</font></b> data(_ERR_) no
  <b><font color=#923B23>foreach</font></b> tab [SessionList] {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    <b><font color=#923B23>lassign</font></b> [alited::main::GetText <font color=#4A181B>$TID</font> no no] curfile wtxt
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> rdone [ReplaceAll <font color=#4A181B>$TID</font> <font color=#4A181B>$wtxt</font> [Search <font color=#4A181B>$wtxt</font>]]]} {
      ShowResults2 <font color=#4A181B>$rdone</font> <font color=#4A181B>$alited::al(MC</font>,frres2) <font color=#4A181B>$TID</font>
      <b><font color=#923B23>incr</font></b> rn <font color=#4A181B>$rdone</font>
      alited::bar::BAR markTab <font color=#4A181B>$TID</font>
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$data(_ERR_)</font>} <b><font color=#923B23>break</font></b>
  }
  ShowResults2 <font color=#4A181B>$rn</font> <font color=#4A181B>$alited::al(MC</font>,frres3)
  alited::main::UpdateTextGutterTree
  alited::bar::OnTabSelection [alited::bar::CurrentTabID] ;<i><font color=#646464># updates icons</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceInText'>ReplaceInText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Replace in Text&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceInText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_183' href="javascript:toggleSource('183')">Show source</a></p>
<div id='183' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::ReplaceInText {} {

  <i><font color=#646464># Handles hitting &quot;Replace in Text&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {![CheckData repl]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>file</font></b> tail [alited::bar::FileName]]
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$fname</font> %s [FindReplStr <font color=#4A181B>$data(en1)</font>]  %r [FindReplStr <font color=#4A181B>$data(en2)</font>]] <font color=#4A181B>$al(MC</font>,frdoit1)]
  <b><font color=#923B23>if</font></b> {![alited::msg yesno warn <font color=#4A181B>$msg</font> NO <font color=#463e11>-ontop</font> <font color=#4A181B>$data(c5)</font>]} {
    <b><font color=#A106A1>return</font></b> {}
  }
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>set</font></b> rn [ReplaceAll <font color=#4A181B>$TID</font> <font color=#4A181B>$wtxt</font> [Search <font color=#4A181B>$wtxt</font>]]
  ShowResults2 <font color=#4A181B>$rn</font> <font color=#4A181B>$alited::al(MC</font>,frres2)
  alited::main::UpdateTextGutterTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Search'>Search</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a text for a string to find.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_184' href="javascript:toggleSource('184')">Show source</a></p>
<div id='184' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::Search {wtxt} {

  <i><font color=#646464># Searches a text for a string to find.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>variable</font></b> counts
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>set</font></b> idx [<font color=#4A181B>$wtxt</font> index insert]
  <b><font color=#923B23>lassign</font></b> [FindOptions <font color=#4A181B>$wtxt</font>] findstr options
  <b><font color=#923B23>if</font></b> {![CheckData find]} {<b><font color=#A106A1>return</font></b> {}}
  <font color=#4A181B>$obPav</font> set_HighlightedString <font color=#4A181B>$findstr</font>
  <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$obPav</font> csDarkEdit]} {
    <b><font color=#923B23>set</font></b> fg white
    <b><font color=#923B23>set</font></b> bg #1c1cff
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> fg black
    <b><font color=#923B23>set</font></b> bg #8fc7ff
  }
  <font color=#4A181B>$wtxt</font> tag configure fndTag <font color=#463e11>-borderwidth</font> 1 <font color=#463e11>-relief</font> raised <font color=#463e11>-foreground</font> <font color=#4A181B>$fg</font> <font color=#463e11>-background</font> <font color=#4A181B>$bg</font>
  <font color=#4A181B>$wtxt</font> tag lower fndTag
  <b><font color=#923B23>lassign</font></b> [Search1 <font color=#4A181B>$wtxt</font> 1.0] err fnd
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$err</font>} {<b><font color=#A106A1>return</font></b> {}}
  <b><font color=#923B23>set</font></b> i 0
  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> index1 <font color=#4A181B>$fnd</font> {
    <b><font color=#923B23>set</font></b> index2 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>index1 + <font color=#4A181B>[</font>lindex <font color=#4A181B>$</font>counts <font color=#4A181B>$</font>i<font color=#4A181B>]</font>c&quot;</font>]
    <b><font color=#923B23>if</font></b> {[CheckWord <font color=#4A181B>$wtxt</font> <font color=#4A181B>$index1</font> <font color=#4A181B>$index2</font>]} {
      <b><font color=#923B23>lappend</font></b> res [<b><font color=#923B23>list</font></b> <font color=#4A181B>$index1</font> <font color=#4A181B>$index2</font>]
    }
    <b><font color=#923B23>incr</font></b> i
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Search1'>Search1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a text from a position for a string to find.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search1</span> <span class='ruff_arg'>wtxt pos</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position to start searching from</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_185' href="javascript:toggleSource('185')">Show source</a></p>
<div id='185' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::Search1 {wtxt pos} {

  <i><font color=#646464># Searches a text from a position for a string to find.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   pos - position to start searching from</font></i>

  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>lassign</font></b> [FindOptions <font color=#4A181B>$wtxt</font>] findstr options
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> fnd [<font color=#4A181B>$wtxt</font> search {*}<font color=#4A181B>$options</font> <font color=#463e11>-count</font> alited::find::counts <font color=#463e11>-all</font> -- <font color=#4A181B>$findstr</font> <font color=#4A181B>$pos</font>]} err]} {
    alited::msg ok err <font color=#4A181B>$err</font> <font color=#463e11>-ontop</font> yes <font color=#463e11>-parent</font> <font color=#4A181B>$win</font>
    <b><font color=#923B23>set</font></b> data(_ERR_) yes
    <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> 1 {}]
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> 0 <font color=#4A181B>$fnd</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList'>SearchByList</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches words by list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_186' href="javascript:toggleSource('186')">Show source</a></p>
<div id='186' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SearchByList {} {

  <i><font color=#646464># Searches words by list.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#923B23>set</font></b> head [msgcat::mc {\n Enter a list of words divided by spaces: \n}]
  <b><font color=#923B23>set</font></b> text [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$alited::EOL</font> \n] <font color=#4A181B>$al(listSBL)</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(matchSBL)</font> eq {}} {<b><font color=#923B23>set</font></b> al(matchSBL) <font color=#4A181B>$al(MC</font>,frExact)}
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obDl3</font> input {} [msgcat::mc {Find by List}] [<b><font color=#923B23>list</font></b>  tex <font color=#035103>&quot;<font color=#4A181B>{[</font>msgcat::mc List:<font color=#4A181B>]}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{</font>-w 50 -h 8<font color=#4A181B>}</font>&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>text&quot;</font>  seh1  {{} {} {}} {}  radA  {<font color=#4A181B>$::alited::al(MC</font>,frMatch)} {<font color=#035103>&quot;<font color=#4A181B>$</font>::alited::al(matchSBL)&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>::alited::al(MC,frExact)&quot;</font> Glob RE}  seh2  {{} {} {}} {}  chb1  {<font color=#4A181B>$::alited::al(MC</font>,frWord)} {<font color=#4A181B>$::alited::al(wordonlySBL)</font>}  chb2  {<font color=#4A181B>$::alited::al(MC</font>,frCase)} {<font color=#4A181B>$::alited::al(caseSBL)</font>}  ] <font color=#463e11>-head</font> <font color=#4A181B>$head</font> <font color=#463e11>-weight</font> bold] res list match wordonly case
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font>} {
    <b><font color=#923B23>set</font></b> al(listSBL) <font color=#4A181B>$list</font>
    <b><font color=#923B23>set</font></b> al(matchSBL) <font color=#4A181B>$match</font>
    <b><font color=#923B23>set</font></b> al(wordonlySBL) <font color=#4A181B>$wordonly</font>
    <b><font color=#923B23>set</font></b> al(caseSBL) <font color=#4A181B>$case</font>
    SearchByList_Do
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList_Do'>SearchByList_Do</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Does searching words by list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList_Do</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_187' href="javascript:toggleSource('187')">Show source</a></p>
<div id='187' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SearchByList_Do {} {

  <i><font color=#646464># Does searching words by list.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> counts
  <b><font color=#923B23>set</font></b> found [<b><font color=#923B23>set</font></b> notfound [<b><font color=#923B23>list</font></b>]]
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> list [<b><font color=#923B23>string</font></b> map {\n { }} <font color=#4A181B>$al(listSBL)</font>]
  <b><font color=#923B23>foreach</font></b> findword [<b><font color=#923B23>split</font></b> <font color=#4A181B>$list</font>] {
    <b><font color=#923B23>lassign</font></b> [SearchByList_Options <font color=#4A181B>$findword</font>] findstr options
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> fnd [<font color=#4A181B>$wtxt</font> search {*}<font color=#4A181B>$options</font> <font color=#463e11>-count</font> alited::find::counts <font color=#463e11>-all</font> -- <font color=#4A181B>$findstr</font> 1.0]} err]} {
      alited::Message <font color=#4A181B>$err</font> 4
      <b><font color=#923B23>break</font></b>
    }
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$fnd</font>]} {
      <b><font color=#923B23>set</font></b> i 0
      <b><font color=#923B23>foreach</font></b> index1 <font color=#4A181B>$fnd</font> {
        <b><font color=#923B23>set</font></b> index2 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>index1 + <font color=#4A181B>[</font>lindex <font color=#4A181B>$</font>counts <font color=#4A181B>$</font>i<font color=#4A181B>]</font>c&quot;</font>]
        <b><font color=#923B23>if</font></b> {[CheckWord <font color=#4A181B>$wtxt</font> <font color=#4A181B>$index1</font> <font color=#4A181B>$index2</font> <font color=#4A181B>$al(wordonlySBL)</font>]} {
          <b><font color=#923B23>set</font></b> word [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$index1</font> <font color=#4A181B>$index2</font>]
          <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$found</font> <font color=#4A181B>$word</font>]==-1} {
            <b><font color=#923B23>lappend</font></b> found <font color=#4A181B>$word</font>
          }
        }
        <b><font color=#923B23>incr</font></b> i
      }
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>lappend</font></b> notfound <font color=#4A181B>$findword</font>
    }
  }
  alited::msg ok info <font color=#035103>&quot;<font color=#4A181B>[</font>msgcat::mc FOUND:<font color=#4A181B>]</font>\n<font color=#4A181B>$</font>found\n<font color=#4A181B>[</font>string repeat _ 50<font color=#4A181B>]</font> \n\n<font color=#4A181B>[</font>msgcat::mc <font color=#4A181B>{</font>NOT FOUND:<font color=#4A181B>}]</font>\n<font color=#4A181B>$</font>notfound\n&quot;</font> <font color=#463e11>-text</font> 1 <font color=#463e11>-w</font> {40 70} <font color=#463e11>-h</font> {10 20}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList_Options'>SearchByList_Options</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList_Options</span> <span class='ruff_arg'>findstr</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>findstr</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_188' href="javascript:toggleSource('188')">Show source</a></p>
<div id='188' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SearchByList_Options {findstr} {

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(caseSBL)</font>} {<b><font color=#923B23>append</font></b> options {<font color=#463e11>-nocase</font> }}
  <i><font color=#646464># glob search - through its regexp</font></i>
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$al(matchSBL)</font> {
    Glob {
      <b><font color=#923B23>append</font></b> options {<font color=#463e11>-regexp</font> }
      <b><font color=#923B23>set</font></b> findstr [<b><font color=#923B23>string</font></b> map {* .* ? . . \\. \{ \\\{ \} \\\} ( \\( ) \\) ^ \\^ \$ \\\$ - \\- + \\+} <font color=#4A181B>$findstr</font>]
    }
    RE {
      <b><font color=#923B23>append</font></b> options {<font color=#463e11>-regexp</font> }
    }
    <b><font color=#923B23>default</font></b> {
      <b><font color=#923B23>append</font></b> options {<font color=#463e11>-exact</font> }}
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$findstr</font> <font color=#4A181B>$options</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchUnit'>SearchUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and runs searching units in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchUnit</span> <span class='ruff_arg'>?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_189' href="javascript:toggleSource('189')">Show source</a></p>
<div id='189' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SearchUnit {{wtxt {}}} {

  <i><font color=#646464># Prepares and runs searching units in a text.</font></i>
  <i><font color=#646464>#   wtxt - the text's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#646464># switch to the unit tree: 1st to enable the search, 2nd to show units found & selected</font></i>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)} alited::tree::SwitchTree
  <b><font color=#923B23>lassign</font></b> [SearchUnit1 <font color=#4A181B>$wtxt</font> yes] found TID
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$found</font> eq {}} {
    <i><font color=#646464># if the qualified not found, try to find the non-qualified (first encountered)</font></i>
    <b><font color=#923B23>lassign</font></b> [SearchUnit1 <font color=#4A181B>$wtxt</font> no] found TID
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$found</font> ne {}} {
    alited::main::SaveVisitInfo
    alited::bar::BAR <font color=#4A181B>$TID</font> show
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;  alited::main::FocusText <font color=#4A181B>$</font>TID <font color=#4A181B>$</font>found.0 ;  alited::main::SaveVisitInfo&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#7A040E>bell</font></b>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchUnit1'>SearchUnit1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches units in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchUnit1</span> <span class='ruff_arg'>wtxt isNS</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>isNS</code></code></td><td class='ruff_defitem'>flag &quot;search a qualified unit name&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_190' href="javascript:toggleSource('190')">Show source</a></p>
<div id='190' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SearchUnit1 {wtxt isNS} {

  <i><font color=#646464># Searches units in a text.</font></i>
  <i><font color=#646464>#   wtxt - the text's path</font></i>
  <i><font color=#646464>#   isNS - flag &quot;search a qualified unit name&quot;</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wtxt</font> eq <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]}
  <b><font color=#923B23>lassign</font></b> [GetCommandOfText <font color=#4A181B>$wtxt</font>] com1 idx
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$com1</font> eq {}} {<b><font color=#7A040E>bell</font></b>; <b><font color=#A106A1>return</font></b> {}}
  <b><font color=#923B23>set</font></b> com2 <font color=#4A181B>$com1</font>
  <b><font color=#923B23>set</font></b> withNS [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>string</font></b> last <font color=#035103>&quot;:&quot;</font> <font color=#4A181B>$com1</font>]]&gt;-1}]
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$isNS</font>} {
    <i><font color=#646464># try to find the pure (not qualified) name</font></i>
    <b><font color=#923B23>set</font></b> com2 [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$com1</font> <font color=#4A181B>$i</font>+1 end]
  } <b><font color=#923B23>elseif</font></b> {!<font color=#4A181B>$withNS</font>} {
    <i><font color=#646464># try to get the current unit's namespace</font></i>
    <b><font color=#923B23>set</font></b> curr [<b><font color=#923B23>lindex</font></b> [alited::tree::CurrentItemByLine <font color=#4A181B>$idx</font> yes] 4]
    <b><font color=#923B23>set</font></b> com2 [<b><font color=#923B23>string</font></b> cat [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$curr</font> 0 [<b><font color=#923B23>string</font></b> last <font color=#035103>&quot;:&quot;</font> <font color=#4A181B>$curr</font>]] <font color=#4A181B>$com1</font>]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isNS</font>} {
    <b><font color=#923B23>set</font></b> tabs [SessionList]
    <b><font color=#923B23>set</font></b> what <font color=#035103>&quot;*<font color=#4A181B>$</font>com2&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> what <font color=#035103>&quot;*::<font color=#4A181B>$</font>com2&quot;</font>
    <b><font color=#923B23>set</font></b> tabs [alited::bar::CurrentTabID]  ;<i><font color=#646464># not qualified</font></i>
  }
  <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$tabs</font> {
    <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
    alited::file::ReadFileByTID <font color=#4A181B>$TID</font>
    <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> lev leaf fl1 ttl l1 l2
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#4A181B>$what</font> <font color=#4A181B>$ttl</font>] || [<b><font color=#923B23>string</font></b> match <font color=#035103>&quot;*::<font color=#4A181B>$</font>ttl&quot;</font> <font color=#4A181B>$com2</font>] || <font color=#4A181B>$com2</font> eq <font color=#4A181B>$ttl</font>} {
        <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$l1</font> <font color=#4A181B>$TID</font>]
      }
    }
  }
  <b><font color=#A106A1>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchWordInSession'>SearchWordInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchWordInSession</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_191' href="javascript:toggleSource('191')">Show source</a></p>
<div id='191' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SearchWordInSession {} {

  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>set</font></b> saven1 <font color=#4A181B>$data(en1)</font>  ;<i><font color=#646464># field &quot;Find&quot;</font></i>
  <b><font color=#923B23>set</font></b> savv1 <font color=#4A181B>$data(v1)</font>    ;<i><font color=#646464># rad &quot;Exact&quot;</font></i>
  <b><font color=#923B23>set</font></b> savc1 <font color=#4A181B>$data(c1)</font>    ;<i><font color=#646464># chb &quot;Word only&quot;</font></i>
  <b><font color=#923B23>set</font></b> savc2 <font color=#4A181B>$data(c2)</font>    ;<i><font color=#646464># chb &quot;Case Sensitive&quot;</font></i>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> data(en1) [GetWordOfText select]] eq <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#7A040E>bell</font></b>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> sel [<font color=#4A181B>$wtxt</font> get sel.first sel.last]}] || <font color=#4A181B>$sel</font> eq <font color=#035103>&quot;&quot;</font>} {
      <b><font color=#923B23>set</font></b> data(c1) 1
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> data(c1) 0  ;<i><font color=#646464># if selected, let it be looked for (at &quot;not word only&quot;)</font></i>
    }
    <b><font color=#923B23>set</font></b> data(v1) 1
    <b><font color=#923B23>set</font></b> data(c2) 1
    <b><font color=#923B23>set</font></b> data(docheck) no  ;<i><font color=#646464># no checks - no usage of the dialogue's widgets</font></i>
    FindInSession notag
    <b><font color=#923B23>set</font></b> data(docheck) yes
  }
  <b><font color=#923B23>set</font></b> data(en1) <font color=#4A181B>$saven1</font>
  <b><font color=#923B23>set</font></b> data(v1) <font color=#4A181B>$savv1</font>
  <b><font color=#923B23>set</font></b> data(c1) <font color=#4A181B>$savc1</font>
  <b><font color=#923B23>set</font></b> data(c2) <font color=#4A181B>$savc2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SessionButtons'>SessionButtons</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares buttons' label (&quot;in all/selected tabs&quot;).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SessionButtons</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_192' href="javascript:toggleSource('192')">Show source</a></p>
<div id='192' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SessionButtons {} {

  <i><font color=#646464># Prepares buttons' label (&quot;in all/selected tabs&quot;).</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> llen [<b><font color=#923B23>llength</font></b> [alited::bar::BAR listFlag s]]]&gt;1} {
    <b><font color=#923B23>set</font></b> btext [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$llen</font>] [msgcat::mc {All in %n Files}]]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> btext [msgcat::mc {All in Session}]
  }
  [<font color=#4A181B>$obFND</font> But3] configure <font color=#463e11>-text</font> <font color=#4A181B>$btext</font>
  [<font color=#4A181B>$obFND</font> But6] configure <font color=#463e11>-text</font> <font color=#4A181B>$btext</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SessionList'>SessionList</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of all tabs or selected tabs (if set).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SessionList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of all tabs or selected tabs (if set).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_193' href="javascript:toggleSource('193')">Show source</a></p>
<div id='193' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SessionList {} {

  <i><font color=#646464># Returns a list of all tabs or selected tabs (if set).</font></i>

  <b><font color=#923B23>set</font></b> res [alited::bar::BAR listFlag s]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$res</font>]==1} {<b><font color=#923B23>set</font></b> res [alited::bar::BAR listTab]}
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SetCursor'>SetCursor</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the cursor in a text after a replacement made.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetCursor</span> <span class='ruff_arg'>wtxt idx1</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>idx1</code></code></td><td class='ruff_defitem'>starting index of the replacement</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_194' href="javascript:toggleSource('194')">Show source</a></p>
<div id='194' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::SetCursor {wtxt idx1} {

  <i><font color=#646464># Sets the cursor in a text after a replacement made.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   idx1 - starting index of the replacement</font></i>

  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>set</font></b> len [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$data(en2)</font>]
  ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>idx1 + <font color=#4A181B>${</font>len<font color=#4A181B>}</font>c&quot;</font>]
  ::alited::main::CursorPos <font color=#4A181B>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults'>ShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Display a message containing results of a search.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults</span> <span class='ruff_arg'>msg ?mode? ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode for alited::Message; <i>optional, default</i> <code>3</code></td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID where the searches were performed in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_195' href="javascript:toggleSource('195')">Show source</a></p>
<div id='195' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::ShowResults {msg {mode 3} {TID {}}} {

  <i><font color=#646464># Display a message containing results of a search.</font></i>
  <i><font color=#646464>#   msg - the message</font></i>
  <i><font color=#646464>#   mode - mode for alited::Message</font></i>
  <i><font color=#646464>#   TID - tab's ID where the searches were performed in</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq {}} {<b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#923B23>set</font></b> fname [alited::bar::BAR <font color=#4A181B>$TID</font> cget <font color=#463e11>-text</font>]
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$fname</font>] <font color=#4A181B>$msg</font>]
  <i><font color=#646464># results in info list:</font></i>
  alited::info::Put <font color=#4A181B>$msg</font> {} yes
  <i><font color=#646464># results in status bar:</font></i>
  alited::Message <font color=#035103>&quot;<font color=#4A181B>$</font>msg <font color=#4A181B>[</font>string repeat <font color=#4A181B>{</font> <font color=#4A181B>}</font> 40<font color=#4A181B>]</font>&quot;</font> <font color=#4A181B>$mode</font>
  <i><font color=#646464># update line numbers of current file, as they are gone after the search</font></i>
  <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;  alited::main::CursorPos <font color=#4A181B>[</font>alited::main::CurrentWTXT<font color=#4A181B>]</font> ;  alited::main::UpdateGutter&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults1'>ShowResults1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message of all found strings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults1</span> <span class='ruff_arg'>allfnd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>allfnd</code></code></td><td class='ruff_defitem'>list of search results</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_196' href="javascript:toggleSource('196')">Show source</a></p>
<div id='196' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::ShowResults1 {allfnd} {

  <i><font color=#646464># Shows a message of all found strings.</font></i>
  <i><font color=#646464>#   allfnd - list of search results</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> data
  ShowResults [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$allfnd</font>] %s <font color=#4A181B>$data(en1)</font>] <font color=#4A181B>$alited::al(MC</font>,frres1)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults2'>ShowResults2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message of number of found strings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults2</span> <span class='ruff_arg'>rn msg ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>rn</code></code></td><td class='ruff_defitem'>number of found strings</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>messsage's template</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID where the searches were performed in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_197' href="javascript:toggleSource('197')">Show source</a></p>
<div id='197' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::find::ShowResults2 {rn msg {TID {}}} {

  <i><font color=#646464># Shows a message of number of found strings.</font></i>
  <i><font color=#646464>#   rn - number of found strings</font></i>
  <i><font color=#646464>#   msg - messsage's template</font></i>
  <i><font color=#646464>#   TID - tab's ID where the searches were performed in</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> data
  ShowResults [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$rn</font> %s <font color=#4A181B>$data(en1)</font> %r <font color=#4A181B>$data(en2)</font>] <font color=#4A181B>$msg</font>] 3 <font color=#4A181B>$TID</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::img'></a>::alited::img<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><br><h1 class='ruff'><a name='::alited::info'></a>::alited::info<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::info-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::info::Clear'>Clear</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears the info listbox widget and the related data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Clear</span> <span class='ruff_arg'>?i?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>index of message (if omitted, clears all messages); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_198' href="javascript:toggleSource('198')">Show source</a></p>
<div id='198' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::Clear {{i -1}} {

  <i><font color=#646464># Clears the info listbox widget and the related data.</font></i>
  <i><font color=#646464>#   i - index of message (if omitted, clears all messages)</font></i>

  <b><font color=#923B23>variable</font></b> list
  <b><font color=#923B23>variable</font></b> info
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font> == -1} {
    <b><font color=#923B23>set</font></b> list [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>set</font></b> info [<b><font color=#923B23>list</font></b>]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> list [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$list</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
    <b><font color=#923B23>set</font></b> info [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$info</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
    <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
    <b><font color=#923B23>lassign</font></b> [alited::FgFgBold] fg
    <b><font color=#923B23>catch</font></b> {[<font color=#4A181B>$obPav</font> LbxInfo] itemconfigure 0 <font color=#463e11>-foreground</font> <font color=#4A181B>$fg</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::FocusIn'>FocusIn</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>At focusing in the info listbox, shows its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusIn</span> <span class='ruff_arg'>sbhi lbxi</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sbhi</code></code></td><td class='ruff_defitem'>scrollbar's path</td></tr>
<tr><td class='ruff_defitem'><code><code>lbxi</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_199' href="javascript:toggleSource('199')">Show source</a></p>
<div id='199' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::FocusIn {sbhi lbxi} {

  <i><font color=#646464># At focusing in the info listbox, shows its scrollbar.</font></i>
  <i><font color=#646464>#   sbhi - scrollbar's path</font></i>
  <i><font color=#646464>#   lbxi - listbox's path</font></i>

  <b><font color=#923B23>if</font></b> {![<b><font color=#7A040E>winfo</font></b> ismapped <font color=#4A181B>$sbhi</font>]} {
    <b><font color=#7A040E>pack</font></b> <font color=#4A181B>$sbhi</font> <font color=#463e11>-side</font> bottom <font color=#463e11>-before</font> <font color=#4A181B>$lbxi</font> <font color=#463e11>-fill</font> both
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::FocusOut'>FocusOut</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>At focusing out of the info listbox, hides its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusOut</span> <span class='ruff_arg'>sbhi</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sbhi</code></code></td><td class='ruff_defitem'>scrollbar's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_200' href="javascript:toggleSource('200')">Show source</a></p>
<div id='200' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::FocusOut {sbhi} {

  <i><font color=#646464># At focusing out of the info listbox, hides its scrollbar.</font></i>
  <i><font color=#646464>#   sbhi - scrollbar's path</font></i>

  <b><font color=#923B23>variable</font></b> focustext
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$focustext</font>} {
    <b><font color=#7A040E>pack</font></b> forget <font color=#4A181B>$sbhi</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::Get'>Get</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a message of the info listbox widget by its index.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Get</span> <span class='ruff_arg'>i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>index of message</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_201' href="javascript:toggleSource('201')">Show source</a></p>
<div id='201' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::Get {i} {

  <i><font color=#646464># Gets a message of the info listbox widget by its index.</font></i>
  <i><font color=#646464>#   i - index of message</font></i>

  <b><font color=#923B23>variable</font></b> list
  <b><font color=#923B23>variable</font></b> info
  <b><font color=#A106A1>return</font></b> list [[<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$list</font> <font color=#4A181B>$i</font>] [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$info</font> <font color=#4A181B>$i</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::ListboxSelect'>ListboxSelect</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection event of the info listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ListboxSelect</span> <span class='ruff_arg'>w ?checkit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
<tr><td class='ruff_defitem'><code><code>checkit</code></code></td><td class='ruff_defitem'>flag to check for the repeated calls of this procedure; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_202' href="javascript:toggleSource('202')">Show source</a></p>
<div id='202' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::ListboxSelect {w {checkit no}} {

  <i><font color=#646464># Handles a selection event of the info listbox.</font></i>
  <i><font color=#646464>#   w - listbox's path</font></i>
  <i><font color=#646464>#   checkit - flag to check for the repeated calls of this procedure</font></i>

  <b><font color=#923B23>variable</font></b> info
  <b><font color=#923B23>variable</font></b> focustext
  <b><font color=#923B23>variable</font></b> selectmsec
  <b><font color=#923B23>variable</font></b> selectafter
  <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>clock</font></b> milliseconds]
  <b><font color=#923B23>if</font></b> {(<font color=#4A181B>$msec</font>-<font color=#4A181B>$selectmsec)</font>&lt;500 && <font color=#4A181B>$checkit</font>} {
    <i><font color=#646464># this disables updating at key pressing, let a user release the key</font></i>
    <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>after</font></b> cancel <font color=#4A181B>$selectafter</font>}
    <b><font color=#923B23>set</font></b> selectafter [<b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;alited::info::ListboxSelect <font color=#4A181B>$</font>w yes&quot;</font>]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> sel [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$w</font> curselection] 0]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is digit <font color=#463e11>-strict</font> <font color=#4A181B>$sel</font>]} {
      <b><font color=#923B23>update</font></b>
      <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$info</font> <font color=#4A181B>$sel</font>] TID line
      <b><font color=#923B23>if</font></b> {[alited::bar::BAR isTab <font color=#4A181B>$TID</font>]} {
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> ne [alited::bar::CurrentTabID]} {
          alited::bar::BAR <font color=#4A181B>$TID</font> show
        }
        <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;catch <font color=#4A181B>{</font>  alited::main::FocusText <font color=#4A181B>$</font>TID <font color=#4A181B>$</font>line.0 ;  alited::tree::NewSelection <font color=#4A181B>{}</font> <font color=#4A181B>$</font>line.0 yes ;  alited::main::HighlightLine<font color=#4A181B>}</font>&quot;</font>
        <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$focustext</font>} {<b><font color=#923B23>after</font></b> 100 <font color=#035103>&quot;focus <font color=#4A181B>$</font>w&quot;</font>}
      }
    }
  }
  <b><font color=#923B23>set</font></b> selectmsec <font color=#4A181B>$msec</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::PopupMenu'>PopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a popup menu on the info listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupMenu</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_203' href="javascript:toggleSource('203')">Show source</a></p>
<div id='203' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::PopupMenu {X Y} {

  <i><font color=#646464># Runs a popup menu on the info listbox.</font></i>
  <i><font color=#646464>#   X - x-coordinate of mouse pointer</font></i>
  <i><font color=#646464>#   Y - y-coordinate of mouse pointer</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>variable</font></b> focustext
  <b><font color=#923B23>set</font></b> popm <font color=#4A181B>$al(WIN)</font>.popupInfo
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$popm</font>}
  <b><font color=#7A040E>menu</font></b> <font color=#4A181B>$popm</font> <font color=#463e11>-tearoff</font> 0
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$focustext</font>} {
    <b><font color=#923B23>set</font></b> msg [msgcat::mc {Don't focus a text after selecting in infobar}]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> msg [msgcat::mc {Focus a text after selecting in infobar}]
  }
  <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$msg</font> <font color=#463e11>-command</font> <font color=#035103>&quot;alited::info::SwitchFocustext&quot;</font>
  <font color=#4A181B>$obPav</font> themePopup <font color=#4A181B>$popm</font>
  <b><font color=#7A040E>tk_popup</font></b> <font color=#4A181B>$popm</font> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::Put'>Put</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a message to the info listbox widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Put</span> <span class='ruff_arg'>msg ?inf? ?bold?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>inf</code></code></td><td class='ruff_defitem'>additional data for the message (1st line of unit etc.); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>bold</code></code></td><td class='ruff_defitem'>if yes, displays the message bolded; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_204' href="javascript:toggleSource('204')">Show source</a></p>
<div id='204' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::Put {msg {inf {}} {bold no}} {

  <i><font color=#646464># Puts a message to the info listbox widget.</font></i>
  <i><font color=#646464>#   msg - the message</font></i>
  <i><font color=#646464>#   inf - additional data for the message (1st line of unit etc.)</font></i>
  <i><font color=#646464>#   bold - if yes, displays the message bolded</font></i>

  <b><font color=#923B23>variable</font></b> list
  <b><font color=#923B23>variable</font></b> info
  <b><font color=#923B23>lappend</font></b> list <font color=#4A181B>$msg</font>
  <b><font color=#923B23>lappend</font></b> info <font color=#4A181B>$inf</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$bold</font>} {
    <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
    <b><font color=#923B23>lassign</font></b> [alited::FgFgBold] -&gt; fgbold
    [<font color=#4A181B>$obPav</font> LbxInfo] itemconfigure end <font color=#463e11>-foreground</font> <font color=#4A181B>$fgbold</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::SwitchFocustext'>SwitchFocustext</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches a variable of flag &quot;listbox is focused&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchFocustext</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_205' href="javascript:toggleSource('205')">Show source</a></p>
<div id='205' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::info::SwitchFocustext {} {

  <i><font color=#646464># Switches a variable of flag &quot;listbox is focused&quot;.</font></i>

  <b><font color=#923B23>variable</font></b> focustext
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$focustext</font>} {<b><font color=#923B23>set</font></b> focustext 0} {<b><font color=#923B23>set</font></b> focustext 1}
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::ini'></a>::alited::ini<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::ini-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::ini::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes alited app.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_206' href="javascript:toggleSource('206')">Show source</a></p>
<div id='206' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::_init {} {

  <i><font color=#646464># Initializes alited app.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al  obPav obPav obDlg obDlg obDl2 obDl2 obDl3 obDl3 obFND obFND
  <b><font color=#923B23>namespace</font></b> upvar ::alited::pref em_Num em_Num  em_sep em_sep em_ico em_ico em_inf em_inf em_mnu em_mnu

  GetUserDirs
  ReadIni
  InitFonts

  <b><font color=#923B23>lassign</font></b> [InitTheme] theme lbd
  ::apave::initWM <font color=#463e11>-cursorwidth</font> <font color=#4A181B>$al(CURSORWIDTH)</font> <font color=#463e11>-theme</font> <font color=#4A181B>$theme</font> <font color=#463e11>-labelborder</font> <font color=#4A181B>$lbd</font>
  ::apave::iconImage <font color=#463e11>-init</font> <font color=#4A181B>$al(INI</font>,ICONS)
  <b><font color=#923B23>set</font></b> ::apave::MC_NS ::alited
  InitGUI
  CheckIni
  GetUserDirs

  <i><font color=#646464># get hotkeys</font></i>
  alited::pref::IniKeys
  alited::pref::RegisterKeys
  alited::pref::KeyAccelerators

  <i><font color=#646464># create main apave objects</font></i>
  ::apave::APaveInput create <font color=#4A181B>$obPav</font> <font color=#4A181B>$al(WIN)</font>
  ::apave::APaveInput create <font color=#4A181B>$obDlg</font> <font color=#4A181B>$al(WIN)</font>
  ::apave::APaveInput create <font color=#4A181B>$obDl2</font> <font color=#4A181B>$al(WIN)</font>
  ::apave::APaveInput create <font color=#4A181B>$obDl3</font> <font color=#4A181B>$al(WIN)</font>
  ::apave::APaveInput create <font color=#4A181B>$obFND</font> <font color=#4A181B>$al(WIN)</font>

  <i><font color=#646464># here, the order of icons defines their order in the toolbar</font></i>
  <b><font color=#923B23>set</font></b> listIcons [::apave::iconImage]
  <i><font color=#646464># the below icons' order defines their order in the toolbar</font></i>
  <b><font color=#923B23>foreach</font></b> {icon} {none gulls heart add change delete up down paste plus minus  retry misc previous next folder file OpenFile SaveFile saveall categories  undo redo replace ok color date help run other e_menu trash} {
    <b><font color=#923B23>set</font></b> img [CreateIcon <font color=#4A181B>$icon</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$icon</font> in {<font color=#035103>&quot;file&quot;</font> OpenFile categories SaveFile saveall help ok color date other  replace e_menu run undo redo}} {
      <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot; <font color=#4A181B>$</font>img-big \<font color=#4A181B>{{}</font> -tip <font color=#4A181B>{$</font>alited::al(MC,ico<font color=#4A181B>$</font>icon)@@ -under 4<font color=#4A181B>}</font> &quot;</font>
      <b><font color=#923B23>switch</font></b> <font color=#4A181B>$icon</font> {
        <font color=#035103>&quot;file&quot;</font> {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::file::NewFile\}&quot;</font>
        }
        OpenFile {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::file::OpenFile\} sev 6&quot;</font>
        }
        SaveFile {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::file::SaveFile -state disabled\}&quot;</font>
        }
        saveall {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::file::SaveAll -state disabled\} sev 6&quot;</font>
        }
        categories {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::project::_run\} sev 6&quot;</font>
        }
        undo {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::tool::Undo -state disabled\}&quot;</font>
        }
        redo {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::tool::Redo -state disabled\} sev 6&quot;</font>
        }
        replace {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::find::_run\}&quot;</font>
        }
        ok {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::check::_run\}&quot;</font>
        }
        color {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-command alited::tool::ColorPicker\}&quot;</font>
        }
        date {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-command alited::tool::DatePicker\}&quot;</font>
        }
        help {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::tool::Help\} sev 6&quot;</font>
        }
        run {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::tool::_run\}&quot;</font>
        }
        other {
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-command alited::tool::tkcon\}&quot;</font>
        }
        e_menu {
          <b><font color=#7A040E>image</font></b> create photo <font color=#4A181B>$img<font color=#463e11></font>-big</font> <font color=#463e11>-data</font> <font color=#4A181B>$alited::img::_AL_IMG(e_menu)</font>
          <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com alited::tool::e_menu\}&quot;</font>
        }
      }
    }
  }
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>set</font></b> was 0]} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists em_ico(<font color=#4A181B>$i)</font>] && (<font color=#4A181B>$em_ico(</font>$i) ni {none {}} || <font color=#4A181B>$em_sep(</font>$i))} {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>incr</font></b> was]==1 && !<font color=#4A181B>$em_sep(</font>$i)} {
        <b><font color=#923B23>append</font></b> al(atools) { sev 6}
      }
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$em_sep(</font>$i)} {
        <b><font color=#923B23>append</font></b> al(atools) { sev 6}
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> length <font color=#4A181B>$em_ico(</font>$i)]==1} {
          <b><font color=#923B23>set</font></b> img _<font color=#4A181B>$em_ico(</font>$i)
          <b><font color=#923B23>set</font></b> txt <font color=#035103>&quot;-t <font color=#4A181B>$</font>em_ico(<font color=#4A181B>$</font>i)&quot;</font>
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#923B23>set</font></b> img [CreateIcon <font color=#4A181B>$em_ico(</font>$i)]<font color=#463e11>-big</font>
          <b><font color=#923B23>set</font></b> txt {}
        }
        <b><font color=#923B23>set</font></b> tip [<b><font color=#923B23>string</font></b> map {% %%} <font color=#4A181B>$em_mnu(</font>$i)]
        <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot; <font color=#4A181B>$</font>img \<font color=#4A181B>{{}</font> -tip <font color=#4A181B>{$</font>tip@@ -under 4<font color=#4A181B>}</font> <font color=#4A181B>$</font>txt &quot;</font>
        <b><font color=#923B23>append</font></b> al(atools) <font color=#035103>&quot;-com <font color=#4A181B>{[</font>alited::tool::EM_command <font color=#4A181B>$</font>i<font color=#4A181B>]}</font>\}&quot;</font>
      }
    }
  }
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;8} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#7A040E>image</font></b> create photo alimg_pro<font color=#4A181B>$i</font> <font color=#463e11>-data</font> [<b><font color=#923B23>set</font></b> alited::img::_AL_IMG(<font color=#4A181B>$i)</font>]
  }
  <b><font color=#7A040E>image</font></b> create photo alimg_tclfile <font color=#463e11>-data</font> [<b><font color=#923B23>set</font></b> alited::img::_AL_IMG(Tcl)]
  <b><font color=#7A040E>image</font></b> create photo alimg_kbd <font color=#463e11>-data</font> [<b><font color=#923B23>set</font></b> alited::img::_AL_IMG(kbd)]
  <i><font color=#646464># new find/repl. geometry</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FONTSIZE</font>,small) ne <font color=#4A181B>$al(FONTSIZE</font>,small)} {
    <b><font color=#923B23>set</font></b> ::alited::find::geo [<b><font color=#923B23>set</font></b> ::alited::find::minsize <font color=#035103>&quot;&quot;</font>]
  }
  <i><font color=#646464># styles & fonts used in &quot;small&quot; dialogues</font></i>
  ::apave::initStylesFS <font color=#463e11>-size</font> <font color=#4A181B>$al(FONTSIZE</font>,small)
  <b><font color=#923B23>lassign</font></b> [::apave::obj create_FontsType small <font color=#463e11>-size</font> <font color=#4A181B>$al(FONTSIZE</font>,small)]  al(FONT,defsmall) al(FONT,monosmall)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CheckIni'>CheckIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the configuration directory exists and if not asks for it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_207' href="javascript:toggleSource('207')">Show source</a></p>
<div id='207' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::CheckIni {} {

  <i><font color=#646464># Checks if the configuration directory exists and if not asks for it.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$::alited::INIDIR</font>] && [<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$::alited::PRJDIR</font>]} {
    <b><font color=#A106A1>return</font></b>
  }
  ::apave::APaveInput create pobj
  <b><font color=#923B23>set</font></b> head [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %d <font color=#4A181B>$::alited::USERDIRSTD</font>] <font color=#4A181B>$al(MC</font>,chini2)]
  <b><font color=#923B23>set</font></b> res [pobj input info <font color=#4A181B>$al(MC</font>,chini1) [<b><font color=#923B23>list</font></b>  dir1 [<b><font color=#923B23>list</font></b> <font color=#4A181B>$al(MC</font>,chini3) {} [<b><font color=#923B23>list</font></b> <font color=#463e11>-title</font> <font color=#4A181B>$al(MC</font>,chini3) <font color=#463e11>-w</font> 50]] <font color=#035103>&quot;<font color=#4A181B>{$</font>::alited::USERDIRSTD<font color=#4A181B>}</font>&quot;</font>  ] <font color=#463e11>-size</font> 14 <font color=#463e11>-weight</font> bold <font color=#463e11>-head</font> <font color=#4A181B>$head</font>]
  pobj destroy
  <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$res</font> ok ::alited::USERDIRROOT
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$ok</font>} <b><font color=#923B23>exit</font></b>
  CreateUserDirs
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreateIcon'>CreateIcon</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Create an icon (of normal and big size).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateIcon</span> <span class='ruff_arg'>icon</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>name of icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_208' href="javascript:toggleSource('208')">Show source</a></p>
<div id='208' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::CreateIcon {icon} {

  <i><font color=#646464># Create an icon (of normal and big size).</font></i>
  <i><font color=#646464>#   icon - name of icon</font></i>

  <b><font color=#923B23>set</font></b> img alimg_<font color=#4A181B>$icon</font>
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>image</font></b> create photo <font color=#4A181B>$img<font color=#463e11></font>-big</font> <font color=#463e11>-data</font> [::apave::iconData <font color=#4A181B>$icon</font>]}
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>image</font></b> create photo <font color=#4A181B>$img</font> <font color=#463e11>-data</font> [::apave::iconData <font color=#4A181B>$icon</font> small]}
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$img</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreateUserDirs'>CreateUserDirs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates main directories for settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateUserDirs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_209' href="javascript:toggleSource('209')">Show source</a></p>
<div id='209' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::CreateUserDirs {} {

  <i><font color=#646464># Creates main directories for settings.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al DATADIR DATADIR USERDIR USERDIR INIDIR INIDIR PRJDIR PRJDIR MNUDIR MNUDIR BAKDIR BAKDIR
  GetUserDirs
  <b><font color=#923B23>foreach</font></b> dir {USERDIR INIDIR PRJDIR} {
    <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> mkdir [<b><font color=#923B23>set</font></b> <font color=#4A181B>$dir</font>]}
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$al(INI)</font>]} {
    <b><font color=#923B23>file</font></b> copy [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$DATADIR</font> user ini alited.ini] <font color=#4A181B>$al(INI)</font>
    <b><font color=#923B23>file</font></b> copy [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$DATADIR</font> user prj default.ale]  [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$PRJDIR</font> default.ale]
    <b><font color=#923B23>file</font></b> copy [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$DATADIR</font> user notes.txt] [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$USERDIR</font> notes.txt]
    ReadIni
    InitGUI
  }
  <b><font color=#923B23>set</font></b> emdir [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$al(EM</font>,menudir)]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$emdir</font>]} {
    <b><font color=#923B23>file</font></b> mkdir <font color=#4A181B>$emdir</font>
    <b><font color=#923B23>file</font></b> copy <font color=#4A181B>$MNUDIR</font> <font color=#4A181B>$emdir</font>
    <b><font color=#923B23>file</font></b> copy [<b><font color=#923B23>file</font></b> join [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$MNUDIR</font>] em_projects] <font color=#4A181B>$emdir</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::EditSettings'>EditSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays the settings file, just to look behind the wall.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EditSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_210' href="javascript:toggleSource('210')">Show source</a></p>
<div id='210' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::EditSettings {} {

  <i><font color=#646464># Displays the settings file, just to look behind the wall.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> filecont [::apave::readTextFile <font color=#4A181B>$al(INI)</font>]
  <font color=#4A181B>$obPav</font> vieweditFile <font color=#4A181B>$al(INI)</font> {} <font color=#463e11>-rotext</font> 1 <font color=#463e11>-h</font> 25
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::GetUserDirs'>GetUserDirs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets names of main directories for settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetUserDirs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_211' href="javascript:toggleSource('211')">Show source</a></p>
<div id='211' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::GetUserDirs {} {

  <i><font color=#646464># Gets names of main directories for settings.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> ::alited::USERDIR [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::USERDIRROOT</font> alited]
  <b><font color=#923B23>set</font></b> ::alited::INIDIR [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::USERDIR</font> ini]
  <b><font color=#923B23>set</font></b> ::alited::PRJDIR [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::USERDIR</font> prj]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjroot)</font> eq <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>set</font></b> ::alited::BAKDIR [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::USERDIR</font> .bak]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> ::alited::BAKDIR [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$al(prjroot)</font> .bak]
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$::alited::BAKDIR</font>]} {
    <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> mkdir <font color=#4A181B>$::alited::BAKDIR</font>}
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(EM</font>,menudir) eq <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>set</font></b> al(EM,menudir) [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::USERDIR</font> e_menu menus]
  }
  <b><font color=#923B23>set</font></b> al(INI) [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::INIDIR</font> alited.ini]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitFonts'>InitFonts</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Loads main fonts for alited to use as default and mono.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitFonts</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_212' href="javascript:toggleSource('212')">Show source</a></p>
<div id='212' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::InitFonts {} {

    <i><font color=#646464># Loads main fonts for alited to use as default and mono.</font></i>

    <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <i><font color=#646464>#  if {[catch {</font></i>
  <i><font color=#646464>#    package require extrafont</font></i>
  <i><font color=#646464>#    set ttflist [glob [file join $alited::DATADIR fonts *]]</font></i>
  <i><font color=#646464>#  }]} {</font></i>
  <i><font color=#646464>#    set ttflist [list]</font></i>
  <i><font color=#646464>#  }</font></i>
  <i><font color=#646464>#  foreach ttf $ttflist {</font></i>
  <i><font color=#646464>#    catch {extrafont::load $ttf}</font></i>
  <i><font color=#646464>#puts &quot;[incr ::-ALE-] ini::InitFonts $ttf&quot;</font></i>
  <i><font color=#646464>#  }</font></i>
  <i><font color=#646464>#puts &quot;[incr ::-ALE-] ini::InitFonts ....[font families]&quot;</font></i>

    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FONT)</font> ne {}} {
      <b><font color=#923B23>catch</font></b> {
        ::apave::obj basicDefFont [<b><font color=#923B23>dict</font></b> get <font color=#4A181B>$al(FONT)</font> <font color=#463e11>-family</font>]
      }
      <b><font color=#923B23>set</font></b> smallfont <font color=#4A181B>$al(FONT)</font>
      <b><font color=#923B23>catch</font></b> {
        <b><font color=#923B23>set</font></b> smallfont [<b><font color=#923B23>dict</font></b> set smallfont <font color=#463e11>-size</font> <font color=#4A181B>$al(FONTSIZE</font>,small)]
      }
      <b><font color=#923B23>foreach</font></b> font {TkDefaultFont TkMenuFont TkHeadingFont TkCaptionFont} {
        <b><font color=#7A040E>font</font></b> configure <font color=#4A181B>$font</font> {*}<font color=#4A181B>$al(FONT)</font>
      }
      <b><font color=#923B23>foreach</font></b> font {TkSmallCaptionFont TkIconFont TkTooltipFont} {
        <b><font color=#7A040E>font</font></b> configure <font color=#4A181B>$font</font> {*}<font color=#4A181B>$smallfont</font>
      }
      ::baltip::configure <font color=#463e11>-font</font> <font color=#4A181B>$smallfont</font>
    }
    ::apave::obj basicFontSize <font color=#4A181B>$al(FONTSIZE</font>,std)
    <b><font color=#923B23>set</font></b> gl [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::MSGSDIR</font> <font color=#4A181B>$al(LOCAL)</font>]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>glob</font></b> <font color=#035103>&quot;<font color=#4A181B>$</font>gl.msg&quot;</font>}]} {<b><font color=#923B23>set</font></b> al(LOCAL) en}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(LOCAL)</font> ni {en {}}} {
      <i><font color=#646464># load localized messages</font></i>
      msgcat::mcload <font color=#4A181B>$alited::MSGSDIR</font>
      msgcat::mclocale <font color=#4A181B>$al(LOCAL)</font>
      alited::msgcatMessages
    } <b><font color=#923B23>else</font></b> {
      msgcat::mclocale en_us
    }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitGUI'>InitGUI</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes GUI.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitGUI</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_213' href="javascript:toggleSource('213')">Show source</a></p>
<div id='213' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::InitGUI {} {

  <i><font color=#646464># Initializes GUI.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  ::apave::obj basicFontSize <font color=#4A181B>$al(FONTSIZE</font>,std)
  ::apave::obj csSet <font color=#4A181B>$al(INI</font>,CS) . <font color=#463e11>-doit</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(INI</font>,HUE)} {::apave::obj csToned <font color=#4A181B>$al(INI</font>,CS) <font color=#4A181B>$al(INI</font>,HUE)}
  <b><font color=#923B23>set</font></b> Dark [::apave::obj csDarkEdit]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(ED,clrCOM)] || ![<b><font color=#923B23>info</font></b> exists al(ED,CclrCOM)] ||  ![<b><font color=#923B23>info</font></b> exists al(ED,Dark)] || <font color=#4A181B>$al(ED</font>,Dark) != <font color=#4A181B>$Dark</font>} {
    alited::pref::TclSyntax_Default yes
    alited::pref::CSyntax_Default yes
  }
  <b><font color=#923B23>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#923B23>set</font></b> clrvals [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> clr <font color=#4A181B>$clrnams</font> {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists al(ED,<font color=#4A181B>$clr)</font>]} {
      <b><font color=#923B23>lappend</font></b> clrvals [<b><font color=#923B23>set</font></b> al(ED,<font color=#4A181B>$clr)</font>]
    }
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$clrvals</font>]==[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$clrnams</font>]} {
    ::hl_tcl::hl_colors {<font color=#463e11>-AddTags</font>} <font color=#4A181B>$Dark</font> {*}<font color=#4A181B>$clrvals</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitTheme'>InitTheme</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes alited's theme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitTheme</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of theme name and label's border (for status bar).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_214' href="javascript:toggleSource('214')">Show source</a></p>
<div id='214' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::InitTheme {} {

  <i><font color=#646464># Initializes alited's theme.</font></i>
  <i><font color=#646464># Returns a list of theme name and label's border (for status bar).</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> theme {}
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-glob</font> -- <font color=#4A181B>$al(THEME)</font> {
    azure* - sun<font color=#463e11>-valley</font>* {
      <b><font color=#923B23>set</font></b> i [<b><font color=#923B23>string</font></b> last - <font color=#4A181B>$al(THEME)</font>]
      <b><font color=#923B23>set</font></b> name [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$al(THEME)</font> 0 <font color=#4A181B>$i</font>-1]
      <b><font color=#923B23>set</font></b> type [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$al(THEME)</font> <font color=#4A181B>$i</font>+1 end]
      <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::LIBDIR</font> theme <font color=#4A181B>$name</font> <font color=#4A181B>$name</font>.tcl]}
      <b><font color=#923B23>catch</font></b> {set_theme <font color=#4A181B>$type</font>}
      <b><font color=#923B23>set</font></b> lbd 0
    }
    forest* {
      <b><font color=#923B23>set</font></b> i [<b><font color=#923B23>string</font></b> last - <font color=#4A181B>$al(THEME)</font>]
      <b><font color=#923B23>set</font></b> name [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$al(THEME)</font> 0 <font color=#4A181B>$i</font>-1]
      <b><font color=#923B23>set</font></b> type [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$al(THEME)</font> <font color=#4A181B>$i</font>+1 end]
      <b><font color=#923B23>catch</font></b> {
        <b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::LIBDIR</font> theme <font color=#4A181B>$name</font> <font color=#4A181B>$al(THEME)</font>.tcl]
        <b><font color=#923B23>set</font></b> theme <font color=#4A181B>$al(THEME)</font>
      }
      <b><font color=#923B23>set</font></b> lbd 0
    }
    awdark - awlight {
      <b><font color=#923B23>global</font></b> auto_path
      <b><font color=#923B23>lappend</font></b> auto_path [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::LIBDIR</font> theme awthemes-10.4.0]
      <b><font color=#923B23>package</font></b> require awthemes
      <b><font color=#923B23>package</font></b> require ttk::theme::<font color=#4A181B>$al(THEME)</font>
      <b><font color=#923B23>set</font></b> theme <font color=#4A181B>$al(THEME)</font>
      <b><font color=#923B23>set</font></b> lbd 1
    }
    <b><font color=#923B23>default</font></b> {
      <b><font color=#923B23>set</font></b> theme <font color=#4A181B>$al(THEME)</font>
      <b><font color=#923B23>set</font></b> lbd 1
    }
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$theme</font> <font color=#4A181B>$lbd</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIni'>ReadIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads alited application's and project's settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIni</span> <span class='ruff_arg'>?projectfile?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>projectfile</code></code></td><td class='ruff_defitem'>project file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_215' href="javascript:toggleSource('215')">Show source</a></p>
<div id='215' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIni {{projectfile {}}} {

  <i><font color=#646464># Reads alited application's and project's settings.</font></i>
  <i><font color=#646464>#   projectfile - project file's name</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>namespace</font></b> upvar ::alited::project prjlist prjlist prjinfo prjinfo
  alited::pref::Tkcon_Default
  <b><font color=#923B23>set</font></b> prjlist [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> al(TPL,list) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> al(KEYS,bind) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> al(FAV,current) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> al(FAV,visited) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> em_i 0
  <b><font color=#923B23>set</font></b> fontsize [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$al(FONTSIZE</font>,std)+1}]
  <b><font color=#923B23>set</font></b> al(FONT,txt) <font color=#035103>&quot;-family <font color=#4A181B>{[</font>::apave::obj basicTextFont<font color=#4A181B>]}</font> -size <font color=#4A181B>$</font>fontsize&quot;</font>
  <b><font color=#923B23>lassign</font></b> <font color=#035103>&quot;&quot;</font> ::alited::Pan_wh ::alited::PanL_wh ::alited::PanR_wh  ::alited::PanBM_wh ::alited::PanTop_wh ::alited::al(GEOM)
  <b><font color=#923B23>catch</font></b> {
    <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;alited pwd    : <font color=#4A181B>[</font>pwd<font color=#4A181B>]</font>&quot;</font>
    <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;alited reading: <font color=#4A181B>$</font>al(INI)&quot;</font>
    <b><font color=#923B23>set</font></b> chan [<b><font color=#923B23>open</font></b> <font color=#4A181B>$::alited::al(INI)</font>]
    <b><font color=#923B23>set</font></b> mode <font color=#035103>&quot;&quot;</font>
    <b><font color=#923B23>while</font></b> {![<b><font color=#923B23>eof</font></b> <font color=#4A181B>$chan</font>]} {
      <b><font color=#923B23>set</font></b> stini [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>gets</font></b> <font color=#4A181B>$chan</font>]]
      <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$stini</font> {
        {[Geometry]} - {[Options]} - {[Projects]} - {[Templates]} - {[Keys]} - {[EM]} - {[Tkcon]} - {[Misc]} {
          <b><font color=#923B23>set</font></b> mode <font color=#4A181B>$stini</font>
          <b><font color=#923B23>continue</font></b>
        }
      }
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>string</font></b> first = <font color=#4A181B>$stini</font>]]&gt;0} {
        <b><font color=#923B23>set</font></b> nam [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$stini</font> 0 <font color=#4A181B>$i</font>-1]
        <b><font color=#923B23>set</font></b> val [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$stini</font> <font color=#4A181B>$i</font>+1 end]
        <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$mode</font> {
          {[Geometry]}  {ReadIniGeometry <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
          {[Options]}   {ReadIniOptions <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
          {[Templates]} {ReadIniTemplates <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
          {[Keys]}      {ReadIniKeys <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
          {[EM]}        {ReadIniEM <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font> em_i}
          {[Tkcon]}     {ReadIniTkcon <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
          {[Misc]}      {ReadIniMisc <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
        }
      }
    }
  }
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>close</font></b> <font color=#4A181B>$chan</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$projectfile</font> eq {} && <font color=#4A181B>$al(prjfile)</font> eq {}} {
    <i><font color=#646464># some options may be active outside of any project; fill them with defaults</font></i>
    <b><font color=#923B23>foreach</font></b> opt {multiline indent indentAuto EOL} {
      <b><font color=#923B23>set</font></b> al(prj<font color=#4A181B>$opt)</font> <font color=#4A181B>$al(DEFAULT</font>,prj<font color=#4A181B>$opt)</font>
    }
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$projectfile</font> eq {}} {
      <b><font color=#923B23>set</font></b> projectfile <font color=#4A181B>$al(prjfile)</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> al(prjfile) <font color=#4A181B>$projectfile</font>
    }
    ReadIniOptions project <font color=#4A181B>$projectfile</font>
  }
  ReadIniPrj
  <b><font color=#923B23>set</font></b> al(TEXT,opts) <font color=#035103>&quot;-padx 3 -spacing1 <font color=#4A181B>$</font>al(ED,sp1) -spacing2 <font color=#4A181B>$</font>al(ED,sp2) -spacing3 <font color=#4A181B>$</font>al(ED,sp3)&quot;</font>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(INI</font>,belltoll)} {
    <b><font color=#A106A1>proc</font></b> ::bell args {}  ;<i><font color=#646464># no bells</font></i>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniEM'>ReadIniEM</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets e_menu options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniEM</span> <span class='ruff_arg'>nam val emiName</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
<tr><td class='ruff_defitem'><code><code>emiName</code></code></td><td class='ruff_defitem'>name of em_i (index in arrays of e_menu data)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_216' href="javascript:toggleSource('216')">Show source</a></p>
<div id='216' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniEM {nam val emiName} {

  <i><font color=#646464># Gets e_menu options of alited.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>
  <i><font color=#646464>#   emiName - name of em_i (index in arrays of e_menu data)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>namespace</font></b> upvar ::alited::pref em_Num em_Num  em_sep em_sep em_ico em_ico em_inf em_inf em_mnu em_mnu
  <b><font color=#923B23>upvar</font></b> <font color=#4A181B>$emiName</font> em_i
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$nam</font> {
    emgeometry {<b><font color=#923B23>set</font></b> al(EM,geometry) <font color=#4A181B>$val</font>}
    emsave     {<b><font color=#923B23>set</font></b> al(EM,save) <font color=#4A181B>$val</font>}
    emPD       {<b><font color=#923B23>set</font></b> al(EM,PD=) <font color=#4A181B>$val</font>}
    emTcl      {<b><font color=#923B23>set</font></b> al(EM,Tcl) <font color=#4A181B>$val</font>}
    emTclList  {<b><font color=#923B23>set</font></b> al(EM,TclList) <font color=#4A181B>$val</font>}
    emh        {<b><font color=#923B23>set</font></b> al(EM,h=) <font color=#4A181B>$val</font>}
    emtt       {<b><font color=#923B23>set</font></b> al(EM,tt=) <font color=#4A181B>$val</font>}
    emmenu     {<b><font color=#923B23>set</font></b> al(EM,menu) <font color=#4A181B>$val</font>}
    emmenudir  {<b><font color=#923B23>set</font></b> al(EM,menudir) <font color=#4A181B>$val</font>}
    emcs       {<b><font color=#923B23>set</font></b> al(EM,CS) <font color=#4A181B>$val</font>}
    emexec     {<b><font color=#923B23>set</font></b> al(EM,exec) <font color=#4A181B>$val</font>}
    emdiff     {<b><font color=#923B23>set</font></b> al(EM,DiffTool) <font color=#4A181B>$val</font>}
    em_run {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$em_i</font> &lt; <font color=#4A181B>$em_Num</font>} {
        <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$val</font> \t] em_sep(<font color=#4A181B>$em_i)</font> em_ico(<font color=#4A181B>$em_i)</font> em_inf(<font color=#4A181B>$em_i)</font>
        <b><font color=#923B23>set</font></b> em_mnu(<font color=#4A181B>$em_i)</font> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$em_inf(</font>$em_i) end]
      }
      <b><font color=#923B23>incr</font></b> em_i
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniGeometry'>ReadIniGeometry</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the geometry options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniGeometry</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_217' href="javascript:toggleSource('217')">Show source</a></p>
<div id='217' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniGeometry {nam val} {

  <i><font color=#646464># Gets the geometry options of alited.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-glob</font> -- <font color=#4A181B>$nam</font> {
    Pan* {
      <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$val</font> x+] w h
      <b><font color=#923B23>set</font></b> ::alited::<font color=#4A181B>${nam}</font>_wh <font color=#035103>&quot;-w <font color=#4A181B>$</font>w -h <font color=#4A181B>$</font>h&quot;</font>
    }
    GEOM {
      <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$val</font> x+] - - x y
      <b><font color=#923B23>set</font></b> ::alited::al(GEOM) <font color=#035103>&quot;-geometry +<font color=#4A181B>$</font>x+<font color=#4A181B>$</font>y&quot;</font>
    }
    geomfind       {<b><font color=#923B23>set</font></b> ::alited::find::geo <font color=#4A181B>$val</font>}
    minsizefind    {<b><font color=#923B23>set</font></b> ::alited::find::minsize <font color=#4A181B>$val</font>}
    geomproject    {<b><font color=#923B23>set</font></b> ::alited::project::geo <font color=#4A181B>$val</font>}
    minsizeproject {<b><font color=#923B23>set</font></b> ::alited::project::minsize <font color=#4A181B>$val</font>}
    geompref       {<b><font color=#923B23>set</font></b> ::alited::pref::geo <font color=#4A181B>$val</font>}
    minsizepref    {<b><font color=#923B23>set</font></b> ::alited::pref::minsize <font color=#4A181B>$val</font>}
    dirgeometry    {<b><font color=#923B23>set</font></b> ::alited::DirGeometry <font color=#4A181B>$val</font>}
    filgeometry    {<b><font color=#923B23>set</font></b> ::alited::FilGeometry <font color=#4A181B>$val</font>}
    treecw0        {<b><font color=#923B23>set</font></b> al(TREE,cw0) <font color=#4A181B>$val</font>}
    treecw1        {<b><font color=#923B23>set</font></b> al(TREE,cw1) <font color=#4A181B>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniKeys'>ReadIniKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets keys options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniKeys</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_218' href="javascript:toggleSource('218')">Show source</a></p>
<div id='218' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniKeys {nam val} {

  <i><font color=#646464># Gets keys options of alited.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> -- <font color=#4A181B>$nam</font> {
    key {<b><font color=#923B23>lappend</font></b> al(KEYS,bind) <font color=#4A181B>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniMisc'>ReadIniMisc</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets miscellaneous options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniMisc</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_219' href="javascript:toggleSource('219')">Show source</a></p>
<div id='219' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniMisc {nam val} {

  <i><font color=#646464># Gets miscellaneous options of alited.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> -- <font color=#4A181B>$nam</font> {
    isfavor {<b><font color=#923B23>set</font></b> al(FAV,IsFavor) <font color=#4A181B>$val</font>}
    chosencolor {<b><font color=#923B23>set</font></b> alited::al(chosencolor) <font color=#4A181B>$val</font>}
    showinfo {<b><font color=#923B23>set</font></b> alited::al(TREE,showinfo) <font color=#4A181B>$val</font>}
    listSBL {<b><font color=#923B23>set</font></b> alited::al(listSBL) <font color=#4A181B>$val</font>}
    moveall {<b><font color=#923B23>set</font></b> al(moveall) <font color=#4A181B>$val</font>}
    tonemoves {<b><font color=#923B23>set</font></b> al(tonemoves) <font color=#4A181B>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniOptions'>ReadIniOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets various options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniOptions</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_220' href="javascript:toggleSource('220')">Show source</a></p>
<div id='220' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniOptions {nam val} {

  <i><font color=#646464># Gets various options of alited.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> clrnames [::hl_tcl::hl_colorNames]
  <b><font color=#923B23>foreach</font></b> lng {{} C} {
    <b><font color=#923B23>set</font></b> nam1 [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$nam</font> [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$lng</font>] end]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>lsearch</font></b> <font color=#4A181B>$clrnames</font> <font color=#4A181B>$nam1</font>]&gt;-1} {
      <b><font color=#923B23>set</font></b> al(ED,<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>
      <b><font color=#A106A1>return</font></b>
    }
  }
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-glob</font> -- <font color=#4A181B>$nam</font> {
    project {
      <b><font color=#923B23>set</font></b> al(prjfile) <font color=#4A181B>$val</font>
      <b><font color=#923B23>set</font></b> al(prjname) [<b><font color=#923B23>file</font></b> tail [<b><font color=#923B23>file</font></b> rootname <font color=#4A181B>$val</font>]]
    }
    theme         {<b><font color=#923B23>set</font></b> al(THEME) <font color=#4A181B>$val</font>}
    cs            {<b><font color=#923B23>set</font></b> al(INI,CS) <font color=#4A181B>$val</font>}
    hue           {<b><font color=#923B23>set</font></b> al(INI,HUE) <font color=#4A181B>$val</font>}
    local         {<b><font color=#923B23>set</font></b> al(LOCAL) <font color=#4A181B>$val</font>}
    deffont       {<b><font color=#923B23>set</font></b> al(FONT) <font color=#4A181B>$val</font>}
    smallfontsize {<b><font color=#923B23>set</font></b> al(FONTSIZE,small) <font color=#4A181B>$val</font>}
    stdfontsize   {<b><font color=#923B23>set</font></b> al(FONTSIZE,std) <font color=#4A181B>$val</font>}
    txtfont       {<b><font color=#923B23>set</font></b> al(FONT,txt) <font color=#4A181B>$val</font>}
    maxfind       {<b><font color=#923B23>set</font></b> al(INI,maxfind) <font color=#4A181B>$val</font>}
    confirmexit   {<b><font color=#923B23>set</font></b> al(INI,confirmexit) <font color=#4A181B>$val</font>}
    belltoll      {<b><font color=#923B23>set</font></b> al(INI,belltoll) <font color=#4A181B>$val</font>}
    spacing1      {<b><font color=#923B23>set</font></b> al(ED,sp1) <font color=#4A181B>$val</font>}
    spacing2      {<b><font color=#923B23>set</font></b> al(ED,sp2) <font color=#4A181B>$val</font>}
    spacing3      {<b><font color=#923B23>set</font></b> al(ED,sp3) <font color=#4A181B>$val</font>}
    TclKeyWords   {<b><font color=#923B23>set</font></b> al(ED,TclKeyWords) <font color=#4A181B>$val</font>}
    CKeyWords     {<b><font color=#923B23>set</font></b> al(ED,CKeyWords) <font color=#4A181B>$val</font>}
    clrDark       {<b><font color=#923B23>set</font></b> al(ED,Dark) <font color=#4A181B>$val</font>}
    save_onadd - save_onclose - save_onsave {<b><font color=#923B23>set</font></b> al(INI,<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>}
    TclExts       {<b><font color=#923B23>set</font></b> al(TclExtensions) <font color=#4A181B>$val</font>}
    ClangExts     {<b><font color=#923B23>set</font></b> al(ClangExtensions) <font color=#4A181B>$val</font>}
    REbranch      {<b><font color=#923B23>set</font></b> al(RE,branch) <font color=#4A181B>$val</font>}
    REproc        {<b><font color=#923B23>set</font></b> al(RE,proc) <font color=#4A181B>$val</font>}
    REproc2       {<b><font color=#923B23>set</font></b> al(RE,proc2) <font color=#4A181B>$val</font>}
    REleaf        {<b><font color=#923B23>set</font></b> al(RE,leaf) <font color=#4A181B>$val</font>}
    REleaf2       {<b><font color=#923B23>set</font></b> al(RE,leaf2) <font color=#4A181B>$val</font>}
    UseLeaf       {<b><font color=#923B23>set</font></b> al(INI,LEAF) <font color=#4A181B>$val</font>}
    Lines1        {<b><font color=#923B23>set</font></b> al(INI,LINES1) <font color=#4A181B>$val</font>}
    RecentFiles   {<b><font color=#923B23>set</font></b> al(INI,RECENTFILES) <font color=#4A181B>$val</font>}
    MaxLast       {<b><font color=#923B23>set</font></b> al(FAV,MAXLAST) <font color=#4A181B>$val</font>}
    MaxFiles      {<b><font color=#923B23>set</font></b> al(MAXFILES) <font color=#4A181B>$val</font>}
    barlablen     {<b><font color=#923B23>set</font></b> al(INI,barlablen) <font color=#4A181B>$val</font>}
    bartiplen     {<b><font color=#923B23>set</font></b> al(INI,bartiplen) <font color=#4A181B>$val</font>}
    backup        {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$val</font> ne {.bak}} {<b><font color=#923B23>set</font></b> val {}}
      <b><font color=#923B23>set</font></b> al(BACKUP) <font color=#4A181B>$val</font>
    }
    maxbackup     {<b><font color=#923B23>set</font></b> al(MAXBACKUP) <font color=#4A181B>$val</font>}
    gutterwidth   {<b><font color=#923B23>set</font></b> al(ED,gutterwidth) <font color=#4A181B>$val</font>}
    guttershift   {<b><font color=#923B23>set</font></b> al(ED,guttershift) <font color=#4A181B>$val</font>}
    cursorwidth   {<b><font color=#923B23>set</font></b> al(CURSORWIDTH) <font color=#4A181B>$val</font>}
    prjdefault    {<b><font color=#923B23>set</font></b> al(PRJDEFAULT) <font color=#4A181B>$val</font>}
    DEFAULT,*     {<b><font color=#923B23>set</font></b> al(<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>}
    findunit      {<b><font color=#923B23>set</font></b> al(findunitvals) <font color=#4A181B>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniPrj'>ReadIniPrj</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a project's settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniPrj</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_221' href="javascript:toggleSource('221')">Show source</a></p>
<div id='221' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniPrj {} {

  <i><font color=#646464># Reads a project's settings.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> al(tabs) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> al(curtab) 0
  alited::favor_ls::GetIni <font color=#035103>&quot;&quot;</font>  ;<i><font color=#646464># initializes favorites' lists</font></i>
  <b><font color=#923B23>set</font></b> al(prjdirign) <font color=#035103>&quot;.git .bak&quot;</font>
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$al(prjfile)</font>]} {
    <b><font color=#923B23>set</font></b> al(prjfile) [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::PRJDIR</font> [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$al(prjfile)</font>]]
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {
    <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;alited project: <font color=#4A181B>$</font>al(prjfile)&quot;</font>
    <b><font color=#923B23>set</font></b> chan [<b><font color=#923B23>open</font></b> <font color=#4A181B>$::alited::al(prjfile)</font> r]
    <b><font color=#923B23>set</font></b> mode <font color=#035103>&quot;&quot;</font>
    <b><font color=#923B23>while</font></b> {![<b><font color=#923B23>eof</font></b> <font color=#4A181B>$chan</font>]} {
      <b><font color=#923B23>set</font></b> stini [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>gets</font></b> <font color=#4A181B>$chan</font>]]
      <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$stini</font> {
        {[Tabs]} - {[Options]} - {[Favorites]} - {[Misc]} {
          <b><font color=#923B23>set</font></b> mode <font color=#4A181B>$stini</font>
          <b><font color=#923B23>continue</font></b>
        }
      }
      <b><font color=#923B23>set</font></b> i [<b><font color=#923B23>string</font></b> first = <font color=#4A181B>$stini</font>]
      <b><font color=#923B23>set</font></b> nam [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$stini</font> 0 <font color=#4A181B>$i</font>-1]
      <b><font color=#923B23>set</font></b> val [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$stini</font> <font color=#4A181B>$i</font>+1 end]
      <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$mode</font> {
        {[Tabs]} {ReadPrjTabs <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
        {[Options]} {ReadPrjOptions <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
        {[Favorites]} {ReadPrjFavorites <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
        {[Misc]} {ReadPrjMisc <font color=#4A181B>$nam</font> <font color=#4A181B>$val</font>}
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjroot)</font> eq <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> al(prjroot) <font color=#4A181B>$alited::DIR</font>}
  }]} then {
    <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;Not open: <font color=#4A181B>$</font>al(prjfile)&quot;</font>
    <b><font color=#923B23>set</font></b> al(prjname) <font color=#035103>&quot;&quot;</font>
    <b><font color=#923B23>set</font></b> al(prjfile) <font color=#035103>&quot;&quot;</font>
    <b><font color=#923B23>set</font></b> al(prjroot) <font color=#035103>&quot;&quot;</font>
  }
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>close</font></b> <font color=#4A181B>$chan</font>}
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>cd</font></b> <font color=#4A181B>$al(prjroot)</font>}
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> is digit <font color=#463e11>-strict</font> <font color=#4A181B>$al(curtab)</font>] ||  <font color=#4A181B>$al(curtab)</font>&lt;0 || <font color=#4A181B>$al(curtab)</font>&gt;=[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(tabs)</font>]} {
    <b><font color=#923B23>set</font></b> al(curtab) 0
  }
  ::apave::textEOL <font color=#4A181B>$al(prjEOL)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniTemplates'>ReadIniTemplates</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets templates options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniTemplates</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_222' href="javascript:toggleSource('222')">Show source</a></p>
<div id='222' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniTemplates {nam val} {

  <i><font color=#646464># Gets templates options of alited.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> -- <font color=#4A181B>$nam</font> {
    tpl {
      <b><font color=#923B23>lappend</font></b> al(TPL,list) <font color=#4A181B>$val</font>
      <i><font color=#646464># key bindings</font></i>
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$val</font> tplname tplkey
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tplkey</font> ne {}} {
        <b><font color=#923B23>set</font></b> kbval <font color=#035103>&quot;template <font color=#4A181B>{$</font>tplname<font color=#4A181B>}</font> <font color=#4A181B>$</font>tplkey <font color=#4A181B>{[</font>lrange <font color=#4A181B>$</font>val 2 end<font color=#4A181B>]}</font>&quot;</font>
        <b><font color=#923B23>lappend</font></b> al(KEYS,bind) <font color=#4A181B>$kbval</font>
      }
    }
  }
  <b><font color=#923B23>foreach</font></b> n {%d %t %u %U %m %w %a} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$n</font> eq <font color=#4A181B>$nam</font>} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$val</font> ne <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> al(TPL,<font color=#4A181B>$n)</font> <font color=#4A181B>$val</font>}
      <b><font color=#923B23>break</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniTkcon'>ReadIniTkcon</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tkcon options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniTkcon</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_223' href="javascript:toggleSource('223')">Show source</a></p>
<div id='223' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadIniTkcon {nam val} {

  <i><font color=#646464># Gets tkcon options of alited.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> al(tkcon,<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjFavorites'>ReadPrjFavorites</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets favorites of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjFavorites</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_224' href="javascript:toggleSource('224')">Show source</a></p>
<div id='224' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadPrjFavorites {nam val} {

  <i><font color=#646464># Gets favorites of project.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> -- <font color=#4A181B>$nam</font> {
    current - visited {<b><font color=#923B23>lappend</font></b> al(FAV,<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>}
    saved   {alited::favor_ls::GetIni <font color=#4A181B>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjMisc'>ReadPrjMisc</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets favorites of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjMisc</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_225' href="javascript:toggleSource('225')">Show source</a></p>
<div id='225' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadPrjMisc {nam val} {

  <i><font color=#646464># Gets favorites of project.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> -- <font color=#4A181B>$nam</font> {
    datafind {
      <b><font color=#923B23>catch</font></b> {
        <b><font color=#923B23>array</font></b> set ::alited::find::data <font color=#4A181B>$val</font>
        <b><font color=#923B23>set</font></b> ::alited::find::data(en1) <font color=#035103>&quot;&quot;</font>
        <b><font color=#923B23>set</font></b> ::alited::find::data(en2) <font color=#035103>&quot;&quot;</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjOptions'>ReadPrjOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjOptions</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_226' href="javascript:toggleSource('226')">Show source</a></p>
<div id='226' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadPrjOptions {nam val} {

  <i><font color=#646464># Gets options of project.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$nam</font> in {<font color=#035103>&quot;&quot;</font> <font color=#035103>&quot;prjfile&quot;</font>}} <b><font color=#A106A1>return</font></b> ;<i><font color=#646464># to avoid resetting the current project file name</font></i>
  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> al(<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjTabs'>ReadPrjTabs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tabs of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjTabs</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_227' href="javascript:toggleSource('227')">Show source</a></p>
<div id='227' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::ReadPrjTabs {nam val} {

  <i><font color=#646464># Gets tabs of project.</font></i>
  <i><font color=#646464>#   nam - name of option</font></i>
  <i><font color=#646464>#   val - value of option</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$val</font>] ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> -- <font color=#4A181B>$nam</font> {
      tab {<b><font color=#923B23>lappend</font></b> al(tabs) <font color=#4A181B>$val</font>}
      recent {alited::file::InsertRecent <font color=#4A181B>$val</font> end}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveCurrentIni'>SaveCurrentIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a current configuration of alited on various events.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCurrentIni</span> <span class='ruff_arg'>?saveon? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>saveon</code></code></td><td class='ruff_defitem'>flag &quot;save on event&quot; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>serves to run this procedure after idle; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_228' href="javascript:toggleSource('228')">Show source</a></p>
<div id='228' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::SaveCurrentIni {{saveon yes} {doit no}} {

  <i><font color=#646464># Saves a current configuration of alited on various events.</font></i>
  <i><font color=#646464>#   saveon - flag &quot;save on event&quot;</font></i>
  <i><font color=#646464>#   doit - serves to run this procedure after idle</font></i>

  <i><font color=#646464># for sessions to come</font></i>
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>expr</font></b> <font color=#4A181B>$saveon</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>variable</font></b> afterID
  <i><font color=#646464># run this code after updating GUI</font></i>
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>after</font></b> cancel <font color=#4A181B>$afterID</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doit</font>} {
    SaveIni
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> afterID [<b><font color=#923B23>after</font></b> idle ::alited::ini::SaveCurrentIni yes yes]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveIni'>SaveIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a current configuration of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIni</span> <span class='ruff_arg'>?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>flag &quot;for a new project&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_229' href="javascript:toggleSource('229')">Show source</a></p>
<div id='229' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::SaveIni {{newproject no}} {

  <i><font color=#646464># Saves a current configuration of alited.</font></i>
  <i><font color=#646464>#   newproject - flag &quot;for a new project&quot;</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>namespace</font></b> upvar ::alited::pref em_Num em_Num em_sep em_sep em_ico em_ico em_inf em_inf
  <b><font color=#923B23>namespace</font></b> upvar ::alited::project prjlist prjlist prjinfo prjinfo OPTS OPTS
  <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;alited storing: <font color=#4A181B>$</font>al(INI)&quot;</font>
  <b><font color=#923B23>set</font></b> chan [<b><font color=#923B23>open</font></b> <font color=#4A181B>$::alited::al(INI)</font> w]
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Options]}
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;project=<font color=#4A181B>$</font>al(prjfile)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;theme=<font color=#4A181B>$</font>al(THEME)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;cs=<font color=#4A181B>$</font>al(INI,CS)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;hue=<font color=#4A181B>$</font>al(INI,HUE)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;local=<font color=#4A181B>$</font>al(LOCAL)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;deffont=<font color=#4A181B>$</font>al(FONT)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;smallfontsize=<font color=#4A181B>$</font>al(FONTSIZE,small)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;stdfontsize=<font color=#4A181B>$</font>al(FONTSIZE,std)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;txtfont=<font color=#4A181B>$</font>al(FONT,txt)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;maxfind=<font color=#4A181B>$</font>al(INI,maxfind)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;confirmexit=<font color=#4A181B>$</font>al(INI,confirmexit)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;belltoll=<font color=#4A181B>$</font>al(INI,belltoll)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;spacing1=<font color=#4A181B>$</font>al(ED,sp1)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;spacing2=<font color=#4A181B>$</font>al(ED,sp2)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;spacing3=<font color=#4A181B>$</font>al(ED,sp3)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;CKeyWords=<font color=#4A181B>$</font>al(ED,CKeyWords)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;TclKeyWords=<font color=#4A181B>$</font>al(ED,TclKeyWords)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;cursorwidth=<font color=#4A181B>$</font>al(CURSORWIDTH)&quot;</font>
  <b><font color=#923B23>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#923B23>foreach</font></b> lng {{} C} {
    <b><font color=#923B23>foreach</font></b> nam <font color=#4A181B>$clrnams</font> {<b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;<font color=#4A181B>$</font>lng<font color=#4A181B>$</font>nam=<font color=#4A181B>$</font>al(ED,<font color=#4A181B>$</font>lng<font color=#4A181B>$</font>nam)&quot;</font>}
  }
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;clrDark=<font color=#4A181B>$</font>al(ED,Dark)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;save_onadd=<font color=#4A181B>$</font>al(INI,save_onadd)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;save_onclose=<font color=#4A181B>$</font>al(INI,save_onclose)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;save_onsave=<font color=#4A181B>$</font>al(INI,save_onsave)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;TclExts=<font color=#4A181B>$</font>al(TclExtensions)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;ClangExts=<font color=#4A181B>$</font>al(ClangExtensions)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;REbranch=<font color=#4A181B>$</font>al(RE,branch)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;REproc=<font color=#4A181B>$</font>al(RE,proc)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;REproc2=<font color=#4A181B>$</font>al(RE,proc2)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;REleaf=<font color=#4A181B>$</font>al(RE,leaf)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;REleaf2=<font color=#4A181B>$</font>al(RE,leaf2)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;UseLeaf=<font color=#4A181B>$</font>al(INI,LEAF)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;Lines1=<font color=#4A181B>$</font>al(INI,LINES1)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;RecentFiles=<font color=#4A181B>$</font>al(INI,RECENTFILES)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;MaxLast=<font color=#4A181B>$</font>al(FAV,MAXLAST)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;MaxFiles=<font color=#4A181B>$</font>al(MAXFILES)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;barlablen=<font color=#4A181B>$</font>al(INI,barlablen)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;bartiplen=<font color=#4A181B>$</font>al(INI,bartiplen)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;backup=<font color=#4A181B>$</font>al(BACKUP)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;maxbackup=<font color=#4A181B>$</font>al(MAXBACKUP)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;gutterwidth=<font color=#4A181B>$</font>al(ED,gutterwidth)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;guttershift=<font color=#4A181B>$</font>al(ED,guttershift)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;prjdefault=<font color=#4A181B>$</font>al(PRJDEFAULT)&quot;</font>
  <b><font color=#923B23>foreach</font></b> k [<b><font color=#923B23>array</font></b> names al DEFAULT,*] {
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;<font color=#4A181B>$</font>k=<font color=#4A181B>$</font>al(<font color=#4A181B>$</font>k)&quot;</font>
  }
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;findunit=<font color=#4A181B>$</font>al(findunitvals)&quot;</font>

  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Templates]}
  <b><font color=#923B23>foreach</font></b> t <font color=#4A181B>$al(TPL</font>,list) {
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;tpl=<font color=#4A181B>$</font>t&quot;</font>
  }
  <b><font color=#923B23>foreach</font></b> n {%d %t %u %U %m %w %a} {
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;<font color=#4A181B>$</font>n=<font color=#4A181B>$</font>al(TPL,<font color=#4A181B>$</font>n)&quot;</font>
  }
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Keys]}
  <b><font color=#923B23>foreach</font></b> k <font color=#4A181B>$al(KEYS</font>,bind) {
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> match template* <font color=#4A181B>$k</font>] && ![<b><font color=#923B23>string</font></b> match action* <font color=#4A181B>$k</font>]} {
      <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;key=<font color=#4A181B>$</font>k&quot;</font>
    }
  }
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[EM]}
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emsave=<font color=#4A181B>$</font>al(EM,save)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emPD=<font color=#4A181B>$</font>al(EM,PD=)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emTcl=<font color=#4A181B>$</font>al(EM,Tcl)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emTclList=<font color=#4A181B>$</font>al(EM,TclList)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emh=<font color=#4A181B>$</font>al(EM,h=)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emtt=<font color=#4A181B>$</font>al(EM,tt=)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emmenu=<font color=#4A181B>$</font>al(EM,menu)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emmenudir=<font color=#4A181B>$</font>al(EM,menudir)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emcs=<font color=#4A181B>$</font>al(EM,CS)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emgeometry=<font color=#4A181B>$</font>al(EM,geometry)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emexec=<font color=#4A181B>$</font>al(EM,exec)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;emdiff=<font color=#4A181B>$</font>al(EM,DiffTool)&quot;</font>
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists em_sep(<font color=#4A181B>$i)</font>]} {
      <b><font color=#923B23>set</font></b> em_run <font color=#4A181B>$em_sep(</font>$i)
      <b><font color=#923B23>append</font></b> em_run \t <font color=#4A181B>$em_ico(</font>$i) \t <font color=#4A181B>$em_inf(</font>$i)
      <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;em_run=<font color=#4A181B>$</font>em_run&quot;</font>
    }
  }
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Tkcon]}
  <b><font color=#923B23>foreach</font></b> k [<b><font color=#923B23>array</font></b> names al tkcon,*] {
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;<font color=#4A181B>[</font>string range <font color=#4A181B>$</font>k 6 end<font color=#4A181B>]</font>=<font color=#4A181B>$</font>al(<font color=#4A181B>$</font>k)&quot;</font>
  }
  <i><font color=#646464># save the geometry options</font></i>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Geometry]}
  <b><font color=#923B23>foreach</font></b> v {Pan PanL PanR PanBM PanTop} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists al(width<font color=#4A181B>$v)</font>]} {
      <b><font color=#923B23>set</font></b> w <font color=#4A181B>$al(width</font>$v)
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> w [<b><font color=#7A040E>winfo</font></b> geometry [<font color=#4A181B>$::alited::obPav</font> <font color=#4A181B>$v</font>]]
    }
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#4A181B>$v</font>=<font color=#4A181B>$w</font>
  }
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;GEOM=<font color=#4A181B>[</font>wm geometry <font color=#4A181B>$</font>al(WIN)<font color=#4A181B>]</font>&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;geomfind=<font color=#4A181B>$</font>::alited::find::geo&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;minsizefind=<font color=#4A181B>$</font>::alited::find::minsize&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;geomproject=<font color=#4A181B>$</font>::alited::project::geo&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;minsizeproject=<font color=#4A181B>$</font>::alited::project::minsize&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;geompref=<font color=#4A181B>$</font>::alited::pref::geo&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;minsizepref=<font color=#4A181B>$</font>::alited::pref::minsize&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;treecw0=<font color=#4A181B>[[$</font>obPav Tree<font color=#4A181B>]</font> column #0 -width<font color=#4A181B>]</font>&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;treecw1=<font color=#4A181B>[[$</font>obPav Tree<font color=#4A181B>]</font> column #1 -width<font color=#4A181B>]</font>&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;dirgeometry=<font color=#4A181B>$</font>::alited::DirGeometry&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;filgeometry=<font color=#4A181B>$</font>::alited::FilGeometry&quot;</font>
  <i><font color=#646464># save other options</font></i>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Misc]}
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;isfavor=<font color=#4A181B>$</font>al(FAV,IsFavor)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;chosencolor=<font color=#4A181B>$</font>al(chosencolor)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;showinfo=<font color=#4A181B>$</font>al(TREE,showinfo)&quot;</font>
  <b><font color=#923B23>set</font></b> al(listSBL) [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \n <font color=#4A181B>$alited::EOL</font>] <font color=#4A181B>$al(listSBL)</font>]
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;listSBL=<font color=#4A181B>$</font>al(listSBL)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;moveall=<font color=#4A181B>$</font>al(moveall)&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;tonemoves=<font color=#4A181B>$</font>al(tonemoves)&quot;</font>
  <b><font color=#923B23>close</font></b> <font color=#4A181B>$chan</font>
  SaveIniPrj <font color=#4A181B>$newproject</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveIniPrj'>SaveIniPrj</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves settings of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIniPrj</span> <span class='ruff_arg'>newproject</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>flag &quot;for a new project&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_230' href="javascript:toggleSource('230')">Show source</a></p>
<div id='230' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::ini::SaveIniPrj {newproject} {

  <i><font color=#646464># Saves settings of project.</font></i>
  <i><font color=#646464>#   newproject - flag &quot;for a new project&quot;</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> tabs <font color=#4A181B>$al(tabs)</font>
  <b><font color=#923B23>set</font></b> al(tabs) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjroot)</font> eq <font color=#035103>&quot;&quot;</font>} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> chan [<b><font color=#923B23>open</font></b> <font color=#4A181B>$al(prjfile)</font> w]
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Tabs]}
  <b><font color=#923B23>lassign</font></b> [alited::bar::GetBarState] TIDcur - wtxt
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$newproject</font>} {
    <b><font color=#923B23>set</font></b> tabs [alited::bar::BAR listTab]
  }
  <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$tabs</font> {
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$newproject</font>} {
      <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
      <b><font color=#923B23>set</font></b> tab [alited::bar::FileName <font color=#4A181B>$TID</font>]
      <b><font color=#923B23>if</font></b> {[alited::file::IsNoName <font color=#4A181B>$tab</font>]} <b><font color=#923B23>continue</font></b>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq <font color=#4A181B>$TIDcur</font>} {
        <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> pos [alited::bar::GetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-pos</font>]
      }
      <b><font color=#923B23>append</font></b> tab \t <font color=#4A181B>$pos</font>
    }
    <b><font color=#923B23>lappend</font></b> al(tabs) <font color=#4A181B>$tab</font>
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;tab=<font color=#4A181B>$</font>tab&quot;</font>
  }
  <b><font color=#923B23>foreach</font></b> rf <font color=#4A181B>$al(RECENTFILES)</font> {
    <b><font color=#923B23>if</font></b> {![alited::file::IsNoName <font color=#4A181B>$rf</font>]} {
      <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;recent=<font color=#4A181B>$</font>rf&quot;</font>
    }
  }
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Options]}
  <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;curtab=<font color=#4A181B>[</font>alited::bar::CurrentTab 3<font color=#4A181B>]</font>&quot;</font>
  <b><font color=#923B23>foreach</font></b> {opt val} [<b><font color=#923B23>array</font></b> get al prj*] {
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;<font color=#4A181B>$</font>opt=<font color=#4A181B>$</font>val&quot;</font>
  }
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$newproject</font>} {
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Favorites]}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FAV</font>,IsFavor)} {
      <b><font color=#923B23>set</font></b> favlist [alited::tree::GetTree {} TreeFavor]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> favlist <font color=#4A181B>$al(FAV</font>,current)
    }
    <b><font color=#923B23>foreach</font></b> curfav <font color=#4A181B>$favlist</font> {
      <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;current=<font color=#4A181B>$</font>curfav&quot;</font>
    }
    <b><font color=#923B23>foreach</font></b> savfav [::alited::favor_ls::PutIni] {
      <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;saved=<font color=#4A181B>$</font>savfav&quot;</font>
    }
    <b><font color=#923B23>foreach</font></b> visited <font color=#4A181B>$al(FAV</font>,visited) {
      <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;visited=<font color=#4A181B>$</font>visited&quot;</font>
    }
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;&quot;</font>
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> {[Misc]}
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$chan</font> <font color=#035103>&quot;datafind=<font color=#4A181B>[</font>array get ::alited::find::data<font color=#4A181B>]</font>&quot;</font>
  }
  <b><font color=#923B23>close</font></b> <font color=#4A181B>$chan</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::keys'></a>::alited::keys<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::keys-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::keys::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds an item to a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>type name keys cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item</td></tr>
<tr><td class='ruff_defitem'><code><code>keys</code></code></td><td class='ruff_defitem'>key combination</td></tr>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>contents (data of binding)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_231' href="javascript:toggleSource('231')">Show source</a></p>
<div id='231' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::Add {type name keys cont} {

  <i><font color=#646464># Adds an item to a list of keys data.</font></i>
  <i><font color=#646464>#   type - type of key</font></i>
  <i><font color=#646464>#   name - name of item</font></i>
  <i><font color=#646464>#   keys - key combination</font></i>
  <i><font color=#646464>#   cont - contents (data of binding)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$keys</font>] ne {}} {
    <b><font color=#923B23>set</font></b> item [<b><font color=#923B23>list</font></b> <font color=#4A181B>$type</font> <font color=#4A181B>$name</font> <font color=#4A181B>$keys</font> <font color=#4A181B>$cont</font>]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [Search <font color=#4A181B>$type</font> <font color=#4A181B>$name</font>]]&gt;-1} {
      <b><font color=#923B23>set</font></b> al(KEYS,bind) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(KEYS</font>,bind) <font color=#4A181B>$i</font> <font color=#4A181B>$i</font> <font color=#4A181B>$item</font>]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>lappend</font></b> al(KEYS,bind) <font color=#4A181B>$item</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::BindKeys'>BindKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds keys to appropriate events of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindKeys</span> <span class='ruff_arg'>wtxt type</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of keys (template etc.)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_232' href="javascript:toggleSource('232')">Show source</a></p>
<div id='232' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::BindKeys {wtxt type} {

  <i><font color=#646464># Binds keys to appropriate events of text.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   type - type of keys (template etc.)</font></i>

  <b><font color=#923B23>foreach</font></b> kb [alited::keys::EngagedList <font color=#4A181B>$type</font> all] {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$kb</font> -&gt; tpl keys tpldata
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>string</font></b> last - <font color=#4A181B>$keys</font>]]&gt;0} {
        <b><font color=#923B23>set</font></b> lt [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$keys</font> <font color=#4A181B>$i</font>+1 end]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> length <font color=#4A181B>$lt</font>]==1} {  ;<i><font color=#646464># for lower case of letters</font></i>
          <b><font color=#923B23>lappend</font></b> keys <font color=#035103>&quot;<font color=#4A181B>[</font>string range <font color=#4A181B>$</font>keys 0 <font color=#4A181B>$</font>i<font color=#4A181B>][</font>string tolower <font color=#4A181B>$</font>lt<font color=#4A181B>]</font>&quot;</font>
        }
      }
      <b><font color=#923B23>foreach</font></b> k <font color=#4A181B>$keys</font> {
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$type</font> eq <font color=#035103>&quot;template&quot;</font>} {
          <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$tpldata</font> tex pos place
          <b><font color=#923B23>set</font></b> tex [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$::alited::EOL</font> \n % %%] <font color=#4A181B>$tex</font>]
          <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> <font color=#035103>&quot;&lt;<font color=#4A181B>$</font>k&gt;&quot;</font> [<b><font color=#923B23>list</font></b> ::alited::unit::InsertTemplate [<b><font color=#923B23>list</font></b> <font color=#4A181B>$tex</font> <font color=#4A181B>$pos</font> <font color=#4A181B>$place</font>]]
        } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$type</font> eq <font color=#035103>&quot;preference&quot;</font>} {
          <b><font color=#923B23>set</font></b> tpldata [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %k <font color=#4A181B>$keys</font>] <font color=#4A181B>$tpldata</font>]
          {*}<font color=#4A181B>$tpldata</font>
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> <font color=#035103>&quot;&lt;<font color=#4A181B>$</font>k&gt;&quot;</font> <font color=#4A181B>$tpldata</font>
        }
      }
    } err]} then {
      <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;Error of binding: <font color=#4A181B>$</font>tpl &lt;<font color=#4A181B>$</font>keys&gt; - <font color=#4A181B>$</font>err&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes an item from a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>type ?name?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_233' href="javascript:toggleSource('233')">Show source</a></p>
<div id='233' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::Delete {type {name {}}} {

  <i><font color=#646464># Deletes an item from a list of keys data.</font></i>
  <i><font color=#646464>#   type - type of key</font></i>
  <i><font color=#646464>#   name - name of item</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> deleted 0
  <b><font color=#923B23>while</font></b> {[<b><font color=#923B23>set</font></b> i [Search <font color=#4A181B>$type</font> <font color=#4A181B>$name</font>]]&gt;-1} {
    <b><font color=#923B23>set</font></b> al(KEYS,bind) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(KEYS</font>,bind) <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
    <b><font color=#923B23>incr</font></b> deleted
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$deleted</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::EngagedList'>EngagedList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys engaged by a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EngagedList</span> <span class='ruff_arg'>?type? ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>a type of keys (&quot;template&quot; etc.); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;all&quot;, returns full info of keys; if &quot;keysonly&quot; - only key names; if &quot;keyscont&quot; - only key contents; <i>optional, default</i> <code>keyscont</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys engaged by a user.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_234' href="javascript:toggleSource('234')">Show source</a></p>
<div id='234' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::EngagedList {{type {}} {mode keyscont}} {

  <i><font color=#646464># Returns a list of keys engaged by a user.</font></i>
  <i><font color=#646464>#   type - a type of keys (&quot;template&quot; etc.)</font></i>
  <i><font color=#646464>#   mode - if &quot;all&quot;, returns full info of keys; if &quot;keysonly&quot; - only key names; if &quot;keyscont&quot; - only key contents</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> kb <font color=#4A181B>$al(KEYS</font>,bind) {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$type</font> eq <font color=#035103>&quot;&quot;</font> || <font color=#4A181B>$type</font> eq [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$kb</font> 0]} {
      <b><font color=#923B23>switch</font></b> <font color=#4A181B>$mode</font> {
        all      {<b><font color=#923B23>lappend</font></b> res <font color=#4A181B>$kb</font>}
        keysonly {<b><font color=#923B23>lappend</font></b> res [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$kb</font> 2]}
        keyscont {<b><font color=#923B23>lappend</font></b> res [<b><font color=#923B23>lrange</font></b> <font color=#4A181B>$kb</font> 2 3]}
      }
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::ReservedAdd'>ReservedAdd</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves reserved (&quot;action&quot;) keys to a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedAdd</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_235' href="javascript:toggleSource('235')">Show source</a></p>
<div id='235' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::ReservedAdd {wtxt} {

  <i><font color=#646464># Saves reserved (&quot;action&quot;) keys to a list of keys data.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  Add action find<font color=#463e11>-replace</font> Control<font color=#463e11>-F</font> {alited::find::_run; <b><font color=#923B23>break</font></b>}
  Add action find<font color=#463e11>-unit</font>    Shift<font color=#463e11>-Control-F</font> {::alited::find::FindUnit; <b><font color=#923B23>break</font></b>}
  Add action new<font color=#463e11>-file</font>     Control<font color=#463e11>-N</font> {::alited::file::NewFile; <b><font color=#923B23>break</font></b>}
  Add action open<font color=#463e11>-file</font>    Control<font color=#463e11>-O</font> {::alited::file::OpenFile; <b><font color=#923B23>break</font></b>}
  Add action save<font color=#463e11>-all</font>     Shift<font color=#463e11>-Control-S</font> {::alited::file::SaveAll; <b><font color=#923B23>break</font></b>}
  Add action save<font color=#463e11>-close</font>   Control<font color=#463e11>-W</font> {::alited::file::SaveFileAndClose; <b><font color=#923B23>break</font></b>}
  Add action help         F1 {alited::tool::Help}
  <i><font color=#646464># other keys are customized in Preferences</font></i>
  Add action save<font color=#463e11>-file</font>    [alited::pref::BindKey 0 - F2] {::alited::file::SaveFile}
  Add action save<font color=#463e11>-as</font>      [alited::pref::BindKey 1 - Control<font color=#463e11>-S</font>] {::alited::file::SaveFileAs; <b><font color=#923B23>break</font></b>}
  Add action e_menu       [alited::pref::BindKey 2 - F4] {alited::tool::e_menu}
  Add action run          [alited::pref::BindKey 3 - F5] {alited::tool::_run}
  Add action indent       [alited::pref::BindKey 6 - Control<font color=#463e11>-I</font>] {::alited::edit::Indent; <b><font color=#923B23>break</font></b>}
  Add action unindent     [alited::pref::BindKey 7 - Control<font color=#463e11>-U</font>] {::alited::edit::UnIndent; <b><font color=#923B23>break</font></b>}
  Add action comment      [alited::pref::BindKey 8 - Control<font color=#463e11>-bracketleft</font>] {::alited::edit::Comment; <b><font color=#923B23>break</font></b>}
  Add action uncomment    [alited::pref::BindKey 9 - Control<font color=#463e11>-bracketright</font>] {::alited::edit::UnComment; <b><font color=#923B23>break</font></b>}
  Add action find<font color=#463e11>-next</font>    [alited::pref::BindKey 12 - F3] <font color=#035103>&quot;<font color=#4A181B>$</font>obPav findInText 1 <font color=#4A181B>$</font>wtxt&quot;</font>
  Add action look<font color=#463e11>-declaration</font>    [alited::pref::BindKey 13 - Control<font color=#463e11>-L</font>] <font color=#035103>&quot;::alited::find::SearchUnit <font color=#4A181B>$</font>wtxt ; break&quot;</font>
  Add action look<font color=#463e11>-word</font>    [alited::pref::BindKey 14 - Control<font color=#463e11>-Shift-L</font>] <font color=#035103>&quot;::alited::find::SearchWordInSession ; break&quot;</font>
  Add action item<font color=#463e11>-up</font>      [alited::pref::BindKey 15 - F11] {+ ::alited::tree::MoveItem up yes}
  Add action item<font color=#463e11>-down</font>    [alited::pref::BindKey 16 - F12] {+ ::alited::tree::MoveItem down yes}
  Add action goto<font color=#463e11>-line</font>    [alited::pref::BindKey 17 - Control<font color=#463e11>-G</font>] {alited::main::GotoLine; <b><font color=#923B23>break</font></b>}
  Add action insert<font color=#463e11>-line</font>  [alited::pref::BindKey 18 - Control<font color=#463e11>-P</font>] {alited::main::InsertLine; <b><font color=#923B23>break</font></b>}
  Add action autocomplete [alited::pref::BindKey 19 - Tab] {alited::complete::AutoCompleteCommand; <b><font color=#923B23>break</font></b>}
  Add action goto<font color=#463e11>-bracket</font> [alited::pref::BindKey 20 - Alt<font color=#463e11>-B</font>] {alited::main::GotoBracket; <b><font color=#923B23>break</font></b>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::ReservedList'>ReservedList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys reserved by alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys reserved by alited.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_236' href="javascript:toggleSource('236')">Show source</a></p>
<div id='236' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::ReservedList {} {

  <i><font color=#646464># Returns a list of keys reserved by alited.</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b>  F1  F10  Control<font color=#463e11>-A</font>  Control<font color=#463e11>-C</font>  Control<font color=#463e11>-F</font>  Control<font color=#463e11>-M</font>  Control<font color=#463e11>-N</font>  Control<font color=#463e11>-O</font>  Control<font color=#463e11>-R</font>  Control<font color=#463e11>-V</font>  Control<font color=#463e11>-W</font>  Control<font color=#463e11>-X</font>  Control<font color=#463e11>-Z</font>  Control<font color=#463e11>-Shift-Z</font>  Control<font color=#463e11>-Shift-F</font>  Alt<font color=#463e11>-Up</font>  Alt<font color=#463e11>-Down</font>  Alt<font color=#463e11>-Left</font>  Alt<font color=#463e11>-Right</font>  Alt<font color=#463e11>-F4</font>
  ]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Search'>Search</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches an item in a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search</span> <span class='ruff_arg'>type name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_237' href="javascript:toggleSource('237')">Show source</a></p>
<div id='237' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::Search {type name} {

  <i><font color=#646464># Searches an item in a list of keys data.</font></i>
  <i><font color=#646464>#   type - type of key</font></i>
  <i><font color=#646464>#   name - name of item</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> i 0
  <b><font color=#923B23>foreach</font></b> kb <font color=#4A181B>$al(KEYS</font>,bind) {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$kb</font> t n n2
    <b><font color=#923B23>if</font></b> {(<font color=#4A181B>$type</font> eq <font color=#035103>&quot;&quot;</font> || <font color=#4A181B>$t</font> eq <font color=#4A181B>$type)</font> && (<font color=#4A181B>$name</font> eq <font color=#035103>&quot;&quot;</font> || <font color=#4A181B>$name</font> eq <font color=#4A181B>$n</font> || <font color=#4A181B>$name</font> eq <font color=#4A181B>$n2)</font>} {
      <b><font color=#A106A1>return</font></b> <font color=#4A181B>$i</font>
    }
    <b><font color=#923B23>incr</font></b> i
  }
  <b><font color=#A106A1>return</font></b> -1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Test'>Test</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>It's just for testing keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Test</span> <span class='ruff_arg'>klist</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>klist</code></code></td><td class='ruff_defitem'>list of key combinations</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_238' href="javascript:toggleSource('238')">Show source</a></p>
<div id='238' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::Test {klist} {

  <i><font color=#646464># It's just for testing keys.</font></i>
  <i><font color=#646464>#   klist - list of key combinations</font></i>

  <b><font color=#923B23>foreach</font></b> k <font color=#4A181B>$klist</font> {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>bind</font></b> . <font color=#035103>&quot;&lt;<font color=#4A181B>$</font>k&gt;&quot;</font> <font color=#035103>&quot;puts <font color=#4A181B>$</font>k&quot;</font>} err]} {
      <b><font color=#923B23>puts</font></b> <font color=#4A181B>$err</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;Valid key combination: <font color=#4A181B>$</font>k&quot;</font>
    }
    <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>bind</font></b> . <font color=#035103>&quot;&lt;<font color=#4A181B>$</font>k&gt;&quot;</font> {}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::UnBindKeys'>UnBindKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears key bindings of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnBindKeys</span> <span class='ruff_arg'>wtxt type</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of keys (template etc.)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_239' href="javascript:toggleSource('239')">Show source</a></p>
<div id='239' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::UnBindKeys {wtxt type} {

  <i><font color=#646464># Clears key bindings of text.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   type - type of keys (template etc.)</font></i>

  <b><font color=#923B23>foreach</font></b> kb [alited::keys::EngagedList <font color=#4A181B>$type</font> all] {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$kb</font> -&gt; tpl keys tpldata
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>set</font></b> tpldata [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$::alited::EOL</font> \n] <font color=#4A181B>$tpldata</font>]
      <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> <font color=#035103>&quot;&lt;<font color=#4A181B>$</font>keys&gt;&quot;</font> {}
    } err]} then {
      <b><font color=#923B23>puts</font></b> <font color=#035103>&quot;Error of unbinding: <font color=#4A181B>$</font>tpl &lt;<font color=#4A181B>$</font>keys&gt; - <font color=#4A181B>$</font>err&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::UserList'>UserList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys avalable to a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UserList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys avalable to a user.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_240' href="javascript:toggleSource('240')">Show source</a></p>
<div id='240' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::UserList {} {

  <i><font color=#646464># Returns a list of keys avalable to a user.</font></i>

  <b><font color=#923B23>set</font></b> reserved [ReservedList]
  <b><font color=#923B23>foreach</font></b> mod {<font color=#035103>&quot;&quot;</font> Control- Alt- Shift- Control<font color=#463e11>-Shift</font>- Control<font color=#463e11>-Alt</font>-} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mod</font> ni {Control- Control<font color=#463e11>-Alt</font>-}} {
      <b><font color=#923B23>foreach</font></b> k {F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12} {
        <b><font color=#923B23>set</font></b> key <font color=#035103>&quot;<font color=#4A181B>$</font>mod<font color=#4A181B>$</font>k&quot;</font>
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$key</font> ni <font color=#4A181B>$reserved</font>} {<b><font color=#923B23>lappend</font></b> res <font color=#4A181B>$key</font>}
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mod</font> ni {<font color=#035103>&quot;&quot;</font> <font color=#035103>&quot;Shift-&quot;</font>}} {
      <b><font color=#923B23>foreach</font></b> k {0 1 2 3 4 5 6 7 8 9 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z} {
        <b><font color=#923B23>set</font></b> key <font color=#035103>&quot;<font color=#4A181B>$</font>mod<font color=#4A181B>$</font>k&quot;</font>
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$key</font> ni <font color=#4A181B>$reserved</font>} {<b><font color=#923B23>lappend</font></b> res <font color=#4A181B>$key</font>}
      }
    }
  }
  <b><font color=#923B23>lappend</font></b> res Control<font color=#463e11>-bracketleft</font>
  <b><font color=#923B23>lappend</font></b> res Control<font color=#463e11>-bracketright</font>
  <b><font color=#923B23>lappend</font></b> res Tab
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::VacantList'>VacantList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys not yet engaged.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>VacantList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys not yet engaged.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_241' href="javascript:toggleSource('241')">Show source</a></p>
<div id='241' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::keys::VacantList {} {

  <i><font color=#646464># Returns a list of keys not yet engaged.</font></i>

  <b><font color=#923B23>set</font></b> userlist [UserList]
  <b><font color=#923B23>set</font></b> englist [EngagedList {} keysonly]
  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> k <font color=#4A181B>$userlist</font> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$k</font> ni <font color=#4A181B>$englist</font>} {<b><font color=#923B23>lappend</font></b> res <font color=#4A181B>$k</font>}
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::main'></a>::alited::main<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::main-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::main::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main form of the alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_242' href="javascript:toggleSource('242')">Show source</a></p>
<div id='242' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::_create {} {

  <i><font color=#646464># Creates a main form of the alited.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obPav</font> csGet] - - ::alited::FRABG - - - - - bclr
  <b><font color=#7A040E>ttk::style</font></b> configure TreeNoHL {*}[<b><font color=#7A040E>ttk::style</font></b> configure Treeview] <font color=#463e11>-borderwidth</font> 0
  <b><font color=#7A040E>ttk::style</font></b> map TreeNoHL {*}[<b><font color=#7A040E>ttk::style</font></b> map Treeview]  <font color=#463e11>-bordercolor</font> [<b><font color=#923B23>list</font></b> focus <font color=#4A181B>$bclr</font> active <font color=#4A181B>$bclr</font>]  <font color=#463e11>-lightcolor</font> [<b><font color=#923B23>list</font></b> focus <font color=#4A181B>$::alited::FRABG</font> active <font color=#4A181B>$::alited::FRABG</font>]  <font color=#463e11>-darkcolor</font> [<b><font color=#923B23>list</font></b> focus <font color=#4A181B>$::alited::FRABG</font> active <font color=#4A181B>$::alited::FRABG</font>]
  <b><font color=#7A040E>ttk::style</font></b> layout TreeNoHL [<b><font color=#7A040E>ttk::style</font></b> layout Treeview]
  <font color=#4A181B>$obPav</font> untouchWidgets *.frAText *.lbxInfo
  <i><font color=#646464># make the main apave object and populate it</font></i>
  <font color=#4A181B>$obPav</font> makeWindow <font color=#4A181B>$al(WIN)</font>.fra alited
  <font color=#4A181B>$obPav</font> paveWindow <font color=#4A181B>$al(WIN)</font>.fra {
    {Menu - - - - - {<font color=#463e11>-array</font> {
      <b><font color=#923B23>file</font></b> File
      edit Edit
      search Search
      tool Tools
      setup Setup
      help Help
    }} alited::menu::FillMenu}
    {frat - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both}}
    {frat.ToolTop - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top} {<font color=#463e11>-relief</font> flat <font color=#463e11>-borderwidth</font> 0 <font color=#463e11>-array</font> {<font color=#4A181B>$alited::al(atools)</font>}}}
    {fra - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1 <font color=#463e11>-pady</font> 0}}
    {fra.Pan - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-orient</font> horizontal <font color=#4A181B>$alited::Pan_wh</font>}}
    {fra.pan.PanL - - - - {add} {<font color=#463e11>-orient</font> vertical <font color=#4A181B>$alited::PanL_wh</font>}}
    {.fraBot - - - - {add}}
    {.fraBot.PanBM - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#4A181B>$alited::PanBM_wh</font>}}
    {.fraBot.panBM.FraTree - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1}}
    {.fraBot.panBM.fraTree.fra1 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> x}}
    {.fraBot.panBM.fraTree.fra1.BuTswitch - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_gulls <font color=#463e11>-command</font> alited::tree::SwitchTree}}
    {.fraBot.panBM.fraTree.fra1.BuTUpdT - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_retry <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,updtree)}
    <font color=#463e11>-command</font> alited::main::UpdateAll}}
    {.fraBot.panBM.fraTree.fra1.sev1 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> y <font color=#463e11>-padx</font> 5}}
    {.fraBot.panBM.fraTree.fra1.BuTUp - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_up <font color=#463e11>-command</font> {alited::tree::MoveItem up}}}
    {.fraBot.panBM.fraTree.fra1.BuTDown - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_down <font color=#463e11>-command</font> {alited::tree::MoveItem down}}}
    {.fraBot.panBM.fraTree.fra1.sev2 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> y <font color=#463e11>-padx</font> 5}}
    {.fraBot.panBM.fraTree.fra1.BuTAddT - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_add <font color=#463e11>-command</font> alited::tree::AddItem}}
    {.fraBot.panBM.fraTree.fra1.BuTRenT - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_change <font color=#463e11>-command</font> {::alited::file::RenameFileInTree {<font color=#463e11>-geometry</font> pointer+-100+10}}}}
    {.fraBot.panBM.fraTree.fra1.BuTDelT - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_delete <font color=#463e11>-command</font> alited::tree::DelItem}}
    {.fraBot.panBM.fraTree.fra1.h_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-anchor</font> center <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1}}
    {.fraBot.panBM.fraTree.fra1.buTCtr - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_minus <font color=#463e11>-command</font> {alited::tree::ExpandContractTree Tree no} <font color=#463e11>-tip</font> <font color=#035103>&quot;Contract All&quot;</font>}}
    {.fraBot.panBM.fraTree.fra1.buTExp - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_plus <font color=#463e11>-command</font> {alited::tree::ExpandContractTree Tree} <font color=#463e11>-tip</font> <font color=#035103>&quot;Expand All&quot;</font>}}
    {.fraBot.panBM.fraTree.fra1.sev3 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> right <font color=#463e11>-fill</font> y <font color=#463e11>-padx</font> 0}}
    {.fraBot.panBM.fraTree.fra - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> bottom <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {}}
    {.fraBot.panBM.fraTree.fra.Tree - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1}
      {<font color=#463e11>-columns</font> {L1 L2 PRL ID LEV LEAF FL1} <font color=#463e11>-displaycolumns</font> {L1} <font color=#463e11>-columnoptions</font> <font color=#035103>&quot;#0 <font color=#4A181B>{</font>-width <font color=#4A181B>$</font>::alited::al(TREE,cw0)<font color=#4A181B>}</font> L1 <font color=#4A181B>{</font>-width <font color=#4A181B>$</font>::alited::al(TREE,cw1) -anchor e<font color=#4A181B>}</font>&quot;</font> <font color=#463e11>-style</font> TreeNoHL <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-selectmode</font> extended}}
    {.fraBot.panBM.fraTree.fra.SbvTree .fraBot.panBM.fraTree.fra.Tree L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> right <font color=#463e11>-fill</font> both}}
    {.FraFV - - - - {add}}
    {.fraFV.v_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> x} {<font color=#463e11>-h</font> 5}}
    {.fraFV.fra1 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> x}}
    {.fraFV.fra1.seh - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> x <font color=#463e11>-expand</font> 1 <font color=#463e11>-pady</font> 0}}
    {.fraFV.fra1.BuTVisitF - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_misc <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,lastvisit)} <font color=#463e11>-com</font> alited::favor::SwitchFavVisit}}
    {.fraFV.fra1.sev0 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> y <font color=#463e11>-padx</font> 5}}
    {.fraFV.fra1.BuTListF - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_heart <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,FavLists)} <font color=#463e11>-com</font> alited::favor::Lists}}
    {.fraFV.fra1.sev1 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> y <font color=#463e11>-padx</font> 5}}
    {.fraFV.fra1.BuTAddF - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_add <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,favoradd)} <font color=#463e11>-com</font> alited::favor::Add}}
    {.fraFV.fra1.BuTDelF - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_delete <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,favordel)} <font color=#463e11>-com</font> alited::favor::Delete}}
    {.fraFV.fra1.BuTDelAllF - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-image</font> alimg_trash <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,favordelall)} <font color=#463e11>-com</font> alited::favor::DeleteAll}}
    {.fraFV.fra1.h_2 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-anchor</font> center <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1}}
    {.fraFV.fra1.sev2 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> right <font color=#463e11>-fill</font> y <font color=#463e11>-padx</font> 0}}
    {.fraFV.fra - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {}}
    {.fraFV.fra.TreeFavor - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-h</font> 5 <font color=#463e11>-style</font> TreeNoHL <font color=#463e11>-columns</font> {C1 C2 C3 C4} <font color=#463e11>-displaycolumns</font> C1 <font color=#463e11>-show</font> headings <font color=#463e11>-takefocus</font> 0}}
    {.fraFV.fra.SbvFavor .fraFV.fra.TreeFavor L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left}}
    {fra.pan.PanR - - - - {add} {<font color=#463e11>-orient</font> vertical <font color=#4A181B>$alited::PanR_wh</font>}}
    {.fraTop - - - - {add}}
    {.fraTop.PanTop - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#4A181B>$alited::PanTop_wh</font>}}
    {.fraTop.panTop.BtsBar  - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-fill</font> x <font color=#463e11>-pady</font> 3} {<b><font color=#923B23>after</font></b> 100 {alited::bar::FillBar %w}}}
    {.fraTop.panTop.GutText - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 0 <font color=#463e11>-fill</font> both}}
    {#.fraTop.panTop.CanDiff - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 0 <font color=#463e11>-fill</font> y} {<font color=#463e11>-w</font> 4}}
    {.fraTop.panTop.FrAText - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-background</font> <font color=#4A181B>$::alited::FRABG</font>}}
    {.fraTop.panTop.frAText.Text - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-borderwidth</font> 1 <font color=#463e11>-w</font> 2 <font color=#463e11>-h</font> 20 <font color=#463e11>-gutter</font> GutText <font color=#463e11>-gutterwidth</font> <font color=#4A181B>$::alited::al(ED</font>,gutterwidth) <font color=#463e11>-guttershift</font> <font color=#4A181B>$::alited::al(ED</font>,guttershift) <font color=#4A181B>$alited::al(TEXT</font>,opts)}}
    {.fraTop.panTop.fraSbv - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> right <font color=#463e11>-fill</font> y}}
    {.fraTop.panTop.fraSbv.SbvText .fraTop.panTop.frAText.text L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> y}}
    {.fraTop.FraHead  - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> bottom <font color=#463e11>-fill</font> x} {<font color=#463e11>-padding</font> {4 4 4 4} <font color=#463e11>-relief</font> groove}}
    {.fraTop.fraHead.labFind - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;    Unit: &quot;</font>}}
    {.fraTop.fraHead.CbxFindSTD - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-tvar</font> alited::al(findunit) <font color=#463e11>-values</font> {<font color=#4A181B>$alited::al(findunitvals)</font>} <font color=#463e11>-w</font> 30 <font color=#463e11>-tip</font> {<font color=#4A181B>$al(MC</font>,findunit)}}}
    {.fraTop.fraHead.buT - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 4} {<font color=#463e11>-t</font> <font color=#035103>&quot;Find: &quot;</font> <font color=#463e11>-relief</font> flat <font color=#463e11>-com</font> alited::find::DoFindUnit <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-bd</font> 0 <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-w</font> 8 <font color=#463e11>-anchor</font> e}}
    {.fraTop.fraHead.rad1 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 4} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-var</font> alited::main::findunits <font color=#463e11>-t</font> {in all} <font color=#463e11>-value</font> 1}}
    {.fraTop.fraHead.rad2 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 4} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-var</font> alited::main::findunits <font color=#463e11>-t</font> {in current} <font color=#463e11>-value</font> 2}}
    {.fraTop.fraHead.h_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> x <font color=#463e11>-expand</font> 1}}
    {.fraTop.fraHead.buTno - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-relief</font> flat <font color=#463e11>-highlightthickness</font> 0 <font color=#463e11>-takefocus</font> 0 <font color=#463e11>-command</font> {alited::find::HideFindUnit}}}
    {.fraBot - - - - {add}}
    {.fraBot.fra - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1}}
    {.fraBot.fra.LbxInfo - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-h</font> 1 <font color=#463e11>-w</font> 40 <font color=#463e11>-lvar</font> ::alited::info::list <font color=#463e11>-font</font> <font color=#4A181B>$alited::al(FONT</font>,defsmall) <font color=#463e11>-highlightthickness</font> 0}}
    {.fraBot.fra.sbv .fraBot.fra.LbxInfo L - - {<b><font color=#7A040E>pack</font></b>}}
    {.fraBot.fra.SbhInfo .fraBot.fra.LbxInfo T - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> bottom <font color=#463e11>-before</font> %w}}
    {.fraBot.stat - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> bottom} {<font color=#463e11>-array</font> {
      {{<font color=#4A181B>$alited::al(MC</font>,Row:)}} 12
      {{<font color=#4A181B>$alited::al(MC</font>,Col:)}} 5
      {{} <font color=#463e11>-anchor</font> w <font color=#463e11>-expand</font> 1} 50
      {{} <font color=#463e11>-anchor</font> e} 18
    }}}
  }
  UpdateProjectInfo
  <b><font color=#7A040E>bind</font></b> [<font color=#4A181B>$obPav</font> Pan] &lt;ButtonRelease&gt; ::alited::tree::AdjustWidth
  <b><font color=#923B23>set</font></b> sbhi [<font color=#4A181B>$obPav</font> SbhInfo]
  <b><font color=#923B23>set</font></b> lbxi [<font color=#4A181B>$obPav</font> LbxInfo]
  <b><font color=#7A040E>pack</font></b> forget <font color=#4A181B>$sbhi</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbxi</font> &lt;FocusIn&gt; <font color=#035103>&quot;alited::info::FocusIn <font color=#4A181B>$</font>sbhi <font color=#4A181B>$</font>lbxi&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbxi</font> &lt;FocusOut&gt; <font color=#035103>&quot;alited::info::FocusOut <font color=#4A181B>$</font>sbhi&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbxi</font> &lt;&lt;ListboxSelect&gt;&gt; {alited::info::ListboxSelect %W}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$lbxi</font> &lt;ButtonPress-3&gt; {alited::info::PopupMenu %X %Y}
  <b><font color=#7A040E>bind</font></b> [<font color=#4A181B>$obPav</font> ToolTop] &lt;ButtonPress-3&gt; {::alited::tool::PopupBar %X %Y}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs the alited, displaying its main form with attributes 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons', 'minimal sizes' and 'saved geometry'.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<h5 class='ruff'>Description</h5><p class='ruff'>After closing the alited, saves its settings (geometry etc.).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_243' href="javascript:toggleSource('243')">Show source</a></p>
<div id='243' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::_run {} {

  <i><font color=#646464># Runs the alited, displaying its main form with attributes</font></i>
  <i><font color=#646464># 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons',</font></i>
  <i><font color=#646464># 'minimal sizes' and 'saved geometry'.</font></i>
  <i><font color=#646464>#</font></i>
  <i><font color=#646464># After closing the alited, saves its settings (geometry etc.).</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  ::apave::setAppIcon <font color=#4A181B>$al(WIN)</font> <font color=#4A181B>$::alited::img::_AL_IMG(ale)</font>
  ::apave::setProperty DirFilGeoVars [<b><font color=#923B23>list</font></b> ::alited::DirGeometry ::alited::FilGeometry]
  <b><font color=#923B23>set</font></b> ans [<font color=#4A181B>$obPav</font> showModal <font color=#4A181B>$al(WIN)</font> <font color=#463e11>-decor</font> 1 <font color=#463e11>-minsize</font> {500 500} <font color=#463e11>-escape</font> no  <font color=#463e11>-onclose</font> alited::Exit {*}<font color=#4A181B>$al(GEOM)</font>]
  <i><font color=#646464># ans==2 means 'no saves of settings' (imaginary mode)</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ans</font> ne {2}} {alited::ini::SaveIni}
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$al(WIN)</font>
  <font color=#4A181B>$obPav</font> destroy
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$ans</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::AfterUndoRedo'>AfterUndoRedo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions after undo/redo.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterUndoRedo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_244' href="javascript:toggleSource('244')">Show source</a></p>
<div id='244' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::AfterUndoRedo {} {

  <i><font color=#646464># Actions after undo/redo.</font></i>

  HighlightLine
  <b><font color=#923B23>after</font></b> idle alited::main::UpdateUnitTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::BindsForText'>BindsForText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets bindings for a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindsForText</span> <span class='ruff_arg'>TID wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_245' href="javascript:toggleSource('245')">Show source</a></p>
<div id='245' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::BindsForText {TID wtxt} {

  <i><font color=#646464># Sets bindings for a text.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>

  <b><font color=#923B23>if</font></b> {[alited::bar::BAR isTab <font color=#4A181B>$TID</font>]} {
    <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;FocusIn&gt; [<b><font color=#923B23>list</font></b> after 200 <font color=#035103>&quot;::alited::main::FocusInText <font color=#4A181B>$</font>TID <font color=#4A181B>$</font>wtxt&quot;</font>]
  }
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;Control<font color=#463e11>-ButtonRelease</font>-1&gt; <font color=#035103>&quot;::alited::find::SearchUnit <font color=#4A181B>$</font>wtxt ; break&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;Control<font color=#463e11>-Shift-ButtonRelease</font>-1&gt; {::alited::find::SearchWordInSession ; <b><font color=#923B23>break</font></b>}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;Control<font color=#463e11>-Tab</font>&gt; {::alited::bar::ControlTab ; <b><font color=#923B23>break</font></b>}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;Alt<font color=#463e11>-BackSpace</font>&gt; {::alited::unit::SwitchUnits ; <b><font color=#923B23>break</font></b>}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;ButtonRelease-1&gt; <font color=#035103>&quot;+ alited::main::SaveVisitInfo <font color=#4A181B>$</font>wtxt&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;KeyRelease&gt; <font color=#035103>&quot;+ alited::main::SaveVisitInfo <font color=#4A181B>$</font>wtxt %K %s&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;&lt;Undo&gt;&gt; {+ alited::main::AfterUndoRedo}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;&lt;Redo&gt;&gt; {+ alited::main::AfterUndoRedo}
  alited::keys::ReservedAdd <font color=#4A181B>$wtxt</font>
  alited::keys::BindKeys <font color=#4A181B>$wtxt</font> action
  alited::keys::BindKeys <font color=#4A181B>$wtxt</font> template
  alited::keys::BindKeys <font color=#4A181B>$wtxt</font> preference
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CalcIndentation'>CalcIndentation</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for &quot;Auto detection of indentation&quot; and calculates it at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CalcIndentation</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_246' href="javascript:toggleSource('246')">Show source</a></p>
<div id='246' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::CalcIndentation {} {

  <i><font color=#646464># Check for &quot;Auto detection of indentation&quot; and calculates it at need.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> res <font color=#4A181B>$al(prjindent)</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjindentAuto)</font>} {
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]
      <b><font color=#923B23>foreach</font></b> line [<b><font color=#923B23>split</font></b> [<font color=#4A181B>$wtxt</font> get 1.0 end] \n] {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> lsp [::apave::obj leadingSpaces <font color=#4A181B>$line</font>]]&gt;0} {
          <b><font color=#923B23>set</font></b> res <font color=#4A181B>$lsp</font>
          <b><font color=#923B23>break</font></b>
        }
      }
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CurrentWTXT'>CurrentWTXT</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current text widget's path.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentWTXT</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_247' href="javascript:toggleSource('247')">Show source</a></p>
<div id='247' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::CurrentWTXT {} {

  <i><font color=#646464># Gets a current text widget's path.</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>lindex</font></b> [alited::bar::GetBarState] 2]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CursorPos'>CursorPos</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a current text's row and column in the status bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CursorPos</span> <span class='ruff_arg'>wtxt ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains a cursor position,</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_248' href="javascript:toggleSource('248')">Show source</a></p>
<div id='248' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::CursorPos {wtxt args} {

  <i><font color=#646464># Displays a current text's row and column in the status bar.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   args - contains a cursor position,</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$args</font> eq {}} {<b><font color=#923B23>set</font></b> args [<font color=#4A181B>$wtxt</font> index {end -1 char}]}
  <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> [<font color=#4A181B>$wtxt</font> index insert] .] r c
  [<font color=#4A181B>$obPav</font> Labstat1] configure <font color=#463e11>-text</font> <font color=#035103>&quot;<font color=#4A181B>$</font>r / <font color=#4A181B>[</font>expr <font color=#4A181B>{</font>int(<font color=#4A181B>[</font>lindex <font color=#4A181B>$</font>args 0<font color=#4A181B>]</font>)<font color=#4A181B>}]</font>&quot;</font>
  [<font color=#4A181B>$obPav</font> Labstat2] configure <font color=#463e11>-text</font> [<b><font color=#923B23>incr</font></b> c]
  alited::tree::SaveCursorPos
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::FocusInText'>FocusInText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes <FocusIn> event on the text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusInText</span> <span class='ruff_arg'>TID wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_249' href="javascript:toggleSource('249')">Show source</a></p>
<div id='249' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::FocusInText {TID wtxt} {

  <i><font color=#646464># Processes &lt;FocusIn&gt; event on the text.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>if</font></b> {![alited::bar::BAR isTab <font color=#4A181B>$TID</font>]} <b><font color=#A106A1>return</font></b>
  ::alited::main::CursorPos <font color=#4A181B>$wtxt</font>
  [<font color=#4A181B>$obPav</font> TreeFavor] selection set {}
  alited::file::OutwardChange <font color=#4A181B>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::FocusText'>FocusText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a focus on a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusText</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains tab's ID and a cursor positition.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_250' href="javascript:toggleSource('250')">Show source</a></p>
<div id='250' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::FocusText {args} {

  <i><font color=#646464># Sets a focus on a current text.</font></i>
  <i><font color=#646464>#   args - contains tab's ID and a cursor positition.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$args</font> TID pos
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos</font> eq {}} {
    <b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]
    <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> wtxt [GetWTXT <font color=#4A181B>$TID</font>]
  }
  <i><font color=#646464># find a current unit/file in the tree</font></i>
  <b><font color=#923B23>set</font></b> alited::tree::doFocus no
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>catch</font></b> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
      <i><font color=#646464># search the tree for a unit with current line of text</font></i>
      <b><font color=#923B23>set</font></b> itemID [alited::tree::CurrentItemByLine <font color=#4A181B>$pos</font>]
    } <b><font color=#923B23>else</font></b> {
      <i><font color=#646464># search the tree for a current file</font></i>
      <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
      <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
      <b><font color=#923B23>while</font></b> {1} {
        <b><font color=#923B23>incr</font></b> iit
        <b><font color=#923B23>set</font></b> ID [alited::tree::NewItemID <font color=#4A181B>$iit</font>]
        <b><font color=#923B23>if</font></b> {![<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$ID</font>]} <b><font color=#923B23>break</font></b>
        <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] -&gt; tip isfile
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tip</font> eq <font color=#4A181B>$fname</font>} {
          <b><font color=#923B23>set</font></b> itemID <font color=#4A181B>$ID</font>
          <b><font color=#923B23>break</font></b>
        }
      }
    }
  }
  <i><font color=#646464># display a current item of the tree</font></i>
  <b><font color=#923B23>catch</font></b> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$itemID</font> ni [<font color=#4A181B>$wtree</font> selection]} {<font color=#4A181B>$wtree</font> selection set <font color=#4A181B>$itemID</font>}
    <b><font color=#923B23>after</font></b> 10 alited::tree::SeeSelection
  }
  <i><font color=#646464># focus on the text</font></i>
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>focus</font></b> <font color=#463e11>-force</font> <font color=#4A181B>$wtxt</font>}
  <b><font color=#923B23>catch</font></b> {::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$pos</font>}
  <b><font color=#923B23>after</font></b> idle {<b><font color=#923B23>set</font></b> ::alited::tree::doFocus yes}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GetText'>GetText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates or gets a text widget for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetText</span> <span class='ruff_arg'>TID ?doshow? ?dohighlight?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>doshow</code></code></td><td class='ruff_defitem'>flag &quot;this widget should be displayed&quot; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>dohighlight</code></code></td><td class='ruff_defitem'>flag &quot;this text should be highlighted&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of: curfile (current file name), wtxt (text's path), wsbv (scrollbar's path), pos (cursor's position), doinit (flag &quot;initialized&quot;) dopack (flag &quot;packed&quot;)</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_251' href="javascript:toggleSource('251')">Show source</a></p>
<div id='251' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::GetText {TID {doshow no} {dohighlight yes}} {

  <i><font color=#646464># Creates or gets a text widget for a tab.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   doshow - flag &quot;this widget should be displayed&quot;</font></i>
  <i><font color=#646464>#   dohighlight - flag &quot;this text should be highlighted&quot;</font></i>
  <i><font color=#646464># Returns a list of: curfile (current file name),</font></i>
  <i><font color=#646464># wtxt (text's path), wsbv (scrollbar's path),</font></i>
  <i><font color=#646464># pos (cursor's position), doinit (flag &quot;initialized&quot;)</font></i>
  <i><font color=#646464># dopack (flag &quot;packed&quot;)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> curfile [alited::bar::FileName <font color=#4A181B>$TID</font>]
  <i><font color=#646464># initial text and its scrollbar:</font></i>
  <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obPav</font> Text]
  <b><font color=#923B23>set</font></b> wsbv [<font color=#4A181B>$obPav</font> SbvText]
  <i><font color=#646464># get data of the current tab</font></i>
  <b><font color=#923B23>lassign</font></b> [alited::bar::GetBarState] TIDold fileold wold1 wold2
  <b><font color=#923B23>lassign</font></b> [alited::bar::GetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-pos</font>] pos
  <b><font color=#923B23>set</font></b> doreload no  ;<i><font color=#646464># obsolete</font></i>
  <b><font color=#923B23>set</font></b> doinit yes
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TIDold</font> eq <font color=#035103>&quot;-1&quot;</font>} {
    ;<i><font color=#646464># first text to edit in original Text widget: create its scrollbar</font></i>
    BindsForText <font color=#4A181B>$TID</font> <font color=#4A181B>$wtxt</font>
    ::apave::logMessage <font color=#035103>&quot;first <font color=#4A181B>$</font>curfile&quot;</font>
  } <b><font color=#923B23>elseif</font></b> {[GetWTXT <font color=#4A181B>$TID</font>] ne {}} {
    <i><font color=#646464># edited text: get its widgets' data</font></i>
    <b><font color=#923B23>lassign</font></b> [alited::bar::GetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-wtxt</font> -<font color=#463e11>-wsbv</font>] wtxt wsbv
    <b><font color=#923B23>set</font></b> doinit no
  } <b><font color=#923B23>else</font></b> {
    <i><font color=#646464># till now, not edited text: create its own Text/SbvText widgets</font></i>
    <b><font color=#923B23>append</font></b> wtxt <font color=#035103>&quot;_<font color=#4A181B>$</font>TID&quot;</font>  ;<i><font color=#646464># new text</font></i>
    <b><font color=#923B23>append</font></b> wsbv <font color=#035103>&quot;_<font color=#4A181B>$</font>TID&quot;</font>  ;<i><font color=#646464># new scrollbar</font></i>
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> is double <font color=#463e11>-strict</font> <font color=#4A181B>$pos</font>]} {<b><font color=#923B23>set</font></b> pos 1.0}
  <i><font color=#646464># check for previous text and hide it, if it's not the selected one</font></i>
  <b><font color=#923B23>set</font></b> dopack [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$TID</font> ne <font color=#4A181B>$TIDold</font>}]
  alited::bar::SetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-fname</font> <font color=#4A181B>$curfile</font> -<font color=#463e11>-wtxt</font> <font color=#4A181B>$wtxt</font> -<font color=#463e11>-wsbv</font> <font color=#4A181B>$wsbv</font>
  <i><font color=#646464># create the text and the scrollbar if new</font></i>
  <b><font color=#923B23>if</font></b> {![<b><font color=#7A040E>winfo</font></b> exists <font color=#4A181B>$wtxt</font>]} {
    <b><font color=#923B23>lassign</font></b> [GutterAttrs] canvas width shift
    <b><font color=#923B23>set</font></b> texopts [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$obPav</font> defaultAttrs tex] 1]
    <b><font color=#923B23>lassign</font></b> [::apave::extractOptions texopts <font color=#463e11>-selborderwidth</font> 1] selbw
    <b><font color=#7A040E>text</font></b> <font color=#4A181B>$wtxt</font> {*}<font color=#4A181B>$texopts</font> {*}<font color=#4A181B>$al(TEXT</font>,opts)
    <font color=#4A181B>$wtxt</font> tag configure sel <font color=#463e11>-borderwidth</font> <font color=#4A181B>$selbw</font>
    <font color=#4A181B>$obPav</font> themeNonThemed [<b><font color=#7A040E>winfo</font></b> parent <font color=#4A181B>$wtxt</font>]
    <b><font color=#923B23>set</font></b> bind [<b><font color=#923B23>list</font></b> <font color=#4A181B>$obPav</font> fillGutter <font color=#4A181B>$wtxt</font> <font color=#4A181B>$canvas</font> <font color=#4A181B>$width</font> <font color=#4A181B>$shift</font>]
    <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;Configure&gt; <font color=#4A181B>$bind</font>
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>trace</font></b> info execution <font color=#4A181B>$wtxt</font>] eq {}} {
      <b><font color=#923B23>trace</font></b> add execution <font color=#4A181B>$wtxt</font> leave <font color=#4A181B>$bind</font>
    }
    <b><font color=#7A040E>ttk::scrollbar</font></b> <font color=#4A181B>$wsbv</font> <font color=#463e11>-orient</font> vertical <font color=#463e11>-takefocus</font> 0
    <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-yscrollcommand</font> <font color=#035103>&quot;<font color=#4A181B>$</font>wsbv set&quot;</font>
    <font color=#4A181B>$wsbv</font> configure <font color=#463e11>-command</font> <font color=#035103>&quot;<font color=#4A181B>$</font>wtxt yview&quot;</font>
    BindsForText <font color=#4A181B>$TID</font> <font color=#4A181B>$wtxt</font>
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#7A040E>winfo</font></b> exists <font color=#4A181B>$wold1</font>]} {
    <i><font color=#646464># previous text: save its state</font></i>
    alited::bar::SetTabState <font color=#4A181B>$TIDold</font> -<font color=#463e11>-pos</font> [<font color=#4A181B>$wold1</font> index insert]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dopack</font> && <font color=#4A181B>$doshow</font>} {
      <i><font color=#646464># hide both previous</font></i>
      <b><font color=#7A040E>pack</font></b> forget <font color=#4A181B>$wold1</font>  ;<i><font color=#646464># a text</font></i>
      <b><font color=#7A040E>pack</font></b> forget <font color=#4A181B>$wold2</font>  ;<i><font color=#646464># a scrollbar</font></i>
      <b><font color=#923B23>after</font></b> idle update
    }
  }
  <i><font color=#646464># show the selected text</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doshow</font>} {
    alited::bar::SetBarState [alited::bar::CurrentTabID] <font color=#4A181B>$curfile</font> <font color=#4A181B>$wtxt</font> <font color=#4A181B>$wsbv</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doinit</font>} {
    <i><font color=#646464># if the file isn't read yet, read it and initialize its highlighting</font></i>
    alited::file::DisplayFile <font color=#4A181B>$TID</font> <font color=#4A181B>$curfile</font> <font color=#4A181B>$wtxt</font> <font color=#4A181B>$doreload</font>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doshow</font>} {
      HighlightText <font color=#4A181B>$TID</font> <font color=#4A181B>$curfile</font> <font color=#4A181B>$wtxt</font>
    } <b><font color=#923B23>else</font></b> {
      alited::file::MakeThemHighlighted <font color=#4A181B>$TID</font>  ;<i><font color=#646464># postpone the highlighting till a show</font></i>
    }
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$dohighlight</font> && [alited::file::ToBeHighlighted <font color=#4A181B>$wtxt</font>]} {
    HighlightText <font color=#4A181B>$TID</font> <font color=#4A181B>$curfile</font> <font color=#4A181B>$wtxt</font>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} alited::tree::RecreateTree
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$curfile</font> <font color=#4A181B>$wtxt</font> <font color=#4A181B>$wsbv</font> <font color=#4A181B>$pos</font> <font color=#4A181B>$doinit</font> <font color=#4A181B>$dopack</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GetWTXT'>GetWTXT</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a text widget's path of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWTXT</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of the tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_252' href="javascript:toggleSource('252')">Show source</a></p>
<div id='252' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::GetWTXT {TID} {

  <i><font color=#646464># Gets a text widget's path of a tab.</font></i>
  <i><font color=#646464>#   TID - ID of the tab</font></i>

  <b><font color=#A106A1>return</font></b> [alited::bar::GetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-wtxt</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GotoBracket'>GotoBracket</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GotoBracket</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_253' href="javascript:toggleSource('253')">Show source</a></p>
<div id='253' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::GotoBracket {} {

  <i><font color=#646464># Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.</font></i>

  <i><font color=#646464># search a pair for a bracket highlighted</font></i>
  <b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> [<b><font color=#923B23>set</font></b> tagged [<font color=#4A181B>$wtxt</font> tag ranges tagBRACKET]]]==4} {
    <b><font color=#923B23>set</font></b> p [<font color=#4A181B>$wtxt</font> index insert]
    <b><font color=#923B23>set</font></b> p1 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>p +1c&quot;</font>]
    <b><font color=#923B23>set</font></b> p2 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>p -1c&quot;</font>]
    <b><font color=#923B23>foreach</font></b> {pos1 pos2} <font color=#4A181B>$tagged</font> {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>incr</font></b> -]==2 || (<font color=#4A181B>$pos1</font>!=<font color=#4A181B>$p</font> && <font color=#4A181B>$pos1</font>!=<font color=#4A181B>$p1</font> && <font color=#4A181B>$pos1</font>!=<font color=#4A181B>$p2)</font>} {
        alited::main::FocusText [alited::bar::CurrentTabID] <font color=#4A181B>$pos1</font>
        <b><font color=#923B23>break</font></b>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GotoLine'>GotoLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes Ctrl+G keypressing: &quot;go to a line&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GotoLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_254' href="javascript:toggleSource('254')">Show source</a></p>
<div id='254' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::GotoLine {} {

  <i><font color=#646464># Processes Ctrl+G keypressing: &quot;go to a line&quot;.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>set</font></b> head [msgcat::mc <font color=#035103>&quot;Go to Line&quot;</font>]
  <b><font color=#923B23>set</font></b> prompt1 [msgcat::mc <font color=#035103>&quot;Line number:&quot;</font>]
  <b><font color=#923B23>set</font></b> prompt2 [msgcat::mc <font color=#035103>&quot;    In unit:&quot;</font>]
  <b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#923B23>set</font></b> ln 1 ;<i><font color=#646464>#[expr {int([$wtxt index insert])}]</font></i>
  <b><font color=#923B23>set</font></b> lmax [<b><font color=#923B23>expr</font></b> {int([<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;end -1c&quot;</font>])}]
  <b><font color=#923B23>set</font></b> units [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$leaf</font> && [<b><font color=#923B23>set</font></b> title [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$title</font>]] ne {}} {
      <b><font color=#923B23>lappend</font></b> units <font color=#4A181B>$title</font>
    }
  }
  <b><font color=#923B23>set</font></b> ::alited::main::gotoline2 [<b><font color=#923B23>linsert</font></b> [<b><font color=#923B23>lsort</font></b> <font color=#463e11>-nocase</font> <font color=#4A181B>$units</font>] 0 {}]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$::alited::main::gotolineTID</font> ne <font color=#4A181B>$TID</font>} {
    <b><font color=#923B23>set</font></b> ::alited::main::gotoline1 {}
    <b><font color=#923B23>set</font></b> ::alited::main::gotolineTID <font color=#4A181B>$TID</font>
  }
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obDl2</font> input {} <font color=#4A181B>$head</font> [<b><font color=#923B23>list</font></b>  spx <font color=#035103>&quot;<font color=#4A181B>{$</font>prompt1<font color=#4A181B>}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{</font>-w 6 -justify center -from 1 -to <font color=#4A181B>$</font>lmax -selected yes<font color=#4A181B>}</font>&quot;</font> <font color=#035103>&quot;<font color=#4A181B>{$</font>ln<font color=#4A181B>}</font>&quot;</font>  cbx <font color=#035103>&quot;<font color=#4A181B>{$</font>prompt2<font color=#4A181B>}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{</font>-tvar ::alited::main::gotoline1 -state readonly -h 16 -w 20<font color=#4A181B>}</font>&quot;</font> <font color=#035103>&quot;<font color=#4A181B>{$</font>::alited::main::gotoline1<font color=#4A181B>}</font> <font color=#4A181B>$</font>::alited::main::gotoline2&quot;</font>  ]] res ln unit
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font>} {
    <b><font color=#923B23>set</font></b> ::alited::main::gotoline1 <font color=#4A181B>$unit</font>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$unit</font> ne {}} {
      <i><font color=#646464># for a chosen unit - a relative line number</font></i>
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> it [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-index</font> 3 <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$unit</font>]] &gt;- 1} {
        <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$it</font>] lev leaf fl1 title l1 l2
        <b><font color=#923B23>set</font></b> l <font color=#4A181B>$l1</font>
        <b><font color=#923B23>set</font></b> fst 1
        <b><font color=#923B23>foreach</font></b> line [<b><font color=#923B23>split</font></b> [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$l2</font>.end] \n] {
          <i><font color=#646464># gentlemen, use \ for continuation of long lines & strings!</font></i>
          <b><font color=#923B23>set</font></b> continued [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$line</font> end] eq <font color=#035103>&quot;\\&quot;</font>}]
          <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$continued</font> || <font color=#4A181B>$fst</font>} {
            <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fst</font>} {
              <b><font color=#923B23>set</font></b> l <font color=#4A181B>$l1</font>
              <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>incr</font></b> ln -1]&lt;1} <b><font color=#923B23>break</font></b>
            }
            <b><font color=#923B23>set</font></b> fst [<b><font color=#923B23>expr</font></b> {!<font color=#4A181B>$continued</font>}]
          }
          <b><font color=#923B23>incr</font></b> l1
        }
        <b><font color=#923B23>set</font></b> ln <font color=#4A181B>$l</font>
      }
    }
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;  alited::main::FocusText <font color=#4A181B>$</font>TID <font color=#4A181B>$</font>ln.0 ;  alited::tree::NewSelection <font color=#4A181B>{}</font> <font color=#4A181B>$</font>ln.0 yes&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GutterAttrs'>GutterAttrs</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns list of gutter's data (canvas widget, width, shift)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GutterAttrs</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns list of gutter's data (canvas widget, width, shift)</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_255' href="javascript:toggleSource('255')">Show source</a></p>
<div id='255' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::GutterAttrs {} {

  <i><font color=#646464># Returns list of gutter's data (canvas widget, width, shift)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> [<font color=#4A181B>$obPav</font> GutText] <font color=#4A181B>$al(ED</font>,gutterwidth) <font color=#4A181B>$al(ED</font>,guttershift)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::HighlightLine'>HighlightLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a current line of a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_256' href="javascript:toggleSource('256')">Show source</a></p>
<div id='256' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::HighlightLine {} {

  <i><font color=#646464># Highlights a current line of a current text.</font></i>

  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>if</font></b> {[alited::file::IsClang [alited::bar::FileName]]} {
    ::hl_c::hl_line <font color=#4A181B>$wtxt</font>
  } <b><font color=#923B23>else</font></b> {
    ::hl_tcl::hl_line <font color=#4A181B>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::HighlightText'>HighlightText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a file's syntax constructs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightText</span> <span class='ruff_arg'>TID curfile wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>curfile</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Depending on a file name, Tcl or C highlighter is called.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_257' href="javascript:toggleSource('257')">Show source</a></p>
<div id='257' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::HighlightText {TID curfile wtxt} {

  <i><font color=#646464># Highlights a file's syntax constructs.</font></i>
  <i><font color=#646464>#   TID - tab's ID</font></i>
  <i><font color=#646464>#   curfile - file name</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464># Depending on a file name, Tcl or C highlighter is called.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#646464># the language (Tcl or C) is defined by the file's extension</font></i>
  <b><font color=#923B23>set</font></b> ext [<b><font color=#923B23>string</font></b> tolower [<b><font color=#923B23>file</font></b> extension <font color=#4A181B>$curfile</font>]]
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(HL,<font color=#4A181B>$wtxt)</font>] || <font color=#4A181B>$al(HL</font>,<font color=#4A181B>$wtxt)</font> ne <font color=#4A181B>$ext</font>} {
    <b><font color=#923B23>set</font></b> clrnams [::hl_tcl::hl_colorNames]
    <b><font color=#923B23>set</font></b> clrCURL [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$obPav</font> csGet] 16]
    <i><font color=#646464># get a color list for the highlighting Tcl and C</font></i>
    <b><font color=#923B23>foreach</font></b> lng {{} C} {
      <b><font color=#923B23>foreach</font></b> nam <font color=#4A181B>$clrnams</font> {
        <b><font color=#923B23>lappend</font></b> <font color=#035103>&quot;<font color=#4A181B>${</font>lng<font color=#4A181B>}</font>colors&quot;</font> <font color=#4A181B>$al(ED</font>,<font color=#4A181B>${lng}</font>$nam)
      }
      <b><font color=#923B23>lappend</font></b> <font color=#035103>&quot;<font color=#4A181B>${</font>lng<font color=#4A181B>}</font>colors&quot;</font> <font color=#4A181B>$clrCURL</font>
    }
    <b><font color=#923B23>if</font></b> {[alited::file::IsClang <font color=#4A181B>$curfile</font>]} {
      ::hl_c::hl_init <font color=#4A181B>$wtxt</font> <font color=#463e11>-dark</font> [<font color=#4A181B>$obPav</font> csDarkEdit]  <font color=#463e11>-multiline</font> 1 <font color=#463e11>-keywords</font> <font color=#4A181B>$al(ED</font>,CKeyWords)  <font color=#463e11>-cmd</font> <font color=#035103>&quot;::alited::edit::Modified <font color=#4A181B>$</font>TID&quot;</font>  <font color=#463e11>-cmdpos</font> ::alited::main::CursorPos  <font color=#463e11>-font</font> <font color=#4A181B>$al(FONT</font>,txt) <font color=#463e11>-colors</font> <font color=#4A181B>$Ccolors</font>  <font color=#463e11>-insertwidth</font> <font color=#4A181B>$al(CURSORWIDTH)</font>
    } <b><font color=#923B23>else</font></b> {
      ::hl_tcl::hl_init <font color=#4A181B>$wtxt</font> <font color=#463e11>-dark</font> [<font color=#4A181B>$obPav</font> csDarkEdit]  <font color=#463e11>-multiline</font> <font color=#4A181B>$al(prjmultiline)</font> <font color=#463e11>-keywords</font> <font color=#4A181B>$al(ED</font>,TclKeyWords)  <font color=#463e11>-cmd</font> <font color=#035103>&quot;::alited::edit::Modified <font color=#4A181B>$</font>TID&quot;</font>  <font color=#463e11>-cmdpos</font> ::alited::main::CursorPos  <font color=#463e11>-plaintext</font> [<b><font color=#923B23>expr</font></b> {![alited::file::IsTcl <font color=#4A181B>$curfile</font>]}]  <font color=#463e11>-font</font> <font color=#4A181B>$al(FONT</font>,txt) <font color=#463e11>-colors</font> <font color=#4A181B>$colors</font>  <font color=#463e11>-insertwidth</font> <font color=#4A181B>$al(CURSORWIDTH)</font>
    }
    UpdateText <font color=#4A181B>$wtxt</font> <font color=#4A181B>$curfile</font>
  }
  <b><font color=#923B23>set</font></b> al(HL,<font color=#4A181B>$wtxt)</font> <font color=#4A181B>$ext</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::InsertLine'>InsertLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a new line into a text, attentive to a previous line's indentation.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_258' href="javascript:toggleSource('258')">Show source</a></p>
<div id='258' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::InsertLine {} {

  <i><font color=#646464># Puts a new line into a text, attentive to a previous line's indentation.</font></i>

  <b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#923B23>set</font></b> ln [<b><font color=#923B23>expr</font></b> {int([<font color=#4A181B>$wtxt</font> index insert])}]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ln</font>==1} {
    <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$ln</font>.0 \n
    <b><font color=#923B23>set</font></b> pos 1.0
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> ln0 [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$ln</font>-1}]
    <b><font color=#923B23>set</font></b> line [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$ln0</font>.0 <font color=#4A181B>$ln0</font>.end]
    <b><font color=#923B23>set</font></b> leadsp [::apave::obj leadingSpaces <font color=#4A181B>$line</font>]
    <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$ln</font>.0 <font color=#035103>&quot;<font color=#4A181B>[</font>string repeat <font color=#4A181B>{</font> <font color=#4A181B>}</font> <font color=#4A181B>$</font>leadsp<font color=#4A181B>]</font>\n&quot;</font>
    <b><font color=#923B23>set</font></b> pos <font color=#4A181B>$ln</font>.<font color=#4A181B>$leadsp</font>
  }
  ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::PackTextWidgets'>PackTextWidgets</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Packs a text and its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PackTextWidgets</span> <span class='ruff_arg'>wtxt wsbv</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wsbv</code></code></td><td class='ruff_defitem'>scrollbar widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_259' href="javascript:toggleSource('259')">Show source</a></p>
<div id='259' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::PackTextWidgets {wtxt wsbv} {

  <i><font color=#646464># Packs a text and its scrollbar.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   wsbv - scrollbar widget's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#7A040E>pack</font></b> <font color=#4A181B>$wtxt</font> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both
  <b><font color=#7A040E>pack</font></b> <font color=#4A181B>$wsbv</font> <font color=#463e11>-fill</font> y <font color=#463e11>-expand</font> 1
  <b><font color=#923B23>lassign</font></b> [GutterAttrs] canvas width shift
  <i><font color=#646464># widgets created outside apave require the theming:</font></i>
  <font color=#4A181B>$obPav</font> csSet [<font color=#4A181B>$obPav</font> csCurrent] <font color=#4A181B>$al(WIN)</font> <font color=#463e11>-doit</font>
  <font color=#4A181B>$obPav</font> fillGutter <font color=#4A181B>$wtxt</font> <font color=#4A181B>$canvas</font> <font color=#4A181B>$width</font> <font color=#4A181B>$shift</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::SaveVisitInfo'>SaveVisitInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Remembers data about current unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveVisitInfo</span> <span class='ruff_arg'>?wtxt? ?K? ?s?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>K</code></code></td><td class='ruff_defitem'>key pressed (to check keypressings); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>key's state; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_260' href="javascript:toggleSource('260')">Show source</a></p>
<div id='260' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::SaveVisitInfo {{wtxt {}} {K {}} {s 0}} {

  <i><font color=#646464># Remembers data about current unit.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   K - key pressed (to check keypressings)</font></i>
  <i><font color=#646464>#   s - key's state</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#646464># only for unit tree and not navigation key and not Alt-BackSpace</font></i>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits) || (<font color=#4A181B>$K</font> eq {BackSpace} && <font color=#4A181B>$s</font>!=0) ||  <font color=#4A181B>$K</font> in {Up Down Left Right Next Prior Home End}} {
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <i><font color=#646464># check for current text and current unit's lines</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wtxt</font> eq {}} {<b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]}
  <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
  <b><font color=#923B23>set</font></b> line [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$pos)</font>}]
  <b><font color=#923B23>set</font></b> doit [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$wtxt</font> ne <font color=#4A181B>$al(CURRUNIT</font>,wtxt) || (
    (<font color=#4A181B>$line</font> &lt; <font color=#4A181B>$al(CURRUNIT</font>,line1) || <font color=#4A181B>$line</font> &gt; <font color=#4A181B>$al(CURRUNIT</font>,line2)))}]
  <b><font color=#923B23>lassign</font></b> [alited::tree::CurrentItemByLine <font color=#4A181B>$pos</font> 1] itemID - - - name  al(CURRUNIT,line1) al(CURRUNIT,line2)
  <b><font color=#923B23>set</font></b> al(CURRUNIT,wtxt) <font color=#4A181B>$wtxt</font>
  <b><font color=#923B23>set</font></b> al(CURRUNIT,itemID) <font color=#4A181B>$itemID</font>
  <b><font color=#923B23>set</font></b> al(CURRUNIT,line) <font color=#4A181B>$line</font>
  <i><font color=#646464># if current unit's info changed,</font></i>
  <i><font color=#646464># save it and update &quot;Last Visited&quot; list</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doit</font>} {
    <b><font color=#923B23>set</font></b> header [alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$itemID</font>]
    alited::favor::LastVisited [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$itemID</font>] <font color=#4A181B>$header</font>
    <b><font color=#923B23>set</font></b> selID [<font color=#4A181B>$wtree</font> selection]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$selID</font>]&lt;2 && <font color=#4A181B>$selID</font> ne <font color=#4A181B>$itemID</font>} {
      <font color=#4A181B>$wtree</font> selection set <font color=#4A181B>$itemID</font>
      <font color=#4A181B>$wtree</font> see <font color=#4A181B>$itemID</font>
      <font color=#4A181B>$wtree</font> tag add tagSel <font color=#4A181B>$itemID</font>
    }
    <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#923B23>foreach</font></b> it <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> {
      <b><font color=#923B23>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iit]]
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$it</font> lev leaf fl1 title l1 l2
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$name</font> eq [alited::tree::UnitTitle <font color=#4A181B>$title</font> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font>]} {
        <b><font color=#923B23>set</font></b> al(CPOS,<font color=#4A181B>$TID</font>,<font color=#4A181B>$header)</font> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$pos</font>-<font color=#4A181B>$l1</font>}]
        <b><font color=#923B23>break</font></b>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ShowHeader'>ShowHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a file's name and modification flag (*) in alited's title.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowHeader</span> <span class='ruff_arg'>?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, displays unconditionally; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>doit</em> is <em>no</em>, displays only at changing a file name or a flag.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_261' href="javascript:toggleSource('261')">Show source</a></p>
<div id='261' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::ShowHeader {{doit no}} {

  <i><font color=#646464># Displays a file's name and modification flag (*) in alited's title.</font></i>
  <i><font color=#646464>#   doit - if yes, displays unconditionally.</font></i>
  <i><font color=#646464># If *doit* is *no*, displays only at changing a file name or a flag.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[alited::file::IsModified]} {<b><font color=#923B23>set</font></b> modif <font color=#035103>&quot;*&quot;</font>} {<b><font color=#923B23>set</font></b> modif <font color=#035103>&quot; &quot;</font>}
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doit</font> || <font color=#035103>&quot;<font color=#4A181B>$</font>modif<font color=#4A181B>$</font>TID&quot;</font> ne [alited::bar::BAR cget <font color=#463e11>-ALmodif</font>]} {
    alited::bar::BAR configure <font color=#463e11>-ALmodif</font> <font color=#035103>&quot;<font color=#4A181B>$</font>modif<font color=#4A181B>$</font>TID&quot;</font>
    <b><font color=#923B23>set</font></b> f [alited::bar::CurrentTab 1]
    <b><font color=#923B23>set</font></b> d [<b><font color=#923B23>file</font></b> normalize [<b><font color=#923B23>file</font></b> dirname [alited::bar::CurrentTab 2]]]
    <b><font color=#923B23>set</font></b> ttl [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$f</font> %d <font color=#4A181B>$d</font> %p <font color=#4A181B>$al(prjname)</font>] <font color=#4A181B>$al(TITLE)</font>]
    <b><font color=#7A040E>wm</font></b> title <font color=#4A181B>$al(WIN)</font> [<b><font color=#923B23>string</font></b> trim <font color=#035103>&quot;<font color=#4A181B>$</font>modif<font color=#4A181B>$</font>ttl&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ShowText'>ShowText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_262' href="javascript:toggleSource('262')">Show source</a></p>
<div id='262' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::ShowText {} {

  <i><font color=#646464># Displays a current text.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>lassign</font></b> [GetText <font color=#4A181B>$TID</font> yes] curfile wtxt wsbv pos doinit dopack
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dopack</font>} {
    PackTextWidgets <font color=#4A181B>$wtxt</font> <font color=#4A181B>$wsbv</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doinit</font> || <font color=#4A181B>$dopack</font>} {
    <i><font color=#646464># for newly displayed text: create also its unit tree</font></i>
    <b><font color=#923B23>set</font></b> al(TREE,units) no
    alited::tree::Create
  }
  FocusText <font color=#4A181B>$TID</font> <font color=#4A181B>$pos</font>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> itemID [alited::tree::NewSelection]] ne {}} {
    <i><font color=#646464># if a new unit is selected, show it in the unit tree</font></i>
    [<font color=#4A181B>$obPav</font> Tree] see <font color=#4A181B>$itemID</font>
  }
  <b><font color=#7A040E>focus</font></b> <font color=#4A181B>$wtxt</font>
  <i><font color=#646464># update &quot;File&quot; menu and app's header</font></i>
  alited::menu::CheckMenuItems
  ShowHeader
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateAll'>UpdateAll</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates tree, text and gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_263' href="javascript:toggleSource('263')">Show source</a></p>
<div id='263' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::UpdateAll {} {

  <i><font color=#646464># Updates tree, text and gutter.</font></i>

  alited::tree::RecreateTree
  UpdateTextGutter
  HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateGutter'>UpdateGutter</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws the gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateGutter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_264' href="javascript:toggleSource('264')">Show source</a></p>
<div id='264' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::UpdateGutter {} {

  <i><font color=#646464># Redraws the gutter.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;<font color=#4A181B>$</font>obPav fillGutter <font color=#4A181B>$</font>wtxt&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateProjectInfo'>UpdateProjectInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a project settings in the status bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateProjectInfo</span> <span class='ruff_arg'>?indent?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>indent</code></code></td><td class='ruff_defitem'>indentation calculated for a text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_265' href="javascript:toggleSource('265')">Show source</a></p>
<div id='265' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::UpdateProjectInfo {{indent {}}} {

  <i><font color=#646464># Displays a project settings in the status bar.</font></i>
  <i><font color=#646464>#   indent - indentation calculated for a text</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjroot)</font> ne {}} {<b><font color=#923B23>set</font></b> stsw normal} {<b><font color=#923B23>set</font></b> stsw disabled}
  [<font color=#4A181B>$obPav</font> BuTswitch] configure <font color=#463e11>-state</font> <font color=#4A181B>$stsw</font>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> eol <font color=#4A181B>$al(prjEOL)</font>] eq {}} {<b><font color=#923B23>set</font></b> eol auto}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$indent</font> eq {}} {<b><font color=#923B23>set</font></b> indent [CalcIndentation]}
  <b><font color=#923B23>set</font></b> info <font color=#035103>&quot;eol=<font color=#4A181B>$</font>eol, <font color=#4A181B>[</font>msgcat::mc ind<font color=#4A181B>]</font>=<font color=#4A181B>$</font>indent&quot;</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjindentAuto)</font>} {<b><font color=#923B23>append</font></b> info /auto}
  [<font color=#4A181B>$obPav</font> Labstat4] configure <font color=#463e11>-text</font> <font color=#4A181B>$info</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateText'>UpdateText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateText</span> <span class='ruff_arg'>?wtxt? ?curfile?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text widget's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>curfile</code></code></td><td class='ruff_defitem'>file name of the text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_266' href="javascript:toggleSource('266')">Show source</a></p>
<div id='266' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::UpdateText {{wtxt {}} {curfile {}}} {

  <i><font color=#646464># Redraws a text.</font></i>
  <i><font color=#646464>#   wtxt - the text widget's path</font></i>
  <i><font color=#646464>#   curfile - file name of the text</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wtxt</font> eq {}} {<b><font color=#923B23>set</font></b> wtxt [CurrentWTXT]}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$curfile</font> eq {}} {<b><font color=#923B23>set</font></b> curfile [alited::bar::FileName]}
  <b><font color=#923B23>if</font></b> {[alited::file::IsClang <font color=#4A181B>$curfile</font>]} {
    ::hl_c::hl_text <font color=#4A181B>$wtxt</font>
  } <b><font color=#923B23>else</font></b> {
    ::hl_tcl::hl_text <font color=#4A181B>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateTextGutter'>UpdateTextGutter</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws both a text and a gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTextGutter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_267' href="javascript:toggleSource('267')">Show source</a></p>
<div id='267' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::UpdateTextGutter {} {

  <i><font color=#646464># Redraws both a text and a gutter.</font></i>

  UpdateGutter
  UpdateText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateTextGutterTree'>UpdateTextGutterTree</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates after replacements: text, gutter, unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTextGutterTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_268' href="javascript:toggleSource('268')">Show source</a></p>
<div id='268' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::UpdateTextGutterTree {} {

  <i><font color=#646464># Updates after replacements: text, gutter, unit tree.</font></i>

  UpdateTextGutter
  UpdateUnitTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateUnitTree'>UpdateUnitTree</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws unit tree at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateUnitTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_269' href="javascript:toggleSource('269')">Show source</a></p>
<div id='269' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::main::UpdateUnitTree {} {

  <i><font color=#646464># Redraws unit tree at need.</font></i>

  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$alited::al(TREE</font>,isunits) && [alited::file::IsUnitFile <font color=#4A181B>$fname</font>]} {
    alited::tree::RecreateTree
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::menu'></a>::alited::menu<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::menu-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::menu::CheckMenuItems'>CheckMenuItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Disables/enables &quot;File/Close All...&quot; menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckMenuItems</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_270' href="javascript:toggleSource('270')">Show source</a></p>
<div id='270' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::menu::CheckMenuItems {} {

  <i><font color=#646464># Disables/enables &quot;File/Close All...&quot; menu items.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>foreach</font></b> idx {9 10 11} {
    <b><font color=#923B23>if</font></b> {[alited::bar::BAR isTab <font color=#4A181B>$TID</font>]} {
      <b><font color=#923B23>set</font></b> dsbl [alited::bar::BAR checkDisabledMenu <font color=#4A181B>$al(BID)</font> <font color=#4A181B>$TID</font> [<b><font color=#923B23>incr</font></b> item]]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> dsbl yes
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dsbl</font>} {
      <b><font color=#923B23>set</font></b> state <font color=#035103>&quot;-state disabled&quot;</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> state <font color=#035103>&quot;-state normal&quot;</font>
    }
    <font color=#4A181B>$al(MENUFILE)</font> entryconfigure <font color=#4A181B>$idx</font> {*}<font color=#4A181B>$state</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillMenu'>FillMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Populates alited's main menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillMenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_271' href="javascript:toggleSource('271')">Show source</a></p>
<div id='271' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::menu::FillMenu {} {

    <i><font color=#646464># Populates alited's main menu.</font></i>

    <b><font color=#923B23>namespace</font></b> upvar ::alited al al
    <b><font color=#923B23>namespace</font></b> upvar ::alited::pref em_Num em_Num  em_sep em_sep em_ico em_ico em_inf em_inf em_mnu em_mnu

    <i><font color=#646464>## ________________________ File _________________________ ##</font></i>
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>set</font></b> al(MENUFILE) <font color=#4A181B>$al(WIN)</font>.menu.file]
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,new) <font color=#463e11>-command</font> alited::file::NewFile <font color=#463e11>-accelerator</font> Ctrl+N
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,open...) <font color=#463e11>-command</font> alited::file::OpenFile <font color=#463e11>-accelerator</font> Ctrl+O
    <b><font color=#7A040E>menu</font></b> <font color=#4A181B>$m</font>.recentfiles <font color=#463e11>-tearoff</font> 0
    <font color=#4A181B>$m</font> add cascade <font color=#463e11>-label</font>  [msgcat::mc <font color=#035103>&quot;Recent Files&quot;</font>] <font color=#463e11>-menu</font> <font color=#4A181B>$m</font>.recentfiles
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,save) <font color=#463e11>-command</font> alited::file::SaveFile <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_0)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,saveas...) <font color=#463e11>-command</font> alited::file::SaveFileAs <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_1)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,saveall) <font color=#463e11>-command</font> alited::file::SaveAll <font color=#463e11>-accelerator</font> Ctrl+Shift+S
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,close) <font color=#463e11>-command</font> alited::file::CloseFileMenu
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,clall) <font color=#463e11>-command</font> {alited::file::CloseAll 1}
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,clallleft) <font color=#463e11>-command</font> {alited::file::CloseAll 2}
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,clallright) <font color=#463e11>-command</font> {alited::file::CloseAll 3}
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,restart) <font color=#463e11>-command</font> {alited::Exit - 1 no}
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,quit) <font color=#463e11>-command</font> {alited::Exit - 0 no}

    <i><font color=#646464>## ________________________ Edit _________________________ ##</font></i>
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>set</font></b> al(MENUEDIT) <font color=#4A181B>$al(WIN)</font>.menu.edit]
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,moveupU) <font color=#463e11>-command</font> {alited::tree::MoveItem up yes} <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_15)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,movedownU) <font color=#463e11>-command</font> {alited::tree::MoveItem down yes} <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_16)</font>
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,indent) <font color=#463e11>-command</font> alited::edit::Indent <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_6)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,unindent) <font color=#463e11>-command</font> alited::edit::UnIndent <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_7)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Correct Indentation}] <font color=#463e11>-command</font> alited::edit::NormIndent
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,comment) <font color=#463e11>-command</font> alited::edit::Comment <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_8)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,uncomment) <font color=#463e11>-command</font> alited::edit::UnComment <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_9)</font>
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Put New Line}] <font color=#463e11>-command</font> alited::main::InsertLine <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_18)</font>

      <i><font color=#646464>### ________________________ Conversions _________________________ ###</font></i>

  <i><font color=#646464>#  $m add separator</font></i>
  <i><font color=#646464>#  menu $m.convert -tearoff 0</font></i>
  <i><font color=#646464>#  $m add cascade -label [msgcat::mc Conversions] -menu $m.convert</font></i>
  <i><font color=#646464>#  $m.convert add command -label [msgcat::mc {Change Encoding...}] -command alited::edit::ChangeEncoding</font></i>
  <i><font color=#646464>#  $m.convert add command -label [msgcat::mc {Change EOL...}] -command alited::edit::ChangeEOL</font></i>

    <i><font color=#646464>## ________________________ Search _________________________ ##</font></i>
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>set</font></b> al(SEARCH) <font color=#4A181B>$al(WIN)</font>.menu.search]
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,findreplace) <font color=#463e11>-command</font> alited::find::_run <font color=#463e11>-accelerator</font> Ctrl+F
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,findnext) <font color=#463e11>-command</font> alited::find::Next <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_12)</font>
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Look for Declaration}] <font color=#463e11>-command</font> alited::find::SearchUnit <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_13)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Look for Word}] <font color=#463e11>-command</font> alited::find::SearchWordInSession <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_14)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Find Unit}] <font color=#463e11>-command</font> alited::find::FindUnit <font color=#463e11>-accelerator</font> Ctrl+Shift+F
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Find by List}] <font color=#463e11>-command</font> alited::find::SearchByList
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {To Last Visited}] <font color=#463e11>-command</font> alited::unit::SwitchUnits <font color=#463e11>-accelerator</font> Alt<font color=#463e11>-Backspace</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {To Matched Bracket}] <font color=#463e11>-command</font> alited::main::GotoBracket <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_20)</font>
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Go to Line}] <font color=#463e11>-command</font> alited::main::GotoLine <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_17)</font>

    <i><font color=#646464>## ________________________ Tools _________________________ ##</font></i>
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>set</font></b> al(TOOLS) <font color=#4A181B>$al(WIN)</font>.menu.tool]
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,run) <font color=#463e11>-command</font> alited::tool::_run <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_3)</font>
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> e_menu <font color=#463e11>-command</font> alited::tool::e_menu <font color=#463e11>-accelerator</font> <font color=#4A181B>$al(acc_2)</font>

      <i><font color=#646464>### ________________________ Runs _________________________ ###</font></i>
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>set</font></b> emwas 0]} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists em_ico(<font color=#4A181B>$i)</font>] && (<font color=#4A181B>$em_mnu(</font>$i) ne {} || <font color=#4A181B>$em_sep(</font>$i))} {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>incr</font></b> emwas]==1} {
          <b><font color=#7A040E>menu</font></b> <font color=#4A181B>$m</font>.runs <font color=#463e11>-tearoff</font> 0
          <font color=#4A181B>$m</font> add cascade <font color=#463e11>-label</font> bar/menu <font color=#463e11>-menu</font> <font color=#4A181B>$m</font>.runs
        }
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$em_sep(</font>$i)} {
          <font color=#4A181B>$m</font>.runs add separator
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#923B23>set</font></b> txt <font color=#4A181B>$em_mnu(</font>$i)
          <font color=#4A181B>$m</font>.runs add command <font color=#463e11>-label</font> <font color=#4A181B>$txt</font> <font color=#463e11>-command</font> [alited::tool::EM_command <font color=#4A181B>$i</font>]
        }
      }
    }
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> tkcon <font color=#463e11>-command</font> alited::tool::tkcon

      <i><font color=#646464>### ________________________ Other tools _________________________ ###</font></i>
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,checktcl) <font color=#463e11>-command</font> alited::check::_run
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,colorpicker) <font color=#463e11>-command</font> alited::tool::ColorPicker
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Screen Loupe}] <font color=#463e11>-command</font> alited::tool::Loupe
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,datepicker) <font color=#463e11>-command</font> alited::tool::DatePicker

    <i><font color=#646464>## ________________________ Setup _________________________ ##</font></i>
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>set</font></b> al(SETUP) <font color=#4A181B>$al(WIN)</font>.menu.setup]
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,projects) <font color=#463e11>-command</font> alited::project::_run
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,tpl) <font color=#463e11>-command</font> alited::unit::Add
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$alited::al(MC</font>,FavLists) <font color=#463e11>-command</font> alited::favor::Lists
    <font color=#4A181B>$m</font> add separator
    <b><font color=#7A040E>menu</font></b> <font color=#4A181B>$m</font>.tint <font color=#463e11>-tearoff</font> 0
    <b><font color=#923B23>if</font></b> {[::apave::obj apaveTheme]} {<b><font color=#923B23>set</font></b> state normal} {<b><font color=#923B23>set</font></b> state disabled}
    <font color=#4A181B>$m</font> add cascade <font color=#463e11>-label</font> [msgcat::mc Tint] <font color=#463e11>-menu</font> <font color=#4A181B>$m</font>.tint <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
    <b><font color=#923B23>foreach</font></b> ti {50 45 40 35 30 25 20 15 10 5 0 -5 -10 -15 -20 -25 -30 -35 -40 -45 -50} {
      <b><font color=#923B23>set</font></b> ti1 [<b><font color=#923B23>string</font></b> range <font color=#035103>&quot;   <font color=#4A181B>$</font>ti&quot;</font> end-2 end]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ti</font>&lt;0} {
        <b><font color=#923B23>set</font></b> ti2 <font color=#035103>&quot;<font color=#4A181B>[</font>msgcat::mc Darker:<font color=#4A181B>]</font> <font color=#4A181B>$</font>ti1&quot;</font>
      } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$ti</font>&gt;0} {
        <b><font color=#923B23>set</font></b> ti2 <font color=#035103>&quot;<font color=#4A181B>[</font>msgcat::mc Lighter:<font color=#4A181B>]$</font>ti1&quot;</font>
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> ti3 [::apave::obj csGetName <font color=#4A181B>$al(INI</font>,CS)]
        <b><font color=#923B23>set</font></b> ti2 [msgcat::mc {Color scheme:}]
        <b><font color=#923B23>append</font></b> ti2 { } [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$ti3</font> [<b><font color=#923B23>string</font></b> first { } <font color=#4A181B>$ti3</font>] end]
      }
      <font color=#4A181B>$m</font>.tint add command <font color=#463e11>-label</font> <font color=#4A181B>$ti2</font> <font color=#463e11>-command</font> <font color=#035103>&quot;alited::menu::SetTint <font color=#4A181B>$</font>ti&quot;</font>
    }
    <font color=#4A181B>$m</font> add checkbutton <font color=#463e11>-label</font> [msgcat::mc {Wrap Lines}]  <font color=#463e11>-variable</font> alited::al(wrapwords) <font color=#463e11>-command</font> alited::file::WrapLines
    <font color=#4A181B>$m</font> add checkbutton <font color=#463e11>-label</font> [msgcat::mc {Tip File Info}]  <font color=#463e11>-variable</font> alited::al(TREE,showinfo) <font color=#463e11>-command</font> alited::file::UpdateFileStat
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc {Before Run...}] <font color=#463e11>-command</font> alited::tool::BeforeRunDlg
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,pref...) <font color=#463e11>-command</font> alited::pref::_run

    <i><font color=#646464>## ________________________ Help _________________________ ##</font></i>
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>set</font></b> al(MENUHELP) <font color=#4A181B>$al(WIN)</font>.menu.help]
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#035103>&quot;<font color=#4A181B>$</font>al(MC,help) Tcl/Tk&quot;</font> <font color=#463e11>-command</font> alited::tool::Help <font color=#463e11>-accelerator</font> F1
    <font color=#4A181B>$m</font> add separator
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc <font color=#035103>&quot;Help of alited&quot;</font>] <font color=#463e11>-command</font> alited::HelpAlited
    <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> [msgcat::mc <font color=#035103>&quot;About...&quot;</font>] <font color=#463e11>-command</font> alited::HelpAbout
    FillRecent
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillRecent'>FillRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Recent Files&quot; menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillRecent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_272' href="javascript:toggleSource('272')">Show source</a></p>
<div id='272' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::menu::FillRecent {} {

  <i><font color=#646464># Creates &quot;Recent Files&quot; menu items.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> m <font color=#4A181B>$al(MENUFILE)</font>.recentfiles
  <font color=#4A181B>$m</font> delete 0 end
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(RECENTFILES)</font>]} {
    <font color=#4A181B>$al(MENUFILE)</font> entryconfigure 2 <font color=#463e11>-state</font> normal
    <b><font color=#923B23>set</font></b> i 0
    <b><font color=#923B23>foreach</font></b> rf <font color=#4A181B>$al(RECENTFILES)</font> {
      <font color=#4A181B>$m</font> add command <font color=#463e11>-label</font> <font color=#4A181B>$rf</font> <font color=#463e11>-command</font> <font color=#035103>&quot;alited::file::ChooseRecent <font color=#4A181B>$</font>i&quot;</font>
      <b><font color=#923B23>incr</font></b> i
    }
  } <b><font color=#923B23>else</font></b> {
    <font color=#4A181B>$al(MENUFILE)</font> entryconfigure 2 <font color=#463e11>-state</font> disabled
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::SetTint'>SetTint</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a tint of a current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTint</span> <span class='ruff_arg'>tint</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tint</code></code></td><td class='ruff_defitem'>value of the tint</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_273' href="javascript:toggleSource('273')">Show source</a></p>
<div id='273' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::menu::SetTint {tint} {

  <i><font color=#646464># Sets a tint of a current color scheme.</font></i>
  <i><font color=#646464>#   tint - value of the tint</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <font color=#4A181B>$obPav</font> csToned <font color=#4A181B>$al(INI</font>,CS) <font color=#4A181B>$tint</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::pref'></a>::alited::pref<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::pref-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::pref::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>a tab to open (saved at previous session) or {}</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_274' href="javascript:toggleSource('274')">Show source</a></p>
<div id='274' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::_create {tab} {

  <i><font color=#646464># Creates &quot;Preferences&quot; dialogue.</font></i>
  <i><font color=#646464>#   tab - a tab to open (saved at previous session) or {}</font></i>

  fetchVars
  InitLocales
  <font color=#4A181B>$obDl2</font> makeWindow <font color=#4A181B>$win</font>.fra <font color=#035103>&quot;<font color=#4A181B>$</font>al(MC,pref) :: <font color=#4A181B>$</font>::alited::USERDIR&quot;</font>
  <font color=#4A181B>$obDl2</font> paveWindow  <font color=#4A181B>$win</font>.fra [MainFrame]  <font color=#4A181B>$win</font>.fra.fraR.nbk.f1 [General_Tab1]  <font color=#4A181B>$win</font>.fra.fraR.nbk.f2 [General_Tab2]  <font color=#4A181B>$win</font>.fra.fraR.nbk.f3 [General_Tab3]  <font color=#4A181B>$win</font>.fra.fraR.nbk2.f1 [Edit_Tab1]  <font color=#4A181B>$win</font>.fra.fraR.nbk2.f2 [Edit_Tab2]  <font color=#4A181B>$win</font>.fra.fraR.nbk2.f3 [Edit_Tab3]  <font color=#4A181B>$win</font>.fra.fraR.nbk3.f1 [Units_Tab]  <font color=#4A181B>$win</font>.fra.fraR.nbk4.f1 [Template_Tab]  <font color=#4A181B>$win</font>.fra.fraR.nbk5.f1 [Keys_Tab1]  <font color=#4A181B>$win</font>.fra.fraR.nbk6.f1 [Common_Tab]  <font color=#4A181B>$win</font>.fra.fraR.nbk6.f2 [Emenu_Tab]  <font color=#4A181B>$win</font>.fra.fraR.nbk6.f3 [Runs_Tab]  <font color=#4A181B>$win</font>.fra.fraR.nbk6.f4 [Tkcon_Tab]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$minsize</font> eq <font color=#035103>&quot;&quot;</font>} {      ;<i><font color=#646464># save default min.sizes</font></i>
    <b><font color=#923B23>after</font></b> idle [<b><font color=#923B23>list</font></b> after 100 {
      <b><font color=#923B23>set</font></b> ::alited::pref::minsize <font color=#035103>&quot;-minsize <font color=#4A181B>{[</font>winfo width <font color=#4A181B>$</font>::alited::pref::win<font color=#4A181B>]</font> <font color=#4A181B>[</font>winfo height <font color=#4A181B>$</font>::alited::pref::win<font color=#4A181B>]}</font>&quot;</font>
    }]
  }
  <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obDl2</font> TexNotes]
  <b><font color=#923B23>set</font></b> fnotes [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::USERDIR</font> notes.txt]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fnotes</font>]} {
    <font color=#4A181B>$wtxt</font> insert end [::apave::readTextFile <font color=#4A181B>$fnotes</font>]
  }
  <font color=#4A181B>$wtxt</font> edit reset; <font color=#4A181B>$wtxt</font> edit modified no
  [<font color=#4A181B>$obDl2</font> TexTclKeys] insert end <font color=#4A181B>$al(ED</font>,TclKeyWords)
  [<font color=#4A181B>$obDl2</font> TexCKeys] insert end <font color=#4A181B>$al(ED</font>,CKeyWords)
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tab</font> ne {}} {
    <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$tab</font> {
      Emenu_Tab {
        <b><font color=#923B23>set</font></b> nbk nbk6
        <b><font color=#923B23>set</font></b> nt <font color=#4A181B>$win</font>.fra.fraR.nbk6.f3
      }
    }
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;::alited::pref::Tab <font color=#4A181B>$</font>nbk <font color=#4A181B>$</font>nt yes&quot;</font>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$oldTab</font> ne {}} {
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;::alited::pref::Tab <font color=#4A181B>$</font>oldTab <font color=#4A181B>$</font>arrayTab(<font color=#4A181B>$</font>oldTab) yes&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;::alited::pref::Tab nbk&quot;</font> ;<i><font color=#646464># first entering</font></i>
  }
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$win</font> &lt;Control<font color=#463e11>-o</font>&gt; alited::ini::EditSettings
  <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obDl2</font> showModal <font color=#4A181B>$win</font> <font color=#463e11>-geometry</font> <font color=#4A181B>$geo</font> {*}<font color=#4A181B>$minsize</font>  <font color=#463e11>-onclose</font> ::alited::pref::Cancel]
  <b><font color=#923B23>set</font></b> fcont [<font color=#4A181B>$wtxt</font> get 1.0 {end -1c}]
  ::apave::writeTextFile <font color=#4A181B>$fnotes</font> fcont
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$res</font>] &lt; 2} {<b><font color=#923B23>set</font></b> res <font color=#035103>&quot;&quot;</font>}
  <b><font color=#923B23>set</font></b> geo [<b><font color=#7A040E>wm</font></b> geometry <font color=#4A181B>$win</font>] ;<i><font color=#646464># save the new geometry of the dialogue</font></i>
  <b><font color=#923B23>set</font></b> oldTab <font color=#4A181B>$curTab</font>
  <b><font color=#923B23>set</font></b> arrayTab(<font color=#4A181B>$curTab)</font> [<font color=#4A181B>$win</font>.fra.fraR.<font color=#4A181B>$curTab</font> select]
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_275' href="javascript:toggleSource('275')">Show source</a></p>
<div id='275' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::_init {} {

  <i><font color=#646464># Initializes &quot;Preferences&quot; dialogue.</font></i>

  fetchVars
  SaveSettings
  <b><font color=#923B23>set</font></b> curTab <font color=#035103>&quot;nbk&quot;</font>
  IniKeys
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?tab?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;true&quot;, if settings were saved.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_276' href="javascript:toggleSource('276')">Show source</a></p>
<div id='276' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::_run {{tab {}}} {

  <i><font color=#646464># Runs &quot;Preferences&quot; dialogue.</font></i>
  <i><font color=#646464># Returns &quot;true&quot;, if settings were saved.</font></i>

  _init
  <b><font color=#923B23>set</font></b> res [_create <font color=#4A181B>$tab</font>]
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::BindKey'>BindKey</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds a key event to a key combination.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindKey</span> <span class='ruff_arg'>nk ?key? ?defk?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox corresponding to the event</td></tr>
<tr><td class='ruff_defitem'><code><code>key</code></code></td><td class='ruff_defitem'>key combination or &quot;-&quot; (for not engaged keys); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>defk</code></code></td><td class='ruff_defitem'>default key combination; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a bound keys for not engaged keys or {} for others.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_277' href="javascript:toggleSource('277')">Show source</a></p>
<div id='277' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::BindKey {nk {key {}} {defk {}}} {

  <i><font color=#646464># Binds a key event to a key combination.</font></i>
  <i><font color=#646464>#   nk - index of combobox corresponding to the event</font></i>
  <i><font color=#646464>#   key - key combination or &quot;-&quot; (for not engaged keys)</font></i>
  <i><font color=#646464>#   defk - default key combination</font></i>
  <i><font color=#646464># Returns a bound keys for not engaged keys or {} for others.</font></i>

  fetchVars
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$key</font> eq {-}} {
    <i><font color=#646464># not engaged event: bind to a new combination if defined</font></i>
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists keys(<font color=#4A181B>$nk)</font>]} {
      <b><font color=#A106A1>return</font></b> <font color=#4A181B>$keys(</font>$nk)
    }
    <i><font color=#646464># otherwise bind to the default</font></i>
    <b><font color=#A106A1>return</font></b> <font color=#4A181B>$defk</font>
  }
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$nk</font> {
    4 { ;<i><font color=#646464># &quot;Double Selection&quot;</font></i>
      ::apave::setTextHotkeys CtrlD <font color=#4A181B>$keys(</font>$nk)
    }
    5 { ;<i><font color=#646464># &quot;Delete Line&quot;</font></i>
      ::apave::setTextHotkeys CtrlY <font color=#4A181B>$keys(</font>$nk)
    }
    10 { ;<i><font color=#646464># &quot;Highlight First&quot;</font></i>
      ::apave::setTextHotkeys AltQ <font color=#4A181B>$keys(</font>$nk)
    }
    11 { ;<i><font color=#646464># &quot;Highlight Last&quot;</font></i>
      ::apave::setTextHotkeys AltW <font color=#4A181B>$keys(</font>$nk)
    }
  }
  <b><font color=#A106A1>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handler of &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_278' href="javascript:toggleSource('278')">Show source</a></p>
<div id='278' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Cancel {args} {

  <i><font color=#646464># Handler of &quot;Cancel&quot; button.</font></i>

  fetchVars
  RestoreSettings
  GetEmSave out
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CbxBackup'>CbxBackup</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for access to SpxMaxBak field. If CbxBackup is empty (no backup), SpxMaxBak should be disabled.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CbxBackup</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_279' href="javascript:toggleSource('279')">Show source</a></p>
<div id='279' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::CbxBackup {} {

  <i><font color=#646464># Check for access to SpxMaxBak field.</font></i>
  <i><font color=#646464># If CbxBackup is empty (no backup), SpxMaxBak should be disabled.</font></i>

  fetchVars
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$alited::al(BACKUP)</font> eq {}} {<b><font color=#923B23>set</font></b> state disabled} {<b><font color=#923B23>set</font></b> state normal}
  [<font color=#4A181B>$obDl2</font> SpxMaxBak] configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CbxTheme'>CbxTheme</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for access to &quot;Tint&quot; field. If CbxTheme is not &quot;clam&quot;, &quot;Tint&quot; should be disabled.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CbxTheme</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_280' href="javascript:toggleSource('280')">Show source</a></p>
<div id='280' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::CbxTheme {} {

  <i><font color=#646464># Check for access to &quot;Tint&quot; field.</font></i>
  <i><font color=#646464># If CbxTheme is not &quot;clam&quot;, &quot;Tint&quot; should be disabled.</font></i>

  fetchVars
  <b><font color=#923B23>if</font></b> {[GetCS]&gt;-2 && [::apave::obj apaveTheme <font color=#4A181B>$opc1</font>]} {
    <b><font color=#923B23>set</font></b> state normal
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> state disabled
    <b><font color=#923B23>set</font></b> alited::al(INI,HUE) 0
  }
  [<font color=#4A181B>$obDl2</font> SpxHue] configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckUseDef'>CheckUseDef</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enables/disables the project default fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUseDef</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_281' href="javascript:toggleSource('281')">Show source</a></p>
<div id='281' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::CheckUseDef {} {

  <i><font color=#646464># Enables/disables the project default fields.</font></i>

  fetchVars
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(PRJDEFAULT)</font>} {
    <b><font color=#923B23>set</font></b> state normal
    [<font color=#4A181B>$obDl2</font> CbxEOL] configure <font color=#463e11>-state</font> readonly
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> state disabled
    [<font color=#4A181B>$obDl2</font> CbxEOL] configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
  }
  <b><font color=#923B23>foreach</font></b> w {EntIgn SpxIndent SpxRedunit SwiMult ChbIndAuto} {
    [<font color=#4A181B>$obDl2</font> <font color=#4A181B>$w</font>] configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckUseLeaf'>CheckUseLeaf</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enables/disables the &quot;Regexp of a leaf&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUseLeaf</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_282' href="javascript:toggleSource('282')">Show source</a></p>
<div id='282' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::CheckUseLeaf {} {

  <i><font color=#646464># Enables/disables the &quot;Regexp of a leaf&quot; field.</font></i>

  fetchVars
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(INI</font>,LEAF)} {<b><font color=#923B23>set</font></b> state normal} {<b><font color=#923B23>set</font></b> state disabled}
  [<font color=#4A181B>$obDl2</font> EntLf] configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Common_Tab'>Common_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/Common&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Common_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_283' href="javascript:toggleSource('283')">Show source</a></p>
<div id='283' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Common_Tab {} {

  <i><font color=#646464># Serves to layout &quot;Tools/Common&quot; tab.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> al(EM,menu) [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$al(EM</font>,menudir) [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$al(EM</font>,menu)]]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(EM</font>,Tcl) eq {}} {
    <b><font color=#923B23>set</font></b> al(TCLINIDIR) [<b><font color=#923B23>info</font></b> nameofexecutable]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> al(TCLINIDIR) <font color=#4A181B>$al(EM</font>,Tcl)
  }
  <b><font color=#923B23>set</font></b> al(TCLINIDIR) [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$al(TCLINIDIR)</font>]
  <b><font color=#923B23>set</font></b> al(TCLPREV) <font color=#4A181B>$al(EM</font>,Tcl)
  <b><font color=#923B23>set</font></b> al(TCLLIST) [<b><font color=#923B23>split</font></b> <font color=#4A181B>$al(EM</font>,TclList) \t]
  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> x}}
    {.labTcl - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;tclsh, wish or tclkit:&quot;</font>}}
    {.fiLTcl .labTcl L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(EM,Tcl) <font color=#463e11>-values</font> {<font color=#4A181B>$alited::al(TCLLIST)</font>} <font color=#463e11>-w</font> 48 <font color=#463e11>-initialdir</font> <font color=#4A181B>$alited::al(TCLINIDIR)</font>}}
    {.labDoc .labTcl T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Path to man/tcl8.6:&quot;</font>}}
    {.dirDoc .labDoc L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(EM,h=) <font color=#463e11>-w</font> 40}}
    {.labTT .labDoc T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Linux terminal:&quot;</font>}}
    {.entTT .labTT L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(EM,tt=) <font color=#463e11>-w</font> 40}}
    {.labDF .labTT T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Diff tool:&quot;</font>}}
    {.entDF .labDF L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(EM,DiffTool) <font color=#463e11>-w</font> 40}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CSyntax_Default'>CSyntax_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets default colors to highlight C.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSyntax_Default</span> <span class='ruff_arg'>?init?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>init</code></code></td><td class='ruff_defitem'>yes, if only variables should be initialized; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_284' href="javascript:toggleSource('284')">Show source</a></p>
<div id='284' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::CSyntax_Default {{init no}} {

  <i><font color=#646464># Sets default colors to highlight C.</font></i>
  <i><font color=#646464>#   init - yes, if only variables should be initialized.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> al(ClangExtensions) <font color=#4A181B>$al(ClangExtensionsDef)</font>
  <b><font color=#923B23>set</font></b> Dark [::apave::obj csDarkEdit]
  <b><font color=#923B23>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#923B23>set</font></b> clrvals [::hl_c::hl_colors {} <font color=#4A181B>$Dark</font>]
  <b><font color=#923B23>foreach</font></b> nam <font color=#4A181B>$clrnams</font> val <font color=#4A181B>$clrvals</font> {
    <b><font color=#923B23>set</font></b> al(ED,C<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>
  }
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$init</font>} {UpdateSyntaxTab 2}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab1'>Edit_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Editor&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_285' href="javascript:toggleSource('285')">Show source</a></p>
<div id='285' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Edit_Tab1 {} {

  <i><font color=#646464># Serves to layout &quot;Editor&quot; tab.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> y}}
    {.labFon - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 8 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Font:&quot;</font>}}
    {.fonTxt .labFon L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(FONT,txt) <font color=#463e11>-w</font> 40}}
    {.labSp1 .labFon T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Space above lines:&quot;</font>}}
    {.spxSp1 .labSp1 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,sp1) <font color=#463e11>-from</font> 0 <font color=#463e11>-to</font> 16 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labSp3 .labSp1 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Space below lines:&quot;</font>}}
    {.spxSp3 .labSp3 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,sp3) <font color=#463e11>-from</font> 0 <font color=#463e11>-to</font> 16 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labSp2 .labSp3 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Space between wraps:&quot;</font>}}
    {.spxSp2 .labSp2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,sp2) <font color=#463e11>-from</font> 0 <font color=#463e11>-to</font> 16 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.seh .labSp2 T 1 2 {<font color=#463e11>-pady</font> 3}}
    {.labLl .seh T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Tab bar label's length:&quot;</font>}}
    {.spxLl .labLl L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(INI,barlablen) <font color=#463e11>-from</font> 10 <font color=#463e11>-to</font> 100 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labTl .labLl T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Tab bar tip's length:&quot;</font>}}
    {.spxTl .labTl L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(INI,bartiplen) <font color=#463e11>-from</font> 10 <font color=#463e11>-to</font> 100 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.seh2 .labTl T 1 2 {<font color=#463e11>-pady</font> 3}}
    {.labGW .seh2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Gutter's width:&quot;</font>}}
    {.spxGW .labGW L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,gutterwidth) <font color=#463e11>-from</font> 3 <font color=#463e11>-to</font> 7 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labGS .labGW T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Gutter's shift from text:&quot;</font>}}
    {.spxGS .labGS L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,guttershift) <font color=#463e11>-from</font> 0 <font color=#463e11>-to</font> 10 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab2'>Edit_Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tcl syntax&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_286' href="javascript:toggleSource('286')">Show source</a></p>
<div id='286' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Edit_Tab2 {} {

  <i><font color=#646464># Serves to layout &quot;Tcl syntax&quot; tab.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {FraTab2 v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fraTab2.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Tcl files' extensions:&quot;</font>}}
    {.entExt .labExt L 1 1 {<font color=#463e11>-st</font> swe <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(TclExtensions) <font color=#463e11>-w</font> 30}}
    {.LabCOM .labExt T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of Tcl commands:&quot;</font>}}
    {.clrCOM .labCOM L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrCOM) <font color=#463e11>-w</font> 20}}
    {.labCOMTK .labCOM T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of Tk commands:&quot;</font>}}
    {.clrCOMTK .labCOMTK L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrCOMTK) <font color=#463e11>-w</font> 20}}
    {.labSTR .labCOMTK T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of strings:&quot;</font>}}
    {.clrSTR .labSTR L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrSTR) <font color=#463e11>-w</font> 20}}
    {.labVAR .labSTR T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of variables:&quot;</font>}}
    {.clrVAR .labVAR L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrVAR) <font color=#463e11>-w</font> 20}}
    {.labCMN .labVAR T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of comments:&quot;</font>}}
    {.clrCMN .labCMN L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrCMN) <font color=#463e11>-w</font> 20}}
    {.labPROC .labCMN T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of proc/methods:&quot;</font>}}
    {.clrPROC .labPROC L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrPROC) <font color=#463e11>-w</font> 20}}
    {.labOPT .labPROC T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of options:&quot;</font>}}
    {.clrOPT .labOPT L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrOPT) <font color=#463e11>-w</font> 20}}
    {.labBRA .labOPT T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of brackets:&quot;</font>}}
    {.clrBRA .labBRA L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,clrBRA) <font color=#463e11>-w</font> 20}}
    {.seh .labBRA T 1 2 {<font color=#463e11>-pady</font> 3}}
    {.but .seh T 1 1 {<font color=#463e11>-st</font> w} {<font color=#463e11>-t</font> Default <font color=#463e11>-com</font> alited::pref::TclSyntax_Default}}
    {.seh2 .but T 1 2 {<font color=#463e11>-pady</font> 10}}
    {fraTab2.scf.fra2 .seh2 T 1 2 {<font color=#463e11>-st</font> nsew}}
    {.labAddKeys - - 1 1 {<font color=#463e11>-st</font> nw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Your commands:&quot;</font>}}
    {.TexTclKeys .labAddKeys L 1 1 {<font color=#463e11>-st</font> new} {<font color=#463e11>-h</font> 7 <font color=#463e11>-w</font> 55 <font color=#463e11>-wrap</font> word <font color=#463e11>-tabnext</font> <font color=#4A181B>$alited::pref::win</font>.fraB.butOK}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab3'>Edit_Tab3</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;C/C++ syntax&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_287' href="javascript:toggleSource('287')">Show source</a></p>
<div id='287' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Edit_Tab3 {} {

  <i><font color=#646464># Serves to layout &quot;C/C++ syntax&quot; tab.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {FraTab3 v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fraTab3.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;C/C++ files' extensions:&quot;</font>}}
    {.entExt .labExt L 1 1 {<font color=#463e11>-st</font> swe <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ClangExtensions) <font color=#463e11>-w</font> 30}}
    {.LabCOM2 .labExt T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of C key words:&quot;</font>}}
    {.clrCOM2 .labCOM2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrCOM) <font color=#463e11>-w</font> 20}}
    {.labCOMTK2 .labCOM2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of C++ key words:&quot;</font>}}
    {.clrCOMTK2 .labCOMTK2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrCOMTK) <font color=#463e11>-w</font> 20}}
    {.labSTR2 .labCOMTK2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of strings:&quot;</font>}}
    {.clrSTR2 .labSTR2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrSTR) <font color=#463e11>-w</font> 20}}
    {.labVAR2 .labSTR2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of punctuation:&quot;</font>}}
    {.clrVAR2 .labVAR2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrVAR) <font color=#463e11>-w</font> 20}}
    {.labCMN2 .labVAR2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of comments:&quot;</font>}}
    {.clrCMN2 .labCMN2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrCMN) <font color=#463e11>-w</font> 20}}
    {.labPROC2 .labCMN2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of return/goto:&quot;</font>}}
    {.clrPROC2 .labPROC2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrPROC) <font color=#463e11>-w</font> 20}}
    {.labOPT2 .labPROC2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of your key words:&quot;</font>}}
    {.clrOPT2 .labOPT2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrOPT) <font color=#463e11>-w</font> 20}}
    {.labBRA2 .labOPT2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color of brackets:&quot;</font>}}
    {.clrBRA2 .labBRA2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-tvar</font> alited::al(ED,CclrBRA) <font color=#463e11>-w</font> 20}}
    {.seh .labBRA2 T 1 2 {<font color=#463e11>-pady</font> 3}}
    {.but .seh T 1 1 {<font color=#463e11>-st</font> w} {<font color=#463e11>-t</font> Default <font color=#463e11>-com</font> alited::pref::CSyntax_Default}}
    {.seh2 .but T 1 2 {<font color=#463e11>-pady</font> 10}}
    {fraTab3.scf.fra2 .seh2 T 1 2 {<font color=#463e11>-st</font> nsew}}
    {.labAddKeys - - 1 1 {<font color=#463e11>-st</font> nw <font color=#463e11>-pady</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Your key words:&quot;</font>}}
    {.TexCKeys .labAddKeys L 1 1 {<font color=#463e11>-st</font> new} {<font color=#463e11>-h</font> 7 <font color=#463e11>-w</font> 48 <font color=#463e11>-wrap</font> word <font color=#463e11>-tabnext</font> <font color=#4A181B>$alited::pref::win</font>.fraB.butOK}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::EmAddLine'>EmAddLine</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a new &quot;bar/menu&quot; action before a current one.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EmAddLine</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of a current action</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_288' href="javascript:toggleSource('288')">Show source</a></p>
<div id='288' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::EmAddLine {idx} {

  <i><font color=#646464># Inserts a new &quot;bar/menu&quot; action before a current one.</font></i>
  <i><font color=#646464>#   idx - index of a current action</font></i>

  fetchVars
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i <font color=#4A181B>$em_Num</font>} {<font color=#4A181B>$i</font>&gt;<font color=#4A181B>$idx</font>} {} {
    <b><font color=#923B23>incr</font></b> i -1
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>==<font color=#4A181B>$idx</font>} {
      <b><font color=#923B23>lassign</font></b> {} em_mnu(<font color=#4A181B>$i)</font> em_ico(<font color=#4A181B>$i)</font> em_inf(<font color=#4A181B>$i)</font>
      <b><font color=#923B23>set</font></b> em_sep(<font color=#4A181B>$i)</font> 0
    } <b><font color=#923B23>else</font></b> {
      <i><font color=#646464># lower all the rest actions</font></i>
      <b><font color=#923B23>set</font></b> ip [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>-1}]
      <b><font color=#923B23>set</font></b> em_sep(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_sep(</font>$ip)
      <b><font color=#923B23>set</font></b> em_ico(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_ico(</font>$ip)
      <b><font color=#923B23>set</font></b> em_mnu(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_mnu(</font>$ip)
      <b><font color=#923B23>set</font></b> em_inf(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_inf(</font>$ip)
    }
  }
  EmSeparators yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::EmDelLine'>EmDelLine</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a current &quot;bar/menu&quot; action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EmDelLine</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of a current action</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_289' href="javascript:toggleSource('289')">Show source</a></p>
<div id='289' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::EmDelLine {idx} {

  <i><font color=#646464># Deletes a current &quot;bar/menu&quot; action.</font></i>
  <i><font color=#646464>#   idx - index of a current action</font></i>

  fetchVars
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i <font color=#4A181B>$idx</font>} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>==(<font color=#4A181B>$em_Num</font>-1)} {
      <b><font color=#923B23>lassign</font></b> {} em_mnu(<font color=#4A181B>$i)</font> em_ico(<font color=#4A181B>$i)</font> em_inf(<font color=#4A181B>$i)</font>
      <b><font color=#923B23>set</font></b> em_sep(<font color=#4A181B>$i)</font> 0
    } <b><font color=#923B23>else</font></b> {
      <i><font color=#646464># make upper all the rest actions</font></i>
      <b><font color=#923B23>set</font></b> ip [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>+1}]
      <b><font color=#923B23>set</font></b> em_sep(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_sep(</font>$ip)
      <b><font color=#923B23>set</font></b> em_ico(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_ico(</font>$ip)
      <b><font color=#923B23>set</font></b> em_mnu(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_mnu(</font>$ip)
      <b><font color=#923B23>set</font></b> em_inf(<font color=#4A181B>$i)</font> <font color=#4A181B>$em_inf(</font>$ip)
    }
  }
  EmSeparators yes
  ScrollRuns
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Emenu_Tab'>Emenu_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/e_menu&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Emenu_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_290' href="javascript:toggleSource('290')">Show source</a></p>
<div id='290' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Emenu_Tab {} {

  <i><font color=#646464># Serves to layout &quot;Tools/e_menu&quot; tab.</font></i>

  <b><font color=#923B23>set</font></b> alited::al(EM,menu) [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$alited::al(EM</font>,menudir)  [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$alited::al(EM</font>,menu)]]
  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> x}}
    {.labExe - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Run as external app:&quot;</font>}}
    {.swiExe .labExe L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-var</font> alited::al(EM,exec) <font color=#463e11>-onvalue</font> yes <font color=#463e11>-offvalue</font> no}}
    {.labCS .labExe T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color scheme:&quot;</font>}}
    {.opc .labCS L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {::alited::pref::opcc2 alited::pref::opcColors {<font color=#463e11>-width</font> 20} {alited::pref::opcToolPre %a}}}
    {.labGeo .labCS T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Geometry:&quot;</font>}}
    {.entGeo .labGeo L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(EM,geometry) <font color=#463e11>-w</font> 40}}
    {.labDir .labGeo T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Directory of menus:&quot;</font>}}
    {.dirEM .labDir L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(EM,menudir) <font color=#463e11>-w</font> 40}}
    {.labMenu .labDir T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Main menu:&quot;</font>}}
    {.filMenu .labMenu L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(EM,menu) <font color=#463e11>-w</font> 40 <font color=#463e11>-filetypes</font> {{{Menus} .mnu} {{All files} .* }}}}
    {.labPD .labMenu T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Projects (%PD wildcard):&quot;</font>}}
    {.filPD .labPD L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(EM,PD=) <font color=#463e11>-w</font> 40}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::EmSeparators'>EmSeparators</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles separators of bar/menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EmSeparators</span> <span class='ruff_arg'>upd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>upd</code></code></td><td class='ruff_defitem'>if yes, displays the widgets of bar/menu settings.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_291' href="javascript:toggleSource('291')">Show source</a></p>
<div id='291' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::EmSeparators {upd} {

  <i><font color=#646464># Handles separators of bar/menu.</font></i>
  <i><font color=#646464>#   upd - if yes, displays the widgets of bar/menu settings.</font></i>
  fetchVars
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists em_sep(<font color=#4A181B>$i)</font>]} {
      <b><font color=#923B23>lassign</font></b> {} em_inf(<font color=#4A181B>$i)</font> em_mnu(<font color=#4A181B>$i)</font> em_ico(<font color=#4A181B>$i)</font> em_sep(<font color=#4A181B>$i)</font>
    }
    <b><font color=#923B23>set</font></b> em_sep(<font color=#4A181B>$i)</font> [<b><font color=#923B23>string</font></b> is true <font color=#463e11>-strict</font> <font color=#4A181B>$em_sep(</font>$i)]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$em_sep(</font>$i)} {
      <b><font color=#923B23>lassign</font></b> {} em_inf(<font color=#4A181B>$i)</font> em_mnu(<font color=#4A181B>$i)</font> em_ico(<font color=#4A181B>$i)</font>
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$upd</font>} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$em_sep(</font>$i)} {<b><font color=#923B23>set</font></b> state disabled} {<b><font color=#923B23>set</font></b> state normal}
      [<font color=#4A181B>$obDl2</font> ButMnu<font color=#4A181B>$i</font>] configure <font color=#463e11>-text</font> <font color=#4A181B>$em_mnu(</font>$i) <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
      [<font color=#4A181B>$obDl2</font> OpcIco<font color=#4A181B>$i</font>] configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$upd</font>} ScrollRuns
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::fetchVars'>fetchVars</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Delivers namespace variables to a caller.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>fetchVars</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_292' href="javascript:toggleSource('292')">Show source</a></p>
<div id='292' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::fetchVars {} {

  <i><font color=#646464># Delivers namespace variables to a caller.</font></i>

  <b><font color=#923B23>uplevel</font></b> 1 {
    <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
    <b><font color=#923B23>variable</font></b> win
    <b><font color=#923B23>variable</font></b> geo
    <b><font color=#923B23>variable</font></b> minsize
    <b><font color=#923B23>variable</font></b> data
    <b><font color=#923B23>variable</font></b> keys
    <b><font color=#923B23>variable</font></b> prevkeys
    <b><font color=#923B23>variable</font></b> savekeys
    <b><font color=#923B23>variable</font></b> arrayTab
    <b><font color=#923B23>variable</font></b> curTab
    <b><font color=#923B23>variable</font></b> oldTab
    <b><font color=#923B23>variable</font></b> opcThemes
    <b><font color=#923B23>variable</font></b> opc1
    <b><font color=#923B23>variable</font></b> opcColors
    <b><font color=#923B23>variable</font></b> opcc
    <b><font color=#923B23>variable</font></b> opcc2
    <b><font color=#923B23>variable</font></b> em_Num
    <b><font color=#923B23>variable</font></b> em_mnu
    <b><font color=#923B23>variable</font></b> em_ico
    <b><font color=#923B23>variable</font></b> em_sep
    <b><font color=#923B23>variable</font></b> em_inf
    <b><font color=#923B23>variable</font></b> em_Icons
    <b><font color=#923B23>variable</font></b> listIcons
    <b><font color=#923B23>variable</font></b> listMenus
    <b><font color=#923B23>variable</font></b> stdkeys
    <b><font color=#923B23>variable</font></b> stdkeysSize
    <b><font color=#923B23>variable</font></b> locales
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::fillCan'>fillCan</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>fillCan</span> <span class='ruff_arg'>w ?selected?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>selected</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_293' href="javascript:toggleSource('293')">Show source</a></p>
<div id='293' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::fillCan {w {selected no}} {

  fetchVars
  <b><font color=#923B23>catch</font></b> {<font color=#4A181B>$w</font> delete <font color=#4A181B>$data(CANVAS</font>,<font color=#4A181B>$w)</font>}
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obDl2</font> csGet] - - - bg - selbg - - - hotbg
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$selected</font>} {
    <b><font color=#923B23>set</font></b> bg <font color=#4A181B>$selbg</font>
    <font color=#4A181B>$w</font> configure <font color=#463e11>-highlightbackground</font> <font color=#4A181B>$hotbg</font>
  } <b><font color=#923B23>else</font></b> {
    <font color=#4A181B>$w</font> configure <font color=#463e11>-highlightbackground</font> <font color=#4A181B>$bg</font>
  }
  <b><font color=#923B23>set</font></b> data(CANVAS,<font color=#4A181B>$w)</font> [<font color=#4A181B>$w</font> create rectangle {0 0 10 100} <font color=#463e11>-fill</font> <font color=#4A181B>$bg</font> <font color=#463e11>-outline</font> <font color=#4A181B>$bg</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab1'>General_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_294' href="javascript:toggleSource('294')">Show source</a></p>
<div id='294' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::General_Tab1 {} {

  <i><font color=#646464># Serves to layout &quot;General&quot; tab.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> opcc [<b><font color=#923B23>set</font></b> opcc2 [msgcat::mc {-2: Default}]]
  <b><font color=#923B23>set</font></b> opcColors [<b><font color=#923B23>list</font></b> <font color=#035103>&quot;<font color=#4A181B>{$</font>opcc<font color=#4A181B>}</font>&quot;</font>]
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i -1; <b><font color=#923B23>set</font></b> n [apave::cs_MaxBasic]} {<font color=#4A181B>$i</font>&lt;=<font color=#4A181B>$n</font>} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {((<font color=#4A181B>$i</font>+2) % (<font color=#4A181B>$n</font>/2+2)) == 0} {<b><font color=#923B23>lappend</font></b> opcColors |}
    <b><font color=#923B23>set</font></b> csname [<font color=#4A181B>$obDl2</font> csGetName <font color=#4A181B>$i</font>]
    <b><font color=#923B23>lappend</font></b> opcColors [<b><font color=#923B23>list</font></b> <font color=#4A181B>$csname</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font> == <font color=#4A181B>$al(INI</font>,CS)} {<b><font color=#923B23>set</font></b> opcc <font color=#4A181B>$csname</font>}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font> == <font color=#4A181B>$al(EM</font>,CS)} {<b><font color=#923B23>set</font></b> opcc2 <font color=#4A181B>$csname</font>}
  }
  <b><font color=#923B23>set</font></b> lightdark [msgcat::mc {Light / Dark}]
  <b><font color=#923B23>set</font></b> opcThemes [<b><font color=#923B23>list</font></b> default clam classic alt -- <font color=#035103>&quot;<font color=#4A181B>{$</font>lightdark<font color=#4A181B>}</font> awlight awdark --  azure-light azure-dark -- forest-light forest-dark -- sun-valley-light sun-valley-dark&quot;</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> first <font color=#4A181B>$alited::al(THEME)</font> <font color=#4A181B>$opcThemes</font>]&lt;0} {
    <b><font color=#923B23>set</font></b> opc1 [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$opcThemes</font> 0]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> opc1 <font color=#4A181B>$alited::al(THEME)</font>
  }
  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra1 v_ T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1}}
    {.labTheme - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Ttk theme:&quot;</font>}}
    {.opc1 .labTheme L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {::alited::pref::opc1 alited::pref::opcThemes {<font color=#463e11>-width</font> 20 <font color=#463e11>-com</font> alited::pref::CbxTheme} {}}}
    {.labCS .labTheme T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Color scheme:&quot;</font>}}
    {.opc2 .labCS L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {::alited::pref::opcc alited::pref::opcColors {<font color=#463e11>-width</font> 20 <font color=#463e11>-com</font> alited::pref::CbxTheme} {alited::pref::opcToolPre %a}}}
    {.labHue .labCS T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Tint:&quot;</font>}}
    {.SpxHue .labHue L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(INI,HUE) <font color=#463e11>-from</font> -50 <font color=#463e11>-to</font> 50 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9 <font color=#463e11>-afteridle</font> alited::pref::CbxTheme <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,hue)}}}
    {seh_ .labHue T 1 2 {<font color=#463e11>-pady</font> 4}}
    {fra2 seh_ T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1}}
    {.labLocal - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Preferable locale:&quot;</font> <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,locale)}}}
    {.cbxLocal .labLocal L 1 1 {<font color=#463e11>-st</font> sew <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(LOCAL) <font color=#463e11>-values</font> {<font color=#4A181B>$alited::pref::locales</font>} <font color=#463e11>-w</font> 4 <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,locale)} <font color=#463e11>-state</font> readonly <font color=#463e11>-selcombobox</font> alited::pref::GetLocaleImage <font color=#463e11>-afteridle</font> alited::pref::GetLocaleImage}}
    {.LabLocales .cbxLocal L}
    {.labFon .labLocal T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Font:&quot;</font>}}
    {.fonTxt .labFon L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(FONT) <font color=#463e11>-w</font> 40}}
    {.labFsz1 .labFon T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Small font size:&quot;</font>}}
    {.spxFsz1 .labFsz1 L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(FONTSIZE,small) <font color=#463e11>-from</font> 8 <font color=#463e11>-to</font> 72 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labFsz2 .labFsz1 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Middle font size:&quot;</font>}}
    {.spxFsz2 .labFsz2 L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(FONTSIZE,std) <font color=#463e11>-from</font> 9 <font color=#463e11>-to</font> 72 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labCurw .labFsz2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Cursor width:&quot;</font>}}
    {.spxCurw .labCurw L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(CURSORWIDTH) <font color=#463e11>-from</font> 1 <font color=#463e11>-to</font> 8 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {seh_2 fra2 T 1 2 {<font color=#463e11>-pady</font> 4}}
    {lab seh_2 T 1 2 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 4 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Notes:&quot;</font>}}
    {fra3 lab T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-rw</font> 1 <font color=#463e11>-cw</font> 1}}
    {.TexNotes - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both <font color=#463e11>-padx</font> 3} {<font color=#463e11>-h</font> 20 <font color=#463e11>-w</font> 90 <font color=#463e11>-wrap</font> word <font color=#463e11>-tabnext</font> <font color=#4A181B>$alited::pref::win</font>.fra.fraB.butHelp <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,notes)}}}
    {.sbv .TexNotes L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab2'>General_Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General/Saving&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_295' href="javascript:toggleSource('295')">Show source</a></p>
<div id='295' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::General_Tab2 {} {

  <i><font color=#646464># Serves to layout &quot;General/Saving&quot; tab.</font></i>

  GetEmSave in
  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> y}}
    {.labConf - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Confirm exit:&quot;</font>}}
    {.swiConf .labConf L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(INI,confirmexit)}}
    {.seh1 .labConf T 1 4 {<font color=#463e11>-st</font> ew <font color=#463e11>-pady</font> 5}}
    {.labS .seh1 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Save configuration on&quot;</font>}}
    {.labSonadd .labS T 1 1 {<font color=#463e11>-st</font> e <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;opening a file:&quot;</font>}}
    {.swiOnadd .labSonadd L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(INI,save_onadd)}}
    {.labSonclose .labSonadd T 1 1 {<font color=#463e11>-st</font> e <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;closing a file:&quot;</font>}}
    {.swiOnclose .labSonclose L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(INI,save_onclose)}}
    {.labSonsave .labSonclose T 1 1 {<font color=#463e11>-st</font> e <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;saving a file:&quot;</font>}}
    {.swiOnsave .labSonsave L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(INI,save_onsave)}}
    {.seh2 .labSonsave T 1 4 {<font color=#463e11>-st</font> ew <font color=#463e11>-pady</font> 5}}
    {.labSave .seh2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Save before bar/menu runs:&quot;</font>}}
    {.cbxSave .labSave L 1 2 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-values</font> {<font color=#4A181B>$alited::al(pref</font>,saveonrun)} <font color=#463e11>-tvar</font> alited::al(EM,save) <font color=#463e11>-state</font> readonly <font color=#463e11>-w</font> 20}}
    {.seh3 .labSave T 1 4 {<font color=#463e11>-st</font> ew <font color=#463e11>-pady</font> 5}}
    {.labRecnt .seh3 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;'Recent Files' length:&quot;</font>}}
    {.spxRecnt .labRecnt L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(INI,RECENTFILES) <font color=#463e11>-from</font> 10 <font color=#463e11>-to</font> 50 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labMaxLast .labRecnt T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;'Last Visited' length:&quot;</font>}}
    {.spxMaxLast .labMaxLast L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(FAV,MAXLAST) <font color=#463e11>-from</font> 10 <font color=#463e11>-to</font> 100 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.labMaxFiles .labMaxLast T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Maximum of project files:&quot;</font>}}
    {.spxMaxFiles .labMaxFiles L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(MAXFILES) <font color=#463e11>-from</font> 1000 <font color=#463e11>-to</font> 9999 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9}}
    {.seh4 .labMaxFiles T 1 4 {<font color=#463e11>-st</font> ew <font color=#463e11>-pady</font> 5}}
    {.labBackup .seh4 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Back up files to a project's subdirectory:&quot;</font>}}
    {.CbxBackup .labBackup L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(BACKUP) <font color=#463e11>-values</font> {{} .bak} <font color=#463e11>-state</font> readonly <font color=#463e11>-w</font> 6 <font color=#463e11>-tip</font> <font color=#035103>&quot;A subdirectory of projects where backup copies of files will be saved to.\nSet the field blank to cancel the backup.&quot;</font> <font color=#463e11>-afteridle</font> alited::pref::CbxBackup <font color=#463e11>-selcombobox</font> alited::pref::CbxBackup}}
    {.labMaxBak .CbxBackup L 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 1} {<font color=#463e11>-t</font> <font color=#035103>&quot;  Maximum:&quot;</font>}}
    {.SpxMaxBak .labMaxBak L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 1} {<font color=#463e11>-tvar</font> alited::al(MAXBACKUP) <font color=#463e11>-from</font> 1 <font color=#463e11>-to</font> 99 <font color=#463e11>-justify</font> center <font color=#463e11>-w</font> 9 <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,maxbak)}}}
    {.labBell .labBackup T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Bell at warnings:&quot;</font>}}
    {.swiBell .labBell L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(INI,belltoll)}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab3'>General_Tab3</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General/Defaults&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_296' href="javascript:toggleSource('296')">Show source</a></p>
<div id='296' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::General_Tab3 {} {

  <i><font color=#646464># Serves to layout &quot;General/Defaults&quot; tab.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 10}
    {fra2 v_ T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1}}
    {.labDef - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> {Default values for new projects:}}}
    {.swiDef .labDef L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(PRJDEFAULT) <font color=#463e11>-com</font> alited::pref::CheckUseDef <font color=#463e11>-afteridle</font> alited::pref::CheckUseDef}}
    {.h_ .labDef T 1 2 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 8 <font color=#463e11>-padx</font> 3}}
    {.labIgn .h_ T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 8 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Skip subdirectories:&quot;</font>}}
    {.EntIgn .labIgn L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(DEFAULT,prjdirign) <font color=#463e11>-w</font> 50}}
    {.labEOL .labIgn T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;End of line:&quot;</font>}}
    {.CbxEOL .labEOL L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(DEFAULT,prjEOL) <font color=#463e11>-values</font> {{} LF CR CRLF} <font color=#463e11>-state</font> readonly <font color=#463e11>-w</font> 9}}
    {.labIndent .labEOL T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Indentation:&quot;</font>}}
    {.SpxIndent .labIndent L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(DEFAULT,prjindent) <font color=#463e11>-w</font> 9 <font color=#463e11>-from</font> 2 <font color=#463e11>-to</font> 8 <font color=#463e11>-justify</font> center}}
    {.ChbIndAuto .SpxIndent L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(DEFAULT,prjindentAuto) <font color=#463e11>-t</font> <font color=#035103>&quot;Auto detection&quot;</font>}}
    {.labRedunit .labIndent T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Unit lines per 1 red bar:&quot;</font>}}
    {.SpxRedunit .labRedunit L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(DEFAULT,prjredunit) <font color=#463e11>-w</font> 9 <font color=#463e11>-from</font> 10 <font color=#463e11>-to</font> 100 <font color=#463e11>-justify</font> center}}
    {.labMult .labRedunit T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Multi-line strings:&quot;</font> <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,notrecomm)}}}
    {.SwiMult .labMult L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(DEFAULT,prjmultiline) <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,notrecomm)}}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetCS'>GetCS</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a color scheme's index from <em>opcc</em> / <em>opcc2</em>  variable.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCS</span> <span class='ruff_arg'>?ncc?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ncc</code></code></td><td class='ruff_defitem'>{} for opcc, {2} for opcc2; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_297' href="javascript:toggleSource('297')">Show source</a></p>
<div id='297' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::GetCS {{ncc {}}} {

  <i><font color=#646464># Gets a color scheme's index from *opcc* / *opcc2*  variable.</font></i>
  <i><font color=#646464>#   ncc - {} for opcc, {2} for opcc2</font></i>

  fetchVars
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>scan</font></b> [<b><font color=#923B23>set</font></b> opcc<font color=#4A181B>$ncc</font>] %d:]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetEmSave'>GetEmSave</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a name of setting &quot;Save before run&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetEmSave</span> <span class='ruff_arg'>to</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>if &quot;in&quot;, gets a localized name; if &quot;out&quot;, gets English name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_298' href="javascript:toggleSource('298')">Show source</a></p>
<div id='298' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::GetEmSave {to} {

  <i><font color=#646464># Gets a name of setting &quot;Save before run&quot;.</font></i>
  <i><font color=#646464>#   to - if &quot;in&quot;, gets a localized name; if &quot;out&quot;, gets English name</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> savcur [msgcat::mc {Current file}]
  <b><font color=#923B23>set</font></b> savall [msgcat::mc {All files}]
  <b><font color=#923B23>set</font></b> al(pref,saveonrun) [<b><font color=#923B23>list</font></b> {} <font color=#4A181B>$savcur</font> <font color=#4A181B>$savall</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$to</font> eq {in}} {
    <b><font color=#923B23>switch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$al(EM</font>,save) {
      Current {<b><font color=#923B23>set</font></b> al(EM,save) <font color=#4A181B>$savcur</font>}
      All     {<b><font color=#923B23>set</font></b> al(EM,save) <font color=#4A181B>$savall</font>}
    }
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$al(EM</font>,save) eq <font color=#4A181B>$savcur</font>} {
    <b><font color=#923B23>set</font></b> al(EM,save) Current
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$al(EM</font>,save) eq <font color=#4A181B>$savall</font>} {
    <b><font color=#923B23>set</font></b> al(EM,save) All
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetKeyList'>GetKeyList</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a list of available (not engaged) key combinations.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetKeyList</span> <span class='ruff_arg'>nk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox that will get the list as -values option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_299' href="javascript:toggleSource('299')">Show source</a></p>
<div id='299' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::GetKeyList {nk} {

  <i><font color=#646464># Gets a list of available (not engaged) key combinations.</font></i>
  <i><font color=#646464>#   nk - index of combobox that will get the list as -values option</font></i>

  fetchVars
  RegisterKeys
  [<font color=#4A181B>$obDl2</font> CbxKey<font color=#4A181B>$nk</font>] configure <font color=#463e11>-values</font> [alited::keys::VacantList]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetLocaleImage'>GetLocaleImage</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetLocaleImage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_300' href="javascript:toggleSource('300')">Show source</a></p>
<div id='300' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::GetLocaleImage {} {

  fetchVars
  [<font color=#4A181B>$obDl2</font> LabLocales] configure <font color=#463e11>-image</font> alited::pref::LOC<font color=#4A181B>$alited::al(LOCAL)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a help on a current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_301' href="javascript:toggleSource('301')">Show source</a></p>
<div id='301' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Help {} {

  <i><font color=#646464># Shows a help on a current tab.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> sel [<b><font color=#923B23>lindex</font></b> [<b><font color=#923B23>split</font></b> [<font color=#4A181B>$win</font>.fra.fraR.<font color=#4A181B>$curTab</font> select] .] end]
  alited::Help <font color=#4A181B>$win</font> <font color=#035103>&quot;-<font color=#4A181B>${</font>curTab<font color=#4A181B>}</font>-<font color=#4A181B>$</font>sel&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::IniKeys'>IniKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets key settings at opening &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IniKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_302' href="javascript:toggleSource('302')">Show source</a></p>
<div id='302' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::IniKeys {} {

  <i><font color=#646464># Gets key settings at opening &quot;Preferences&quot; dialogue.</font></i>

  fetchVars
  <i><font color=#646464># default settings</font></i>
  <b><font color=#923B23>dict</font></b> for {k info} <font color=#4A181B>$stdkeys</font> {
    <b><font color=#923B23>set</font></b> keys(<font color=#4A181B>$k)</font> [<b><font color=#923B23>set</font></b> prevkeys(<font color=#4A181B>$k)</font> [<b><font color=#923B23>set</font></b> savekeys(<font color=#4A181B>$k)</font> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$info</font> 1]]]
  }
  <i><font color=#646464># new settings</font></i>
  <b><font color=#923B23>foreach</font></b> kitem [alited::keys::EngagedList preference] {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$kitem</font> key comi
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$comi</font> com k
    <b><font color=#923B23>set</font></b> keys(<font color=#4A181B>$k)</font> [<b><font color=#923B23>set</font></b> prevkeys(<font color=#4A181B>$k)</font> [<b><font color=#923B23>set</font></b> savekeys(<font color=#4A181B>$k)</font> <font color=#4A181B>$key</font>]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitLocales'>InitLocales</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates flag images to display at &quot;Preferable locale&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitLocales</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_303' href="javascript:toggleSource('303')">Show source</a></p>
<div id='303' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::InitLocales {} {

  <i><font color=#646464># Creates flag images to display at &quot;Preferable locale&quot;.</font></i>

  fetchVars
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$locales</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> imd [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::DATADIR</font> img]
  <b><font color=#923B23>set</font></b> locales [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> lm [<b><font color=#923B23>list</font></b> en {*}[<b><font color=#923B23>glob</font></b> <font color=#463e11>-nocomplain</font> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::MSGSDIR</font> *]]] {
    <b><font color=#923B23>set</font></b> loc [<b><font color=#923B23>file</font></b> rootname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$lm</font>]]
    <b><font color=#923B23>catch</font></b> { ;<i><font color=#646464># no duplicates due to 'catch'</font></i>
      <b><font color=#7A040E>image</font></b> create photo alited::pref::LOC<font color=#4A181B>$loc</font> <font color=#463e11>-file</font> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$imd</font> <font color=#4A181B>$loc</font>.png]
      <b><font color=#923B23>lappend</font></b> locales <font color=#4A181B>$loc</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::KeyAccelerator'>KeyAccelerator</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a key accelerator for a combobox of keys, bound to an action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyAccelerator</span> <span class='ruff_arg'>nk defk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox</td></tr>
<tr><td class='ruff_defitem'><code><code>defk</code></code></td><td class='ruff_defitem'>default key combination</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_304' href="javascript:toggleSource('304')">Show source</a></p>
<div id='304' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::KeyAccelerator {nk defk} {

  <i><font color=#646464># Gets a key accelerator for a combobox of keys, bound to an action.</font></i>
  <i><font color=#646464>#   nk - index of combobox</font></i>
  <i><font color=#646464>#   defk - default key combination</font></i>

  <b><font color=#923B23>set</font></b> acc [BindKey <font color=#4A181B>$nk</font> - <font color=#4A181B>$defk</font>]
  <b><font color=#A106A1>return</font></b> [::apave::KeyAccelerator <font color=#4A181B>$acc</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::KeyAccelerators'>KeyAccelerators</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a full list of key accelerators,</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyAccelerators</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_305' href="javascript:toggleSource('305')">Show source</a></p>
<div id='305' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::KeyAccelerators {} {

  <i><font color=#646464># Gets a full list of key accelerators,</font></i>

  fetchVars
  <b><font color=#923B23>dict</font></b> for {k info} <font color=#4A181B>$stdkeys</font> {
    <b><font color=#923B23>set</font></b> al(acc_<font color=#4A181B>$k)</font> [KeyAccelerator <font color=#4A181B>$k</font> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$info</font> 1]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Keys_Tab1'>Keys_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Keys&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Keys_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_306' href="javascript:toggleSource('306')">Show source</a></p>
<div id='306' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Keys_Tab1 {} {

  <i><font color=#646464># Serves to layout &quot;Keys&quot; tab.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> y}}
    {tcl {
        <b><font color=#923B23>set</font></b> pr -
        <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$alited::pref::stdkeysSize</font>} {<b><font color=#923B23>incr</font></b> i} {
          <b><font color=#923B23>set</font></b> lab <font color=#035103>&quot;lab<font color=#4A181B>$</font>i&quot;</font>
          <b><font color=#923B23>set</font></b> cbx <font color=#035103>&quot;CbxKey<font color=#4A181B>$</font>i&quot;</font>
          <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>dict</font></b> get <font color=#4A181B>$alited::pref::stdkeys</font> <font color=#4A181B>$i</font>] text key
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.<font color=#4A181B>$</font>lab <font color=#4A181B>$</font>pr T 1 1 <font color=#4A181B>{</font>-st w -pady 1 -padx 3<font color=#4A181B>}</font> <font color=#4A181B>{</font>-t \&quot;<font color=#4A181B>$</font>text\&quot;<font color=#4A181B>}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.<font color=#4A181B>$</font>cbx .<font color=#4A181B>$</font>lab L 1 1 <font color=#4A181B>{</font>-st we<font color=#4A181B>}</font> <font color=#4A181B>{</font>-tvar ::alited::pref::keys(<font color=#4A181B>$</font>i) -postcommand <font color=#4A181B>{</font>::alited::pref::GetKeyList <font color=#4A181B>$</font>i<font color=#4A181B>}</font> -selcombobox <font color=#4A181B>{</font>::alited::pref::SelectKey <font color=#4A181B>$</font>i<font color=#4A181B>}</font> -state readonly -h 16 -w 20<font color=#4A181B>}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> pr .<font color=#4A181B>$lab</font>
        }
    }}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::MainFrame'>MainFrame</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main frame of the dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MainFrame</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_307' href="javascript:toggleSource('307')">Show source</a></p>
<div id='307' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::MainFrame {} {

  <i><font color=#646464># Creates a main frame of the dialogue.</font></i>

  fetchVars
  <font color=#4A181B>$obDl2</font> untouchWidgets *.cannbk*
  <b><font color=#A106A1>return</font></b> {
    {fraL - - 1 1 {<font color=#463e11>-st</font> nws <font color=#463e11>-rw</font> 2}}
    {.ButHome - - 1 1 {<font color=#463e11>-st</font> we <font color=#463e11>-pady</font> 0} {<font color=#463e11>-t</font> <font color=#035103>&quot;General&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;alited::pref::Tab nbk&quot;</font> <font color=#463e11>-style</font> TButtonWest}}
    {.Cannbk .butHome L 1 1 {<font color=#463e11>-st</font> ns} {<font color=#463e11>-w</font> 2 <font color=#463e11>-h</font> 10 <font color=#463e11>-highlightthickness</font> 1 <font color=#463e11>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButChange .butHome T 1 1 {<font color=#463e11>-st</font> we <font color=#463e11>-pady</font> 1} {<font color=#463e11>-t</font> <font color=#035103>&quot;Editor&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;alited::pref::Tab nbk2&quot;</font> <font color=#463e11>-style</font> TButtonWest}}
    {.Cannbk2 .butChange L 1 1 {<font color=#463e11>-st</font> ns} {<font color=#463e11>-w</font> 2 <font color=#463e11>-h</font> 10 <font color=#463e11>-highlightthickness</font> 1 <font color=#463e11>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButCategories .butChange T 1 1 {<font color=#463e11>-st</font> we <font color=#463e11>-pady</font> 0} {<font color=#463e11>-t</font> <font color=#035103>&quot;Units&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;alited::pref::Tab nbk3&quot;</font> <font color=#463e11>-style</font> TButtonWest}}
    {.Cannbk3 .butCategories L 1 1 {<font color=#463e11>-st</font> ns} {<font color=#463e11>-w</font> 2 <font color=#463e11>-h</font> 10 <font color=#463e11>-highlightthickness</font> 1 <font color=#463e11>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButActions .butCategories T 1 1 {<font color=#463e11>-st</font> we <font color=#463e11>-pady</font> 1} {<font color=#463e11>-t</font> <font color=#035103>&quot;Templates&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;alited::pref::Tab nbk4&quot;</font> <font color=#463e11>-style</font> TButtonWest}}
    {.Cannbk4 .butActions L 1 1 {<font color=#463e11>-st</font> ns} {<font color=#463e11>-w</font> 2 <font color=#463e11>-h</font> 10 <font color=#463e11>-highlightthickness</font> 1 <font color=#463e11>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButKeys .butActions T 1 1 {<font color=#463e11>-st</font> we <font color=#463e11>-pady</font> 0} {<font color=#463e11>-image</font> alimg_kbd <font color=#463e11>-compound</font> left <font color=#463e11>-t</font> <font color=#035103>&quot;Keys&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;alited::pref::Tab nbk5&quot;</font> <font color=#463e11>-style</font> TButtonWest}}
    {.Cannbk5 .butKeys L 1 1 {<font color=#463e11>-st</font> ns} {<font color=#463e11>-w</font> 2 <font color=#463e11>-h</font> 10 <font color=#463e11>-highlightthickness</font> 1 <font color=#463e11>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButTools .butKeys T 1 1 {<font color=#463e11>-st</font> we <font color=#463e11>-pady</font> 1} {<font color=#463e11>-t</font> <font color=#035103>&quot;Tools&quot;</font> <font color=#463e11>-com</font> <font color=#035103>&quot;alited::pref::Tab nbk6&quot;</font> <font color=#463e11>-style</font> TButtonWest}}
    {.Cannbk6 .butTools L 1 1 {<font color=#463e11>-st</font> ns} {<font color=#463e11>-w</font> 2 <font color=#463e11>-h</font> 10 <font color=#463e11>-highlightthickness</font> 1 <font color=#463e11>-afteridle</font> {alited::pref::fillCan %w}}}
    {.v_  .butTools T 1 1 {<font color=#463e11>-st</font> ns} {<font color=#463e11>-h</font> 30}}
    {fraR fraL L 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1}}
    {fraR.Nbk - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {
        f1 {<font color=#463e11>-t</font> View}
        f2 {<font color=#463e11>-t</font> Saving}
        f3 {<font color=#463e11>-t</font> Projects}
    }}
    {fraR.nbk2 - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> top} {
        f1 {<font color=#463e11>-t</font> Editor}
        f2 {<font color=#463e11>-t</font> <font color=#035103>&quot;Tcl syntax&quot;</font>}
        f3 {<font color=#463e11>-t</font> <font color=#035103>&quot;C/C++ syntax&quot;</font>}
    }}
    {fraR.nbk3 - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> top} {
        f1 {<font color=#463e11>-t</font> Units}
    }}
    {fraR.nbk4 - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> top} {
        f1 {<font color=#463e11>-t</font> Templates}
    }}
    {fraR.nbk5 - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> top} {
        f1 {<font color=#463e11>-t</font> Keys}
    }}
    {fraR.nbk6 - - - - {<b><font color=#7A040E>pack</font></b> forget <font color=#463e11>-side</font> top} {
        f1 {<font color=#463e11>-t</font> Common}
        f2 {<font color=#463e11>-t</font> e_menu}
        f3 {<font color=#463e11>-t</font> bar/menu}
        f4 {<font color=#463e11>-t</font> tkcon}
    }}
    {#LabMess fraL T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 0 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-style</font> TLabelFS}}
    {seh fraL T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 2}}
    {fraB seh T 1 2 {<font color=#463e11>-st</font> nsew} {<font color=#463e11>-padding</font> {2 2}}}
    {.butHelp - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;Help&quot;</font> <font color=#463e11>-com</font> ::alited::pref::Help}}
    {.LabMess - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both <font color=#463e11>-padx</font> 8} {<font color=#463e11>-w</font> 50}}
    {.butOK - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-anchor</font> s <font color=#463e11>-padx</font> 2} {<font color=#463e11>-t</font> Save <font color=#463e11>-command</font> ::alited::pref::Ok}}
    {.butCancel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-anchor</font> s} {<font color=#463e11>-t</font> Cancel <font color=#463e11>-command</font> ::alited::pref::Cancel}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handler of &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_308' href="javascript:toggleSource('308')">Show source</a></p>
<div id='308' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Ok {args} {

  <i><font color=#646464># Handler of &quot;OK&quot; button.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> ans [alited::msg yesnocancel info [msgcat::mc <font color=#035103>&quot;For the settings to be active\nthe application should be restarted.\n\nRestart it just now?&quot;</font>] YES <font color=#463e11>-geometry</font> root=<font color=#4A181B>$win</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ans</font> in {1 2}} {
    GetEmSave out
    <i><font color=#646464># check options that can make alited unusable</font></i>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(INI</font>,HUE)&lt;-50 || <font color=#4A181B>$al(INI</font>,HUE)&gt;50} {<b><font color=#923B23>set</font></b> al(INI,HUE) 0}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FONTSIZE</font>,small)&lt;8 || <font color=#4A181B>$al(FONTSIZE</font>,small)&gt;72} {<b><font color=#923B23>set</font></b> al(FONTSIZE,small) 10}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FONTSIZE</font>,std)&lt;9 || <font color=#4A181B>$al(FONTSIZE</font>,std)&gt;72} {<b><font color=#923B23>set</font></b> al(FONTSIZE,std) 11}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(INI</font>,RECENTFILES)&lt;10 || <font color=#4A181B>$al(INI</font>,RECENTFILES)&gt;50} {<b><font color=#923B23>set</font></b> al(INI,RECENTFILES) 16}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FAV</font>,MAXLAST)&lt;10 || <font color=#4A181B>$al(FAV</font>,MAXLAST)&gt;100} {<b><font color=#923B23>set</font></b> al(FAV,MAXLAST) 100}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(MAXFILES)</font>&lt;1000 || <font color=#4A181B>$al(MAXFILES)</font>&gt;9999} {<b><font color=#923B23>set</font></b> al(MAXFILES) 2000}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(INI</font>,barlablen)&lt;10 || <font color=#4A181B>$al(INI</font>,barlablen)&gt;100} {<b><font color=#923B23>set</font></b> al(INI,barlablen) 16}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(INI</font>,bartiplen)&lt;10 || <font color=#4A181B>$al(INI</font>,bartiplen)&gt;100} {<b><font color=#923B23>set</font></b> al(INI,bartiplen) 32}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(CURSORWIDTH)</font>&lt;1 || <font color=#4A181B>$al(CURSORWIDTH)</font>&gt;8} {<b><font color=#923B23>set</font></b> al(CURSORWIDTH) 2}
    <b><font color=#923B23>set</font></b> al(THEME) <font color=#4A181B>$opc1</font>
    <b><font color=#923B23>set</font></b> al(INI,CS) [GetCS]
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> is integer <font color=#463e11>-strict</font> <font color=#4A181B>$al(INI</font>,CS)]} {<b><font color=#923B23>set</font></b> al(INI,CS) -1}
    <b><font color=#923B23>set</font></b> al(EM,CS)  [GetCS 2]
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> is integer <font color=#463e11>-strict</font> <font color=#4A181B>$al(EM</font>,CS)]} {<b><font color=#923B23>set</font></b> al(EM,CS) -1}
    <b><font color=#923B23>set</font></b> al(ED,TclKeyWords) [[<font color=#4A181B>$obDl2</font> TexTclKeys] get 1.0 {end -1c}]
    <b><font color=#923B23>set</font></b> al(ED,TclKeyWords) [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \n { }] <font color=#4A181B>$al(ED</font>,TclKeyWords)]
    <b><font color=#923B23>set</font></b> al(ED,CKeyWords) [[<font color=#4A181B>$obDl2</font> TexCKeys] get 1.0 {end -1c}]
    <b><font color=#923B23>set</font></b> al(ED,CKeyWords) [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \n { }] <font color=#4A181B>$al(ED</font>,CKeyWords)]
    <b><font color=#923B23>set</font></b> al(BACKUP) [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$al(BACKUP)</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(EM</font>,Tcl) ne {}} {<b><font color=#923B23>set</font></b> al(TCLPREV) <font color=#4A181B>$al(EM</font>,Tcl)}  ;<i><font color=#646464># to remove &quot;bad one&quot;</font></i>
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$al(TCLLIST)</font> <font color=#4A181B>$al(TCLPREV)</font>]]&gt;-1} {
      <b><font color=#923B23>set</font></b> al(TCLLIST) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(TCLLIST)</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
    }
    <b><font color=#923B23>set</font></b> al(TCLLIST) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(TCLLIST)</font> 16 end]
    <b><font color=#923B23>set</font></b> al(EM,TclList) <font color=#4A181B>$al(EM</font>,Tcl)
    <b><font color=#923B23>foreach</font></b> tcl <font color=#4A181B>$al(TCLLIST)</font> {<b><font color=#923B23>append</font></b> al(EM,TclList) \t <font color=#4A181B>$tcl</font>}
    <b><font color=#923B23>set</font></b> al(EM,TclList) [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$al(EM</font>,TclList)]
    <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 1
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ans</font> == 1} {alited::Exit - 1 no}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::opcIcoPre'>opcIcoPre</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an item for icon list of a bar/menu action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>opcIcoPre</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains a name of current icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_309' href="javascript:toggleSource('309')">Show source</a></p>
<div id='309' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::opcIcoPre {args} {

  <i><font color=#646464># Gets an item for icon list of a bar/menu action.</font></i>
  <i><font color=#646464>#   args - contains a name of current icon</font></i>

  fetchVars
  <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$args</font> a
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>lsearch</font></b> <font color=#4A181B>$listIcons</font> <font color=#4A181B>$a</font>]]&gt;-1} {
    <b><font color=#923B23>set</font></b> img [::apave::iconImage [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$listIcons</font> <font color=#4A181B>$i</font>]]
    <b><font color=#923B23>set</font></b> res <font color=#035103>&quot;-image <font color=#4A181B>$</font>img&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> res <font color=#035103>&quot;-image alimg_none&quot;</font>
  }
  <b><font color=#923B23>append</font></b> res <font color=#035103>&quot; -compound left -label <font color=#4A181B>$</font>a&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::opcToolPre'>opcToolPre</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets colors for &quot;Color schemes&quot; items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>opcToolPre</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>a color scheme's index and name, separated by &quot;:&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_310' href="javascript:toggleSource('310')">Show source</a></p>
<div id='310' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::opcToolPre {args} {

  <i><font color=#646464># Gets colors for &quot;Color schemes&quot; items.</font></i>
  <i><font color=#646464>#   args - a color scheme's index and name, separated by &quot;:&quot;</font></i>

  <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$args</font> a
  <b><font color=#923B23>set</font></b> a [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$a</font> :]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is integer <font color=#4A181B>$a</font>]} {
    <b><font color=#923B23>lassign</font></b> [::apave::obj csGet <font color=#4A181B>$a</font>] - fg - bg
    <b><font color=#A106A1>return</font></b> <font color=#035103>&quot;-background <font color=#4A181B>$</font>bg -foreground <font color=#4A181B>$</font>fg&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#A106A1>return</font></b> {}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::PickMenuItem'>PickMenuItem</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects e_menu's action for a &quot;bar/menu&quot; item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickMenuItem</span> <span class='ruff_arg'>it</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>it</code></code></td><td class='ruff_defitem'>index of &quot;bar/menu&quot; item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_311' href="javascript:toggleSource('311')">Show source</a></p>
<div id='311' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::PickMenuItem {it} {

  <i><font color=#646464># Selects e_menu's action for a &quot;bar/menu&quot; item.</font></i>
  <i><font color=#646464>#   it - index of &quot;bar/menu&quot; item</font></i>

  fetchVars
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists ::em::geometry]} {
    <b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::e_menu_dir</font> e_menu.tcl]
  }
  <b><font color=#923B23>set</font></b> w [<font color=#4A181B>$obDl2</font> ButMnu<font color=#4A181B>$it</font>]
  <b><font color=#923B23>set</font></b> X [<b><font color=#7A040E>winfo</font></b> rootx <font color=#4A181B>$w</font>]
  <b><font color=#923B23>set</font></b> Y [<b><font color=#7A040E>winfo</font></b> rooty <font color=#4A181B>$w</font>]
  <b><font color=#923B23>set</font></b> res [::em::main <font color=#463e11>-prior</font> 1 <font color=#463e11>-modal</font> 1 <font color=#463e11>-remain</font> 0 <font color=#463e11>-noCS</font> 1  {*}[alited::tool::EM_Options <font color=#035103>&quot;pk=yes dk=dock o=0 t=1 g=+<font color=#4A181B>[</font>incr X 5<font color=#4A181B>]</font>+<font color=#4A181B>[</font>incr Y 25<font color=#4A181B>]</font>&quot;</font>]]
  <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$res</font> menu idx item
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font> ne {}} {
    <b><font color=#923B23>set</font></b> i [<b><font color=#923B23>lindex</font></b> [alited::tool::EM_Structure <font color=#4A181B>$menu</font>] <font color=#4A181B>$idx</font>-1 1]
    <b><font color=#923B23>set</font></b> item2 [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$i</font> [<b><font color=#923B23>string</font></b> first - <font color=#4A181B>$i</font>]+1 end]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item2</font> ne <font color=#4A181B>$item</font> && [<b><font color=#923B23>string</font></b> match *.mnu <font color=#4A181B>$item2</font>]} {
      <b><font color=#923B23>append</font></b> item2 <font color=#035103>&quot;: <font color=#4A181B>$</font>item&quot;</font>  ;<i><font color=#646464># it's a menu call title</font></i>
      <b><font color=#923B23>set</font></b> idx - ;<i><font color=#646464># to open the whole menu</font></i>
    }
    <font color=#4A181B>$w</font> configure <font color=#463e11>-text</font> <font color=#4A181B>$item2</font>
    <b><font color=#923B23>set</font></b> em_mnu(<font color=#4A181B>$it)</font> <font color=#4A181B>$item2</font>
    <b><font color=#923B23>set</font></b> em_inf(<font color=#4A181B>$it)</font> [<b><font color=#923B23>list</font></b> [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$menu</font>] <font color=#4A181B>$idx</font> <font color=#4A181B>$item2</font>]
    ScrollRuns
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::RegisterKeys'>RegisterKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds key bindings to keys array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RegisterKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_312' href="javascript:toggleSource('312')">Show source</a></p>
<div id='312' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::RegisterKeys {} {

  <i><font color=#646464># Adds key bindings to keys array.</font></i>

  fetchVars
  alited::keys::Delete preference
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> k 0} {<font color=#4A181B>$k</font>&lt;<font color=#4A181B>$stdkeysSize</font>} {<b><font color=#923B23>incr</font></b> k} {
    alited::keys::Add preference <font color=#4A181B>$k</font> [<b><font color=#923B23>set</font></b> keys(<font color=#4A181B>$k)</font>] <font color=#035103>&quot;alited::pref::BindKey <font color=#4A181B>$</font>k <font color=#4A181B>{</font>%k<font color=#4A181B>}</font>&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ReservedIcons'>ReservedIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of icons already engaged by alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedIcons</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of icons already engaged by alited.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_313' href="javascript:toggleSource('313')">Show source</a></p>
<div id='313' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::ReservedIcons {} {

  <i><font color=#646464># Returns a list of icons already engaged by alited.</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> file OpenFile box SaveFile saveall undo redo help replace run other ok color]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::RestoreSettings'>RestoreSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores original settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_314' href="javascript:toggleSource('314')">Show source</a></p>
<div id='314' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::RestoreSettings {} {

  <i><font color=#646464># Restores original settings.</font></i>

  fetchVars
  <b><font color=#923B23>foreach</font></b> o [SavedOptions] {
    <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> al(<font color=#4A181B>$o)</font> <font color=#4A181B>$data(</font>$o)}
  }
  <b><font color=#923B23>dict</font></b> for {k info} <font color=#4A181B>$stdkeys</font> {
    <b><font color=#923B23>set</font></b> keys(<font color=#4A181B>$k)</font> <font color=#4A181B>$savekeys(</font>$k)
    SelectKey <font color=#4A181B>$k</font>
  }
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>set</font></b> em_mnu(<font color=#4A181B>$i)</font> <font color=#4A181B>$data(em_mnu</font>,<font color=#4A181B>$i)</font>
      <b><font color=#923B23>set</font></b> em_ico(<font color=#4A181B>$i)</font> <font color=#4A181B>$data(em_ico</font>,<font color=#4A181B>$i)</font>
      <b><font color=#923B23>set</font></b> em_sep(<font color=#4A181B>$i)</font> <font color=#4A181B>$data(em_sep</font>,<font color=#4A181B>$i)</font>
      <b><font color=#923B23>set</font></b> em_inf(<font color=#4A181B>$i)</font> <font color=#4A181B>$data(em_inf</font>,<font color=#4A181B>$i)</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Runs_Tab'>Runs_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and layouts &quot;Tools/bar/menu&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Runs_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_315' href="javascript:toggleSource('315')">Show source</a></p>
<div id='315' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Runs_Tab {} {

  <i><font color=#646464># Prepares and layouts &quot;Tools/bar/menu&quot; tab.</font></i>

  fetchVars
  <i><font color=#646464># get a list of all available icons for &quot;bar/menu&quot; actions</font></i>
  <b><font color=#923B23>set</font></b> listIcons [::apave::iconImage]
  <b><font color=#923B23>set</font></b> em_Icons [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> n [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$listIcons</font>]
  <b><font color=#923B23>set</font></b> icr 0
  <b><font color=#923B23>set</font></b> ncr 0
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;(<font color=#4A181B>$n</font>+43)} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$icr</font> && (<font color=#4A181B>$icr</font> % 13) == 0} {<b><font color=#923B23>lappend</font></b> em_Icons |}
    <b><font color=#923B23>set</font></b> ii [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$icr</font>-<font color=#4A181B>$ncr</font>}]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$n</font>} {
      <b><font color=#923B23>set</font></b> ico [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$listIcons</font> <font color=#4A181B>$i</font>]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ico</font> in [ReservedIcons]} <b><font color=#923B23>continue</font></b>
      <b><font color=#923B23>lappend</font></b> em_Icons <font color=#4A181B>$ico</font>
      <b><font color=#923B23>incr</font></b> ncr
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$ii</font>&lt;10} {
      <b><font color=#923B23>lappend</font></b> em_Icons <font color=#4A181B>$ii</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>lappend</font></b> em_Icons [<b><font color=#923B23>string</font></b> index [TextIcons] [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$ii</font> -10}]]
    }
    <b><font color=#923B23>incr</font></b> icr
  }
  EmSeparators no
  <i><font color=#646464># get a layout of &quot;bar/menu&quot; tab</font></i>
  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1} {<font color=#463e11>-afteridle</font> {::alited::pref::EmSeparators yes}}}
    {fra.ScfRuns - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1}}
    {tcl {
        <b><font color=#923B23>set</font></b> prt <font color=#035103>&quot;- -&quot;</font>
        <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$::alited::pref::em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
          <b><font color=#923B23>set</font></b> nit [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>+1}]
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.buTAdd<font color=#4A181B>$</font>i <font color=#4A181B>$</font>prt 1 1 <font color=#4A181B>{</font>-padx 0<font color=#4A181B>}</font> <font color=#4A181B>{</font>-tip <font color=#4A181B>{</font>Inserts a new line.<font color=#4A181B>}</font> -com <font color=#4A181B>{</font>::alited::pref::EmAddLine <font color=#4A181B>$</font>i<font color=#4A181B>}</font> -takefocus 0 -relief flat -image alimg_add<font color=#4A181B>}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.buTDel<font color=#4A181B>$</font>i .buTAdd<font color=#4A181B>$</font>i L 1 1 <font color=#4A181B>{</font>-padx 1<font color=#4A181B>}</font> <font color=#4A181B>{</font>-tip <font color=#4A181B>{</font>Deletes a line.<font color=#4A181B>}</font> -com <font color=#4A181B>{</font>::alited::pref::EmDelLine <font color=#4A181B>$</font>i<font color=#4A181B>}</font> -takefocus 0 -relief flat -image alimg_delete<font color=#4A181B>}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.lab<font color=#4A181B>$</font>i .buTDel<font color=#4A181B>$</font>i L 1 1 <font color=#4A181B>{</font>-st w -padx 3<font color=#4A181B>}</font> <font color=#4A181B>{</font>-t <font color=#4A181B>{$</font>alited::al(MC,Item)<font color=#4A181B>$</font>nit<font color=#4A181B>}}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.ChbMT<font color=#4A181B>$</font>i .lab<font color=#4A181B>$</font>i L 1 1 <font color=#4A181B>{</font>-padx 10<font color=#4A181B>}</font> <font color=#4A181B>{</font>-t separator -var ::alited::pref::em_sep(<font color=#4A181B>$</font>i) -tip <font color=#4A181B>{</font>If 'yes', means a separator of the toolbar/menu.<font color=#4A181B>}</font> -com <font color=#4A181B>{</font>::alited::pref::EmSeparators yes<font color=#4A181B>}}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.OpcIco<font color=#4A181B>$</font>i .ChbMT<font color=#4A181B>$</font>i L 1 1 <font color=#4A181B>{</font>-st nsw<font color=#4A181B>}</font> <font color=#4A181B>{</font>::alited::pref::em_ico(<font color=#4A181B>$</font>i) alited::pref::em_Icons <font color=#4A181B>{</font>-width 10 -tooltip <font color=#4A181B>{{</font>An icon puts the run into the toolbar.\nBlank or 'none' excludes it from the toolbar.<font color=#4A181B>}}}</font> <font color=#4A181B>{</font>alited::pref::opcIcoPre %a<font color=#4A181B>}}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> lwid <font color=#035103>&quot;.ButMnu<font color=#4A181B>$</font>i .OpcIco<font color=#4A181B>$</font>i L 1 1 <font color=#4A181B>{</font>-st sw -pady 1 -padx 10<font color=#4A181B>}</font> <font color=#4A181B>{</font>-t <font color=#4A181B>{$</font>::alited::pref::em_mnu(<font color=#4A181B>$</font>i)<font color=#4A181B>}</font> -com <font color=#4A181B>{</font>alited::pref::PickMenuItem <font color=#4A181B>$</font>i<font color=#4A181B>}</font> -style TButtonWest -tip <font color=#4A181B>{{</font>The run item for the menu and/or the toolbar.\nSelect it from the e_menu items.<font color=#4A181B>}}}</font>&quot;</font>
          %C <font color=#4A181B>$lwid</font>
          <b><font color=#923B23>set</font></b> prt <font color=#035103>&quot;.buTAdd<font color=#4A181B>$</font>i T&quot;</font>
      }}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SavedOptions'>SavedOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of names of main settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SavedOptions</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of names of main settings.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_316' href="javascript:toggleSource('316')">Show source</a></p>
<div id='316' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::SavedOptions {} {

  <i><font color=#646464># Returns a list of names of main settings.</font></i>

  fetchVars
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>array</font></b> name al]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SaveSettings'>SaveSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves original settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_317' href="javascript:toggleSource('317')">Show source</a></p>
<div id='317' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::SaveSettings {} {

  <i><font color=#646464># Saves original settings.</font></i>

  fetchVars
  <b><font color=#923B23>foreach</font></b> o [SavedOptions] {
    <b><font color=#923B23>set</font></b> data(<font color=#4A181B>$o)</font> <font color=#4A181B>$al(</font>$o)
  }
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$em_Num</font>} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>set</font></b> data(em_mnu,<font color=#4A181B>$i)</font> <font color=#4A181B>$em_mnu(</font>$i)
      <b><font color=#923B23>set</font></b> data(em_ico,<font color=#4A181B>$i)</font> <font color=#4A181B>$em_ico(</font>$i)
      <b><font color=#923B23>set</font></b> data(em_sep,<font color=#4A181B>$i)</font> <font color=#4A181B>$em_sep(</font>$i)
      <b><font color=#923B23>set</font></b> data(em_inf,<font color=#4A181B>$i)</font> <font color=#4A181B>$em_inf(</font>$i)
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ScrollRuns'>ScrollRuns</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates scrollbars of bar/menu tab because its contents may have various length.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ScrollRuns</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_318' href="javascript:toggleSource('318')">Show source</a></p>
<div id='318' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::ScrollRuns {} {

  <i><font color=#646464># Updates scrollbars of bar/menu tab because its contents may have various length.</font></i>

  fetchVars
  <b><font color=#923B23>update</font></b>
  ::apave::sframe resize [<font color=#4A181B>$obDl2</font> ScfRuns]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SelectKey'>SelectKey</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &lt;<ComboboxSelected>&gt; event on a combobox of keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectKey</span> <span class='ruff_arg'>nk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_319' href="javascript:toggleSource('319')">Show source</a></p>
<div id='319' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::SelectKey {nk} {

  <i><font color=#646464># Handles &lt;&lt;ComboboxSelected&gt;&gt; event on a combobox of keys.</font></i>
  <i><font color=#646464>#   nk - index of combobox</font></i>

  fetchVars
  alited::keys::Delete {} <font color=#4A181B>$prevkeys(</font>$nk)
  <b><font color=#923B23>set</font></b> prevkeys(<font color=#4A181B>$nk)</font> <font color=#4A181B>$keys(</font>$nk)
  GetKeyList <font color=#4A181B>$nk</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tab'>Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles changing tabs of notebooks.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab</span> <span class='ruff_arg'>tab ?nt? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>name of notebook</td></tr>
<tr><td class='ruff_defitem'><code><code>nt</code></code></td><td class='ruff_defitem'>tab of notebook; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, forces changing tabs; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>At changing the current notebook: we need to save the old selection in order to restore the selection at returning to the notebook.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_320' href="javascript:toggleSource('320')">Show source</a></p>
<div id='320' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Tab {tab {nt {}} {doit no}} {

  <i><font color=#646464># Handles changing tabs of notebooks.</font></i>
  <i><font color=#646464>#   tab - name of notebook</font></i>
  <i><font color=#646464>#   nt - tab of notebook</font></i>
  <i><font color=#646464>#   doit - if yes, forces changing tabs.</font></i>
  <i><font color=#646464># At changing the current notebook: we need to save the old selection</font></i>
  <i><font color=#646464># in order to restore the selection at returning to the notebook.</font></i>
  fetchVars
  <b><font color=#923B23>foreach</font></b> nbk {nbk nbk2 nbk3 nbk4 nbk5 nbk6} {fillCan [<font color=#4A181B>$obDl2</font> Can<font color=#4A181B>$nbk</font>]}
  <b><font color=#923B23>foreach</font></b> but {Home Change Categories Actions Keys Tools} {
    [<font color=#4A181B>$obDl2</font> But<font color=#4A181B>$but</font>] configure <font color=#463e11>-style</font> TButtonWest
  }
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$tab</font> {
    nbk  {<b><font color=#923B23>set</font></b> but Home}
    nbk2 {<b><font color=#923B23>set</font></b> but Change}
    nbk3 {<b><font color=#923B23>set</font></b> but Categories}
    nbk4 {<b><font color=#923B23>set</font></b> but Actions}
    nbk5 {<b><font color=#923B23>set</font></b> but Keys}
    nbk6 {<b><font color=#923B23>set</font></b> but Tools}
  }
  [<font color=#4A181B>$obDl2</font> But<font color=#4A181B>$but</font>] configure <font color=#463e11>-style</font> TButtonWestHL
  fillCan [<font color=#4A181B>$obDl2</font> Can<font color=#4A181B>$tab</font>] yes
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tab</font> ne <font color=#4A181B>$curTab</font> || <font color=#4A181B>$doit</font>} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$curTab</font> ne {}} {
      <b><font color=#923B23>set</font></b> arrayTab(<font color=#4A181B>$curTab)</font> [<font color=#4A181B>$win</font>.fra.fraR.<font color=#4A181B>$curTab</font> select]
      <b><font color=#7A040E>pack</font></b> forget <font color=#4A181B>$win</font>.fra.fraR.<font color=#4A181B>$curTab</font>
    }
    <b><font color=#923B23>set</font></b> curTab <font color=#4A181B>$tab</font>
    <b><font color=#7A040E>pack</font></b> <font color=#4A181B>$win</font>.fra.fraR.<font color=#4A181B>$curTab</font> <font color=#463e11>-expand</font> yes <font color=#463e11>-fill</font> both
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$nt</font> eq {}} {<b><font color=#923B23>set</font></b> nt <font color=#4A181B>$arrayTab(</font>$curTab)}
      <font color=#4A181B>$win</font>.fra.fraR.<font color=#4A181B>$curTab</font> select <font color=#4A181B>$nt</font>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tab</font> eq {nbk2}} {
    <i><font color=#646464># check if a color scheme is switched light/dark - if yes, disable colors</font></i>
    <b><font color=#923B23>set</font></b> light1 [::apave::obj csDarkEdit <font color=#4A181B>$data(INI</font>,CS)]
    <b><font color=#923B23>set</font></b> light2 [::apave::obj csDarkEdit [GetCS]]
    <b><font color=#923B23>if</font></b> { <font color=#4A181B>$light1</font> != <font color=#4A181B>$light2</font>} {
      <b><font color=#923B23>set</font></b> msg [msgcat::mc {Color scheme's light changed. Color fields disabled.}]
      alited::Message <font color=#4A181B>$msg</font> 3 [<font color=#4A181B>$obDl2</font> LabMess]
      <b><font color=#923B23>set</font></b> state disabled
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> state normal
    }
    <b><font color=#923B23>foreach</font></b> fra {FraTab2 FraTab3} {
      <b><font color=#923B23>foreach</font></b> a [<b><font color=#7A040E>winfo</font></b> children [<font color=#4A181B>$obDl2</font> <font color=#4A181B>$fra</font>]] {
        <b><font color=#923B23>foreach</font></b> b [<b><font color=#7A040E>winfo</font></b> children <font color=#4A181B>$a</font>] {
          <b><font color=#923B23>foreach</font></b> c [<b><font color=#7A040E>winfo</font></b> children <font color=#4A181B>$b</font>] {
            <b><font color=#923B23>foreach</font></b> d [<b><font color=#7A040E>winfo</font></b> children <font color=#4A181B>$c</font>] {
              <b><font color=#923B23>foreach</font></b> e [<b><font color=#7A040E>winfo</font></b> children <font color=#4A181B>$d</font>] {
                <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> first clr <font color=#4A181B>$e</font>]&gt;0 || [<b><font color=#923B23>string</font></b> first but <font color=#4A181B>$e</font>]&gt;0} {
                  <b><font color=#923B23>catch</font></b> {<font color=#4A181B>$e</font> configure <font color=#463e11>-state</font> <font color=#4A181B>$state</font>}
                }
              }
            }
          }
        }
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::TclSyntax_Default'>TclSyntax_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets default colors to highlight Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TclSyntax_Default</span> <span class='ruff_arg'>?init?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>init</code></code></td><td class='ruff_defitem'>yes, if only variables should be initialized; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_321' href="javascript:toggleSource('321')">Show source</a></p>
<div id='321' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::TclSyntax_Default {{init no}} {

  <i><font color=#646464># Sets default colors to highlight Tcl.</font></i>
  <i><font color=#646464>#   init - yes, if only variables should be initialized.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> al(TclExtensions) <font color=#4A181B>$al(TclExtensionsDef)</font>
  <b><font color=#923B23>set</font></b> Dark [::apave::obj csDarkEdit]
  <b><font color=#923B23>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#923B23>set</font></b> clrvals [::hl_tcl::hl_colors {} <font color=#4A181B>$Dark</font>]
  <b><font color=#923B23>foreach</font></b> nam <font color=#4A181B>$clrnams</font> val <font color=#4A181B>$clrvals</font> {
    <b><font color=#923B23>set</font></b> al(ED,<font color=#4A181B>$nam)</font> <font color=#4A181B>$val</font>
  }
  <b><font color=#923B23>set</font></b> al(ED,Dark) <font color=#4A181B>$Dark</font>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$init</font>} {UpdateSyntaxTab {}}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Template_Tab'>Template_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Template&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Template_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_322' href="javascript:toggleSource('322')">Show source</a></p>
<div id='322' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Template_Tab {} {

  <i><font color=#646464># Serves to layout &quot;Template&quot; tab.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1}}
    {.labH - - 1 2 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Enter %U, %u, %m, %w, %d, %t wildcards of templates:&quot;</font>}}
    {.labU .labH T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;User name:&quot;</font>}}
    {.entU .labU L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(TPL,%U) <font color=#463e11>-w</font> 40}}
    {.labu .labU T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-anc</font> e <font color=#463e11>-t</font> <font color=#035103>&quot;Login:&quot;</font>}}
    {.entu .labu L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(TPL,%u) <font color=#463e11>-w</font> 30}}
    {.labm .labu T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;E-mail:&quot;</font>}}
    {.entm .labm L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(TPL,%m) <font color=#463e11>-w</font> 40}}
    {.labw .labm T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;WWW:&quot;</font>}}
    {.entw .labw L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(TPL,%w) <font color=#463e11>-w</font> 40}}
    {.labd .labw T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Date format:&quot;</font>}}
    {.entd .labd L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(TPL,%d) <font color=#463e11>-w</font> 30}}
    {.labt .labd T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Time format:&quot;</font>}}
    {.entt .labt L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(TPL,%t) <font color=#463e11>-w</font> 30}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::TextIcons'>TextIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of letters to be toolbar &quot;icons&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TextIcons</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of letters to be toolbar &quot;icons&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_323' href="javascript:toggleSource('323')">Show source</a></p>
<div id='323' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::TextIcons {} {

  <i><font color=#646464># Returns a list of letters to be toolbar &quot;icons&quot;.</font></i>

  <b><font color=#A106A1>return</font></b> ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%&*=
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Default'>Tkcon_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets defaults for &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_324' href="javascript:toggleSource('324')">Show source</a></p>
<div id='324' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Tkcon_Default {} {

  <i><font color=#646464># Sets defaults for &quot;Tools/Tkcon&quot; tab.</font></i>

  fetchVars
  <b><font color=#923B23>foreach</font></b> {clr val} {  bg #25292b blink #929281 cursor #FFFFFF disabled #999797 proc #FF6600  var #602B06 prompt #66FF10 stdin #FFFFFF stdout #CECECE stderr #FB44C0} {
    <b><font color=#923B23>set</font></b> al(tkcon,clr<font color=#4A181B>$clr)</font> <font color=#4A181B>$val</font>
  }
  <b><font color=#923B23>set</font></b> al(tkcon,rows) 10
  <b><font color=#923B23>set</font></b> al(tkcon,cols) 80
  <b><font color=#923B23>set</font></b> al(tkcon,fsize) 13
  <b><font color=#923B23>set</font></b> al(tkcon,geo) +300+100
  <b><font color=#923B23>set</font></b> al(tkcon,topmost) 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Tab'>Tkcon_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_325' href="javascript:toggleSource('325')">Show source</a></p>
<div id='325' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Tkcon_Tab {} {

  <i><font color=#646464># Serves to layout &quot;Tools/Tkcon&quot; tab.</font></i>

  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists alited::al(tkcon,clrbg)]} Tkcon_Default
  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> y}}
    {fra.scf.lfr - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> x} {<font color=#463e11>-t</font> Colors}}
    {.Labbg - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;bg:&quot;</font>}}
    {.clrbg .labbg L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrbg) <font color=#463e11>-w</font> 20}}
    {.labblink .labbg T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;blink:&quot;</font>}}
    {.clrblink .labblink L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrblink) <font color=#463e11>-w</font> 20}}
    {.labcursor .labblink T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;cursor:&quot;</font>}}
    {.clrcursor .labcursor L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrcursor) <font color=#463e11>-w</font> 20}}
    {.labdisabled .labcursor T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;disabled:&quot;</font>}}
    {.clrdisabled .labdisabled L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrdisabled) <font color=#463e11>-w</font> 20}}
    {.labproc .labdisabled T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;proc:&quot;</font>}}
    {.clrproc .labproc L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrproc) <font color=#463e11>-w</font> 20}}
    {.labvar .labproc T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;var:&quot;</font>}}
    {.clrvar .labvar L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrvar) <font color=#463e11>-w</font> 20}}
    {.labprompt .labvar T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;prompt:&quot;</font>}}
    {.clrprompt .labprompt L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrprompt) <font color=#463e11>-w</font> 20}}
    {.labstdin .labprompt T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;stdin:&quot;</font>}}
    {.clrstdin .labstdin L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrstdin) <font color=#463e11>-w</font> 20}}
    {.labstdout .labstdin T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;stdout:&quot;</font>}}
    {.clrstdout .labstdout L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrstdout) <font color=#463e11>-w</font> 20}}
    {.labstderr .labstdout T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;stderr:&quot;</font>}}
    {.clrstderr .labstderr L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,clrstderr) <font color=#463e11>-w</font> 20}}
    {fra.scf.v_ fra.scf.lfr T 1 1  {<b><font color=#7A040E>pack</font></b>} {<font color=#463e11>-h</font> 10}}
    {fra.scf.lfr2 fra.scf.v_ T 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> x} {<font color=#463e11>-t</font> Options}}
    {.labRows - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Rows:&quot;</font>}}
    {.spxRows .labRows L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,rows) <font color=#463e11>-from</font> 4 <font color=#463e11>-to</font> 40 <font color=#463e11>-w</font> 9}}
    {.labCols .labRows T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Columns:&quot;</font>}}
    {.spxCols .labCols L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,cols) <font color=#463e11>-from</font> 15 <font color=#463e11>-to</font> 150 <font color=#463e11>-w</font> 9}}
    {.labFsize .labCols T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Font size:&quot;</font>}}
    {.spxFS .labFsize L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,fsize) <font color=#463e11>-from</font> 8 <font color=#463e11>-to</font> 20 <font color=#463e11>-w</font> 9}}
    {.labGeo .labFsize T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Geometry:&quot;</font>}}
    {.entGeo .labGeo L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(tkcon,geo) <font color=#463e11>-w</font> 20}}
    {.labTopmost .labGeo T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Stay on top:&quot;</font>}}
    {.swiTopmost .labTopmost L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-var</font> alited::al(tkcon,topmost)}}
    {fra.scf.but - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-pady</font> 5} {<font color=#463e11>-t</font> Default <font color=#463e11>-com</font> {alited::pref::Tkcon_Default; alited::pref::UpdateTkconTab} <font color=#463e11>-w</font> 20}}
    {fra.scf.but2 - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 5 <font color=#463e11>-pady</font> 5} {<font color=#463e11>-t</font> Test <font color=#463e11>-com</font> alited::tool::tkcon <font color=#463e11>-w</font> 20}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Units_Default'>Units_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the default settings of units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Units_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_326' href="javascript:toggleSource('326')">Show source</a></p>
<div id='326' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Units_Default {} {

  <i><font color=#646464># Sets the default settings of units.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> al(INI,LINES1) 10
  <b><font color=#923B23>set</font></b> al(INI,LEAF) 0
  <b><font color=#923B23>set</font></b> al(RE,branch) <font color=#4A181B>$al(RE</font>,branchDEF)
  <b><font color=#923B23>set</font></b> al(RE,leaf) <font color=#4A181B>$al(RE</font>,leafDEF)
  <b><font color=#923B23>set</font></b> al(RE,proc) <font color=#4A181B>$al(RE</font>,procDEF)
  <b><font color=#923B23>set</font></b> al(RE,leaf2) <font color=#4A181B>$al(RE</font>,leaf2DEF)
  <b><font color=#923B23>set</font></b> al(RE,proc2) <font color=#4A181B>$al(RE</font>,proc2DEF)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Units_Tab'>Units_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Units&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Units_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_327' href="javascript:toggleSource('327')">Show source</a></p>
<div id='327' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::Units_Tab {} {

  <i><font color=#646464># Serves to layout &quot;Units&quot; tab.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-mode</font> x}}
    {.labBr - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Branch's regexp:&quot;</font>}}
    {.entBr .labBr L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(RE,branch) <font color=#463e11>-w</font> 70}}
    {.labPr .labBr T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Proc's regexp:&quot;</font>}}
    {.entPr .labPr L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(RE,proc) <font color=#463e11>-w</font> 70}}
    {.seh_0 .labPr T 1 2 {<font color=#463e11>-pady</font> 5}}
    {.labLf2 .seh_0 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Check branch's regexp:&quot;</font>}}
    {.entLf2 .labLf2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(RE,leaf2) <font color=#463e11>-w</font> 70}}
    {.labPr2 .labLf2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Check proc's regexp:&quot;</font>}}
    {.entPr2 .labPr2 L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(RE,proc2) <font color=#463e11>-w</font> 70}}
    {.seh_1 .labPr2 T 1 2 {<font color=#463e11>-pady</font> 5}}
    {.labUself .seh_1 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Use leaf's regexp:&quot;</font>}}
    {.swiUself .labUself L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-var</font> alited::al(INI,LEAF) <font color=#463e11>-onvalue</font> yes <font color=#463e11>-offvalue</font> no <font color=#463e11>-com</font> alited::pref::CheckUseLeaf <font color=#463e11>-afteridle</font> alited::pref::CheckUseLeaf}}
    {.labLf .labUself T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Leaf's regexp:&quot;</font>}}
    {.EntLf .labLf L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(RE,leaf) <font color=#463e11>-w</font> 70}}
    {.seh_2 .labLf T 1 2 {<font color=#463e11>-pady</font> 5}}
    {.labUnt .seh_2 T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Untouched top lines:&quot;</font>}}
    {.spxUnt .labUnt L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 1} {<font color=#463e11>-tvar</font> alited::al(INI,LINES1) <font color=#463e11>-from</font> 2 <font color=#463e11>-to</font> 200 <font color=#463e11>-w</font> 9}}
    {.seh_3 .labUnt T 1 2 {<font color=#463e11>-pady</font> 5}}
    {.but .seh_3 T 1 1 {<font color=#463e11>-st</font> w} {<font color=#463e11>-t</font> Default <font color=#463e11>-com</font> alited::pref::Units_Default}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::UpdateSyntaxTab'>UpdateSyntaxTab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates color labels at clicking &quot;Default&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateSyntaxTab</span> <span class='ruff_arg'>lng</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lng</code></code></td><td class='ruff_defitem'>{} for Tcl, {2} for C/C++</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_328' href="javascript:toggleSource('328')">Show source</a></p>
<div id='328' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::UpdateSyntaxTab {lng} {

  <i><font color=#646464># Updates color labels at clicking &quot;Default&quot; button.</font></i>
  <i><font color=#646464>#   lng - {} for Tcl, {2} for C/C++</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> lab1 [<font color=#4A181B>$obDl2</font> LabCOM<font color=#4A181B>$lng</font>]
  <b><font color=#923B23>foreach</font></b> nam {COM COMTK STR VAR CMN PROC OPT BRA} {
    <b><font color=#923B23>set</font></b> lab [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> labCOM labclr<font color=#4A181B>$nam</font>] <font color=#4A181B>$lab1</font>]
    <b><font color=#923B23>set</font></b> ent [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> labCOM entclr<font color=#4A181B>$nam</font>] <font color=#4A181B>$lab1</font>]
    <font color=#4A181B>$lab</font> configure <font color=#463e11>-background</font> [<font color=#4A181B>$ent</font> get]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::UpdateTkconTab'>UpdateTkconTab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates color labels for &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTkconTab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_329' href="javascript:toggleSource('329')">Show source</a></p>
<div id='329' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::pref::UpdateTkconTab {} {

  <i><font color=#646464># Updates color labels for &quot;Tools/Tkcon&quot; tab.</font></i>

  fetchVars
  <b><font color=#923B23>set</font></b> lab1 [<font color=#4A181B>$obDl2</font> Labbg]
  <b><font color=#923B23>foreach</font></b> nam {bg blink cursor disabled proc var prompt stdin stdout stderr} {
    <b><font color=#923B23>set</font></b> lab [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> labbg labclr<font color=#4A181B>$nam</font>] <font color=#4A181B>$lab1</font>]
    <b><font color=#923B23>set</font></b> ent [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> labbg entclr<font color=#4A181B>$nam</font>] <font color=#4A181B>$lab1</font>]
    <font color=#4A181B>$lab</font> configure <font color=#463e11>-background</font> [<font color=#4A181B>$ent</font> get]
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::project'></a>::alited::project<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::project-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::project::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and opens &quot;Projects&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_330' href="javascript:toggleSource('330')">Show source</a></p>
<div id='330' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::_create {} {

  <i><font color=#646464># Creates and opens &quot;Projects&quot; dialogue.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> geo
  <b><font color=#923B23>variable</font></b> minsize
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> oldTab
  <b><font color=#923B23>variable</font></b> ilast
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>set</font></b> data(_MSEC) 0
  <font color=#4A181B>$obDl2</font> makeWindow <font color=#4A181B>$win</font>.fra <font color=#035103>&quot;<font color=#4A181B>$</font>al(MC,projects) :: <font color=#4A181B>$</font>::alited::PRJDIR&quot;</font>
  <font color=#4A181B>$obDl2</font> paveWindow  <font color=#4A181B>$win</font>.fra [MainFrame]  <font color=#4A181B>$win</font>.fra.fraR.nbk.f1 [Tab1]  <font color=#4A181B>$win</font>.fra.fraR.nbk.f2 [Tab2]
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreePrj]
  <font color=#4A181B>$tree</font> heading C1 <font color=#463e11>-text</font> <font color=#4A181B>$al(MC</font>,projects)
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$oldTab</font> ne <font color=#035103>&quot;&quot;</font>} {
    <font color=#4A181B>$win</font>.fra.fraR.nbk select <font color=#4A181B>$oldTab</font>
  }
  UpdateTree
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;&lt;TreeviewSelect&gt;&gt; <font color=#035103>&quot;::alited::project::Select&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;Delete&gt; <font color=#035103>&quot;::alited::project::Delete&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;Double<font color=#463e11>-Button</font>-1&gt; <font color=#035103>&quot;::alited::project::Ok&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;Return&gt; <font color=#035103>&quot;::alited::project::Ok&quot;</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ilast</font>&gt;-1} {Select <font color=#4A181B>$ilast</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$minsize</font> eq <font color=#035103>&quot;&quot;</font>} {      ;<i><font color=#646464># save default min.sizes</font></i>
    <b><font color=#923B23>after</font></b> idle [<b><font color=#923B23>list</font></b> after 100 {
      <b><font color=#923B23>set</font></b> ::alited::project::minsize <font color=#035103>&quot;-minsize <font color=#4A181B>{[</font>winfo width <font color=#4A181B>$</font>::alited::project::win<font color=#4A181B>]</font> <font color=#4A181B>[</font>winfo height <font color=#4A181B>$</font>::alited::project::win<font color=#4A181B>]}</font>&quot;</font>
    }]
  }
  <b><font color=#7A040E>bind</font></b> [<font color=#4A181B>$obDl2</font> TexPrj] &lt;FocusOut&gt; <font color=#035103>&quot;alited::project::SaveNotes&quot;</font>
  <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obDl2</font> showModal <font color=#4A181B>$win</font>  <font color=#463e11>-geometry</font> <font color=#4A181B>$geo</font> {*}<font color=#4A181B>$minsize</font>  <font color=#463e11>-onclose</font> ::alited::project::Cancel <font color=#463e11>-focus</font> [<font color=#4A181B>$obDl2</font> TreePrj]]
  <b><font color=#923B23>set</font></b> oldTab [<font color=#4A181B>$win</font>.fra.fraR.nbk select]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$res</font>] &lt; 2} {<b><font color=#923B23>set</font></b> res <font color=#035103>&quot;&quot;</font>}
  <b><font color=#923B23>set</font></b> geo [<b><font color=#7A040E>wm</font></b> geometry <font color=#4A181B>$win</font>] ;<i><font color=#646464># save the new geometry of the dialogue</font></i>
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Projects&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_331' href="javascript:toggleSource('331')">Show source</a></p>
<div id='331' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::_run {} {

  <i><font color=#646464># Runs &quot;Projects&quot; dialogue.</font></i>

  SaveSettings
  GetProjects
  <b><font color=#923B23>set</font></b> res [_create]
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Add project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_332' href="javascript:toggleSource('332')">Show source</a></p>
<div id='332' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Add {} {

  <i><font color=#646464># &quot;Add project&quot; button's handler.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>variable</font></b> OPTS
  <b><font color=#923B23>if</font></b> {![ValidProject]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> pname <font color=#4A181B>$al(prjname)</font>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$pname</font>]&gt;-1} {
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> EntName]
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$pname</font>] <font color=#4A181B>$al(MC</font>,prjexists)]
    alited::Message2 <font color=#4A181B>$msg</font> 4
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {![SaveCurrFileList <font color=#4A181B>$al(MC</font>,prjadd) yes]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> al(tabs) <font color=#4A181B>$al(tablist)</font>
  <b><font color=#923B23>set</font></b> al(prjfile) [ProjectFileName <font color=#4A181B>$pname</font>]
  <b><font color=#923B23>set</font></b> al(prjbeforerun) {}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(PRJDEFAULT)</font>} {
    <i><font color=#646464># use project defaults from &quot;Setup/Common/Projects&quot;</font></i>
    <b><font color=#923B23>foreach</font></b> opt <font color=#4A181B>$OPTS</font> {
      <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> al(<font color=#4A181B>$opt)</font> <font color=#4A181B>$al(DEFAULT</font>,<font color=#4A181B>$opt)</font>}
    }
  }
  alited::ini::SaveIni yes  ;<i><font color=#646464># to initialize ini-file</font></i>
  <b><font color=#923B23>foreach</font></b> opt <font color=#4A181B>$OPTS</font> {
    <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$pname</font>,<font color=#4A181B>$opt)</font> <font color=#4A181B>$al(</font>$opt)
  }
  PutProjectOpts <font color=#4A181B>$al(prjfile)</font> <font color=#4A181B>$al(prjfile)</font>
  GetProjects
  UpdateTree
  Select <font color=#4A181B>$prjinfo(</font>$pname,ID)
  alited::Message2 [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$pname</font>] <font color=#4A181B>$al(MC</font>,prjnew)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Cancel' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>possible arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_333' href="javascript:toggleSource('333')">Show source</a></p>
<div id='333' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Cancel {args} {

  <i><font color=#646464># 'Cancel' button handler.</font></i>
  <i><font color=#646464>#   args - possible arguments</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  SaveData
  RestoreSettings
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Change project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> <span class='ruff_arg'>?askappend? ?isel?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>askappend</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_334' href="javascript:toggleSource('334')">Show source</a></p>
<div id='334' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Change {{askappend yes} {isel -1}} {

  <i><font color=#646464># &quot;Change project&quot; button's handler.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font>==-1 && [<b><font color=#923B23>set</font></b> isel [Selected index]] eq <font color=#035103>&quot;&quot;</font>} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>if</font></b> {![ValidProject]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$prjlist</font>]} {<b><font color=#923B23>incr</font></b> i} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i</font>!=<font color=#4A181B>$isel</font> && [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$i</font>] eq <font color=#4A181B>$al(prjname)</font>} {
      <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$al(prjname)</font>] <font color=#4A181B>$al(MC</font>,prjexists)]
      alited::Message2 <font color=#4A181B>$msg</font> 4
      <b><font color=#A106A1>return</font></b>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$askappend</font> && ![SaveCurrFileList <font color=#4A181B>$al(MC</font>,prjchg)]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> oldprj [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$isel</font>]
  <b><font color=#923B23>set</font></b> newprj <font color=#4A181B>$al(prjname)</font>
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>unset</font></b> prjinfo(<font color=#4A181B>$oldprj</font>,tablist)}
  <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$newprj</font>,tablist) <font color=#4A181B>$al(tablist)</font>
  <b><font color=#923B23>set</font></b> oldname [ProjectFileName <font color=#4A181B>$oldprj</font>]
  <b><font color=#923B23>set</font></b> prjlist [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$newprj</font>]
  <b><font color=#923B23>set</font></b> fname [ProjectFileName <font color=#4A181B>$newprj</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$newprj</font> eq <font color=#4A181B>$data(prjname)</font>} SaveSettings
  PutProjectOpts <font color=#4A181B>$fname</font> <font color=#4A181B>$oldname</font>
  GetProjects
  UpdateTree
  Select <font color=#4A181B>$prjinfo(</font>$newprj,ID)
  alited::Message2 [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$isel</font>]] <font color=#4A181B>$al(MC</font>,prjupd)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckNewDir'>CheckNewDir</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the root directory exists. If no, tries to create it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckNewDir</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if all is OK.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_335' href="javascript:toggleSource('335')">Show source</a></p>
<div id='335' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::CheckNewDir {} {

  <i><font color=#646464># Checks if the root directory exists. If no, tries to create it.</font></i>
  <i><font color=#646464># Returns yes, if all is OK.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$al(prjroot)</font>]} {
    <font color=#4A181B>$win</font>.fra.fraR.nbk select <font color=#4A181B>$win</font>.fra.fraR.nbk.f1
    <b><font color=#7A040E>focus</font></b> [::apave::precedeWidgetName [<font color=#4A181B>$obDl2</font> Dir] ent]
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %d <font color=#4A181B>$al(prjroot)</font>] <font color=#4A181B>$al(makeroot)</font>]
    <b><font color=#923B23>if</font></b> {![alited::msg yesno ques <font color=#4A181B>$msg</font> NO <font color=#463e11>-geometry</font> root=<font color=#4A181B>$win</font>]} {
      <b><font color=#A106A1>return</font></b> no
    }
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> mkdir <font color=#4A181B>$al(prjroot)</font>} err]} {
      <b><font color=#923B23>set</font></b> msg [msgcat::mc {Error at creating the directory.}]
      alited::msg ok err [<b><font color=#923B23>append</font></b> msg \n\n <font color=#4A181B>$err</font>] <font color=#463e11>-geometry</font> root=<font color=#4A181B>$win</font>
      <b><font color=#A106A1>return</font></b> no
    }
  }
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckProjectName'>CheckProjectName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes spec.characters from a project name (sort of normalizing it).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckProjectName</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_336' href="javascript:toggleSource('336')">Show source</a></p>
<div id='336' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::CheckProjectName {} {

  <i><font color=#646464># Removes spec.characters from a project name (sort of normalizing it).</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> oldname <font color=#4A181B>$al(prjname)</font>
  <b><font color=#923B23>set</font></b> al(prjname) [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b>  * _ ? _ ~ _ . _ / _ \\ _ \{ _ \} _ \[ _ \] _ \t _ \n _ \r _  | _ &lt; _ &gt; _ & _ , _ : _ \; _ \&quot; _ ' _ ` _] <font color=#4A181B>$al(prjname)</font>]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$oldname</font> eq <font color=#4A181B>$al(prjname)</font>}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Delete project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_337' href="javascript:toggleSource('337')">Show source</a></p>
<div id='337' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Delete {} {

  <i><font color=#646464># &quot;Delete project&quot; button's handler.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected index]] eq <font color=#035103>&quot;&quot;</font>} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-geometry root=<font color=#4A181B>$</font>win&quot;</font>
  <b><font color=#923B23>set</font></b> nametodel [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$isel</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$nametodel</font> eq <font color=#4A181B>$data(prjname)</font>} {
    alited::msg ok err <font color=#4A181B>$al(MC</font>,prjcantdel) {*}<font color=#4A181B>$geo</font>
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$nametodel</font>] <font color=#4A181B>$al(MC</font>,prjdelq)]
  <b><font color=#923B23>if</font></b> {![alited::msg yesno ques <font color=#4A181B>$msg</font> NO {*}<font color=#4A181B>$geo</font>]} {
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> delete [ProjectFileName <font color=#4A181B>$nametodel</font>]} err]} {
    alited::msg ok err <font color=#4A181B>$err</font> {*}<font color=#4A181B>$geo</font>
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> llen [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$prjlist</font>]] && <font color=#4A181B>$isel</font>&gt;=<font color=#4A181B>$llen</font>} {
    <b><font color=#923B23>set</font></b> isel [<b><font color=#923B23>incr</font></b> llen -1]
  }
  GetProjects
  UpdateTree
  Select <font color=#4A181B>$isel</font>
  alited::Message2 [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$nametodel</font>] <font color=#4A181B>$al(MC</font>,prjrem)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetOptVal'>GetOptVal</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a name and a value from a line of form &quot;name=value&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetOptVal</span> <span class='ruff_arg'>line</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_338' href="javascript:toggleSource('338')">Show source</a></p>
<div id='338' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::GetOptVal {line} {

  <i><font color=#646464># Gets a name and a value from a line of form &quot;name=value&quot;.</font></i>
  <i><font color=#646464>#   line - the line</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>string</font></b> first = <font color=#4A181B>$line</font>]]&gt;-1} {
    <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> 0 <font color=#4A181B>$i</font>-1] [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> <font color=#4A181B>$i</font>+1 end]]
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetProjectOpts'>GetProjectOpts</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a project's settings from a project settings file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetProjectOpts</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the project settings file's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_339' href="javascript:toggleSource('339')">Show source</a></p>
<div id='339' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::GetProjectOpts {fname} {

  <i><font color=#646464># Reads a project's settings from a project settings file.</font></i>
  <i><font color=#646464>#   fname - the project settings file's name</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>variable</font></b> OPTS
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>set</font></b> pname [ProjectName <font color=#4A181B>$fname</font>]
  <i><font color=#646464># save project names to 'prjlist' variable to display it by treeview widget</font></i>
  <b><font color=#923B23>lappend</font></b> prjlist <font color=#4A181B>$pname</font>
  <i><font color=#646464># save project files' settings in prjinfo array</font></i>
  <b><font color=#923B23>set</font></b> filecont [::apave::readTextFile <font color=#4A181B>$fname</font>]
  <b><font color=#923B23>foreach</font></b> opt <font color=#4A181B>$OPTS</font> {
    <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$pname</font>,<font color=#4A181B>$opt)</font> <font color=#4A181B>$al(</font>$opt)}  ;<i><font color=#646464>#defaults</font></i>
  }
  <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$pname</font>,prjfile) <font color=#4A181B>$fname</font>
  <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$pname</font>,prjname) <font color=#4A181B>$pname</font>
  <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$pname</font>,prjdirign) <font color=#035103>&quot;.git .bak&quot;</font>
  <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$pname</font>,tablist) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> currentprj [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$data(prjname)</font> eq <font color=#4A181B>$pname</font>}]]} {
    <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
      <b><font color=#923B23>set</font></b> tid [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
      <b><font color=#923B23>lappend</font></b> prjinfo(<font color=#4A181B>$pname</font>,tablist) [alited::bar::FileName <font color=#4A181B>$tid</font>]
    }
  }
  <b><font color=#923B23>foreach</font></b> line [::apave::textsplit <font color=#4A181B>$filecont</font>] {
    <b><font color=#923B23>lassign</font></b> [GetOptVal <font color=#4A181B>$line</font>] opt val
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>lsearch</font></b> <font color=#4A181B>$OPTS</font> <font color=#4A181B>$opt</font>]&gt;-1} {
      <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$pname</font>,<font color=#4A181B>$opt)</font> [ProcEOL <font color=#4A181B>$val</font> in]
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$opt</font> eq <font color=#035103>&quot;tab&quot;</font> && !<font color=#4A181B>$currentprj</font>} {
      <b><font color=#923B23>lappend</font></b> prjinfo(<font color=#4A181B>$pname</font>,tablist) <font color=#4A181B>$val</font>
    }
  }
  <b><font color=#923B23>set</font></b> al(tablist) <font color=#4A181B>$prjinfo(</font>$pname,tablist)
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$pname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetProjects'>GetProjects</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads settings of all projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetProjects</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_340' href="javascript:toggleSource('340')">Show source</a></p>
<div id='340' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::GetProjects {} {

  <i><font color=#646464># Reads settings of all projects.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al PRJEXT PRJEXT
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> ilast
  <b><font color=#923B23>set</font></b> prjlist [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> i [<b><font color=#923B23>set</font></b> ilast 0]
  <b><font color=#923B23>foreach</font></b> finfo [alited::tree::GetDirectoryContents <font color=#4A181B>$::alited::PRJDIR</font>] {
    <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$finfo</font> 2]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> extension <font color=#4A181B>$fname</font>] eq <font color=#4A181B>$PRJEXT</font>} {
      <b><font color=#923B23>if</font></b> {[GetProjectOpts <font color=#4A181B>$fname</font>] eq <font color=#4A181B>$al(prjname)</font>} {
        <b><font color=#923B23>set</font></b> ilast <font color=#4A181B>$i</font>
      }
      <b><font color=#923B23>incr</font></b> i
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_341' href="javascript:toggleSource('341')">Show source</a></p>
<div id='341' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Help {} {

  <i><font color=#646464># 'Help' button handler.</font></i>

  <b><font color=#923B23>variable</font></b> win
  alited::Help <font color=#4A181B>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::MainFrame'>MainFrame</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main frame of &quot;Project&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MainFrame</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_342' href="javascript:toggleSource('342')">Show source</a></p>
<div id='342' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::MainFrame {} {

  <i><font color=#646464># Creates a main frame of &quot;Project&quot; dialogue.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {fraTreePrj - - 10 1 {<font color=#463e11>-st</font> nswe <font color=#463e11>-pady</font> 4 <font color=#463e11>-rw</font> 1}}
    {.TreePrj - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-h</font> 16 <font color=#463e11>-show</font> headings <font color=#463e11>-columns</font> {C1} <font color=#463e11>-displaycolumns</font> {C1}}}
    {.sbvPrjs .TreePrj L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both}}
    {fraR fraTreePrj L 10 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1 <font color=#463e11>-pady</font> 4}}
    {fraR.Nbk - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {
      f1 {<font color=#463e11>-text</font> {<font color=#4A181B>$al(MC</font>,info)}}
      f2 {<font color=#463e11>-text</font> {<font color=#4A181B>$al(MC</font>,prjOptions)}}
      <font color=#463e11>-traverse</font> yes <font color=#463e11>-select</font> f1
    }}
    {fraB1 fraTreePrj T 1 1 {<font color=#463e11>-st</font> nsew}}
    {.buTad - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-anchor</font> n} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::project::Add <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,prjadd)} <font color=#463e11>-image</font> alimg_add<font color=#463e11>-big</font>}}
    {.buTch - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::project::Change <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,prjchg)} <font color=#463e11>-image</font> alimg_change<font color=#463e11>-big</font>}}
    {.buTdel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::project::Delete <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,prjdel)} <font color=#463e11>-image</font> alimg_delete<font color=#463e11>-big</font>}}
    {LabMess fraB1 L 1 1 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 0 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-style</font> TLabelFS}}
    {seh fraB1 T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 2}}
    {fraB2 seh T 1 2 {<font color=#463e11>-st</font> nsew} {<font color=#463e11>-padding</font> {2 2}}}
    {.butHelp - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-anchor</font> s <font color=#463e11>-padx</font> 2} {<font color=#463e11>-t</font> {<font color=#4A181B>$alited::al(MC</font>,help)} <font color=#463e11>-command</font> ::alited::project::Help}}
    {.h_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both <font color=#463e11>-padx</font> 8} {<font color=#463e11>-w</font> 50}}
    {.butOK - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-anchor</font> s <font color=#463e11>-padx</font> 2} {<font color=#463e11>-t</font> {<font color=#4A181B>$alited::al(MC</font>,select)} <font color=#463e11>-command</font> ::alited::project::Ok}}
    {.butCancel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-anchor</font> s} {<font color=#463e11>-t</font> Cancel <font color=#463e11>-command</font> ::alited::project::Cancel}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'OK' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>possible arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_343' href="javascript:toggleSource('343')">Show source</a></p>
<div id='343' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Ok {args} {

  <i><font color=#646464># 'OK' button handler.</font></i>
  <i><font color=#646464>#   args - possible arguments</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2 obPav obPav
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>clock</font></b> milliseconds]
  <b><font color=#923B23>if</font></b> {(<font color=#4A181B>$msec</font>-<font color=#4A181B>$data(_MSEC))</font>&lt;10000} {
    <i><font color=#646464># disables entering twice (at multiple double-clicks)</font></i>
    <i><font color=#646464># 10 sec. of clicking seems to be enough at opening a file</font></i>
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> data(_MSEC) <font color=#4A181B>$msec</font>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected index]] eq {} || ![ValidProject]} {
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> TreePrj]
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> N [<b><font color=#923B23>llength</font></b> [alited::bar::BAR listFlag m]]]} {
    <b><font color=#923B23>set</font></b> msg [msgcat::mc <font color=#035103>&quot;All modified files (%n) will be saved.\n\nDo you agree?&quot;</font>]
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$N</font>] <font color=#4A181B>$msg</font>]
    <b><font color=#923B23>if</font></b> {![alited::msg yesno ques <font color=#4A181B>$msg</font> NO <font color=#463e11>-geometry</font> root=<font color=#4A181B>$win</font>]} <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {![alited::file::SaveAll]} {
    <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 0
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> N [<b><font color=#923B23>llength</font></b> [alited::bar::BAR cget <font color=#463e11>-select</font>]]]} {
    <b><font color=#923B23>set</font></b> msg [msgcat::mc <font color=#035103>&quot;All selected files (%n) will remain open\nin the project you are switching to.\n\nDo you agree?&quot;</font>]
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$N</font>] <font color=#4A181B>$msg</font>]
    <b><font color=#923B23>if</font></b> {![alited::msg yesno ques <font color=#4A181B>$msg</font> NO <font color=#463e11>-geometry</font> root=<font color=#4A181B>$win</font>]} <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> pname [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$al(prjname)</font>]
  <b><font color=#923B23>set</font></b> fname [ProjectFileName <font color=#4A181B>$pname</font>]
  RestoreSettings
  alited::ini::SaveIni
  alited::file::CloseAll 1 <font color=#463e11>-skipsel</font>  ;<i><font color=#646464># the selected tabs aren't closed</font></i>
  <b><font color=#923B23>set</font></b> selfiles [<b><font color=#923B23>list</font></b>]                ;<i><font color=#646464># -&gt; get their file names to reopen afterwards</font></i>
  <b><font color=#923B23>foreach</font></b> tid [alited::bar::BAR listFlag s] {
    <b><font color=#923B23>lappend</font></b> selfiles [alited::bar::FileName <font color=#4A181B>$tid</font>]
  }
  alited::file::CloseAll 1           ;<i><font color=#646464># close all tabs</font></i>
  <b><font color=#923B23>set</font></b> al(prjname) <font color=#4A181B>$pname</font>
  <b><font color=#923B23>set</font></b> al(prjfile) <font color=#4A181B>$fname</font>
  alited::ini::ReadIni <font color=#4A181B>$fname</font>
  alited::bar::FillBar [<font color=#4A181B>$obPav</font> BtsBar]
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$selfiles</font>]} {<font color=#4A181B>$i</font>} {} { ;<i><font color=#646464># reopen selected files of previous project</font></i>
    <b><font color=#923B23>incr</font></b> i -1
    <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$selfiles</font> <font color=#4A181B>$i</font>]
    <b><font color=#923B23>if</font></b> {[alited::bar::FileTID <font color=#4A181B>$fname</font>] eq {}} {
      alited::file::OpenFile <font color=#4A181B>$fname</font> yes
    }
  }
  <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> [alited::bar::BAR listTab] <font color=#4A181B>$al(curtab)</font> 0]
  <b><font color=#923B23>catch</font></b> {alited::bar::BAR <font color=#4A181B>$TID</font> show yes no}
  alited::main::UpdateProjectInfo
  alited::ini::GetUserDirs
  alited::file::MakeThemHighlighted
  alited::favor::ShowFavVisit
  [<font color=#4A181B>$obPav</font> Tree] selection set {}  ;<i><font color=#646464># new project - no group selected</font></i>
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)} {<b><font color=#923B23>after</font></b> idle alited::tree::RecreateTree}
  <b><font color=#923B23>after</font></b> 10 alited::main::ShowText
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 1
  <b><font color=#A106A1>return</font></b>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProcEOL'>ProcEOL</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms \n to &quot;EOL chars&quot; and vise versa.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcEOL</span> <span class='ruff_arg'>val mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>string to transform</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;in&quot;, gets \n-value; if &quot;out&quot;, gets EOL-value.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_344' href="javascript:toggleSource('344')">Show source</a></p>
<div id='344' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::ProcEOL {val mode} {

  <i><font color=#646464># Transforms \n to &quot;EOL chars&quot; and vise versa.</font></i>
  <i><font color=#646464>#   val - string to transform</font></i>
  <i><font color=#646464>#   mode - if &quot;in&quot;, gets \n-value; if &quot;out&quot;, gets EOL-value.</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$mode</font> eq {in}} {
    <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$::alited::EOL</font> \n] <font color=#4A181B>$val</font>]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \n <font color=#4A181B>$::alited::EOL</font>] <font color=#4A181B>$val</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectFileName'>ProjectFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a project file name from a project's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectFileName</span> <span class='ruff_arg'>name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_345' href="javascript:toggleSource('345')">Show source</a></p>
<div id='345' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::ProjectFileName {name} {

  <i><font color=#646464># Gets a project file name from a project's name.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al PRJDIR PRJDIR PRJEXT PRJEXT
  <b><font color=#923B23>set</font></b> name [ProjectName [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$name</font>]]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>file</font></b> normalize [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$PRJDIR</font> <font color=#035103>&quot;<font color=#4A181B>$</font>name<font color=#4A181B>$</font>PRJEXT&quot;</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectName'>ProjectName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a project name from its file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_346' href="javascript:toggleSource('346')">Show source</a></p>
<div id='346' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::ProjectName {fname} {

  <i><font color=#646464># Gets a project name from its file name.</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>file</font></b> rootname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::PutProjectOpts'>PutProjectOpts</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Writes a project's settings to a project settings file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PutProjectOpts</span> <span class='ruff_arg'>fname oldname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the project settings file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>oldname</code></code></td><td class='ruff_defitem'>old name of the project file</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_347' href="javascript:toggleSource('347')">Show source</a></p>
<div id='347' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::PutProjectOpts {fname oldname} {

  <i><font color=#646464># Writes a project's settings to a project settings file.</font></i>
  <i><font color=#646464>#   fname - the project settings file's name</font></i>
  <i><font color=#646464>#   oldname - old name of the project file</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>variable</font></b> OPTS
  <b><font color=#923B23>set</font></b> filecont [::apave::readTextFile <font color=#4A181B>$oldname</font>]
  <b><font color=#923B23>set</font></b> newcont {}
  <b><font color=#923B23>foreach</font></b> line [::apave::textsplit <font color=#4A181B>$filecont</font>] {
    <b><font color=#923B23>lassign</font></b> [GetOptVal <font color=#4A181B>$line</font>] opt val
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$line</font> eq {[Tabs]}} {
      <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$al(tablist)</font> {
        <b><font color=#923B23>append</font></b> line \n <font color=#035103>&quot;tab=<font color=#4A181B>$</font>tab&quot;</font>
      }
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$opt</font> in [<b><font color=#923B23>list</font></b> tab {*}<font color=#4A181B>$OPTS</font>]} {
      <b><font color=#923B23>continue</font></b>
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$opt</font> in {curtab}} {
      <i><font color=#646464>#</font></i>
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$line</font> eq {[Options]}} {
      <b><font color=#923B23>foreach</font></b> opt <font color=#4A181B>$OPTS</font> {
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$opt</font> ni {prjname tablist}} {
          <b><font color=#923B23>set</font></b> val [<b><font color=#923B23>set</font></b> alited::al(<font color=#4A181B>$opt)</font>]
          <b><font color=#923B23>append</font></b> line \n <font color=#4A181B>$opt</font>= <font color=#4A181B>$val</font>
          <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$al(prjname)</font>,<font color=#4A181B>$opt)</font> [ProcEOL <font color=#4A181B>$val</font> in]
        }
      }
    }
    <b><font color=#923B23>append</font></b> newcont <font color=#4A181B>$line</font> \n
  }
  ::apave::writeTextFile <font color=#4A181B>$fname</font> newcont
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$oldname</font> ne <font color=#4A181B>$fname</font>} {<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>file</font></b> delete <font color=#4A181B>$oldname</font>}}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::RestoreSettings'>RestoreSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores project settings from a data array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_348' href="javascript:toggleSource('348')">Show source</a></p>
<div id='348' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::RestoreSettings {} {

  <i><font color=#646464># Restores project settings from a data array.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>variable</font></b> OPTS
  <b><font color=#923B23>foreach</font></b> v <font color=#4A181B>$OPTS</font> {
    <b><font color=#923B23>set</font></b> al(<font color=#4A181B>$v)</font> <font color=#4A181B>$data(</font>$v)
  }
  <b><font color=#923B23>set</font></b> al(prjfile) <font color=#4A181B>$data(prjfile)</font>
  TabFileInfo
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveCurrFileList'>SaveCurrFileList</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions with a file list of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCurrFileList</span> <span class='ruff_arg'>title ?isnew?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>title of the message box &quot;What to do&quot;</td></tr>
<tr><td class='ruff_defitem'><code><code>isnew</code></code></td><td class='ruff_defitem'>yes, if it's a new project to be added; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>A result of action is saved to al(tablist).</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if an action is chosen, no - if canceled.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_349' href="javascript:toggleSource('349')">Show source</a></p>
<div id='349' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::SaveCurrFileList {title {isnew no}} {

  <i><font color=#646464># Actions with a file list of project.</font></i>
  <i><font color=#646464>#   title - title of the message box &quot;What to do&quot;</font></i>
  <i><font color=#646464>#   isnew - yes, if it's a new project to be added</font></i>
  <i><font color=#646464># A result of action is saved to al(tablist).</font></i>
  <i><font color=#646464># Returns yes, if an action is chosen, no - if canceled.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>set</font></b> asks [<b><font color=#923B23>list</font></b> <font color=#4A181B>$al(MC</font>,prjaddfl) add <font color=#4A181B>$al(MC</font>,prjsubstfl) change <font color=#4A181B>$al(MC</font>,prjdelfl) delete  <font color=#4A181B>$al(MC</font>,prjnochfl) file Cancel cancel]
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n [<b><font color=#923B23>string</font></b> toupper <font color=#4A181B>$title</font>]] <font color=#4A181B>$al(MC</font>,prjgoing)]
  <b><font color=#923B23>append</font></b> msg \n\n <font color=#4A181B>$al(MC</font>,prjsavfl)
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists al(ANSWERED,SaveCurrFileList)]} {
    <b><font color=#923B23>set</font></b> ans <font color=#4A181B>$al(ANSWERED</font>,SaveCurrFileList)
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> ans [<font color=#4A181B>$obDl3</font> misc ques <font color=#4A181B>$title</font> <font color=#4A181B>$msg</font> <font color=#4A181B>$asks</font> file <font color=#463e11>-ch</font> <font color=#4A181B>$al(MC</font>,noask)]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> last {10} <font color=#4A181B>$ans</font>]&gt;-1} {
      <b><font color=#923B23>set</font></b> ans [<b><font color=#923B23>string</font></b> map {10 {}} <font color=#4A181B>$ans</font>]
      <b><font color=#923B23>set</font></b> al(ANSWERED,SaveCurrFileList) <font color=#4A181B>$ans</font>
    }
  }
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$ans</font> {
    <font color=#035103>&quot;delete&quot;</font> {
      <b><font color=#923B23>set</font></b> al(tablist) [<b><font color=#923B23>list</font></b>]
      TabFileInfo
    }
    <font color=#035103>&quot;add&quot;</font> - <font color=#035103>&quot;change&quot;</font> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ans</font> eq <font color=#035103>&quot;change&quot;</font> || <font color=#4A181B>$isnew</font>} {
        <b><font color=#923B23>set</font></b> al(tablist) [<b><font color=#923B23>list</font></b>]
      }
      <b><font color=#923B23>lassign</font></b> [alited::bar::GetBarState] TIDcur - wtxt
      <b><font color=#923B23>foreach</font></b> tab [alited::bar::BAR listTab] {
        <b><font color=#923B23>set</font></b> TID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tab</font> 0]
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$TID</font> eq <font color=#4A181B>$TIDcur</font>} {
          <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#923B23>set</font></b> pos [alited::bar::GetTabState <font color=#4A181B>$TID</font> -<font color=#463e11>-pos</font>]
        }
        <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>set</font></b> fn [alited::bar::FileName <font color=#4A181B>$TID</font>]]
        <b><font color=#923B23>append</font></b> fn \t <font color=#4A181B>$pos</font>
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fname</font> ne <font color=#4A181B>$al(MC</font>,nofile) && [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$al(tablist)</font> <font color=#4A181B>$fn</font>]&lt;0} {
          <b><font color=#923B23>lappend</font></b> al(tablist) <font color=#4A181B>$fn</font>
        }
      }
      TabFileInfo
    }
    <font color=#035103>&quot;file&quot;</font> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isnew</font>} {
        <b><font color=#923B23>set</font></b> al(tablist) [<b><font color=#923B23>list</font></b>]
        TabFileInfo
      }
    }
    <b><font color=#923B23>default</font></b> {
      <b><font color=#A106A1>return</font></b> no
    }
  }
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveData'>SaveData</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves some data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveData</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_350' href="javascript:toggleSource('350')">Show source</a></p>
<div id='350' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::SaveData {} {

  <i><font color=#646464># Saves some data.</font></i>

  <b><font color=#923B23>variable</font></b> ilast
  <b><font color=#923B23>set</font></b> ilast [Selected index no]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveNotes'>SaveNotes</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a file of notes.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveNotes</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_351' href="javascript:toggleSource('351')">Show source</a></p>
<div id='351' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::SaveNotes {} {

  <i><font color=#646464># Saves a file of notes.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> fnotes
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fnotes</font> ne {}} {
    <b><font color=#923B23>set</font></b> fcont [[<font color=#4A181B>$obDl2</font> TexPrj] get 1.0 {end -1c}]
    ::apave::writeTextFile <font color=#4A181B>$fnotes</font> fcont
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveSettings'>SaveSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves project settings to a data array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_352' href="javascript:toggleSource('352')">Show source</a></p>
<div id='352' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::SaveSettings {} {

  <i><font color=#646464># Saves project settings to a data array.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> data
  <b><font color=#923B23>variable</font></b> OPTS
  <b><font color=#923B23>foreach</font></b> v <font color=#4A181B>$OPTS</font> {
    <b><font color=#923B23>set</font></b> data(<font color=#4A181B>$v)</font> <font color=#4A181B>$al(</font>$v)
  }
  <b><font color=#923B23>set</font></b> data(prjfile) <font color=#4A181B>$al(prjfile)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection in a list of projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?item?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_353' href="javascript:toggleSource('353')">Show source</a></p>
<div id='353' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Select {{item {}}} {

  <i><font color=#646464># Handles a selection in a list of projects.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>variable</font></b> OPTS
  <b><font color=#923B23>variable</font></b> fnotes
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font> eq {}} {<b><font color=#923B23>set</font></b> item [Selected item no]}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font> ne {}} {
    <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreePrj]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is digit <font color=#4A181B>$item</font>]} {  ;<i><font color=#646464># the item is an index</font></i>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font>&lt;0 || <font color=#4A181B>$item</font>&gt;=[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$prjlist</font>]} <b><font color=#A106A1>return</font></b>
      <b><font color=#923B23>set</font></b> prj [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$item</font>]
      <b><font color=#923B23>set</font></b> item <font color=#4A181B>$prjinfo(</font>$prj,ID)
    } <b><font color=#923B23>elseif</font></b> {![<font color=#4A181B>$tree</font> exists <font color=#4A181B>$item</font>]} {
      <b><font color=#A106A1>return</font></b>
    }
    <b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> index <font color=#4A181B>$item</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font>&lt;0 || <font color=#4A181B>$isel</font>&gt;=[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$prjlist</font>]} <b><font color=#A106A1>return</font></b>
    <b><font color=#923B23>set</font></b> prj [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$prjlist</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> fnotes [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::PRJDIR</font> <font color=#4A181B>$prj<font color=#463e11></font>-notes</font>.txt]
    <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obDl2</font> TexPrj]
    <font color=#4A181B>$wtxt</font> delete 1.0 end
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fnotes</font>]} {
      <font color=#4A181B>$wtxt</font> insert end [::apave::readTextFile <font color=#4A181B>$fnotes</font>]
    }
    <font color=#4A181B>$wtxt</font> edit reset; <font color=#4A181B>$wtxt</font> edit modified no
    <b><font color=#923B23>foreach</font></b> opt <font color=#4A181B>$OPTS</font> {
      <b><font color=#923B23>set</font></b> al(<font color=#4A181B>$opt)</font> <font color=#4A181B>$prjinfo(</font>$prj,<font color=#4A181B>$opt)</font>
    }
    <b><font color=#923B23>set</font></b> al(tablist) <font color=#4A181B>$prjinfo(</font>$prj,tablist)
    TabFileInfo
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$tree</font> selection] ne <font color=#4A181B>$item</font>} {
      <font color=#4A181B>$tree</font> selection set <font color=#4A181B>$item</font>
    }
    <font color=#4A181B>$tree</font> see <font color=#4A181B>$item</font>
    <font color=#4A181B>$tree</font> focus <font color=#4A181B>$item</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a currently selected project's index.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> <span class='ruff_arg'>what ?domsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>if &quot;index&quot;, selected item's index is returned</td></tr>
<tr><td class='ruff_defitem'><code><code>domsg</code></code></td><td class='ruff_defitem'>if &quot;no&quot;, no message displayed if there is no selected project; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_354' href="javascript:toggleSource('354')">Show source</a></p>
<div id='354' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Selected {what {domsg yes}} {

  <i><font color=#646464># Gets a currently selected project's index.</font></i>
  <i><font color=#646464>#   what - if &quot;index&quot;, selected item's index is returned</font></i>
  <i><font color=#646464>#   domsg - if &quot;no&quot;, no message displayed if there is no selected project</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreePrj]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> selection]] eq {} && [<b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> focus]] eq <font color=#035103>&quot;&quot;</font>  && <font color=#4A181B>$domsg</font>} {
    alited::Message2 <font color=#4A181B>$al(MC</font>,prjsel) 4
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font> ne {} && <font color=#4A181B>$what</font> eq {index}} {
    <b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> index <font color=#4A181B>$isel</font>]
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab1'>Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_355' href="javascript:toggleSource('355')">Show source</a></p>
<div id='355' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Tab1 {} {

  <i><font color=#646464># Creates a main tab of &quot;Project&quot;.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 1}
    {fra1 v_ T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1}}
    {.labName - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> {<font color=#4A181B>$al(MC</font>,prjName)}}}
    {.EntName .labName L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5} {<font color=#463e11>-tvar</font> alited::al(prjname) <font color=#463e11>-w</font> 50}}
    {.labDir .labName T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 8 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Root directory:&quot;</font>}}
    {.Dir .labDir L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(prjroot) <font color=#463e11>-w</font> 50}}
    {.labIgn .labDir T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 8 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Skip subdirectories:&quot;</font>}}
    {.entIgn .labIgn L 1 9 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 5 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(prjdirign) <font color=#463e11>-w</font> 50}}
    {lab fra1 T 1 2 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 4 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Notes:&quot;</font>}}
    {fra2 lab T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-rw</font> 1 <font color=#463e11>-cw</font> 1}}
    {.TexPrj - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both <font color=#463e11>-padx</font> 3} {<font color=#463e11>-h</font> 20 <font color=#463e11>-w</font> 40 <font color=#463e11>-wrap</font> word <font color=#463e11>-tabnext</font> <font color=#4A181B>$alited::project::win</font>.fra.fraB2.butHelp <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,notes)}}}
    {.sbv .TexPrj L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab2'>Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Options tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_356' href="javascript:toggleSource('356')">Show source</a></p>
<div id='356' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::Tab2 {} {

  <i><font color=#646464># Creates Options tab of &quot;Project&quot;.</font></i>

  <b><font color=#A106A1>return</font></b> {
    {v_ - - 1 10}
    {fra2 v_ T 1 2 {<font color=#463e11>-st</font> nsew <font color=#463e11>-cw</font> 1}}
    {.labEOL - - 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;End of line:&quot;</font>}}
    {.cbxEOL .labEOL L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(prjEOL) <font color=#463e11>-values</font> {{} LF CR CRLF} <font color=#463e11>-w</font> 9 <font color=#463e11>-state</font> readonly}}
    {.labIndent .labEOL T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Indentation:&quot;</font>}}
    {.spxIndent .labIndent L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(prjindent) <font color=#463e11>-w</font> 9 <font color=#463e11>-from</font> 2 <font color=#463e11>-to</font> 8 <font color=#463e11>-justify</font> center}}
    {.chbIndAuto .spxIndent L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(prjindentAuto) <font color=#463e11>-t</font> <font color=#035103>&quot;Auto detection&quot;</font>}}
    {.labRedunit .labIndent T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Unit lines per 1 red bar:&quot;</font>}}
    {.spxRedunit .labRedunit L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-tvar</font> alited::al(prjredunit) <font color=#463e11>-w</font> 9 <font color=#463e11>-from</font> 10 <font color=#463e11>-to</font> 100 <font color=#463e11>-justify</font> center}}
    {.labMult .labRedunit T 1 1 {<font color=#463e11>-st</font> w <font color=#463e11>-pady</font> 1 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;Multi-line strings:&quot;</font> <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,notrecomm)}}}
    {.swiMult .labMult L 1 1 {<font color=#463e11>-st</font> sw <font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-var</font> alited::al(prjmultiline) <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,notrecomm)}}}
    {.labFlist .labMult T 1 1 {<font color=#463e11>-pady</font> 3 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-t</font> <font color=#035103>&quot;List of files:&quot;</font>}}
    {fraFlist .labFlist T 1 2 {<font color=#463e11>-st</font> nswe <font color=#463e11>-padx</font> 3 <font color=#463e11>-cw</font> 1 <font color=#463e11>-rw</font> 1}}
    {.LbxFlist - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both <font color=#463e11>-expand</font> 1} {<font color=#463e11>-takefocus</font> 0}}
    {.sbvFlist .lbxFlist L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TabFileInfo'>TabFileInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a listbox with a list of project files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabFileInfo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_357' href="javascript:toggleSource('357')">Show source</a></p>
<div id='357' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::TabFileInfo {} {

  <i><font color=#646464># Fills a listbox with a list of project files.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>set</font></b> lbx [<font color=#4A181B>$obDl2</font> LbxFlist]
  <font color=#4A181B>$lbx</font> delete 0 end
  <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$al(tablist)</font> {
    <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>lindex</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$tab</font> \t] 0]
    <font color=#4A181B>$lbx</font> insert end <font color=#4A181B>$fname</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::UpdateTree'>UpdateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a list of projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_358' href="javascript:toggleSource('358')">Show source</a></p>
<div id='358' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::UpdateTree {} {

  <i><font color=#646464># Fills a list of projects.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> prjlist
  <b><font color=#923B23>variable</font></b> prjinfo
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreePrj]
  <font color=#4A181B>$tree</font> delete [<font color=#4A181B>$tree</font> children {}]
  <b><font color=#923B23>foreach</font></b> prj <font color=#4A181B>$prjlist</font> {
    <b><font color=#923B23>set</font></b> prjinfo(<font color=#4A181B>$prj</font>,ID) [<font color=#4A181B>$tree</font> insert {} end <font color=#463e11>-values</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$prj</font>]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ValidProject'>ValidProject</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a project's options are valid.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidProject</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_359' href="javascript:toggleSource('359')">Show source</a></p>
<div id='359' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::project::ValidProject {} {

  <i><font color=#646464># Checks if a project's options are valid.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$al(prjname)</font>] eq {} || ![CheckProjectName]} {
    <b><font color=#7A040E>bell</font></b>
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> EntName]
    <b><font color=#A106A1>return</font></b> no
  }
  <b><font color=#923B23>set</font></b> al(prjroot) [<b><font color=#923B23>file</font></b> nativename <font color=#4A181B>$al(prjroot)</font>]
  <b><font color=#923B23>if</font></b> {![CheckNewDir]} {<b><font color=#A106A1>return</font></b> no}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjindent)</font>&lt;0 || <font color=#4A181B>$al(prjindent)</font>&gt;8} {<b><font color=#923B23>set</font></b> al(prjindent) 2}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(prjredunit)</font>&lt;10 || <font color=#4A181B>$al(prjredunit)</font>&gt;100} {<b><font color=#923B23>set</font></b> al(prjredunit) 20}
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %d <font color=#4A181B>$al(prjroot)</font>] <font color=#4A181B>$al(checkroot)</font>]
  alited::Message2 <font color=#4A181B>$msg</font> 5
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> [alited::tree::GetDirectoryContents <font color=#4A181B>$al(prjroot)</font>]] &gt;= <font color=#4A181B>$al(MAXFILES)</font>} {
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$al(MAXFILES)</font>] <font color=#4A181B>$al(badroot)</font>]
    alited::Message2 <font color=#4A181B>$msg</font> 4
    <b><font color=#923B23>set</font></b> res no
  } <b><font color=#923B23>else</font></b> {
    alited::Message2 {} 5
    <b><font color=#923B23>set</font></b> res yes
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::tool'></a>::alited::tool<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::tool-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::tool::_close'>_close</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes e_menu (being an internal procedure) by force.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_close</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_360' href="javascript:toggleSource('360')">Show source</a></p>
<div id='360' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::_close {{fname {}}} {

  <i><font color=#646464># Closes e_menu (being an internal procedure) by force.</font></i>

  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>destroy</font></b> .em}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu's item of menu.mnu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?what?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>the item (by default, &quot;Run me&quot;); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_361' href="javascript:toggleSource('361')">Show source</a></p>
<div id='361' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::_run {{what {}}} {

  <i><font color=#646464># Runs e_menu's item of menu.mnu.</font></i>
  <i><font color=#646464>#   what - the item (by default, &quot;Run me&quot;)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#7A040E>winfo</font></b> exists .em] && [<b><font color=#7A040E>winfo</font></b> ismapped .em]} {
    <b><font color=#7A040E>bell</font></b>
  }
  <b><font color=#923B23>set</font></b> opts <font color=#035103>&quot;EX=<font color=#4A181B>$</font>what&quot;</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$what</font> eq {}} {
    <i><font color=#646464>#  it is 'Run me' e_menu item</font></i>
    <b><font color=#923B23>set</font></b> fpid [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$al(EM</font>,menudir) .pid~]
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$::alited::DEBUG</font> && [<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$fpid</font>]} {
      <b><font color=#923B23>catch</font></b> {
        <b><font color=#923B23>set</font></b> pid [::apave::readTextFile <font color=#4A181B>$fpid</font>]
        <b><font color=#923B23>exec</font></b> kill <font color=#463e11>-s</font> SIGINT <font color=#4A181B>$pid</font>
      }
    }
    <b><font color=#923B23>set</font></b> opts {EX=1 PI=1}
    BeforeRun
  }
  e_menu {*}<font color=#4A181B>$opts</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::BeforeRun'>BeforeRun</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a command before running &quot;Tools/Run&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BeforeRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_362' href="javascript:toggleSource('362')">Show source</a></p>
<div id='362' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::BeforeRun {} {

  <i><font color=#646464># Runs a command before running &quot;Tools/Run&quot;</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> runs [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$alited::EOL</font> \n] <font color=#4A181B>$al(prjbeforerun)</font>]
  <b><font color=#923B23>foreach</font></b> run [<b><font color=#923B23>split</font></b> <font color=#4A181B>$runs</font> \n] {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> run [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$run</font>]] ne {}} {
      <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> {*}<font color=#4A181B>$run</font>} e
      alited::info::Put <font color=#035103>&quot;<font color=#4A181B>$</font>al(MC,beforerun): \&quot;<font color=#4A181B>$</font>run\&quot; -&gt; <font color=#4A181B>$</font>e&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::BeforeRunDlg'>BeforeRunDlg</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Dialogue to enter a command before running &quot;Tools/Run&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BeforeRunDlg</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_363' href="javascript:toggleSource('363')">Show source</a></p>
<div id='363' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::BeforeRunDlg {} {

  <i><font color=#646464># Dialogue to enter a command before running &quot;Tools/Run&quot;</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>set</font></b> head [msgcat::mc <font color=#035103>&quot;\n Enter commands to be run before running a current file with \&quot;Tools/Run\&quot;.\n It can be necessary for a specific project. Something like an initialization before \&quot;Run\&quot;.  \n&quot;</font>]
  <b><font color=#923B23>set</font></b> run [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$alited::EOL</font> \n] <font color=#4A181B>$al(prjbeforerun)</font>]
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$obDl2</font> input {} <font color=#4A181B>$al(MC</font>,beforerun) [<b><font color=#923B23>list</font></b>  tex <font color=#035103>&quot;<font color=#4A181B>{[</font>msgcat::mc Commands:<font color=#4A181B>]}</font> <font color=#4A181B>{}</font> <font color=#4A181B>{</font>-w 60 -h 8<font color=#4A181B>}</font>&quot;</font> <font color=#035103>&quot;<font color=#4A181B>$</font>run&quot;</font> ] <font color=#463e11>-head</font> <font color=#4A181B>$head</font>] res run
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font>} {
    <b><font color=#923B23>set</font></b> al(prjbeforerun) [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \n <font color=#4A181B>$alited::EOL</font>] [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$run</font>]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::ColorPicker'>ColorPicker</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a color picker passing to it and getting from it a color.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorPicker</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_364' href="javascript:toggleSource('364')">Show source</a></p>
<div id='364' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::ColorPicker {} {

  <i><font color=#646464># Calls a color picker passing to it and getting from it a color.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>lassign</font></b> [alited::find::GetWordOfText 2] color pos1 pos2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$color</font> ne {}} {
    <b><font color=#923B23>set</font></b> al(chosencolor) <font color=#4A181B>$color</font>
  }
  <b><font color=#923B23>set</font></b> res [::apave::obj chooser colorChooser alited::al(chosencolor)  <font color=#463e11>-moveall</font> <font color=#4A181B>$al(moveall)</font> <font color=#463e11>-tonemoves</font> <font color=#4A181B>$al(tonemoves)</font> <font color=#463e11>-parent</font> <font color=#4A181B>$al(WIN)</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> ne {}} {
    <b><font color=#923B23>set</font></b> al(moveall) [::apave::obj paveoptionValue moveall]
    <b><font color=#923B23>set</font></b> al(tonemoves) [::apave::obj paveoptionValue tonemoves]
    <b><font color=#923B23>set</font></b> al(chosencolor) <font color=#4A181B>$res</font>
    InsertInText <font color=#4A181B>$res</font> <font color=#4A181B>$pos1</font> <font color=#4A181B>$pos2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::CtrlC'>CtrlC</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>CtrlC</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_365' href="javascript:toggleSource('365')">Show source</a></p>
<div id='365' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::CtrlC {} {

  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Copy&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::CtrlV'>CtrlV</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>CtrlV</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_366' href="javascript:toggleSource('366')">Show source</a></p>
<div id='366' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::CtrlV {} {

  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Paste&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::CtrlX'>CtrlX</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>CtrlX</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_367' href="javascript:toggleSource('367')">Show source</a></p>
<div id='367' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::CtrlX {} {

  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Cut&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::DatePicker'>DatePicker</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a calendar to pick a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DatePicker</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_368' href="javascript:toggleSource('368')">Show source</a></p>
<div id='368' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::DatePicker {} {

  <i><font color=#646464># Calls a calendar to pick a date.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>lassign</font></b> [alited::find::GetWordOfText 2] date pos1 pos2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$date</font> ne {}  && ![<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>clock</font></b> scan <font color=#4A181B>$date</font> <font color=#463e11>-format</font> <font color=#4A181B>$al(TPL</font>,%d)}]} {
    <b><font color=#923B23>set</font></b> al(klnddate) <font color=#4A181B>$date</font>
  } <b><font color=#923B23>elseif</font></b> {![<b><font color=#923B23>info</font></b> exists al(klnddate)]} {
    <b><font color=#923B23>set</font></b> al(klnddate) [<b><font color=#923B23>clock</font></b> format [<b><font color=#923B23>clock</font></b> seconds] <font color=#463e11>-format</font> <font color=#4A181B>$al(TPL</font>,%d)]
  }
  <b><font color=#923B23>set</font></b> res [::apave::obj chooser dateChooser alited::al(klnddate)  <font color=#463e11>-parent</font> <font color=#4A181B>$al(WIN)</font> <font color=#463e11>-dateformat</font> <font color=#4A181B>$al(TPL</font>,%d)]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> ne {}} {
    <b><font color=#923B23>set</font></b> al(klnddate) <font color=#4A181B>$res</font>
    InsertInText <font color=#4A181B>$res</font> <font color=#4A181B>$pos1</font> <font color=#4A181B>$pos2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu'>e_menu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>arguments of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an external application or an internal procedure, depending on e_menu's preferences.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_369' href="javascript:toggleSource('369')">Show source</a></p>
<div id='369' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::e_menu {args} {

  <i><font color=#646464># Runs e_menu.</font></i>
  <i><font color=#646464>#   args - arguments of e_menu</font></i>
  <i><font color=#646464># The e_menu is run as an external application or an internal procedure,</font></i>
  <i><font color=#646464># depending on e_menu's preferences.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {{EX=Help} ni <font color=#4A181B>$args</font>} {
    EM_SaveFiles
    <b><font color=#923B23>if</font></b> {![is_submenu <font color=#4A181B>$args</font>]} {
      <b><font color=#923B23>append</font></b> args <font color=#035103>&quot; g=&quot;</font>  ;<i><font color=#646464># should be last, to override previous settings</font></i>
    }
    <b><font color=#923B23>if</font></b> {{m=grep.mnu} in <font color=#4A181B>$args</font>} {
      <b><font color=#923B23>append</font></b> args <font color=#035103>&quot; NE=1&quot;</font>  ;<i><font color=#646464># let him search till closing the search dialogue</font></i>
    }
  }
  <b><font color=#923B23>if</font></b> {{m=menu.mnu} in <font color=#4A181B>$args</font> && {ex=d} in <font color=#4A181B>$args</font> && <font color=#4A181B>$al(BACKUP)</font> ne {}} {
    <i><font color=#646464># Differences of a file & its backup: get the backup's name</font></i>
    <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#923B23>lassign</font></b> [alited::edit::BackupDirFileNames <font color=#4A181B>$TID</font>] dir fname fname2
    <i><font color=#646464>#set fname2 [alited::edit::BackupFileName $fname2 0]</font></i>
    <b><font color=#923B23>append</font></b> args <font color=#035103>&quot; \&quot;BF=<font color=#4A181B>$</font>fname2\&quot;&quot;</font>  ;<i><font color=#646464># version before 1st change</font></i>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$alited::al(EM</font>,exec)} {
    e_menu1 <font color=#4A181B>$args</font>
  } <b><font color=#923B23>else</font></b> {
    e_menu2 <font color=#4A181B>$args</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu1'>e_menu1</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu1</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>options of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an external application.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_370' href="javascript:toggleSource('370')">Show source</a></p>
<div id='370' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::e_menu1 {opts} {

  <i><font color=#646464># Runs e_menu.</font></i>
  <i><font color=#646464>#   opts - options of e_menu</font></i>
  <i><font color=#646464># The e_menu is run as an external application.</font></i>

  alited::Run [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::e_menu_dir</font> e_menu.tcl] {*}[EM_Options <font color=#4A181B>$opts</font>] c=<font color=#4A181B>$alited::al(EM</font>,CS)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu2'>e_menu2</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu2</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>options of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an internal procedure.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_371' href="javascript:toggleSource('371')">Show source</a></p>
<div id='371' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::e_menu2 {opts} {

  <i><font color=#646464># Runs e_menu.</font></i>
  <i><font color=#646464>#   opts - options of e_menu</font></i>
  <i><font color=#646464># The e_menu is run as an internal procedure.</font></i>

  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists ::em::geometry]} {
    <b><font color=#923B23>source</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::e_menu_dir</font> e_menu.tcl]
  }
  ::apave::cs_Active no ;<i><font color=#646464># no CS changes by e_menu</font></i>
  <b><font color=#923B23>set</font></b> options [EM_Options <font color=#4A181B>$opts</font>]
  ::em::main <font color=#463e11>-prior</font> 1 <font color=#463e11>-modal</font> 0 <font color=#463e11>-remain</font> 0 <font color=#463e11>-noCS</font> 1 {*}<font color=#4A181B>$options</font>
  <b><font color=#923B23>if</font></b> {[is_submenu <font color=#4A181B>$options</font>]} {
    <b><font color=#923B23>set</font></b> alited::al(EM,geometry) <font color=#4A181B>$::em::geometry</font>
  }
  ::apave::cs_Active yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_AllStructure'>EM_AllStructure</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets all items of all menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_AllStructure</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>a root menu's file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_372' href="javascript:toggleSource('372')">Show source</a></p>
<div id='372' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_AllStructure {mnu} {

  <i><font color=#646464># Gets all items of all menus.</font></i>
  <i><font color=#646464>#   mnu - a root menu's file name</font></i>

  <b><font color=#923B23>set</font></b> alited::al(EM_STRUCTURE) [<b><font color=#923B23>list</font></b>]
  EM_AllStructure1 <font color=#4A181B>$mnu</font> 0
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$alited::al(EM_STRUCTURE)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_AllStructure1'>EM_AllStructure1</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets recursively all items of all menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_AllStructure1</span> <span class='ruff_arg'>mnu lev</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>a current menu's file name</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>a current level of menu</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_373' href="javascript:toggleSource('373')">Show source</a></p>
<div id='373' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_AllStructure1 {mnu lev} {

  <i><font color=#646464># Gets recursively all items of all menus.</font></i>
  <i><font color=#646464>#   mnu - a current menu's file name</font></i>
  <i><font color=#646464>#   lev - a current level of menu</font></i>

  <b><font color=#923B23>foreach</font></b> mit [EM_Structure <font color=#4A181B>$mnu</font>] {
    <b><font color=#923B23>incr</font></b> i
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$mit</font> mnu item h
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match {M-*} <font color=#4A181B>$item</font>]} {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#463e11>-index</font> end <font color=#4A181B>$alited::al(EM_STRUCTURE)</font> <font color=#4A181B>$item</font>]&gt;-1} {
        <b><font color=#923B23>continue</font></b> ;<i><font color=#646464># to avoid infinite cycle</font></i>
      }
      <b><font color=#923B23>set</font></b> lev [EM_AllStructure1 [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$item</font> 2 end] [<b><font color=#923B23>incr</font></b> lev]]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>lappend</font></b> alited::al(EM_STRUCTURE) [<b><font color=#923B23>list</font></b> <font color=#4A181B>$lev</font> <font color=#4A181B>$mnu</font> <font color=#4A181B>$h</font>[EM_HotKey <font color=#4A181B>$i</font>] <font color=#4A181B>$item</font>]
    }
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>incr</font></b> lev -1]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_command'>EM_command</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets e_menu command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_command</span> <span class='ruff_arg'>im</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>im</code></code></td><td class='ruff_defitem'>index of the command in em_inf array</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_374' href="javascript:toggleSource('374')">Show source</a></p>
<div id='374' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_command {im} {

  <i><font color=#646464># Gets e_menu command.</font></i>
  <i><font color=#646464>#   im - index of the command in em_inf array</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited::pref em_inf em_inf
  <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$em_inf(</font>$im) mnu idx item
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$idx</font> eq {-} || [<b><font color=#923B23>regexp</font></b> {^[^[:blank:].]+[.]mnu: } <font color=#4A181B>$item</font>]} {
    <i><font color=#646464># open a menu</font></i>
    <b><font color=#923B23>set</font></b> mnu [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$item</font> 0 [<b><font color=#923B23>string</font></b> first : <font color=#4A181B>$item</font>]-1]
    <b><font color=#923B23>set</font></b> ex {ex= o=0}
  } <b><font color=#923B23>else</font></b> {
    <i><font color=#646464># call a command</font></i>
    <b><font color=#923B23>set</font></b> ex <font color=#035103>&quot;ex=<font color=#4A181B>[</font>alited::tool::EM_HotKey <font color=#4A181B>$</font>idx<font color=#4A181B>]</font>&quot;</font>
  }
  <b><font color=#A106A1>return</font></b> <font color=#035103>&quot;alited::tool::e_menu \&quot;m=<font color=#4A181B>$</font>mnu\&quot; <font color=#4A181B>$</font>ex&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_dir'>EM_dir</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a directory of e_menu's menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_dir</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a directory of e_menu's menus.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_375' href="javascript:toggleSource('375')">Show source</a></p>
<div id='375' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_dir {} {

  <i><font color=#646464># Returns a directory of e_menu's menus.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(EM</font>,menudir) eq {}} {
    <b><font color=#A106A1>return</font></b> <font color=#4A181B>$::e_menu_dir</font>
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$al(EM</font>,menudir)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_HotKey'>EM_HotKey</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns e_menu's hotkeys which numerate menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_HotKey</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns e_menu's hotkeys which numerate menu items.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_376' href="javascript:toggleSource('376')">Show source</a></p>
<div id='376' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_HotKey {idx} {

  <i><font color=#646464># Returns e_menu's hotkeys which numerate menu items.</font></i>

  <b><font color=#923B23>set</font></b> hk {0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,./}
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>string</font></b> index <font color=#4A181B>$hk</font> <font color=#4A181B>$idx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_Options'>EM_Options</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns e_menu's general options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_Options</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns e_menu's general options.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_377' href="javascript:toggleSource('377')">Show source</a></p>
<div id='377' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_Options {opts} {

  <i><font color=#646464># Returns e_menu's general options.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> sel [alited::find::GetWordOfText]
  <b><font color=#923B23>set</font></b> f [alited::bar::FileName]
  <b><font color=#923B23>set</font></b> d [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$f</font>]
  <i><font color=#646464># get a list of selected tabs (i.e. their file names):</font></i>
  <i><font color=#646464># it's used as %ls wildcard in grep.mnu (&quot;SEARCH EXACT LS=&quot;)</font></i>
  <b><font color=#923B23>set</font></b> tabs [alited::bar::BAR listFlag s]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$tabs</font>]&gt;1} {
    <b><font color=#923B23>foreach</font></b> tab <font color=#4A181B>$tabs</font> {
      <b><font color=#923B23>append</font></b> ls [alited::bar::FileName <font color=#4A181B>$tab</font>] <font color=#035103>&quot; &quot;</font>
    }
    <b><font color=#923B23>set</font></b> ls <font color=#035103>&quot;\&quot;ls=<font color=#4A181B>$</font>ls\&quot;&quot;</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> ls <font color=#035103>&quot;ls=&quot;</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(EM</font>,DiffTool) ne {}} {<b><font color=#923B23>append</font></b> ls <font color=#035103>&quot; DF=<font color=#4A181B>$</font>al(EM,DiffTool)&quot;</font>}
  <b><font color=#923B23>set</font></b> l [[alited::main::CurrentWTXT] index insert]
  <b><font color=#923B23>set</font></b> l [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$l)</font>}]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#035103>&quot;md=<font color=#4A181B>$</font>al(EM,menudir)&quot;</font> <font color=#035103>&quot;m=<font color=#4A181B>$</font>al(EM,menu)&quot;</font> <font color=#035103>&quot;f=<font color=#4A181B>$</font>f&quot;</font> <font color=#035103>&quot;d=<font color=#4A181B>$</font>d&quot;</font> <font color=#035103>&quot;l=<font color=#4A181B>$</font>l&quot;</font>  <font color=#035103>&quot;PD=<font color=#4A181B>$</font>al(EM,PD=)&quot;</font> <font color=#035103>&quot;pd=<font color=#4A181B>$</font>al(prjroot)&quot;</font> <font color=#035103>&quot;h=<font color=#4A181B>$</font>al(EM,h=)&quot;</font> <font color=#035103>&quot;tt=<font color=#4A181B>$</font>al(EM,tt=)&quot;</font> <font color=#035103>&quot;s=<font color=#4A181B>$</font>sel&quot;</font>  o=0 g=<font color=#4A181B>$al(EM</font>,geometry) {*}<font color=#4A181B>$ls</font> {*}<font color=#4A181B>$opts</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_SaveFiles'>EM_SaveFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_SaveFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_378' href="javascript:toggleSource('378')">Show source</a></p>
<div id='378' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_SaveFiles {} {

  <i><font color=#646464># Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.</font></i>
  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(EM</font>,save) in {All yes}} {
    alited::file::SaveAll
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$al(EM</font>,save) eq {Current}} {
    <b><font color=#923B23>if</font></b> {[alited::file::IsModified]} {
      alited::file::SaveFile
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_Structure'>EM_Structure</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a menu's items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_Structure</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>the menu's file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_379' href="javascript:toggleSource('379')">Show source</a></p>
<div id='379' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::EM_Structure {mnu} {

  <i><font color=#646464># Gets a menu's items.</font></i>
  <i><font color=#646464>#   mnu - the menu's file name</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> mnu [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$mnu</font> <font color=#035103>&quot;\&quot; &quot;</font>]
  <b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>file</font></b> join [EM_dir] menus [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$mnu</font>]]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> fcont [::apave::readTextFile <font color=#4A181B>$fname</font> {} 1]}]} {
    <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b>]
  }
  <b><font color=#923B23>set</font></b> res [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> prname {}
  <b><font color=#923B23>set</font></b> mmarks [<b><font color=#923B23>list</font></b> S: R: M: S/ R/ M/ SE: RE: ME: SE/ RE/ ME/ SW: RW: MW: SW/ RW/ MW/ I:]
  <b><font color=#923B23>set</font></b> ismenu yes
  <b><font color=#923B23>set</font></b> ishidden [<b><font color=#923B23>set</font></b> isoptions no]
  <b><font color=#923B23>foreach</font></b> line [::apave::textsplit <font color=#4A181B>$fcont</font>] {
    <b><font color=#923B23>set</font></b> line [<b><font color=#923B23>string</font></b> trimleft <font color=#4A181B>$line</font>]
    <b><font color=#923B23>switch</font></b> <font color=#4A181B>$line</font> {
      {[MENU]} {
        <b><font color=#923B23>set</font></b> ismenu yes
        <b><font color=#923B23>set</font></b> ishidden [<b><font color=#923B23>set</font></b> isoptions no]
        <b><font color=#923B23>continue</font></b>
      }
      {[HIDDEN]} {
        <b><font color=#923B23>set</font></b> ishidden yes
        <b><font color=#923B23>set</font></b> ismenu [<b><font color=#923B23>set</font></b> isoptions no]
        <b><font color=#923B23>continue</font></b>
      }
      {[OPTIONS]} {
        <b><font color=#923B23>set</font></b> isoptions yes
        <b><font color=#923B23>set</font></b> ismenu [<b><font color=#923B23>set</font></b> ishidden no]
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isoptions</font>} <b><font color=#923B23>continue</font></b>
    <b><font color=#923B23>foreach</font></b> mark <font color=#4A181B>$mmarks</font> {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#035103>&quot;<font color=#4A181B>${</font>mark<font color=#4A181B>}</font>*<font color=#4A181B>${</font>mark<font color=#4A181B>}</font>*&quot;</font> <font color=#4A181B>$line</font>]} {
        <b><font color=#923B23>set</font></b> i1 [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$mark</font>]
        <b><font color=#923B23>set</font></b> i2 [<b><font color=#923B23>string</font></b> first <font color=#4A181B>$mark</font> <font color=#4A181B>$line</font> 2]
        <b><font color=#923B23>set</font></b> typ [<b><font color=#923B23>string</font></b> index <font color=#4A181B>$mark</font> 0]
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$typ</font> eq {M}} {
          <b><font color=#923B23>set</font></b> line [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> <font color=#4A181B>$i2</font> end]
          <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>regexp</font></b> <font color=#463e11>-inline</font> {.+m=([^[:blank:]]+)} <font color=#4A181B>$line</font>] -&gt; itemname
        } <b><font color=#923B23>else</font></b> {
          <b><font color=#923B23>set</font></b> itemname [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> <font color=#4A181B>$i1</font> <font color=#4A181B>$i2</font>-1]]
        }
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$itemname</font> ni {{} -} && <font color=#4A181B>$itemname</font> ne <font color=#4A181B>$prname</font>} {
          <b><font color=#923B23>set</font></b> prname <font color=#4A181B>$itemname</font>
          <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ishidden</font>} {<b><font color=#923B23>set</font></b> h h} {<b><font color=#923B23>set</font></b> h {}}
          <b><font color=#923B23>lappend</font></b> res [<b><font color=#923B23>list</font></b> <font color=#4A181B>$mnu</font> <font color=#035103>&quot;<font color=#4A181B>$</font>typ-<font color=#4A181B>$</font>itemname&quot;</font> <font color=#4A181B>$h</font>]
        }
      }
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a help on alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_380' href="javascript:toggleSource('380')">Show source</a></p>
<div id='380' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::Help {} {

  <i><font color=#646464># Calls a help on alited.</font></i>

  _run Help
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::InsertInText'>InsertInText</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Insert a string into a text possibly instead of its selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertInText</span> <span class='ruff_arg'>str ?pos1? ?pos2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>the string</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position in a current line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>ending position in a current line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_381' href="javascript:toggleSource('381')">Show source</a></p>
<div id='381' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::InsertInText {str {pos1 {}} {pos2 {}}} {

  <i><font color=#646464># Insert a string into a text possibly instead of its selection.</font></i>
  <i><font color=#646464>#   str - the string</font></i>
  <i><font color=#646464>#   pos1 - starting position in a current line</font></i>
  <i><font color=#646464>#   pos2 - ending position in a current line</font></i>

    <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos1</font> eq {}} {
      <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtxt</font> tag ranges sel] pos1 pos2
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> line [<b><font color=#923B23>expr</font></b> {int([<font color=#4A181B>$wtxt</font> index insert])}]
      <b><font color=#923B23>set</font></b> prevch [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$line</font>.[<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$pos1</font>-1}] <font color=#4A181B>$line</font>.<font color=#4A181B>$pos1</font>]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$prevch</font> eq [<b><font color=#923B23>string</font></b> index <font color=#4A181B>$str</font> 0]} {
        <b><font color=#923B23>incr</font></b> pos1 -1
      }
      <b><font color=#923B23>set</font></b> pos1 <font color=#4A181B>$line</font>.<font color=#4A181B>$pos1</font>
      <b><font color=#923B23>set</font></b> pos2 <font color=#4A181B>$line</font>.[<b><font color=#923B23>incr</font></b> pos2]
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos1</font> ne {}} {
      <font color=#4A181B>$wtxt</font> delete <font color=#4A181B>$pos1</font> <font color=#4A181B>$pos2</font>
    }
    <font color=#4A181B>$wtxt</font> insert [<font color=#4A181B>$wtxt</font> index insert] <font color=#4A181B>$str</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::is_submenu'>is_submenu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if e_menu's arguments are for submenu</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>is_submenu</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>e_menu's arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_382' href="javascript:toggleSource('382')">Show source</a></p>
<div id='382' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::is_submenu {opts} {

  <i><font color=#646464># Checks if e_menu's arguments are for submenu</font></i>
  <i><font color=#646464>#   opts - e_menu's arguments</font></i>

  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-glob</font> <font color=#463e11>-nocase</font> <font color=#4A181B>$opts</font> EX=*] == -1}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Loupe'>Loupe</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a screen loupe.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Loupe</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_383' href="javascript:toggleSource('383')">Show source</a></p>
<div id='383' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::Loupe {} {

  <i><font color=#646464># Calls a screen loupe.</font></i>

  alited::Run [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::PAVEDIR</font> pickers color aloupe aloupe.tcl]  <font color=#463e11>-locale</font> <font color=#4A181B>$alited::al(LOCAL)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::PopupBar'>PopupBar</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a popup menu in the tool bar, to enter e_menu's preferences.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupBar</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of clicking on the tool bar</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of clicking on the tool bar</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_384' href="javascript:toggleSource('384')">Show source</a></p>
<div id='384' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::PopupBar {X Y} {

  <i><font color=#646464># Opens a popup menu in the tool bar, to enter e_menu's preferences.</font></i>
  <i><font color=#646464>#   X - x-coordinate of clicking on the tool bar</font></i>
  <i><font color=#646464>#   Y - y-coordinate of clicking on the tool bar</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> popm <font color=#4A181B>$al(WIN)</font>.popupBar
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$popm</font>}
  <b><font color=#7A040E>menu</font></b> <font color=#4A181B>$popm</font> <font color=#463e11>-tearoff</font> 0
  <font color=#4A181B>$popm</font> add command <font color=#463e11>-label</font> [msgcat::mc {Open bar/menu settings}]  <font color=#463e11>-command</font> {alited::pref::_run Emenu_Tab}
  <font color=#4A181B>$obPav</font> themePopup <font color=#4A181B>$popm</font>
  <b><font color=#7A040E>tk_popup</font></b> <font color=#4A181B>$popm</font> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Redo'>Redo</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>Redo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_385' href="javascript:toggleSource('385')">Show source</a></p>
<div id='385' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::Redo {} {

  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Redo&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::tkcon'>tkcon</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls Tkcon application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>tkcon</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_386' href="javascript:toggleSource('386')">Show source</a></p>
<div id='386' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::tkcon {} {

  <i><font color=#646464># Calls Tkcon application.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>foreach</font></b> opt [<b><font color=#923B23>array</font></b> names al tkcon,clr*] {
    <b><font color=#923B23>lappend</font></b> opts <font color=#463e11>-color</font>-[<b><font color=#923B23>string</font></b> range <font color=#4A181B>$opt</font> 9 end] <font color=#4A181B>$al(</font>$opt)
  }
  <b><font color=#923B23>foreach</font></b> opt {rows cols fsize geo topmost} {
    <b><font color=#923B23>lappend</font></b> opts <font color=#463e11>-apl</font>-<font color=#4A181B>$opt</font> <font color=#4A181B>$al(tkcon</font>,<font color=#4A181B>$opt)</font>
  }
  alited::Run [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$::alited::LIBDIR</font> util tkcon.tcl] {*}<font color=#4A181B>$opts</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::ToolButName'>ToolButName</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Helper procedure to get a name of toolbar button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolButName</span> <span class='ruff_arg'>img</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>img</code></code></td><td class='ruff_defitem'>name of icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_387' href="javascript:toggleSource('387')">Show source</a></p>
<div id='387' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::ToolButName {img} {

  <i><font color=#646464># Helper procedure to get a name of toolbar button.</font></i>
  <i><font color=#646464>#   img - name of icon</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#A106A1>return</font></b> [<font color=#4A181B>$obPav</font> ToolTop].buT_alimg_<font color=#4A181B>$img<font color=#463e11></font>-big</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Undo'>Undo</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>Undo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_388' href="javascript:toggleSource('388')">Show source</a></p>
<div id='388' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tool::Undo {} {

  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Undo&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::tree'></a>::alited::tree<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::tree-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddItem'>AddItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a new item to the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddItem</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>an item's ID where the new item will be added (for the file tree); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_389' href="javascript:toggleSource('389')">Show source</a></p>
<div id='389' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::AddItem {{ID {}}} {

  <i><font color=#646464># Adds a new item to the tree.</font></i>
  <i><font color=#646464>#   ID - an item's ID where the new item will be added (for the file tree).</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
    alited::unit::Add
  } <b><font color=#923B23>else</font></b> {
    alited::file::Add <font color=#4A181B>$ID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddTags'>AddTags</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates tags for the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddTags</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_390' href="javascript:toggleSource('390')">Show source</a></p>
<div id='390' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::AddTags {wtree} {

  <i><font color=#646464># Creates tags for the tree.</font></i>
  <i><font color=#646464>#   wtree - the tree's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>lassign</font></b> [::hl_tcl::hl_colors {<font color=#463e11>-AddTags</font>} [::apave::obj csDarkEdit]] - fgred fgbr
  <b><font color=#923B23>append</font></b> fontN <font color=#035103>&quot;-font <font color=#4A181B>$</font>alited::al(FONT,defsmall)&quot;</font>
  <b><font color=#923B23>append</font></b> fontS <font color=#4A181B>$fontN</font> <font color=#035103>&quot; -foreground <font color=#4A181B>$</font>fgred&quot;</font>
  <font color=#4A181B>$wtree</font> tag configure tagNorm {*}<font color=#4A181B>$fontN</font>
  <font color=#4A181B>$wtree</font> tag configure tagSel  {*}<font color=#4A181B>$fontS</font>
  <font color=#4A181B>$wtree</font> tag configure tagBold <font color=#463e11>-foreground</font> magenta
  <font color=#4A181B>$wtree</font> tag configure tagBranch <font color=#463e11>-foreground</font> <font color=#4A181B>$fgbr</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddToDirContents'>AddToDirContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds an item to a list of directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddToDirContents</span> <span class='ruff_arg'>lev isfile fname iroot</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level in the directory hierarchy</td></tr>
<tr><td class='ruff_defitem'><code><code>isfile</code></code></td><td class='ruff_defitem'>a flag &quot;file&quot; (if yes) or &quot;directory&quot; (if no)</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>a file name to be added</td></tr>
<tr><td class='ruff_defitem'><code><code>iroot</code></code></td><td class='ruff_defitem'>index of the directory's parent or -1</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_391' href="javascript:toggleSource('391')">Show source</a></p>
<div id='391' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::AddToDirContents {lev isfile fname iroot} {

  <i><font color=#646464># Adds an item to a list of directory's contents.</font></i>
  <i><font color=#646464>#   lev - level in the directory hierarchy</font></i>
  <i><font color=#646464>#   isfile - a flag &quot;file&quot; (if yes) or &quot;directory&quot; (if no)</font></i>
  <i><font color=#646464>#   fname - a file name to be added</font></i>
  <i><font color=#646464>#   iroot - index of the directory's parent or -1</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> dllen [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(_dirtree)</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dllen</font> &lt; <font color=#4A181B>$al(MAXFILES)</font>} {
    <b><font color=#923B23>lappend</font></b> al(_dirtree) [<b><font color=#923B23>list</font></b> <font color=#4A181B>$lev</font> <font color=#4A181B>$isfile</font> <font color=#4A181B>$fname</font> 0 <font color=#4A181B>$iroot</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$iroot</font>&gt;-1} {
      <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(_dirtree)</font> <font color=#4A181B>$iroot</font>] lev isfile fname fcount sroot
      <b><font color=#923B23>set</font></b> al(_dirtree) [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(_dirtree)</font> <font color=#4A181B>$iroot</font> <font color=#4A181B>$iroot</font>  [<b><font color=#923B23>list</font></b> <font color=#4A181B>$lev</font> <font color=#4A181B>$isfile</font> <font color=#4A181B>$fname</font> [<b><font color=#923B23>incr</font></b> fcount] <font color=#4A181B>$sroot</font>]]
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$dllen</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AdjustWidth'>AdjustWidth</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fixes a problem with the tree scrollbar's width at resizing the panes. The problem occurs if Frame's width is less than Tree's + Scrollbar's, as then the scrollbar is squeezed. Thus the Tree's width should be adjusted. The restart of alited will fully repair this.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AdjustWidth</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_392' href="javascript:toggleSource('392')">Show source</a></p>
<div id='392' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::AdjustWidth {} {

  <i><font color=#646464># Fixes a problem with the tree scrollbar's width at resizing the panes.</font></i>
  <i><font color=#646464># The problem occurs if Frame's width is less than Tree's + Scrollbar's, as</font></i>
  <i><font color=#646464># then the scrollbar is squeezed. Thus the Tree's width should be adjusted.</font></i>
  <i><font color=#646464># The restart of alited will fully repair this.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wpf [<b><font color=#7A040E>winfo</font></b> width [<font color=#4A181B>$obPav</font> FraTree]]
  <b><font color=#923B23>set</font></b> ws1 [<b><font color=#7A040E>winfo</font></b> width [<font color=#4A181B>$obPav</font> SbvTree]]
  <b><font color=#923B23>set</font></b> ws2 [<b><font color=#7A040E>winfo</font></b> width [<font color=#4A181B>$obPav</font> SbvFavor]]
  <b><font color=#923B23>set</font></b> w2 [[<font color=#4A181B>$obPav</font> Tree] column #1 <font color=#463e11>-width</font>]
  [<font color=#4A181B>$obPav</font> Tree] column #0 <font color=#463e11>-width</font> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$wpf</font>-<font color=#4A181B>$w2</font>-<font color=#4A181B>$ws2</font>-4}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonMotion'>ButtonMotion</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Starts moving an item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonMotion</span> <span class='ruff_arg'>but s x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>state (ctrl/alt/shift)</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_393' href="javascript:toggleSource('393')">Show source</a></p>
<div id='393' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::ButtonMotion {but s x y X Y} {

  <i><font color=#646464># Starts moving an item of the tree.</font></i>
  <i><font color=#646464>#   but - mouse button</font></i>
  <i><font color=#646464>#   s - state (ctrl/alt/shift)</font></i>
  <i><font color=#646464>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#646464>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#646464>#   X - x-coordinate of the click</font></i>
  <i><font color=#646464>#   Y - x-coordinate of the click</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(movWin)] || <font color=#4A181B>$al(movWin)</font> eq {}} {
    alited::tree::Tooltip <font color=#4A181B>$x</font> <font color=#4A181B>$y</font> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$s</font> & 7} {
    <b><font color=#923B23>set</font></b> al(movWin) {}
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <i><font color=#646464># dragging the tab</font></i>
  <b><font color=#923B23>if</font></b> {![<b><font color=#7A040E>winfo</font></b> exists <font color=#4A181B>$al(movWin)</font>]} {
    <i><font color=#646464># make the tab's replica to be dragged</font></i>
    <b><font color=#7A040E>toplevel</font></b> <font color=#4A181B>$al(movWin)</font>
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$::tcl_platform(platform)</font> eq {windows}} {
      <b><font color=#7A040E>wm</font></b> attributes <font color=#4A181B>$al(movWin)</font> <font color=#463e11>-alpha</font> 0.0
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#7A040E>wm</font></b> withdraw <font color=#4A181B>$al(movWin)</font>
    }
    <b><font color=#923B23>if</font></b> {[<b><font color=#7A040E>tk</font></b> windowingsystem] eq {aqua}} {
      ::tk::unsupported::MacWindowStyle style <font color=#4A181B>$al(movWin)</font> help none
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#7A040E>wm</font></b> overrideredirect <font color=#4A181B>$al(movWin)</font> 1
    }
    <b><font color=#923B23>set</font></b> selection [<font color=#4A181B>$wtree</font> selection]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> il [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$selection</font>]]&gt;1} {
      <b><font color=#923B23>set</font></b> al(movID) <font color=#4A181B>$selection</font>
      <b><font color=#923B23>set</font></b> text <font color=#035103>&quot;<font color=#4A181B>$</font>il items&quot;</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> text [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$al(movID)</font> <font color=#463e11>-text</font>]
    }
    <b><font color=#7A040E>label</font></b> <font color=#4A181B>$al(movWin)</font>.label <font color=#463e11>-text</font> <font color=#4A181B>$text</font> <font color=#463e11>-relief</font> solid <font color=#463e11>-foreground</font> black <font color=#463e11>-background</font> #7eeeee
    <b><font color=#7A040E>pack</font></b> <font color=#4A181B>$al(movWin)</font>.label <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both <font color=#463e11>-ipadx</font> 1
  }
  <b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> identify item <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  <b><font color=#7A040E>wm</font></b> geometry <font color=#4A181B>$al(movWin)</font> +[<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$X</font>+10}]+[<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$Y</font>+10}]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$::tcl_platform(platform)</font> eq {windows}} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#7A040E>wm</font></b> attributes <font color=#4A181B>$al(movWin)</font> <font color=#463e11>-alpha</font>] &lt; 0.1} {<b><font color=#7A040E>wm</font></b> attributes <font color=#4A181B>$al(movWin)</font> <font color=#463e11>-alpha</font> 1.0}
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>wm</font></b> deiconify <font color=#4A181B>$al(movWin)</font> ; <b><font color=#7A040E>raise</font></b> <font color=#4A181B>$al(movWin)</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonPress'>ButtonPress</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a mouse clicking the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonPress</span> <span class='ruff_arg'>but x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_394' href="javascript:toggleSource('394')">Show source</a></p>
<div id='394' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::ButtonPress {but x y X Y} {

  <i><font color=#646464># Handles a mouse clicking the tree.</font></i>
  <i><font color=#646464>#   but - mouse button</font></i>
  <i><font color=#646464>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#646464>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#646464>#   X - x-coordinate of the click</font></i>
  <i><font color=#646464>#   Y - x-coordinate of the click</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  TooltipOff
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> identify item <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  <b><font color=#923B23>set</font></b> region [<font color=#4A181B>$wtree</font> identify region <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  <b><font color=#923B23>set</font></b> al(movID) [<b><font color=#923B23>set</font></b> al(movWin) {}]
  <b><font color=#923B23>if</font></b> {![<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$ID</font>] || <font color=#4A181B>$region</font> ni {tree cell}} {
    <b><font color=#A106A1>return</font></b>  ;<i><font color=#646464># only tree items are processed</font></i>
  }
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$but</font> {
    {3} {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> [<font color=#4A181B>$wtree</font> selection]]&lt;2} {
          <font color=#4A181B>$wtree</font> selection set <font color=#4A181B>$ID</font>
        }
        ShowPopupMenu <font color=#4A181B>$ID</font> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>
    }
    {1} {
      <b><font color=#923B23>set</font></b> al(movID) <font color=#4A181B>$ID</font>
      <b><font color=#923B23>set</font></b> al(movWin) .tritem_move
      <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>clock</font></b> milliseconds]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
        NewSelection <font color=#4A181B>$ID</font>
        alited::main::SaveVisitInfo
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists al(_MSEC)] && [<b><font color=#923B23>expr</font></b> {(<font color=#4A181B>$msec</font>-<font color=#4A181B>$al(_MSEC))</font>&lt;400}]} {
          OpenFile <font color=#4A181B>$ID</font>
        }
      }
      <b><font color=#923B23>set</font></b> al(_MSEC) <font color=#4A181B>$msec</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonRelease'>ButtonRelease</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a mouse button releasing on the tree, at moving an item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonRelease</span> <span class='ruff_arg'>but s x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>state (ctrl/alt/shift)</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_395' href="javascript:toggleSource('395')">Show source</a></p>
<div id='395' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::ButtonRelease {but s x y X Y} {

  <i><font color=#646464># Handles a mouse button releasing on the tree, at moving an item.</font></i>
  <i><font color=#646464>#   but - mouse button</font></i>
  <i><font color=#646464>#   s - state (ctrl/alt/shift)</font></i>
  <i><font color=#646464>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#646464>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#646464>#   X - x-coordinate of the click</font></i>
  <i><font color=#646464>#   Y - x-coordinate of the click</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> identify item <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  DestroyMoveWindow no
  <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>clock</font></b> milliseconds]
  <b><font color=#923B23>if</font></b> {([<b><font color=#923B23>info</font></b> exists al(_MSEC)] && [<b><font color=#923B23>expr</font></b> {(<font color=#4A181B>$msec</font>-<font color=#4A181B>$al(_MSEC))</font>&lt;400}])  || (<font color=#4A181B>$s</font> & 7)} {
    <b><font color=#923B23>set</font></b> al(movWin) {}
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$ID</font>] && [<b><font color=#923B23>info</font></b> exists al(movID)] &&  <font color=#4A181B>$al(movID)</font> ne {} && <font color=#4A181B>$ID</font> ne {} && <font color=#4A181B>$al(movID)</font> ne <font color=#4A181B>$ID</font> &&  [<font color=#4A181B>$wtree</font> identify region <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>] eq {tree}} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
      alited::unit::MoveUnits <font color=#4A181B>$wtree</font> move <font color=#4A181B>$al(movID)</font> <font color=#4A181B>$ID</font>
    } <b><font color=#923B23>else</font></b> {
      alited::file::MoveFiles <font color=#4A181B>$wtree</font> move <font color=#4A181B>$al(movID)</font> <font color=#4A181B>$ID</font>
    }
  }
  DestroyMoveWindow yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::Create'>Create</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a tree of units/files, at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Create</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::CreateFilesTree" title="CreateFilesTree" class='ruff_cmd'>CreateFilesTree</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_396' href="javascript:toggleSource('396')">Show source</a></p>
<div id='396' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::Create {} {

  <i><font color=#646464># Creates a tree of units/files, at need.</font></i>
  <i><font color=#646464># See also: CreateFilesTree</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits) && <font color=#4A181B>$al(TREE</font>,units)  || !<font color=#4A181B>$al(TREE</font>,isunits) && <font color=#4A181B>$al(TREE</font>,files)} <b><font color=#A106A1>return</font></b>  ;<i><font color=#646464># no need</font></i>
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)} {
    <b><font color=#7A040E>pack</font></b> [<font color=#4A181B>$obPav</font> BuTRenT] <font color=#463e11>-side</font> left <font color=#463e11>-after</font> [<font color=#4A181B>$obPav</font> BuTAddT]  ;<i><font color=#646464># display 'Rename' button</font></i>
    <i><font color=#646464># for file tree: get its current &quot;open branch&quot; flags</font></i>
    <i><font color=#646464># in order to check them in CreateFilesTree</font></i>
    <b><font color=#923B23>set</font></b> al(SAVED_FILE_TREE) [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>foreach</font></b> item [GetTree] {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> - - ID - values
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$values</font> -&gt; fname isfile
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is false <font color=#463e11>-strict</font> <font color=#4A181B>$isfile</font>]} {
        <b><font color=#923B23>lappend</font></b> al(SAVED_FILE_TREE) [<b><font color=#923B23>list</font></b> <font color=#4A181B>$fname</font> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-open</font>]]
      }
    }
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#7A040E>pack</font></b> forget [<font color=#4A181B>$obPav</font> BuTRenT] ;<i><font color=#646464># hide 'Rename' button</font></i>
  }
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  Delete <font color=#4A181B>$wtree</font> {} <font color=#4A181B>$TID</font>
  AddTags <font color=#4A181B>$wtree</font>
  <font color=#4A181B>$wtree</font> tag bind tagNorm &lt;ButtonPress&gt; {<b><font color=#923B23>after</font></b> idle {alited::tree::ButtonPress %b %x %y %X %Y}}
  <font color=#4A181B>$wtree</font> tag bind tagNorm &lt;ButtonRelease&gt; {<b><font color=#923B23>after</font></b> idle {alited::tree::ButtonRelease %b %s %x %y %X %Y}}
  <font color=#4A181B>$wtree</font> tag bind tagNorm &lt;Motion&gt; {<b><font color=#923B23>after</font></b> idle {alited::tree::ButtonMotion %b %s %x %y %X %Y}}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtree</font> &lt;ButtonRelease&gt; {alited::tree::DestroyMoveWindow no}
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtree</font> &lt;Leave&gt; {
    alited::tree::TooltipOff
    alited::tree::DestroyMoveWindow yes
  }
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtree</font> &lt;F2&gt; {alited::file::RenameFileInTree}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
    CreateUnitsTree <font color=#4A181B>$TID</font> <font color=#4A181B>$wtree</font>
  } <b><font color=#923B23>else</font></b> {
    CreateFilesTree <font color=#4A181B>$wtree</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CreateFilesTree'>CreateFilesTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateFilesTree</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_397' href="javascript:toggleSource('397')">Show source</a></p>
<div id='397' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::CreateFilesTree {wtree} {

  <i><font color=#646464># Creates a file tree.</font></i>
  <i><font color=#646464>#   wtree - the tree's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> al(TREE,files) yes
  [<font color=#4A181B>$obPav</font> BuTswitch] configure <font color=#463e11>-image</font> alimg_gulls
  baltip::tip [<font color=#4A181B>$obPav</font> BuTswitch] <font color=#4A181B>$al(MC</font>,swfiles)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTAddT] <font color=#4A181B>$al(MC</font>,filesadd)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTDelT] <font color=#4A181B>$al(MC</font>,filesdel)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTUp] <font color=#4A181B>$al(MC</font>,moveupF)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTDown] <font color=#4A181B>$al(MC</font>,movedownF)
  <font color=#4A181B>$al(MENUEDIT)</font> entryconfigure 0 <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,moveupF)
  <font color=#4A181B>$al(MENUEDIT)</font> entryconfigure 1 <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,movedownF)
  <font color=#4A181B>$wtree</font> heading #0 <font color=#463e11>-text</font> <font color=#035103>&quot;:: <font color=#4A181B>[</font>file tail <font color=#4A181B>$</font>al(prjroot)<font color=#4A181B>]</font> ::&quot;</font>
  <font color=#4A181B>$wtree</font> heading #1 <font color=#463e11>-text</font> <font color=#4A181B>$al(MC</font>,files)
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtree</font> &lt;Return&gt; {::alited::tree::OpenFile}
  <b><font color=#923B23>set</font></b> selID <font color=#035103>&quot;&quot;</font>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> selfile [alited::bar::FileName]}]} {
    <b><font color=#923B23>set</font></b> selfile {} ;<i><font color=#646464># at closing by Ctrl+W with file tree open: no current file</font></i>
  }
  <b><font color=#923B23>foreach</font></b> item [GetDirectoryContents <font color=#4A181B>$al(prjroot)</font>] {
    <b><font color=#923B23>set</font></b> itemID  [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iit]]
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> lev isfile fname fcount iroot
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$selfile</font> eq <font color=#4A181B>$fname</font>} {<b><font color=#923B23>set</font></b> selID <font color=#4A181B>$itemID</font>}
    <b><font color=#923B23>set</font></b> title [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$iroot</font>&lt;0} {
      <b><font color=#923B23>set</font></b> parent {}
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> parent [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iroot]]
    }
    <b><font color=#923B23>set</font></b> isopen no
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {
      <b><font color=#923B23>if</font></b> {[alited::file::IsTcl <font color=#4A181B>$fname</font>]} {
        <b><font color=#923B23>set</font></b> imgopt {<font color=#463e11>-image</font> alimg_tclfile}
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> imgopt {<font color=#463e11>-image</font> alimg_file}
      }
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> imgopt {<font color=#463e11>-image</font> alimg_folder}
      <i><font color=#646464># get the directory's flag of expanded branch (in the file tree)</font></i>
      <b><font color=#923B23>set</font></b> idx [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-index</font> 0 <font color=#463e11>-exact</font> <font color=#4A181B>$al(SAVED_FILE_TREE)</font> <font color=#4A181B>$fname</font>]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$idx</font>&gt;-1} {
        <b><font color=#923B23>set</font></b> isopen [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(SAVED_FILE_TREE)</font> <font color=#4A181B>$idx</font> 1]
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fcount</font>} {<b><font color=#923B23>set</font></b> fc <font color=#4A181B>$fcount</font>} {<b><font color=#923B23>set</font></b> fc {}}
    <font color=#4A181B>$wtree</font> insert <font color=#4A181B>$parent</font> end <font color=#463e11>-id</font> <font color=#4A181B>$itemID</font> <font color=#463e11>-text</font> <font color=#035103>&quot;<font color=#4A181B>$</font>title&quot;</font>  <font color=#463e11>-values</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$fc</font> <font color=#4A181B>$fname</font> <font color=#4A181B>$isfile</font> <font color=#4A181B>$itemID</font>] <font color=#463e11>-open</font> <font color=#4A181B>$isopen</font> {*}<font color=#4A181B>$imgopt</font>
    <font color=#4A181B>$wtree</font> tag add tagNorm <font color=#4A181B>$itemID</font>
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$isfile</font>} {
      <font color=#4A181B>$wtree</font> tag add tagBranch <font color=#4A181B>$itemID</font>
    } <b><font color=#923B23>elseif</font></b> {[alited::bar::FileTID <font color=#4A181B>$fname</font>] ne <font color=#035103>&quot;&quot;</font>} {
      <font color=#4A181B>$wtree</font> tag add tagSel <font color=#4A181B>$itemID</font>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$selID</font> ne {}} {
    <font color=#4A181B>$wtree</font> see <font color=#4A181B>$selID</font>
    <font color=#4A181B>$wtree</font> selection set <font color=#4A181B>$selID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CreateUnitsTree'>CreateUnitsTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a unit tree for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateUnitsTree</span> <span class='ruff_arg'>TID wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>a current tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_398' href="javascript:toggleSource('398')">Show source</a></p>
<div id='398' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::CreateUnitsTree {TID wtree} {

  <i><font color=#646464># Creates a unit tree for a tab.</font></i>
  <i><font color=#646464>#   TID - a current tab's ID</font></i>
  <i><font color=#646464>#   wtree - the tree's path</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> al(TREE,units) yes
  [<font color=#4A181B>$obPav</font> BuTswitch] configure <font color=#463e11>-image</font> alimg_folder
  baltip::tip [<font color=#4A181B>$obPav</font> BuTswitch] <font color=#4A181B>$al(MC</font>,swunits)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTAddT] <font color=#4A181B>$al(MC</font>,unitsadd)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTDelT] <font color=#4A181B>$al(MC</font>,unitsdel)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTUp] <font color=#4A181B>$al(MC</font>,moveupU)
  baltip::tip [<font color=#4A181B>$obPav</font> BuTDown] <font color=#4A181B>$al(MC</font>,movedownU)
  <font color=#4A181B>$al(MENUEDIT)</font> entryconfigure 0 <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,moveupU)
  <font color=#4A181B>$al(MENUEDIT)</font> entryconfigure 1 <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,movedownU)
  <font color=#4A181B>$wtree</font> heading #0 <font color=#463e11>-text</font> [alited::bar::CurrentTab 1]
  <font color=#4A181B>$wtree</font> heading #1 <font color=#463e11>-text</font> [msgcat::mc Row]
  <b><font color=#923B23>set</font></b> ctab [alited::bar::CurrentTabID]
  <b><font color=#923B23>set</font></b> parents [<b><font color=#923B23>list</font></b> {}]
  <b><font color=#923B23>set</font></b> parent {}
  <b><font color=#923B23>set</font></b> levprev -1
  <b><font color=#923B23>foreach</font></b> item <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$item</font>]&lt;3} <b><font color=#923B23>continue</font></b>
    <b><font color=#923B23>set</font></b> itemID  [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iit]]
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#923B23>set</font></b> title [UnitTitle <font color=#4A181B>$title</font> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font>]
    <b><font color=#923B23>set</font></b> lev [<b><font color=#923B23>expr</font></b> {min(<font color=#4A181B>$lev</font>,[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$parents</font>])}]
    <b><font color=#923B23>set</font></b> parent [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$parents</font> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$lev</font>-1}]]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$leaf</font>} {
      <b><font color=#923B23>set</font></b> title <font color=#035103>&quot; <font color=#4A181B>$</font>title&quot;</font>
      <b><font color=#923B23>set</font></b> pr [<b><font color=#923B23>expr</font></b> {max(0,min(7,(<font color=#4A181B>$l2</font>-<font color=#4A181B>$l1)</font>/<font color=#4A181B>$al(prjredunit)))</font>}]
      <b><font color=#923B23>set</font></b> imgopt <font color=#035103>&quot;-image alimg_pro<font color=#4A181B>$</font>pr&quot;</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> imgopt <font color=#035103>&quot;-image alimg_gulls&quot;</font>
    }
    <font color=#4A181B>$wtree</font> insert <font color=#4A181B>$parent</font> end <font color=#463e11>-id</font> <font color=#4A181B>$itemID</font> <font color=#463e11>-text</font> <font color=#035103>&quot;<font color=#4A181B>$</font>title&quot;</font>  <font color=#463e11>-values</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font> {} <font color=#4A181B>$itemID</font> <font color=#4A181B>$lev</font> <font color=#4A181B>$leaf</font> <font color=#4A181B>$fl1</font>] <font color=#463e11>-open</font> yes {*}<font color=#4A181B>$imgopt</font>
    <font color=#4A181B>$wtree</font> tag add tagNorm <font color=#4A181B>$itemID</font>
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$leaf</font> &&  [<b><font color=#923B23>info</font></b> exists al(CPOS,<font color=#4A181B>$ctab</font>,[alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$itemID</font>])]} {
        <font color=#4A181B>$wtree</font> tag add tagSel <font color=#4A181B>$itemID</font>
      }
    }
    <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$leaf</font>} {
      <font color=#4A181B>$wtree</font> tag add tagBranch <font color=#4A181B>$itemID</font>
      <b><font color=#923B23>set</font></b> parent <font color=#4A181B>$itemID</font>
      <b><font color=#923B23>set</font></b> parents [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$parents</font> <font color=#4A181B>$lev</font> end <font color=#4A181B>$parent</font>]
    }
    <b><font color=#923B23>set</font></b> levprev <font color=#4A181B>$lev</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CurrentItem'>CurrentItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID of selected item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentItem</span> <span class='ruff_arg'>?Tree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>the tree widget's name; <i>optional, default</i> <code>Tree</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_399' href="javascript:toggleSource('399')">Show source</a></p>
<div id='399' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::CurrentItem {{Tree Tree}} {

  <i><font color=#646464># Gets ID of selected item of the tree.</font></i>
  <i><font color=#646464>#   Tree - the tree widget's name</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> <font color=#4A181B>$Tree</font>]
  <b><font color=#923B23>set</font></b> it [<font color=#4A181B>$wtree</font> focus]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$it</font> eq {}} {<b><font color=#923B23>set</font></b> it [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$wtree</font> selection] 0]}
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$it</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CurrentItemByLine'>CurrentItemByLine</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets item ID of unit tree for a current text position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentItemByLine</span> <span class='ruff_arg'>?pos? ?fullinfo?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>the current text position; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fullinfo</code></code></td><td class='ruff_defitem'>if yes, returns a full info for the found ID; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_400' href="javascript:toggleSource('400')">Show source</a></p>
<div id='400' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::CurrentItemByLine {{pos {}} {fullinfo no}} {

  <i><font color=#646464># Gets item ID of unit tree for a current text position.</font></i>
  <i><font color=#646464>#   pos - the current text position</font></i>
  <i><font color=#646464>#  fullinfo - if yes, returns a full info for the found ID.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos</font> eq {}} {
    <b><font color=#923B23>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
  }
  <b><font color=#923B23>set</font></b> l [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$pos)</font>}]
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>set</font></b> L 0
  <b><font color=#923B23>set</font></b> R [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font>]
  <b><font color=#923B23>while</font></b> {<font color=#4A181B>$L</font>&lt;<font color=#4A181B>$R</font>} {
    <b><font color=#923B23>set</font></b> m [<b><font color=#923B23>expr</font></b> {int((<font color=#4A181B>$L</font>+<font color=#4A181B>$R)</font>/2)}]
    <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$m</font>] lev leaf fl1 title l1 l2 ID
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$l2</font>&lt;<font color=#4A181B>$l</font>} {
      <b><font color=#923B23>set</font></b> L [<b><font color=#923B23>incr</font></b> m]
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$l1</font>&gt;<font color=#4A181B>$l</font>} {
      <b><font color=#923B23>set</font></b> R <font color=#4A181B>$m</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fullinfo</font>} {
        <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$ID</font> <font color=#4A181B>$lev</font> <font color=#4A181B>$leaf</font> <font color=#4A181B>$fl1</font> <font color=#4A181B>$title</font> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font>]
      }
      <b><font color=#A106A1>return</font></b> <font color=#4A181B>$ID</font>
    }
  }
  <b><font color=#A106A1>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes recursively an item and its children from the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>wtree item TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>ID of the item to be deleted.</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_401' href="javascript:toggleSource('401')">Show source</a></p>
<div id='401' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::Delete {wtree item TID} {

  <i><font color=#646464># Removes recursively an item and its children from the tree.</font></i>
  <i><font color=#646464>#   wtree - the tree widget's path</font></i>
  <i><font color=#646464>#   item - ID of the item to be deleted.</font></i>

  <b><font color=#923B23>foreach</font></b> child [<font color=#4A181B>$wtree</font> children <font color=#4A181B>$item</font>] {
    alited::tree::Delete <font color=#4A181B>$wtree</font> <font color=#4A181B>$child</font> <font color=#4A181B>$TID</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font> ne {}} {<font color=#4A181B>$wtree</font> delete <font color=#4A181B>$item</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DelItem'>DelItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes an item from the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DelItem</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>an item's ID to be deleted; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_402' href="javascript:toggleSource('402')">Show source</a></p>
<div id='402' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::DelItem {{ID {}}} {

  <i><font color=#646464># Removes an item from the tree.</font></i>
  <i><font color=#646464>#   ID - an item's ID to be deleted.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ID</font> eq {} && [<b><font color=#923B23>set</font></b> ID [alited::tree::CurrentItem]] eq {}} {
    <b><font color=#7A040E>bell</font></b>
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
    alited::unit::Delete <font color=#4A181B>$wtree</font> <font color=#4A181B>$fname</font>
  } <b><font color=#923B23>else</font></b> {
    alited::file::Delete <font color=#4A181B>$ID</font> <font color=#4A181B>$wtree</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DestroyMoveWindow'>DestroyMoveWindow</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys an item moving window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DestroyMoveWindow</span> <span class='ruff_arg'>cancel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cancel</code></code></td><td class='ruff_defitem'>if yes, clears also the related variables.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_403' href="javascript:toggleSource('403')">Show source</a></p>
<div id='403' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::DestroyMoveWindow {cancel} {

  <i><font color=#646464># Destroys an item moving window.</font></i>
  <i><font color=#646464>#   cancel - if yes, clears also the related variables.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$al(movWin)</font>}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$cancel</font>} {<b><font color=#923B23>lassign</font></b> {} al(movWin) al(movID)}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DirContents'>DirContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DirContents</span> <span class='ruff_arg'>dirname ?lev? ?iroot? ?globs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirname</code></code></td><td class='ruff_defitem'>a dirtectory's name</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level in the directory hierarchy; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>iroot</code></code></td><td class='ruff_defitem'>index of the directory's parent or -1; <i>optional, default</i> <code>-1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>globs</code></code></td><td class='ruff_defitem'>list of globs to filter files; <i>optional, default</i> <code>*</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::GetDirectoryContents" title="GetDirectoryContents" class='ruff_cmd'>GetDirectoryContents</a>, <a href="alited.html#::alited::tree::AddToDirContents" title="AddToDirContents" class='ruff_cmd'>AddToDirContents</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_404' href="javascript:toggleSource('404')">Show source</a></p>
<div id='404' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::DirContents {dirname {lev 0} {iroot -1} {globs *}} {

  <i><font color=#646464># Reads a directory's contents.</font></i>
  <i><font color=#646464>#   dirname - a dirtectory's name</font></i>
  <i><font color=#646464>#   lev - level in the directory hierarchy</font></i>
  <i><font color=#646464>#   iroot - index of the directory's parent or -1</font></i>
  <i><font color=#646464>#   globs - list of globs to filter files.</font></i>
  <i><font color=#646464># See also:</font></i>
  <i><font color=#646464>#   GetDirectoryContents</font></i>
  <i><font color=#646464>#   AddToDirContents</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>incr</font></b> lev
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> dcont [<b><font color=#923B23>lsort</font></b> <font color=#463e11>-dictionary</font> [<b><font color=#923B23>glob</font></b> [<b><font color=#923B23>file</font></b> join <font color=#4A181B>$dirname</font> *]]]}]} {
    <b><font color=#923B23>set</font></b> dcont [<b><font color=#923B23>list</font></b>]
  }
  <i><font color=#646464># firstly directories:</font></i>
  <i><font color=#646464># 1. skip the ignored ones</font></i>
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$dcont</font>]} {<font color=#4A181B>$i</font>} {} {
    <b><font color=#923B23>incr</font></b> i -1
    <b><font color=#923B23>if</font></b> {[IgnoredDir [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$dcont</font> <font color=#4A181B>$i</font>]]} {
      <b><font color=#923B23>set</font></b> dcont [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$dcont</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font>]
    }
  }
  <i><font color=#646464># 2. put the directories to the beginning of the file list</font></i>
  <b><font color=#923B23>set</font></b> i 0
  <b><font color=#923B23>foreach</font></b> fname <font color=#4A181B>$dcont</font> {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> isdirectory <font color=#4A181B>$fname</font>]} {
      <b><font color=#923B23>set</font></b> dcont [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$dcont</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$fname</font> <font color=#035103>&quot;y&quot;</font>]]
      <b><font color=#923B23>set</font></b> nroot [AddToDirContents <font color=#4A181B>$lev</font> 0 <font color=#4A181B>$fname</font> <font color=#4A181B>$iroot</font>]
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(_dirtree)</font>] &lt; <font color=#4A181B>$al(MAXFILES)</font>} {
        DirContents <font color=#4A181B>$fname</font> <font color=#4A181B>$lev</font> <font color=#4A181B>$nroot</font> <font color=#4A181B>$globs</font>
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>break</font></b>
      }
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> dcont [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$dcont</font> <font color=#4A181B>$i</font> <font color=#4A181B>$i</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$fname</font>]]
    }
    <b><font color=#923B23>incr</font></b> i
  }
  <i><font color=#646464># then files</font></i>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(_dirtree)</font>] &lt; <font color=#4A181B>$al(MAXFILES)</font>} {
    <b><font color=#923B23>foreach</font></b> fname <font color=#4A181B>$dcont</font> {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$fname</font> fname d
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$d</font> ne <font color=#035103>&quot;y&quot;</font>} {
        <b><font color=#923B23>foreach</font></b> gl [<b><font color=#923B23>split</font></b> <font color=#4A181B>$globs</font> <font color=#035103>&quot;,&quot;</font>] {
          <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#4A181B>$gl</font> <font color=#4A181B>$fname</font>]} {
            AddToDirContents <font color=#4A181B>$lev</font> 1 <font color=#4A181B>$fname</font> <font color=#4A181B>$iroot</font>
            <b><font color=#923B23>break</font></b>
          }
        }
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DropItems'>DropItems</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Drops (moves) selected items to a current position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropItems</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of an item to be clicked</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_405' href="javascript:toggleSource('405')">Show source</a></p>
<div id='405' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::DropItems {ID} {

  <i><font color=#646464># Drops (moves) selected items to a current position.</font></i>
  <i><font color=#646464>#   ID - ID of an item to be clicked</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> selection [<font color=#4A181B>$wtree</font> selection]
  <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$ID</font>] && <font color=#4A181B>$selection</font> ne {} && <font color=#4A181B>$ID</font> ne {} && <font color=#4A181B>$selection</font> ne <font color=#4A181B>$ID</font>} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
      alited::unit::MoveUnits <font color=#4A181B>$wtree</font> move <font color=#4A181B>$selection</font> <font color=#4A181B>$ID</font>
    } <b><font color=#923B23>else</font></b> {
      alited::file::MoveFiles <font color=#4A181B>$wtree</font> move <font color=#4A181B>$selection</font> <font color=#4A181B>$ID</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ExpandContractTree'>ExpandContractTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Expands or contracts the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExpandContractTree</span> <span class='ruff_arg'>Tree ?isexp?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>the tree's name</td></tr>
<tr><td class='ruff_defitem'><code><code>isexp</code></code></td><td class='ruff_defitem'>yes, if to expand; no, if to contract; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_406' href="javascript:toggleSource('406')">Show source</a></p>
<div id='406' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::ExpandContractTree {Tree {isexp yes}} {

  <i><font color=#646464># Expands or contracts the tree.</font></i>
  <i><font color=#646464>#   Tree - the tree's name</font></i>
  <i><font color=#646464>#   isexp - yes, if to expand; no, if to contract</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> <font color=#4A181B>$Tree</font>]
  <b><font color=#923B23>foreach</font></b> item [GetTree {} <font color=#4A181B>$Tree</font>] {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> lev cnt ID
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> [<font color=#4A181B>$wtree</font> children <font color=#4A181B>$ID</font>]]} {
      <font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-open</font> <font color=#4A181B>$isexp</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ForEach'>ForEach</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Scans all items of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ForEach</span> <span class='ruff_arg'>wtree aproc ?lev? ?branch?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>aproc</code></code></td><td class='ruff_defitem'>a procedure to run at scanning</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level of the tree; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>branch</code></code></td><td class='ruff_defitem'>ID of the branch to be scanned; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The 'aproc' argument can include wildcards to be replaced appropriate data:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>%level</code></td><td class='ruff_defitem'>current tree level</td></tr>
<tr><td class='ruff_defitem'><code>%children</code></td><td class='ruff_defitem'>children of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%item</code></td><td class='ruff_defitem'>ID of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%text</code></td><td class='ruff_defitem'>text of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%values</code></td><td class='ruff_defitem'>values of a current item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_407' href="javascript:toggleSource('407')">Show source</a></p>
<div id='407' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::ForEach {wtree aproc {lev 0} {branch {}}} {

  <i><font color=#646464># Scans all items of the tree.</font></i>
  <i><font color=#646464>#   wtree - the tree's path</font></i>
  <i><font color=#646464>#   aproc - a procedure to run at scanning</font></i>
  <i><font color=#646464>#   lev - level of the tree</font></i>
  <i><font color=#646464>#   branch - ID of the branch to be scanned</font></i>
  <i><font color=#646464># The 'aproc' argument can include wildcards to be replaced</font></i>
  <i><font color=#646464># appropriate data:</font></i>
  <i><font color=#646464>#    %level - current tree level</font></i>
  <i><font color=#646464>#    %children - children of a current item</font></i>
  <i><font color=#646464>#    %item - ID of a current item</font></i>
  <i><font color=#646464>#    %text - text of a current item</font></i>
  <i><font color=#646464>#    %values - values of a current item</font></i>

  <b><font color=#923B23>set</font></b> children [<font color=#4A181B>$wtree</font> children <font color=#4A181B>$branch</font>]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$lev</font>} {
    <b><font color=#923B23>set</font></b> proc [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b>  %level <font color=#4A181B>$lev</font>  %children [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$children</font>]  %item <font color=#4A181B>$branch</font>  %text [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$branch</font> <font color=#463e11>-text</font>]  %values [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$branch</font> <font color=#463e11>-values</font>]]  <font color=#4A181B>$aproc</font>]
    <b><font color=#923B23>uplevel</font></b> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$lev</font>+1}] <font color=#035103>&quot;<font color=#4A181B>$</font>proc&quot;</font>
  }
  <b><font color=#923B23>incr</font></b> lev
  <b><font color=#923B23>foreach</font></b> child <font color=#4A181B>$children</font> {
    ForEach <font color=#4A181B>$wtree</font> <font color=#4A181B>$aproc</font> <font color=#4A181B>$lev</font> <font color=#4A181B>$child</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetDirectoryContents'>GetDirectoryContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetDirectoryContents</span> <span class='ruff_arg'>dirname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirname</code></code></td><td class='ruff_defitem'>the directory's name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list containing the directory's contents.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::DirContents" title="DirContents" class='ruff_cmd'>DirContents</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_408' href="javascript:toggleSource('408')">Show source</a></p>
<div id='408' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::GetDirectoryContents {dirname} {

  <i><font color=#646464># Gets a directory's contents.</font></i>
  <i><font color=#646464>#   dirname - the directory's name</font></i>
  <i><font color=#646464># Returns a list containing the directory's contents.</font></i>
  <i><font color=#646464># See also:</font></i>
  <i><font color=#646464>#   DirContents</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> al(_dirtree) [<b><font color=#923B23>list</font></b>]
  DirContents <font color=#4A181B>$dirname</font>
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$al(_dirtree)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetTree'>GetTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tree or its branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTree</span> <span class='ruff_arg'>?parent? ?Tree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>parent</code></code></td><td class='ruff_defitem'>ID of the branch; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>name of the tree widget; <i>optional, default</i> <code>Tree</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_409' href="javascript:toggleSource('409')">Show source</a></p>
<div id='409' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::GetTree {{parent {}} {Tree Tree}} {

  <i><font color=#646464># Gets a tree or its branch.</font></i>
  <i><font color=#646464>#   parent - ID of the branch</font></i>
  <i><font color=#646464>#   Tree - name of the tree widget</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> <font color=#4A181B>$Tree</font>]
  <b><font color=#923B23>set</font></b> tree [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> levp -1
  ForEach <font color=#4A181B>$wtree</font> {
    <b><font color=#923B23>set</font></b> item <font color=#035103>&quot;%item&quot;</font>
    <b><font color=#923B23>set</font></b> lev %level
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$levp</font>&gt;-1 || <font color=#4A181B>$item</font> eq <font color=#4A181B>$parent</font>} {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$lev</font>&lt;=<font color=#4A181B>$levp</font>} {<b><font color=#A106A1>return</font></b> <font color=#463e11>-code</font> break}  ;<i><font color=#646464># all of branch fetched</font></i>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font> eq <font color=#4A181B>$parent</font>} {<b><font color=#923B23>set</font></b> levp <font color=#4A181B>$lev</font>}
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$parent</font> eq {} || <font color=#4A181B>$levp</font>&gt;-1} {
      <b><font color=#923B23>lappend</font></b> tree [<b><font color=#923B23>list</font></b> <font color=#4A181B>$lev</font> %children <font color=#4A181B>$item</font> {%text} {%values}]
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$tree</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::IgnoredDir'>IgnoredDir</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a directory is in the list of the ignored ones.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IgnoredDir</span> <span class='ruff_arg'>dir</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dir</code></code></td><td class='ruff_defitem'>the directory's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_410' href="javascript:toggleSource('410')">Show source</a></p>
<div id='410' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::IgnoredDir {dir} {

  <i><font color=#646464># Checks if a directory is in the list of the ignored ones.</font></i>
  <i><font color=#646464>#   dir - the directory's name</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> res no
  <b><font color=#923B23>set</font></b> dir [<b><font color=#923B23>string</font></b> toupper [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$dir</font>]]
  <b><font color=#923B23>catch</font></b> {    ;<i><font color=#646464># there might be an incorrect list -&gt; catch it</font></i>
    <b><font color=#923B23>foreach</font></b> d <font color=#4A181B>$al(prjdirign)</font> {
      <b><font color=#923B23>set</font></b> d [<b><font color=#923B23>string</font></b> toupper [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$d</font> \&quot;]]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dir</font> eq <font color=#4A181B>$d</font>} {
        <b><font color=#923B23>set</font></b> res yes
        <b><font color=#923B23>break</font></b>
      }
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::MoveItem'>MoveItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves items of the tree (units or files)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveItem</span> <span class='ruff_arg'>to ?f1112?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (&quot;up&quot; or &quot;down&quot;)</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>true, if started by keypressing (false, if by mouse); <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_411' href="javascript:toggleSource('411')">Show source</a></p>
<div id='411' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::MoveItem {to {f1112 no}} {

  <i><font color=#646464># Moves items of the tree (units or files)</font></i>
  <i><font color=#646464>#   to - direction (&quot;up&quot; or &quot;down&quot;)</font></i>
  <i><font color=#646464>#   f1112 - true, if started by keypressing (false, if by mouse)</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits) && [alited::file::MoveExternal <font color=#4A181B>$f1112</font>]} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> itemID [<font color=#4A181B>$wtree</font> selection]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$itemID</font> eq {}} {
    <b><font color=#923B23>set</font></b> itemID [<font color=#4A181B>$wtree</font> focus]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$itemID</font> eq {}} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$f1112</font>} {<b><font color=#923B23>set</font></b> geo {}} {<b><font color=#923B23>set</font></b> geo {<font color=#463e11>-geometry</font> pointer+10+10}}
    alited::Message {No item selected.} 4
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
    alited::unit::MoveUnits <font color=#4A181B>$wtree</font> <font color=#4A181B>$to</font> <font color=#4A181B>$itemID</font> <font color=#4A181B>$f1112</font>
  } <b><font color=#923B23>else</font></b> {
    alited::file::MoveFiles <font color=#4A181B>$wtree</font> <font color=#4A181B>$to</font> <font color=#4A181B>$itemID</font> <font color=#4A181B>$f1112</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::NewItemID'>NewItemID</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a new ID for the tree item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewItemID</span> <span class='ruff_arg'>iit</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>iit</code></code></td><td class='ruff_defitem'>index of the new item.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_412' href="javascript:toggleSource('412')">Show source</a></p>
<div id='412' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::NewItemID {iit} {

  <i><font color=#646464># Gets a new ID for the tree item.</font></i>
  <i><font color=#646464>#   iit - index of the new item.</font></i>

  <b><font color=#A106A1>return</font></b> <font color=#035103>&quot;al<font color=#4A181B>$</font>iit&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::NewSelection'>NewSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a new item of the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewSelection</span> <span class='ruff_arg'>?itnew? ?line? ?topos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>itnew</code></code></td><td class='ruff_defitem'>ID of the new selected item; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>a relative line number inside the item or an absolute position in the text; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>topos</code></code></td><td class='ruff_defitem'>if yes, 'line' is an absolute position in the text; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns ID of the newly selected item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_413' href="javascript:toggleSource('413')">Show source</a></p>
<div id='413' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::NewSelection {{itnew {}} {line 0} {topos no}} {

  <i><font color=#646464># Selects a new item of the unit tree.</font></i>
  <i><font color=#646464>#   itnew - ID of the new selected item</font></i>
  <i><font color=#646464>#   line - a relative line number inside the item or an absolute position in the text</font></i>
  <i><font color=#646464>#   topos - if yes, 'line' is an absolute position in the text</font></i>
  <i><font color=#646464># Returns ID of the newly selected item.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>variable</font></b> doFocus
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> ctab [alited::bar::CurrentTabID]
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <i><font color=#646464># newly selected item</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$itnew</font> eq {}} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$topos</font>} {
      <b><font color=#923B23>set</font></b> itnew [CurrentItemByLine <font color=#4A181B>$line</font>]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> itnew [CurrentItem]
    }
  }
  <b><font color=#923B23>set</font></b> header [alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$itnew</font>]
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$itnew</font> <font color=#463e11>-values</font>] l1 l2 - - - leaf
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is true <font color=#463e11>-strict</font> <font color=#4A181B>$leaf</font>]} {
    <font color=#4A181B>$wtree</font> tag add tagSel <font color=#4A181B>$itnew</font>
  }
  <i><font color=#646464># get saved pos</font></i>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>info</font></b> exists al(CPOS,<font color=#4A181B>$ctab</font>,<font color=#4A181B>$header)</font>]} {
    <b><font color=#923B23>set</font></b> pos [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$l1</font>+<font color=#4A181B>$al(CPOS</font>,<font color=#4A181B>$ctab</font>,<font color=#4A181B>$header)</font>}]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$topos</font>} {
    <b><font color=#923B23>set</font></b> pos <font color=#4A181B>$line</font>
  } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>string</font></b> is digit <font color=#463e11>-strict</font> <font color=#4A181B>$l1</font>] && [<b><font color=#923B23>string</font></b> is digit <font color=#463e11>-strict</font> <font color=#4A181B>$l2</font>]} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is double <font color=#463e11>-strict</font> <font color=#4A181B>$line</font>] && <font color=#4A181B>$line</font> != 0 &&  <font color=#4A181B>$l1</font>&lt;(<font color=#4A181B>$l1</font>+<font color=#4A181B>$line)</font> && (<font color=#4A181B>$l1</font>+<font color=#4A181B>$line)</font>&lt;(<font color=#4A181B>$l2</font>+1)} {
      <i><font color=#646464># it's coming from a saved favorite item</font></i>
      <b><font color=#923B23>set</font></b> pos [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$l1</font>+<font color=#4A181B>$line</font>}]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$pos</font>&lt;<font color=#4A181B>$l1</font> || <font color=#4A181B>$pos</font>&gt;=(<font color=#4A181B>$l2</font>+1)} {
        <i><font color=#646464># if not saved, get it from 1st line</font></i>
        <b><font color=#923B23>set</font></b> pos <font color=#4A181B>$l1</font>.0
      }
    }
  }
  <i><font color=#646464># previously selected item</font></i>
  <b><font color=#923B23>lassign</font></b> [alited::bar::BAR cget -<font color=#463e11>-currSelTab</font> -<font color=#463e11>-currSelItem</font>] otab itold
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$itold</font> ne <font color=#035103>&quot;&quot;</font> && ![<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$itold</font> <font color=#463e11>-values</font>] o1 o2}]} {
    <i><font color=#646464># if there was the previously selected item, save its cursor position</font></i>
    <b><font color=#923B23>catch</font></b> {
      <i><font color=#646464># -values at files' tree is invalid for this =&gt; 'catch'</font></i>
      <i><font color=#646464># (then pos=saved position for the whole file, got from --pos)</font></i>
      <b><font color=#923B23>set</font></b> opos [<font color=#4A181B>$wtxt</font> index insert]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$o1</font>&lt;=<font color=#4A181B>$opos</font> && <font color=#4A181B>$opos</font>&lt;(<font color=#4A181B>$o2</font>+1)} {
        <b><font color=#923B23>set</font></b> ohead [alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$itold</font>]
        <b><font color=#923B23>set</font></b> al(CPOS,<font color=#4A181B>$otab</font>,<font color=#4A181B>$ohead)</font> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$opos</font>-<font color=#4A181B>$o1</font>}]
      }
    }
  }
  alited::bar::BAR configure -<font color=#463e11>-currSelTab</font> <font color=#4A181B>$ctab</font> -<font color=#463e11>-currSelItem</font> <font color=#4A181B>$itnew</font>
  <b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> al(CPOS,<font color=#4A181B>$ctab</font>,<font color=#4A181B>$header)</font> [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$pos</font>-<font color=#4A181B>$l1</font>}]}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doFocus</font>} {
    alited::main::FocusText <font color=#4A181B>$TID</font> <font color=#4A181B>$pos</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits) && <font color=#4A181B>$al(dolastvisited)</font>} {
    alited::favor::LastVisited [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$itnew</font>] <font color=#4A181B>$header</font>
  }
  alited::main::UpdateGutter
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$itnew</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::OpenFile'>OpenFile</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens file at clicking a file tree's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFile</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_414' href="javascript:toggleSource('414')">Show source</a></p>
<div id='414' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::OpenFile {{ID {}}} {

  <i><font color=#646464># Opens file at clicking a file tree's item.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)} {
    <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ID</font> eq {}} {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> selection]] eq {}} <b><font color=#A106A1>return</font></b>
    }
    <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] -&gt; fname isfile
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> TID [alited::bar::FileTID <font color=#4A181B>$fname</font>]] eq {}} {
        alited::file::OpenFile <font color=#4A181B>$fname</font>
      } <b><font color=#923B23>else</font></b> {
        alited::bar::BAR <font color=#4A181B>$TID</font> show
      }
      alited::bar::BAR draw
      alited::tree::UpdateFileTree
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::RecreateTree'>RecreateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Recreates the tree and restores its selections.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RecreateTree</span> <span class='ruff_arg'>?wtree? ?headers?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>a list of selected items; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_415' href="javascript:toggleSource('415')">Show source</a></p>
<div id='415' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::RecreateTree {{wtree {}} {headers {}}} {

  <i><font color=#646464># Recreates the tree and restores its selections.</font></i>
  <i><font color=#646464>#   wtree - the tree's path</font></i>
  <i><font color=#646464>#   headers - a list of selected items</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wtree</font> eq {}} {<b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]}
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> selection [<font color=#4A181B>$wtree</font> selection]}]} {<b><font color=#923B23>set</font></b> selection [<b><font color=#923B23>list</font></b>]}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
    <b><font color=#923B23>set</font></b> al(TREE,units) no
    <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#923B23>set</font></b> al(_unittree,<font color=#4A181B>$TID)</font> [alited::unit::GetUnits <font color=#4A181B>$TID</font> [<font color=#4A181B>$wtxt</font> get 1.0 {end -1 char}]]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> al(TREE,files) no
  }
  Create
  <i><font color=#646464># restore selections</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$headers</font> ne {}} {
    <b><font color=#923B23>set</font></b> selection [<b><font color=#923B23>list</font></b>]
    <b><font color=#923B23>foreach</font></b> item [alited::tree::GetTree] {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> lev cnt ID
      <b><font color=#923B23>foreach</font></b> hd <font color=#4A181B>$headers</font> {
        <b><font color=#923B23>if</font></b> {[alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$ID</font>] eq <font color=#4A181B>$hd</font>} {
          <b><font color=#923B23>lappend</font></b> selection <font color=#4A181B>$ID</font>
          <b><font color=#923B23>break</font></b>
        }
      }
    }
    <font color=#4A181B>$wtree</font> selection set <font color=#4A181B>$selection</font>
  } <b><font color=#923B23>else</font></b> {
    <i><font color=#646464># try to restore selections</font></i>
    <b><font color=#923B23>foreach</font></b> item <font color=#4A181B>$selection</font> {
      <b><font color=#923B23>catch</font></b> {<font color=#4A181B>$wtree</font> selection add <font color=#4A181B>$item</font>}
    }
  }
  <b><font color=#923B23>catch</font></b> {<font color=#4A181B>$wtree</font> see [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$selection</font> 0]}
  alited::main::SaveVisitInfo
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SaveCursorPos'>SaveCursorPos</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves current unit's cursor position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCursorPos</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::favor::GoToUnit" title="favor::GoToUnit" class='ruff_cmd'>favor::GoToUnit</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_416' href="javascript:toggleSource('416')">Show source</a></p>
<div id='416' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::SaveCursorPos {} {

  <i><font color=#646464># Saves current unit's cursor position.</font></i>
  <i><font color=#646464># See also: favor::GoToUnit</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> pos [<font color=#4A181B>$wtxt</font> index insert]
  <i><font color=#646464># catch is needed at creating text, as the tree doesn't exist</font></i>
  <b><font color=#923B23>catch</font></b> {
    <b><font color=#923B23>set</font></b> itnew [CurrentItemByLine <font color=#4A181B>$pos</font>]
    <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
    <b><font color=#923B23>set</font></b> header [alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$itnew</font>]
    <i><font color=#646464>#set al(CPOS,$TID,$header) [expr {$pos-$l1}]</font></i>
    <i><font color=#646464># save the position to unit tree list, to restore it in favor::GoToUnit</font></i>
    <b><font color=#923B23>set</font></b> it [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#463e11>-index</font> 6 <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$itnew</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$it</font>&gt;-1} {
      <b><font color=#923B23>set</font></b> item [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$it</font>]
      <b><font color=#923B23>set</font></b> item [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$item</font> 7 7 <font color=#4A181B>$pos</font>]
      <b><font color=#923B23>set</font></b> al(_unittree,<font color=#4A181B>$TID)</font> [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$al(_unittree</font>,<font color=#4A181B>$TID)</font> <font color=#4A181B>$it</font> <font color=#4A181B>$it</font> <font color=#4A181B>$item</font>]
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SeeSelection'>SeeSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sees (makes visible) a current selected item in the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SeeSelection</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_417' href="javascript:toggleSource('417')">Show source</a></p>
<div id='417' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::SeeSelection {} {

  <i><font color=#646464># Sees (makes visible) a current selected item in the tree.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> selection [<font color=#4A181B>$wtree</font> selection]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$selection</font>]==1} {<font color=#4A181B>$wtree</font> see <font color=#4A181B>$selection</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ShowPopupMenu'>ShowPopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and opens a popup menu at right clicking the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowPopupMenu</span> <span class='ruff_arg'>ID X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of clicked item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_418' href="javascript:toggleSource('418')">Show source</a></p>
<div id='418' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::ShowPopupMenu {ID X Y} {

  <i><font color=#646464># Creates and opens a popup menu at right clicking the tree.</font></i>
  <i><font color=#646464>#   ID - ID of clicked item</font></i>
  <i><font color=#646464>#   X - x-coordinate of the click</font></i>
  <i><font color=#646464>#   Y - y-coordinate of the click</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>set</font></b> popm <font color=#4A181B>$wtree</font>.popup
  <b><font color=#923B23>catch</font></b> {<b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$popm</font>}
  <b><font color=#7A040E>menu</font></b> <font color=#4A181B>$popm</font> <font color=#463e11>-tearoff</font> 0
  <b><font color=#923B23>set</font></b> header [<b><font color=#923B23>lindex</font></b> [<b><font color=#923B23>split</font></b> [alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$ID</font>] \n] 0]
  <b><font color=#923B23>set</font></b> sname [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-text</font>]
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] -&gt; fname isfile - - isunit
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
    <b><font color=#923B23>set</font></b> img alimg_folder
    <b><font color=#923B23>set</font></b> m1 <font color=#4A181B>$al(MC</font>,swunits)
    <b><font color=#923B23>set</font></b> m2 <font color=#4A181B>$al(MC</font>,unitsadd)
    <b><font color=#923B23>set</font></b> m3 <font color=#4A181B>$al(MC</font>,unitsdel)
    <b><font color=#923B23>set</font></b> moveup <font color=#4A181B>$al(MC</font>,moveupU)
    <b><font color=#923B23>set</font></b> movedown <font color=#4A181B>$al(MC</font>,movedownU)
    <b><font color=#923B23>set</font></b> dropitem [msgcat::mc {Drop Selected Units Here}]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> img alimg_gulls
    <b><font color=#923B23>set</font></b> m1 <font color=#4A181B>$al(MC</font>,swfiles)
    <b><font color=#923B23>set</font></b> m2 <font color=#4A181B>$al(MC</font>,filesadd)
    <b><font color=#923B23>set</font></b> m3 <font color=#4A181B>$al(MC</font>,filesdel)
    <b><font color=#923B23>set</font></b> moveup <font color=#4A181B>$al(MC</font>,moveupF)
    <b><font color=#923B23>set</font></b> movedown <font color=#4A181B>$al(MC</font>,movedownF)
    <b><font color=#923B23>set</font></b> dropitem [msgcat::mc {Drop Selected Files Here}]
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> length <font color=#4A181B>$sname</font>]&gt;25} {<b><font color=#923B23>set</font></b> sname <font color=#035103>&quot;<font color=#4A181B>[</font>string range <font color=#4A181B>$</font>sname 0 21<font color=#4A181B>]</font>...&quot;</font>}
  <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$m1</font>  <font color=#463e11>-command</font> ::alited::tree::SwitchTree <font color=#463e11>-image</font> <font color=#4A181B>$img</font>
  <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,updtree)  <font color=#463e11>-command</font> alited::tree::RecreateTree <font color=#463e11>-image</font> alimg_retry
  <font color=#4A181B>$popm</font> add separator
  <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$moveup</font>  <font color=#463e11>-accelerator</font> F11 <font color=#463e11>-command</font> {::alited::tree::MoveItem up} <font color=#463e11>-image</font> alimg_up
  <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$movedown</font>  <font color=#463e11>-accelerator</font> F12 <font color=#463e11>-command</font> {::alited::tree::MoveItem down} <font color=#463e11>-image</font> alimg_down
  <font color=#4A181B>$popm</font> add separator
  <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$m2</font>  <font color=#463e11>-command</font> <font color=#035103>&quot;::alited::tree::AddItem <font color=#4A181B>$</font>ID&quot;</font> <font color=#463e11>-image</font> alimg_add
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)} {
    <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA change]  <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,renamefile) <font color=#463e11>-accelerator</font> F2  <font color=#463e11>-command</font> {::alited::file::RenameFileInTree {<font color=#463e11>-geometry</font> pointer+-100+-100}}
  }
  <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$m3</font>  <font color=#463e11>-command</font> <font color=#035103>&quot;::alited::tree::DelItem <font color=#4A181B>$</font>ID&quot;</font> <font color=#463e11>-image</font> alimg_delete
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(FAV</font>,IsFavor)} {
      <font color=#4A181B>$popm</font> add separator
      <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA heart] <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,favoradd)  <font color=#463e11>-command</font> ::alited::favor::AddFromTree
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isunit</font>} {
      <font color=#4A181B>$popm</font> add separator
      <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$al(MC</font>,copydecl)  <font color=#463e11>-command</font> <font color=#035103>&quot;clipboard clear ; clipboard append <font color=#4A181B>{$</font>header<font color=#4A181B>}</font>&quot;</font>
    }
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {<b><font color=#923B23>set</font></b> fname [<b><font color=#923B23>file</font></b> dirname <font color=#4A181B>$fname</font>]}
    <b><font color=#923B23>set</font></b> sname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]
    <font color=#4A181B>$popm</font> add separator
    <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA OpenFile] <font color=#463e11>-label</font> {Open Selected File(s)}  <font color=#463e11>-command</font> ::alited::file::OpenFiles
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$sname</font>] <font color=#4A181B>$al(MC</font>,openofdir)]
    <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$msg</font>  <font color=#463e11>-command</font> <font color=#035103>&quot;::alited::file::OpenOfDir <font color=#4A181B>{$</font>fname<font color=#4A181B>}</font>&quot;</font>
  }
  <b><font color=#923B23>set</font></b> addsel {}
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> [<font color=#4A181B>$wtree</font> selection]]&gt;1} {
    <font color=#4A181B>$popm</font> add separator
    <font color=#4A181B>$popm</font> add command {*}[<font color=#4A181B>$obPav</font> iconA none] <font color=#463e11>-label</font> <font color=#4A181B>$dropitem</font>  <font color=#463e11>-command</font> <font color=#035103>&quot;::alited::tree::DropItems <font color=#4A181B>$</font>ID&quot;</font> <font color=#463e11>-image</font> alimg_paste
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtree</font> tag has tagSel <font color=#4A181B>$ID</font>]} {
      <i><font color=#646464># the added tagSel tag should be overrided</font></i>
      <font color=#4A181B>$wtree</font> tag remove tagSel <font color=#4A181B>$ID</font>
      <b><font color=#923B23>set</font></b> addsel <font color=#035103>&quot;; <font color=#4A181B>$</font>wtree tag add tagSel <font color=#4A181B>$</font>ID&quot;</font>
    }
  }
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$popm</font> &lt;FocusIn&gt; <font color=#035103>&quot;<font color=#4A181B>$</font>wtree tag add tagBold <font color=#4A181B>$</font>ID&quot;</font>
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$popm</font> &lt;FocusOut&gt; <font color=#035103>&quot;catch <font color=#4A181B>{$</font>wtree tag remove tagBold <font color=#4A181B>$</font>ID; <font color=#4A181B>$</font>addsel<font color=#4A181B>}</font>&quot;</font>
  <font color=#4A181B>$obPav</font> themePopup <font color=#4A181B>$popm</font>
  <b><font color=#7A040E>tk_popup</font></b> <font color=#4A181B>$popm</font> <font color=#4A181B>$X</font> <font color=#4A181B>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SwitchTree'>SwitchTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchTree</span> </div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Switches trees</code></code></td><td class='ruff_defitem'>units to files and vice versa.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_419' href="javascript:toggleSource('419')">Show source</a></p>
<div id='419' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::SwitchTree {} {

  <i><font color=#646464># Switches trees - units to files and vice versa.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> al(TREE,isunits) [<b><font color=#923B23>expr</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)}]]} {
    <b><font color=#923B23>unset</font></b> al(widthPanBM)  ;<i><font color=#646464># the variable used to save the panel's size</font></i>
    [<font color=#4A181B>$obPav</font> PanL] add [<font color=#4A181B>$obPav</font> FraFV]
    RecreateTree
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> al(widthPanBM) [<b><font color=#7A040E>winfo</font></b> geometry [<font color=#4A181B>$::alited::obPav</font> PanBM]]
    [<font color=#4A181B>$obPav</font> PanL] forget [<font color=#4A181B>$obPav</font> FraFV]
    <b><font color=#923B23>set</font></b> al(TREE,files) no
    Create
  }
  alited::main::FocusText
  <b><font color=#923B23>update</font></b> idletasks
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::Tooltip'>Tooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a tooltip for the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tooltip</span> <span class='ruff_arg'>x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item and its column</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_420' href="javascript:toggleSource('420')">Show source</a></p>
<div id='420' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::Tooltip {x y X Y} {

  <i><font color=#646464># Creates a tooltip for the tree.</font></i>
  <i><font color=#646464>#   x - x-coordinate to identify an item and its column</font></i>
  <i><font color=#646464>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#646464>#   X - x-coordinate of the click</font></i>
  <i><font color=#646464>#   Y - x-coordinate of the click</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>variable</font></b> tipID
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtree</font> identify region <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>] ni {tree cell}} {
    TooltipOff
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> ID [<font color=#4A181B>$wtree</font> identify item <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  <b><font color=#923B23>set</font></b> NC [<font color=#4A181B>$wtree</font> identify column <font color=#4A181B>$x</font> <font color=#4A181B>$y</font>]
  <b><font color=#923B23>set</font></b> newTipID <font color=#035103>&quot;<font color=#4A181B>$</font>ID/<font color=#4A181B>$</font>NC&quot;</font>
  <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$wtree</font> exists <font color=#4A181B>$ID</font>] && <font color=#4A181B>$tipID</font> ne <font color=#4A181B>$newTipID</font>} {
    <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> bbox <font color=#4A181B>$ID</font>] x2 y2 w2 h2
    <b><font color=#923B23>incr</font></b> X 10
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>incr</font></b> Y [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$y2</font>-<font color=#4A181B>$y</font>+<font color=#4A181B>$h2</font>}]}]} {<b><font color=#923B23>incr</font></b> Y 10}
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} {
      <i><font color=#646464># for units</font></i>
      <b><font color=#923B23>set</font></b> tip [alited::unit::GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$ID</font> <font color=#4A181B>$NC</font>]
    } <b><font color=#923B23>else</font></b> {
      <i><font color=#646464># for files</font></i>
      <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] -&gt; tip isfile
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isfile</font>} {
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,showinfo)} {
          <b><font color=#923B23>set</font></b> tip [alited::file::FileStat <font color=#4A181B>$tip</font>]
        } <b><font color=#923B23>else</font></b> {
          ::baltip hide <font color=#4A181B>$al(WIN)</font>
          <b><font color=#923B23>set</font></b> tipID <font color=#4A181B>$newTipID</font>
          <b><font color=#A106A1>return</font></b>
        }
      }
    }
    <b><font color=#923B23>set</font></b> msec [<b><font color=#923B23>clock</font></b> milliseconds]
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>info</font></b> exists al(TREETIP_MSEC)]} {
      <b><font color=#923B23>set</font></b> al(TREETIP_MSEC) 0
    }
    <b><font color=#923B23>if</font></b> {(<font color=#4A181B>$msec</font>-<font color=#4A181B>$al(TREETIP_MSEC))</font>&gt;200} {
      ::baltip tip <font color=#4A181B>$al(WIN)</font> <font color=#4A181B>$tip</font> <font color=#463e11>-geometry</font> +<font color=#4A181B>$X</font>+<font color=#4A181B>$Y</font> <font color=#463e11>-per10</font> 4000 <font color=#463e11>-pause</font> 5 <font color=#463e11>-fade</font> 5
      <b><font color=#923B23>set</font></b> tipID <font color=#4A181B>$newTipID</font>
    } <b><font color=#923B23>else</font></b> {
      ::baltip hide <font color=#4A181B>$al(WIN)</font>
    }
    <b><font color=#923B23>set</font></b> al(TREETIP_MSEC) <font color=#4A181B>$msec</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::TooltipOff'>TooltipOff</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Hides a tooltip for the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TooltipOff</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_421' href="javascript:toggleSource('421')">Show source</a></p>
<div id='421' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::TooltipOff {} {

  <i><font color=#646464># Hides a tooltip for the tree.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> tipID
  ::baltip hide <font color=#4A181B>$al(WIN)</font>
  <b><font color=#923B23>set</font></b> tipID {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::UnitTitle'>UnitTitle</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a title of a unit (checking for empty string).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitTitle</span> <span class='ruff_arg'>title l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>original title</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>first line of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>latst line of the unit</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_422' href="javascript:toggleSource('422')">Show source</a></p>
<div id='422' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::UnitTitle {title l1 l2} {

  <i><font color=#646464># Gets a title of a unit (checking for empty string).</font></i>
  <i><font color=#646464>#   title - original title</font></i>
  <i><font color=#646464>#   l1 - first line of the unit</font></i>
  <i><font color=#646464>#   l2 - latst line of the unit</font></i>

  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$title</font> eq {}} {<b><font color=#923B23>set</font></b> title <font color=#035103>&quot;<font color=#4A181B>$</font>alited::al(MC,lines) <font color=#4A181B>$</font>l1-<font color=#4A181B>$</font>l2&quot;</font>}
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$title</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::UpdateFileTree'>UpdateFileTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the file tree (colors of files).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateFileTree</span> <span class='ruff_arg'>?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>yes, if run after idle; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::CreateFilesTree" title="CreateFilesTree" class='ruff_cmd'>CreateFilesTree</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_423' href="javascript:toggleSource('423')">Show source</a></p>
<div id='423' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::tree::UpdateFileTree {{doit no}} {

  <i><font color=#646464># Updates the file tree (colors of files).</font></i>
  <i><font color=#646464>#   doit - yes, if run after idle</font></i>
  <i><font color=#646464># See also: CreateFilesTree</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$al(TREE</font>,isunits)} <b><font color=#A106A1>return</font></b>  ;<i><font color=#646464># no need</font></i>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$doit</font>} {
    <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
    <b><font color=#923B23>foreach</font></b> item [GetTree {} Tree] {
      <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$item</font> 4] - fname leaf itemID
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$leaf</font>} {
        <b><font color=#923B23>if</font></b> {[alited::bar::FileTID <font color=#4A181B>$fname</font>] ne {}} {
          <font color=#4A181B>$wtree</font> tag add tagSel <font color=#4A181B>$itemID</font>
        } <b><font color=#923B23>else</font></b> {
          <font color=#4A181B>$wtree</font> tag remove tagSel <font color=#4A181B>$itemID</font>
        }
      }
    }
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>after</font></b> idle {alited::tree::UpdateFileTree yes}
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::unit'></a>::alited::unit<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::unit-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::unit::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_424' href="javascript:toggleSource('424')">Show source</a></p>
<div id='424' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::Add {} {

  <i><font color=#646464># Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.</font></i>

  <b><font color=#923B23>set</font></b> res [::alited::unit_tpl::_run]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$res</font> ne <font color=#035103>&quot;&quot;</font>} {
    InsertTemplate <font color=#4A181B>$res</font>
  }
  alited::keys::BindKeys [alited::main::CurrentWTXT] template
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::BranchLines'>BranchLines</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a line range of a branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BranchLines</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of the branch</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_425' href="javascript:toggleSource('425')">Show source</a></p>
<div id='425' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::BranchLines {ID} {

  <i><font color=#646464># Gets a line range of a branch.</font></i>
  <i><font color=#646464>#   ID - ID of the branch</font></i>

  <b><font color=#923B23>set</font></b> branch [alited::tree::GetTree <font color=#4A181B>$ID</font>]
  <b><font color=#923B23>set</font></b> l1 [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$branch</font> 0 4 0]
  <b><font color=#923B23>set</font></b> l2 [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$branch</font> end 4 1]
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$l1</font> <font color=#4A181B>$l2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a unit from a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>wtree fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_426' href="javascript:toggleSource('426')">Show source</a></p>
<div id='426' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::Delete {wtree fname} {

  <i><font color=#646464># Deletes a unit from a text.</font></i>
  <i><font color=#646464>#   wtree - unit tree's path</font></i>
  <i><font color=#646464>#   fname - file name</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> selection [<font color=#4A181B>$wtree</font> selection]
  <b><font color=#923B23>set</font></b> wasdel no
  <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$selection</font>]} {<font color=#4A181B>$i</font>} {} {
    <i><font color=#646464># delete units from the text's bottom (text selection is sorted by items)</font></i>
    <b><font color=#923B23>incr</font></b> i -1
    <b><font color=#923B23>set</font></b> ID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$selection</font> <font color=#4A181B>$i</font>]
    <b><font color=#923B23>set</font></b> name [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-text</font>]
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$name</font> %f [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]] <font color=#4A181B>$al(MC</font>,delitem)]
    <b><font color=#923B23>set</font></b> ans [alited::msg yesnocancel ques <font color=#4A181B>$msg</font> NO]
    <b><font color=#923B23>switch</font></b> <font color=#4A181B>$ans</font> {
      0 break
      2 {}
      1 {
        <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] l1 l2
        <b><font color=#923B23>set</font></b> ind2 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>l2.end +1 char&quot;</font>]
        <font color=#4A181B>$wtxt</font> delete <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$ind2</font>
        <b><font color=#923B23>set</font></b> wasdel yes
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::DropUnits'>DropUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves unit(s) from one location in the unit tree to other.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropUnits</span> <span class='ruff_arg'>wtree fromIDs toID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fromIDs</code></code></td><td class='ruff_defitem'>IDs of tree item &quot;to move from&quot;</td></tr>
<tr><td class='ruff_defitem'><code><code>toID</code></code></td><td class='ruff_defitem'>ID of tree item &quot;to move to&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_427' href="javascript:toggleSource('427')">Show source</a></p>
<div id='427' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::DropUnits {wtree fromIDs toID} {

  <i><font color=#646464># Moves unit(s) from one location in the unit tree to other.</font></i>
  <i><font color=#646464>#   wtree - unit tree's path</font></i>
  <i><font color=#646464>#   fromIDs - IDs of tree item &quot;to move from&quot;</font></i>
  <i><font color=#646464>#   toID - ID of tree item &quot;to move to&quot;</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> no
  <font color=#4A181B>$wtxt</font> edit separator
  <i><font color=#646464># firstly, cut all moved lines</font></i>
  <b><font color=#923B23>set</font></b> ijust 0
  <b><font color=#923B23>set</font></b> movedlines [<b><font color=#923B23>list</font></b>]
  <i><font color=#646464># we must cut from below, so sort units reversely:</font></i>
  <b><font color=#923B23>set</font></b> fromIDs [<b><font color=#923B23>lsort</font></b> <font color=#463e11>-decreasing</font> <font color=#463e11>-dictionary</font> <font color=#4A181B>$fromIDs</font>]
  <b><font color=#923B23>set</font></b> headers [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> fromID <font color=#4A181B>$fromIDs</font> {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$fromID</font> eq <font color=#4A181B>$toID</font>} <b><font color=#923B23>continue</font></b>
    <i><font color=#646464># simply for each unit: find its moved lines and a destination line</font></i>
    <b><font color=#923B23>set</font></b> i1 [<b><font color=#923B23>set</font></b> i2 [<b><font color=#923B23>set</font></b> io 0]]
    <b><font color=#923B23>foreach</font></b> item <font color=#4A181B>$tree</font> {
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> lev cnt id title values
      <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$values</font> l1 l2 prl id lev leaf fl1
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$id</font> eq <font color=#4A181B>$fromID</font>} {
        <b><font color=#923B23>set</font></b> i1 <font color=#4A181B>$l1</font>
        <b><font color=#923B23>set</font></b> i2 <font color=#4A181B>$l2</font>
      } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$id</font> eq <font color=#4A181B>$toID</font>} {
        <b><font color=#923B23>set</font></b> io <font color=#4A181B>$l1</font>
      }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i1</font> && <font color=#4A181B>$i2</font> && <font color=#4A181B>$io</font>} {
      <b><font color=#923B23>lappend</font></b> headers [GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$fromID</font>]
      <i><font color=#646464># if the unit is above the destination, the destination should be adjusted</font></i>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$i2</font>&lt;<font color=#4A181B>$io</font>} {<b><font color=#923B23>set</font></b> ijust [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$ijust</font>-<font color=#4A181B>$i2</font>+<font color=#4A181B>$i1</font>-1}]}
      <b><font color=#923B23>set</font></b> ind2 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>i2.end +1 char&quot;</font>]
      <b><font color=#923B23>set</font></b> lines [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$i1</font>.0 <font color=#4A181B>$ind2</font>]
      <font color=#4A181B>$wtxt</font> delete <font color=#4A181B>$i1</font>.0 <font color=#4A181B>$ind2</font>
      <i><font color=#646464># the cut lines are saved, to paste them afterwards</font></i>
      <b><font color=#923B23>lappend</font></b> movedlines <font color=#4A181B>$lines</font>
    }
  }
  <i><font color=#646464># secondly, paste all moved lines</font></i>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$movedlines</font>]} {
    <b><font color=#923B23>incr</font></b> io <font color=#4A181B>$ijust</font>
    <b><font color=#923B23>foreach</font></b> lines <font color=#4A181B>$movedlines</font> {
      <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$io</font>.0 <font color=#4A181B>$lines</font>
    }
    ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$io</font>.0
    alited::tree::RecreateTree {} <font color=#4A181B>$headers</font>
    alited::main::FocusText
  }
  <font color=#4A181B>$wtxt</font> edit separator
  <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::GetHeader'>GetHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a header of unit: declaration + initial comments.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetHeader</span> <span class='ruff_arg'>wtree ID ?NC?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of item in the unit tree</td></tr>
<tr><td class='ruff_defitem'><code><code>NC</code></code></td><td class='ruff_defitem'>index of column of the unit tree; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_428' href="javascript:toggleSource('428')">Show source</a></p>
<div id='428' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::GetHeader {wtree ID {NC {}}} {

  <i><font color=#646464># Gets a header of unit: declaration + initial comments.</font></i>
  <i><font color=#646464>#   wtree - unit tree widget</font></i>
  <i><font color=#646464>#   ID - ID of item in the unit tree</font></i>
  <i><font color=#646464>#   NC - index of column of the unit tree</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> tip [<b><font color=#923B23>string</font></b> trim [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-text</font>]]
  <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] l1 l2 - id
  <b><font color=#923B23>if</font></b> {!<font color=#4A181B>$al(TREE</font>,isunits)} {
    <b><font color=#A106A1>return</font></b> <font color=#4A181B>$l2</font>  ;<i><font color=#646464># for file tree, it's a full file name</font></i>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$NC</font> eq {#1}} {
    <b><font color=#923B23>set</font></b> tip <font color=#035103>&quot;<font color=#4A181B>[</font>string map <font color=#4A181B>{</font>al #<font color=#4A181B>}</font> <font color=#4A181B>$</font>id<font color=#4A181B>]</font>\n<font color=#4A181B>$</font>l1 - <font color=#4A181B>[</font>expr <font color=#4A181B>{</font>max(<font color=#4A181B>$</font>l1,<font color=#4A181B>$</font>l2)<font color=#4A181B>}]</font>&quot;</font>
    <b><font color=#923B23>set</font></b> ID {}
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>catch</font></b> {
      <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
      <b><font color=#923B23>set</font></b> tip2 [<b><font color=#923B23>string</font></b> trim [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$l1</font>.end]]
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#035103>&quot;*\{&quot;</font> <font color=#4A181B>$tip2</font>]} {
        <b><font color=#923B23>set</font></b> tip [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$tip2</font> <font color=#035103>&quot; \{&quot;</font>]
      }
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$NC</font> eq {}} {
        <b><font color=#A106A1>return</font></b> <font color=#4A181B>$tip</font>  ;<i><font color=#646464># returns a declaration only</font></i>
      }
      <i><font color=#646464># find first commented line, after the proc/method declaration</font></i>
      <b><font color=#923B23>for</font></b> {} {<font color=#4A181B>$l1</font>&lt;<font color=#4A181B>$l2</font>} {} {
        <b><font color=#923B23>incr</font></b> l1
        <b><font color=#923B23>set</font></b> line [<b><font color=#923B23>string</font></b> trim [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$l1</font>.end]]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$line</font> end] ni [<b><font color=#923B23>list</font></b> \\ \{] &&  <font color=#4A181B>$line</font> ni {{} # //} && ![<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,proc) <font color=#4A181B>$line</font>]} {
          <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match #* <font color=#4A181B>$line</font>]} {
            <b><font color=#923B23>append</font></b> tip \n [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> 1 end]]
          } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>string</font></b> match //* <font color=#4A181B>$line</font>]} {
            <b><font color=#923B23>append</font></b> tip \n [<b><font color=#923B23>string</font></b> trim [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$line</font> 2 end]]
          }
          <b><font color=#923B23>break</font></b>
        }
      }
    }
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::GetUnits'>GetUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a unit structure from a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetUnits</span> <span class='ruff_arg'>TID textcont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab ID of the text</td></tr>
<tr><td class='ruff_defitem'><code><code>textcont</code></code></td><td class='ruff_defitem'>contents of the text</td></tr>
</table>
<h5 class='ruff'>Description</h5><ul class='ruff'>
<li>level</li>
<li>0 (branch) or 1 (INI,LEAF)</li>
<li>title</li>
<li>line1 - first text line for the item</li>
<li>line2 - last text line for the item</li>
</ul>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of unit items. An item contains:</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_429' href="javascript:toggleSource('429')">Show source</a></p>
<div id='429' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::GetUnits {TID textcont} {

  <i><font color=#646464># Gets a unit structure from a text.</font></i>
  <i><font color=#646464>#   TID - tab ID of the text</font></i>
  <i><font color=#646464>#   textcont - contents of the text</font></i>
  <i><font color=#646464># Returns a list of unit items.</font></i>
  <i><font color=#646464># An item contains:</font></i>
  <i><font color=#646464>#   - level</font></i>
  <i><font color=#646464>#   - 0 (branch) or 1 (INI,LEAF)</font></i>
  <i><font color=#646464>#   - title</font></i>
  <i><font color=#646464>#   - line1 - first text line for the item</font></i>
  <i><font color=#646464>#   - line2 - last text line for the item</font></i>

  <i><font color=#646464># The procedure searhes &quot;branch&quot; units in commented lines, e.g. for:</font></i>
  <i><font color=#646464>#   # ___ level 1 _____ #</font></i>
  <i><font color=#646464>#   ## ___ level 2 _____ ##</font></i>
  <i><font color=#646464>#   ### ___ level 3 _____ ###</font></i>
  <i><font color=#646464># using regexp {^\s*(#+) [_]+([^_]+)[_]+ (#+)} $line -&gt; cmn1 title cmn2</font></i>
  <i><font color=#646464># it extracts two comment marks (#, ## or ###) and a title (level 1/2/3).</font></i>
  <i><font color=#646464>#</font></i>
  <i><font color=#646464># To search &quot;leaf&quot; units (containing procs and methods), another `regexp`</font></i>
  <i><font color=#646464># is used, e.g. for:</font></i>
  <i><font color=#646464>#   # _____</font></i>
  <i><font color=#646464>#   # _____ my leaf 1</font></i>
  <i><font color=#646464># regexp {^\s*# [_]+([^_]*)$} $line -&gt; title</font></i>
  <i><font color=#646464># extracts a title (my leaf 1).</font></i>
  <i><font color=#646464>#</font></i>
  <i><font color=#646464># If &quot;leaf&quot; title is empty, it's taken from the proc/method name, e.g. for</font></i>
  <i><font color=#646464>#   proc unit::SelectUnit {} {...}</font></i>
  <i><font color=#646464>#   method unit::SelectUnit {} {...}</font></i>
  <i><font color=#646464># regexp {^\s*(proc|method)\s+([[:alnum:]_:]+)\s.+} $line -&gt; type title</font></i>
  <i><font color=#646464># extracts a type (proc/method) and a title (unit::SelectUnit).</font></i>
  <i><font color=#646464># The last non-empty group is taken for the title.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> retlist [<b><font color=#923B23>set</font></b> item [<b><font color=#923B23>set</font></b> title [<b><font color=#923B23>list</font></b>]]]
  <b><font color=#923B23>set</font></b> textcont [<b><font color=#923B23>split</font></b> <font color=#4A181B>$textcont</font> \n]
  <b><font color=#923B23>set</font></b> llen [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$textcont</font>]
  <b><font color=#923B23>lappend</font></b> textcont <font color=#035103>&quot;&quot;</font>  ;<i><font color=#646464># to save a last unit to the retlist</font></i>
  <b><font color=#923B23>set</font></b> isLeaf [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$al(INI</font>,LEAF) && <font color=#4A181B>$al(RE</font>,leaf) ne {}}]
  <b><font color=#923B23>set</font></b> isProc [<b><font color=#923B23>expr</font></b> {(!<font color=#4A181B>$al(INI</font>,LEAF) ||  [alited::file::IsTcl [alited::bar::FileName <font color=#4A181B>$TID</font>]]) && <font color=#4A181B>$al(RE</font>,proc) ne {}}]
  <b><font color=#923B23>set</font></b> i [<b><font color=#923B23>set</font></b> lev [<b><font color=#923B23>set</font></b> leaf [<b><font color=#923B23>set</font></b> icomleaf -1]]]
  <b><font color=#923B23>foreach</font></b> line <font color=#4A181B>$textcont</font> {
    <b><font color=#923B23>incr</font></b> i
    <b><font color=#923B23>set</font></b> flag1 0
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> flag [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,branch) <font color=#4A181B>$line</font> -&gt; cmn1 title]]} {
      <i><font color=#646464># a branch</font></i>
      <b><font color=#923B23>set</font></b> leaf [<b><font color=#923B23>set</font></b> icomleaf 0]
      <b><font color=#923B23>set</font></b> lev [<b><font color=#923B23>expr</font></b> {max(0,[<b><font color=#923B23>string</font></b> length <font color=#4A181B>$cmn1</font>]-1)}]
    } <b><font color=#923B23>elseif</font></b> {  <font color=#4A181B>$isLeaf</font> && [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,leaf) <font color=#4A181B>$line</font> -&gt; t1 t2 t3 t4 t5 t6 t7] ||  <font color=#4A181B>$isProc</font> && [<b><font color=#923B23>regexp</font></b> <font color=#4A181B>$al(RE</font>,proc) <font color=#4A181B>$line</font> -&gt; t1 t2 t3 t4 t5 t6 t7]} {
      <b><font color=#923B23>set</font></b> title <font color=#4A181B>$t1</font>  ;<i><font color=#646464># default title: just after found string</font></i>
      <b><font color=#923B23>foreach</font></b> t {t7 t6 t5 t4 t3 t2} {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> _ [<b><font color=#923B23>set</font></b> <font color=#4A181B>$t</font>]] ne <font color=#035103>&quot;&quot;</font>} {
          <b><font color=#923B23>set</font></b> title <font color=#4A181B>$_</font>  ;<i><font color=#646464># last non-empty group of others is a real title</font></i>
          <b><font color=#923B23>break</font></b>
        }
      }
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> cl [<b><font color=#923B23>string</font></b> last :: <font color=#4A181B>$title</font>]]&gt;-1 && [<b><font color=#923B23>set</font></b> cl [<b><font color=#923B23>string</font></b> last :: <font color=#4A181B>$title</font> <font color=#4A181B>$cl</font>]]&gt;-1} {
        <i><font color=#646464># let only a last namespace be present in the titles</font></i>
        <b><font color=#923B23>set</font></b> title [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$title</font> <font color=#4A181B>$cl</font>+2 end]
      }
      <b><font color=#923B23>set</font></b> flag1 <font color=#4A181B>$al(INI</font>,LEAF)
      <b><font color=#923B23>set</font></b> flag [<b><font color=#923B23>set</font></b> leaf 1]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> flag [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>&gt;=<font color=#4A181B>$llen</font>}]
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$flag</font>} {
      <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$item</font>]} {
        <b><font color=#923B23>set</font></b> l1 [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$item</font> 4]-1}]
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$l1</font>&gt;0 && ![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$retlist</font>]} {
          <i><font color=#646464># first found at line&gt;1 =&gt; create a starting leaf</font></i>
          <b><font color=#923B23>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iit]]
          <b><font color=#923B23>lappend</font></b> retlist [<b><font color=#923B23>list</font></b> <font color=#4A181B>$lev</font> 1 <font color=#4A181B>$al(INI</font>,LEAF) <font color=#035103>&quot;&quot;</font> 1 <font color=#4A181B>$l1</font> <font color=#4A181B>$treeID</font>]
        }
        <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$retlist</font> end] levE leafE flE namE l1E - treeIDE
        <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> levC leafC flC namC l1C
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$flE</font> eq <font color=#035103>&quot;1&quot;</font> && <font color=#4A181B>$flC</font> eq <font color=#035103>&quot;0&quot;</font> && <font color=#4A181B>$levE</font>==<font color=#4A181B>$levC</font> && <font color=#4A181B>$leafE</font>==<font color=#4A181B>$leafC</font>} {
          <i><font color=#646464># found a named previous leaf</font></i>
          <b><font color=#923B23>if</font></b> {<font color=#4A181B>$namE</font> eq <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> namE <font color=#4A181B>$namC</font>}
          <i><font color=#646464># update the named leaf</font></i>
          <b><font color=#923B23>set</font></b> retlist [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$retlist</font> end end  [<b><font color=#923B23>list</font></b> <font color=#4A181B>$levE</font> <font color=#4A181B>$leafE</font> <font color=#4A181B>$flE</font> <font color=#4A181B>$namE</font> <font color=#4A181B>$l1E</font> <font color=#4A181B>$i</font> <font color=#4A181B>$treeIDE</font>]]
        } <b><font color=#923B23>else</font></b> {
          <i><font color=#646464># add l2 (last line of unit), ID of unit</font></i>
          <b><font color=#923B23>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iit]]
          <b><font color=#923B23>lappend</font></b> retlist [<b><font color=#923B23>lappend</font></b> item <font color=#4A181B>$i</font> <font color=#4A181B>$treeID</font>]
        }
      }
      <i><font color=#646464># prepare an item for saving</font></i>
      <b><font color=#923B23>set</font></b> item [<b><font color=#923B23>list</font></b>  [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$lev</font>+<font color=#4A181B>$leaf</font>}] <font color=#4A181B>$leaf</font> <font color=#4A181B>$flag1</font> [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$title</font> <font color=#035103>&quot; #&quot;</font>] [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$i</font>+1}]]
    }
  }
  <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>llength</font></b> <font color=#4A181B>$retlist</font>]} {
    <b><font color=#923B23>set</font></b> name [<b><font color=#923B23>file</font></b> tail [alited::bar::FileName <font color=#4A181B>$TID</font>]]
    <b><font color=#923B23>set</font></b> name [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %f <font color=#4A181B>$name</font>] <font color=#4A181B>$al(MC</font>,alloffile)]
    <b><font color=#923B23>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#923B23>incr</font></b> iit]]
    <b><font color=#923B23>lappend</font></b> retlist [<b><font color=#923B23>list</font></b> 1 1 1 <font color=#4A181B>$name</font> 1 <font color=#4A181B>$llen</font> <font color=#4A181B>$treeID</font>]
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$retlist</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::InsertTemplate'>InsertTemplate</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a template into a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertTemplate</span> <span class='ruff_arg'>tpldata</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tpldata</code></code></td><td class='ruff_defitem'>template</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_430' href="javascript:toggleSource('430')">Show source</a></p>
<div id='430' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::InsertTemplate {tpldata} {

  <i><font color=#646464># Inserts a template into a current text.</font></i>
  <i><font color=#646464>#   tpldata - template</font></i>

  <i><font color=#646464># for noname file - save it beforehand, as templates refer to a file name</font></i>
  <b><font color=#923B23>if</font></b> {[alited::file::IsNoName [alited::bar::FileName]]} {
    <b><font color=#923B23>if</font></b> {![alited::file::SaveFile]} <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>lassign</font></b> [alited::tree::CurrentItemByLine <font color=#035103>&quot;&quot;</font> 1] itemID - - - - l1 l2
  <b><font color=#923B23>lassign</font></b> [TemplateData <font color=#4A181B>$wtxt</font> <font color=#4A181B>$l1</font> <font color=#4A181B>$tpldata</font>] tex pos place
  <b><font color=#923B23>set</font></b> col0 [<b><font color=#923B23>string</font></b> range <font color=#4A181B>$pos</font> [<b><font color=#923B23>string</font></b> first . <font color=#4A181B>$pos</font>] end]
  <b><font color=#923B23>switch</font></b> <font color=#4A181B>$place</font> {
    0 { ;<i><font color=#646464># returned by TemplateData: after a declaration</font></i>
      <b><font color=#923B23>set</font></b> pos0 [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$l1</font>+1}].0
    }
    4 { ;<i><font color=#646464># after 1st line</font></i>
      <b><font color=#923B23>set</font></b> pos0 1.0
    }
    3 { ;<i><font color=#646464># after cursor</font></i>
      <b><font color=#923B23>set</font></b> pos0 [<font color=#4A181B>$wtxt</font> index insert]
    }
    2 { ;<i><font color=#646464># after unit</font></i>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$l2</font> ne <font color=#035103>&quot;&quot;</font>} {
        <b><font color=#923B23>set</font></b> pos0 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>l2.0 +1 line linestart&quot;</font>]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$tex</font> end] ne <font color=#035103>&quot;\n&quot;</font>} {<b><font color=#923B23>append</font></b> tex \n}
      } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> place 1
      }
    }
    <b><font color=#923B23>default</font></b> { ;<i><font color=#646464># after line</font></i>
      <b><font color=#923B23>set</font></b> place 1
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$place</font> == 1} {
    <b><font color=#923B23>set</font></b> pos0 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;insert +1 line linestart&quot;</font>]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> index <font color=#4A181B>$tex</font> end] ne <font color=#035103>&quot;\n&quot;</font>} {<b><font color=#923B23>append</font></b> tex \n}
  }
  <b><font color=#923B23>set</font></b> pos <font color=#035103>&quot;<font color=#4A181B>[</font>expr <font color=#4A181B>{</font>int(<font color=#4A181B>$</font>pos)-1<font color=#4A181B>}]$</font>col0&quot;</font>
  <b><font color=#923B23>set</font></b> pos [alited::p+ <font color=#4A181B>$pos0</font> <font color=#4A181B>$pos</font>]
  <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$pos0</font> <font color=#4A181B>$tex</font>
  ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveL1L2'>MoveL1L2</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a text lines to other location.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveL1L2</span> <span class='ruff_arg'>wtxt i1 i2 io ?dosep?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>i1</code></code></td><td class='ruff_defitem'>first line to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>i2</code></code></td><td class='ruff_defitem'>last line to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>io</code></code></td><td class='ruff_defitem'>destination line (to insert the moved lines before)</td></tr>
<tr><td class='ruff_defitem'><code><code>dosep</code></code></td><td class='ruff_defitem'>yes, if &quot;edit separator&quot; is required; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a position of destination line, if the moving was successful.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_431' href="javascript:toggleSource('431')">Show source</a></p>
<div id='431' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::MoveL1L2 {wtxt i1 i2 io {dosep yes}} {

  <i><font color=#646464># Moves a text lines to other location.</font></i>
  <i><font color=#646464>#   wtxt - text widget's path</font></i>
  <i><font color=#646464>#   i1 - first line to be moved</font></i>
  <i><font color=#646464>#   i2 - last line to be moved</font></i>
  <i><font color=#646464>#   io - destination line (to insert the moved lines before)</font></i>
  <i><font color=#646464>#   dosep - yes, if &quot;edit separator&quot; is required</font></i>
  <i><font color=#646464># Returns a position of destination line, if the moving was successful.</font></i>

  <b><font color=#923B23>set</font></b> ind2 [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;<font color=#4A181B>$</font>i2.end +1 char&quot;</font>]
  <b><font color=#923B23>if</font></b> {(<font color=#4A181B>$i1</font>&lt;=<font color=#4A181B>$io</font> && <font color=#4A181B>$io</font>&lt;=<font color=#4A181B>$i2)</font> || <font color=#4A181B>$io</font>&lt;1 || <font color=#4A181B>$i1</font>&lt;1 || <font color=#4A181B>$i2</font>&lt;1 ||  [<b><font color=#923B23>set</font></b> linesmoved [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$i1</font>.0 <font color=#4A181B>$ind2</font>]] eq <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#A106A1>return</font></b> <font color=#035103>&quot;&quot;</font> ;<i><font color=#646464># nothing to do</font></i>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dosep</font>} {
    <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> no
    <font color=#4A181B>$wtxt</font> edit separator
  }
  <font color=#4A181B>$wtxt</font> delete <font color=#4A181B>$i1</font>.0 <font color=#4A181B>$ind2</font>
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$io</font>&gt;<font color=#4A181B>$i2</font>} {
    <i><font color=#646464># 3. i1    if moved below, the moved (deleted) lines change 'io', so</font></i>
    <i><font color=#646464># 4. i2    'io' is shifted up (by range of moved lines i.e. i1-i2-1)</font></i>
    <i><font color=#646464># 5.</font></i>
    <i><font color=#646464># 6. io    resulting io = io-(i2-i1+1) = io+i1-i2-1 (6+3-4-1=4)</font></i>
    <b><font color=#923B23>set</font></b> io [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$io</font>+<font color=#4A181B>$i1</font>-<font color=#4A181B>$i2</font>-1}]
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$io</font> == int([<font color=#4A181B>$wtxt</font> index end])} {
    <i><font color=#646464># &quot;If index refers to the end of the text (the character after the last newline) then the new text is inserted just before the last newline instead.&quot; (The text manual page)</font></i>
    <font color=#4A181B>$wtxt</font> insert <font color=#035103>&quot;end&quot;</font> \n<font color=#4A181B>$linesmoved</font>
    <font color=#4A181B>$wtxt</font> delete [<font color=#4A181B>$wtxt</font> index <font color=#035103>&quot;end -1 char&quot;</font>] end
  } <b><font color=#923B23>else</font></b> {
    <font color=#4A181B>$wtxt</font> insert <font color=#4A181B>$io</font>.0 <font color=#4A181B>$linesmoved</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$dosep</font>} {
    <font color=#4A181B>$wtxt</font> edit separator
    <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> yes
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$io</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveUnit'>MoveUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a unit up/down the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveUnit</span> <span class='ruff_arg'>wtree to hd headers f1112 ?dosep?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (up/down)</td></tr>
<tr><td class='ruff_defitem'><code><code>hd</code></code></td><td class='ruff_defitem'>header of the moved unit</td></tr>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>headers of all selected units</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
<tr><td class='ruff_defitem'><code><code>dosep</code></code></td><td class='ruff_defitem'>yes, if &quot;edit separator&quot; is required; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_432' href="javascript:toggleSource('432')">Show source</a></p>
<div id='432' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::MoveUnit {wtree to hd headers f1112 {dosep yes}} {

  <i><font color=#646464># Moves a unit up/down the unit tree.</font></i>
  <i><font color=#646464>#   wtree - unit tree's path</font></i>
  <i><font color=#646464>#   to - direction (up/down)</font></i>
  <i><font color=#646464>#   hd - header of the moved unit</font></i>
  <i><font color=#646464>#   headers - headers of all selected units</font></i>
  <i><font color=#646464>#   f1112 - yes, if run by F11/F12 keys</font></i>
  <i><font color=#646464>#   dosep - yes, if &quot;edit separator&quot; is required</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#923B23>set</font></b> itemID [SearchByHeader <font color=#4A181B>$hd</font>]
  <b><font color=#923B23>set</font></b> newparent [<b><font color=#923B23>set</font></b> oldparent {}]
  <b><font color=#923B23>set</font></b> newlev [<b><font color=#923B23>set</font></b> oldlev [<b><font color=#923B23>set</font></b> iold -1]]
  <b><font color=#923B23>set</font></b> i1 [<b><font color=#923B23>set</font></b> i2 [<b><font color=#923B23>set</font></b> io 0]]
  <b><font color=#923B23>foreach</font></b> item <font color=#4A181B>$tree</font> {
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$item</font> lev cnt id title values
    <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$values</font> l1 l2 prl id lev leaf fl1
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$id</font> eq <font color=#4A181B>$itemID</font>} {
      <b><font color=#923B23>set</font></b> oldlev <font color=#4A181B>$lev</font>
      <b><font color=#923B23>set</font></b> i1 <font color=#4A181B>$l1</font>
      <b><font color=#923B23>set</font></b> i2 <font color=#4A181B>$l2</font>
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$to</font> eq <font color=#035103>&quot;up&quot;</font>} <b><font color=#923B23>break</font></b>
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$to</font> ne <font color=#035103>&quot;up&quot;</font> && <font color=#4A181B>$oldlev</font>&gt;-1} {
      <b><font color=#923B23>set</font></b> io [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$l2</font>+1}]
      <b><font color=#923B23>break</font></b>
    }
    <b><font color=#923B23>set</font></b> io <font color=#4A181B>$l1</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$io</font>&lt;<font color=#4A181B>$al(INI</font>,LINES1)} {
    <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$al(INI</font>,LINES1)] <font color=#4A181B>$al(MC</font>,introln2)]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$f1112</font>} {<b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;&quot;</font>} <b><font color=#923B23>else</font></b> {<b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-geometry pointer+10+10&quot;</font>}
    alited::msg ok err <font color=#4A181B>$msg</font> <font color=#463e11>-title</font> <font color=#4A181B>$al(MC</font>,introln1) {*}<font color=#4A181B>$geo</font>
    <b><font color=#A106A1>return</font></b> no
  }
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> pos [MoveL1L2 <font color=#4A181B>$wtxt</font> <font color=#4A181B>$i1</font> <font color=#4A181B>$i2</font> <font color=#4A181B>$io</font> <font color=#4A181B>$dosep</font>]] ne {}} {
    ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> [<b><font color=#923B23>expr</font></b> {int(<font color=#4A181B>$pos)</font>}].0
    alited::tree::RecreateTree <font color=#4A181B>$wtree</font> <font color=#4A181B>$headers</font>
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#A106A1>return</font></b> no
  }
  <b><font color=#A106A1>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveUnits'>MoveUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves selected units up/down the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveUnits</span> <span class='ruff_arg'>wtree to itemIDs f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (up/down)</td></tr>
<tr><td class='ruff_defitem'><code><code>itemIDs</code></code></td><td class='ruff_defitem'>tree item IDs of selected units</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_433' href="javascript:toggleSource('433')">Show source</a></p>
<div id='433' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::MoveUnits {wtree to itemIDs f1112} {

  <i><font color=#646464># Moves selected units up/down the unit tree.</font></i>
  <i><font color=#646464>#   wtree - unit tree's path</font></i>
  <i><font color=#646464>#   to - direction (up/down)</font></i>
  <i><font color=#646464>#   itemIDs - tree item IDs of selected units</font></i>
  <i><font color=#646464>#   f1112 - yes, if run by F11/F12 keys</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <i><font color=#646464># update the unit tree, to act for sure</font></i>
  alited::tree::RecreateTree
  <i><font color=#646464># check the moved units for the consistency of braces</font></i>
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#923B23>foreach</font></b> ID <font color=#4A181B>$itemIDs</font> {
    <b><font color=#923B23>lassign</font></b> [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-values</font>] l1 l2 - id
    <b><font color=#923B23>set</font></b> cc1 [<b><font color=#923B23>set</font></b> cc2 0]
    <b><font color=#923B23>foreach</font></b> line [<b><font color=#923B23>split</font></b> [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$l2</font>.end] \n] {
      <b><font color=#923B23>incr</font></b> cc1 [::apave::countChar <font color=#4A181B>$line</font> \{]
      <b><font color=#923B23>incr</font></b> cc2 [::apave::countChar <font color=#4A181B>$line</font> \}]
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$cc1</font>!=<font color=#4A181B>$cc2</font>} {
      <b><font color=#923B23>set</font></b> tip [<b><font color=#923B23>string</font></b> trim [<font color=#4A181B>$wtree</font> item <font color=#4A181B>$ID</font> <font color=#463e11>-text</font>]]
      <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$tip</font> %1 <font color=#4A181B>$cc1</font> %2 <font color=#4A181B>$cc2</font>] <font color=#4A181B>$al(MC</font>,errmove)]
      alited::Message <font color=#4A181B>$msg</font> 4
      <b><font color=#A106A1>return</font></b>
    }
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$to</font> eq <font color=#035103>&quot;move&quot;</font>} {
    DropUnits <font color=#4A181B>$wtree</font> <font color=#4A181B>$itemIDs</font> <font color=#4A181B>$f1112</font>
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> al(RECREATE) 0
  <b><font color=#923B23>set</font></b> headers [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> ID <font color=#4A181B>$itemIDs</font> {
    <b><font color=#923B23>set</font></b> hd [GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$ID</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$to</font> eq <font color=#035103>&quot;up&quot;</font>} {
      <b><font color=#923B23>lappend</font></b> headers <font color=#4A181B>$hd</font>
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> headers [<b><font color=#923B23>linsert</font></b> <font color=#4A181B>$headers</font> 0 <font color=#4A181B>$hd</font>]
    }
  }
  <i><font color=#646464># move items one by one, by their headers</font></i>
  <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> no
  <font color=#4A181B>$wtxt</font> edit separator
  <b><font color=#923B23>foreach</font></b> hd <font color=#4A181B>$headers</font> {
    <b><font color=#923B23>if</font></b> {![MoveUnit <font color=#4A181B>$wtree</font> <font color=#4A181B>$to</font> <font color=#4A181B>$hd</font> <font color=#4A181B>$headers</font> <font color=#4A181B>$f1112</font> no]} {
      <b><font color=#923B23>break</font></b>
    }
  }
  <font color=#4A181B>$wtxt</font> edit separator
  <font color=#4A181B>$wtxt</font> configure <font color=#463e11>-autoseparators</font> yes
  <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;set alited::al(RECREATE) 1 ; alited::tree::RecreateTree&quot;</font>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> sel [<font color=#4A181B>$wtree</font> selection]] ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>after</font></b> idle [<b><font color=#923B23>list</font></b> after 10 <font color=#035103>&quot;<font color=#4A181B>$</font>wtree selection set <font color=#4A181B>{$</font>sel<font color=#4A181B>}</font>&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SearchByHeader'>SearchByHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tree item ID of a units by its header (declaration+initial comment).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByHeader</span> <span class='ruff_arg'>header</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_434' href="javascript:toggleSource('434')">Show source</a></p>
<div id='434' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::SearchByHeader {header} {

  <i><font color=#646464># Gets tree item ID of a units by its header (declaration+initial comment).</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#923B23>set</font></b> wtree [<font color=#4A181B>$obPav</font> Tree]
  <b><font color=#923B23>foreach</font></b> item [alited::tree::GetTree] {
    <b><font color=#923B23>set</font></b> ID [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$item</font> 2]
    <b><font color=#923B23>set</font></b> header2 [GetHeader <font color=#4A181B>$wtree</font> <font color=#4A181B>$ID</font>]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$header</font> eq <font color=#4A181B>$header2</font>} {<b><font color=#A106A1>return</font></b> <font color=#4A181B>$ID</font>}
  }
  <b><font color=#A106A1>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SearchInBranch'>SearchInBranch</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks whether a unit is in a branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchInBranch</span> <span class='ruff_arg'>unit ?branch?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>unit</code></code></td><td class='ruff_defitem'>ID of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>branch</code></code></td><td class='ruff_defitem'>the branch or its ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>branch</em> is omitted, searches in all of the tree. If <em>branch</em> is set as ID, the branch is fetched from this ID.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the unit's index in the branch or -1 if not found.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_435' href="javascript:toggleSource('435')">Show source</a></p>
<div id='435' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::SearchInBranch {unit {branch {}}} {

  <i><font color=#646464># Checks whether a unit is in a branch.</font></i>
  <i><font color=#646464>#   unit - ID of the unit</font></i>
  <i><font color=#646464>#   branch - the branch or its ID</font></i>
  <i><font color=#646464># If *branch* is omitted, searches in all of the tree.</font></i>
  <i><font color=#646464># If *branch* is set as ID, the branch is fetched from this ID.</font></i>
  <i><font color=#646464># Returns the unit's index in the branch or -1 if not found.</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$branch</font>]&lt;2} {
    <b><font color=#923B23>set</font></b> branch [alited::tree::GetTree <font color=#4A181B>$branch</font>]
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#463e11>-index</font> 2 <font color=#4A181B>$branch</font> <font color=#4A181B>$unit</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SelectByHeader'>SelectByHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a unit in the text, by the unit's header.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectByHeader</span> <span class='ruff_arg'>header line</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>unit's header (declaration+initial comment)</td></tr>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>relational line number inside the unit</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_436' href="javascript:toggleSource('436')">Show source</a></p>
<div id='436' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::SelectByHeader {header line} {

  <i><font color=#646464># Selects a unit in the text, by the unit's header.</font></i>
  <i><font color=#646464>#   header - unit's header (declaration+initial comment)</font></i>
  <i><font color=#646464>#   line - relational line number inside the unit</font></i>

  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> ID [SearchByHeader <font color=#4A181B>$header</font>]] ne <font color=#035103>&quot;&quot;</font>} {
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;alited::tree::NewSelection <font color=#4A181B>$</font>ID <font color=#4A181B>$</font>line&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SwitchUnits'>SwitchUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches between last two active units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchUnits</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_437' href="javascript:toggleSource('437')">Show source</a></p>
<div id='437' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::SwitchUnits {} {

  <i><font color=#646464># Switches between last two active units.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$al(FAV</font>,visited)]&lt;2} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$al(FAV</font>,visited) 1 4] name fname header
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> TID [alited::favor::OpenSelectedFile <font color=#4A181B>$fname</font>]] eq {}} <b><font color=#A106A1>return</font></b>
  alited::favor::GoToUnit <font color=#4A181B>$TID</font> <font color=#4A181B>$name</font> <font color=#4A181B>$header</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::TemplateData'>TemplateData</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces the template wildcards with data of current text and unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TemplateData</span> <span class='ruff_arg'>wtxt l1 tpldata</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of current unit</td></tr>
<tr><td class='ruff_defitem'><code><code>tpldata</code></code></td><td class='ruff_defitem'>template</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_438' href="javascript:toggleSource('438')">Show source</a></p>
<div id='438' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit::TemplateData {wtxt l1 tpldata} {

  <i><font color=#646464># Replaces the template wildcards with data of current text and unit.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>
  <i><font color=#646464>#   l1 - 1st line of current unit</font></i>
  <i><font color=#646464>#   tpldata - template</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>lassign</font></b> <font color=#4A181B>$tpldata</font> tex pos place
  <b><font color=#923B23>set</font></b> sec [<b><font color=#923B23>clock</font></b> seconds]
  <b><font color=#923B23>set</font></b> fname [alited::bar::FileName]
  <i><font color=#646464># fill the common wildcards</font></i>
  <b><font color=#923B23>set</font></b> tex [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b>  %d [<b><font color=#923B23>clock</font></b> format <font color=#4A181B>$sec</font> <font color=#463e11>-format</font> <font color=#4A181B>$al(TPL</font>,%d)]  %t [<b><font color=#923B23>clock</font></b> format <font color=#4A181B>$sec</font> <font color=#463e11>-format</font> <font color=#4A181B>$al(TPL</font>,%t)]  %u <font color=#4A181B>$al(TPL</font>,%u)  %U <font color=#4A181B>$al(TPL</font>,%U)  %m <font color=#4A181B>$al(TPL</font>,%m)  %w <font color=#4A181B>$al(TPL</font>,%w)  %F <font color=#4A181B>$fname</font>  %f [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]  %n [<b><font color=#923B23>file</font></b> rootname [<b><font color=#923B23>file</font></b> tail <font color=#4A181B>$fname</font>]]  ] <font color=#4A181B>$tex</font>]
  <i><font color=#646464># get a list of proc/method's arguments:</font></i>
  <i><font color=#646464># from &quot;proc pr {ar1 ar2 ar3} &quot; and a template &quot;  # %a -\n&quot;</font></i>
  <i><font color=#646464># to get</font></i>
  <i><font color=#646464>#   # ar1 -</font></i>
  <i><font color=#646464>#   # ar2 -</font></i>
  <i><font color=#646464>#   # ar3 -</font></i>
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>set</font></b> textcont [<font color=#4A181B>$wtxt</font> get <font color=#4A181B>$l1</font>.0 <font color=#4A181B>$l1</font>.end]}]} {<b><font color=#923B23>set</font></b> textcont <font color=#035103>&quot;&quot;</font>}
  <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$textcont</font> <font color=#035103>&quot;\{\}&quot;</font>] proc iarg
  <b><font color=#923B23>catch</font></b> {
    <b><font color=#923B23>set</font></b> tpla [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \\n \n] <font color=#4A181B>$al(TPL</font>,%a)]
    <b><font color=#923B23>set</font></b> oarg [<b><font color=#923B23>set</font></b> st1 <font color=#035103>&quot;&quot;</font>]
    <b><font color=#923B23>foreach</font></b> a <font color=#4A181B>$iarg</font> {
      <b><font color=#923B23>set</font></b> st [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %a <font color=#4A181B>$a</font>] <font color=#4A181B>$tpla</font>]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$st1</font> eq <font color=#035103>&quot;&quot;</font>} {<b><font color=#923B23>set</font></b> st1 <font color=#4A181B>$st</font>}
      <b><font color=#923B23>append</font></b> oarg <font color=#4A181B>$st</font>
    }
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> first %a <font color=#4A181B>$tex</font>]&gt;-1} {
      <b><font color=#923B23>set</font></b> place 0
      <b><font color=#923B23>set</font></b> pos 1.[<b><font color=#923B23>string</font></b> length <font color=#4A181B>$st1</font>]
    }
    <b><font color=#923B23>set</font></b> tex [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \\n \n %a <font color=#4A181B>$oarg</font>] <font color=#4A181B>$tex</font>]
  }
  <b><font color=#923B23>set</font></b> ll1 [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$tex</font>]
  <b><font color=#923B23>set</font></b> tex [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %p [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$proc</font> 1]] <font color=#4A181B>$tex</font>]
  <b><font color=#923B23>set</font></b> ll2 [<b><font color=#923B23>string</font></b> length <font color=#4A181B>$tex</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> ll [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$ll2</font>-<font color=#4A181B>$ll1</font>}]]} {
    <b><font color=#923B23>lassign</font></b> [<b><font color=#923B23>split</font></b> <font color=#4A181B>$pos</font> .] r c
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is digit <font color=#463e11>-strict</font> <font color=#4A181B>$c</font>]} {
      <b><font color=#923B23>set</font></b> pos <font color=#4A181B>$r</font>.[<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$c</font>+<font color=#4A181B>$ll</font>}]
    }
  }
  <b><font color=#A106A1>return</font></b> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$tex</font> <font color=#4A181B>$pos</font> <font color=#4A181B>$place</font>]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::unit_tpl'></a>::alited::unit_tpl<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::unit_tpl-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Templates&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_439' href="javascript:toggleSource('439')">Show source</a></p>
<div id='439' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::_create {} {

  <i><font color=#646464># Creates &quot;Templates&quot; dialogue.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>variable</font></b> ilast
  <b><font color=#923B23>variable</font></b> tplkey
  <font color=#4A181B>$obDl2</font> makeWindow <font color=#4A181B>$win</font> <font color=#4A181B>$al(MC</font>,tpl)
  <font color=#4A181B>$obDl2</font> paveWindow <font color=#4A181B>$win</font> {
    {fraTreeTpl - - 10 10 {<font color=#463e11>-st</font> nswe <font color=#463e11>-pady</font> 8} {}}
    {.fra - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> right <font color=#463e11>-fill</font> both} {}}
    {.fra.buTAd - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top <font color=#463e11>-anchor</font> n} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::unit_tpl::Add <font color=#463e11>-tip</font> <font color=#035103>&quot;Add a template&quot;</font> <font color=#463e11>-image</font> alimg_add<font color=#463e11>-big</font>}}
    {.fra.buTChg - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::unit_tpl::Change <font color=#463e11>-tip</font> <font color=#035103>&quot;Change a template&quot;</font> <font color=#463e11>-image</font> alimg_change<font color=#463e11>-big</font>}}
    {.fra.buTDel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> top} {<font color=#463e11>-takefocus</font> 0 <font color=#463e11>-com</font> ::alited::unit_tpl::Delete <font color=#463e11>-tip</font> <font color=#035103>&quot;Delete a template&quot;</font> <font color=#463e11>-image</font> alimg_delete<font color=#463e11>-big</font>}}
    {.TreeTpl - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-h</font> 7 <font color=#463e11>-show</font> headings <font color=#463e11>-columns</font> {C1 C2} <font color=#463e11>-displaycolumns</font> {C1 C2} <font color=#463e11>-columnoptions</font> <font color=#035103>&quot;C2 <font color=#4A181B>{</font>-stretch 0<font color=#4A181B>}</font>&quot;</font>}}
    {.sbvTpls fraTreeTpl.TreeTpl L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both}}
    {fra1 fraTreeTpl T 10 10 {<font color=#463e11>-st</font> nsew}}
    {.labTpl - - 1 1 {<font color=#463e11>-st</font> we} {<font color=#463e11>-anchor</font> center <font color=#463e11>-t</font> <font color=#035103>&quot;Current template:&quot;</font>}}
    {.EntTpl .labTpl L 1 8 {<font color=#463e11>-st</font> we} {<font color=#463e11>-tvar</font> ::alited::unit_tpl::tpl <font color=#463e11>-w</font> 50 <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,tplent1)}}}
    {.CbxKey .EntTpl L 1 1 {<font color=#463e11>-st</font> we} {<font color=#463e11>-tvar</font> ::alited::unit_tpl::tplkey <font color=#463e11>-postcommand</font> ::alited::unit_tpl::GetKeyList <font color=#463e11>-state</font> readonly <font color=#463e11>-h</font> 16 <font color=#463e11>-w</font> 16 <font color=#463e11>-tip</font> <font color=#035103>&quot;Choose a hot key combination\nfor the template insertion.&quot;</font>}}
    {fra1.fratex fra1.labTpl T 10 10 {<font color=#463e11>-st</font> nsew} {}}
    {.TexTpl - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both} {<font color=#463e11>-h</font> 10 <font color=#463e11>-w</font> 80 <font color=#463e11>-tip</font> {<font color=#4A181B>$alited::al(MC</font>,tplent2)}}}
    {.sbvTpl .TexTpl L - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-fill</font> both} {}}
    {fra2 fra1 T 1 10 {<font color=#463e11>-st</font> nsew} {<font color=#463e11>-padding</font> {5 5 5 5} <font color=#463e11>-relief</font> groove}}
    {.labBA - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;Place after:&quot;</font>}}
    {.radA - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 8}  {<font color=#463e11>-t</font> <font color=#035103>&quot;line&quot;</font> <font color=#463e11>-var</font> ::alited::unit_tpl::place <font color=#463e11>-value</font> 1 <font color=#463e11>-tip</font> <font color=#035103>&quot;Inserts a template\nbelow a current line&quot;</font>}}
    {.radB - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 8}  {<font color=#463e11>-t</font> <font color=#035103>&quot;unit&quot;</font> <font color=#463e11>-var</font> ::alited::unit_tpl::place <font color=#463e11>-value</font> 2 <font color=#463e11>-tip</font> <font color=#035103>&quot;Inserts a template\nbelow a current unit&quot;</font>}}
    {.radC - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 8}  {<font color=#463e11>-t</font> <font color=#035103>&quot;cursor&quot;</font> <font color=#463e11>-var</font> ::alited::unit_tpl::place <font color=#463e11>-value</font> 3 <font color=#463e11>-tip</font> <font color=#035103>&quot;Inserts a template at the cursor\n(good for one-liners)&quot;</font>}}
    {.radD - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 8}  {<font color=#463e11>-t</font> <font color=#035103>&quot;file's beginning&quot;</font> <font color=#463e11>-var</font> ::alited::unit_tpl::place <font color=#463e11>-value</font> 4 <font color=#463e11>-tip</font> <font color=#035103>&quot;Inserts a template after 1st line of a file\n(License, Introduction etc.)&quot;</font>}}
    {LabMess fra2 T 1 10 {<font color=#463e11>-st</font> nsew <font color=#463e11>-pady</font> 0 <font color=#463e11>-padx</font> 3} {<font color=#463e11>-style</font> TLabelFS}}
    {fra3 labMess T 1 10 {<font color=#463e11>-st</font> nsew}}
    {.butHelp - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> <font color=#035103>&quot;<font color=#4A181B>$</font>alited::al(MC,help)&quot;</font> <font color=#463e11>-command</font> ::alited::unit_tpl::Help}}
    {.h_ - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-expand</font> 1 <font color=#463e11>-fill</font> both}}
    {.butOK - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left <font color=#463e11>-padx</font> 2} {<font color=#463e11>-t</font> <font color=#035103>&quot;<font color=#4A181B>$</font>alited::al(MC,select)&quot;</font> <font color=#463e11>-command</font> ::alited::unit_tpl::Ok}}
    {.butCancel - - - - {<b><font color=#7A040E>pack</font></b> <font color=#463e11>-side</font> left} {<font color=#463e11>-t</font> Cancel <font color=#463e11>-command</font> ::alited::unit_tpl::Cancel}}
  }
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreeTpl]
  <font color=#4A181B>$tree</font> heading C1 <font color=#463e11>-text</font> [msgcat::mc Template]
  <font color=#4A181B>$tree</font> heading C2 <font color=#463e11>-text</font> [msgcat::mc {Hot keys}]
  UpdateTree
  Select
  <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obDl2</font> TexTpl]
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;&lt;TreeviewSelect&gt;&gt; ::alited::unit_tpl::Select
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;Delete&gt; ::alited::unit_tpl::Delete
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;Double<font color=#463e11>-Button</font>-1&gt; ::alited::unit_tpl::Ok
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$tree</font> &lt;Return&gt; ::alited::unit_tpl::Ok
  <b><font color=#7A040E>bind</font></b> <font color=#4A181B>$wtxt</font> &lt;FocusIn&gt; <font color=#035103>&quot;::alited::unit_tpl::InText <font color=#4A181B>$</font>wtxt&quot;</font>
  <b><font color=#7A040E>bind</font></b> [<font color=#4A181B>$obDl2</font> CbxKey] &lt;FocusOut&gt; ::alited::unit_tpl::ClearCbx
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$tpllist</font>]} {<b><font color=#923B23>set</font></b> foc <font color=#4A181B>$tree</font>} {<b><font color=#923B23>set</font></b> foc [<font color=#4A181B>$obDl2</font> EntTpl]}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$ilast</font>&gt;-1} {
    Select <font color=#4A181B>$ilast</font>
    <b><font color=#923B23>after</font></b> idle <font color=#035103>&quot;alited::unit_tpl::Select <font color=#4A181B>$</font>ilast&quot;</font>  ;<i><font color=#646464># just to highlight</font></i>
  }
  <b><font color=#923B23>set</font></b> res [<font color=#4A181B>$obDl2</font> showModal <font color=#4A181B>$win</font> <font color=#463e11>-resizable</font> {0 0}  <font color=#463e11>-onclose</font> ::alited::unit_tpl::Cancel <font color=#463e11>-focus</font> <font color=#4A181B>$foc</font>]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$res</font>] &lt; 2} {<b><font color=#923B23>set</font></b> res {}}
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Templates&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_440' href="javascript:toggleSource('440')">Show source</a></p>
<div id='440' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::_run {} {

  <i><font color=#646464># Runs &quot;Templates&quot; dialogue.</font></i>

  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>set</font></b> wtxt [alited::main::CurrentWTXT]
  alited::keys::UnBindKeys <font color=#4A181B>$wtxt</font> template
  ReadIni
  <b><font color=#923B23>set</font></b> res [_create]
  <b><font color=#7A040E>destroy</font></b> <font color=#4A181B>$win</font>
  alited::keys::BindKeys <font color=#4A181B>$wtxt</font> template
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Add template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_441' href="javascript:toggleSource('441')">Show source</a></p>
<div id='441' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Add {} {

  <i><font color=#646464># Handles &quot;Add template&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>variable</font></b> tpl
  <b><font color=#923B23>variable</font></b> tplcont
  <b><font color=#923B23>variable</font></b> tplpos
  <b><font color=#923B23>variable</font></b> tplpla
  <b><font color=#923B23>variable</font></b> place
  <b><font color=#923B23>variable</font></b> tplkeys
  <b><font color=#923B23>variable</font></b> tplkey
  <b><font color=#923B23>variable</font></b> tplid
  <b><font color=#923B23>set</font></b> tpl [<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$tpl</font>]
  <b><font color=#923B23>set</font></b> txt [Text]
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreeTpl]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tplkey</font> ne {}} {
    <b><font color=#923B23>set</font></b> isel2 [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$tplkeys</font> <font color=#4A181B>$tplkey</font>]
  } <b><font color=#923B23>else</font></b> {
    <b><font color=#923B23>set</font></b> isel2 -1
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tpl</font> ne {} && <font color=#4A181B>$txt</font> ne {} && (  [<b><font color=#923B23>set</font></b> isel1 [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$tpllist</font> <font color=#4A181B>$tpl</font>]]&gt;-1 || <font color=#4A181B>$isel2</font>&gt;-1 ||
  [<b><font color=#923B23>set</font></b> isel3 [<b><font color=#923B23>lsearch</font></b> <font color=#463e11>-exact</font> <font color=#4A181B>$tplcont</font> <font color=#4A181B>$txt</font>]]&gt;-1 )} {
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel1</font>&gt;-1} {
      <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> EntTpl]
    } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$isel2</font>&gt;-1} {
      <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> CbxKey]
    } <b><font color=#923B23>else</font></b> {
      <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obDl2</font> TexTpl]
      <b><font color=#7A040E>focus</font></b> <font color=#4A181B>$wtxt</font>
      <b><font color=#923B23>set</font></b> pos [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplpos</font> <font color=#4A181B>$isel3</font>]
      ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$pos</font>
    }
    alited::Message2 <font color=#4A181B>$al(MC</font>,tplexists) 4
    <b><font color=#A106A1>return</font></b>
  } <b><font color=#923B23>elseif</font></b> {<font color=#4A181B>$tpl</font> eq {}} {
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> EntTpl]
    alited::Message2 <font color=#4A181B>$al(MC</font>,tplent1) 4
    <b><font color=#A106A1>return</font></b>
  } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>string</font></b> trim <font color=#4A181B>$txt</font>] eq {}} {
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> TexTpl]
    alited::Message2 <font color=#4A181B>$al(MC</font>,tplent2) 4
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>lappend</font></b> tpllist <font color=#4A181B>$tpl</font>
  <b><font color=#923B23>lappend</font></b> tplcont <font color=#4A181B>$txt</font>
  <b><font color=#923B23>lappend</font></b> tplpos [Pos]
  <b><font color=#923B23>lappend</font></b> tplpla <font color=#4A181B>$place</font>
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$tpllist</font>]] <font color=#4A181B>$al(MC</font>,tplnew)]
  <b><font color=#923B23>set</font></b> item [<font color=#4A181B>$tree</font> insert {} end <font color=#463e11>-values</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$tpl</font> <font color=#4A181B>$tplkey</font>]]
  <b><font color=#923B23>lappend</font></b> tplkeys <font color=#4A181B>$tplkey</font>
  UpdateTree
  <b><font color=#923B23>set</font></b> item [<b><font color=#923B23>lindex</font></b> [<font color=#4A181B>$tree</font> children {}] end]
  <b><font color=#923B23>lappend</font></b> tplid <font color=#4A181B>$item</font>
  Select [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$tplid</font>]-1}]
  alited::Message2 <font color=#4A181B>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_442' href="javascript:toggleSource('442')">Show source</a></p>
<div id='442' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Cancel {args} {

  <i><font color=#646464># Handles &quot;Cancel&quot; button.</font></i>

  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  SaveIni
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Change template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_443' href="javascript:toggleSource('443')">Show source</a></p>
<div id='443' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Change {} {

  <i><font color=#646464># Handles &quot;Change template&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>variable</font></b> tplcont
  <b><font color=#923B23>variable</font></b> tplpos
  <b><font color=#923B23>variable</font></b> tplpla
  <b><font color=#923B23>variable</font></b> place
  <b><font color=#923B23>variable</font></b> tplkeys
  <b><font color=#923B23>variable</font></b> tplkey
  <b><font color=#923B23>variable</font></b> tpl
  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected index]] eq {}} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> tpllist [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$tpllist</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$tpl</font>]
  <b><font color=#923B23>set</font></b> tplcont [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$tplcont</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> [Text]]
  <b><font color=#923B23>set</font></b> tplpos [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$tplpos</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> [Pos [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplpos</font> <font color=#4A181B>$isel</font>]]]
  <b><font color=#923B23>set</font></b> tplpla [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$tplpla</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$place</font>]
  <b><font color=#923B23>set</font></b> tplkeys [<b><font color=#923B23>lreplace</font></b> <font color=#4A181B>$tplkeys</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font> <font color=#4A181B>$tplkey</font>]
  UpdateTree
  Select <font color=#4A181B>$isel</font>
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n [<b><font color=#923B23>incr</font></b> isel]] <font color=#4A181B>$al(MC</font>,tplupd)]
  alited::Message2 <font color=#4A181B>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::ClearCbx'>ClearCbx</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Helper to clear the combobox's selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearCbx</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_444' href="javascript:toggleSource('444')">Show source</a></p>
<div id='444' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::ClearCbx {} {

  <i><font color=#646464># Helper to clear the combobox's selection.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  [<font color=#4A181B>$obDl2</font> CbxKey] selection clear
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Delete template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_445' href="javascript:toggleSource('445')">Show source</a></p>
<div id='445' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Delete {} {

  <i><font color=#646464># Handles &quot;Delete template&quot; button.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>variable</font></b> tplcont
  <b><font color=#923B23>variable</font></b> tplpos
  <b><font color=#923B23>variable</font></b> tplpla
  <b><font color=#923B23>variable</font></b> tplkeys
  <b><font color=#923B23>variable</font></b> tplid
  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected index]] eq {}} <b><font color=#A106A1>return</font></b>
  <b><font color=#923B23>set</font></b> nsel [<b><font color=#923B23>expr</font></b> {<font color=#4A181B>$isel</font>+1}]
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$nsel</font>] <font color=#4A181B>$al(MC</font>,tpldelq)]
  <b><font color=#923B23>set</font></b> geo <font color=#035103>&quot;-geometry root=<font color=#4A181B>$</font>win&quot;</font>
  <b><font color=#923B23>if</font></b> {![alited::msg yesno warn <font color=#4A181B>$msg</font> NO {*}<font color=#4A181B>$geo</font>]} {
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>foreach</font></b> tl {tpllist tplcont tplpos tplpla tplid tplkeys} {
    <b><font color=#923B23>set</font></b> <font color=#4A181B>$tl</font> [<b><font color=#923B23>lreplace</font></b> [<b><font color=#923B23>set</font></b> <font color=#4A181B>$tl</font>] <font color=#4A181B>$isel</font> <font color=#4A181B>$isel</font>]
  }
  <b><font color=#923B23>set</font></b> llen [<b><font color=#923B23>expr</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$tpllist</font>]-1}]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font>&gt;<font color=#4A181B>$llen</font>} {<b><font color=#923B23>set</font></b> isel <font color=#4A181B>$llen</font>}
  UpdateTree
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$llen</font>&gt;=0} {Select <font color=#4A181B>$isel</font>}
  <b><font color=#923B23>set</font></b> msg [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> %n <font color=#4A181B>$nsel</font>] <font color=#4A181B>$al(MC</font>,tplrem)]
  alited::Message2 <font color=#4A181B>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Focus'>Focus</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the focus on the template list's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Focus</span> <span class='ruff_arg'>isel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>index of item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_446' href="javascript:toggleSource('446')">Show source</a></p>
<div id='446' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Focus {isel} {

  <i><font color=#646464># Sets the focus on the template list's item.</font></i>
  <i><font color=#646464>#   isel - index of item</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreeTpl]
  <font color=#4A181B>$tree</font> selection set <font color=#4A181B>$isel</font>
  <font color=#4A181B>$tree</font> see <font color=#4A181B>$isel</font>
  <font color=#4A181B>$tree</font> focus <font color=#4A181B>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::GetKeyList'>GetKeyList</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a key list for &quot;Keys&quot; combobox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetKeyList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_447' href="javascript:toggleSource('447')">Show source</a></p>
<div id='447' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::GetKeyList {} {

  <i><font color=#646464># Creates a key list for &quot;Keys&quot; combobox.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  RegisterKeys
  <b><font color=#923B23>set</font></b> keys [<b><font color=#923B23>linsert</font></b> [alited::keys::VacantList] 0 <font color=#035103>&quot;&quot;</font>]
  [<font color=#4A181B>$obDl2</font> CbxKey] configure <font color=#463e11>-values</font> <font color=#4A181B>$keys</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Help&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_448' href="javascript:toggleSource('448')">Show source</a></p>
<div id='448' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Help {args} {

  <i><font color=#646464># Handles &quot;Help&quot; button.</font></i>

  <b><font color=#923B23>variable</font></b> win
  alited::Help <font color=#4A181B>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::InText'>InText</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Goes into the template's text and sets the cursor on it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InText</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_449' href="javascript:toggleSource('449')">Show source</a></p>
<div id='449' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::InText {wtxt} {

  <i><font color=#646464># Goes into the template's text and sets the cursor on it.</font></i>
  <i><font color=#646464>#   wtxt - text's path</font></i>

  <b><font color=#923B23>variable</font></b> tplpos
  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected index no]] ne {}} {
    <b><font color=#923B23>set</font></b> pos [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplpos</font> <font color=#4A181B>$isel</font>]
    ::tk::TextSetCursor <font color=#4A181B>$wtxt</font> <font color=#4A181B>$pos</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_450' href="javascript:toggleSource('450')">Show source</a></p>
<div id='450' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Ok {args} {

  <i><font color=#646464># Handles &quot;OK&quot; button.</font></i>

  <b><font color=#923B23>variable</font></b> win
  <b><font color=#923B23>variable</font></b> tplpos
  <b><font color=#923B23>variable</font></b> tplcont
  <b><font color=#923B23>variable</font></b> tplpla
  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [Selected index]] eq {}} {
    <b><font color=#7A040E>focus</font></b> [<font color=#4A181B>$obDl2</font> TreeTpl]
    <b><font color=#A106A1>return</font></b>
  }
  <b><font color=#923B23>set</font></b> tex [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplcont</font> <font color=#4A181B>$isel</font>]
  <b><font color=#923B23>set</font></b> pos [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplpos</font> <font color=#4A181B>$isel</font>]
  <b><font color=#923B23>set</font></b> pla [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplpla</font> <font color=#4A181B>$isel</font>]
  SaveIni
  <font color=#4A181B>$obDl2</font> res <font color=#4A181B>$win</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$tex</font> <font color=#4A181B>$pos</font> <font color=#4A181B>$pla</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Pos'>Pos</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a cursor position in the template's text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Pos</span> <span class='ruff_arg'>?pos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>if not &quot;&quot;, it's a position to be returned by default; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a cursor position in the template's text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_451' href="javascript:toggleSource('451')">Show source</a></p>
<div id='451' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Pos {{pos {}}} {

  <i><font color=#646464># Returns a cursor position in the template's text.</font></i>
  <i><font color=#646464>#   pos - if not &quot;&quot;, it's a position to be returned by default</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obDl2</font> TexTpl]
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$wtxt</font> eq [<b><font color=#7A040E>focus</font></b>] || <font color=#4A181B>$pos</font> eq {}} {
    <b><font color=#A106A1>return</font></b> [<font color=#4A181B>$wtxt</font> index insert]
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::ReadIni'>ReadIni</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets templates' data from al(TPL,list) saved in alited.ini.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_452' href="javascript:toggleSource('452')">Show source</a></p>
<div id='452' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::ReadIni {} {

  <i><font color=#646464># Gets templates' data from al(TPL,list) saved in alited.ini.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>foreach</font></b> tv {tpllist tplcont tplkeys tplpos tplpla} {
    <b><font color=#923B23>variable</font></b> <font color=#4A181B>$tv</font>
    <b><font color=#923B23>set</font></b> <font color=#4A181B>$tv</font> [<b><font color=#923B23>list</font></b>]
  }
  <b><font color=#923B23>foreach</font></b> lst <font color=#4A181B>$al(TPL</font>,list) {
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>lassign</font></b> <font color=#4A181B>$lst</font> tpl key cont pos pla}]} {
      <b><font color=#923B23>set</font></b> cont [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> <font color=#4A181B>$::alited::EOL</font> \n] <font color=#4A181B>$cont</font>]
      <b><font color=#923B23>if</font></b> {<font color=#4A181B>$tpl</font> ne {} && <font color=#4A181B>$cont</font> ne {} && <font color=#4A181B>$pos</font> ne {}} {
        <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>string</font></b> is double <font color=#463e11>-strict</font> <font color=#4A181B>$pos</font>]} {<b><font color=#923B23>set</font></b> pos 1.0}
        <b><font color=#923B23>lappend</font></b> tpllist <font color=#4A181B>$tpl</font>
        <b><font color=#923B23>lappend</font></b> tplcont <font color=#4A181B>$cont</font>
        <b><font color=#923B23>lappend</font></b> tplkeys <font color=#4A181B>$key</font>
        <b><font color=#923B23>lappend</font></b> tplpos <font color=#4A181B>$pos</font>
        <b><font color=#923B23>lappend</font></b> tplpla <font color=#4A181B>$pla</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::RegisterKeys'>RegisterKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Registers key bindings of templates, to save them to alited.ini afterwards.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RegisterKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_453' href="javascript:toggleSource('453')">Show source</a></p>
<div id='453' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::RegisterKeys {} {

  <i><font color=#646464># Registers key bindings of templates, to save them to alited.ini afterwards.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al
  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>variable</font></b> tplcont
  <b><font color=#923B23>variable</font></b> tplkeys
  <b><font color=#923B23>variable</font></b> tplpos
  <b><font color=#923B23>variable</font></b> tplpla
  <b><font color=#923B23>variable</font></b> ilast
  alited::keys::Delete template
  <b><font color=#923B23>set</font></b> al(TPL,list) [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>foreach</font></b> tpl <font color=#4A181B>$tpllist</font> key <font color=#4A181B>$tplkeys</font> cont <font color=#4A181B>$tplcont</font> pos <font color=#4A181B>$tplpos</font> pla <font color=#4A181B>$tplpla</font> {
    <b><font color=#923B23>set</font></b> cont [<b><font color=#923B23>string</font></b> map [<b><font color=#923B23>list</font></b> \n <font color=#4A181B>$::alited::EOL</font>] <font color=#4A181B>$cont</font>]
    <b><font color=#923B23>lappend</font></b> al(TPL,list) [<b><font color=#923B23>list</font></b> <font color=#4A181B>$tpl</font> <font color=#4A181B>$key</font> <font color=#4A181B>$cont</font> <font color=#4A181B>$pos</font> <font color=#4A181B>$pla</font>]
    alited::keys::Add template <font color=#4A181B>$tpl</font> <font color=#4A181B>$key</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$cont</font> <font color=#4A181B>$pos</font> <font color=#4A181B>$pla</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::SaveIni'>SaveIni</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts templates' data to al(TPL,list) to save in alited.ini.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_454' href="javascript:toggleSource('454')">Show source</a></p>
<div id='454' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::SaveIni {} {

  <i><font color=#646464># Puts templates' data to al(TPL,list) to save in alited.ini.</font></i>

  <b><font color=#923B23>variable</font></b> ilast
  RegisterKeys
  <b><font color=#923B23>set</font></b> ilast [Selected index no]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects an item of the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?item?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>index (ID) of template list; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_455' href="javascript:toggleSource('455')">Show source</a></p>
<div id='455' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Select {{item {}}} {

  <i><font color=#646464># Selects an item of the template list.</font></i>
  <i><font color=#646464>#   item - index (ID) of template list</font></i>

  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>variable</font></b> tplkey
  <b><font color=#923B23>variable</font></b> tplkeys
  <b><font color=#923B23>variable</font></b> tplcont
  <b><font color=#923B23>variable</font></b> tplid
  <b><font color=#923B23>variable</font></b> tplpla
  <b><font color=#923B23>variable</font></b> tpl
  <b><font color=#923B23>variable</font></b> place
  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font> eq {}} {<b><font color=#923B23>set</font></b> item [Selected item no]}
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item</font> ne {}} {
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> is digit <font color=#4A181B>$item</font>]} {  ;<i><font color=#646464># the item is an index</font></i>
      <b><font color=#923B23>set</font></b> item [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplid</font> <font color=#4A181B>$item</font>]
    }
    <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreeTpl]
    <b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> index <font color=#4A181B>$item</font>]
    <b><font color=#923B23>set</font></b> tpl [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tpllist</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> tplkey [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplkeys</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> place [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplpla</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>set</font></b> wtxt [<font color=#4A181B>$obDl2</font> TexTpl]
    <font color=#4A181B>$wtxt</font> delete 1.0 end
    <font color=#4A181B>$wtxt</font> insert end [<b><font color=#923B23>lindex</font></b> <font color=#4A181B>$tplcont</font> <font color=#4A181B>$isel</font>]
    <b><font color=#923B23>if</font></b> {[<font color=#4A181B>$tree</font> selection] ne <font color=#4A181B>$item</font>} {
      <font color=#4A181B>$tree</font> selection set <font color=#4A181B>$item</font>
    }
    <font color=#4A181B>$tree</font> see <font color=#4A181B>$item</font>
    <font color=#4A181B>$tree</font> focus <font color=#4A181B>$item</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID or index of currently selected item of the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> <span class='ruff_arg'>what ?domsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>if &quot;index&quot;, gets a current item's index</td></tr>
<tr><td class='ruff_defitem'><code><code>domsg</code></code></td><td class='ruff_defitem'>if yes, shows a message about the selection; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_456' href="javascript:toggleSource('456')">Show source</a></p>
<div id='456' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Selected {what {domsg yes}} {

  <i><font color=#646464># Gets ID or index of currently selected item of the template list.</font></i>
  <i><font color=#646464>#   what - if &quot;index&quot;, gets a current item's index</font></i>
  <i><font color=#646464>#   domsg - if yes, shows a message about the selection</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreeTpl]
  <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> selection]] eq {} && [<b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> focus]] eq {} && <font color=#4A181B>$domsg</font>} {
    alited::Message2 <font color=#4A181B>$al(MC</font>,tplsel) 4
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$isel</font> ne {} && <font color=#4A181B>$what</font> eq {index}} {
    <b><font color=#923B23>set</font></b> isel [<font color=#4A181B>$tree</font> index <font color=#4A181B>$isel</font>]
  }
  <b><font color=#A106A1>return</font></b> <font color=#4A181B>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Text'>Text</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the contents of the template's text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the contents of the template's text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_457' href="javascript:toggleSource('457')">Show source</a></p>
<div id='457' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::Text {} {

  <i><font color=#646464># Returns the contents of the template's text.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#A106A1>return</font></b> [[<font color=#4A181B>$obDl2</font> TexTpl] get 1.0 {end -1 char}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::UpdateTree'>UpdateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_458' href="javascript:toggleSource('458')">Show source</a></p>
<div id='458' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#A106A1>proc</font></b> ::alited::unit_tpl::UpdateTree {} {

  <i><font color=#646464># Updates the template list.</font></i>

  <b><font color=#923B23>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#923B23>variable</font></b> tpllist
  <b><font color=#923B23>variable</font></b> tplkeys
  <b><font color=#923B23>variable</font></b> tplid
  <b><font color=#923B23>variable</font></b> ilast
  <b><font color=#923B23>set</font></b> tree [<font color=#4A181B>$obDl2</font> TreeTpl]
  <font color=#4A181B>$tree</font> delete [<font color=#4A181B>$tree</font> children {}]
  <b><font color=#923B23>set</font></b> tplid [<b><font color=#923B23>list</font></b>]
  <b><font color=#923B23>set</font></b> item0 {}
  <b><font color=#923B23>foreach</font></b> tpl <font color=#4A181B>$tpllist</font> tplkey <font color=#4A181B>$tplkeys</font> {
    <b><font color=#923B23>set</font></b> item [<font color=#4A181B>$tree</font> insert {} end <font color=#463e11>-values</font> [<b><font color=#923B23>list</font></b> <font color=#4A181B>$tpl</font> <font color=#4A181B>$tplkey</font>]]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item0</font> eq {}} {<b><font color=#923B23>set</font></b> item0 <font color=#4A181B>$item</font>}
    <b><font color=#923B23>lappend</font></b> tplid <font color=#4A181B>$item</font>
  }
  <b><font color=#923B23>if</font></b> {<font color=#4A181B>$item0</font> ne {} && <font color=#4A181B>$ilast</font>&lt;0} {Focus <font color=#4A181B>$item0</font>}
  ClearCbx
}<br><br></code></pre></div>
</div></div></div><div class='yui-b navbox' ><h1><a href='#::alited'>alited</a></h1><h2><a href='#::alited-Links'>Links</a></h2><h2><a href='#::alited-Inevitable blah-blah'>Inevitable blah-blah</a></h2><h2><a href='#::alited-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::Exit'>Exit</a><span class='tooltiptext'>Closes alited application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::FgFgBold'>FgFgBold</a><span class='tooltiptext'>Gets foregrounds of normal and colored text of current color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Help'>Help</a><span class='tooltiptext'>Reads and shows a help file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpAbout'>HelpAbout</a><span class='tooltiptext'>Shows &quot;About...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpAlited'>HelpAlited</a><span class='tooltiptext'>Shows a main help of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Message2'>Message2</a><span class='tooltiptext'>Displays a message in statusbar of secondary dialogue (<code>$obDl2</code>).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::msg'>msg</a><span class='tooltiptext'>Shows a message and asks for an answer.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::msgcatMessages'>msgcatMessages</a><span class='tooltiptext'>Sets common localized messages.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::open_files_and_raise'>open_files_and_raise</a><span class='tooltiptext'>Opens files of CLI.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::p+'>p+</a><span class='tooltiptext'>Sums two text positions straightforward: lines &amp; columns separately.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::raise_window'>raise_window</a><span class='tooltiptext'>Raises the app's window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Run'>Run</a><span class='tooltiptext'>Runs Tcl/Tk script.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run_remote'>run_remote</a><span class='tooltiptext'>Runs a command that was started by another process.
</span></h4><h1><a href='#::alited::bar'>alited::bar</a></h1><h2><a href='#::alited::bar-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::bar::BAR'>BAR</a><span class='tooltiptext'>Runs the tab bar's method.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::ColorBar'>ColorBar</a><span class='tooltiptext'>Makes the bar of tabs to have a &quot;marked tab&quot; color consistent with current color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::ControlTab'>ControlTab</a><span class='tooltiptext'>Switches between last two active tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentControlTab'>CurrentControlTab</a><span class='tooltiptext'>Keeps a list of last switched files, to switch between last two.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentTab'>CurrentTab</a><span class='tooltiptext'>Gets an attribute of the current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentTabID'>CurrentTabID</a><span class='tooltiptext'>Gets ID of the current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::DisableTabLeft'>DisableTabLeft</a><span class='tooltiptext'>Checks for left tabs to disable &quot;select all at left&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::DisableTabRight'>DisableTabRight</a><span class='tooltiptext'>Checks for right tabs to disable &quot;select all at right&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FileName'>FileName</a><span class='tooltiptext'>Gets a file name of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FileTID'>FileTID</a><span class='tooltiptext'>Gets a tab's ID of a file name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FillBar'>FillBar</a><span class='tooltiptext'>Fills the bar of tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::GetBarState'>GetBarState</a><span class='tooltiptext'>Gets attributes of a tab that are specific for alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::GetTabState'>GetTabState</a><span class='tooltiptext'>Gets attributes of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::InsertTab'>InsertTab</a><span class='tooltiptext'>Inserts a new tab into the beginning of bar of tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnTabMove'>OnTabMove</a><span class='tooltiptext'>Handles moving a tab in the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnTabSelection'>OnTabSelection</a><span class='tooltiptext'>Handles selecting a tab in the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTab'>SelTab</a><span class='tooltiptext'>Makes a tab selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabAll'>SelTabAll</a><span class='tooltiptext'>Makes all tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabLeft'>SelTabLeft</a><span class='tooltiptext'>Makes all left tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabRight'>SelTabRight</a><span class='tooltiptext'>Makes all right tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabVis'>SelTabVis</a><span class='tooltiptext'>Makes visible tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SetBarState'>SetBarState</a><span class='tooltiptext'>Sets attributes of the tab bar that are specific for alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SetTabState'>SetTabState</a><span class='tooltiptext'>Sets attributes of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::UniqueListTab'>UniqueListTab</a><span class='tooltiptext'>Returns a unique tab name for a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::UniqueTab'>UniqueTab</a><span class='tooltiptext'>Returns a unique name for a tab.
</span></h4><h1><a href='#::alited::check'>alited::check</a></h1><h2><a href='#::alited::check-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::check::_create'>_create</a><span class='tooltiptext'>Creates &quot;Checking&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::_run'>_run</a><span class='tooltiptext'>Runs &quot;Checking&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Cancel'>Cancel</a><span class='tooltiptext'>Handles hitting &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Check'>Check</a><span class='tooltiptext'>Runs checking.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckAll'>CheckAll</a><span class='tooltiptext'>Checks all files of session.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckFile'>CheckFile</a><span class='tooltiptext'>Checks a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckUnit'>CheckUnit</a><span class='tooltiptext'>Checks a unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Help'>Help</a><span class='tooltiptext'>Handles hitting &quot;Help&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Ok'>Ok</a><span class='tooltiptext'>Handles hitting &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::ShowResults'>ShowResults</a><span class='tooltiptext'>Displays results of checking.
</span></h4><h1><a href='#::alited::complete'>alited::complete</a></h1><h2><a href='#::alited::complete-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::complete::AllSessionCommands'>AllSessionCommands</a><span class='tooltiptext'>Gets all commands available in Tcl/Tk and in session files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::AutoCompleteCommand'>AutoCompleteCommand</a><span class='tooltiptext'>Runs auto completion of commands.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::MatchedCommands'>MatchedCommands</a><span class='tooltiptext'>Gets commands that are matched to a current (under cursor) word.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::PickCommand'>PickCommand</a><span class='tooltiptext'>Shows a frame of commands for auto completion, allowing a user to select from it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::SelectCommand'>SelectCommand</a><span class='tooltiptext'>Handles a selection of command for auto completion.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::TextCursorCoordinates'>TextCursorCoordinates</a><span class='tooltiptext'>Gets screen coordinates (X, Y) under cursor in a text.
</span></h4><h1><a href='#::alited::edit'>alited::edit</a></h1><h2><a href='#::alited::edit-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupDirFileNames'>BackupDirFileNames</a><span class='tooltiptext'>Gets directory and file names for backuping.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupFile'>BackupFile</a><span class='tooltiptext'>Makes a backup copy of a file after the first modification of it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupFileName'>BackupFileName</a><span class='tooltiptext'>Gets a backup name for a file (checking for backup's maximum).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ChangeEncoding'>ChangeEncoding</a><span class='tooltiptext'>Changes encoding of file(s).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ChangeEOL'>ChangeEOL</a><span class='tooltiptext'>Changes EOL of file(s).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CheckSaveIcons'>CheckSaveIcons</a><span class='tooltiptext'>Checks for states of save buttons at modifications of files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CheckUndoRedoIcons'>CheckUndoRedoIcons</a><span class='tooltiptext'>Checks for states of undo/redo button for a file being modified.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Comment'>Comment</a><span class='tooltiptext'>Comments selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CommentChar'>CommentChar</a><span class='tooltiptext'>Returns the commenting chars for a current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Indent'>Indent</a><span class='tooltiptext'>Indent selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Modified'>Modified</a><span class='tooltiptext'>Handles a modification of file, recreating the unit tree at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::NormIndent'>NormIndent</a><span class='tooltiptext'>Normalizes a current text's indenting.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::SelectedLines'>SelectedLines</a><span class='tooltiptext'>Gets a range of lines of text that are selected at least partly.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::UnComment'>UnComment</a><span class='tooltiptext'>Uncomments selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::UnIndent'>UnIndent</a><span class='tooltiptext'>Unindent selected lines of text.
</span></h4><h1><a href='#::alited::favor'>alited::favor</a></h1><h2><a href='#::alited::favor-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::favor::_init'>_init</a><span class='tooltiptext'>Initializes and shows favorite / last visited units' view.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Add'>Add</a><span class='tooltiptext'>Adds a unit to favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::AddFromTree'>AddFromTree</a><span class='tooltiptext'>Adds a list of selected items of the tree to Favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::CopyDeclaration'>CopyDeclaration</a><span class='tooltiptext'>Copies a current unit's declaration to the clipboard.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::CurrentName'>CurrentName</a><span class='tooltiptext'>Gets data of a current unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Delete'>Delete</a><span class='tooltiptext'>Deletes an item from favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::DeleteAll'>DeleteAll</a><span class='tooltiptext'>Deletes all items from favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::GoToUnit'>GoToUnit</a><span class='tooltiptext'>Enters a unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::IsSelected'>IsSelected</a><span class='tooltiptext'>Gets data of currently selected item of favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::LastVisited'>LastVisited</a><span class='tooltiptext'>Puts an item to &quot;Last visited&quot; list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Lists'>Lists</a><span class='tooltiptext'>Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::OpenSelectedFile'>OpenSelectedFile</a><span class='tooltiptext'>Opens a file from a selected item of favorites/last visited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::PopupMenu'>PopupMenu</a><span class='tooltiptext'>Prepares and runs a popup menu at clicking Favorites / last visited list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Select'>Select</a><span class='tooltiptext'>Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SetAndClose'>SetAndClose</a><span class='tooltiptext'>Sets favorites list, opens files from favorites list, closes other files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SetFavorites'>SetFavorites</a><span class='tooltiptext'>Sets favorites/last visited list in the treeview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Show'>Show</a><span class='tooltiptext'>Shows a list of favorites / last visited units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::ShowFavVisit'>ShowFavVisit</a><span class='tooltiptext'>Show favorites/last visits, depending on the mode.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::ShowPopupMenu'>ShowPopupMenu</a><span class='tooltiptext'>Displays a popup menu at clicking Favorites / last visited list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SwitchFavVisit'>SwitchFavVisit</a><span class='tooltiptext'>Switches favorites / last visited units' view.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Tooltip'>Tooltip</a><span class='tooltiptext'>Shows a tip of favorite / last visited unit's declaration.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::TooltipOff'>TooltipOff</a><span class='tooltiptext'>Removes a tip of favorite / last visited unit's declaration.
</span></h4><h1><a href='#::alited::favor_ls'>alited::favor_ls</a></h1><h2><a href='#::alited::favor_ls-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::_create'>_create</a><span class='tooltiptext'>Creates &quot;Favorites lists&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::_run'>_run</a><span class='tooltiptext'>Runs &quot;Favorites lists&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Add'>Add</a><span class='tooltiptext'>Handles hitting &quot;Add favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Cancel'>Cancel</a><span class='tooltiptext'>Handles hitting Cancel button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Change'>Change</a><span class='tooltiptext'>Handles hitting &quot;Change favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Delete'>Delete</a><span class='tooltiptext'>Handles hitting &quot;Delete favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Focus'>Focus</a><span class='tooltiptext'>Focuses on an item of the list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::GetCurrentList'>GetCurrentList</a><span class='tooltiptext'>Gets a current list of favorites from alited's main form.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::GetIni'>GetIni</a><span class='tooltiptext'>Reads favorites' lists data, stored in the ini file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Help'>Help</a><span class='tooltiptext'>Handles hitting Help button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::IniFile'>IniFile</a><span class='tooltiptext'>Returns the ini file's name to store favorites' lists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Ok'>Ok</a><span class='tooltiptext'>Handles hitting OK button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::PutIni'>PutIni</a><span class='tooltiptext'>Makes favorites' lists data to store to the ini file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Restore_favlist'>Restore_favlist</a><span class='tooltiptext'>Restores favorites' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Save_favlist'>Save_favlist</a><span class='tooltiptext'>Saves favorites' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Select'>Select</a><span class='tooltiptext'>Handles a selection in the list of favorites' lists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Selected'>Selected</a><span class='tooltiptext'>Gets a selected item of favorites list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Split'>Split</a><span class='tooltiptext'>Splits a saved list by the list's dividers.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Text'>Text</a><span class='tooltiptext'>Gets a text with a list of favorites.
</span></h4><h1><a href='#::alited::file'>alited::file</a></h1><h2><a href='#::alited::file-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::file::Add'>Add</a><span class='tooltiptext'>Creates a file at the file tree.
</span></h4><h4><a href='alited.html#::alited::file::AddRecent'>AddRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::AllSaved'>AllSaved</a><span class='tooltiptext'>Checks whether all files are saved. Saves them if not.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CheckForNew'>CheckForNew</a><span class='tooltiptext'>Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.
</span></h4><h4><a href='alited.html#::alited::file::ChooseRecent'>ChooseRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseAll'>CloseAll</a><span class='tooltiptext'>Closes files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseFile'>CloseFile</a><span class='tooltiptext'>Closes a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseFileMenu'>CloseFileMenu</a><span class='tooltiptext'>Closes the current file from the menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::Delete'>Delete</a><span class='tooltiptext'>Deletes a file at the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DisplayFile'>DisplayFile</a><span class='tooltiptext'>Displays a file's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DoMoveFile'>DoMoveFile</a><span class='tooltiptext'>Asks and moves a file to a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DoRenameFileInTree'>DoRenameFileInTree</a><span class='tooltiptext'>Performs renaming a current file in a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DropFiles'>DropFiles</a><span class='tooltiptext'>Moves a group of selected files to other tree position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileAttrs'>FileAttrs</a><span class='tooltiptext'>Returns a file attributes: name &amp; time.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileSize'>FileSize</a><span class='tooltiptext'>Formats a file's size.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileStat'>FileStat</a><span class='tooltiptext'>Gets a file's attributes: times &amp; size.
</span></h4><h4><a href='alited.html#::alited::file::InsertRecent'>InsertRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsClang'>IsClang</a><span class='tooltiptext'>Checks if a file is of C/C++.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsModified'>IsModified</a><span class='tooltiptext'>Checks if a text of tab is modified.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsNoName'>IsNoName</a><span class='tooltiptext'>Checks if a file name is &quot;No name&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsSaved'>IsSaved</a><span class='tooltiptext'>Checks if a file is modified and if yes, offers to save it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsTcl'>IsTcl</a><span class='tooltiptext'>Checks if a file is of Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsUnitFile'>IsUnitFile</a><span class='tooltiptext'>Checks if a file has a unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MakeThemHighlighted'>MakeThemHighlighted</a><span class='tooltiptext'>Sets flag &quot;highlight file(s) anyway&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MoveExternal'>MoveExternal</a><span class='tooltiptext'>Moves an external file to a project's directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MoveFiles'>MoveFiles</a><span class='tooltiptext'>Moves  file(s).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::NewFile'>NewFile</a><span class='tooltiptext'>Handles &quot;New file&quot; menu item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenFile'>OpenFile</a><span class='tooltiptext'>Handles &quot;Open file&quot; menu item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenFiles'>OpenFiles</a><span class='tooltiptext'>Opens files selected in the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenOfDir'>OpenOfDir</a><span class='tooltiptext'>Opens all Tcl files of a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OutwardChange'>OutwardChange</a><span class='tooltiptext'>Checks for change of file by an external application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ReadFile'>ReadFile</a><span class='tooltiptext'>Reads a file, creates its unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ReadFileByTID'>ReadFileByTID</a><span class='tooltiptext'>Reads a file of tab, if needed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RecreateFileTree'>RecreateFileTree</a><span class='tooltiptext'>Creates the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RemoveFile'>RemoveFile</a><span class='tooltiptext'>Removes or backups a file, trying to save it in a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RenameFile'>RenameFile</a><span class='tooltiptext'>Renames a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RenameFileInTree'>RenameFileInTree</a><span class='tooltiptext'>Renames a current file in a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveAll'>SaveAll</a><span class='tooltiptext'>Saves all files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFile'>SaveFile</a><span class='tooltiptext'>Saves the current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileAndClose'>SaveFileAndClose</a><span class='tooltiptext'>Saves and closes the current file. This handles pressing Ctrl+W.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileAs'>SaveFileAs</a><span class='tooltiptext'>Saves the current file &quot;as&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileByName'>SaveFileByName</a><span class='tooltiptext'>Saves a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ToBeHighlighted'>ToBeHighlighted</a><span class='tooltiptext'>Checks flag &quot;highlight text anyway&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::UpdateFileStat'>UpdateFileStat</a><span class='tooltiptext'>Updates tips in tab bar (file info).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::WrapLines'>WrapLines</a><span class='tooltiptext'>Switches wrap word mode for a current text.
</span></h4><h1><a href='#::alited::find'>alited::find</a></h1><h2><a href='#::alited::find-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::find::_close'>_close</a><span class='tooltiptext'>Closes Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::_create'>_create</a><span class='tooltiptext'>$ Creates Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::_run'>_run</a><span class='tooltiptext'>Runs Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CheckData'>CheckData</a><span class='tooltiptext'>Checks if the find/replace data are valid.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CheckWord'>CheckWord</a><span class='tooltiptext'>Check if the found string is a word, at searching by words,
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ClearTags'>ClearTags</a><span class='tooltiptext'>Clears all find tags in a current text, if Find/Replace dialogue was closed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::DoFindUnit'>DoFindUnit</a><span class='tooltiptext'>Runs searching units in current text / all texts.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Find'>Find</a><span class='tooltiptext'>Searches one string in a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindAll'>FindAll</a><span class='tooltiptext'>Searches all strings in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindInSession'>FindInSession</a><span class='tooltiptext'>Searches all strings in a session.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindInText'>FindInText</a><span class='tooltiptext'>Searches all strings in a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindOptions'>FindOptions</a><span class='tooltiptext'>Gets options of search, according to the dialogue's fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindReplStr'>FindReplStr</a><span class='tooltiptext'>Prepares a string to find/replace for messages.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindUnit'>FindUnit</a><span class='tooltiptext'>Displays &quot;Find unit&quot; frame.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetCommandOfLine'>GetCommandOfLine</a><span class='tooltiptext'>Gets a command from a line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetCommandOfText'>GetCommandOfText</a><span class='tooltiptext'>Gets a command of text under the cursor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetFindEntry'>GetFindEntry</a><span class='tooltiptext'>Puts a current selection of text to the &quot;Find:&quot; field
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetWordOfLine'>GetWordOfLine</a><span class='tooltiptext'>Gets a word from a line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetWordOfText'>GetWordOfText</a><span class='tooltiptext'>Gets a word of text under the cursor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::HideFindUnit'>HideFindUnit</a><span class='tooltiptext'>Hides &quot;Find unit&quot; frame.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::InitShowResults'>InitShowResults</a><span class='tooltiptext'>Clears the info list before any search.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::LastInvoke'>LastInvoke</a><span class='tooltiptext'>Invokes last Find button that was pressed. If Ctrl-F is pressed inside Find/Replace dialogue, the last pressed Find button will be invoked.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Next'>Next</a><span class='tooltiptext'>Generate F3 key pressing event.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Replace'>Replace</a><span class='tooltiptext'>Replaces one string and finds next.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceAll'>ReplaceAll</a><span class='tooltiptext'>Replaces all found strings in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceInSession'>ReplaceInSession</a><span class='tooltiptext'>Handles hitting &quot;Replace in Session&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceInText'>ReplaceInText</a><span class='tooltiptext'>Handles hitting &quot;Replace in Text&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Search'>Search</a><span class='tooltiptext'>Searches a text for a string to find.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Search1'>Search1</a><span class='tooltiptext'>Searches a text from a position for a string to find.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchByList'>SearchByList</a><span class='tooltiptext'>Searches words by list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchByList_Do'>SearchByList_Do</a><span class='tooltiptext'>Does searching words by list.
</span></h4><h4><a href='alited.html#::alited::find::SearchByList_Options'>SearchByList_Options</a></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchUnit'>SearchUnit</a><span class='tooltiptext'>Prepares and runs searching units in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchUnit1'>SearchUnit1</a><span class='tooltiptext'>Searches units in a text.
</span></h4><h4><a href='alited.html#::alited::find::SearchWordInSession'>SearchWordInSession</a></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SessionButtons'>SessionButtons</a><span class='tooltiptext'>Prepares buttons' label (&quot;in all/selected tabs&quot;).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SessionList'>SessionList</a><span class='tooltiptext'>Returns a list of all tabs or selected tabs (if set).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SetCursor'>SetCursor</a><span class='tooltiptext'>Sets the cursor in a text after a replacement made.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults'>ShowResults</a><span class='tooltiptext'>Display a message containing results of a search.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults1'>ShowResults1</a><span class='tooltiptext'>Shows a message of all found strings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults2'>ShowResults2</a><span class='tooltiptext'>Shows a message of number of found strings.
</span></h4><h1><a href='#::alited::img'>alited::img</a></h1><h1><a href='#::alited::info'>alited::info</a></h1><h2><a href='#::alited::info-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::info::Clear'>Clear</a><span class='tooltiptext'>Clears the info listbox widget and the related data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::FocusIn'>FocusIn</a><span class='tooltiptext'>At focusing in the info listbox, shows its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::FocusOut'>FocusOut</a><span class='tooltiptext'>At focusing out of the info listbox, hides its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::Get'>Get</a><span class='tooltiptext'>Gets a message of the info listbox widget by its index.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::ListboxSelect'>ListboxSelect</a><span class='tooltiptext'>Handles a selection event of the info listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::PopupMenu'>PopupMenu</a><span class='tooltiptext'>Runs a popup menu on the info listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::Put'>Put</a><span class='tooltiptext'>Puts a message to the info listbox widget.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::SwitchFocustext'>SwitchFocustext</a><span class='tooltiptext'>Switches a variable of flag &quot;listbox is focused&quot;.
</span></h4><h1><a href='#::alited::ini'>alited::ini</a></h1><h2><a href='#::alited::ini-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::ini::_init'>_init</a><span class='tooltiptext'>Initializes alited app.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CheckIni'>CheckIni</a><span class='tooltiptext'>Checks if the configuration directory exists and if not asks for it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreateIcon'>CreateIcon</a><span class='tooltiptext'>Create an icon (of normal and big size).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreateUserDirs'>CreateUserDirs</a><span class='tooltiptext'>Creates main directories for settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::EditSettings'>EditSettings</a><span class='tooltiptext'>Displays the settings file, just to look behind the wall.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::GetUserDirs'>GetUserDirs</a><span class='tooltiptext'>Gets names of main directories for settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitFonts'>InitFonts</a><span class='tooltiptext'>Loads main fonts for alited to use as default and mono.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitGUI'>InitGUI</a><span class='tooltiptext'>Initializes GUI.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitTheme'>InitTheme</a><span class='tooltiptext'>Initializes alited's theme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIni'>ReadIni</a><span class='tooltiptext'>Reads alited application's and project's settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniEM'>ReadIniEM</a><span class='tooltiptext'>Gets e_menu options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniGeometry'>ReadIniGeometry</a><span class='tooltiptext'>Gets the geometry options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniKeys'>ReadIniKeys</a><span class='tooltiptext'>Gets keys options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniMisc'>ReadIniMisc</a><span class='tooltiptext'>Gets miscellaneous options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniOptions'>ReadIniOptions</a><span class='tooltiptext'>Gets various options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniPrj'>ReadIniPrj</a><span class='tooltiptext'>Reads a project's settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniTemplates'>ReadIniTemplates</a><span class='tooltiptext'>Gets templates options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniTkcon'>ReadIniTkcon</a><span class='tooltiptext'>Gets tkcon options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjFavorites'>ReadPrjFavorites</a><span class='tooltiptext'>Gets favorites of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjMisc'>ReadPrjMisc</a><span class='tooltiptext'>Gets favorites of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjOptions'>ReadPrjOptions</a><span class='tooltiptext'>Gets options of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjTabs'>ReadPrjTabs</a><span class='tooltiptext'>Gets tabs of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveCurrentIni'>SaveCurrentIni</a><span class='tooltiptext'>Saves a current configuration of alited on various events.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveIni'>SaveIni</a><span class='tooltiptext'>Saves a current configuration of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveIniPrj'>SaveIniPrj</a><span class='tooltiptext'>Saves settings of project.
</span></h4><h1><a href='#::alited::keys'>alited::keys</a></h1><h2><a href='#::alited::keys-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::keys::Add'>Add</a><span class='tooltiptext'>Adds an item to a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::BindKeys'>BindKeys</a><span class='tooltiptext'>Binds keys to appropriate events of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Delete'>Delete</a><span class='tooltiptext'>Deletes an item from a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::EngagedList'>EngagedList</a><span class='tooltiptext'>Returns a list of keys engaged by a user.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::ReservedAdd'>ReservedAdd</a><span class='tooltiptext'>Saves reserved (&quot;action&quot;) keys to a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::ReservedList'>ReservedList</a><span class='tooltiptext'>Returns a list of keys reserved by alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Search'>Search</a><span class='tooltiptext'>Searches an item in a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Test'>Test</a><span class='tooltiptext'>It's just for testing keys.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::UnBindKeys'>UnBindKeys</a><span class='tooltiptext'>Clears key bindings of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::UserList'>UserList</a><span class='tooltiptext'>Returns a list of keys avalable to a user.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::VacantList'>VacantList</a><span class='tooltiptext'>Returns a list of keys not yet engaged.
</span></h4><h1><a href='#::alited::main'>alited::main</a></h1><h2><a href='#::alited::main-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::main::_create'>_create</a><span class='tooltiptext'>Creates a main form of the alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::_run'>_run</a><span class='tooltiptext'>Runs the alited, displaying its main form with attributes 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons', 'minimal sizes' and 'saved geometry'.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::AfterUndoRedo'>AfterUndoRedo</a><span class='tooltiptext'>Actions after undo/redo.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::BindsForText'>BindsForText</a><span class='tooltiptext'>Sets bindings for a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CalcIndentation'>CalcIndentation</a><span class='tooltiptext'>Check for &quot;Auto detection of indentation&quot; and calculates it at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CurrentWTXT'>CurrentWTXT</a><span class='tooltiptext'>Gets a current text widget's path.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CursorPos'>CursorPos</a><span class='tooltiptext'>Displays a current text's row and column in the status bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::FocusInText'>FocusInText</a><span class='tooltiptext'>Processes <FocusIn> event on the text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::FocusText'>FocusText</a><span class='tooltiptext'>Sets a focus on a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GetText'>GetText</a><span class='tooltiptext'>Creates or gets a text widget for a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GetWTXT'>GetWTXT</a><span class='tooltiptext'>Gets a text widget's path of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GotoBracket'>GotoBracket</a><span class='tooltiptext'>Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GotoLine'>GotoLine</a><span class='tooltiptext'>Processes Ctrl+G keypressing: &quot;go to a line&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GutterAttrs'>GutterAttrs</a><span class='tooltiptext'>Returns list of gutter's data (canvas widget, width, shift)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::HighlightLine'>HighlightLine</a><span class='tooltiptext'>Highlights a current line of a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::HighlightText'>HighlightText</a><span class='tooltiptext'>Highlights a file's syntax constructs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::InsertLine'>InsertLine</a><span class='tooltiptext'>Puts a new line into a text, attentive to a previous line's indentation.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::PackTextWidgets'>PackTextWidgets</a><span class='tooltiptext'>Packs a text and its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::SaveVisitInfo'>SaveVisitInfo</a><span class='tooltiptext'>Remembers data about current unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ShowHeader'>ShowHeader</a><span class='tooltiptext'>Displays a file's name and modification flag (*) in alited's title.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ShowText'>ShowText</a><span class='tooltiptext'>Displays a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateAll'>UpdateAll</a><span class='tooltiptext'>Updates tree, text and gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateGutter'>UpdateGutter</a><span class='tooltiptext'>Redraws the gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateProjectInfo'>UpdateProjectInfo</a><span class='tooltiptext'>Displays a project settings in the status bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateText'>UpdateText</a><span class='tooltiptext'>Redraws a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateTextGutter'>UpdateTextGutter</a><span class='tooltiptext'>Redraws both a text and a gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateTextGutterTree'>UpdateTextGutterTree</a><span class='tooltiptext'>Updates after replacements: text, gutter, unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateUnitTree'>UpdateUnitTree</a><span class='tooltiptext'>Redraws unit tree at need.
</span></h4><h1><a href='#::alited::menu'>alited::menu</a></h1><h2><a href='#::alited::menu-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::menu::CheckMenuItems'>CheckMenuItems</a><span class='tooltiptext'>Disables/enables &quot;File/Close All...&quot; menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillMenu'>FillMenu</a><span class='tooltiptext'>Populates alited's main menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillRecent'>FillRecent</a><span class='tooltiptext'>Creates &quot;Recent Files&quot; menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::SetTint'>SetTint</a><span class='tooltiptext'>Sets a tint of a current color scheme.
</span></h4><h1><a href='#::alited::pref'>alited::pref</a></h1><h2><a href='#::alited::pref-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::pref::_create'>_create</a><span class='tooltiptext'>Creates &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::_init'>_init</a><span class='tooltiptext'>Initializes &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::_run'>_run</a><span class='tooltiptext'>Runs &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::BindKey'>BindKey</a><span class='tooltiptext'>Binds a key event to a key combination.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Cancel'>Cancel</a><span class='tooltiptext'>Handler of &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CbxBackup'>CbxBackup</a><span class='tooltiptext'>Check for access to SpxMaxBak field. If CbxBackup is empty (no backup), SpxMaxBak should be disabled.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CbxTheme'>CbxTheme</a><span class='tooltiptext'>Check for access to &quot;Tint&quot; field. If CbxTheme is not &quot;clam&quot;, &quot;Tint&quot; should be disabled.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckUseDef'>CheckUseDef</a><span class='tooltiptext'>Enables/disables the project default fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckUseLeaf'>CheckUseLeaf</a><span class='tooltiptext'>Enables/disables the &quot;Regexp of a leaf&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Common_Tab'>Common_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/Common&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CSyntax_Default'>CSyntax_Default</a><span class='tooltiptext'>Sets default colors to highlight C.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab1'>Edit_Tab1</a><span class='tooltiptext'>Serves to layout &quot;Editor&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab2'>Edit_Tab2</a><span class='tooltiptext'>Serves to layout &quot;Tcl syntax&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab3'>Edit_Tab3</a><span class='tooltiptext'>Serves to layout &quot;C/C++ syntax&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::EmAddLine'>EmAddLine</a><span class='tooltiptext'>Inserts a new &quot;bar/menu&quot; action before a current one.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::EmDelLine'>EmDelLine</a><span class='tooltiptext'>Deletes a current &quot;bar/menu&quot; action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Emenu_Tab'>Emenu_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/e_menu&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::EmSeparators'>EmSeparators</a><span class='tooltiptext'>Handles separators of bar/menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::fetchVars'>fetchVars</a><span class='tooltiptext'>Delivers namespace variables to a caller.
</span></h4><h4><a href='alited.html#::alited::pref::fillCan'>fillCan</a></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab1'>General_Tab1</a><span class='tooltiptext'>Serves to layout &quot;General&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab2'>General_Tab2</a><span class='tooltiptext'>Serves to layout &quot;General/Saving&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab3'>General_Tab3</a><span class='tooltiptext'>Serves to layout &quot;General/Defaults&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetCS'>GetCS</a><span class='tooltiptext'>Gets a color scheme's index from <em>opcc</em> / <em>opcc2</em>  variable.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetEmSave'>GetEmSave</a><span class='tooltiptext'>Gets a name of setting &quot;Save before run&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetKeyList'>GetKeyList</a><span class='tooltiptext'>Gets a list of available (not engaged) key combinations.
</span></h4><h4><a href='alited.html#::alited::pref::GetLocaleImage'>GetLocaleImage</a></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Help'>Help</a><span class='tooltiptext'>Shows a help on a current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::IniKeys'>IniKeys</a><span class='tooltiptext'>Gets key settings at opening &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitLocales'>InitLocales</a><span class='tooltiptext'>Creates flag images to display at &quot;Preferable locale&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::KeyAccelerator'>KeyAccelerator</a><span class='tooltiptext'>Gets a key accelerator for a combobox of keys, bound to an action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::KeyAccelerators'>KeyAccelerators</a><span class='tooltiptext'>Gets a full list of key accelerators,
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Keys_Tab1'>Keys_Tab1</a><span class='tooltiptext'>Serves to layout &quot;Keys&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::MainFrame'>MainFrame</a><span class='tooltiptext'>Creates a main frame of the dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Ok'>Ok</a><span class='tooltiptext'>Handler of &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::opcIcoPre'>opcIcoPre</a><span class='tooltiptext'>Gets an item for icon list of a bar/menu action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::opcToolPre'>opcToolPre</a><span class='tooltiptext'>Gets colors for &quot;Color schemes&quot; items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::PickMenuItem'>PickMenuItem</a><span class='tooltiptext'>Selects e_menu's action for a &quot;bar/menu&quot; item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::RegisterKeys'>RegisterKeys</a><span class='tooltiptext'>Adds key bindings to keys array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ReservedIcons'>ReservedIcons</a><span class='tooltiptext'>Returns a list of icons already engaged by alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::RestoreSettings'>RestoreSettings</a><span class='tooltiptext'>Restores original settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Runs_Tab'>Runs_Tab</a><span class='tooltiptext'>Prepares and layouts &quot;Tools/bar/menu&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SavedOptions'>SavedOptions</a><span class='tooltiptext'>Returns a list of names of main settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SaveSettings'>SaveSettings</a><span class='tooltiptext'>Saves original settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ScrollRuns'>ScrollRuns</a><span class='tooltiptext'>Updates scrollbars of bar/menu tab because its contents may have various length.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SelectKey'>SelectKey</a><span class='tooltiptext'>Handles &lt;<ComboboxSelected>&gt; event on a combobox of keys.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tab'>Tab</a><span class='tooltiptext'>Handles changing tabs of notebooks.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::TclSyntax_Default'>TclSyntax_Default</a><span class='tooltiptext'>Sets default colors to highlight Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Template_Tab'>Template_Tab</a><span class='tooltiptext'>Serves to layout &quot;Template&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::TextIcons'>TextIcons</a><span class='tooltiptext'>Returns a list of letters to be toolbar &quot;icons&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Default'>Tkcon_Default</a><span class='tooltiptext'>Sets defaults for &quot;Tools/Tkcon&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Tab'>Tkcon_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/Tkcon&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Units_Default'>Units_Default</a><span class='tooltiptext'>Sets the default settings of units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Units_Tab'>Units_Tab</a><span class='tooltiptext'>Serves to layout &quot;Units&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::UpdateSyntaxTab'>UpdateSyntaxTab</a><span class='tooltiptext'>Updates color labels at clicking &quot;Default&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::UpdateTkconTab'>UpdateTkconTab</a><span class='tooltiptext'>Updates color labels for &quot;Tools/Tkcon&quot; tab.
</span></h4><h1><a href='#::alited::project'>alited::project</a></h1><h2><a href='#::alited::project-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::project::_create'>_create</a><span class='tooltiptext'>Creates and opens &quot;Projects&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::_run'>_run</a><span class='tooltiptext'>Runs &quot;Projects&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Add'>Add</a><span class='tooltiptext'>&quot;Add project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Cancel'>Cancel</a><span class='tooltiptext'>'Cancel' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Change'>Change</a><span class='tooltiptext'>&quot;Change project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckNewDir'>CheckNewDir</a><span class='tooltiptext'>Checks if the root directory exists. If no, tries to create it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckProjectName'>CheckProjectName</a><span class='tooltiptext'>Removes spec.characters from a project name (sort of normalizing it).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Delete'>Delete</a><span class='tooltiptext'>&quot;Delete project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetOptVal'>GetOptVal</a><span class='tooltiptext'>Gets a name and a value from a line of form &quot;name=value&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetProjectOpts'>GetProjectOpts</a><span class='tooltiptext'>Reads a project's settings from a project settings file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetProjects'>GetProjects</a><span class='tooltiptext'>Reads settings of all projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Help'>Help</a><span class='tooltiptext'>'Help' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::MainFrame'>MainFrame</a><span class='tooltiptext'>Creates a main frame of &quot;Project&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Ok'>Ok</a><span class='tooltiptext'>'OK' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProcEOL'>ProcEOL</a><span class='tooltiptext'>Transforms \n to &quot;EOL chars&quot; and vise versa.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectFileName'>ProjectFileName</a><span class='tooltiptext'>Gets a project file name from a project's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectName'>ProjectName</a><span class='tooltiptext'>Gets a project name from its file name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::PutProjectOpts'>PutProjectOpts</a><span class='tooltiptext'>Writes a project's settings to a project settings file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::RestoreSettings'>RestoreSettings</a><span class='tooltiptext'>Restores project settings from a data array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveCurrFileList'>SaveCurrFileList</a><span class='tooltiptext'>Actions with a file list of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveData'>SaveData</a><span class='tooltiptext'>Saves some data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveNotes'>SaveNotes</a><span class='tooltiptext'>Saves a file of notes.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveSettings'>SaveSettings</a><span class='tooltiptext'>Saves project settings to a data array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Select'>Select</a><span class='tooltiptext'>Handles a selection in a list of projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Selected'>Selected</a><span class='tooltiptext'>Gets a currently selected project's index.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab1'>Tab1</a><span class='tooltiptext'>Creates a main tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab2'>Tab2</a><span class='tooltiptext'>Creates Options tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TabFileInfo'>TabFileInfo</a><span class='tooltiptext'>Fills a listbox with a list of project files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::UpdateTree'>UpdateTree</a><span class='tooltiptext'>Fills a list of projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ValidProject'>ValidProject</a><span class='tooltiptext'>Checks if a project's options are valid.
</span></h4><h1><a href='#::alited::tool'>alited::tool</a></h1><h2><a href='#::alited::tool-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::tool::_close'>_close</a><span class='tooltiptext'>Closes e_menu (being an internal procedure) by force.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::_run'>_run</a><span class='tooltiptext'>Runs e_menu's item of menu.mnu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::BeforeRun'>BeforeRun</a><span class='tooltiptext'>Runs a command before running &quot;Tools/Run&quot;
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::BeforeRunDlg'>BeforeRunDlg</a><span class='tooltiptext'>Dialogue to enter a command before running &quot;Tools/Run&quot;
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::ColorPicker'>ColorPicker</a><span class='tooltiptext'>Calls a color picker passing to it and getting from it a color.
</span></h4><h4><a href='alited.html#::alited::tool::CtrlC'>CtrlC</a></h4><h4><a href='alited.html#::alited::tool::CtrlV'>CtrlV</a></h4><h4><a href='alited.html#::alited::tool::CtrlX'>CtrlX</a></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::DatePicker'>DatePicker</a><span class='tooltiptext'>Calls a calendar to pick a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu'>e_menu</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu1'>e_menu1</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu2'>e_menu2</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_AllStructure'>EM_AllStructure</a><span class='tooltiptext'>Gets all items of all menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_AllStructure1'>EM_AllStructure1</a><span class='tooltiptext'>Gets recursively all items of all menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_command'>EM_command</a><span class='tooltiptext'>Gets e_menu command.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_dir'>EM_dir</a><span class='tooltiptext'>Returns a directory of e_menu's menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_HotKey'>EM_HotKey</a><span class='tooltiptext'>Returns e_menu's hotkeys which numerate menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_Options'>EM_Options</a><span class='tooltiptext'>Returns e_menu's general options.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_SaveFiles'>EM_SaveFiles</a><span class='tooltiptext'>Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_Structure'>EM_Structure</a><span class='tooltiptext'>Gets a menu's items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Help'>Help</a><span class='tooltiptext'>Calls a help on alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::InsertInText'>InsertInText</a><span class='tooltiptext'>Insert a string into a text possibly instead of its selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::is_submenu'>is_submenu</a><span class='tooltiptext'>Checks if e_menu's arguments are for submenu
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Loupe'>Loupe</a><span class='tooltiptext'>Calls a screen loupe.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::PopupBar'>PopupBar</a><span class='tooltiptext'>Opens a popup menu in the tool bar, to enter e_menu's preferences.
</span></h4><h4><a href='alited.html#::alited::tool::Redo'>Redo</a></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::tkcon'>tkcon</a><span class='tooltiptext'>Calls Tkcon application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::ToolButName'>ToolButName</a><span class='tooltiptext'>Helper procedure to get a name of toolbar button.
</span></h4><h4><a href='alited.html#::alited::tool::Undo'>Undo</a></h4><h1><a href='#::alited::tree'>alited::tree</a></h1><h2><a href='#::alited::tree-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::tree::AddItem'>AddItem</a><span class='tooltiptext'>Adds a new item to the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AddTags'>AddTags</a><span class='tooltiptext'>Creates tags for the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AddToDirContents'>AddToDirContents</a><span class='tooltiptext'>Adds an item to a list of directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AdjustWidth'>AdjustWidth</a><span class='tooltiptext'>Fixes a problem with the tree scrollbar's width at resizing the panes. The problem occurs if Frame's width is less than Tree's + Scrollbar's, as then the scrollbar is squeezed. Thus the Tree's width should be adjusted. The restart of alited will fully repair this.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonMotion'>ButtonMotion</a><span class='tooltiptext'>Starts moving an item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonPress'>ButtonPress</a><span class='tooltiptext'>Handles a mouse clicking the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonRelease'>ButtonRelease</a><span class='tooltiptext'>Handles a mouse button releasing on the tree, at moving an item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::Create'>Create</a><span class='tooltiptext'>Creates a tree of units/files, at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CreateFilesTree'>CreateFilesTree</a><span class='tooltiptext'>Creates a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CreateUnitsTree'>CreateUnitsTree</a><span class='tooltiptext'>Creates a unit tree for a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CurrentItem'>CurrentItem</a><span class='tooltiptext'>Gets ID of selected item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CurrentItemByLine'>CurrentItemByLine</a><span class='tooltiptext'>Gets item ID of unit tree for a current text position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::Delete'>Delete</a><span class='tooltiptext'>Removes recursively an item and its children from the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DelItem'>DelItem</a><span class='tooltiptext'>Removes an item from the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DestroyMoveWindow'>DestroyMoveWindow</a><span class='tooltiptext'>Destroys an item moving window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DirContents'>DirContents</a><span class='tooltiptext'>Reads a directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DropItems'>DropItems</a><span class='tooltiptext'>Drops (moves) selected items to a current position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ExpandContractTree'>ExpandContractTree</a><span class='tooltiptext'>Expands or contracts the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ForEach'>ForEach</a><span class='tooltiptext'>Scans all items of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetDirectoryContents'>GetDirectoryContents</a><span class='tooltiptext'>Gets a directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetTree'>GetTree</a><span class='tooltiptext'>Gets a tree or its branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::IgnoredDir'>IgnoredDir</a><span class='tooltiptext'>Checks if a directory is in the list of the ignored ones.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::MoveItem'>MoveItem</a><span class='tooltiptext'>Moves items of the tree (units or files)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::NewItemID'>NewItemID</a><span class='tooltiptext'>Gets a new ID for the tree item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::NewSelection'>NewSelection</a><span class='tooltiptext'>Selects a new item of the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::OpenFile'>OpenFile</a><span class='tooltiptext'>Opens file at clicking a file tree's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::RecreateTree'>RecreateTree</a><span class='tooltiptext'>Recreates the tree and restores its selections.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SaveCursorPos'>SaveCursorPos</a><span class='tooltiptext'>Saves current unit's cursor position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SeeSelection'>SeeSelection</a><span class='tooltiptext'>Sees (makes visible) a current selected item in the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ShowPopupMenu'>ShowPopupMenu</a><span class='tooltiptext'>Creates and opens a popup menu at right clicking the tree.
</span></h4><h4><a href='alited.html#::alited::tree::SwitchTree'>SwitchTree</a></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::Tooltip'>Tooltip</a><span class='tooltiptext'>Creates a tooltip for the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::TooltipOff'>TooltipOff</a><span class='tooltiptext'>Hides a tooltip for the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::UnitTitle'>UnitTitle</a><span class='tooltiptext'>Gets a title of a unit (checking for empty string).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::UpdateFileTree'>UpdateFileTree</a><span class='tooltiptext'>Updates the file tree (colors of files).
</span></h4><h1><a href='#::alited::unit'>alited::unit</a></h1><h2><a href='#::alited::unit-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::unit::Add'>Add</a><span class='tooltiptext'>Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::BranchLines'>BranchLines</a><span class='tooltiptext'>Gets a line range of a branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::Delete'>Delete</a><span class='tooltiptext'>Deletes a unit from a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::DropUnits'>DropUnits</a><span class='tooltiptext'>Moves unit(s) from one location in the unit tree to other.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::GetHeader'>GetHeader</a><span class='tooltiptext'>Gets a header of unit: declaration + initial comments.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::GetUnits'>GetUnits</a><span class='tooltiptext'>Gets a unit structure from a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::InsertTemplate'>InsertTemplate</a><span class='tooltiptext'>Inserts a template into a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveL1L2'>MoveL1L2</a><span class='tooltiptext'>Moves a text lines to other location.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveUnit'>MoveUnit</a><span class='tooltiptext'>Moves a unit up/down the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveUnits'>MoveUnits</a><span class='tooltiptext'>Moves selected units up/down the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SearchByHeader'>SearchByHeader</a><span class='tooltiptext'>Gets tree item ID of a units by its header (declaration+initial comment).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SearchInBranch'>SearchInBranch</a><span class='tooltiptext'>Checks whether a unit is in a branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SelectByHeader'>SelectByHeader</a><span class='tooltiptext'>Selects a unit in the text, by the unit's header.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SwitchUnits'>SwitchUnits</a><span class='tooltiptext'>Switches between last two active units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::TemplateData'>TemplateData</a><span class='tooltiptext'>Replaces the template wildcards with data of current text and unit.
</span></h4><h1><a href='#::alited::unit_tpl'>alited::unit_tpl</a></h1><h2><a href='#::alited::unit_tpl-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::_create'>_create</a><span class='tooltiptext'>Creates &quot;Templates&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::_run'>_run</a><span class='tooltiptext'>Runs &quot;Templates&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Add'>Add</a><span class='tooltiptext'>Handles &quot;Add template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Cancel'>Cancel</a><span class='tooltiptext'>Handles &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Change'>Change</a><span class='tooltiptext'>Handles &quot;Change template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::ClearCbx'>ClearCbx</a><span class='tooltiptext'>Helper to clear the combobox's selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Delete'>Delete</a><span class='tooltiptext'>Handles &quot;Delete template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Focus'>Focus</a><span class='tooltiptext'>Sets the focus on the template list's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::GetKeyList'>GetKeyList</a><span class='tooltiptext'>Creates a key list for &quot;Keys&quot; combobox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Help'>Help</a><span class='tooltiptext'>Handles &quot;Help&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::InText'>InText</a><span class='tooltiptext'>Goes into the template's text and sets the cursor on it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Ok'>Ok</a><span class='tooltiptext'>Handles &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Pos'>Pos</a><span class='tooltiptext'>Returns a cursor position in the template's text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::ReadIni'>ReadIni</a><span class='tooltiptext'>Gets templates' data from al(TPL,list) saved in alited.ini.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::RegisterKeys'>RegisterKeys</a><span class='tooltiptext'>Registers key bindings of templates, to save them to alited.ini afterwards.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::SaveIni'>SaveIni</a><span class='tooltiptext'>Puts templates' data to al(TPL,list) to save in alited.ini.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Select'>Select</a><span class='tooltiptext'>Selects an item of the template list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Selected'>Selected</a><span class='tooltiptext'>Gets ID or index of currently selected item of the template list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Text'>Text</a><span class='tooltiptext'>Returns the contents of the template's text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::UpdateTree'>UpdateTree</a><span class='tooltiptext'>Updates the template list.
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
