<!DOCTYPE html><html><head><meta charset="utf-8"/>
<link rel="stylesheet" href="../../../zoo/sh/styles/aplsimple.css">
<title>::alited reference</title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:Consolas,"Courier New",monospace;font-size:100%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:9.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:10.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:0;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}

/* Ruff default CSS */

body {
  /*max-width: 70em;*/
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft { font-size: x-small; font-family: Arial, sans-serif;
  text-align: left;
  border-top: 1px solid #0B3467;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #0B3467;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #0B3467;
 color: #0B3467;
}

p.linkline {
  text-align: right;
  font-size: smaller;
  /*    margin-top: -1em; */
  margin-bottom: 0;
}

.tinylink {
  font-size: x-small;
  font-variant: normal;
  font-family: Arial, sans-serif;
  float: right;
  padding:2px;
}

h1 .tinylink a {
  color: white;
}

#bd {
font-family: Arial, sans-serif;
/*font-size: 108%;*/
}

div.navbox {
  /* margin-top: 1em; */
  background-color: #0B3467;
  color: white;
  padding: 3px 4px 2px 4px;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

div.navbox:hover {
  overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
  font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #0B3467;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
  position: relative;
  /* display: inline-block; */
}

.tooltip .tooltiptext {
  width: 100%;
  font-weight: bold;
  background-color: white;
  color: #0B3467;
  text-align: left;
  border: 1px solid #0B3467;
  /* border-radius: 4px; */
  position: absolute;
  z-index: 1;
  margin-left: 4px;
  padding: 2px 3px;
  visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
  visibility: visible;
}

span.ns_scope {
  color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
  background-color: #0B3467;
  color: #ffffff;
  padding-left: 0.2em;
  font-family: "Times New Roman", serif;
}
h2.ruff {
  font-variant: small-caps;
  color: #0B3467;
  font-weight: bold;
  font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
  color: #0B3467;
}
h5.ruff {
  font-style: italic;
  font-weight: normal;
}
h6.ruff {
  font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
  border-bottom: thin solid #0B3467;
  color: #0B3467;
  margin-bottom: 0.2em;
}

pre {
  background-color: #f9f9f9;
  margin-top: 1em;
  margin-left: 1em;
  padding: 5px;
  font-family: Consolas, "Courier New", monospace;
  /* width: max-content; --- to leave footsteps */ overflow: auto;
  line-height: 1.2em;
}

.ruff_dyn_src {
  display: none; /* Displayed via JS */
}

.ruff_synopsis {
  border: thin solid #cccccc;
  background: #f9f9f9;
  font-family: Consolas, "Courier New", monospace;
  padding: 5px;
  margin: 0em 2em 1em;
}
.ruff_const, .ruff_cmd, ruff_defitem {
  font-weight: bold;
  font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
  font-style: italic;
  font-family: Consolas, "Courier New", monospace;
}

.ruff_source_link {
  font-size: smaller;
}

.ruff_index {
  font-size: small;
  color: grey;
  line-height: 1;
}

.ruff_index ul li {
  list-style-type: none;
}

.ruff_index ul li a {
  text-decoration: none;
}
</style>
<script>function toggleSource( id )
{
  /* Copied from Rails */
  var elem
  var link

  if( document.getElementById )
  {
      elem = document.getElementById( id )
      link = document.getElementById( "l_" + id )
  }
  else if ( document.all )
  {
      elem = eval( "document.all." + id )
      link = eval( "document.all.l_" + id )
  }
  else
      return false;

  if( elem.style.display == "block" )
  {
      elem.style.display = "none"
      link.innerHTML = "Show source"
  }
  else
  {
      elem.style.display = "block"
      link.innerHTML = "Hide source"
  }
}
</script></head>
<meta name="author" content="aplsimple">
<meta name="description" content="aplsimple's home page">
<meta name="keywords" content="aplsimple,home">
<link rel="stylesheet" href="../../../en/zoo/style.css">
<style>
table{
background-color: #f9f9f9;
margin: 0%;
margin-bottom: 2%;
padding: 0%;
box-shadow: none;
filter: none;
}
pre{
margin: 0%;
margin-bottom: 2%;
padding: 0%;
}
</style>
<link rel="icon" type="image/jpg" href="../../../zoo/favicon.jpg">
<body>
<div id="wrapper">
<div name="divd1" ALIGN="CENTER"> <FONT SIZE=5em color=#b01c20><B>
<noscript>THIS PAGE IS NOT WORKING WITHOUT JAVASCRIPT!
<BR>
<BR>PLEASE, SWITCH ON JAVASCRIPT IN SETTINGS OF YOUR BROWSER AND RELOAD THE PAGE.
</noscript>
</B></FONT></div>
<div id='doc3' class='yui-t2'>
<script src="../../../zoo/funcs.js"></script>
<script src="../../../en/zoo/this.js"></script>
<section id=sec2>
<div id='hd' class='banner'>
<a name='alited.html'>::alited reference</a>
</div>
<div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::alited'></a>::alited<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited-What's that'></a>What's that<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<p class='ruff'>The <em>alited</em> stands for &quot;a lite editor&quot;.</p>
<p class='ruff'>The main features of <em>alited</em> are:</p>
<ul class='ruff'>
<li>structured code</li>
<li>easy access to the code</li>
<li>born for <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> development only</li>
</ul>
<p class='ruff'>It satisfies most requirements of <a href="https://wiki.tcl-lang.org/Tcl+Editors" >Tcl Editors</a>, adding its own features.</p>
<p class='ruff'>Edited by <em>alited</em> are <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> files. The C/C++ code is another target of <em>alited</em>, still for <em><a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> development only</em> all the same.</p>
<p class='ruff'>The <em>alited</em> facilitates the development and the maintenance of <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code, particularly because of the <a href="https://github.com/aplsimple/alited/releases/download/2.Units_alited-1.0.5/2.Units_alited-1.0.5.mp4" >unit tree</a> being a sort of documentation.</p>
<p class='ruff'>The <em>alited</em> is suspected of being very good with large <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> projects, i.e. when, in one session, you deal with 30-40-50... <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> scripts, to say nothing of others.</p>
<p class='ruff'>It's quick at starting.</p>
<p class='ruff'>It's quick at switching projects.</p>
<p class='ruff'>It's quick at organizing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at navigating <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at searching <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at writing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at testing <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at saving <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>It's quick at maintaining <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> code.</p>
<p class='ruff'>Briefly, alited is totally quick, being at that <em>a pure <a href="https://wiki.tcl-lang.org/" >Tcl/Tk</a> application.</em></p>
<br><h2 class='ruff'><a name='::alited-Links'></a>Links<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<ul class='ruff'>
<li><a href="https://aplsimple.github.io/en/tcl/alited" >Description</a></li>
<li><a href="https://aplsimple.github.io/en/tcl/alited/alited.html" >Reference</a></li>
<li><a href="https://chiselapp.com/user/aplsimple/repository/alited/download" >Download #1</a></li>
<li><a href="https://github.com/aplsimple/alited" >Download #2</a></li>
</ul>
<p class='ruff'>For a quick acquaintance of <em>alited</em>, a few of demo videos are available:</p>
<ul class='ruff'>
<li><a href="https://github.com/aplsimple/alited/releases/download/1.Start_alited-1.1/1.Start_alited-1.1.mp4" >1. First start</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/2.Units_alited-1.1/2.Units_alited-1.1.mp4" >2. Units</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/3.Projects_alited-1.1/3.Projects_alited-1.1.mp4" >3. Projects</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/4.Find_alited-1.1/4.Find_alited-1.1.mp4" >4. Find and replace</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/5.Tools_alited-1.1/5.Tools_alited-1.1.mp4" >5. Tools</a></li>
<li><a href="https://github.com/aplsimple/alited/releases/download/6.Themes_alited-1.1/6.Themes_alited-1.1.mp4" >6. Themes</a></li>
</ul>
<br><h2 class='ruff'><a name='::alited-Inevitable blah-blah'></a>Inevitable blah-blah<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<p class='ruff'>The <em>alited</em> project started 1 March 2021.</p>
<p class='ruff'>In fact, <em>alited</em> has been developed by its own v0.2 since 24 April 2021. Inspite of permanent overheads of this way, it turned out to be amazingly productive, more and more in the course of time.</p>
<p class='ruff'>Below is a screenshot of <em>alited</em>, just to glance at it:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-en.png" class="media" alt=""></p>
<p class='ruff'>... and its localized and themed variant:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-ru.png" class="media" alt=""></p>
<p class='ruff'>... and its themed variant on Windows 10:</p>
<p class='ruff'><img src="https://aplsimple.github.io/en/tcl/alited/files/alited-win10.png" class="media" alt=""></p>
<br><h2 class='ruff'><a name='::alited-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::CheckRun'>CheckRun</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Check Tcl&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_1' href="javascript:toggleSource('1')">Show source</a></p>
<div id='1' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::CheckRun {} {

  <i><font color=#4b5d50># Runs &quot;Check Tcl&quot;.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands check::_run] eq {}} {
    <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::SRCDIR</font> check.tcl]
  }
  check::_run
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Exit'>Exit</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes alited application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Exit</span> <span class='ruff_arg'>?w? ?res? ?ask?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>not used; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>result of running of main window; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>ask</code></code></td><td class='ruff_defitem'>if &quot;yes&quot;, requests the confirmation of the exit; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_2' href="javascript:toggleSource('2')">Show source</a></p>
<div id='2' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Exit {{w {}} {res 0} {ask yes}} {

  <i><font color=#4b5d50># Closes alited application.</font></i>
  <i><font color=#4b5d50>#   w - not used</font></i>
  <i><font color=#4b5d50>#   res - result of running of main window</font></i>
  <i><font color=#4b5d50>#   ask - if &quot;yes&quot;, requests the confirmation of the exit</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>variable</font></b> obPav
  <b><font color=#3a6797>variable</font></b> obFN2
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ask</font> || !<font color=#1b1baa>$al(INI,confirmexit)</font> ||  [msg yesno ques [msgcat::mc {Quit alited?}]]} {
    <b><font color=#3a6797>if</font></b> {[alited::file::AllSaved]} {
      alited::find::_close
      alited::tool::_close
      <b><font color=#3a6797>catch</font></b> {alited::check::Cancel}
      <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obFN2</font> res <font color=#1b1baa>$::alited::al(FN2WINDOW)</font> 0}
      <font color=#1b1baa>$obPav</font> res <font color=#1b1baa>$al(WIN)</font> <font color=#1b1baa>$res</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::FgFgBold'>FgFgBold</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets foregrounds of normal and colored text of current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FgFgBold</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_3' href="javascript:toggleSource('3')">Show source</a></p>
<div id='3' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::FgFgBold {} {

  <i><font color=#4b5d50># Gets foregrounds of normal and colored text of current color scheme.</font></i>

  <b><font color=#3a6797>variable</font></b> obPav
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> csGet] - fg - - fgbold
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fg</font> <font color=#1b1baa>$fgbold</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a help file for a procedure.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>win ?suff?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>suffix for a help file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_4' href="javascript:toggleSource('4')">Show source</a></p>
<div id='4' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Help {win {suff {}}} {

  <i><font color=#4b5d50># Shows a help file for a procedure.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   suff - suffix for a help file's name</font></i>

  HelpFile <font color=#1b1baa>$win</font> [HelpFname <font color=#1b1baa>$win</font> <font color=#1b1baa>$suff</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpAbout'>HelpAbout</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows &quot;About...&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpAbout</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_5' href="javascript:toggleSource('5')">Show source</a></p>
<div id='5' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpAbout {} {

  <i><font color=#4b5d50># Shows &quot;About...&quot; dialogue.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> commands about::About] eq {}} {
    <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::SRCDIR</font> about.tcl]
  }
  about::About
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpAlited'>HelpAlited</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a main help of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpAlited</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_6' href="javascript:toggleSource('6')">Show source</a></p>
<div id='6' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpAlited {} {

  <i><font color=#4b5d50># Shows a main help of alited.</font></i>

  ::apave::openDoc [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::DIR</font> doc index.html]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpFile'>HelpFile</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads and shows a help file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpFile</span> <span class='ruff_arg'>win fname ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>option of msg</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_7' href="javascript:toggleSource('7')">Show source</a></p>
<div id='7' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpFile {win fname args} {

  <i><font color=#4b5d50># Reads and shows a help file.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   fname - the file's name</font></i>
  <i><font color=#4b5d50>#   args - option of msg</font></i>

  <b><font color=#3a6797>set</font></b> fS [<b><font color=#3a6797>lindex</font></b> [FgFgBold] 1]
  <b><font color=#3a6797>set</font></b> ::alited::textTags [<b><font color=#3a6797>list</font></b>  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;red&quot;</font> <font color=#7d1a1a>&quot; -font <font color=#1b1baa>{</font>-weight bold<font color=#1b1baa>}</font> -foreground <font color=#1b1baa>$</font>fS&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;bold&quot;</font> <font color=#7d1a1a>&quot; -font <font color=#1b1baa>{</font>-weight bold<font color=#1b1baa>}</font>&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;link&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://%l@@&quot;</font>]  ]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> msg [::apave::readTextFile <font color=#1b1baa>$fname</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg <font color=#7d1a1a>&quot;Here should be a text of\n\&quot;<font color=#1b1baa>$</font>fname\&quot;&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$alited::DEBUG</font>} {<b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;help file: <font color=#1b1baa>$</font>fname&quot;</font>}
  <b><font color=#3a6797>set</font></b> wmax 1
  <b><font color=#3a6797>foreach</font></b> ln [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$msg</font> \n] {
    <b><font color=#3a6797>set</font></b> occ 0
    <b><font color=#3a6797>foreach</font></b> tag {red bold link} {
      <b><font color=#3a6797>foreach</font></b> yn {{} /} {
        <b><font color=#3a6797>set</font></b> ln2 <font color=#1b1baa>$ln</font>
        <b><font color=#3a6797>set</font></b> t &lt;<font color=#1b1baa>$yn$tag</font>&gt;
        <b><font color=#3a6797>set</font></b> ln [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$t</font> {}] <font color=#1b1baa>$ln</font>]
        <b><font color=#3a6797>incr</font></b> occ [<b><font color=#3a6797>expr</font></b> {([<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ln2</font>]-[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ln</font>])/[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$t</font>]}]
      }
    }
    <b><font color=#3a6797>set</font></b> wmax [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$wmax</font>,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ln</font>]+<font color=#1b1baa>$occ</font>)}]
  }
  <b><font color=#ca14ca>return</font></b> [msg ok {} <font color=#1b1baa>$msg</font> <font color=#6c3e67>-title</font> Help <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font> <font color=#6c3e67>-scroll</font> no  <font color=#6c3e67>-tags</font> ::alited::textTags <font color=#6c3e67>-w</font> [<b><font color=#3a6797>incr</font></b> wmax] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpFname'>HelpFname</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a help file's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpFname</span> <span class='ruff_arg'>win ?suff?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>suffix for a help file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_8' href="javascript:toggleSource('8')">Show source</a></p>
<div id='8' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpFname {win {suff {}}} {

  <i><font color=#4b5d50># Gets a help file's name.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   suff - suffix for a help file's name</font></i>

  <b><font color=#3a6797>variable</font></b> DATADIR
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>dict</font></b> get [<b><font color=#3a6797>info</font></b> frame -2] proc] :] end-2]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> help] <font color=#1b1baa>$fname$suff</font>.txt]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a help file for a procedure with &quot;Don't show again&quot; checkbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> <span class='ruff_arg'>win ?suff?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>currently active window</td></tr>
<tr><td class='ruff_defitem'><code><code>suff</code></code></td><td class='ruff_defitem'>suffix for a help file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_9' href="javascript:toggleSource('9')">Show source</a></p>
<div id='9' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::HelpMe {win {suff {}}} {

  <i><font color=#4b5d50># Shows a help file for a procedure with &quot;Don't show again&quot; checkbox.</font></i>
  <i><font color=#4b5d50>#   win - currently active window</font></i>
  <i><font color=#4b5d50>#   suff - suffix for a help file's name</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(HelpedMe)</font> <font color=#1b1baa>$win</font>]&gt;-1} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> ans [HelpFile <font color=#1b1baa>$win</font> [HelpFname <font color=#1b1baa>$win</font> <font color=#1b1baa>$suff</font>] <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font>==11} {
    <b><font color=#3a6797>lappend</font></b> al(HelpedMe) <font color=#1b1baa>$win</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ListPaved'>ListPaved</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Return a list of apave objects for dialogues.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ListPaved</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_10' href="javascript:toggleSource('10')">Show source</a></p>
<div id='10' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ListPaved {} {

  <i><font color=#4b5d50># Return a list of apave objects for dialogues.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> obDlg obDl2 obDl3 obFND obFN2 obCHK]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Message'>Message</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message</span> <span class='ruff_arg'>msg ?mode? ?lab? ?first?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>1: simple; 2: bold; 3: bold colored; 4: bold colored bell; 5: static; <i>optional, default</i> <code>1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>lab</code></code></td><td class='ruff_defitem'>label's name to display the message in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>first</code></code></td><td class='ruff_defitem'>serves to recursively erase the message; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_11' href="javascript:toggleSource('11')">Show source</a></p>
<div id='11' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Message {msg {mode 1} {lab {}} {first yes}} {

  <i><font color=#4b5d50># Displays a message in statusbar.</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - 1: simple; 2: bold; 3: bold colored; 4: bold colored bell; 5: static</font></i>
  <i><font color=#4b5d50>#   lab - label's name to display the message in</font></i>
  <i><font color=#4b5d50>#   first - serves to recursively erase the message</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>variable</font></b> obPav
  <b><font color=#3a6797>lassign</font></b> [FgFgBold] fg fgbold
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lab</font> eq {}} {<b><font color=#3a6797>set</font></b> lab [<font color=#1b1baa>$obPav</font> Labstat3]}
  <b><font color=#3a6797>set</font></b> font [[<font color=#1b1baa>$obPav</font> Labstat2] cget <font color=#6c3e67>-font</font>]
  <b><font color=#3a6797>set</font></b> fontB [<b><font color=#3a6797>list</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$font</font> <font color=#6c3e67>-weight</font> bold]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> range [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n { } \r {}] <font color=#1b1baa>$msg</font>] 0 100]
  <b><font color=#3a6797>set</font></b> slen [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$msg</font>}] || !<font color=#1b1baa>$slen</font>} <b><font color=#ca14ca>return</font></b>
  <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-font</font> <font color=#1b1baa>$font</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> in {2 3 4 5}} {
    <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-font</font> <font color=#1b1baa>$fontB</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> in {3 4 5}} {
      <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgbold</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq {4} && <font color=#1b1baa>$first</font>} <b><font color=#134070>bell</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq {5}} {
    <b><font color=#3a6797>update</font></b>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$first</font>} {
    <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>expr</font></b> {200*<font color=#1b1baa>$slen</font>}]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$msg</font> 0 end-1]
    <b><font color=#3a6797>set</font></b> msec 10
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al(afterID)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$msec</font>&gt;0} {
    <b><font color=#3a6797>set</font></b> al(afterID) [<b><font color=#3a6797>after</font></b> <font color=#1b1baa>$msec</font> [<b><font color=#3a6797>list</font></b> ::alited::Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> <font color=#1b1baa>$lab</font> no]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Message2'>Message2</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of secondary dialogue (<code>$obDl2</code>).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message2</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::Message" title="Message" class='ruff_cmd'>Message</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_12' href="javascript:toggleSource('12')">Show source</a></p>
<div id='12' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Message2 {msg {mode 1}} {

  <i><font color=#4b5d50># Displays a message in statusbar of secondary dialogue ($obDl2).</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - mode of Message</font></i>
  <i><font color=#4b5d50># See also: Message</font></i>

  <b><font color=#3a6797>variable</font></b> obDl2
  Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> [<font color=#1b1baa>$obDl2</font> LabMess]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Message3'>Message3</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a message in statusbar of tertiary dialogue (<code>$obDl3</code>).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Message3</span> <span class='ruff_arg'>msg ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode of Message; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::Message" title="Message" class='ruff_cmd'>Message</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_13' href="javascript:toggleSource('13')">Show source</a></p>
<div id='13' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Message3 {msg {mode 1}} {

  <i><font color=#4b5d50># Displays a message in statusbar of tertiary dialogue ($obDl3).</font></i>
  <i><font color=#4b5d50>#   msg - message</font></i>
  <i><font color=#4b5d50>#   mode - mode of Message</font></i>
  <i><font color=#4b5d50># See also: Message</font></i>

  <b><font color=#3a6797>variable</font></b> obDl3
  Message <font color=#1b1baa>$msg</font> <font color=#1b1baa>$mode</font> [<font color=#1b1baa>$obDl3</font> LabMess]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::msg'>msg</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message and asks for an answer.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>msg</span> <span class='ruff_arg'>type icon message ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>ok/yesno/okcancel/yesnocancel</td></tr>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>info/warn/err</td></tr>
<tr><td class='ruff_defitem'><code><code>message</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>default button (for not &quot;ok&quot; dialogs); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments (-title and font's option)</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>For &quot;ok&quot; dialogue, 'defb' is omitted (being a part of args).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_14' href="javascript:toggleSource('14')">Show source</a></p>
<div id='14' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::msg {type icon message {defb {}} args} {

  <i><font color=#4b5d50># Shows a message and asks for an answer.</font></i>
  <i><font color=#4b5d50>#   type - ok/yesno/okcancel/yesnocancel</font></i>
  <i><font color=#4b5d50>#   icon - info/warn/err</font></i>
  <i><font color=#4b5d50>#   message - the message</font></i>
  <i><font color=#4b5d50>#   defb - default button (for not &quot;ok&quot; dialogs)</font></i>
  <i><font color=#4b5d50>#   args - additional arguments (-title and font's option)</font></i>
  <i><font color=#4b5d50># For &quot;ok&quot; dialogue, 'defb' is omitted (being a part of args).</font></i>

  <b><font color=#3a6797>variable</font></b> obDlg
  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$type</font> eq {ok}} {
    <b><font color=#3a6797>set</font></b> args [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$args</font> 0 <font color=#1b1baa>$defb</font>]
    <b><font color=#3a6797>set</font></b> defb {}
  }
  <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions args <font color=#6c3e67>-title</font> {} <font color=#6c3e67>-noesc</font> 0] title noesc
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$title</font> eq {}} {
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$icon</font> {
      warn {<b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$al(MC,warning)</font>}
      err {<b><font color=#3a6797>set</font></b> title [msgcat::mc Error]}
      ques {<b><font color=#3a6797>set</font></b> title [msgcat::mc Question]}
      <b><font color=#3a6797>default</font></b> {<b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$al(MC,info)</font>}
   }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> title [msgcat::mc <font color=#1b1baa>$title</font>]
  }
  <b><font color=#3a6797>set</font></b> message [msgcat::mc <font color=#1b1baa>$message</font>]
  <i><font color=>#! if {!$noesc} {set message [string map [list \\ \\\\] $message]}</font></i>
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDlg</font> <font color=#1b1baa>$type</font> <font color=#1b1baa>$icon</font> <font color=#1b1baa>$title</font> <font color=#7d1a1a>&quot;\n<font color=#1b1baa>$</font>message\n&quot;</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$defb</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
  <i><font color=>#! after idle {catch alited::main::UpdateGutter}</font></i>
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$res</font> 0]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::msgcatMessages'>msgcatMessages</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets common localized messages.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>msgcatMessages</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_15' href="javascript:toggleSource('15')">Show source</a></p>
<div id='15' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::msgcatMessages {} {

  <i><font color=#4b5d50># Sets common localized messages.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <i><font color=#4b5d50>## _ common _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,nofile)      [msgcat::mc {No name}]
  <b><font color=#3a6797>set</font></b> al(MC,warning)     [msgcat::mc Warning]
  <b><font color=#3a6797>set</font></b> al(MC,info)        [msgcat::mc Information]
  <b><font color=#3a6797>set</font></b> al(MC,wait)        [msgcat::mc {Wait a little ...}]
  <b><font color=#3a6797>set</font></b> al(MC,help)        [msgcat::mc Help]
  <b><font color=#3a6797>set</font></b> al(MC,select)      [msgcat::mc Select]  ;<i><font color=#4b5d50># verb</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,notsaved)    [msgcat::mc <font color=#7d1a1a>&quot;\&quot;%f\&quot; wasn't saved.\n\nSave it?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,saving)      [msgcat::mc Saving]
  <b><font color=#3a6797>set</font></b> al(MC,files)       [msgcat::mc Files]
  <b><font color=#3a6797>set</font></b> al(MC,moving)      [msgcat::mc Moving]
  <b><font color=#3a6797>set</font></b> al(MC,run)         [msgcat::mc Run]
  <b><font color=#3a6797>set</font></b> al(MC,new)         [msgcat::mc New]
  <b><font color=#3a6797>set</font></b> al(MC,open...)     [msgcat::mc Open...]
  <b><font color=#3a6797>set</font></b> al(MC,close)       [msgcat::mc Close]
  <b><font color=#3a6797>set</font></b> al(MC,save)        [msgcat::mc Save]
  <b><font color=#3a6797>set</font></b> al(MC,saveas...)   [msgcat::mc {Save as...}]
  <b><font color=#3a6797>set</font></b> al(MC,saveall)     [msgcat::mc {Save All}]
  <b><font color=#3a6797>set</font></b> al(MC,clall)       [msgcat::mc {... All}]
  <b><font color=#3a6797>set</font></b> al(MC,clallleft)   [msgcat::mc {... All at Left}]
  <b><font color=#3a6797>set</font></b> al(MC,clallright)  [msgcat::mc {... All at Right}]
  <b><font color=#3a6797>set</font></b> al(MC,pref)        [msgcat::mc Preferences]
  <b><font color=#3a6797>set</font></b> al(MC,pref...)     [msgcat::mc Preferences...]
  <b><font color=#3a6797>set</font></b> al(MC,notrecomm)   [msgcat::mc <font color=#7d1a1a>&quot;Not recommended for projects\nwith large files (&gt;2000 LOC)!&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,restart)     [msgcat::mc Restart]
  <b><font color=#3a6797>set</font></b> al(MC,quit)        [msgcat::mc Quit]
  <b><font color=#3a6797>set</font></b> al(MC,indent)      [msgcat::mc Indent]
  <b><font color=#3a6797>set</font></b> al(MC,unindent)    [msgcat::mc Unindent]
  <b><font color=#3a6797>set</font></b> al(MC,comment)     [msgcat::mc Comment]
  <b><font color=#3a6797>set</font></b> al(MC,uncomment)   [msgcat::mc Uncomment]
  <b><font color=#3a6797>set</font></b> al(MC,findreplace) [msgcat::mc {Find / Replace}]
  <b><font color=#3a6797>set</font></b> al(MC,findnext)    [msgcat::mc {Find Next}]
  <b><font color=#3a6797>set</font></b> al(MC,alloffile)   [msgcat::mc <font color=#7d1a1a>&quot;All of \&quot;%f\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,lines)       [msgcat::mc Lines]
  <b><font color=#3a6797>set</font></b> al(MC,moveupU)     [msgcat::mc {Move Unit Up}]
  <b><font color=#3a6797>set</font></b> al(MC,movedownU)   [msgcat::mc {Move Unit Down}]
  <b><font color=#3a6797>set</font></b> al(MC,moveupF)     [msgcat::mc {Move File Up}]
  <b><font color=#3a6797>set</font></b> al(MC,movedownF)   [msgcat::mc {Move File Down}]
  <b><font color=#3a6797>set</font></b> al(MC,FavLists)    [msgcat::mc {Lists of Favorites}]
  <b><font color=#3a6797>set</font></b> al(MC,swfiles)     [msgcat::mc {Switch to Unit Tree}]
  <b><font color=#3a6797>set</font></b> al(MC,swunits)     [msgcat::mc {Switch to File Tree}]
  <b><font color=#3a6797>set</font></b> al(MC,filesadd)    [msgcat::mc {Create File}]
  <b><font color=#3a6797>set</font></b> al(MC,filesadd2)   [msgcat::mc <font color=#7d1a1a>&quot;Enter a name of file to create in:\n%d\n\nIf it is a directory, check 'Directory' box.\nThe directory can include subdirectories (a/b/c).&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,filesdel)    [msgcat::mc {Delete File}]
  <b><font color=#3a6797>set</font></b> al(MC,fileexist)   [msgcat::mc <font color=#7d1a1a>&quot;File %f already exists in\n%d&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,unitsdel)    [msgcat::mc {Remove Unit(s)}]
  <b><font color=#3a6797>set</font></b> al(MC,favoradd)    [msgcat::mc {Add to Favorites}]
  <b><font color=#3a6797>set</font></b> al(MC,favordel)    [msgcat::mc {Remove}]
  <b><font color=#3a6797>set</font></b> al(MC,favordelall) [msgcat::mc {Remove All}]
  <b><font color=#3a6797>set</font></b> al(MC,updtree)     [msgcat::mc {Update Tree}]
  <b><font color=#3a6797>set</font></b> al(MC,movefile)    [msgcat::mc <font color=#7d1a1a>&quot;Move %f\nto\n%d\n?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,introln1)    [msgcat::mc {First Lines}]
  <b><font color=#3a6797>set</font></b> al(MC,introln2)    [msgcat::mc {Can't touch the first %n lines.}]
  <b><font color=#3a6797>set</font></b> al(MC,favorites)   [msgcat::mc Favorites]
  <b><font color=#3a6797>set</font></b> al(MC,lastvisit)   [msgcat::mc {Last Visited}]
  <b><font color=#3a6797>set</font></b> al(MC,addfavor)    [msgcat::mc <font color=#7d1a1a>&quot;Add \&quot;%n\&quot; of %f\nto Favorites?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,addexist)    [msgcat::mc <font color=#7d1a1a>&quot;Item \&quot;%n\&quot; of %f\nis already in Favorites.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,delfavor)    [msgcat::mc <font color=#7d1a1a>&quot;Remove \&quot;%n\&quot; of %f\nfrom Favorites?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,notfavor)    [msgcat::mc <font color=#7d1a1a>&quot;\&quot;%n\&quot; unit of %f is not in the list.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,selfavor)    [msgcat::mc <font color=#7d1a1a>&quot;Click \&quot;%t\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,copydecl)    [msgcat::mc {Copy Declaration}]
  <b><font color=#3a6797>set</font></b> al(MC,openofdir)   [msgcat::mc <font color=#7d1a1a>&quot;Open All Tcl Files of \&quot;%n\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,delitem)     [msgcat::mc <font color=#7d1a1a>&quot;Remove \&quot;%n\&quot;\nfrom \&quot;%f\&quot;?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,delfile)     [msgcat::mc <font color=#7d1a1a>&quot;Delete \&quot;%f\&quot;?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,nodelopen)   [msgcat::mc {An open file can not be deleted.}]
  <b><font color=#3a6797>set</font></b> al(MC,modiffile)   [msgcat::mc <font color=#7d1a1a>&quot;File \&quot;%f\&quot; was modified by some application.\n\nCancel your edition and reload the file?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,wasdelfile)  [msgcat::mc <font color=#7d1a1a>&quot;File \&quot;%f\&quot; was deleted by some application.\n\nSave the file?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,Row:)        [msgcat::mc {Row: }]
  <b><font color=#3a6797>set</font></b> al(MC,Col:)        [msgcat::mc { Col: }]
  <b><font color=#3a6797>set</font></b> al(MC,Item)        [msgcat::mc Item]
  <b><font color=#3a6797>set</font></b> al(MC,errmove)     [msgcat::mc <font color=#7d1a1a>&quot;\&quot;%n\&quot; contains unbalanced \{\}: %1!=%2&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,afterstart)  [msgcat::mc {Commands after start}]
  <b><font color=#3a6797>set</font></b> al(MC,beforerun)   [msgcat::mc {Commands before <font color=#7d1a1a>&quot;Run&quot;</font>}]
  <b><font color=#3a6797>set</font></b> al(MC,locale)      [msgcat::mc <font color=#7d1a1a>&quot;This is a country code: ru, uk, de...\nIn alited, \&quot;en\&quot; means American English.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,noask)       [msgcat::mc {Don't show anymore}]
  <b><font color=#3a6797>set</font></b> al(MC,hue)         [msgcat::mc {Makes colors darker .. lighter}]
  <b><font color=#3a6797>set</font></b> al(MC,maxbak)      [msgcat::mc {Maximum of backup copies per a file}]

  <i><font color=#4b5d50>## _  project options _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,Ign:)        [msgcat::mc {Skip subdirectories:}]
  <b><font color=#3a6797>set</font></b> al(MC,EOL:)        [msgcat::mc {End of line:}]
  <b><font color=#3a6797>set</font></b> al(MC,indent:)     [msgcat::mc {Indentation:}]
  <b><font color=#3a6797>set</font></b> al(MC,indentAuto)  [msgcat::mc {Auto detection}]
  <b><font color=#3a6797>set</font></b> al(MC,redunit)     [msgcat::mc {Unit lines per 1 red bar:}]
  <b><font color=#3a6797>set</font></b> al(MC,multiline)   [msgcat::mc {Multi-line strings:}]
  <b><font color=#3a6797>set</font></b> al(MC,trailwhite)  [msgcat::mc {Remove trailing whitespaces:}]

  <i><font color=#4b5d50>## _ templates _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,tpl)         [msgcat::mc Templates]
  <b><font color=#3a6797>set</font></b> al(MC,tpllist)     [msgcat::mc {List of Templates}]
  <b><font color=#3a6797>set</font></b> al(MC,tplsel)      [msgcat::mc {Click a template}]
  <b><font color=#3a6797>set</font></b> al(MC,tplnew)      [msgcat::mc {The template #%n added}]
  <b><font color=#3a6797>set</font></b> al(MC,tplupd)      [msgcat::mc {The template #%n updated}]
  <b><font color=#3a6797>set</font></b> al(MC,tplrem)      [msgcat::mc {The template #%n removed}]
  <b><font color=#3a6797>set</font></b> al(MC,tplent1)     [msgcat::mc {Enter a name of the template}]
  <b><font color=#3a6797>set</font></b> al(MC,tplent2)     [msgcat::mc {Enter a text of the template}]
  <b><font color=#3a6797>set</font></b> al(MC,tplexists)   [msgcat::mc {A template with the attribute(s) already exists.}]
  <b><font color=#3a6797>set</font></b> al(MC,tpldelq)     [msgcat::mc {Delete a template #%n ?}]

  <i><font color=#4b5d50>## _ projects _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,projects)    [msgcat::mc Projects]
  <b><font color=#3a6797>set</font></b> al(MC,prjgoing)    [msgcat::mc {You are going to %n!}]
  <b><font color=#3a6797>set</font></b> al(MC,prjadd)      [msgcat::mc {Add a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjchg)      [msgcat::mc {Change a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjdel1)     [msgcat::mc {Delete a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjcantdel)  [msgcat::mc {Don't delete the current project!}]
  <b><font color=#3a6797>set</font></b> al(MC,prjnew)      [msgcat::mc <font color=#7d1a1a>&quot;The project \&quot;%n\&quot; added&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjupd)      [msgcat::mc <font color=#7d1a1a>&quot;The project \&quot;%n\&quot; updated&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjdel2)     [msgcat::mc <font color=#7d1a1a>&quot;The project \&quot;%n\&quot; removed&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjOptions)  [msgcat::mc Options]
  <b><font color=#3a6797>set</font></b> al(MC,prjName)     [msgcat::mc {Project name:}]
  <b><font color=#3a6797>set</font></b> al(MC,prjsavfl)    [msgcat::mc <font color=#7d1a1a>&quot;You can\n  - add the current one to\n  - substitute with the current one\n  - delete\n  - not change\nthe file list of the project.\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjaddfl)    [msgcat::mc Add]
  <b><font color=#3a6797>set</font></b> al(MC,prjsubstfl)  [msgcat::mc Substitute]
  <b><font color=#3a6797>set</font></b> al(MC,prjdelfl)    [msgcat::mc Delete]
  <b><font color=#3a6797>set</font></b> al(MC,prjnochfl)   [msgcat::mc {Don't change}]
  <b><font color=#3a6797>set</font></b> al(MC,prjsel)      [msgcat::mc {Click a project}]
  <b><font color=#3a6797>set</font></b> al(MC,prjdelq)     [msgcat::mc <font color=#7d1a1a>&quot;Delete a project \&quot;%n\&quot; ?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,prjexists)   [msgcat::mc <font color=#7d1a1a>&quot;A project \&quot;%n\&quot; already exists.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,DEFopts)     [msgcat::mc {Options for new projects are set in <font color=#7d1a1a>&quot;Preferences/General/Projects&quot;</font>}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTdelete)  [msgcat::mc {Erase a text}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTpaste)   [msgcat::mc {Paste a text}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTundo)    [msgcat::mc {Undo changes}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTredo)    [msgcat::mc {Redo changes}]
  <b><font color=#3a6797>set</font></b> al(MC,prjTtext)    [msgcat::mc {Text of a reminder}]
  <b><font color=#3a6797>set</font></b> al(MC,TipLbx)      [msgcat::mc <font color=#7d1a1a>&quot;You may select file(s)\nand open them with a context menu.\n\nOr just double-click.&quot;</font>]

  <i><font color=#4b5d50>## _ favorites _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,favsel)      [msgcat::mc {Click a list of favorites}]
  <b><font color=#3a6797>set</font></b> al(MC,favnew)      [msgcat::mc {The list #%n added}]
  <b><font color=#3a6797>set</font></b> al(MC,favupd)      [msgcat::mc {The list #%n updated}]
  <b><font color=#3a6797>set</font></b> al(MC,favrem)      [msgcat::mc {The list #%n removed}]
  <b><font color=#3a6797>set</font></b> al(MC,favent1)     [msgcat::mc {Enter a name of the list}]
  <b><font color=#3a6797>set</font></b> al(MC,favent3)     [msgcat::mc {The current list is empty!}]
  <b><font color=#3a6797>set</font></b> al(MC,favexists)   [msgcat::mc {This list already exists}]
  <b><font color=#3a6797>set</font></b> al(MC,faverrsav)   [msgcat::mc <font color=#7d1a1a>&quot;This list not saved to\n\&quot;%f\&quot;.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,favdelq)     [msgcat::mc {Delete a favorites' list #%n ?}]

  <i><font color=#4b5d50>## _ find-replace dialogue _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,frMatch) [msgcat::mc {Match: }]
  <b><font color=#3a6797>set</font></b> al(MC,frWord)  [msgcat::mc {Match whole word only}]
  <b><font color=#3a6797>set</font></b> al(MC,frExact) [msgcat::mc {Exact}]
  <b><font color=#3a6797>set</font></b> al(MC,frCase)  [msgcat::mc {Match case}]
  <b><font color=#3a6797>set</font></b> al(MC,frres1)  [msgcat::mc <font color=#7d1a1a>&quot;Found %n matches for \&quot;%s\&quot;.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frres2)  [msgcat::mc <font color=#7d1a1a>&quot;Made %n replacements of \&quot;%s\&quot; with \&quot;%r\&quot; in \&quot;%f\&quot;.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frres3)  [msgcat::mc <font color=#7d1a1a>&quot;Made %n replacements of \&quot;%s\&quot; with \&quot;%r\&quot; in all of session.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frdoit1) [msgcat::mc <font color=#7d1a1a>&quot;Replace all of \&quot;%s\&quot;\n\nwith \&quot;%r\&quot;\n\nin \&quot;%f\&quot; ?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,frdoit2) [msgcat::mc <font color=#7d1a1a>&quot;Replace all of \&quot;%s\&quot;\n\nwith \&quot;%r\&quot;\n\nin all texts?&quot;</font>]

  <i><font color=#4b5d50>## _ file & directory _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,errcopy)     [msgcat::mc <font color=#7d1a1a>&quot;Can't backup \&quot;%f\&quot; to\n\&quot;%d\&quot;!\n\nDelete it anyway?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,removed)     [msgcat::mc <font color=#7d1a1a>&quot;\&quot;%f\&quot; removed to \&quot;%d\&quot;&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,nottoopen)   [msgcat::mc <font color=#7d1a1a>&quot;The file \&quot;%f\&quot; seems to be not of types\n%s.\n\nStill do you want to open it?&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,renamefile)  [msgcat::mc {Rename File}]
  <b><font color=#3a6797>set</font></b> al(MC,openselfile) [msgcat::mc {Open Selected File(s)}]

  <i><font color=#4b5d50>## _ checking ini directory _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,chini1)      [msgcat::mc {Choosing Directory for Settings}]
  <b><font color=#3a6797>set</font></b> al(MC,chini2)      [msgcat::mc <font color=#7d1a1a>&quot;\n The \&quot;alited\&quot; needs a configuration directory to store its settings.\n You can pass its name to alited as an argument.\n\n The default configuration directory is \&quot;%d\&quot;.\n It's preferable as used to run \&quot;alited\&quot; without arguments.\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,chini3)      [msgcat::mc {Choose a directory}]

  <b><font color=#3a6797>set</font></b> al(MC,notes)       [msgcat::mc <font color=#7d1a1a>&quot;Sort of diary.\nList of TODOs etc.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,checktcl)    [msgcat::mc {Check Tcl}]
  <b><font color=#3a6797>set</font></b> al(MC,colorpicker) [msgcat::mc {Color Picker}]
  <b><font color=#3a6797>set</font></b> al(MC,datepicker)  [msgcat::mc {Date Picker}]
  <b><font color=#3a6797>set</font></b> al(checkroot)      [msgcat::mc {Checking %d. Wait a little...}]
  <b><font color=#3a6797>set</font></b> al(badroot)        [msgcat::mc {Too big directory for a project: %n files or more.}]
  <b><font color=#3a6797>set</font></b> al(makeroot)       [msgcat::mc <font color=#7d1a1a>&quot;Directory \&quot;%d\&quot;\ndoesn't exist.\n\nCreate it?&quot;</font>]

  <i><font color=#4b5d50>## _ icons of toolbar _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,icofile)     [msgcat::mc <font color=#7d1a1a>&quot;Create a file\nCtrl+N&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoOpenFile) [msgcat::mc <font color=#7d1a1a>&quot;Open a file\nCtrl+O&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoSaveFile) [msgcat::mc <font color=#7d1a1a>&quot;Save the file\nF2&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icosaveall)  [msgcat::mc <font color=#7d1a1a>&quot;Save all files\nCtrl+Shift+S&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icohelp)     [msgcat::mc <font color=#7d1a1a>&quot;Tcl/Tk help on the selection\nF1&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoreplace)  [msgcat::mc <font color=#7d1a1a>&quot;Find / Replace\nCtrl+F&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icook)       <font color=#1b1baa>$al(MC,checktcl)</font>
  <b><font color=#3a6797>set</font></b> al(MC,icocolor)    <font color=#1b1baa>$al(MC,colorpicker)</font>
  <b><font color=#3a6797>set</font></b> al(MC,icodate)     <font color=#1b1baa>$al(MC,datepicker)</font>
  <b><font color=#3a6797>set</font></b> al(MC,icoother)    tkcon
  <b><font color=#3a6797>set</font></b> al(MC,icorun)      [msgcat::mc <font color=#7d1a1a>&quot;Run the file\nF5&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoe_menu)   [msgcat::mc <font color=#7d1a1a>&quot;Run e_menu\nF4&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoundo)     [msgcat::mc <font color=#7d1a1a>&quot;Undo changes\nCtrl+Z&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icoredo)     [msgcat::mc <font color=#7d1a1a>&quot;Redo changes\nCtrl+Shift+Z&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,icocategories) [msgcat::mc Projects]

  <i><font color=#4b5d50>## _ find units _ ##</font></i>
  <b><font color=#3a6797>set</font></b> al(MC,findunit)    [msgcat::mc <font color=#7d1a1a>&quot;Use glob patterns to find units' declarations\ne.g. \&quot;s*rt\&quot; would find \&quot;start\&quot; and \&quot;insert\&quot;.\nThe letter case is ignored.&quot;</font>]
  <b><font color=#3a6797>set</font></b> al(MC,notfndunit)  [msgcat::mc {Unit not found: %u}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::open_files_and_raise'>open_files_and_raise</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files of CLI.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>open_files_and_raise</span> <span class='ruff_arg'>iin ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>iin</code></code></td><td class='ruff_defitem'>count of call</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of file names</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::bar::FillBar" title="bar::FillBar" class='ruff_cmd'>bar::FillBar</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_16' href="javascript:toggleSource('16')">Show source</a></p>
<div id='16' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::open_files_and_raise {iin args} {

  <i><font color=#4b5d50># Opens files of CLI.</font></i>
  <i><font color=#4b5d50>#   iin - count of call</font></i>
  <i><font color=#4b5d50>#   args - list of file names</font></i>
  <i><font color=#4b5d50># See also: bar::FillBar</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iin</font>&lt;10} {
    <i><font color=#4b5d50># let the tab bar be filled first</font></i>
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists ::alited::al(BID)]} {
      <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after 1000 [<b><font color=#3a6797>list</font></b> ::alited::open_files_and_raise [<b><font color=#3a6797>incr</font></b> iin] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]]
      <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>foreach</font></b> fname [<b><font color=#3a6797>lreverse</font></b> <font color=#1b1baa>$args</font>] {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isfile <font color=#1b1baa>$fname</font>]} {
        alited::file::OpenFile <font color=#1b1baa>$fname</font> yes
      }
    }
  }
  raise_window
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::p+'>p+</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sums two text positions straightforward: lines &amp; columns separately.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>p+</span> <span class='ruff_arg'>p1 p2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>p1</code></code></td><td class='ruff_defitem'>1st position</td></tr>
<tr><td class='ruff_defitem'><code><code>p2</code></code></td><td class='ruff_defitem'>2nd position</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The lines may be with &quot;-&quot;. Reasons for this: 1. expr <code>$p1</code>+<code>$p2</code> doesn't work, e.g. 309.10+1.4=310.5 instead of 310.14 2. do it without a text widget's path (for text's arithmetic)</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_17' href="javascript:toggleSource('17')">Show source</a></p>
<div id='17' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::p+ {p1 p2} {

  <i><font color=#4b5d50># Sums two text positions straightforward: lines & columns separately.</font></i>
  <i><font color=#4b5d50>#   p1 - 1st position</font></i>
  <i><font color=#4b5d50>#   p2 - 2nd position</font></i>
  <i><font color=#4b5d50># The lines may be with &quot;-&quot;.</font></i>
  <i><font color=#4b5d50># Reasons for this:</font></i>
  <i><font color=#4b5d50>#  1. expr $p1+$p2 doesn't work, e.g. 309.10+1.4=310.5 instead of 310.14</font></i>
  <i><font color=#4b5d50>#  2. do it without a text widget's path (for text's arithmetic)</font></i>

  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$p1</font> .] l11 c11
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$p2</font> .] l21 c21
  <b><font color=#3a6797>foreach</font></b> n {l11 c11 l21 c21} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> [<b><font color=#3a6797>string</font></b> trimleft [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$n</font>] -]]} {<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$n</font> 0}
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>incr</font></b> l11 <font color=#1b1baa>$l21</font>].[<b><font color=#3a6797>incr</font></b> c11 <font color=#1b1baa>$c21</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::raise_window'>raise_window</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Raises the app's window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>raise_window</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_18' href="javascript:toggleSource('18')">Show source</a></p>
<div id='18' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::raise_window {} {

  <i><font color=#4b5d50># Raises the app's window.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#134070>wm</font></b> withdraw <font color=#1b1baa>$al(WIN)</font>
    <b><font color=#134070>wm</font></b> deiconify <font color=#1b1baa>$al(WIN)</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Run'>Run</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Tcl/Tk script.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Run</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>script's name and arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_19' href="javascript:toggleSource('19')">Show source</a></p>
<div id='19' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Run {args} {

  <i><font color=#4b5d50># Runs Tcl/Tk script.</font></i>
  <i><font color=#4b5d50>#   args - script's name and arguments</font></i>

  <b><font color=#3a6797>set</font></b> com [<b><font color=#3a6797>string</font></b> trimright <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>args&quot;</font> &]
  <b><font color=#3a6797>set</font></b> pid [<b><font color=#3a6797>pid</font></b> [<b><font color=#3a6797>open</font></b> <font color=#7d1a1a>&quot;|<font color=#1b1baa>[</font>Tclexe<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>com&quot;</font>]]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pid</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::run_remote'>run_remote</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a command that was started by another process.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>run_remote</span> <span class='ruff_arg'>cmd ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cmd</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_20' href="javascript:toggleSource('20')">Show source</a></p>
<div id='20' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::run_remote {cmd args} {

  <i><font color=#4b5d50># Runs a command that was started by another process.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> { <font color=#1b1baa>$cmd</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font> } err]} {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$err</font>
    <b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> error
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::Tclexe'>Tclexe</a><span class='ns_scope'> [<a href="alited.html#::alited" title="::alited" class='ruff_cmd'>::alited</a>]</span><span class='tinylink'><a href='alited.html#::alited'>alited</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets Tcl's executable file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tclexe</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_21' href="javascript:toggleSource('21')">Show source</a></p>
<div id='21' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::Tclexe {} {

  <i><font color=#4b5d50># Gets Tcl's executable file.</font></i>

  <b><font color=#3a6797>variable</font></b> al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,Tcl)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> tclexe [<b><font color=#3a6797>info</font></b> nameofexecutable]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tclexe <font color=#1b1baa>$al(EM,Tcl)</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tclexe</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::about'></a>::alited::about<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::about-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::about'>about</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::about::About'>About</a><span class='ns_scope'> [<a href="alited.html#::alited::about" title="::alited::about" class='ruff_cmd'>::alited::about</a>]</span><span class='tinylink'><a href='alited.html#::alited::about'>about</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows &quot;About&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>About</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_22' href="javascript:toggleSource('22')">Show source</a></p>
<div id='22' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::about::About {} {

  <i><font color=#4b5d50># Shows &quot;About&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> textTags
  <b><font color=#3a6797>lassign</font></b> [::apave::obj csGet] fg - bg - - bS fS
  <b><font color=#3a6797>set</font></b> textTags [<b><font color=#3a6797>list</font></b>  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;red&quot;</font> <font color=#7d1a1a>&quot; -font <font color=#1b1baa>{[</font>::apave::obj csFontDef<font color=#1b1baa>]</font> -weight bold<font color=#1b1baa>}</font> -foreground <font color=#1b1baa>$</font>fS -background <font color=#1b1baa>$</font>bS&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;link1&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://%l@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;link2&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://wiki.tcl-lang.org@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkapl&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://github.com/aplsimple/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkCN&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://www.nemethi.de/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkSH&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://wiki.tcl-lang.org/page/Steve+Huntley@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkHE&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://wiki.tcl-lang.org/page/HE@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkRD&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://github.com/rdbende@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkPO&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://wiki.tcl-lang.org/page/Paul+Obermeier@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkPW&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://wiki.tcl-lang.org/page/PW@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkRK&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://rkeene.org/projects/info@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkMIT&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://en.wikipedia.org/wiki/MIT_License@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkJS&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://wiki.tcl-lang.org/page/Jeff+Smith@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkRS&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@http://wiki.tcl-lang.org/page/Richard+Suchenwirth@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkAN&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://www.magicsplat.com/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkDF&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://wiki.tcl-lang.org/page/Donal+Fellows@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkJO&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://www.johann-oberdorfer.eu/@@&quot;</font>]  [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;linkTW&quot;</font> <font color=#7d1a1a>&quot;::apave::openDoc %t@@https://github.com/phase1geo@@&quot;</font>]  ]
  <b><font color=#3a6797>set</font></b> long1 [msgcat::mc {And well fit for programming with it.}]
  <b><font color=#3a6797>set</font></b> long2 __________________________________________
  <b><font color=#3a6797>set</font></b> long3 [<b><font color=#3a6797>info</font></b> nameofexecutable]
  <b><font color=#3a6797>set</font></b> msg <font color=#7d1a1a>&quot;  &lt;red&gt;alited v<font color=#1b1baa>[</font>package require alited<font color=#1b1baa>]</font>&lt;/red&gt; <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>stands for<font color=#1b1baa>}]</font> \&quot;a lite editor\&quot;.\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Written in pure Tcl/Tk.<font color=#1b1baa>}]</font> \n  <font color=#1b1baa>$</font>long1\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Details:<font color=#1b1baa>}]</font> \n\n  \u2022 &lt;link1&gt;aplsimple.github.io/en/tcl/alited&lt;/link1&gt;\n  \u2022 &lt;link1&gt;github.com/aplsimple/alited&lt;/link1&gt;\n  \u2022 &lt;link1&gt;chiselapp.com/user/aplsimple/repository/alited&lt;/link1&gt;\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Authors:<font color=#1b1baa>}]</font> \n\n  \u2022 &lt;linkapl&gt;Alex Plotnikov&lt;/linkapl&gt;\n\n  <font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>License:<font color=#1b1baa>}]</font> &lt;linkMIT&gt;MIT&lt;/linkMIT&gt;\n  <font color=#1b1baa>$</font>long2\n  \n  &lt;red&gt; <font color=#1b1baa>$</font>long3 &lt;/red&gt;\n  \n  &lt;red&gt; <font color=#1b1baa>$</font>alited::tcltk_version &lt;/red&gt; &lt;link2&gt;&lt;/link2&gt;\n  \n  &lt;red&gt; <font color=#1b1baa>$</font>::tcl_platform(os) <font color=#1b1baa>$</font>::tcl_platform(osVersion) &lt;/red&gt;&quot;</font>
  <b><font color=#3a6797>set</font></b> wmax [<b><font color=#3a6797>expr</font></b> {4+max([<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$long1</font>],  [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$long2</font>],[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$long3</font>])}]
  <b><font color=#3a6797>set</font></b> ackn [msgcat::mc <font color=#7d1a1a>&quot;Many thanks to the following people\n who have contributed to this project&quot;</font>]
  <b><font color=#3a6797>set</font></b> spec [msgcat::mc <font color=#7d1a1a>&quot;Special thanks also to&quot;</font>]
  <b><font color=#3a6797>set</font></b> ::alited::AcknText <font color=#7d1a1a>&quot;\n <font color=#1b1baa>$</font>ackn\n\n  \u2022 &lt;linkSH&gt;Steve Huntley&lt;/linkSH&gt;\n  \u2022 &lt;linkHE&gt;Holger Ewert&lt;/linkHE&gt;\n  \u2022 &lt;linkCN&gt;Csaba Nemethi&lt;/linkCN&gt;\n  \u2022 &lt;linkPO&gt;Paul Obermeier&lt;/linkPO&gt;\n  \n <font color=#1b1baa>$</font>spec\n\n  \u2022 &lt;linkRS&gt;Richard Suchenwirth&lt;/linkRS&gt;\n  \u2022 &lt;linkJO&gt;Johann Oberdorfer&lt;/linkJO&gt;\n  \u2022 &lt;linkRD&gt;rdbende&lt;/linkRD&gt;\n  \u2022 &lt;linkPW&gt;Paul Walton&lt;/linkPW&gt;\n  \u2022 &lt;linkJS&gt;Jeff Smith&lt;/linkJS&gt;\n  \u2022 &lt;linkTW&gt;Trevor Williams&lt;/linkTW&gt;\n  \u2022 &lt;linkAN&gt;Ashok P. Nadkarni&lt;/linkAN&gt;\n  \u2022 &lt;linkDF&gt;Donal K. Fellows&lt;/linkDF&gt;\n  \u2022 &lt;linkRK&gt;Roy Keene&lt;/linkRK&gt;\n  &quot;</font>
  <b><font color=#3a6797>set</font></b> tab2 [<b><font color=#3a6797>list</font></b> Information Acknowledgements <font color=#7d1a1a>&quot;<font color=#1b1baa>{</font>fra - - 1 99 <font color=#1b1baa>{</font>-st nsew -rw 1 -cw 1<font color=#1b1baa>}}</font> <font color=#1b1baa>{</font>.TexAckn - - - - <font color=#1b1baa>{</font>pack -side left -expand 1 -fill both<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-w <font color=#1b1baa>$</font>wmax -h 31 -rotext ::alited::AcknText -tags ::alited::about::textTags<font color=#1b1baa>}}</font> <font color=#1b1baa>{</font>.sbv .texAckn L - - <font color=#1b1baa>{</font>pack -side right<font color=#1b1baa>}}</font>&quot;</font>]
  ::alited::msg ok {} <font color=#1b1baa>$msg</font>  <font color=#6c3e67>-title</font> [msgcat::mc About] <font color=#6c3e67>-t</font> 1 <font color=#6c3e67>-w</font> <font color=#1b1baa>$wmax</font> <font color=#6c3e67>-h</font> {30 30} <font color=#6c3e67>-scroll</font> 0  <font color=#6c3e67>-tags</font> alited::about::textTags <font color=#6c3e67>-my</font> <font color=#7d1a1a>&quot;after idle <font color=#1b1baa>{</font>alited::about::textImaged %w<font color=#1b1baa>}</font>&quot;</font>  <font color=#6c3e67>-tab2</font> <font color=#1b1baa>$tab2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::about::textImaged'>textImaged</a><span class='ns_scope'> [<a href="alited.html#::alited::about" title="::alited::about" class='ruff_cmd'>::alited::about</a>]</span><span class='tinylink'><a href='alited.html#::alited::about'>about</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes the feather blink.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>textImaged</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>window's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_23' href="javascript:toggleSource('23')">Show source</a></p>
<div id='23' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::about::textImaged {w} {

  <i><font color=#4b5d50># Makes the feather blink.</font></i>
  <i><font color=#4b5d50>#  w - window's path</font></i>

  ::apave::obj labelFlashing [::apave::obj textLink <font color=#1b1baa>$w</font> 5] <font color=#7d1a1a>&quot;&quot;</font> 1  <font color=#6c3e67>-data</font> <font color=#1b1baa>$::alited::img::_AL_IMG(feather)</font> <font color=#6c3e67>-pause</font> 0.5 <font color=#6c3e67>-incr</font> 0.1 <font color=#6c3e67>-after</font> 40
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::bar'></a>::alited::bar<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::bar-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::bar::BAR'>BAR</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs the tab bar's method.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BAR</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>method's name and its arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_24' href="javascript:toggleSource('24')">Show source</a></p>
<div id='24' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::BAR {args} {

  <i><font color=#4b5d50># Runs the tab bar's method.</font></i>
  <i><font color=#4b5d50>#   args - method's name and its arguments</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#ca14ca>return</font></b> [al(bts) <font color=#1b1baa>$al(BID)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::ColorBar'>ColorBar</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes the bar of tabs to have a &quot;marked tab&quot; color consistent with current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorBar</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_25' href="javascript:toggleSource('25')">Show source</a></p>
<div id='25' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::ColorBar {} {

  <i><font color=#4b5d50># Makes the bar of tabs to have a &quot;marked tab&quot; color</font></i>
  <i><font color=#4b5d50># consistent with current color scheme.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> cs [<font color=#1b1baa>$obPav</font> csCurrent]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cs</font>&gt;-1} {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> csGet <font color=#1b1baa>$cs</font>] cfg2 cfg1 cbg2 cbg1 cfhh - - - - - - - - - - - - fgmark
    BAR configure <font color=#6c3e67>-fgmark</font> <font color=#1b1baa>$fgmark</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::ControlTab'>ControlTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches between last two active tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ControlTab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_26' href="javascript:toggleSource('26')">Show source</a></p>
<div id='26' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::ControlTab {} {

  <i><font color=#4b5d50># Switches between last two active tabs.</font></i>

  <b><font color=#3a6797>variable</font></b> ctrltablist
  <b><font color=#3a6797>set</font></b> fname [CurrentControlTab]
  <b><font color=#3a6797>set</font></b> found no
  <b><font color=#3a6797>while</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ctrltablist</font>]} {
    <b><font color=#3a6797>set</font></b> fnext [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$ctrltablist</font> 0]
    <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
      <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnext</font> eq [FileName <font color=#1b1baa>$TID</font>]} {
        <b><font color=#3a6797>set</font></b> found yes
        <b><font color=#3a6797>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font>} <b><font color=#3a6797>break</font></b>
    <i><font color=#4b5d50># if the file was closed, remove it from the ctrl-tabbed</font></i>
    <b><font color=#3a6797>set</font></b> ctrltablist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$ctrltablist</font> 0 0]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font>} {
    CurrentControlTab <font color=#1b1baa>$fname</font>
    BAR <font color=#1b1baa>$TID</font> show
  }
  <b><font color=#3a6797>after</font></b> idle {<b><font color=#134070>focus</font></b> [alited::main::CurrentWTXT]}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentControlTab'>CurrentControlTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Keeps a list of last switched files, to switch between last two.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentControlTab</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_27' href="javascript:toggleSource('27')">Show source</a></p>
<div id='27' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CurrentControlTab {{fname {}}} {

  <i><font color=#4b5d50># Keeps a list of last switched files, to switch between last two.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>variable</font></b> ctrltablist
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ret [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$fname</font> eq {}}]]} {
    <b><font color=#3a6797>set</font></b> fname [FileName]
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$ctrltablist</font> <font color=#1b1baa>$fname</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> ctrltablist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$ctrltablist</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ret</font>} {
    <b><font color=#3a6797>set</font></b> ctrltablist [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$ctrltablist</font> 1 <font color=#1b1baa>$fname</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> ctrltablist [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$ctrltablist</font> 0 <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentTab'>CurrentTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an attribute of the current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentTab</span> <span class='ruff_arg'>io ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>io</code></code></td><td class='ruff_defitem'>0 to get ID, 1 - short name (tab label), 2 - full name, 3 - index</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_28' href="javascript:toggleSource('28')">Show source</a></p>
<div id='28' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CurrentTab {io {TID {}}} {

  <i><font color=#4b5d50># Gets an attribute of the current tab.</font></i>
  <i><font color=#4b5d50>#   io - 0 to get ID, 1 - short name (tab label), 2 - full name, 3 - index</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [CurrentTabID]}
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$io</font> {
    0 {<b><font color=#3a6797>set</font></b> res <font color=#1b1baa>$TID</font>}
    1 {<b><font color=#3a6797>set</font></b> res [BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-text</font>]}
    2 {<b><font color=#3a6797>set</font></b> res [FileName <font color=#1b1baa>$TID</font>]}
    3 {<b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 [BAR listTab] <font color=#1b1baa>$TID</font>]}
    <b><font color=#3a6797>default</font></b> {<b><font color=#3a6797>set</font></b> res {}}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::CurrentTabID'>CurrentTabID</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID of the current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentTabID</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_29' href="javascript:toggleSource('29')">Show source</a></p>
<div id='29' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::CurrentTabID {} {

  <i><font color=#4b5d50># Gets ID of the current tab.</font></i>

  <b><font color=#ca14ca>return</font></b> [BAR cget <font color=#6c3e67>-tabcurrent</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::DisableTabLeft'>DisableTabLeft</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for left tabs to disable &quot;select all at left&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisableTabLeft</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1, if no left tab exists, thus disabling the menu's item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_30' href="javascript:toggleSource('30')">Show source</a></p>
<div id='30' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::DisableTabLeft {tab} {

  <i><font color=#4b5d50># Checks for left tabs to disable &quot;select all at left&quot;.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>
  <i><font color=#4b5d50># Returns 1, if no left tab exists, thus disabling the menu's item.</font></i>

  <b><font color=#3a6797>set</font></b> i [CurrentTab 3 <font color=#1b1baa>$tab</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>} {<b><font color=#ca14ca>return</font></b> 0}
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::DisableTabRight'>DisableTabRight</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for right tabs to disable &quot;select all at right&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisableTabRight</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1, if no right tab exists, thus disabling the menu's item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_31' href="javascript:toggleSource('31')">Show source</a></p>
<div id='31' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::DisableTabRight {tab} {

  <i><font color=#4b5d50># Checks for right tabs to disable &quot;select all at right&quot;.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>
  <i><font color=#4b5d50># Returns 1, if no right tab exists, thus disabling the menu's item.</font></i>

  <b><font color=#3a6797>set</font></b> i [CurrentTab 3 <font color=#1b1baa>$tab</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> &lt; ([<b><font color=#3a6797>llength</font></b> [BAR listTab]]-1)} {<b><font color=#ca14ca>return</font></b> 0}
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FileName'>FileName</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileName</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_32' href="javascript:toggleSource('32')">Show source</a></p>
<div id='32' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::FileName {{TID {}}} {

  <i><font color=#4b5d50># Gets a file name of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [CurrentTabID]}
  <b><font color=#3a6797>set</font></b> tip [BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-tip</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tip</font> \n] 0]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FileTID'>FileTID</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tab's ID of a file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileTID</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_33' href="javascript:toggleSource('33')">Show source</a></p>
<div id='33' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::FileTID {fname} {

  <i><font color=#4b5d50># Gets a tab's ID of a file name.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>set</font></b> TID {}
  <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID2 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq [FileName <font color=#1b1baa>$TID2</font>]} {
      <b><font color=#3a6797>set</font></b> TID <font color=#1b1baa>$TID2</font>
      <b><font color=#3a6797>break</font></b>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::FillBar'>FillBar</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills the bar of tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillBar</span> <span class='ruff_arg'>wframe ?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wframe</code></code></td><td class='ruff_defitem'>frame's path to place the bar in</td></tr>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>if yes, creates the bar from scratch; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_34' href="javascript:toggleSource('34')">Show source</a></p>
<div id='34' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::FillBar {wframe {newproject no}} {

  <i><font color=#4b5d50># Fills the bar of tabs.</font></i>
  <i><font color=#4b5d50>#   wframe - frame's path to place the bar in</font></i>
  <i><font color=#4b5d50>#   newproject - if yes, creates the bar from scratch</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wbase [<font color=#1b1baa>$obPav</font> LbxInfo]
  <b><font color=#3a6797>set</font></b> lab0 [msgcat::mc (Un)Select]
  <b><font color=#3a6797>set</font></b> lab1 [msgcat::mc {... Visible}]
  <b><font color=#3a6797>set</font></b> lab2 [msgcat::mc {... All at Left}]
  <b><font color=#3a6797>set</font></b> lab3 [msgcat::mc {... All at Right}]
  <b><font color=#3a6797>set</font></b> lab4 [msgcat::mc {... All}]
  <b><font color=#3a6797>set</font></b> bar1Opts [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-wbar</font> <font color=#1b1baa>$wframe</font> <font color=#6c3e67>-wbase</font> <font color=#1b1baa>$wbase</font> <font color=#6c3e67>-pady</font> 2 <font color=#6c3e67>-scrollsel</font> no <font color=#6c3e67>-lifo</font> yes  <font color=#6c3e67>-lowlist</font> <font color=#1b1baa>$al(FONTSIZE,small)</font> <font color=#6c3e67>-lablen</font> <font color=#1b1baa>$al(INI,barlablen)</font> <font color=#6c3e67>-tiplen</font> <font color=#1b1baa>$al(INI,bartiplen)</font>  <font color=#6c3e67>-bg</font> [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$obPav</font> csGet] 3] <font color=#6c3e67>-popuptip</font> ::alited::bar::PopupTip <font color=#6c3e67>-menu</font> [<b><font color=#3a6797>list</font></b>  sep  <font color=#7d1a1a>&quot;com <font color=#1b1baa>{$</font>lab0<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTab %t<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font>&quot;</font>  <font color=#7d1a1a>&quot;com <font color=#1b1baa>{$</font>lab1<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabVis<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font>&quot;</font>  <font color=#7d1a1a>&quot;com <font color=#1b1baa>{$</font>lab2<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabLeft %t<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{{</font>\[::alited::bar::DisableTabLeft %t\]<font color=#1b1baa>}}</font>&quot;</font>  <font color=#7d1a1a>&quot;com <font color=#1b1baa>{$</font>lab3<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabRight %t<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{{</font>\[::alited::bar::DisableTabRight %t\]<font color=#1b1baa>}}</font>&quot;</font>  <font color=#7d1a1a>&quot;com <font color=#1b1baa>{$</font>lab4<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::bar::SelTabAll<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font>&quot;</font>]  <font color=#6c3e67>-separator</font> no <font color=#6c3e67>-font</font> apaveFontDefTypedsmall  <font color=#6c3e67>-csel2</font> {alited::bar::OnTabSelection %t}  <font color=#6c3e67>-cdel</font> {alited::file::CloseFile %t}  <font color=#6c3e67>-cmov2</font> alited::bar::OnTabMove]
  <b><font color=#3a6797>set</font></b> tabs [<b><font color=#3a6797>set</font></b> files [<b><font color=#3a6797>set</font></b> posis [<b><font color=#3a6797>list</font></b>]]]
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$al(tabs)</font> {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tab</font> \t] tab pos
    <b><font color=#3a6797>lappend</font></b> files <font color=#1b1baa>$tab</font>
    <b><font color=#3a6797>lappend</font></b> posis <font color=#1b1baa>$pos</font>
    <b><font color=#3a6797>set</font></b> tab [UniqueTab <font color=#1b1baa>$tabs</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$tab</font>]]
    <b><font color=#3a6797>lappend</font></b> tabs <font color=#1b1baa>$tab</font>
    <b><font color=#3a6797>lappend</font></b> bar1Opts <font color=#6c3e67>-tab</font> <font color=#1b1baa>$tab</font>
  }
  <b><font color=#3a6797>set</font></b> curname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$al(curtab)</font>]
  <b><font color=#3a6797>catch</font></b> {::bartabs::Bars create al(bts)}   ;<i><font color=#4b5d50># al(bts) is Bars object</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newproject</font> || [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(BID) [al(bts) create al(bt) <font color=#1b1baa>$bar1Opts</font> <font color=#1b1baa>$curname</font>]}]} {
    <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {BAR insertTab <font color=#1b1baa>$tab</font>}
  }
  <b><font color=#3a6797>set</font></b> tabs [BAR listTab]
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> fname <font color=#1b1baa>$files</font> pos <font color=#1b1baa>$posis</font> {
    <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    SetTabState <font color=#1b1baa>$tid</font> -<font color=#6c3e67>-fname</font> <font color=#1b1baa>$fname</font> -<font color=#6c3e67>-pos</font> <font color=#1b1baa>$pos</font>
    BAR <font color=#1b1baa>$tid</font> configure <font color=#6c3e67>-tip</font> [alited::file::FileStat <font color=#1b1baa>$fname</font>]
  }
  <b><font color=#3a6797>set</font></b> curname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$files</font> <font color=#1b1baa>$al(curtab)</font>]
  SetBarState -1 <font color=#1b1baa>$curname</font> [<font color=#1b1baa>$obPav</font> Text] [<font color=#1b1baa>$obPav</font> SbvText]
  ColorBar
  alited::file::CheckForNew
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::GetBarState'>GetBarState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets attributes of a tab that are specific for alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetBarState</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_35' href="javascript:toggleSource('35')">Show source</a></p>
<div id='35' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::GetBarState {} {

  <i><font color=#4b5d50># Gets attributes of a tab that are specific for alited.</font></i>

  <b><font color=#ca14ca>return</font></b> [BAR cget <font color=#6c3e67>-ALITED</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::GetTabState'>GetTabState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets attributes of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTabState</span> <span class='ruff_arg'>?TID? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID (current one by default); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_36' href="javascript:toggleSource('36')">Show source</a></p>
<div id='36' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::GetTabState {{TID {}} args} {

  <i><font color=#4b5d50># Gets attributes of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID (current one by default)</font></i>
  <i><font color=#4b5d50>#   args - list of attributes + values</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [CurrentTabID]}
  <b><font color=#3a6797>if</font></b> {![BAR isTab <font color=#1b1baa>$TID</font>]} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#ca14ca>return</font></b> [BAR <font color=#1b1baa>$TID</font> cget {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::InsertTab'>InsertTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a new tab into the beginning of bar of tabs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertTab</span> <span class='ruff_arg'>tab tip</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>the tab</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>the tab's tip</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_37' href="javascript:toggleSource('37')">Show source</a></p>
<div id='37' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::InsertTab {tab tip} {

  <i><font color=#4b5d50># Inserts a new tab into the beginning of bar of tabs.</font></i>
  <i><font color=#4b5d50>#   tab - the tab</font></i>
  <i><font color=#4b5d50>#   tip - the tab's tip</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> TID [BAR insertTab <font color=#1b1baa>$tab</font> 0]
  BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-tip</font> <font color=#1b1baa>$tip</font>
  SetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-fname</font> <font color=#1b1baa>$tip</font>
  alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onadd)</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnTabMove'>OnTabMove</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles moving a tab in the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnTabMove</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_38' href="javascript:toggleSource('38')">Show source</a></p>
<div id='38' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::OnTabMove {} {

  <i><font color=#4b5d50># Handles moving a tab in the bar.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onmove)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::OnTabSelection'>OnTabSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles selecting a tab in the bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OnTabSelection</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_39' href="javascript:toggleSource('39')">Show source</a></p>
<div id='39' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::OnTabSelection {TID} {

  <i><font color=#4b5d50># Handles selecting a tab in the bar.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fname [FileName <font color=#1b1baa>$TID</font>]
  alited::main::ShowText
  alited::file::SbhText
  alited::find::ClearTags
  alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onselect)</font>
  alited::edit::CheckSaveIcons [alited::file::IsModified <font color=#1b1baa>$TID</font>]
  alited::edit::CheckUndoRedoIcons [alited::main::CurrentWTXT] <font color=#1b1baa>$TID</font>
  <b><font color=#3a6797>if</font></b> {[alited::file::IsTcl <font color=#1b1baa>$fname</font>]} {<b><font color=#3a6797>set</font></b> indst normal} {<b><font color=#3a6797>set</font></b> indst disabled}
  <font color=#1b1baa>$al(MENUEDIT)</font> entryconfigure 5 <font color=#6c3e67>-state</font> <font color=#1b1baa>$indst</font>
  <b><font color=#3a6797>if</font></b> {[alited::edit::CommentChar] ne {}} {<b><font color=#3a6797>set</font></b> cmnst normal} {<b><font color=#3a6797>set</font></b> cmnst disabled}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]] ne {}} {
    <b><font color=#3a6797>set</font></b> al(wrapwords) [<b><font color=#3a6797>expr</font></b> {[<font color=#1b1baa>$wtxt</font> cget <font color=#6c3e67>-wrap</font>] eq {word}}]
  }
  CurrentControlTab <font color=#1b1baa>$fname</font>
  alited::menu::FillRunItems <font color=#1b1baa>$fname</font>
  alited::main::HighlightLine
  <b><font color=#3a6797>lassign</font></b> [alited::main::CalcIndentation] indent indentchar
  ::apave::setTextIndent <font color=#1b1baa>$indent</font> <font color=#1b1baa>$indentchar</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindentAuto)</font>} {alited::main::UpdateProjectInfo <font color=#1b1baa>$indent</font>}
  alited::menu::CheckPrjItems
  <b><font color=#3a6797>after</font></b> 10 ::alited::tree::SeeSelection
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::PopupTip'>PopupTip</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes tooltips (full file names) for popup menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupTip</span> <span class='ruff_arg'>wmenu idx TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wmenu</code></code></td><td class='ruff_defitem'>path to popup menu</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of item</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of item's tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_40' href="javascript:toggleSource('40')">Show source</a></p>
<div id='40' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::PopupTip {wmenu idx TID} {

  <i><font color=#4b5d50># Makes tooltips (full file names) for popup menu items.</font></i>
  <i><font color=#4b5d50># wmenu - path to popup menu</font></i>
  <i><font color=#4b5d50># idx - index of item</font></i>
  <i><font color=#4b5d50># TID - ID of item's tab</font></i>

  ::baltip::tip <font color=#1b1baa>$wmenu</font> [FileName <font color=#1b1baa>$TID</font>] <font color=#6c3e67>-index</font> <font color=#1b1baa>$idx</font> <font color=#6c3e67>-pause</font> 800
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTab'>SelTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a tab selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTab</span> <span class='ruff_arg'>tab ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if 1, selects the tab; <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_41' href="javascript:toggleSource('41')">Show source</a></p>
<div id='41' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTab {tab {mode -1}} {

  <i><font color=#4b5d50># Makes a tab selected / unselected.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>
  <i><font color=#4b5d50>#   mode - if 1, selects the tab</font></i>

  <b><font color=#3a6797>set</font></b> selected [BAR cget <font color=#6c3e67>-select</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> == 1 || <font color=#1b1baa>$tab</font> in <font color=#1b1baa>$selected</font>} {
    BAR unselectTab <font color=#1b1baa>$tab</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$mode</font> == 0 || <font color=#1b1baa>$tab</font> ni <font color=#1b1baa>$selected</font>} {
    BAR selectTab <font color=#1b1baa>$tab</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabAll'>SelTabAll</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_42' href="javascript:toggleSource('42')">Show source</a></p>
<div id='42' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabAll {} {

  <i><font color=#4b5d50># Makes all tabs selected / unselected.</font></i>

  <b><font color=#3a6797>set</font></b> mode [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> [BAR cget <font color=#6c3e67>-select</font>]]&gt;0}]
  <b><font color=#3a6797>foreach</font></b> tab [BAR listTab] {
    SelTab [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0] <font color=#1b1baa>$mode</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabLeft'>SelTabLeft</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all left tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabLeft</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_43' href="javascript:toggleSource('43')">Show source</a></p>
<div id='43' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabLeft {tab} {

  <i><font color=#4b5d50># Makes all left tabs selected / unselected.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>

  <b><font color=#3a6797>foreach</font></b> t [BAR listTab] {
    <b><font color=#3a6797>set</font></b> t [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$t</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$t</font> eq <font color=#1b1baa>$tab</font>} <b><font color=#3a6797>break</font></b>
    SelTab <font color=#1b1baa>$t</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabRight'>SelTabRight</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes all right tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabRight</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_44' href="javascript:toggleSource('44')">Show source</a></p>
<div id='44' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabRight {tab} {

  <i><font color=#4b5d50># Makes all right tabs selected / unselected.</font></i>
  <i><font color=#4b5d50>#   tab - tab's ID</font></i>

  <b><font color=#3a6797>set</font></b> cntrd no
  <b><font color=#3a6797>foreach</font></b> t [BAR listTab] {
    <b><font color=#3a6797>set</font></b> t [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$t</font> 0]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$t</font> eq <font color=#1b1baa>$tab</font>} {
      <b><font color=#3a6797>set</font></b> cntrd yes
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$cntrd</font>} {
      SelTab <font color=#1b1baa>$t</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SelTabVis'>SelTabVis</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes visible tabs selected / unselected.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelTabVis</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_45' href="javascript:toggleSource('45')">Show source</a></p>
<div id='45' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SelTabVis {} {

  <i><font color=#4b5d50># Makes visible tabs selected / unselected.</font></i>

  <b><font color=#3a6797>foreach</font></b> tab [BAR listFlag v] {
    SelTab <font color=#1b1baa>$tab</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SetBarState'>SetBarState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets attributes of the tab bar that are specific for alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetBarState</span> <span class='ruff_arg'>TID ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_46' href="javascript:toggleSource('46')">Show source</a></p>
<div id='46' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SetBarState {TID args} {

  <i><font color=#4b5d50># Sets attributes of the tab bar that are specific for alited.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   args - list of attributes + values</font></i>

  BAR configure <font color=#6c3e67>-ALITED</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::SetTabState'>SetTabState</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets attributes of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTabState</span> <span class='ruff_arg'>TID ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of attributes + values</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_47' href="javascript:toggleSource('47')">Show source</a></p>
<div id='47' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::SetTabState {TID args} {

  <i><font color=#4b5d50># Sets attributes of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   args - list of attributes + values</font></i>

  <b><font color=#3a6797>if</font></b> {![BAR isTab <font color=#1b1baa>$TID</font>]} <b><font color=#ca14ca>return</font></b>
  BAR <font color=#1b1baa>$TID</font> configure {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::UniqueListTab'>UniqueListTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a unique tab name for a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UniqueListTab</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a unique tab name for a file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_48' href="javascript:toggleSource('48')">Show source</a></p>
<div id='48' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::UniqueListTab {fname} {

  <i><font color=#4b5d50># Returns a unique tab name for a file.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
  <b><font color=#3a6797>set</font></b> tab [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#ca14ca>return</font></b> [UniqueTab <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$tab</font> <font color=#6c3e67>-index</font> 1]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::bar::UniqueTab'>UniqueTab</a><span class='ns_scope'> [<a href="alited.html#::alited::bar" title="::alited::bar" class='ruff_cmd'>::alited::bar</a>]</span><span class='tinylink'><a href='alited.html#::alited::bar'>bar</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a unique name for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UniqueTab</span> <span class='ruff_arg'>tabs tab ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tabs</code></code></td><td class='ruff_defitem'>list of tabs</td></tr>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>tab name to be checked for its duplicate</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of lsearch to find a duplicate name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If some file has a tail name (tab name) equal to an existing one's, the new tab name should get &quot;(N)&quot; suffix to be unique. This is required by bartabs package: no duplicates allowed.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a unique name for a tab.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_49' href="javascript:toggleSource('49')">Show source</a></p>
<div id='49' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::bar::UniqueTab {tabs tab args} {

  <i><font color=#4b5d50># Returns a unique name for a tab.</font></i>
  <i><font color=#4b5d50>#   tabs - list of tabs</font></i>
  <i><font color=#4b5d50>#   tab - tab name to be checked for its duplicate</font></i>
  <i><font color=#4b5d50>#   args - options of lsearch to find a duplicate name</font></i>
  <i><font color=#4b5d50># If some file has a tail name (tab name) equal to an existing one's,</font></i>
  <i><font color=#4b5d50># the new tab name should get &quot;(N)&quot; suffix to be unique.</font></i>
  <i><font color=#4b5d50># This is required by bartabs package: no duplicates allowed.</font></i>

  <b><font color=#3a6797>set</font></b> cnttab 1
  <b><font color=#3a6797>set</font></b> taborig <font color=#1b1baa>$tab</font>
  <b><font color=#3a6797>while</font></b> {1} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$tab</font>]==-1} <b><font color=#3a6797>break</font></b>
    <b><font color=#3a6797>set</font></b> tab <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>taborig (<font color=#1b1baa>[</font>incr cnttab<font color=#1b1baa>]</font>)&quot;</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tab</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::check'></a>::alited::check<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::check-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::check::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Checking&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_50' href="javascript:toggleSource('50')">Show source</a></p>
<div id='50' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::_create {} {

  <i><font color=#4b5d50># Creates &quot;Checking&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obCHK obCHK
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <font color=#1b1baa>$obCHK</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#1b1baa>$al(MC,checktcl)</font>
  <font color=#1b1baa>$obCHK</font> paveWindow <font color=#1b1baa>$win</font>.fra {
    {v_ - -}
    {labHead v_ T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Checks available:&quot;</font>}}
    {chb1 labHead T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> alited::check::chBrace <font color=#6c3e67>-t</font> {Consistency of {} }}}
    {chb2 chb1 T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> alited::check::chBracket <font color=#6c3e67>-t</font> {Consistency of []}}}
    {chb3 chb2 T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> alited::check::chParenthesis <font color=#6c3e67>-t</font> {Consistency of ()}}}
    {chb4 chb3 T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> alited::check::chQuotes <font color=#6c3e67>-t</font> {Consistency of <font color=#7d1a1a>&quot;&quot;</font>}}}
    {chb9 chb4 T 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 22} {<font color=#6c3e67>-var</font> alited::check::chDuplUnits <font color=#6c3e67>-t</font> {Duplicate units}}}
    {v_2 chb9 T}
    {fra v_2 T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {fra.lab - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Check:&quot;</font>}}
    {fra.radA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 9}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;current file&quot;</font> <font color=#6c3e67>-var</font> ::alited::check::what <font color=#6c3e67>-value</font> 1}}
    {fra.radB - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 9}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;all of session files&quot;</font> <font color=#6c3e67>-var</font> ::alited::check::what <font color=#6c3e67>-value</font> 2}}
    {fra2 fra T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {.butHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Help&quot;</font> <font color=#6c3e67>-command</font> ::alited::check::Help}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}}
    {.ButOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Check&quot;</font> <font color=#6c3e67>-command</font> ::alited::check::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-command</font> ::alited::check::Cancel}}
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> geo <font color=#1b1baa>$al(checkgeo)</font>] ne {}} {
    <b><font color=#3a6797>set</font></b> geo [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$geo</font> [<b><font color=#3a6797>string</font></b> first + <font color=#1b1baa>$geo</font>] end]
    <b><font color=#3a6797>set</font></b> geo <font color=#7d1a1a>&quot;-geometry <font color=#1b1baa>$</font>geo&quot;</font>
  }
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obCHK</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-resizable</font> {0 0} <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obCHK</font> ButOK]  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font> <font color=#6c3e67>-modal</font> no <font color=#6c3e67>-onclose</font> alited::check::Cancel]
  <b><font color=#3a6797>set</font></b> al(checkgeo) [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font>} {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Checking&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_51' href="javascript:toggleSource('51')">Show source</a></p>
<div id='51' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::_run {} {

  <i><font color=#4b5d50># Runs &quot;Checking&quot; dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
    <b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> <font color=#1b1baa>$win</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>while</font></b> {1} {
    <b><font color=#3a6797>if</font></b> {[_create]} {
      Check
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>break</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_52' href="javascript:toggleSource('52')">Show source</a></p>
<div id='52' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::Cancel {args} {

  <i><font color=#4b5d50># Handles hitting &quot;Cancel&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obCHK obCHK
  <b><font color=#3a6797>variable</font></b> win
  <font color=#1b1baa>$obCHK</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Check'>Check</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs checking.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Check</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_53' href="javascript:toggleSource('53')">Show source</a></p>
<div id='53' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::Check {} {

  <i><font color=#4b5d50># Runs checking.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> what
  <b><font color=#3a6797>variable</font></b> errors
  <b><font color=#3a6797>variable</font></b> fileerrors
  alited::info::Clear
  alited::info::Put <font color=#1b1baa>$al(MC,wait)</font> {} yes yes
  <b><font color=#3a6797>set</font></b> errors [<b><font color=#3a6797>set</font></b> fileerrors 0]
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$what</font> {
    1 CheckFile
    2 CheckAll
  }
  alited::info::Clear 0
  ShowResults
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckAll'>CheckAll</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks all files of session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_54' href="javascript:toggleSource('54')">Show source</a></p>
<div id='54' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::CheckAll {} {

  <i><font color=#4b5d50># Checks all files of session.</font></i>

  <b><font color=#3a6797>update</font></b>
  <b><font color=#3a6797>set</font></b> allfnd [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    alited::file::ReadFileByTID <font color=#1b1baa>$TID</font>
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font>] curfile wtxt
    CheckFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckFile'>CheckFile</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckFile</span> <span class='ruff_arg'>?fname? ?wtxt? ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the file's text widget; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>the file's tab ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_55' href="javascript:toggleSource('55')">Show source</a></p>
<div id='55' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::CheckFile {{fname {}} {wtxt {}} {TID {}}} {

  <i><font color=#4b5d50># Checks a file.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   wtxt - the file's text widget</font></i>
  <i><font color=#4b5d50>#   TID - the file's tab ID</font></i>

  <b><font color=#3a6797>variable</font></b> errors
  <b><font color=#3a6797>variable</font></b> fileerrors
  <b><font color=#3a6797>variable</font></b> errors1
  <b><font color=#3a6797>variable</font></b> errors2
  <b><font color=#3a6797>variable</font></b> errors3
  <b><font color=#3a6797>variable</font></b> errors4
  <b><font color=#3a6797>variable</font></b> chDuplUnits
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} {
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  }
  <b><font color=#3a6797>if</font></b> {![alited::file::IsTcl <font color=#1b1baa>$fname</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> curfile [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> textcont [<font color=#1b1baa>$wtxt</font> get 1.0 end]
  <b><font color=#3a6797>set</font></b> unittree [alited::unit::GetUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$textcont</font>]
  <i><font color=#4b5d50># check for errors of a whole file</font></i>
  <b><font color=#3a6797>set</font></b> errors1 [<b><font color=#3a6797>set</font></b> errors2 [<b><font color=#3a6797>set</font></b> errors3 [<b><font color=#3a6797>set</font></b> errors4 0]]]
  <b><font color=#3a6797>set</font></b> fileerrs [CheckUnit <font color=#1b1baa>$wtxt</font> 1.0 end]
  <i><font color=#4b5d50># check for duplicate units</font></i>
  <b><font color=#3a6797>set</font></b> errduplist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chDuplUnits</font>} {
    <b><font color=#3a6797>set</font></b> prevtitle <font color=#7d1a1a>&quot;\{\$\}&quot;</font>
    <b><font color=#3a6797>set</font></b> errmsg [msgcat::mc {duplicate unit:}]
    <b><font color=#3a6797>set</font></b> uniterr 0
    <b><font color=#3a6797>foreach</font></b> item [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-index</font> 3 <font color=#1b1baa>$unittree</font>] {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prevtitle</font> eq <font color=#1b1baa>$title</font>} {
        <b><font color=#3a6797>set</font></b> uniterr 1
        <b><font color=#3a6797>lappend</font></b> errduplist [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>curfile: <font color=#1b1baa>$</font>errmsg <font color=#1b1baa>$</font>title&quot;</font> <font color=#1b1baa>$l1</font>]
      }
      <b><font color=#3a6797>set</font></b> prevtitle <font color=#1b1baa>$title</font>
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$fileerrs</font>} {<b><font color=#3a6797>set</font></b> fileerrs <font color=#1b1baa>$uniterr</font>}
  }
  <i><font color=#4b5d50># put a whole file's statistics on errors</font></i>
  <b><font color=#3a6797>incr</font></b> fileerrors <font color=#1b1baa>$fileerrs</font>
  <b><font color=#3a6797>set</font></b> und [<b><font color=#3a6797>string</font></b> repeat _ 30]
  <b><font color=#3a6797>set</font></b> pos1 [alited::bar::GetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-pos</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> $<font color=#1b1baa>$pos1</font>]} {<b><font color=#3a6797>set</font></b> pos1 1.0}
  <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos1</font>)}]]
  alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>und <font color=#1b1baa>$</font>fileerrs (<font color=#1b1baa>$</font>errors1/<font color=#1b1baa>$</font>errors2/<font color=#1b1baa>$</font>errors3/<font color=#1b1baa>$</font>errors4) file errors of <font color=#1b1baa>$</font>curfile <font color=#1b1baa>$</font>und<font color=#1b1baa>$</font>und<font color=#1b1baa>$</font>und&quot;</font> <font color=#1b1baa>$info</font>
  <i><font color=#4b5d50># put a list of duplicate units</font></i>
  <b><font color=#3a6797>foreach</font></b> errdup <font color=#1b1baa>$errduplist</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$errdup</font> msg pos1
    alited::info::Put <font color=#1b1baa>$msg</font> [PosInfo <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos1</font>]
  }
  <i><font color=#4b5d50># check for errors of specific units</font></i>
  <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$unittree</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$leaf</font> || <font color=#1b1baa>$title</font> eq {}} <b><font color=#3a6797>continue</font></b>
    <b><font color=#3a6797>set</font></b> title <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>curfile: <font color=#1b1baa>$</font>title&quot;</font>
    <b><font color=#3a6797>set</font></b> err [CheckUnit <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end <font color=#1b1baa>$TID</font> <font color=#1b1baa>$title</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} {
      <b><font color=#3a6797>incr</font></b> errors <font color=#1b1baa>$err</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::CheckUnit'>CheckUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks a unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUnit</span> <span class='ruff_arg'>wtxt pos1 pos2 ?TID? ?title?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position of the unit in the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>ending position of the unit in the text</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>title of the unit; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_56' href="javascript:toggleSource('56')">Show source</a></p>
<div id='56' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::CheckUnit {wtxt pos1 pos2 {TID {}} {title {}}} {

  <i><font color=#4b5d50># Checks a unit.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   pos1 - starting position of the unit in the text</font></i>
  <i><font color=#4b5d50>#   pos2 - ending position of the unit in the text</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   title - title of the unit</font></i>

  <b><font color=#3a6797>variable</font></b> chBrace
  <b><font color=#3a6797>variable</font></b> chBracket
  <b><font color=#3a6797>variable</font></b> chParenthesis
  <b><font color=#3a6797>variable</font></b> chQuotes
  <b><font color=#3a6797>variable</font></b> chDuplUnits
  <b><font color=#3a6797>variable</font></b> errors1
  <b><font color=#3a6797>variable</font></b> errors2
  <b><font color=#3a6797>variable</font></b> errors3
  <b><font color=#3a6797>variable</font></b> errors4
  <b><font color=#3a6797>set</font></b> cc1 [<b><font color=#3a6797>set</font></b> cc2 [<b><font color=#3a6797>set</font></b> ck1 [<b><font color=#3a6797>set</font></b> ck2 [<b><font color=#3a6797>set</font></b> cp1 [<b><font color=#3a6797>set</font></b> cp2 [<b><font color=#3a6797>set</font></b> cq1 0]]]]]]
  <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>] \n] {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chBrace</font>} {
      <b><font color=#3a6797>incr</font></b> cc1 [::apave::countChar <font color=#1b1baa>$line</font> \{]
      <b><font color=#3a6797>incr</font></b> cc2 [::apave::countChar <font color=#1b1baa>$line</font> \}]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chBracket</font>} {
      <b><font color=#3a6797>incr</font></b> ck1 [::apave::countChar <font color=#1b1baa>$line</font> \[]
      <b><font color=#3a6797>incr</font></b> ck2 [::apave::countChar <font color=#1b1baa>$line</font> \]]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chParenthesis</font>} {
      <b><font color=#3a6797>incr</font></b> cp1 [::apave::countChar <font color=#1b1baa>$line</font> (]
      <b><font color=#3a6797>incr</font></b> cp2 [::apave::countChar <font color=#1b1baa>$line</font> )]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$chQuotes</font>} {
      <b><font color=#3a6797>incr</font></b> cq1 [::apave::countChar <font color=#1b1baa>$line</font> \&quot;]
    }
  }
  <b><font color=#3a6797>set</font></b> err 0
  <b><font color=#3a6797>set</font></b> info [PosInfo <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos1</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cc1</font> != <font color=#1b1baa>$cc2</font>} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors1
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>title: inconsistent \{\}: <font color=#1b1baa>$</font>cc1 != <font color=#1b1baa>$</font>cc2&quot;</font> <font color=#1b1baa>$info</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ck1</font> != <font color=#1b1baa>$ck2</font>} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>title: inconsistent \[\]: <font color=#1b1baa>$</font>ck1 != <font color=#1b1baa>$</font>ck2&quot;</font> <font color=#1b1baa>$info</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cp1</font> != <font color=#1b1baa>$cp2</font>} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors3
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>title: inconsistent (): <font color=#1b1baa>$</font>cp1 != <font color=#1b1baa>$</font>cp2&quot;</font> <font color=#1b1baa>$info</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cq1</font> % 2} {
    <b><font color=#3a6797>incr</font></b> err
    <b><font color=#3a6797>incr</font></b> errors4
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {}} {alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>title: inconsistent \&quot;\&quot;: <font color=#1b1baa>$</font>cq1&quot;</font> <font color=#1b1baa>$info</font>}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$err</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Help&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_57' href="javascript:toggleSource('57')">Show source</a></p>
<div id='57' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::Help {args} {

  <i><font color=#4b5d50># Handles hitting &quot;Help&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::Help <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_58' href="javascript:toggleSource('58')">Show source</a></p>
<div id='58' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::Ok {args} {

  <i><font color=#4b5d50># Handles hitting &quot;OK&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obCHK obCHK
  <b><font color=#3a6797>variable</font></b> win
  <font color=#1b1baa>$obCHK</font> res <font color=#1b1baa>$win</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::PosInfo'>PosInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an info on a unit's position (for Put procedure).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PosInfo</span> <span class='ruff_arg'>TID pos1</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position of the unit in the text</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of TID and the normalized unit's position.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::info::Put" title="::alited::info::Put" class='ruff_cmd'>::alited::info::Put</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_59' href="javascript:toggleSource('59')">Show source</a></p>
<div id='59' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::PosInfo {TID pos1} {

  <i><font color=#4b5d50># Gets an info on a unit's position (for Put procedure).</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   pos1 - starting position of the unit in the text</font></i>
  <i><font color=#4b5d50># Returns a list of TID and the normalized unit's position.</font></i>
  <i><font color=#4b5d50># See also: ::alited::info::Put</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {
    <b><font color=#3a6797>set</font></b> res {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos1</font>] ? int(<font color=#1b1baa>$pos1</font>) : 1}]]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::check::ShowResults'>ShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::check" title="::alited::check" class='ruff_cmd'>::alited::check</a>]</span><span class='tinylink'><a href='alited.html#::alited::check'>check</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays results of checking.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_60' href="javascript:toggleSource('60')">Show source</a></p>
<div id='60' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::check::ShowResults {} {

  <i><font color=#4b5d50># Displays results of checking.</font></i>

  <b><font color=#3a6797>variable</font></b> errors
  <b><font color=#3a6797>variable</font></b> fileerrors
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$errors</font> || <font color=#1b1baa>$fileerrors</font>} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Found %f file error(s), %u unit error(s).}]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fileerrors</font> %u <font color=#1b1baa>$errors</font>] <font color=#1b1baa>$msg</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {No errors found.}]
  }
  alited::info::Put <font color=#1b1baa>$msg</font> {} yes
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::complete'></a>::alited::complete<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::complete-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::complete::AllSessionCommands'>AllSessionCommands</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets all commands available in Tcl/Tk and in session files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AllSessionCommands</span> <span class='ruff_arg'>?currentTID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>currentTID</code></code></td><td class='ruff_defitem'>ID of a current tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If currentTID is set, the commands of this TID are shown unqualified.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_61' href="javascript:toggleSource('61')">Show source</a></p>
<div id='61' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::AllSessionCommands {{currentTID {}}} {

  <i><font color=#4b5d50># Gets all commands available in Tcl/Tk and in session files.</font></i>
  <i><font color=#4b5d50>#   currentTID - ID of a current tab</font></i>
  <i><font color=#4b5d50># If currentTID is set, the commands of this TID are shown unqualified.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isread [<b><font color=#3a6797>info</font></b> exists al(_SessionCommands)]]} {
    <b><font color=#3a6797>unset</font></b> al(_SessionCommands)
  } <b><font color=#3a6797>else</font></b> {
    alited::info::Put <font color=#1b1baa>$al(MC,wait)</font> {} yes yes
    <b><font color=#3a6797>update</font></b>
  }
  <b><font color=#3a6797>set</font></b> al(_SessionCommands) [<b><font color=#3a6797>dict</font></b> create]
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tab [alited::find::SessionList] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] curfile wtxt
    <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 ttl l1 l2
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font> && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ttl</font>]==1} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq <font color=#1b1baa>$currentTID</font>} {
          <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$ttl</font> :] end]
        }
        <b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$ttl</font>
        <i><font color=#4b5d50># save arguments of proc/method</font></i>
        <b><font color=#3a6797>set</font></b> h [alited::unit::GetHeader {} {} 0 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$ttl</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
        <b><font color=#3a6797>dict</font></b> set al(_SessionCommands) <font color=#1b1baa>$ttl</font> [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$h</font> \n] 0 2]
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(ED,TclKeyWords)</font>]} {
    <b><font color=#3a6797>lappend</font></b> res {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(ED,TclKeyWords)</font>  ;<i><font color=#4b5d50># user's commands</font></i>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isread</font>} {alited::info::Clear end}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::AutoCompleteCommand'>AutoCompleteCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs auto completion of commands.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AutoCompleteCommand</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_62' href="javascript:toggleSource('62')">Show source</a></p>
<div id='62' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::AutoCompleteCommand {} {

  <i><font color=#4b5d50># Runs auto completion of commands.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [MatchedCommands] curword idx1 idx2
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> com [PickCommand <font color=#1b1baa>$wtxt</font>]] ne {}} {
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>set</font></b> row [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
    <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$row</font>.<font color=#1b1baa>$idx1</font> <font color=#1b1baa>$row</font>.[<b><font color=#3a6797>incr</font></b> idx2]
    <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$row</font>.<font color=#1b1baa>$idx1</font>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>dict</font></b> exists <font color=#1b1baa>$al(_SessionCommands)</font> <font color=#1b1baa>$com</font>]
    && [<b><font color=#3a6797>set</font></b> argums [<b><font color=#3a6797>dict</font></b> get <font color=#1b1baa>$al(_SessionCommands)</font> <font color=#1b1baa>$com</font>]] ne {}} {
      <i><font color=#4b5d50># add all of the unit's arguments</font></i>
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>foreach</font></b> ar <font color=#1b1baa>$argums</font> {
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ar</font>]==1} {
            <b><font color=#3a6797>append</font></b> com <font color=#7d1a1a>&quot; \$<font color=#1b1baa>$</font>ar&quot;</font>
          } <b><font color=#3a6797>else</font></b> {
            <b><font color=#3a6797>append</font></b> com <font color=#7d1a1a>&quot; <font color=#1b1baa>{</font>\$<font color=#1b1baa>$</font>ar<font color=#1b1baa>}</font>&quot;</font> ;<i><font color=#4b5d50># default value to be seen</font></i>
          }
        }
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$com</font> ni {<b><font color=#3a6797>exit</font></b> return break continue pwd pid}} {
      <b><font color=#3a6797>append</font></b> com { }
    }
    <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$pos</font> <font color=#1b1baa>$com</font>
    ::alited::main::HighlightLine
  }
  <b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::MatchedCommands'>MatchedCommands</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets commands that are matched to a current (under cursor) word.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MatchedCommands</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns list of current word, begin and end of it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_63' href="javascript:toggleSource('63')">Show source</a></p>
<div id='63' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::MatchedCommands {} {

  <i><font color=#4b5d50># Gets commands that are matched to a current (under cursor) word.</font></i>
  <i><font color=#4b5d50># Returns list of current word, begin and end of it.</font></i>

  <b><font color=#3a6797>variable</font></b> comms
  <b><font color=#3a6797>variable</font></b> maxwidth
  <b><font color=#3a6797>lassign</font></b> [alited::find::GetWordOfText noselect2] curword idx1 idx2
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists ::alited::repl]} {
    <b><font color=#ca14ca>namespace</font></b> eval ::alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::LIBDIR</font> repl repl.tcl]
    }
  }
  <b><font color=#3a6797>set</font></b> allcomms [<b><font color=#3a6797>lindex</font></b> [::alited::repl::complete command {}] 1]
  <b><font color=#3a6797>lappend</font></b> allcomms {<b><font color=#3a6797>*</font></b>}[AllSessionCommands [alited::bar::CurrentTabID]]
  <b><font color=#3a6797>set</font></b> comms [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> excluded [<b><font color=#3a6797>list</font></b> {[._]*} alimg_* bts_* \$*]
  <b><font color=#3a6797>set</font></b> maxwidth 20
  <b><font color=#3a6797>foreach</font></b> com <font color=#1b1baa>$allcomms</font> {
    <b><font color=#3a6797>set</font></b> incl 1
    <b><font color=#3a6797>foreach</font></b> ex <font color=#1b1baa>$excluded</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$ex</font> <font color=#1b1baa>$com</font>]} {
        <b><font color=#3a6797>set</font></b> incl 0
        <b><font color=#3a6797>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$incl</font> && [<b><font color=#3a6797>string</font></b> match <font color=#7d1a1a>&quot;<font color=#1b1baa>${</font>curword<font color=#1b1baa>}</font>*&quot;</font> <font color=#1b1baa>$com</font>]} {
      <b><font color=#3a6797>lappend</font></b> comms <font color=#1b1baa>$com</font>
      <b><font color=#3a6797>set</font></b> maxwidth [<b><font color=#3a6797>expr</font></b> {max(<font color=#1b1baa>$maxwidth</font>,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$com</font>])}]
    }
  }
  <b><font color=#3a6797>set</font></b> comms [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> <font color=#6c3e67>-unique</font> <font color=#1b1baa>$comms</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$curword</font> <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::PickCommand'>PickCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a frame of commands for auto completion, allowing a user to select from it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickCommand</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_64' href="javascript:toggleSource('64')">Show source</a></p>
<div id='64' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::PickCommand {wtxt} {

  <i><font color=#4b5d50># Shows a frame of commands for auto completion,</font></i>
  <i><font color=#4b5d50># allowing a user to select from it.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$alited::complete::comms</font>]} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> win .pickcommand
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::tcl_platform(platform)</font> eq {windows}} {
    <b><font color=#134070>toplevel</font></b> <font color=#1b1baa>$win</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#134070>frame</font></b> <font color=#1b1baa>$win</font>
    <b><font color=#134070>wm</font></b> manage <font color=#1b1baa>$win</font>
    <i><font color=#4b5d50># the line below is of an issue in kubuntu (KDE?): small sizes of the popup window</font></i>
    <b><font color=#3a6797>set</font></b> afterid [<b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>subst</font></b> <font color=#6c3e67>-nocom</font> {<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font> [<b><font color=#3a6797>regsub</font></b> {([0-9]+x[0-9]+)} [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>] 220x325]}]]
  }
  <b><font color=#134070>wm</font></b> withdraw <font color=#1b1baa>$win</font>
  <b><font color=#134070>wm</font></b> overrideredirect <font color=#1b1baa>$win</font> 1
  <b><font color=#3a6797>set</font></b> obj pavedPickCommand
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obj</font> destroy}
  ::apave::APaveInput create <font color=#1b1baa>$obj</font> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$obj</font> paveWindow <font color=#1b1baa>$win</font> {
    {LbxPick - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-h</font> 16 <font color=#6c3e67>-w</font> <font color=#1b1baa>$::alited::complete::maxwidth</font> <font color=#6c3e67>-lvar</font> ::alited::complete::comms}}
    {#sbvPick LbxPick L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both} {}}
  }
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obj</font> LbxPick]
  <b><font color=#3a6797>foreach</font></b> ev {ButtonPress-1 Return KP_Enter KeyPress-space} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;<font color=#1b1baa>$ev</font>&gt; <font color=#7d1a1a>&quot;after idle <font color=#1b1baa>{</font>::alited::complete::SelectCommand <font color=#1b1baa>$</font>win <font color=#1b1baa>$</font>obj <font color=#1b1baa>$</font>lbx<font color=#1b1baa>}</font>&quot;</font>}
  }
  <font color=#1b1baa>$lbx</font> selection set 0
  <b><font color=#3a6797>lassign</font></b> [TextCursorCoordinates <font color=#1b1baa>$wtxt</font>] X Y
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$X</font>==-1} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$afterid</font>}
    <b><font color=#134070>bell</font></b>
    <b><font color=#3a6797>set</font></b> res {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::tcl_platform(platform)</font> eq {windows}} {
      <b><font color=#3a6797>incr</font></b> X 10
      <b><font color=#3a6797>incr</font></b> Y 40
      <b><font color=#3a6797>after</font></b> 100 <font color=#7d1a1a>&quot;wm deiconify <font color=#1b1baa>$</font>win&quot;</font>
    }
    <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obj</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-focus</font> <font color=#1b1baa>$lbx</font> <font color=#6c3e67>-geometry</font> +<font color=#1b1baa>$X</font>+<font color=#1b1baa>$Y</font> <font color=#6c3e67>-ontop</font> yes]
  }
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
  <font color=#1b1baa>$obj</font> destroy
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne <font color=#7d1a1a>&quot;0&quot;</font>} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>}
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::SelectCommand'>SelectCommand</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection of command for auto completion.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectCommand</span> <span class='ruff_arg'>win obj lbx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window of command list</td></tr>
<tr><td class='ruff_defitem'><code><code>obj</code></code></td><td class='ruff_defitem'>apave object</td></tr>
<tr><td class='ruff_defitem'><code><code>lbx</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_65' href="javascript:toggleSource('65')">Show source</a></p>
<div id='65' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::SelectCommand {win obj lbx} {

  <i><font color=#4b5d50># Handles a selection of command for auto completion.</font></i>
  <i><font color=#4b5d50>#   win - window of command list</font></i>
  <i><font color=#4b5d50>#   obj - apave object</font></i>
  <i><font color=#4b5d50>#   lbx - listbox's path</font></i>

  <font color=#1b1baa>$obj</font> res <font color=#1b1baa>$win</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$alited::complete::comms</font> [<font color=#1b1baa>$lbx</font> curselection]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::complete::TextCursorCoordinates'>TextCursorCoordinates</a><span class='ns_scope'> [<a href="alited.html#::alited::complete" title="::alited::complete" class='ruff_cmd'>::alited::complete</a>]</span><span class='tinylink'><a href='alited.html#::alited::complete'>complete</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets screen coordinates (X, Y) under cursor in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TextCursorCoordinates</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of X and Y coordinates.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_66' href="javascript:toggleSource('66')">Show source</a></p>
<div id='66' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::complete::TextCursorCoordinates {wtxt} {

  <i><font color=#4b5d50># Gets screen coordinates (X, Y) under cursor in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50># Returns a list of X and Y coordinates.</font></i>

  <b><font color=#3a6797>set</font></b> poi [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> ch [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$poi</font> [<font color=#1b1baa>$wtxt</font> index {insert +1c}]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$ch</font>] eq {}} {<b><font color=#3a6797>set</font></b> pos {insert -1c}} {<b><font color=#3a6797>set</font></b> pos insert}
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index <font color=#1b1baa>$pos</font>]
  <b><font color=#3a6797>if</font></b> {int(<font color=#1b1baa>$pos</font>)!=int(<font color=#1b1baa>$poi</font>)} {<b><font color=#ca14ca>return</font></b> -1}
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> bbox <font color=#1b1baa>$pos</font>] X Y w h
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$w</font> eq {}} {<b><font color=#ca14ca>return</font></b> -1}
  <b><font color=#3a6797>incr</font></b> X <font color=#1b1baa>$w</font>
  <b><font color=#3a6797>incr</font></b> Y <font color=#1b1baa>$h</font>
  <b><font color=#3a6797>set</font></b> p [<b><font color=#134070>winfo</font></b> parent <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>while</font></b> 1 {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#134070>winfo</font></b> geometry <font color=#1b1baa>$p</font>] x+] w h x y
    <b><font color=#3a6797>incr</font></b> X <font color=#1b1baa>$x</font>
    <b><font color=#3a6797>incr</font></b> Y <font color=#1b1baa>$y</font>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> p [<b><font color=#134070>winfo</font></b> parent <font color=#1b1baa>$p</font>]}] || <font color=#1b1baa>$p</font> in {{} {.}}} <b><font color=#3a6797>break</font></b>
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::edit'></a>::alited::edit<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::edit-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupDirFileNames'>BackupDirFileNames</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets directory and file names for backuping.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupDirFileNames</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>current tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of names: directory, source file, target original file</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_67' href="javascript:toggleSource('67')">Show source</a></p>
<div id='67' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::BackupDirFileNames {TID} {

  <i><font color=#4b5d50># Gets directory and file names for backuping.</font></i>
  <i><font color=#4b5d50>#   TID - current tab's ID</font></i>
  <i><font color=#4b5d50># Returns a list of names:</font></i>
  <i><font color=#4b5d50>#   directory, source file, target original file</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(BACKUP)</font> eq {}} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$al(BACKUP)</font>]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$dir</font>] && [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$dir</font>} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font>
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> fname3 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dir</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$dir</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupFile'>BackupFile</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a backup copy of a file after the first modification of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupFile</span> <span class='ruff_arg'>TID ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID of the file</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if {orig}, makes an original copy of a file, otherwise makes .bak copy; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_68' href="javascript:toggleSource('68')">Show source</a></p>
<div id='68' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::BackupFile {TID {mode {}}} {

  <i><font color=#4b5d50># Makes a backup copy of a file after the first modification of it.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID of the file</font></i>
  <i><font color=#4b5d50>#   mode - if {orig}, makes an original copy of a file, otherwise makes .bak copy</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [BackupDirFileNames <font color=#1b1baa>$TID</font>] dir fname fname2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dir</font> ne {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq {}} {
      <b><font color=#3a6797>set</font></b> fname2 [BackupFileName <font color=#1b1baa>$fname2</font>]
    }
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>file</font></b> copy <font color=#6c3e67>-force</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>
      ::apave::logMessage <font color=#7d1a1a>&quot;backup <font color=#1b1baa>$</font>fname -&gt; <font color=#1b1baa>$</font>fname2&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::BackupFileName'>BackupFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a backup name for a file (checking for backup's maximum).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BackupFileName</span> <span class='ruff_arg'>fname ?iincr?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>name of target file</td></tr>
<tr><td class='ruff_defitem'><code><code>iincr</code></code></td><td class='ruff_defitem'>incrementation for backup index; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The iincr parameter is used to get the last backup's name: if no backups, the empty string is returned.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_69' href="javascript:toggleSource('69')">Show source</a></p>
<div id='69' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::BackupFileName {fname {iincr 1}} {

  <i><font color=#4b5d50># Gets a backup name for a file (checking for backup's maximum).</font></i>
  <i><font color=#4b5d50>#   fname - name of target file</font></i>
  <i><font color=#4b5d50>#   iincr - incrementation for backup index</font></i>
  <i><font color=#4b5d50># The iincr parameter is used to get the last backup's name:</font></i>
  <i><font color=#4b5d50># if no backups, the empty string is returned.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(MAXBACKUP)</font>&gt;1} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> baks [<b><font color=#3a6797>glob</font></b> <font color=#1b1baa>${fname}</font>*]}]} {
      <b><font color=#3a6797>set</font></b> nbak 1
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$iincr</font>} {<b><font color=#ca14ca>return</font></b> {}} ;<i><font color=#4b5d50># no backups yet</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>foreach</font></b> bak <font color=#1b1baa>$baks</font> {
        <b><font color=#3a6797>lappend</font></b> bakdata [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$bak</font>] <font color=#1b1baa>$bak</font>]
      }
      <b><font color=#3a6797>set</font></b> bakdata [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#1b1baa>$bakdata</font>]
      <b><font color=#3a6797>set</font></b> bak1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$bakdata</font> 0 1]
      <b><font color=#3a6797>set</font></b> nbak [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$bak1</font> -.] end-1]
      <b><font color=#3a6797>foreach</font></b> delbak [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$bakdata</font> <font color=#1b1baa>$al(MAXBACKUP)</font> end] {
        <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$delbak</font> 1]}
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>incr</font></b> nbak <font color=#1b1baa>$iincr</font>}] || <font color=#1b1baa>$nbak</font>&gt;<font color=#1b1baa>$al(MAXBACKUP)</font>} {<b><font color=#3a6797>set</font></b> nbak 1}
    }
    <b><font color=#3a6797>append</font></b> fname -<font color=#1b1baa>$nbak</font>.bak
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ChangeEncoding'>ChangeEncoding</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Changes encoding of file(s).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChangeEncoding</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_70' href="javascript:toggleSource('70')">Show source</a></p>
<div id='70' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ChangeEncoding {} {

    <i><font color=#4b5d50># Changes encoding of file(s).</font></i>

  <b><font color=#134070>tk_messageBox</font></b> <font color=#6c3e67>-message</font> <font color=#7d1a1a>&quot;edit::ChangeEncoding - stub&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::ChangeEOL'>ChangeEOL</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Changes EOL of file(s).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChangeEOL</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_71' href="javascript:toggleSource('71')">Show source</a></p>
<div id='71' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::ChangeEOL {} {

    <i><font color=#4b5d50># Changes EOL of file(s).</font></i>

  <b><font color=#134070>tk_messageBox</font></b> <font color=#6c3e67>-message</font> <font color=#7d1a1a>&quot;edit::ChangeEOL - stub&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CheckSaveIcons'>CheckSaveIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for states of save buttons at modifications of files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckSaveIcons</span> <span class='ruff_arg'>modif</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>modif</code></code></td><td class='ruff_defitem'>yes, if a file has been modified</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_72' href="javascript:toggleSource('72')">Show source</a></p>
<div id='72' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::CheckSaveIcons {modif} {

  <i><font color=#4b5d50># Checks for states of save buttons at modifications of files.</font></i>
  <i><font color=#4b5d50>#   modif - yes, if a file has been modified</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> marked [alited::bar::BAR listFlag <font color=#7d1a1a>&quot;m&quot;</font>]
  <b><font color=#3a6797>set</font></b> b_save [alited::tool::ToolButName SaveFile]
  <b><font color=#3a6797>set</font></b> b_saveall [alited::tool::ToolButName saveall]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$marked</font>]} {
    <b><font color=#3a6797>foreach</font></b> but {SaveFile saveall} {
      [alited::tool::ToolButName <font color=#1b1baa>$but</font>] configure <font color=#6c3e67>-state</font> disabled
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$modif</font>} {<b><font color=#3a6797>set</font></b> stat normal} {<b><font color=#3a6797>set</font></b> stat disabled}
    <font color=#1b1baa>$b_save</font> configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stat</font>
    <font color=#1b1baa>$b_saveall</font> configure <font color=#6c3e67>-state</font> normal
  }
  <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 4 <font color=#6c3e67>-state</font> [<font color=#1b1baa>$b_save</font> cget <font color=#6c3e67>-state</font>]
  <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 6 <font color=#6c3e67>-state</font> [<font color=#1b1baa>$b_saveall</font> cget <font color=#6c3e67>-state</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CheckUndoRedoIcons'>CheckUndoRedoIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for states of undo/redo button for a file being modified.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUndoRedoIcons</span> <span class='ruff_arg'>wtxt TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID of the file</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_73' href="javascript:toggleSource('73')">Show source</a></p>
<div id='73' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::CheckUndoRedoIcons {wtxt TID} {

  <i><font color=#4b5d50># Checks for states of undo/redo button for a file being modified.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID of the file</font></i>

  <b><font color=#3a6797>set</font></b> TIDundo [alited::bar::BAR cget -<font color=#6c3e67>-TIDundo</font>]
  <b><font color=#3a6797>set</font></b> oldundo [alited::bar::BAR <font color=#1b1baa>$TID</font> cget -<font color=#6c3e67>-undo</font>]
  <b><font color=#3a6797>set</font></b> oldredo [alited::bar::BAR <font color=#1b1baa>$TID</font> cget -<font color=#6c3e67>-redo</font>]
  <b><font color=#3a6797>set</font></b> newundo [<font color=#1b1baa>$wtxt</font> edit canundo]
  <b><font color=#3a6797>set</font></b> newredo [<font color=#1b1baa>$wtxt</font> edit canredo]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TIDundo</font> ne <font color=#1b1baa>$TID</font> || <font color=#1b1baa>$oldundo</font> ne <font color=#1b1baa>$newundo</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newundo</font>} {<b><font color=#3a6797>set</font></b> stat normal} {<b><font color=#3a6797>set</font></b> stat disabled}
    [alited::tool::ToolButName undo] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stat</font>
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure -<font color=#6c3e67>-undo</font> <font color=#1b1baa>$newundo</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TIDundo</font> ne <font color=#1b1baa>$TID</font> || <font color=#1b1baa>$oldredo</font> ne <font color=#1b1baa>$newredo</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newredo</font>} {<b><font color=#3a6797>set</font></b> stat normal} {<b><font color=#3a6797>set</font></b> stat disabled}
    [alited::tool::ToolButName redo] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stat</font>
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure -<font color=#6c3e67>-redo</font> <font color=#1b1baa>$newredo</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldundo</font> ne {} && !<font color=#1b1baa>$oldundo</font> && !<font color=#1b1baa>$oldredo</font> && <font color=#1b1baa>$newundo</font>} {
    BackupFile <font color=#1b1baa>$TID</font> orig
  }
  alited::bar::BAR configure -<font color=#6c3e67>-TIDundo</font> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Comment'>Comment</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Comments selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Comment</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_74' href="javascript:toggleSource('74')">Show source</a></p>
<div id='74' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::Comment {} {

  <i><font color=#4b5d50># Comments selected lines of text.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ch [CommentChar]] eq {}} {bell; <b><font color=#ca14ca>return</font></b>}
  <b><font color=#3a6797>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
    <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$ch</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::CommentChar'>CommentChar</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the commenting chars for a current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CommentChar</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the commenting chars for a current file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_75' href="javascript:toggleSource('75')">Show source</a></p>
<div id='75' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::CommentChar {} {

  <i><font color=#4b5d50># Returns the commenting chars for a current file.</font></i>

  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {[alited::file::IsClang <font color=#1b1baa>$fname</font>]} {
    <b><font color=#ca14ca>return</font></b> //
  }
  <b><font color=#ca14ca>return</font></b> #
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Indent'>Indent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Indent selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Indent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_76' href="javascript:toggleSource('76')">Show source</a></p>
<div id='76' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::Indent {} {

  <i><font color=#4b5d50># Indent selected lines of text.</font></i>

  <b><font color=#3a6797>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#3a6797>set</font></b> indent <font color=#1b1baa>$::apave::_AP_VARS(INDENT)</font>
  <b><font color=#3a6797>set</font></b> len [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$::apave::_AP_VARS(INDENT)</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] eq {}} {
      <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end {}
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> leadsp [::apave::obj leadingSpaces <font color=#1b1baa>$line</font>]
      <b><font color=#3a6797>set</font></b> sp [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$leadsp</font> % <font color=#1b1baa>$len</font>}]
      <i><font color=#4b5d50># align by the indent edge</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sp</font>==0} {
        <b><font color=#3a6797>set</font></b> ind <font color=#1b1baa>$indent</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> ind [<b><font color=#3a6797>string</font></b> repeat <font color=#7d1a1a>&quot; &quot;</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$len</font> - <font color=#1b1baa>$sp</font>}]]
      }
      <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$ind</font>
    }
  }
  alited::main::HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::Modified'>Modified</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a modification of file, recreating the unit tree at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Modified</span> <span class='ruff_arg'>TID wtxt ?l1? ?l2? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_77' href="javascript:toggleSource('77')">Show source</a></p>
<div id='77' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::Modified {TID wtxt {l1 0} {l2 0} args} {

  <i><font color=#4b5d50># Handles a modification of file, recreating the unit tree at need.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line of unit</font></i>
  <i><font color=#4b5d50>#   l2 - last line of unit</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
    <b><font color=#3a6797>set</font></b> old [alited::file::IsModified <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>set</font></b> new [<font color=#1b1baa>$wtxt</font> edit modified]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$old</font> != <font color=#1b1baa>$new</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$new</font>} {
        alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
      } <b><font color=#3a6797>else</font></b> {
        alited::bar::BAR unmarkTab <font color=#1b1baa>$TID</font>
      }
      CheckSaveIcons <font color=#1b1baa>$new</font>
    }
    CheckUndoRedoIcons <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(RECREATE)] || <font color=#1b1baa>$al(RECREATE)</font>} {
        <b><font color=#3a6797>set</font></b> doit no
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font>]]} {
          <b><font color=#3a6797>set</font></b> lastrow [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$llen</font>-1 5]
          <b><font color=#3a6797>set</font></b> doit [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lastrow</font> != int([<font color=#1b1baa>$wtxt</font> index {end -1c}])}]
        }
        <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
        <b><font color=#3a6797>set</font></b> notfound [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> ifound [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 4 <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$l1</font>]}]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font> || (!<font color=#1b1baa>$notfound</font> && <font color=#1b1baa>$ifound</font>&gt;-1) ||  <font color=#1b1baa>$al(INI,LEAF)</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,leaf2)</font> <font color=#1b1baa>$args</font>] ||  [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc2)</font> <font color=#1b1baa>$args</font>]} {
          alited::tree::RecreateTree
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,LEAF)</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,leaf)</font> <font color=#1b1baa>$line</font>] ||  !<font color=#1b1baa>$al(INI,LEAF)</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$line</font>] ||  [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,branch)</font> <font color=#1b1baa>$line</font>]} {
            alited::tree::RecreateTree
          }
        }
      }
    }
  }
  alited::main::ShowHeader
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::NormIndent'>NormIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Normalizes a current text's indenting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NormIndent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_78' href="javascript:toggleSource('78')">Show source</a></p>
<div id='78' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::NormIndent {} {

  <i><font color=#4b5d50># Normalizes a current text's indenting.</font></i>

  alited::main::UpdateProjectInfo
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>namespace</font></b> exists alited::indent]} {
    <b><font color=#ca14ca>namespace</font></b> eval alited {
      <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::SRCDIR</font> indent.tcl]
    }
  }
  alited::indent::normalize
  alited::main::UpdateTextGutter
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::RemoveTrailWhites'>RemoveTrailWhites</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes trailing spaces of lines - all of lines or a selection of lines.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemoveTrailWhites</span> <span class='ruff_arg'>?wtxt? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if 11, trimright all of text without questions; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_79' href="javascript:toggleSource('79')">Show source</a></p>
<div id='79' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::RemoveTrailWhites {{wtxt {}} {doit 0}} {

  <i><font color=#4b5d50># Removes trailing spaces of lines - all of lines or a selection of lines.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   doit - if 11, trimright all of text without questions</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> ansRemoveTrSp
  <b><font color=#3a6797>lassign</font></b> [SelectedLines <font color=#1b1baa>$wtxt</font>] wtxt l1 l2
  <i><font color=#4b5d50># ask about trailing all lines or a current line / selection</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font>&lt;10} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ansRemoveTrSp</font>&lt;10} {
      <b><font color=#3a6797>set</font></b> ansRemoveTrSp [alited::msg yesnocancel ques  {Remove trailing whitespaces of all lines?}  YES <font color=#6c3e67>-title</font> {Remove trailing whitespaces} <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
    }
    <b><font color=#3a6797>set</font></b> doit <font color=#1b1baa>$ansRemoveTrSp</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font>} {
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$doit</font> in {1 11}} {
    <b><font color=#3a6797>set</font></b> l1 1
    <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index {end -1c}])}]
  }
  <b><font color=#3a6797>set</font></b> wasedit no
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> trimmed [<b><font color=#3a6797>string</font></b> trimright <font color=#1b1baa>$line</font>]] ne <font color=#1b1baa>$line</font>} {
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$wasedit</font>} {<font color=#1b1baa>$wtxt</font> edit separator}
      <b><font color=#3a6797>set</font></b> wasedit yes
      <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end <font color=#1b1baa>$trimmed</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wasedit</font>} {<font color=#1b1baa>$wtxt</font> edit separator}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::SelectedLines'>SelectedLines</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a range of lines of text that are selected at least partly.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectedLines</span> <span class='ruff_arg'>?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of the text widget's path, the range of lines, &quot;selection&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_80' href="javascript:toggleSource('80')">Show source</a></p>
<div id='80' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::SelectedLines {{wtxt {}}} {

  <i><font color=#4b5d50># Gets a range of lines of text that are selected at least partly.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50># Returns a list of the text widget's path, the range of lines, &quot;selection&quot;.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {<b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]}
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges sel] pos1 pos2
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> selection <font color=#1b1baa>$pos1</font>] ne {}} {
    <b><font color=#3a6797>set</font></b> pos21 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>pos2 linestart&quot;</font>]
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$pos21</font> <font color=#1b1baa>$pos2</font>] eq {}} {
      <b><font color=#3a6797>set</font></b> pos2 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>pos2 - 1 line&quot;</font>]
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> pos1 [<b><font color=#3a6797>set</font></b> pos2 [<font color=#1b1baa>$wtxt</font> index insert]]
  }
  <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos1</font>)}]
  <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos2</font>)}]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font> <font color=#1b1baa>$selection</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::UnComment'>UnComment</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Uncomments selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnComment</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_81' href="javascript:toggleSource('81')">Show source</a></p>
<div id='81' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::UnComment {} {

  <i><font color=#4b5d50># Uncomments selected lines of text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ch [CommentChar]] eq {}} {bell; <b><font color=#ca14ca>return</font></b>}
  <b><font color=#3a6797>set</font></b> lch [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$ch</font>]
  <b><font color=#3a6797>set</font></b> lch0 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lch</font>-1}]
  <b><font color=#3a6797>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
    <b><font color=#3a6797>set</font></b> isp [<font color=#1b1baa>$obPav</font> leadingSpaces <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$isp</font> <font color=#1b1baa>$isp</font>+<font color=#1b1baa>$lch0</font>] eq <font color=#1b1baa>$ch</font>} {
      <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$l</font>.<font color=#1b1baa>$isp</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>l.<font color=#1b1baa>$</font>isp + <font color=#1b1baa>${</font>lch<font color=#1b1baa>}</font>c&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::edit::UnIndent'>UnIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::edit" title="::alited::edit" class='ruff_cmd'>::alited::edit</a>]</span><span class='tinylink'><a href='alited.html#::alited::edit'>edit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unindent selected lines of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnIndent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_82' href="javascript:toggleSource('82')">Show source</a></p>
<div id='82' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::edit::UnIndent {} {

  <i><font color=#4b5d50># Unindent selected lines of text.</font></i>

  <b><font color=#3a6797>lassign</font></b> [SelectedLines] wtxt l1 l2
  <b><font color=#3a6797>set</font></b> len [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$::apave::_AP_VARS(INDENT)</font>]
  <b><font color=#3a6797>set</font></b> spaces [<b><font color=#3a6797>list</font></b> { } \t]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>} {<font color=#1b1baa>$l</font>&lt;=<font color=#1b1baa>$l2</font>} {<b><font color=#3a6797>incr</font></b> l} {
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$line</font>] eq {}} {
      <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$l</font>.0 <font color=#1b1baa>$l</font>.end {}
    } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> 0] in <font color=#1b1baa>$spaces</font>} {
      <b><font color=#3a6797>set</font></b> leadsp [::apave::obj leadingSpaces <font color=#1b1baa>$line</font>]
      <i><font color=#4b5d50># align by the indent edge</font></i>
      <b><font color=#3a6797>set</font></b> sp [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$leadsp</font> % <font color=#1b1baa>$len</font>}]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sp</font>==0} {<b><font color=#3a6797>set</font></b> sp <font color=#1b1baa>$len</font>}
      <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$l</font>.0 <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>l.0 + <font color=#1b1baa>${</font>sp<font color=#1b1baa>}</font>c&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::favor'></a>::alited::favor<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::favor-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::favor::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes and shows favorite / last visited units' view.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_83' href="javascript:toggleSource('83')">Show source</a></p>
<div id='83' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::_init {} {

  <i><font color=#4b5d50># Initializes and shows favorite / last visited units' view.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  alited::tree::AddTags <font color=#1b1baa>$wtree</font>
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;Return&gt; {::alited::favor::Select}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonRelease-1&gt; {::alited::favor::Select}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonPress-3&gt; {<b><font color=#3a6797>after</font></b> idle {alited::favor::PopupMenu %x %y %X %Y}}
  <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc <font color=#1b1baa>$al(MC,favorites)</font>]
  ShowFavVisit
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a unit to favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>?undermouse? ?idnames?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>idnames</code></code></td><td class='ruff_defitem'>list of unit's ID and names to add; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_84' href="javascript:toggleSource('84')">Show source</a></p>
<div id='84' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Add {{undermouse yes} {idnames {}}} {

  <i><font color=#4b5d50># Adds a unit to favorites.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>
  <i><font color=#4b5d50>#   idnames - list of unit's ID and names to add</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$undermouse</font>} {<b><font color=#3a6797>set</font></b> geo {<font color=#6c3e67>-geometry</font> pointer+10+-100}} {<b><font color=#3a6797>set</font></b> geo {}}
  <b><font color=#3a6797>set</font></b> idnlen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$idnames</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idnlen</font>==0} {
    <b><font color=#3a6797>lassign</font></b> [CurrentName] itemID name l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq {}} <b><font color=#ca14ca>return</font></b>
    <b><font color=#3a6797>set</font></b> idnames [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$name</font>]
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(ANSWER,favor::Add)]} {
    <b><font color=#3a6797>set</font></b> al(ANSWER,favor::Add) 0
  }
  <b><font color=#3a6797>foreach</font></b> {itemID name} <font color=#1b1baa>$idnames</font> {
    <b><font color=#3a6797>set</font></b> err no
    <b><font color=#3a6797>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 4] name2 fname2
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq <font color=#1b1baa>$name2</font> && <font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fname2</font>} {
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,addexist)</font>]
        alited::Message <font color=#1b1baa>$msg</font> 4
        <b><font color=#3a6797>set</font></b> err yes
        <b><font color=#3a6797>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} <b><font color=#3a6797>continue</font></b>
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,addfavor)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(ANSWER,favor::Add)</font>==11 || [<b><font color=#3a6797>set</font></b> al(ANSWER,favor::Add)  [alited::msg yesnocancel ques <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]]  in {1 11}} {
      <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
      <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader [<font color=#1b1baa>$obPav</font> Tree] <font color=#1b1baa>$itemID</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idnlen</font>==0} {
        <b><font color=#3a6797>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
        <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$l1</font> eq {} || <font color=#1b1baa>$l2</font> eq {} || <font color=#1b1baa>$l1</font>&gt;<font color=#1b1baa>$pos</font> || <font color=#1b1baa>$l2</font>&lt;<font color=#1b1baa>$pos</font>) ? 0 :  [alited::p+ <font color=#1b1baa>$pos</font> -<font color=#1b1baa>$l1</font>]}]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> line 0 ;<i><font color=#4b5d50># favorites added from the tree</font></i>
      }
      <b><font color=#3a6797>set</font></b> wt2 [<font color=#1b1baa>$obPav</font> TreeFavor]
      <b><font color=#3a6797>set</font></b> ID2 [<font color=#1b1baa>$wt2</font> insert {} 0 <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$name</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$header</font> <font color=#1b1baa>$line</font>]]
      <font color=#1b1baa>$wt2</font> tag add tagNorm <font color=#1b1baa>$ID2</font>
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(ANSWER,favor::Add)</font>} <b><font color=#3a6797>break</font></b>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::AddFromTree'>AddFromTree</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a list of selected items of the tree to Favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddFromTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_85' href="javascript:toggleSource('85')">Show source</a></p>
<div id='85' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::AddFromTree {} {

  <i><font color=#4b5d50># Adds a list of selected items of the tree to Favorites.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> IDs [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$IDs</font> eq {}} {bell; <b><font color=#ca14ca>return</font></b>}
  <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$IDs</font> {
    <b><font color=#3a6797>lappend</font></b> idnames <font color=#1b1baa>$ID</font> [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]]
  }
  Add no <font color=#1b1baa>$idnames</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::CopyDeclaration'>CopyDeclaration</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Copies a current unit's declaration to the clipboard.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CopyDeclaration</span> <span class='ruff_arg'>wtree ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>tree widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_86' href="javascript:toggleSource('86')">Show source</a></p>
<div id='86' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::CopyDeclaration {wtree ID} {

  <i><font color=#4b5d50># Copies a current unit's declaration to the clipboard.</font></i>
  <i><font color=#4b5d50>#   wtree - tree widget's path</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>

  <b><font color=#134070>clipboard</font></b> clear
  <b><font color=#134070>clipboard</font></b> append [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 2]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::CurrentName'>CurrentName</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets data of a current unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentName</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of the unit's data: ID, title, 1st line, last line.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_87' href="javascript:toggleSource('87')">Show source</a></p>
<div id='87' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::CurrentName {} {

  <i><font color=#4b5d50># Gets data of a current unit.</font></i>
  <i><font color=#4b5d50># Returns a list of the unit's data: ID, title, 1st line, last line.</font></i>

  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine {} 1] itemID - - - name l1 l2
  <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq {}} <b><font color=#134070>bell</font></b>
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes an item from favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>?undermouse?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_88' href="javascript:toggleSource('88')">Show source</a></p>
<div id='88' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Delete {{undermouse yes}} {

  <i><font color=#4b5d50># Deletes an item from favorites.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> treelist [alited::tree::GetTree {} TreeFavor]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$undermouse</font>} {
    <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>lindex</font></b> [CurrentName] 1]
    <b><font color=#3a6797>set</font></b> favID {}
    <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$treelist</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> - - ID2 - values
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> name2 fname header line
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name2</font> eq <font color=#1b1baa>$name</font>} {
        <b><font color=#3a6797>set</font></b> favID <font color=#1b1baa>$ID2</font>
        <b><font color=#3a6797>break</font></b>
      }
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {![IsSelected favID name fname sname header line]} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists fname] || <font color=#1b1baa>$fname</font> eq {}} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># for empty list</font></i>
  }
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favID</font> eq {}} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,notfavor)</font>]
    alited::Message <font color=#1b1baa>$msg</font> 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,delfavor)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$undermouse</font>} {<b><font color=#3a6797>set</font></b> geo {<font color=#6c3e67>-geometry</font> pointer+10+-100}} {<b><font color=#3a6797>set</font></b> geo {}}
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font> || [alited::msg yesno warn <font color=#1b1baa>$msg</font> NO {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]} {
    [<font color=#1b1baa>$obPav</font> TreeFavor] delete <font color=#1b1baa>$favID</font>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 2 <font color=#1b1baa>$treelist</font> <font color=#1b1baa>$favID</font>]
      <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::DeleteAll'>DeleteAll</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes all items from favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DeleteAll</span> <span class='ruff_arg'>?undermouse?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>undermouse</code></code></td><td class='ruff_defitem'>if yes, run by mouse click; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_89' href="javascript:toggleSource('89')">Show source</a></p>
<div id='89' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::DeleteAll {{undermouse yes}} {

  <i><font color=#4b5d50># Deletes all items from favorites.</font></i>
  <i><font color=#4b5d50>#   undermouse - if yes, run by mouse click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$undermouse</font>} {<b><font color=#3a6797>set</font></b> geo {<font color=#6c3e67>-geometry</font> pointer+10+-100}} {<b><font color=#3a6797>set</font></b> geo {}}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <b><font color=#3a6797>set</font></b> msg {Remove all of Favorites?}
    <b><font color=#3a6797>set</font></b> listvar al(FAV,current)
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg {Remove all of the last visited?}
    <b><font color=#3a6797>set</font></b> listvar al(FAV,visited)
  }
  <b><font color=#3a6797>set</font></b> favlist [alited::tree::GetTree {} TreeFavor]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$favlist</font> eq {}} {bell; <b><font color=#ca14ca>return</font></b>}
  <b><font color=#3a6797>if</font></b> {[alited::msg yesno warn [msgcat::mc <font color=#1b1baa>$msg</font>] NO {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,favordelall)</font>]} {
    <b><font color=#3a6797>foreach</font></b> curfav <font color=#1b1baa>$favlist</font> {
      [<font color=#1b1baa>$obPav</font> TreeFavor] delete [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$curfav</font> 2]
    }
    <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$listvar</font> [<b><font color=#3a6797>list</font></b>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::GetTooltip'>GetTooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip of favorite / last visited unit's declaration.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTooltip</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of treeview item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_90' href="javascript:toggleSource('90')">Show source</a></p>
<div id='90' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::GetTooltip {ID} {

  <i><font color=#4b5d50># Gets a tip of favorite / last visited unit's declaration.</font></i>
  <i><font color=#4b5d50>#   ID - ID of treeview item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>set</font></b> decl [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 2]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>append</font></b> tip <font color=#1b1baa>$decl</font> \n <font color=#1b1baa>$fname</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::GoToUnit'>GoToUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enters a unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GoToUnit</span> <span class='ruff_arg'>TID name header ?forfavor? ?it1? ?values?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>header of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>forfavor</code></code></td><td class='ruff_defitem'>yes, if Favorites list is clicked and must be updated; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>it1</code></code></td><td class='ruff_defitem'>item selected in Favorites (for forfavor=yes); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>values</code></code></td><td class='ruff_defitem'>values of item selected in Favorites (for forfavor=yes); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if the unit is open successfully.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::SaveCursorPos" title="tree::SaveCursorPos" class='ruff_cmd'>tree::SaveCursorPos</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_91' href="javascript:toggleSource('91')">Show source</a></p>
<div id='91' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::GoToUnit {TID name header {forfavor no} {it1 {}} {values {}}} {

  <i><font color=#4b5d50># Enters a unit.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   name - name of the unit</font></i>
  <i><font color=#4b5d50>#   header - header of the unit</font></i>
  <i><font color=#4b5d50>#   forfavor - yes, if Favorites list is clicked and must be updated</font></i>
  <i><font color=#4b5d50>#   it1 - item selected in Favorites (for forfavor=yes)</font></i>
  <i><font color=#4b5d50>#   values - values of item selected in Favorites (for forfavor=yes)</font></i>
  <i><font color=#4b5d50># Returns yes, if the unit is open successfully.</font></i>
  <i><font color=#4b5d50># See also: tree::SaveCursorPos</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq [alited::tree::UnitTitle <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$forfavor</font>} {
        <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
        <font color=#1b1baa>$wtree</font> delete <font color=#1b1baa>$it1</font>
        <b><font color=#3a6797>set</font></b> favID [<font color=#1b1baa>$wtree</font> insert {} 0 <font color=#6c3e67>-values</font> <font color=#1b1baa>$values</font>]
        <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$favID</font>
      }
      LastVisited [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-text</font> <font color=#1b1baa>$name</font>] <font color=#1b1baa>$header</font>
      <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 7]  ;<i><font color=#4b5d50># saved cursor position</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> ne {}} {<b><font color=#3a6797>set</font></b> pos <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>pos yes&quot;</font>}
      <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;alited::tree::NewSelection <font color=#1b1baa>$</font>treeID <font color=#1b1baa>$</font>pos&quot;</font>
      <b><font color=#ca14ca>return</font></b> yes
    }
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::IsSelected'>IsSelected</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets data of currently selected item of favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsSelected</span> <span class='ruff_arg'>IDN nameN fnameN snameN headerN lineN</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>IDN</code></code></td><td class='ruff_defitem'>variable name of item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>nameN</code></code></td><td class='ruff_defitem'>variable name of item's name</td></tr>
<tr><td class='ruff_defitem'><code><code>fnameN</code></code></td><td class='ruff_defitem'>variable name of item's file name</td></tr>
<tr><td class='ruff_defitem'><code><code>snameN</code></code></td><td class='ruff_defitem'>variable name of item's tail file name</td></tr>
<tr><td class='ruff_defitem'><code><code>headerN</code></code></td><td class='ruff_defitem'>variable name of item's header</td></tr>
<tr><td class='ruff_defitem'><code><code>lineN</code></code></td><td class='ruff_defitem'>variable name of item's 1st line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_92' href="javascript:toggleSource('92')">Show source</a></p>
<div id='92' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::IsSelected {IDN nameN fnameN snameN headerN lineN} {

  <i><font color=#4b5d50># Gets data of currently selected item of favorites.</font></i>
  <i><font color=#4b5d50>#   IDN - variable name of item's ID</font></i>
  <i><font color=#4b5d50>#   nameN - variable name of item's name</font></i>
  <i><font color=#4b5d50>#   fnameN - variable name of item's file name</font></i>
  <i><font color=#4b5d50>#   snameN - variable name of item's tail file name</font></i>
  <i><font color=#4b5d50>#   headerN - variable name of item's header</font></i>
  <i><font color=#4b5d50>#   lineN - variable name of item's 1st line</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>upvar</font></b> 1 <font color=#1b1baa>$IDN</font> ID <font color=#1b1baa>$nameN</font> name <font color=#1b1baa>$fnameN</font> fname <font color=#1b1baa>$snameN</font> sname <font color=#1b1baa>$headerN</font> header <font color=#1b1baa>$lineN</font> line
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ID [alited::tree::CurrentItem TreeFavor]] eq {}} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] name fname header line
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::LastVisited'>LastVisited</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts an item to &quot;Last visited&quot; list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LastVisited</span> <span class='ruff_arg'>item header ?l1?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>list of tree's item data (first two: -text {label})</td></tr>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>header of item</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>starting line of a last visited unit, if any; <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_93' href="javascript:toggleSource('93')">Show source</a></p>
<div id='93' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::LastVisited {item header {l1 -1}} {

  <i><font color=#4b5d50># Puts an item to &quot;Last visited&quot; list.</font></i>
  <i><font color=#4b5d50>#   item - list of tree's item data (first two: -text {label})</font></i>
  <i><font color=#4b5d50>#   header - header of item</font></i>
  <i><font color=#4b5d50>#   l1 - starting line of a last visited unit, if any</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[SkipVisited]} {
    <i><font color=#4b5d50># avoid a false run at switching to a file from infobar/favorites</font></i>
    SkipVisited no
    <b><font color=#ca14ca>return</font></b>
  }
  <i><font color=#4b5d50># check for &quot;All of...&quot; - don't save it</font></i>
  <b><font color=#3a6797>set</font></b> allof [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$al(MC,alloffile)</font> 0 [<b><font color=#3a6797>string</font></b> first \&quot; <font color=#1b1baa>$al(MC,alloffile)</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$allof</font> <font color=#1b1baa>$header</font>]==0} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># check for &quot;Lines...&quot; - don't save it</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#7d1a1a>&quot;^<font color=#1b1baa>$</font>al(MC,lines) \\d+-\\d+\$&quot;</font> <font color=#1b1baa>$header</font>]} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># check for an empty item - don't save it</font></i>
  <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 1]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name</font>] eq {}} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># checks done, save this last visit</font></i>
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> lvisit [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$name</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$header</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lvisit</font> eq [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 0 4]} {
    <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># already 1st: no need to put it</font></i>
  }
  <i><font color=#4b5d50># search an old item</font></i>
  <b><font color=#3a6797>set</font></b> found no
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>set</font></b> ln <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>expr <font color=#1b1baa>{</font>int(<font color=#1b1baa>[[</font>alited::main::CurrentWTXT<font color=#1b1baa>]</font> index insert<font color=#1b1baa>]</font>)<font color=#1b1baa>}]</font>&quot;</font>
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(FAV,visited)</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> - - ID - values
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> name2 fname2 header2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fname2</font> && <font color=#1b1baa>$header</font> eq <font color=#1b1baa>$header2</font>} {
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$i</font>} <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># already 1st: no need to put it</font></i>
      <b><font color=#3a6797>set</font></b> found yes
      <i><font color=#4b5d50># if found, move it to 0th position</font></i>
      <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>break</font></b>
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$found</font> && <font color=#1b1baa>$ln</font> eq <font color=#1b1baa>$l1</font>} {
    <i><font color=#4b5d50># already 1st in last visits, maybe with a changed name</font></i>
    <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 0 0]
  }
  <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 0 [<b><font color=#3a6797>list</font></b> - - - - <font color=#1b1baa>$lvisit</font>]]
  <i><font color=#4b5d50># delete last items if the list's limit is exceeded</font></i>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(FAV,visited)</font> <font color=#1b1baa>$al(FAV,MAXLAST)</font> end]}
  <i><font color=#4b5d50># update the tree widget</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    SetFavorites <font color=#1b1baa>$al(FAV,visited)</font>
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> id0 [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> children {}] 0]] ne {}} {
      <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$id0</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Lists'>Lists</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Lists</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_94' href="javascript:toggleSource('94')">Show source</a></p>
<div id='94' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Lists {} {

  <i><font color=#4b5d50># Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.</font></i>

  <b><font color=#3a6797>variable</font></b> initialFavs
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$initialFavs</font>]} {
    <b><font color=#3a6797>set</font></b> initialFavs [alited::tree::GetTree {} TreeFavor]
  }
  <b><font color=#3a6797>lassign</font></b> [::alited::favor_ls::_run] pla cont
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$pla</font> {
    1 {SetFavorites <font color=#1b1baa>$cont</font>}
    2 {SetAndClose <font color=#1b1baa>$cont</font>}
    3 {SetFavorites <font color=#1b1baa>$initialFavs</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::OpenSelectedFile'>OpenSelectedFile</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a file from a selected item of favorites/last visited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenSelectedFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns tab's ID, if the file is open successfully.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_95' href="javascript:toggleSource('95')">Show source</a></p>
<div id='95' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::OpenSelectedFile {fname} {

  <i><font color=#4b5d50># Opens a file from a selected item of favorites/last visited.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50># Returns tab's ID, if the file is open successfully.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(dolastvisited) no
  <b><font color=#3a6797>set</font></b> TID [alited::file::OpenFile <font color=#1b1baa>$fname</font> yes]
  <b><font color=#3a6797>set</font></b> al(dolastvisited) yes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font>] [msgcat::mc {File not found: %f}]]
    alited::Message <font color=#1b1baa>$msg</font> 4
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::PopupMenu'>PopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and runs a popup menu at clicking Favorites / last visited list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupMenu</span> <span class='ruff_arg'>x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify tree item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_96' href="javascript:toggleSource('96')">Show source</a></p>
<div id='96' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::PopupMenu {x y X Y} {

  <i><font color=#4b5d50># Prepares and runs a popup menu at clicking Favorites / last visited list.</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify tree item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify tree item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of the mouse pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtree</font> selection]] ne {}} {
    <font color=#1b1baa>$wtree</font> selection remove <font color=#1b1baa>$sel</font>
  }
  <font color=#1b1baa>$wtree</font> selection add <font color=#1b1baa>$ID</font>
  ShowPopupMenu <font color=#1b1baa>$ID</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_97' href="javascript:toggleSource('97')">Show source</a></p>
<div id='97' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Select {} {

  <i><font color=#4b5d50># Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(_MSEC)] && [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$al(_MSEC)</font>)&lt;800}]} {
    <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># disables double click</font></i>
  }
  <b><font color=#3a6797>set</font></b> al(_MSEC) <font color=#1b1baa>$msec</font>
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>if</font></b> {![IsSelected favID name fname sname header line]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> values [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$favID</font> <font color=#6c3e67>-values</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [OpenSelectedFile <font color=#1b1baa>$fname</font>]] eq {}} <b><font color=#ca14ca>return</font></b>
  <i><font color=#4b5d50># scan Favorites/last-visited tree, to find the selected item</font></i>
  <i><font color=#4b5d50># and remake favorites and last visits; then go to the selected unit</font></i>
  <b><font color=#3a6797>foreach</font></b> it1 [<font color=#1b1baa>$wtree</font> children {}] {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$it1</font> <font color=#6c3e67>-values</font>] 0]} {
      <b><font color=#3a6797>if</font></b> {[GoToUnit <font color=#1b1baa>$TID</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$header</font> <font color=#1b1baa>$al(FAV,IsFavor)</font> <font color=#1b1baa>$it1</font> <font color=#1b1baa>$values</font>]} <b><font color=#ca14ca>return</font></b>
      <b><font color=#3a6797>break</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %u <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,notfndunit)</font>]
  alited::Message <font color=#1b1baa>$msg</font> 4
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SetAndClose'>SetAndClose</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets favorites list, opens files from favorites list, closes other files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetAndClose</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of favorites</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_98' href="javascript:toggleSource('98')">Show source</a></p>
<div id='98' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SetAndClose {cont} {

  <i><font color=#4b5d50># Sets favorites list, opens files from favorites list, closes other files.</font></i>
  <i><font color=#4b5d50>#   cont - list of favorites</font></i>

  SetFavorites <font color=#1b1baa>$cont</font>
  <b><font color=#3a6797>set</font></b> fnamecont {}
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>set</font></b> found no
    <b><font color=#3a6797>foreach</font></b> fit <font color=#1b1baa>$cont</font> {
      <b><font color=#3a6797>set</font></b> fnamecont [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fit</font> 4 1]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fnamecont</font>} {
        <b><font color=#3a6797>set</font></b> found yes
        <b><font color=#3a6797>break</font></b>
      }
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$found</font>} {
      <b><font color=#3a6797>if</font></b> {![alited::file::CloseFile <font color=#1b1baa>$TID</font> no]} <b><font color=#3a6797>break</font></b>
      alited::bar::BAR <font color=#1b1baa>$TID</font> close no
    }
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listTab]]} {
    <i><font color=#4b5d50># no tabs open</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnamecont</font> ne {}} {
      alited::file::OpenFile <font color=#1b1baa>$fnamecont</font> yes ;<i><font color=#4b5d50>#  open a file from favorites</font></i>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::CheckForNew  ;<i><font color=#4b5d50># ... or create &quot;no name&quot; tab</font></i>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SetFavorites'>SetFavorites</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets favorites/last visited list in the treeview.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetFavorites</span> <span class='ruff_arg'>cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>list of favorites/last visited</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_99' href="javascript:toggleSource('99')">Show source</a></p>
<div id='99' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SetFavorites {cont} {

  <i><font color=#4b5d50># Sets favorites/last visited list in the treeview.</font></i>
  <i><font color=#4b5d50>#   cont - list of favorites/last visited</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
    <font color=#1b1baa>$wtree</font> delete [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 2]
  }
  <b><font color=#3a6797>foreach</font></b> curfav <font color=#1b1baa>$cont</font> {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$curfav</font> - - - - values
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$values</font> ne {}} {
        <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> insert {} end <font color=#6c3e67>-values</font> <font color=#1b1baa>$values</font>]
        <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$itemID</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::Show'>Show</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a list of favorites / last visited units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Show</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_100' href="javascript:toggleSource('100')">Show source</a></p>
<div id='100' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::Show {} {

  <i><font color=#4b5d50># Shows a list of favorites / last visited units.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    [<font color=#1b1baa>$obPav</font> BuTVisitF] configure <font color=#6c3e67>-image</font> alimg_misc
    <b><font color=#3a6797>set</font></b> tip <font color=#1b1baa>$alited::al(MC,lastvisit)</font>
    <b><font color=#3a6797>set</font></b> state normal
    SetFavorites <font color=#1b1baa>$al(FAV,current)</font>
    <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc <font color=#1b1baa>$al(MC,favorites)</font>]

  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(FAV,current) [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> it [alited::tree::GetTree {} TreeFavor] {
      <b><font color=#3a6797>lappend</font></b> al(FAV,current) <font color=#1b1baa>$it</font>
    }
    [<font color=#1b1baa>$obPav</font> BuTVisitF] configure <font color=#6c3e67>-image</font> alimg_heart
    <b><font color=#3a6797>set</font></b> tip <font color=#1b1baa>$al(MC,favorites)</font>
    <b><font color=#3a6797>set</font></b> state disable
    SetFavorites <font color=#1b1baa>$al(FAV,visited)</font>
    <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc <font color=#1b1baa>$al(MC,lastvisit)</font>]
  }
  <b><font color=#3a6797>foreach</font></b> but {BuTListF BuTAddF} {
    [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$but</font>] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  }
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTVisitF] <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::ShowFavVisit'>ShowFavVisit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Show favorites/last visits, depending on the mode.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowFavVisit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_101' href="javascript:toggleSource('101')">Show source</a></p>
<div id='101' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::ShowFavVisit {} {

  <i><font color=#4b5d50># Show favorites/last visits, depending on the mode.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  SetFavorites <font color=#1b1baa>$al(FAV,current)</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>} Show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::ShowPopupMenu'>ShowPopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a popup menu at clicking Favorites / last visited list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowPopupMenu</span> <span class='ruff_arg'>ID X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_102' href="javascript:toggleSource('102')">Show source</a></p>
<div id='102' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::ShowPopupMenu {ID X Y} {

  <i><font color=#4b5d50># Displays a popup menu at clicking Favorites / last visited list.</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of the mouse pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  ::baltip sleep 1000
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> TreeFavor]
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$wtree</font>.popup
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 0]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$sname</font>]&gt;25} {<b><font color=#3a6797>set</font></b> sname <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>sname 0 21<font color=#1b1baa>]</font>...&quot;</font>}
  <b><font color=#3a6797>set</font></b> msgsel [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %t <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,selfavor)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <b><font color=#3a6797>set</font></b> img alimg_misc
    <b><font color=#3a6797>set</font></b> lab <font color=#1b1baa>$al(MC,lastvisit)</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> img alimg_heart
    <b><font color=#3a6797>set</font></b> lab <font color=#1b1baa>$al(MC,favorites)</font>
  }
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$lab</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> alited::favor::SwitchFavVisit <font color=#6c3e67>-image</font> <font color=#1b1baa>$img</font>
  <font color=#1b1baa>$popm</font> add separator
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,FavLists)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> ::alited::favor::Lists <font color=#6c3e67>-image</font> alimg_heart
    <font color=#1b1baa>$popm</font> add separator
    <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favoradd)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> {::alited::favor::Add no} <font color=#6c3e67>-image</font> alimg_add
  }
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favordel)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> {::alited::favor::Delete no} <font color=#6c3e67>-image</font> alimg_delete
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favordelall)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> {::alited::favor::DeleteAll no} <font color=#6c3e67>-image</font> alimg_trash
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,copydecl)</font> {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none]  <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;::alited::favor::CopyDeclaration <font color=#1b1baa>$</font>wtree <font color=#1b1baa>$</font>ID&quot;</font>
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SkipVisited'>SkipVisited</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets a flag to skip remembering a last visit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SkipVisited</span> <span class='ruff_arg'>?flag?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>flag</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_103' href="javascript:toggleSource('103')">Show source</a></p>
<div id='103' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SkipVisited {{flag {}}} {

  <i><font color=#4b5d50># Sets/gets a flag to skip remembering a last visit.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fln _FLAGSKIPLV
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$flag</font> eq {}} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>info</font></b> exists al(<font color=#1b1baa>$fln</font>)] && <font color=#1b1baa>$al($fln)</font>}]
  }
  <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$fln</font>) <font color=#1b1baa>$flag</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor::SwitchFavVisit'>SwitchFavVisit</a><span class='ns_scope'> [<a href="alited.html#::alited::favor" title="::alited::favor" class='ruff_cmd'>::alited::favor</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor'>favor</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches favorites / last visited units' view.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchFavVisit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_104' href="javascript:toggleSource('104')">Show source</a></p>
<div id='104' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor::SwitchFavVisit {} {

  <i><font color=#4b5d50># Switches favorites / last visited units' view.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(FAV,IsFavor) [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$al(FAV,IsFavor)</font>}]
  Show
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::favor_ls'></a>::alited::favor_ls<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::favor_ls-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Favorites lists&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_105' href="javascript:toggleSource('105')">Show source</a></p>
<div id='105' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::_create {} {

  <i><font color=#4b5d50># Creates &quot;Favorites lists&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> fav
  <font color=#1b1baa>$obDl2</font> makeWindow <font color=#1b1baa>$win</font> <font color=#1b1baa>$al(MC,favorites)</font>
  <font color=#1b1baa>$obDl2</font> paveWindow <font color=#1b1baa>$win</font> {
    {fraLbxFav - - 1 2 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-pady</font> 4} {}}
    {.labFavs - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-anchor</font> nw <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Lists of favorites:&quot;</font>}}
    {.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> both} {}}
    {.fra.buTAd - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-anchor</font> n} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::favor_ls::Add <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Add a list of favorites&quot;</font> <font color=#6c3e67>-image</font> alimg_add-big}}
    {.fra.buTChg - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::favor_ls::Change <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Change a list of favorites&quot;</font> <font color=#6c3e67>-image</font> alimg_change-big}}
    {.fra.buTDel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::favor_ls::Delete <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Delete a list of favorites&quot;</font> <font color=#6c3e67>-image</font> alimg_delete-big}}
    {.LbxFav - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-h</font> 7 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-lvar</font> ::alited::favor_ls::favlist}}
    {.sbvFavs fraLbxFav.LbxFav L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both} {}}
    {fra1 fraLbxFav T 1 2 {<font color=#6c3e67>-st</font> nswe}}
    {fra1.fraEnt - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-pady</font> 4}}
    {.labFav - - 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Current list of favorites:&quot;</font>}}
    {.EntFav fra1.labFav L 1 1 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-tvar</font> ::alited::favor_ls::fav <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,favent1)</font>}}}
    {fra1.fratex fra1.labFav T 1 2 {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom}}
    {.TexFav - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-h</font> 7 <font color=#6c3e67>-w</font> 60 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Favorites of the current list&quot;</font> <font color=#6c3e67>-ro</font> 1}}
    {.sbvFav .TexFav L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
    {fra2 fra1 T 1 2 {<font color=#6c3e67>-st</font> nswe} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {.labBA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Non-favorite files to be:&quot;</font>}}
    {.radA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> kept <font color=#6c3e67>-var</font> ::alited::favor_ls::place <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Doesn't close any tab without favorites\nat choosing Favorites' list&quot;</font>}}
    {.radB - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> closed <font color=#6c3e67>-var</font> ::alited::favor_ls::place <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Closes all tabs without favorites\nat choosing Favorites' list&quot;</font>}}
    {LabMess fra2 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-style</font> TLabelFS}}
    {fra3 labMess T 1 2 {<font color=#6c3e67>-st</font> nswe}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>alited::al(MC,help)&quot;</font> <font color=#6c3e67>-command</font> ::alited::favor_ls::Help}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 4}}
    {.butUndo - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> Back <font color=#6c3e67>-command</font> {::alited::favor_ls::Ok 3} <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Sets a list of Favorites\nthat was active initially.&quot;</font>}}
    {.butOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>alited::al(MC,select)&quot;</font> <font color=#6c3e67>-command</font> ::alited::favor_ls::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-command</font> ::alited::favor_ls::Cancel}}
  }

  <b><font color=#3a6797>set</font></b> fav {}
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obDl2</font> LbxFav]
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl2</font> TexFav]
  GetCurrentList
  Restore_favlist
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;&lt;ListboxSelect&gt;&gt; ::alited::favor_ls::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;FocusIn&gt; ::alited::favor_ls::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;Delete&gt; ::alited::favor_ls::Delete
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;Double-Button-1&gt; ::alited::favor_ls::Ok
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbx</font> &lt;Return&gt; ::alited::favor_ls::Ok
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#7d1a1a>&quot;<font color=#1b1baa>[$</font>obDl2 ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#3a6797>after</font></b> 500 ::alited::favor_ls::HelpMe ;<i><font color=#4b5d50># show an introduction after a short pause</font></i>
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl2</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-resizable</font> {0 0}  <font color=#6c3e67>-onclose</font> ::alited::favor_ls::Cancel <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obDl2</font> EntFav]]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Favorites lists&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_106' href="javascript:toggleSource('106')">Show source</a></p>
<div id='106' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::_run {} {

  <i><font color=#4b5d50># Runs &quot;Favorites lists&quot; dialogue.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> res [_create]
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Add favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_107' href="javascript:toggleSource('107')">Show source</a></p>
<div id='107' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Add {} {

  <i><font color=#4b5d50># Handles hitting &quot;Add favorites' list&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [[<font color=#1b1baa>$obDl2</font> LbxFav] curselection]] eq {}} {
    <b><font color=#3a6797>set</font></b> cont <font color=#1b1baa>$currents</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#3a6797>set</font></b> found no
  <b><font color=#3a6797>set</font></b> isel 0
  <b><font color=#3a6797>foreach</font></b> f <font color=#1b1baa>$favlist</font> p <font color=#1b1baa>$favpla</font> c <font color=#1b1baa>$favcont</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fav</font> eq <font color=#1b1baa>$f</font> || (<font color=#1b1baa>$p</font> eq <font color=#1b1baa>$place</font> && <font color=#1b1baa>$c</font> eq <font color=#1b1baa>$cont</font>)} {
      <b><font color=#3a6797>set</font></b> found yes
      <b><font color=#3a6797>break</font></b>
    }
    <b><font color=#3a6797>incr</font></b> isel
  }
  <b><font color=#3a6797>set</font></b> fav [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$fav</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fav</font> ne <font color=#7d1a1a>&quot;&quot;</font> && <font color=#1b1baa>$cont</font> ne <font color=#7d1a1a>&quot;&quot;</font> && <font color=#1b1baa>$found</font>} {
    alited::Message2 <font color=#1b1baa>$al(MC,favexists)</font> 4
    Select <font color=#1b1baa>$isel</font>
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$fav</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> EntFav]
    alited::Message2 <font color=#1b1baa>$al(MC,favent1)</font> 4
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$cont</font>] eq <font color=#7d1a1a>&quot;&quot;</font>} {
    alited::Message2 <font color=#1b1baa>$al(MC,favent3)</font> 4
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> isel end
    <b><font color=#3a6797>lappend</font></b> favlist <font color=#1b1baa>$fav</font>
    <b><font color=#3a6797>lappend</font></b> favcont <font color=#1b1baa>$cont</font>
    <b><font color=#3a6797>lappend</font></b> favpla <font color=#1b1baa>$place</font>
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$favlist</font>]] <font color=#1b1baa>$al(MC,favnew)</font>]
    alited::Message2 <font color=#1b1baa>$msg</font>
  }
  Focus <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting Cancel button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_108' href="javascript:toggleSource('108')">Show source</a></p>
<div id='108' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Cancel {args} {

  <i><font color=#4b5d50># Handles hitting Cancel button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  Save_favlist
  <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Change favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_109' href="javascript:toggleSource('109')">Show source</a></p>
<div id='109' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Change {} {

  <i><font color=#4b5d50># Handles hitting &quot;Change favorites' list&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected]] eq <font color=#7d1a1a>&quot;&quot;</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isl1 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$fav</font>]]!=<font color=#1b1baa>$isel</font>} {
    alited::Message2 <font color=#1b1baa>$al(MC,favexists)</font> 4
    Select <font color=#1b1baa>$isl1</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> favlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$fav</font>]
    <b><font color=#3a6797>set</font></b> favpla [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$place</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>incr</font></b> isel]] <font color=#1b1baa>$al(MC,favupd)</font>]
    alited::Message2 <font color=#1b1baa>$msg</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Delete favorites' list&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_110' href="javascript:toggleSource('110')">Show source</a></p>
<div id='110' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Delete {} {

  <i><font color=#4b5d50># Handles hitting &quot;Delete favorites' list&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected]] eq <font color=#7d1a1a>&quot;&quot;</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> nsel [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$isel</font>+1}]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,favdelq)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> NO <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,warning)</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> favlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> favcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> favpla [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$favlist</font>]-1}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font>&gt;<font color=#1b1baa>$llen</font>} {<b><font color=#3a6797>set</font></b> isel <font color=#1b1baa>$llen</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>&gt;=0} {Select <font color=#1b1baa>$isel</font>}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,favrem)</font>]
  alited::Message2 <font color=#1b1baa>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Focus'>Focus</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Focuses on an item of the list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Focus</span> <span class='ruff_arg'>isel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>the item to focus on</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_111' href="javascript:toggleSource('111')">Show source</a></p>
<div id='111' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Focus {isel} {

  <i><font color=#4b5d50># Focuses on an item of the list.</font></i>
  <i><font color=#4b5d50>#   isel - the item to focus on</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obDl2</font> LbxFav]
  <font color=#1b1baa>$lbx</font> selection clear 0 end
  <font color=#1b1baa>$lbx</font> selection set <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>
  <font color=#1b1baa>$lbx</font> see <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::GetCurrentList'>GetCurrentList</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current list of favorites from alited's main form.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCurrentList</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>a list of favorites</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If args is omitted, the current favorites tree's contents will be the list.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_112' href="javascript:toggleSource('112')">Show source</a></p>
<div id='112' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::GetCurrentList {args} {

  <i><font color=#4b5d50># Gets a current list of favorites from alited's main form.</font></i>
  <i><font color=#4b5d50>#   args - a list of favorites</font></i>
  <i><font color=#4b5d50># If args is omitted, the current favorites tree's contents will be the list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>set</font></b> text [<b><font color=#3a6797>set</font></b> currents {}]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$args</font>]} {<b><font color=#3a6797>set</font></b> args [alited::tree::GetTree {} TreeFavor]}
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$args</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$text</font> ne {}} {
      <b><font color=#3a6797>append</font></b> text \n
      <b><font color=#3a6797>append</font></b> currents <font color=#1b1baa>$::alited::EOL</font>
    }
    <b><font color=#3a6797>append</font></b> text [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$it</font> 4 0]
    <b><font color=#3a6797>append</font></b> currents <font color=#1b1baa>$it</font>
  }
  <b><font color=#3a6797>set</font></b> w [<font color=#1b1baa>$obDl2</font> TexFav]
  <font color=#1b1baa>$obDl2</font> readonlyWidget <font color=#1b1baa>$w</font> no
  <font color=#1b1baa>$obDl2</font> displayText <font color=#1b1baa>$w</font> <font color=#1b1baa>$text</font>
  <font color=#1b1baa>$obDl2</font> readonlyWidget <font color=#1b1baa>$w</font> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::GetIni'>GetIni</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads favorites' lists data, stored in the ini file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetIni</span> <span class='ruff_arg'>lines</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lines</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_113' href="javascript:toggleSource('113')">Show source</a></p>
<div id='113' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::GetIni {lines} {

  <i><font color=#4b5d50># Reads favorites' lists data, stored in the ini file.</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favlistsaved
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> currents
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>set</font></b> lines [Split <font color=#1b1baa>$lines</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$lines</font>]&lt;3} {
    <i><font color=#4b5d50># initialize arrays</font></i>
    <b><font color=#3a6797>set</font></b> favlist [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> favlistsaved [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> favcont [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> favpla  [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> currents [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> fav {}
    <b><font color=#3a6797>set</font></b> place 1
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$lines</font> 2 end]] ne {}} {
    <b><font color=#3a6797>lappend</font></b> favlist [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$lines</font> 0]
    <b><font color=#3a6797>lappend</font></b> favpla  [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$lines</font> 1]
    <b><font color=#3a6797>lappend</font></b> favcont [<b><font color=#3a6797>join</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$::alited::EOL</font>]
  }
  Save_favlist
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting Help button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_114' href="javascript:toggleSource('114')">Show source</a></p>
<div id='114' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Help {args} {

  <i><font color=#4b5d50># Handles hitting Help button.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::Help <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' for start.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_115' href="javascript:toggleSource('115')">Show source</a></p>
<div id='115' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::HelpMe {args} {

  <i><font color=#4b5d50># 'Help' for start.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::HelpMe <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::IniFile'>IniFile</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the ini file's name to store favorites' lists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IniFile</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the ini file's name to store favorites' lists.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_116' href="javascript:toggleSource('116')">Show source</a></p>
<div id='116' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::IniFile {} {

  <i><font color=#4b5d50># Returns the ini file's name to store favorites' lists.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::INIDIR</font> favor_ls.ini]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting OK button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?res?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>if 0, sets the dialogue's result from a current favorites item; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_117' href="javascript:toggleSource('117')">Show source</a></p>
<div id='117' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Ok {{res 0}} {

  <i><font color=#4b5d50># Handles hitting OK button.</font></i>
  <i><font color=#4b5d50>#   res - if 0, sets the dialogue's result from a current favorites item.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected]] eq {}} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> LbxFav]
      <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>set</font></b> pla [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$pla</font> [Split <font color=#1b1baa>$cont</font>]]
  }
  Save_favlist
  <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::PutIni'>PutIni</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes favorites' lists data to store to the ini file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PutIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_118' href="javascript:toggleSource('118')">Show source</a></p>
<div id='118' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::PutIni {} {

  <i><font color=#4b5d50># Makes favorites' lists data to store to the ini file.</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  Restore_favlist
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> fav <font color=#1b1baa>$favlist</font> pla <font color=#1b1baa>$favpla</font> cont <font color=#1b1baa>$favcont</font> {
    <b><font color=#3a6797>set</font></b> r1 <font color=#1b1baa>$fav</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$::alited::EOL</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$pla</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$::alited::EOL</font>
    <b><font color=#3a6797>append</font></b> r1 <font color=#1b1baa>$cont</font>
    <b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$r1</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Restore_favlist'>Restore_favlist</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores favorites' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Restore_favlist</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_119' href="javascript:toggleSource('119')">Show source</a></p>
<div id='119' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Restore_favlist {} {

  <i><font color=#4b5d50># Restores favorites' list.</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favlistsaved
  <b><font color=#3a6797>set</font></b> favlist <font color=#1b1baa>$favlistsaved</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Save_favlist'>Save_favlist</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves favorites' list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Save_favlist</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_120' href="javascript:toggleSource('120')">Show source</a></p>
<div id='120' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Save_favlist {} {

  <i><font color=#4b5d50># Saves favorites' list.</font></i>

  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favlistsaved
  <b><font color=#3a6797>set</font></b> favlistsaved <font color=#1b1baa>$favlist</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection in the list of favorites' lists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?isel?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>a selected item of the list; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_121' href="javascript:toggleSource('121')">Show source</a></p>
<div id='121' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Select {{isel {}}} {

  <i><font color=#4b5d50># Handles a selection in the list of favorites' lists.</font></i>
  <i><font color=#4b5d50>#   isel - a selected item of the list</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>variable</font></b> favcont
  <b><font color=#3a6797>variable</font></b> favpla
  <b><font color=#3a6797>variable</font></b> fav
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obDl2</font> LbxFav]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> eq {}} {<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$lbx</font> curselection]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> eq {} && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$favlist</font>]} {<b><font color=#3a6797>set</font></b> isel 0}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fav [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favlist</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> place [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favpla</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> cont [Split [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$favcont</font> <font color=#1b1baa>$isel</font>]]
    GetCurrentList {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$cont</font>
    Focus <font color=#1b1baa>$isel</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a selected item of favorites list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_122' href="javascript:toggleSource('122')">Show source</a></p>
<div id='122' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Selected {} {

  <i><font color=#4b5d50># Gets a selected item of favorites list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> favlist
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [[<font color=#1b1baa>$obDl2</font> LbxFav] curselection]] eq {}} {
    alited::Message2 <font color=#1b1baa>$al(MC,favsel)</font> 4
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Split'>Split</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Splits a saved list by the list's dividers.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Split</span> <span class='ruff_arg'>lines</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lines</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_123' href="javascript:toggleSource('123')">Show source</a></p>
<div id='123' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Split {lines} {

  <i><font color=#4b5d50># Splits a saved list by the list's dividers.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$::alited::EOL</font> \n] <font color=#1b1baa>$lines</font>] \n]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::favor_ls::Text'>Text</a><span class='ns_scope'> [<a href="alited.html#::alited::favor_ls" title="::alited::favor_ls" class='ruff_cmd'>::alited::favor_ls</a>]</span><span class='tinylink'><a href='alited.html#::alited::favor_ls'>favor_ls</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a text with a list of favorites.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_124' href="javascript:toggleSource('124')">Show source</a></p>
<div id='124' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::favor_ls::Text {} {

  <i><font color=#4b5d50># Gets a text with a list of favorites.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#ca14ca>return</font></b> [[<font color=#1b1baa>$obDl2</font> TexFav] get 1.0 {end -1 char}]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::file'></a>::alited::file<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::file-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::file::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a file at the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_125' href="javascript:toggleSource('125')">Show source</a></p>
<div id='125' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Add {ID} {

  <i><font color=#4b5d50># Creates a file at the file tree.</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav obDl2 obDl2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq {}} {<b><font color=#3a6797>set</font></b> ID [alited::tree::CurrentItem]}
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> dname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$dname</font>]} {
    <b><font color=#3a6797>set</font></b> fname {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dname</font>]
    <b><font color=#3a6797>set</font></b> dname [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$dname</font>]
  }
  <b><font color=#3a6797>set</font></b> head [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$dname</font>] <font color=#1b1baa>$al(MC,filesadd2)</font>]
  <b><font color=#3a6797>while</font></b> {1} {
    <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$al(MC,filesadd)</font> [<b><font color=#3a6797>list</font></b>  seh {{} {<font color=#6c3e67>-pady</font> 10}} {}  ent {{File name:} {} {<font color=#6c3e67>-w</font> 40}} <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>fname<font color=#1b1baa>}</font>&quot;</font>  chb [<b><font color=#3a6797>list</font></b> {} {<font color=#6c3e67>-padx</font> 5} [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-toprev</font> 1 <font color=#6c3e67>-t</font> Directory]] {0} ]  <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font> <font color=#6c3e67>-family</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>{[</font>::apave::obj basicTextFont<font color=#1b1baa>]}</font>&quot;</font>]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$res</font> res fname isdir
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> && <font color=#1b1baa>$fname</font> eq {}} <b><font color=#134070>bell</font></b> else break
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dname</font> <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isdir</font>} {
        <b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$fname</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>] eq {}} {<b><font color=#3a6797>append</font></b> fname .tcl}
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {<b><font color=#3a6797>close</font></b> [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$fname</font> w]}
        OpenFile <font color=#1b1baa>$fname</font>
      }
      <font color=#1b1baa>$wtree</font> selection set {}
      alited::tree::RecreateTree
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isdir</font>} {
        <i><font color=#4b5d50># find the created directory</font></i>
        <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree] {
          <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> - - ID - data
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> dname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$data</font> 1]] eq <font color=#1b1baa>$fname</font>} {
            <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> selection remove [<font color=#1b1baa>$wtree</font> selection]}
            <font color=#1b1baa>$wtree</font> selection add <font color=#1b1baa>$ID</font>
            <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$ID</font>
            <b><font color=#3a6797>break</font></b>
          }
        }
      }
    } err]} <b><font color=#3a6797>then</font></b> {
      alited::msg ok err <font color=#1b1baa>$err</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::AddRecent'>AddRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddRecent</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_126' href="javascript:toggleSource('126')">Show source</a></p>
<div id='126' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::AddRecent {fname} {

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  InsertRecent <font color=#1b1baa>$fname</font> 0
  alited::menu::FillRecent
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::AllSaved'>AllSaved</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks whether all files are saved. Saves them if not.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AllSaved</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_127' href="javascript:toggleSource('127')">Show source</a></p>
<div id='127' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::AllSaved {} {

  <i><font color=#4b5d50># Checks whether all files are saved. Saves them if not.</font></i>

  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>switch</font></b> [IsSaved <font color=#1b1baa>$TID</font>] {
      0 { ;<i><font color=#4b5d50># &quot;Cancel&quot; chosen for a modified</font></i>
        <b><font color=#ca14ca>return</font></b> no
      }
      1 { ;<i><font color=#4b5d50># &quot;Save&quot; chosen for a modified</font></i>
        <b><font color=#3a6797>set</font></b> res [SaveFile <font color=#1b1baa>$TID</font> yes]
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CheckForNew'>CheckForNew</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckForNew</span> <span class='ruff_arg'>?docheck?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>docheck</code></code></td><td class='ruff_defitem'>if yes, does checking, if no - run itself with docheck=yes; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_128' href="javascript:toggleSource('128')">Show source</a></p>
<div id='128' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CheckForNew {{docheck no}} {

  <i><font color=#4b5d50># Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.</font></i>
  <i><font color=#4b5d50>#   docheck - if yes, does checking, if no - run itself with docheck=yes</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$docheck</font>} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listTab]]} {
      alited::file::NewFile
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>after</font></b> idle {::alited::file::CheckForNew yes}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ChooseRecent'>ChooseRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>ChooseRecent</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_129' href="javascript:toggleSource('129')">Show source</a></p>
<div id='129' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ChooseRecent {idx} {

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$idx</font>]
  AddRecent <font color=#1b1baa>$fname</font>
  OpenFile <font color=#1b1baa>$fname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseAll'>CloseAll</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseAll</span> <span class='ruff_arg'>func ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>func</code></code></td><td class='ruff_defitem'>&quot;1/2/3&quot; means closing &quot;all/to left/to right&quot;</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>may contain -skipsel to not close selected tabs</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_130' href="javascript:toggleSource('130')">Show source</a></p>
<div id='130' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloseAll {func args} {

  <i><font color=#4b5d50># Closes files.</font></i>
  <i><font color=#4b5d50>#   func - &quot;1/2/3&quot; means closing &quot;all/to left/to right&quot;</font></i>
  <i><font color=#4b5d50>#   args - may contain -skipsel to not close selected tabs</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> al(closefunc) <font color=#1b1baa>$func</font> ;<i><font color=#4b5d50># disables &quot;recent files&quot; at closing all</font></i>
  alited::bar::BAR closeAll <font color=#1b1baa>$::alited::al(BID)</font> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$func</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>
  <b><font color=#3a6797>set</font></b> al(closefunc) 0
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag <font color=#7d1a1a>&quot;m&quot;</font>]]==0}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseFile'>CloseFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFile</span> <span class='ruff_arg'>?TID? ?checknew?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>checknew</code></code></td><td class='ruff_defitem'>if yes, checks if new file's tab should be created; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 0, if a user selects &quot;Cancel&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_131' href="javascript:toggleSource('131')">Show source</a></p>
<div id='131' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloseFile {{TID {}} {checknew yes}} {

  <i><font color=#4b5d50># Closes a file.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   checknew - if yes, checks if new file's tab should be created</font></i>
  <i><font color=#4b5d50># Returns 0, if a user selects &quot;Cancel&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> res 1
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-wtxt</font> -<font color=#6c3e67>-wsbv</font>] wtxt wsbv
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ni {{-1} {}} && <font color=#1b1baa>$wtxt</font> ne {}} {
    <b><font color=#3a6797>switch</font></b> [IsSaved <font color=#1b1baa>$TID</font>] {
      0 { ;<i><font color=#4b5d50># &quot;Cancel&quot; chosen for a modified</font></i>
        <b><font color=#ca14ca>return</font></b> 0
      }
      1 { ;<i><font color=#4b5d50># &quot;Save&quot; chosen for a modified</font></i>
        <b><font color=#3a6797>set</font></b> res [SaveFile <font color=#1b1baa>$TID</font>]
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> ne [<font color=#1b1baa>$obPav</font> Text]} {
      <i><font color=#4b5d50># [$obPav Text] was made by main::_open, let it be alive</font></i>
      <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$wtxt</font>
      <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$wsbv</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$checknew</font>} CheckForNew
    alited::ini::SaveCurrentIni <font color=#1b1baa>$al(INI,save_onclose)</font>
  }
  alited::tree::UpdateFileTree
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(closefunc)</font> != 1} {  ;<i><font color=#4b5d50># close func = 1 means &quot;close all&quot;</font></i>
    alited::file::AddRecent <font color=#1b1baa>$fname</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::CloseFileMenu'>CloseFileMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes the current file from the menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseFileMenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_132' href="javascript:toggleSource('132')">Show source</a></p>
<div id='132' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::CloseFileMenu {} {

  <i><font color=#4b5d50># Closes the current file from the menu.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]] ne <font color=#7d1a1a>&quot;&quot;</font>} {
    alited::bar::BAR <font color=#1b1baa>$TID</font> close
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a file at the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>ID wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>tree item's ID wtree file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_133' href="javascript:toggleSource('133')">Show source</a></p>
<div id='133' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::Delete {ID wtree} {

  <i><font color=#4b5d50># Deletes a file at the file tree.</font></i>
  <i><font color=#4b5d50>#   ID - tree item's ID</font></i>
  <i><font color=#4b5d50>#   wtree file tree widget</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al BAKDIR BAKDIR
  <b><font color=#3a6797>set</font></b> name [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#134070>bell</font></b>
    alited::msg ok warn <font color=#1b1baa>$al(MC,nodelopen)</font>
    alited::bar::BAR <font color=#1b1baa>$TID</font> show
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,delfile)</font>]
  <b><font color=#3a6797>if</font></b> {[alited::msg yesno ques <font color=#1b1baa>$msg</font> NO]} {
    RemoveFile <font color=#1b1baa>$fname</font> <font color=#1b1baa>$BAKDIR</font> backup
    <font color=#1b1baa>$wtree</font> selection set {}
    alited::tree::RecreateTree
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DisplayFile'>DisplayFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a file's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DisplayFile</span> <span class='ruff_arg'>TID fname wtxt doreload</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>doreload</code></code></td><td class='ruff_defitem'>if yes, forces reloading (at external changes of file)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_134' href="javascript:toggleSource('134')">Show source</a></p>
<div id='134' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DisplayFile {TID fname wtxt doreload} {

  <i><font color=#4b5d50># Displays a file's contents.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   doreload - if yes, forces reloading (at external changes of file)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># this is most critical: displayed text should correspond to the tab</font></i>
  <i><font color=#4b5d50>#control::assert {$wtxt eq [alited::main::GetWTXT $TID]}</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> ne [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]} {
    <b><font color=#3a6797>set</font></b> errmsg <font color=#7d1a1a>&quot;\n ERROR file::DisplayFile:  \n (<font color=#1b1baa>$</font>TID) <font color=#1b1baa>$</font>wtxt != <font color=#1b1baa>[</font>alited::main::GetWTXT <font color=#1b1baa>$</font>TID<font color=#1b1baa>]</font>  \n Please, notify alited's authors!\n&quot;</font>
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$errmsg</font>
    <b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> error <font color=#1b1baa>$errmsg</font>
  }
  <i><font color=#4b5d50># another critical point: read the file only at need</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doreload</font> || [<b><font color=#3a6797>set</font></b> filecont [ReadFileByTID <font color=#1b1baa>$TID</font> yes]] eq {}} {
    <i><font color=#4b5d50># last check point: 0 bytes of the file =&gt; read it anyway</font></i>
    <b><font color=#3a6797>set</font></b> filecont [ReadFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font>]
  }
  <font color=#1b1baa>$obPav</font> displayText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$filecont</font>
  <font color=#1b1baa>$obPav</font> makePopup <font color=#1b1baa>$wtxt</font> no yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DoMoveFile'>DoMoveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Asks and moves a file to a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoMoveFile</span> <span class='ruff_arg'>fname dname f1112 ?addmsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>directory name</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by pressing F11/F12 keys</td></tr>
<tr><td class='ruff_defitem'><code><code>addmsg</code></code></td><td class='ruff_defitem'>additional message (for external moves); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_135' href="javascript:toggleSource('135')">Show source</a></p>
<div id='135' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DoMoveFile {fname dname f1112 {addmsg {}}} {

  <i><font color=#4b5d50># Asks and moves a file to a directory.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   dname - directory name</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by pressing F11/F12 keys</font></i>
  <i><font color=#4b5d50>#   addmsg - additional message (for external moves)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {%f is a directory}]
    alited::Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$msg</font>] 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> tailname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$f1112</font> || <font color=#1b1baa>$addmsg</font> ne {}} {
    <b><font color=#3a6797>set</font></b> defb NO
    <b><font color=#3a6797>set</font></b> geo <font color=#7d1a1a>&quot;&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> defb YES
    <b><font color=#3a6797>set</font></b> geo <font color=#7d1a1a>&quot;-geometry pointer+10+10&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(_ANS_MOVE_)] || <font color=#1b1baa>$al(_ANS_MOVE_)</font>!=11} {
    <b><font color=#3a6797>append</font></b> addmsg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$tailname</font> %d <font color=#1b1baa>$dname</font>] <font color=#1b1baa>$al(MC,movefile)</font>]
    <b><font color=#3a6797>set</font></b> al(_ANS_MOVE_) [alited::msg yesno ques <font color=#1b1baa>$addmsg</font>  <font color=#1b1baa>$defb</font> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,moving)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font> <font color=#6c3e67>-ch</font> <font color=#1b1baa>$al(MC,noask)</font>]
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(_ANS_MOVE_)</font>} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#ca14ca>return</font></b> [RemoveFile <font color=#1b1baa>$fname</font> <font color=#1b1baa>$dname</font> move]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DoRenameFileInTree'>DoRenameFileInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Performs renaming a current file in a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoRenameFileInTree</span> <span class='ruff_arg'>wtree ID fname name2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of the file in the file tree</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>old file name (full)</td></tr>
<tr><td class='ruff_defitem'><code><code>name2</code></code></td><td class='ruff_defitem'>new file name (tail)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_136' href="javascript:toggleSource('136')">Show source</a></p>
<div id='136' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DoRenameFileInTree {wtree ID fname name2} {

  <i><font color=#4b5d50># Performs renaming a current file in a file tree.</font></i>
  <i><font color=#4b5d50>#   wtree - file tree's path</font></i>
  <i><font color=#4b5d50>#   ID    - ID of the file in the file tree</font></i>
  <i><font color=#4b5d50>#   fname - old file name (full)</font></i>
  <i><font color=#4b5d50>#   name2 - new file name (tail)</font></i>

  <b><font color=#3a6797>set</font></b> fsplit [<b><font color=#3a6797>file</font></b> split <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$name2</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> rename <font color=#1b1baa>$fname</font> <font color=#1b1baa>$fname2</font>} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font> <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-h</font> {5 7}
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>set</font></b> fname1 [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname1</font> eq <font color=#1b1baa>$fname</font>} {
      RenameFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname2</font> no
      <b><font color=#3a6797>break</font></b>
    }
    <b><font color=#3a6797>set</font></b> fsplit1 [<b><font color=#3a6797>file</font></b> split <font color=#1b1baa>$fname1</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$fsplit</font> <font color=#1b1baa>$fsplit1</font>]==0} {
      <b><font color=#3a6797>set</font></b> fname1 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$fname2</font> {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$fsplit1</font> [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fsplit</font>] end]]
      RenameFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname1</font> no
    }
  }
  alited::bar::BAR draw
  RecreateFileTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::DropFiles'>DropFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a group of selected files to other tree position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropFiles</span> <span class='ruff_arg'>wtree fromIDs toID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget fromIDs- tree IDs to move the file from</td></tr>
<tr><td class='ruff_defitem'><code><code>fromIDs</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>toID</code></code></td><td class='ruff_defitem'>tree ID to move the file to</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The destination position is freely chosen by &quot;Drop here&quot; menu item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_137' href="javascript:toggleSource('137')">Show source</a></p>
<div id='137' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::DropFiles {wtree fromIDs toID} {

  <i><font color=#4b5d50># Moves a group of selected files to other tree position.</font></i>
  <i><font color=#4b5d50>#   wtree - file tree widget</font></i>
  <i><font color=#4b5d50>#   fromIDs- tree IDs to move the file from</font></i>
  <i><font color=#4b5d50>#   toID - tree ID to move the file to</font></i>
  <i><font color=#4b5d50># The destination position is freely chosen by &quot;Drop here&quot; menu item.</font></i>

  <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$toID</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> dirname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$toID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$dirname</font>]} {
    <b><font color=#3a6797>set</font></b> dirname [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$dirname</font>]
  }
  <b><font color=#3a6797>set</font></b> movedfiles [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> fromID <font color=#1b1baa>$fromIDs</font> {
    <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$fromID</font>]} <b><font color=#3a6797>continue</font></b>
    <b><font color=#3a6797>set</font></b> curfile [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$fromID</font> <font color=#6c3e67>-values</font>] 1]
    <b><font color=#3a6797>lappend</font></b> movedfiles <font color=#1b1baa>$curfile</font>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$movedfiles</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>foreach</font></b> curfile <font color=#1b1baa>$movedfiles</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$curfile</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curfile</font> ne <font color=#1b1baa>$dirname</font>} {
        alited::Message [msgcat::mc {Only files are moved by alited.}] 4
      }
      <b><font color=#3a6797>continue</font></b>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$curfile</font>] ne <font color=#1b1baa>$dirname</font>} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> name [DoMoveFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$dirname</font> yes]] ne {}} {
        <b><font color=#3a6797>lappend</font></b> newnames <font color=#1b1baa>$name</font>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists newnames]} {
    alited::tree::RecreateTree {} <font color=#1b1baa>$newnames</font>
    alited::main::ShowHeader yes
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileAttrs'>FileAttrs</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a file attributes: name &amp; time.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileAttrs</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a file attributes: name &amp; time.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_138' href="javascript:toggleSource('138')">Show source</a></p>
<div id='138' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::FileAttrs {TID} {

  <i><font color=#4b5d50># Returns a file attributes: name & time.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>lassign</font></b> [alited::bar::BAR <font color=#1b1baa>$TID</font> cget -<font color=#6c3e67>-mtime</font> -<font color=#6c3e67>-mtimefile</font>] mtime mtimefile
  <b><font color=#3a6797>set</font></b> isfile [<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
    <b><font color=#3a6797>set</font></b> curtime [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname</font>]
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$fname</font> ne <font color=#1b1baa>$al(MC,nofile)</font>} {
    <b><font color=#3a6797>set</font></b> curtime ?
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> curtime {}
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$mtime</font> <font color=#1b1baa>$mtimefile</font> <font color=#1b1baa>$curtime</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileSize'>FileSize</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats a file's size.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileSize</span> <span class='ruff_arg'>bsize</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>bsize</code></code></td><td class='ruff_defitem'>file size in bytes</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_139' href="javascript:toggleSource('139')">Show source</a></p>
<div id='139' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::FileSize {bsize} {

  <i><font color=#4b5d50># Formats a file's size.</font></i>
  <i><font color=#4b5d50>#   bsize - file size in bytes</font></i>

  <b><font color=#3a6797>set</font></b> res <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>bsize bytes&quot;</font>
  <b><font color=#3a6797>set</font></b> bsz <font color=#1b1baa>$bsize</font>
  <b><font color=#3a6797>foreach</font></b> m {Kb Mb Gb Tb} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$bsz</font>&lt;1024} break
    <b><font color=#3a6797>set</font></b> rsz [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$bsz</font>/1024.0}]
    <b><font color=#3a6797>set</font></b> res <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>format %.1f <font color=#1b1baa>$</font>rsz<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>m (<font color=#1b1baa>$</font>bsize bytes)&quot;</font>
    <b><font color=#3a6797>set</font></b> bsz [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$bsz</font>/1024)}]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::FileStat'>FileStat</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file's attributes: times &amp; size.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FileStat</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a string with file name and attributes divided by \n.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_140' href="javascript:toggleSource('140')">Show source</a></p>
<div id='140' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::FileStat {fname} {

  <i><font color=#4b5d50># Gets a file's attributes: times & size.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50># Returns a string with file name and attributes divided by \n.</font></i>

  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>array</font></b> set ares {}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$alited::al(TREE,showinfo)</font> && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> stat <font color=#1b1baa>$fname</font> ares}]} {
    <b><font color=#3a6797>set</font></b> dtf <font color=#7d1a1a>&quot;%D %T&quot;</font>
    <b><font color=#3a6797>set</font></b> res <font color=#7d1a1a>&quot;\n \nCreated: <font color=#1b1baa>[</font>clock format <font color=#1b1baa>$</font>ares(ctime) -format <font color=#1b1baa>$</font>dtf<font color=#1b1baa>]</font> \nModified: <font color=#1b1baa>[</font>clock format <font color=#1b1baa>$</font>ares(mtime) -format <font color=#1b1baa>$</font>dtf<font color=#1b1baa>]</font> \nAccessed: <font color=#1b1baa>[</font>clock format <font color=#1b1baa>$</font>ares(atime) -format <font color=#1b1baa>$</font>dtf<font color=#1b1baa>]</font> \nSize: <font color=#1b1baa>[</font>FileSize <font color=#1b1baa>$</font>ares(size)<font color=#1b1baa>]</font>&quot;</font>
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>append</font></b> fname <font color=#1b1baa>$res</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::InsertRecent'>InsertRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertRecent</span> <span class='ruff_arg'>fname pos</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_141' href="javascript:toggleSource('141')">Show source</a></p>
<div id='141' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::InsertRecent {fname pos} {

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {![IsNoName <font color=#1b1baa>$fname</font>]} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$fname</font>]]&gt;-1} {
      <b><font color=#3a6797>set</font></b> al(RECENTFILES) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
    <b><font color=#3a6797>set</font></b> al(RECENTFILES) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> al(RECENTFILES) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(RECENTFILES)</font> <font color=#1b1baa>$al(INI,RECENTFILES)</font> end]
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsClang'>IsClang</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is of C/C++.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsClang</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_142' href="javascript:toggleSource('142')">Show source</a></p>
<div id='142' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsClang {fname} {

  <i><font color=#4b5d50># Checks if a file is of C/C++.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>]] in <font color=#1b1baa>$alited::al(ClangExtensions)</font>} {
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsModified'>IsModified</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a text of tab is modified.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsModified</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_143' href="javascript:toggleSource('143')">Show source</a></p>
<div id='143' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsModified {{TID {}}} {

  <i><font color=#4b5d50># Checks if a text of tab is modified.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 [alited::bar::BAR listFlag m] <font color=#1b1baa>$TID</font>]&gt;-1}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsNoName'>IsNoName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file name is &quot;No name&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsNoName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_144' href="javascript:toggleSource('144')">Show source</a></p>
<div id='144' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsNoName {fname} {

  <i><font color=#4b5d50># Checks if a file name is &quot;No name&quot;.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] in [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$al(MC,nofile)</font> {No name} {}]} {
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsSaved'>IsSaved</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is modified and if yes, offers to save it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsSaved</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1 for &quot;yes, needs saving&quot;, 2 for &quot;needs no saving&quot;, 0 for &quot;cancel&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_145' href="javascript:toggleSource('145')">Show source</a></p>
<div id='145' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsSaved {TID} {

  <i><font color=#4b5d50># Checks if a file is modified and if yes, offers to save it.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50># Returns 1 for &quot;yes, needs saving&quot;, 2 for &quot;needs no saving&quot;, 0 for &quot;cancel&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[IsModified <font color=#1b1baa>$TID</font>]} {
    <b><font color=#3a6797>set</font></b> fname [alited::bar::BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-text</font>]
    <b><font color=#3a6797>set</font></b> ans [alited::msg yesnocancel warn [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font>]  <font color=#1b1baa>$al(MC,notsaved)</font>] YES <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,saving)</font>]
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ans</font>
  }
  <b><font color=#ca14ca>return</font></b> 2  ;<i><font color=#4b5d50># as if &quot;No&quot; chosen</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsTcl'>IsTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file is of Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsTcl</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_146' href="javascript:toggleSource('146')">Show source</a></p>
<div id='146' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsTcl {fname} {

  <i><font color=#4b5d50># Checks if a file is of Tcl.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>]] in <font color=#1b1baa>$alited::al(TclExtensions)</font>} {
    <b><font color=#ca14ca>return</font></b> yes
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::IsUnitFile'>IsUnitFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a file has a unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IsUnitFile</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_147' href="javascript:toggleSource('147')">Show source</a></p>
<div id='147' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::IsUnitFile {fname} {

  <i><font color=#4b5d50># Checks if a file has a unit tree.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[IsTcl <font color=#1b1baa>$fname</font>]}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MakeThemHighlighted'>MakeThemHighlighted</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets flag &quot;highlight file(s) anyway&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MakeThemHighlighted</span> <span class='ruff_arg'>?tabs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tabs</code></code></td><td class='ruff_defitem'>list of tabs to set the flag for; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Useful when you need update the files' highlightings.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_148' href="javascript:toggleSource('148')">Show source</a></p>
<div id='148' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::MakeThemHighlighted {{tabs {}}} {

  <i><font color=#4b5d50># Sets flag &quot;highlight file(s) anyway&quot;.</font></i>
  <i><font color=#4b5d50>#   tabs - list of tabs to set the flag for</font></i>
  <i><font color=#4b5d50># Useful when you need update the files' highlightings.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tabs</font> eq {}} {
    <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
  }
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]]] ne {}} {
      <b><font color=#3a6797>set</font></b> al(HL,<font color=#1b1baa>$wtxt</font>) {..}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MoveExternal'>MoveExternal</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves an external file to a project's directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveExternal</span> <span class='ruff_arg'>f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_149' href="javascript:toggleSource('149')">Show source</a></p>
<div id='149' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::MoveExternal {f1112} {

  <i><font color=#4b5d50># Moves an external file to a project's directory.</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by F11/F12 keys</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq {} || [<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$fname</font>]==0} {
    <b><font color=#ca14ca>return</font></b> no  ;<i><font color=#4b5d50># no project directory or the file is inside it</font></i>
  }
  <b><font color=#3a6797>set</font></b> addmsg [msgcat::mc {THE EXTERNAL FILE IS MOVED TO THE PROJECT!}]
  <b><font color=#3a6797>set</font></b> fname [DoMoveFile <font color=#1b1baa>$fname</font> <font color=#1b1baa>$al(prjroot)</font> <font color=#1b1baa>$f1112</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>addmsg\n\n&quot;</font>]
  alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
  alited::main::ShowHeader yes
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::MoveFiles'>MoveFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves  file(s).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveFiles</span> <span class='ruff_arg'>wtree to itemIDs f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>file tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>&quot;move&quot;, &quot;up&quot; or &quot;down&quot; (direction of moving)</td></tr>
<tr><td class='ruff_defitem'><code><code>itemIDs</code></code></td><td class='ruff_defitem'>file's tree IDs to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes for pressing F11/F12 or file's tree ID</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>For to=move, f1112 is a file's ID to be moved to.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_150' href="javascript:toggleSource('150')">Show source</a></p>
<div id='150' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::MoveFiles {wtree to itemIDs f1112} {

  <i><font color=#4b5d50># Moves  file(s).</font></i>
  <i><font color=#4b5d50>#   wtree - file tree widget</font></i>
  <i><font color=#4b5d50>#   to - &quot;move&quot;, &quot;up&quot; or &quot;down&quot; (direction of moving)</font></i>
  <i><font color=#4b5d50>#   itemIDs - file's tree IDs to be moved</font></i>
  <i><font color=#4b5d50>#   f1112 - yes for pressing F11/F12 or file's tree ID</font></i>
  <i><font color=#4b5d50># For to=move, f1112 is a file's ID to be moved to.</font></i>

  <b><font color=#3a6797>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> itemID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$itemIDs</font> 0]
  <b><font color=#3a6797>set</font></b> idx [alited::unit::SearchInBranch <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$tree</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {move}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font>&gt;=0} {
      DropFiles <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemIDs</font> <font color=#1b1baa>$f1112</font>
    }
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> curfile [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> curdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$curfile</font>]
  <b><font color=#3a6797>set</font></b> isexternal [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> first [<b><font color=#3a6797>file</font></b> normalize <font color=#1b1baa>$alited::al(prjroot)</font>]  [<b><font color=#3a6797>file</font></b> normalize <font color=#1b1baa>$curdir</font>]]&lt;0}]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isexternal</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font>&lt;0} {bell; <b><font color=#ca14ca>return</font></b>}
    <i><font color=#4b5d50># the edited file is not external =&gt; try to move selected files of the tree</font></i>
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-values</font>] -&gt; curfile
    <b><font color=#3a6797>set</font></b> curdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$curfile</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {up}} {<b><font color=#3a6797>set</font></b> ito 0} {<b><font color=#3a6797>set</font></b> ito end}
  <b><font color=#3a6797>set</font></b> selparent [<font color=#1b1baa>$wtree</font> parent [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$itemIDs</font> <font color=#1b1baa>$ito</font>]]
  <b><font color=#3a6797>set</font></b> dirname {}
  <b><font color=#3a6797>set</font></b> increment [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$to</font> eq {up} ? -1 : 1}]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$idx</font>} {1} {<b><font color=#3a6797>incr</font></b> i <font color=#1b1baa>$increment</font>} {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tree</font> <font color=#1b1baa>$i</font> 4] files fname isfile id
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq {}} <b><font color=#3a6797>break</font></b>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>set</font></b> parent [<font color=#1b1baa>$wtree</font> parent <font color=#1b1baa>$id</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$parent</font> ne <font color=#1b1baa>$selparent</font> && <font color=#1b1baa>$parent</font> ne {} && [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] ne <font color=#1b1baa>$curdir</font>} {
        <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$parent</font> <font color=#6c3e67>-values</font>] files fname isfile id
        <b><font color=#3a6797>set</font></b> dirname <font color=#1b1baa>$fname</font>
        <b><font color=#3a6797>break</font></b>
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$id</font> ne <font color=#1b1baa>$selparent</font> && <font color=#1b1baa>$fname</font> ne <font color=#1b1baa>$curdir</font>} {
      <b><font color=#3a6797>set</font></b> dirname <font color=#1b1baa>$fname</font>
      <b><font color=#3a6797>break</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dirname</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selparent</font> ne {}} {
      <b><font color=#3a6797>set</font></b> dirname <font color=#1b1baa>$alited::al(prjroot)</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>bell</font></b>
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isexternal</font>} {
    <i><font color=#4b5d50># this file is external to the project - ask to move it into the project</font></i>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> name [DoMoveFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$dirname</font> <font color=#1b1baa>$f1112</font>]] ne {}} {
      <b><font color=#3a6797>lappend</font></b> movedfiles <font color=#1b1baa>$name</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> f1112 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$f1112</font> || [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$itemIDs</font>]&gt;1}]
    <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$itemIDs</font> {
      <b><font color=#3a6797>set</font></b> curfile [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> name [DoMoveFile <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$dirname</font> <font color=#1b1baa>$f1112</font>]] ne {}} {
        <b><font color=#3a6797>lappend</font></b> movedfiles <font color=#1b1baa>$name</font>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists movedfiles]} {
    <font color=#1b1baa>$wtree</font> selection set {}
    alited::tree::RecreateTree {} <font color=#1b1baa>$movedfiles</font>
    alited::main::ShowHeader yes
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::NewFile'>NewFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;New file&quot; menu item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewFile</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_151' href="javascript:toggleSource('151')">Show source</a></p>
<div id='151' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::NewFile {} {

  <i><font color=#4b5d50># Handles &quot;New file&quot; menu item.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$al(MC,nofile)</font>]] eq {}} {
    <b><font color=#3a6797>set</font></b> TID [alited::bar::InsertTab <font color=#1b1baa>$al(MC,nofile)</font> <font color=#1b1baa>$al(MC,nofile)</font>]
  }
  alited::bar::BAR <font color=#1b1baa>$TID</font> show
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenFile'>OpenFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Open file&quot; menu item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFile</span> <span class='ruff_arg'>?fnames? ?reload? ?islist? ?Message?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fnames</code></code></td><td class='ruff_defitem'>file name (if not set, asks for it); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>reload</code></code></td><td class='ruff_defitem'>if yes, loads the file even if it has a &quot;strange&quot; extension; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>islist</code></code></td><td class='ruff_defitem'>if yes, <em>fnames</em> is a file list; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>Message</code></code></td><td class='ruff_defitem'>name of procedure for &quot;open file&quot; message; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the file's tab ID if it's loaded, or {} if not loaded.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_152' href="javascript:toggleSource('152')">Show source</a></p>
<div id='152' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenFile {{fnames {}} {reload no} {islist no} {Message {}}} {

  <i><font color=#4b5d50># Handles &quot;Open file&quot; menu item.</font></i>
  <i><font color=#4b5d50>#   fnames - file name (if not set, asks for it)</font></i>
  <i><font color=#4b5d50>#   reload - if yes, loads the file even if it has a &quot;strange&quot; extension</font></i>
  <i><font color=#4b5d50>#   islist - if yes, *fnames* is a file list</font></i>
  <i><font color=#4b5d50>#   Message - name of procedure for &quot;open file&quot; message</font></i>
  <i><font color=#4b5d50># Returns the file's tab ID if it's loaded, or {} if not loaded.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(filename) {}
  <b><font color=#3a6797>set</font></b> chosen no
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fnames</font> eq {}} {
    <b><font color=#3a6797>set</font></b> chosen yes
    <b><font color=#3a6797>set</font></b> fnames [<font color=#1b1baa>$obPav</font> chooser tk_getOpenFile alited::al(filename) <font color=#6c3e67>-multiple</font> 1  <font color=#6c3e67>-initialdir</font> [<b><font color=#3a6797>file</font></b> dirname [alited::bar::CurrentTab 2]] <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font>]
    <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#1b1baa>$fnames</font>]
  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$islist</font>} {
    <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fnames</font>]
  }
  <b><font color=#3a6797>set</font></b> TID {}
  <b><font color=#3a6797>foreach</font></b> fname <font color=#1b1baa>$fnames</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname</font>]} {
      <b><font color=#3a6797>set</font></b> exts <font color=#1b1baa>$al(TclExtensions)</font>
      <b><font color=#3a6797>append</font></b> exts { } <font color=#1b1baa>$al(ClangExtensions)</font>
      <b><font color=#3a6797>append</font></b> exts { } <font color=#1b1baa>$al(TextExtensions)</font>
      <b><font color=#3a6797>set</font></b> exts [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> map {{ } {, } . {}} <font color=#1b1baa>$exts</font>]]
      <b><font color=#3a6797>set</font></b> ext [<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>] .]]
      <b><font color=#3a6797>set</font></b> esp [<b><font color=#3a6797>split</font></b> [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> { } {} \n ,] <font color=#1b1baa>$exts</font>] ,]
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$reload</font> && <font color=#1b1baa>$ext</font> ni <font color=#1b1baa>$esp</font>} {
        <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>] %s <font color=#1b1baa>$exts</font>] <font color=#1b1baa>$al(MC,nottoopen)</font>]
        <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> NO]} {
          <b><font color=#3a6797>break</font></b>
        }
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] eq {}} {
        <i><font color=#4b5d50># close  &quot;no name&quot; tab if it's the only one and not changed</font></i>
        <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
        <b><font color=#3a6797>set</font></b> tabm [alited::bar::BAR listFlag m]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tabs</font>]==1 && [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tabm</font>]==0} {
          <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> 0 0]
          <b><font color=#3a6797>if</font></b> {[alited::bar::FileName <font color=#1b1baa>$tid</font>] eq <font color=#1b1baa>$al(MC,nofile)</font>} {
            alited::bar::BAR <font color=#1b1baa>$tid</font> close
          }
        }
        <i><font color=#4b5d50># open new tab</font></i>
        <b><font color=#3a6797>set</font></b> tab [alited::bar::UniqueListTab <font color=#1b1baa>$fname</font>]
        <b><font color=#3a6797>set</font></b> TID [alited::bar::InsertTab <font color=#1b1baa>$tab</font> [FileStat <font color=#1b1baa>$fname</font>]]
        alited::file::AddRecent <font color=#1b1baa>$fname</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$Message</font> ne {}} {
          <font color=#1b1baa>$Message</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>Open file:<font color=#1b1baa>}]</font> <font color=#1b1baa>$</font>fname&quot;</font>
        }
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne {} && <font color=#1b1baa>$TID</font> ne [alited::bar::CurrentTabID]} {
    alited::bar::BAR <font color=#1b1baa>$TID</font> show
  }
  RecreateFileTree
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenFiles'>OpenFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens files selected in the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_153' href="javascript:toggleSource('153')">Show source</a></p>
<div id='153' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenFiles {} {

  <i><font color=#4b5d50># Opens files selected in the file tree.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> selID [<font color=#1b1baa>$wtree</font> selection] {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$selID</font> <font color=#6c3e67>-values</font>] - fname isfile
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {<b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fname</font>}
  }
  OpenFile [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$fnames</font>] no yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OpenOfDir'>OpenOfDir</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens all Tcl files of a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenOfDir</span> <span class='ruff_arg'>dname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>directory's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_154' href="javascript:toggleSource('154')">Show source</a></p>
<div id='154' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OpenOfDir {dname} {

  <i><font color=#4b5d50># Opens all Tcl files of a directory.</font></i>
  <i><font color=#4b5d50>#   dname - directory's name</font></i>

  <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#7d1a1a>&quot;All Tcl files of this directory:\n  \&quot;%f\&quot;  \nwill be open.\n\nThis may be expensive!&quot;</font>]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dname</font>]] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>if</font></b> {[alited::msg okcancel warn <font color=#1b1baa>$msg</font> OK]} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> flist [<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-directory</font> <font color=#1b1baa>$dname</font> *]}]} {
      <b><font color=#3a6797>set</font></b> fnames [<b><font color=#3a6797>list</font></b>]
      <b><font color=#3a6797>foreach</font></b> fname [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$flist</font>] {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isfile <font color=#1b1baa>$fname</font>] && [IsTcl <font color=#1b1baa>$fname</font>]} {
          <b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fname</font>
        }
      }
      OpenFile <font color=#1b1baa>$fnames</font> no yes
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::OutwardChange'>OutwardChange</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for change of file by an external application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OutwardChange</span> <span class='ruff_arg'>TID ?docheck?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>docheck</code></code></td><td class='ruff_defitem'>yes for &quot;do check&quot;, no for &quot;just save the file's mtime&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_155' href="javascript:toggleSource('155')">Show source</a></p>
<div id='155' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::OutwardChange {TID {docheck yes}} {

  <i><font color=#4b5d50># Checks for change of file by an external application.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   docheck - yes for &quot;do check&quot;, no for &quot;just save the file's mtime&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [FileAttrs <font color=#1b1baa>$TID</font>] fname isfile mtime mtimefile curtime
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$docheck</font> && <font color=#1b1baa>$mtime</font> ne {} && <font color=#1b1baa>$curtime</font> ne <font color=#1b1baa>$mtime</font> && <font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$mtimefile</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,modiffile)</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,wasdelfile)</font>]
    }
    <i><font color=#4b5d50># at any answer, the tab should be marked as &quot;modified&quot;</font></i>
    alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
    alited::edit::CheckSaveIcons yes
    <b><font color=#3a6797>if</font></b> {[alited::msg yesno warn <font color=#1b1baa>$msg</font> YES <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,saving)</font>]} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
        <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
        <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
        DisplayFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$wtxt</font> yes
        alited::main::UpdateAll
        <b><font color=#3a6797>catch</font></b> {
          ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
          ::alited::main::CursorPos <font color=#1b1baa>$wtxt</font>
        }
      } <b><font color=#3a6797>else</font></b> {
        alited::bar::BAR <font color=#1b1baa>$TID</font> configure -<font color=#6c3e67>-mtime</font> {}
        SaveFileAs <font color=#1b1baa>$TID</font>
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> curtime [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname</font>]}]} {<b><font color=#3a6797>set</font></b> curtime {}}
      }
    }
    <b><font color=#3a6797>set</font></b> do_update_tree yes
  }
  <b><font color=#3a6797>lassign</font></b> [FileAttrs <font color=#1b1baa>$TID</font>] fname isfile mtime mtimefile curtime
  alited::bar::BAR <font color=#1b1baa>$TID</font> configure -<font color=#6c3e67>-mtime</font> <font color=#1b1baa>$curtime</font> -<font color=#6c3e67>-mtimefile</font> <font color=#1b1baa>$fname</font>  <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists do_update_tree]} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {<b><font color=#3a6797>set</font></b> fname {}}
    ::alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ReadFile'>ReadFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file, creates its unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadFile</span> <span class='ruff_arg'>TID fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the file's contents.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_156' href="javascript:toggleSource('156')">Show source</a></p>
<div id='156' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ReadFile {TID fname} {

  <i><font color=#4b5d50># Reads a file, creates its unit tree.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50># Returns the file's contents.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> filecont [::apave::readTextFile <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> al(_unittree,<font color=#1b1baa>$TID</font>) [alited::unit::GetUnits <font color=#1b1baa>$TID</font> <font color=#1b1baa>$filecont</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$filecont</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ReadFileByTID'>ReadFileByTID</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file of tab, if needed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadFileByTID</span> <span class='ruff_arg'>TID ?getcont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of the tab</td></tr>
<tr><td class='ruff_defitem'><code><code>getcont</code></code></td><td class='ruff_defitem'>if yes, returns a content of the file; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_157' href="javascript:toggleSource('157')">Show source</a></p>
<div id='157' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ReadFileByTID {TID {getcont no}} {

  <i><font color=#4b5d50># Reads a file of tab, if needed.</font></i>
  <i><font color=#4b5d50>#   TID - ID of the tab</font></i>
  <i><font color=#4b5d50>#   getcont - if yes, returns a content of the file</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(_unittree,<font color=#1b1baa>$TID</font>)]} {
    <b><font color=#ca14ca>return</font></b> [ReadFile <font color=#1b1baa>$TID</font> [alited::bar::FileName <font color=#1b1baa>$TID</font>]]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$getcont</font>} {
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
    <b><font color=#ca14ca>return</font></b> [<font color=#1b1baa>$wtxt</font> get 1.0 <font color=#7d1a1a>&quot;end - 1 chars&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RecreateFileTree'>RecreateFileTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates the file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RecreateFileTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_158' href="javascript:toggleSource('158')">Show source</a></p>
<div id='158' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RecreateFileTree {} {

  <i><font color=#4b5d50># Creates the file tree.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
    [<font color=#1b1baa>$obPav</font> Tree] selection set {}
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al(_AFT_RECR_)</font>}
    <b><font color=#3a6797>set</font></b> al(_AFT_RECR_) [<b><font color=#3a6797>after</font></b> 100 ::alited::tree::RecreateTree]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RemoveFile'>RemoveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes or backups a file, trying to save it in a directory.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemoveFile</span> <span class='ruff_arg'>fname dname mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>dname</code></code></td><td class='ruff_defitem'>name of directory</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;move&quot;, then moves a file to a directory, otherwise backups it</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a destination file's name.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_159' href="javascript:toggleSource('159')">Show source</a></p>
<div id='159' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RemoveFile {fname dname mode} {

  <i><font color=#4b5d50># Removes or backups a file, trying to save it in a directory.</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   dname - name of directory</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;move&quot;, then moves a file to a directory, otherwise backups it</font></i>
  <i><font color=#4b5d50># Returns a destination file's name.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> ftail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> dtail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dname</font>]
  <b><font color=#3a6797>set</font></b> fname2 [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dname</font> <font color=#1b1baa>$ftail</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fname2</font>]} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq <font color=#7d1a1a>&quot;move&quot;</font>} {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$ftail</font> %d <font color=#1b1baa>$dname</font>] <font color=#1b1baa>$al(MC,fileexist)</font>]
      alited::msg ok warn <font color=#1b1baa>$msg</font>
      <b><font color=#ca14ca>return</font></b> {}
    }
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$fname2</font>}
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$fname</font> <font color=#1b1baa>$dname</font>} err]} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$ftail</font> %d <font color=#1b1baa>$dname</font>] <font color=#1b1baa>$al(MC,errcopy)</font>]
    <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>err\n\n<font color=#1b1baa>$</font>msg&quot;</font> NO]} {<b><font color=#ca14ca>return</font></b> {}}
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname2</font> [<b><font color=#3a6797>file</font></b> mtime <font color=#1b1baa>$fname</font>]}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$fname</font>} err]} {
    alited::msg ok err <font color=#7d1a1a>&quot;Error of deleting\n<font color=#1b1baa>$</font>fname\n\n<font color=#1b1baa>$</font>err&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    alited::Message [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$ftail</font> %d <font color=#1b1baa>$dtail</font>] <font color=#1b1baa>$al(MC,removed)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq <font color=#7d1a1a>&quot;move&quot;</font> && [<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] ne {}} {
      alited::bar::SetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-fname</font> <font color=#1b1baa>$fname2</font>
      alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname2</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$fname2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RenameFile'>RenameFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Renames a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RenameFile</span> <span class='ruff_arg'>TID fname ?doshow?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>doshow</code></code></td><td class='ruff_defitem'>flag &quot;show the file's text&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_160' href="javascript:toggleSource('160')">Show source</a></p>
<div id='160' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RenameFile {TID fname {doshow yes}} {

  <i><font color=#4b5d50># Renames a file.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>
  <i><font color=#4b5d50>#   doshow - flag &quot;show the file's text&quot;</font></i>

  alited::bar::SetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-fname</font> <font color=#1b1baa>$fname</font>
  alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-text</font> {} <font color=#6c3e67>-tip</font> {}
  <b><font color=#3a6797>set</font></b> tab [alited::bar::UniqueListTab <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$sname</font> <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doshow</font>} {
    alited::bar::BAR <font color=#1b1baa>$TID</font> show
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::RenameFileInTree'>RenameFileInTree</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Renames a current file in a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RenameFileInTree</span> <span class='ruff_arg'>?geo?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>geo</code></code></td><td class='ruff_defitem'>geometry for dialogue; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_161' href="javascript:toggleSource('161')">Show source</a></p>
<div id='161' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::RenameFileInTree {{geo {}}} {

  <i><font color=#4b5d50># Renames a current file in a file tree.</font></i>
  <i><font color=#4b5d50>#   geo - geometry for dialogue</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav obDl2 obDl2
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ID</font>]!=1} {
    alited::msg ok err [msgcat::mc {Select one file in the tree.}]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> name [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] 1]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$al(MC,renamefile)</font> [<b><font color=#3a6797>list</font></b>  ent <font color=#7d1a1a>&quot;<font color=#1b1baa>{}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 32<font color=#1b1baa>}</font>&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>name&quot;</font>]  <font color=#6c3e67>-head</font> [msgcat::mc {File name:}] {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>] res name2
  <b><font color=#3a6797>set</font></b> name2 [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name2</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> && <font color=#1b1baa>$name2</font> ne {} && <font color=#1b1baa>$name2</font> ne <font color=#1b1baa>$name</font>} {
    DoRenameFileInTree <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$name2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveAll'>SaveAll</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves all files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveAll</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_162' href="javascript:toggleSource('162')">Show source</a></p>
<div id='162' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveAll {} {

  <i><font color=#4b5d50># Saves all files.</font></i>

  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>if</font></b> {[IsModified <font color=#1b1baa>$TID</font>]} {
      <b><font color=#3a6797>if</font></b> {![SaveFile <font color=#1b1baa>$TID</font>]} {<b><font color=#ca14ca>return</font></b> no}
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFile'>SaveFile</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves the current file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFile</span> <span class='ruff_arg'>?TID? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>flag &quot;do save now, without any GUI&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::ini::SaveCurrentIni" title="ini::SaveCurrentIni" class='ruff_cmd'>ini::SaveCurrentIni</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_163' href="javascript:toggleSource('163')">Show source</a></p>
<div id='163' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveFile {{TID {}} {doit no}} {

  <i><font color=#4b5d50># Saves the current file.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   doit - flag &quot;do save now, without any GUI&quot;</font></i>
  <i><font color=#4b5d50># See also: ini::SaveCurrentIni</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> in [<b><font color=#3a6797>list</font></b> {} <font color=#1b1baa>$al(MC,nofile)</font>]} {
    <b><font color=#ca14ca>return</font></b> [SaveFileAs <font color=#1b1baa>$TID</font>]
  }
  <b><font color=#3a6797>set</font></b> res [SaveFileByName <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font>]
  alited::ini::SaveCurrentIni <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>res && <font color=#1b1baa>$</font>al(INI,save_onsave)&quot;</font> <font color=#1b1baa>$doit</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$doit</font>} {
    alited::main::ShowHeader yes
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {<b><font color=#3a6797>set</font></b> fname {}}
    alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
    alited::tree::SeeSelection
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileAndClose'>SaveFileAndClose</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves and closes the current file. This handles pressing Ctrl+W.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileAndClose</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_164' href="javascript:toggleSource('164')">Show source</a></p>
<div id='164' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveFileAndClose {} {

  <i><font color=#4b5d50># Saves and closes the current file.</font></i>
  <i><font color=#4b5d50># This handles pressing Ctrl+W.</font></i>

  <b><font color=#3a6797>if</font></b> {[IsModified] && ![SaveFile]} <b><font color=#ca14ca>return</font></b>
  alited::bar::BAR [alited::bar::CurrentTabID] close
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileAs'>SaveFileAs</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves the current file &quot;as&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileAs</span> <span class='ruff_arg'>?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_165' href="javascript:toggleSource('165')">Show source</a></p>
<div id='165' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveFileAs {{TID {}}} {

  <i><font color=#4b5d50># Saves the current file &quot;as&quot;.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>set</font></b> alited::al(filename) [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$alited::al(filename)</font> in [<b><font color=#3a6797>list</font></b> {} <font color=#1b1baa>$al(MC,nofile)</font>]} {
    <b><font color=#3a6797>set</font></b> alited::al(filename) {}
  }
  <b><font color=#3a6797>set</font></b> fname [<font color=#1b1baa>$obPav</font> chooser tk_getSaveFile alited::al(filename) <font color=#6c3e67>-title</font>  [msgcat::mc {Save as}] <font color=#6c3e67>-initialdir</font> [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font>  <font color=#6c3e67>-defaultextension</font> .tcl]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> in [<b><font color=#3a6797>list</font></b> {} <font color=#1b1baa>$al(MC,nofile)</font>]} {
    <b><font color=#3a6797>set</font></b> res 0
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>set</font></b> res [SaveFileByName <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font>]]} {
    RenameFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font>
    alited::main::ShowHeader yes
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {<b><font color=#3a6797>set</font></b> fname {}}
    alited::tree::RecreateTree {} <font color=#1b1baa>$fname</font>
    alited::tree::SeeSelection
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SaveFileByName'>SaveFileByName</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveFileByName</span> <span class='ruff_arg'>TID fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of tab</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_166' href="javascript:toggleSource('166')">Show source</a></p>
<div id='166' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SaveFileByName {TID fname} {

  <i><font color=#4b5d50># Saves a file.</font></i>
  <i><font color=#4b5d50>#   TID - ID of tab</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::GetWTXT <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjtrailwhite)</font>} {alited::edit::RemoveTrailWhites <font color=#1b1baa>$wtxt</font> 11}
  <b><font color=#3a6797>set</font></b> fcont [<font color=#1b1baa>$wtxt</font> get 1.0 <font color=#7d1a1a>&quot;end - 1 chars&quot;</font>]  ;<i><font color=#4b5d50># last \n excluded</font></i>
  <b><font color=#3a6797>if</font></b> {![::apave::writeTextFile <font color=#1b1baa>$fname</font> fcont]} {
    alited::msg ok err [::apave::error <font color=#1b1baa>$fname</font>] <font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-text</font> 1
    <b><font color=#ca14ca>return</font></b> 0
  }
  alited::edit::BackupFile <font color=#1b1baa>$TID</font>
  <font color=#1b1baa>$wtxt</font> edit modified no
  alited::edit::Modified <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
  alited::main::HighlightText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$wtxt</font>
  OutwardChange <font color=#1b1baa>$TID</font> no
  RecreateFileTree
  <b><font color=#ca14ca>return</font></b> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::SbhText'>SbhText</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows/hides the horizontal scrollbar of the text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SbhText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_167' href="javascript:toggleSource('167')">Show source</a></p>
<div id='167' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::SbhText {} {

  <i><font color=#4b5d50># Shows/hides the horizontal scrollbar of the text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exist al(isSbhText)]} {
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>set</font></b> wfra [<font color=#1b1baa>$obPav</font> FraSbh]
    <b><font color=#3a6797>set</font></b> wsbh [<font color=#1b1baa>$obPav</font> SbhText]
    <b><font color=#3a6797>set</font></b> wrap [<font color=#1b1baa>$wtxt</font> cget <font color=#6c3e67>-wrap</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wrap</font> eq {word}} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(isSbhText)</font>} {<b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$wfra</font>}
      <b><font color=#3a6797>set</font></b> al(isSbhText) no
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(isSbhText)</font>} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(isfindunit)] || !<font color=#1b1baa>$al(isfindunit)</font>} {
          <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wfra</font> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> FraHead]
          <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wfra</font> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
          <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> FraHead] <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
        }
      }
      <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-xscrollcommand</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>wsbh set&quot;</font>
      <font color=#1b1baa>$wsbh</font> configure <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>wtxt xview&quot;</font>
      <b><font color=#3a6797>set</font></b> al(isSbhText) yes
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::ToBeHighlighted'>ToBeHighlighted</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks flag &quot;highlight text anyway&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToBeHighlighted</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_168' href="javascript:toggleSource('168')">Show source</a></p>
<div id='168' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::ToBeHighlighted {wtxt} {

  <i><font color=#4b5d50># Checks flag &quot;highlight text anyway&quot;.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {![<b><font color=#3a6797>info</font></b> exists al(HL,<font color=#1b1baa>$wtxt</font>)] || <font color=#1b1baa>$al(HL,$wtxt)</font> eq {..}}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::UpdateFileStat'>UpdateFileStat</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates tips in tab bar (file info).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateFileStat</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_169' href="javascript:toggleSource('169')">Show source</a></p>
<div id='169' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::UpdateFileStat {} {

  <i><font color=#4b5d50># Updates tips in tab bar (file info).</font></i>

  <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName <font color=#1b1baa>$TID</font>]
    alited::bar::BAR <font color=#1b1baa>$TID</font> configure <font color=#6c3e67>-tip</font> [FileStat <font color=#1b1baa>$fname</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::file::WrapLines'>WrapLines</a><span class='ns_scope'> [<a href="alited.html#::alited::file" title="::alited::file" class='ruff_cmd'>::alited::file</a>]</span><span class='tinylink'><a href='alited.html#::alited::file'>file</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches wrap word mode for a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WrapLines</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_170' href="javascript:toggleSource('170')">Show source</a></p>
<div id='170' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::file::WrapLines {} {

  <i><font color=#4b5d50># Switches wrap word mode for a current text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> al(wrapwords) [<b><font color=#3a6797>expr</font></b> {[<font color=#1b1baa>$wtxt</font> cget <font color=#6c3e67>-wrap</font>] ne {word}}]]} {
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-wrap</font> word
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-wrap</font> none
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(isSbhText)]} {<b><font color=#3a6797>set</font></b> al(isSbhText) no}
  SbhText
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::find'></a>::alited::find<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::find-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::find::_close'>_close</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_close</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_171' href="javascript:toggleSource('171')">Show source</a></p>
<div id='171' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::_close {} {

  <i><font color=#4b5d50># Closes Find/Replace dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$obFND</font> res <font color=#1b1baa>$::alited::find::win</font> 0}
  ClearTags
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>$ Creates Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_172' href="javascript:toggleSource('172')">Show source</a></p>
<div id='172' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::_create {} {

  <i><font color=#4b5d50>#$ Creates Find/Replace dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> geo
  <b><font color=#3a6797>variable</font></b> minsize
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> data(lastinvoke) 1
  <b><font color=#3a6797>set</font></b> res 1
  <b><font color=#3a6797>set</font></b> w <font color=#1b1baa>$win</font>.fra
  <b><font color=#3a6797>while</font></b> {<font color=#1b1baa>$res</font>} {
    <font color=#1b1baa>$obFND</font> makeWindow <font color=#1b1baa>$w</font> <font color=#1b1baa>$al(MC,findreplace)</font>
    <font color=#1b1baa>$obFND</font> paveWindow <font color=#1b1baa>$w</font> {
      {labB1 - - 1 1    {<font color=#6c3e67>-st</font> e}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Find: &quot;</font> <font color=#6c3e67>-style</font> TLabelFS}}
      {Cbx1 labB1 L 1 9 {<font color=#6c3e67>-st</font> wes} {<font color=#6c3e67>-tvar</font> ::alited::find::data(en1) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$::alited::find::data(vals1)</font>}}}
      {labB2 labB1 T 1 1 {<font color=#6c3e67>-st</font> e}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Replace: &quot;</font> <font color=#6c3e67>-style</font> TLabelFS}}
      {cbx2 labB2 L 1 9 {<font color=#6c3e67>-st</font> wes} {<font color=#6c3e67>-tvar</font> ::alited::find::data(en2) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$::alited::find::data(vals2)</font>}}}
      {labBm labB2 T 1 1 {<font color=#6c3e67>-st</font> e}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Match: &quot;</font> <font color=#6c3e67>-style</font> TLabelFS}}
      {radA labBm L 1 1 {<font color=#6c3e67>-st</font> es <font color=#6c3e67>-padx</font> 0}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Exact&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(v1) <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-style</font> TRadiobuttonFS}}
      {radB radA L 1 1 {<font color=#6c3e67>-st</font> ws <font color=#6c3e67>-padx</font> 5}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Glob&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(v1) <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Allows to use *, ?, \[ and \]\nin \&quot;find\&quot; string.&quot;</font> <font color=#6c3e67>-style</font> TRadiobuttonFS}}
      {radC radB L 1 5 {<font color=#6c3e67>-st</font> ws <font color=#6c3e67>-padx</font> 0 <font color=#6c3e67>-cw</font> 1}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;RE&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(v1) <font color=#6c3e67>-value</font> 3 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Allows to use the regular expressions\nin \&quot;find\&quot; string.&quot;</font> <font color=#6c3e67>-style</font> TRadiobuttonFS}}
      {h_2 labBm T 1 9  {<font color=#6c3e67>-st</font> es <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-pady</font> 0}}
      {seh  h_2 T 1 9  {<font color=#6c3e67>-st</font> ews}}
      {chb1 seh  T 1 2 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Match whole word only&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c1) <font color=#6c3e67>-style</font> TCheckbuttonFS}}
      {chb2 chb1 T 1 2 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Match case&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c2) <font color=#6c3e67>-style</font> TCheckbuttonFS}}
      {chb3 chb2 T 1 2 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Replace by blank&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c3) <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Allows replacements by the empty string,\nin fact, to erase the found ones.&quot;</font> <font color=#6c3e67>-style</font> TCheckbuttonFS}}
      {sev1 chb1 L 4 1 }
      {fralabB3 sev1 L 4 6 {<font color=#6c3e67>-st</font> nsw <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-borderwidth</font> 0 <font color=#6c3e67>-relief</font> groove <font color=#6c3e67>-padding</font> {3 3}}}
      {.labB3 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> w} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Direction:&quot;</font> <font color=#6c3e67>-style</font> TLabelFS}}
      {.rad1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Up&quot;</font> <font color=#6c3e67>-image</font> alimg_up <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-var</font> ::alited::find::data(v2) <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-style</font> TRadiobuttonFS}}
      {.rad2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Down&quot;</font> <font color=#6c3e67>-image</font> alimg_down <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-var</font> ::alited::find::data(v2) <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-style</font> TRadiobuttonFS}}
      {.chb4 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> sw} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Wrap around&quot;</font> <font color=#6c3e67>-var</font> ::alited::find::data(c4) <font color=#6c3e67>-style</font> TCheckbuttonFS}}
      {sev2 cbx1 L 9 1}
      {But1 sev2 L 1 1 {<font color=#6c3e67>-st</font> wes <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Find&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;::alited::find::Find 1&quot;</font> <font color=#6c3e67>-style</font> TButtonWestBoldFS}}
      {But2 but1 T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;All in Text&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;::alited::find::FindInText 2&quot;</font> <font color=#6c3e67>-style</font> TButtonWestFS}}
      {But3 but2 T 1 1 {<font color=#6c3e67>-st</font> wen <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;::alited::find::FindInSession add 3&quot;</font> <font color=#6c3e67>-style</font> TButtonWestFS}}
      {seh2 but3 T 1 1 {<font color=#6c3e67>-st</font> ews}}
      {seh3 seh2 T 1 1 {<font color=#6c3e67>-st</font> ews}}
      {but4 seh3 T 1 1 {<font color=#6c3e67>-st</font> wes <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-t</font> Replace <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;::alited::find::Replace&quot;</font> <font color=#6c3e67>-style</font> TButtonWestBoldFS}}
      {but5 but4 T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;All in Text&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;::alited::find::ReplaceInText&quot;</font> <font color=#6c3e67>-style</font> TButtonWestFS}}
      {But6 but5 T 1 1 {<font color=#6c3e67>-st</font> wen <font color=#6c3e67>-pady</font> 2} {<font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;::alited::find::ReplaceInSession&quot;</font> <font color=#6c3e67>-style</font> TButtonWestFS}}
    }
    SessionButtons
    <b><font color=#3a6797>foreach</font></b> k {f F} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$w</font>.cbx1 &lt;Control-<font color=#1b1baa>$k</font>&gt; {::alited::find::LastInvoke; <b><font color=#3a6797>break</font></b>}}
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w</font>.cbx1 &lt;Return&gt; <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>w.but1 invoke&quot;</font>  ;<i><font color=#4b5d50># hot in comboboxes</font></i>
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$w</font>.cbx2 &lt;Return&gt; <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>w.but4 invoke&quot;</font>
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>w.cbx1 selection range 0 end&quot;</font>
    <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obFND</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$minsize</font> <font color=#6c3e67>-focus</font> <font color=#1b1baa>$w</font>.cbx1 <font color=#6c3e67>-modal</font> no]
    <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>] ;<i><font color=#4b5d50># save the new geometry of the dialogue</font></i>
    <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
    ClearTags
  }
  <b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> [alited::main::CurrentWTXT]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs Find/Replace dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_173' href="javascript:toggleSource('173')">Show source</a></p>
<div id='173' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::_run {} {

  <i><font color=#4b5d50># Runs Find/Replace dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>update</font></b>  ;<i><font color=#4b5d50># if run from menu: there may be unupdated space under it (in some DE)</font></i>
  GetFindEntry
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
    SessionButtons
    <b><font color=#134070>wm</font></b> withdraw <font color=#1b1baa>$win</font>
    <b><font color=#134070>wm</font></b> deiconify <font color=#1b1baa>$win</font>
    <b><font color=#3a6797>set</font></b> cbx [<font color=#1b1baa>$obFND</font> Cbx1]
    <b><font color=#134070>focus</font></b> <font color=#1b1baa>$cbx</font>
    <font color=#1b1baa>$cbx</font> selection clear
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>cbx selection range 0 end&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    _create
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CheckData'>CheckData</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the find/replace data are valid.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckData</span> <span class='ruff_arg'>op</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>op</code></code></td><td class='ruff_defitem'>if &quot;repl&quot;, checks for &quot;Replace&quot; operation</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Return &quot;yes&quot;, if the input data are valid.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_174' href="javascript:toggleSource('174')">Show source</a></p>
<div id='174' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::CheckData {op} {

  <i><font color=#4b5d50># Checks if the find/replace data are valid.</font></i>
  <i><font color=#4b5d50>#   op - if &quot;repl&quot;, checks for &quot;Replace&quot; operation</font></i>
  <i><font color=#4b5d50># Return &quot;yes&quot;, if the input data are valid.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> data
  <i><font color=#4b5d50># this means &quot;no checks when used outside of the dialogue&quot;:</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$data(docheck)</font>} {<b><font color=#ca14ca>return</font></b> yes}
  <i><font color=#4b5d50># search input data in arrays of combobox values:</font></i>
  <i><font color=#4b5d50># if not found, save the data to the arrays</font></i>
  <b><font color=#3a6797>set</font></b> w <font color=#1b1baa>$win</font>.fra
  <b><font color=#3a6797>set</font></b> foc {}
  <b><font color=#3a6797>foreach</font></b> i {2 1} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> data(en<font color=#1b1baa>$i</font>)] ne {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> f [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] [<b><font color=#3a6797>set</font></b> data(en<font color=#1b1baa>$i</font>)]]]&gt;-1} {
        <b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>lreplace</font></b> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] <font color=#1b1baa>$f</font> <font color=#1b1baa>$f</font>]
      }
      <b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>linsert</font></b> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] 0 [<b><font color=#3a6797>set</font></b> data(en<font color=#1b1baa>$i</font>)]]
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>lreplace</font></b> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)] <font color=#1b1baa>$al(INI,maxfind)</font> end]}
      <font color=#1b1baa>$w</font>.cbx<font color=#1b1baa>$i</font> configure <font color=#6c3e67>-values</font> [<b><font color=#3a6797>set</font></b> data(vals<font color=#1b1baa>$i</font>)]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$i</font>==1 || (<font color=#1b1baa>$op</font> eq <font color=#7d1a1a>&quot;repl&quot;</font> && !<font color=#1b1baa>$data(c3)</font>)} {
      <b><font color=#3a6797>set</font></b> foc <font color=#1b1baa>$w</font>.cbx<font color=#1b1baa>$i</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$foc</font> ne {}} {
    <i><font color=#4b5d50># if find/replace field is empty, let the bell tolls for him</font></i>
    <b><font color=#134070>bell</font></b>
    <b><font color=#134070>focus</font></b> <font color=#1b1baa>$foc</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::CheckWord'>CheckWord</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check if the found string is a word, at searching by words,</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckWord</span> <span class='ruff_arg'>wtxt index1 index2 ?wordonly?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>index1</code></code></td><td class='ruff_defitem'>first index of the found string</td></tr>
<tr><td class='ruff_defitem'><code><code>index2</code></code></td><td class='ruff_defitem'>last index of the found string</td></tr>
<tr><td class='ruff_defitem'><code><code>wordonly</code></code></td><td class='ruff_defitem'>flag &quot;search word only&quot; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;yes&quot; if the found string is a word.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_175' href="javascript:toggleSource('175')">Show source</a></p>
<div id='175' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::CheckWord {wtxt index1 index2 {wordonly {}}} {

  <i><font color=#4b5d50># Check if the found string is a word, at searching by words,</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   index1 - first index of the found string</font></i>
  <i><font color=#4b5d50>#   index2 - last index of the found string</font></i>
  <i><font color=#4b5d50>#   wordonly - flag &quot;search word only&quot;</font></i>
  <i><font color=#4b5d50># Returns &quot;yes&quot; if the found string is a word.</font></i>

  <b><font color=#3a6797>variable</font></b> adelim
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wordonly</font> eq {}} {<b><font color=#3a6797>set</font></b> wordonly <font color=#1b1baa>$data(c1)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wordonly</font>} {
    <b><font color=#3a6797>set</font></b> index10 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>index1 - 1c&quot;</font>]
    <b><font color=#3a6797>set</font></b> index20 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>index2 + 1c&quot;</font>]
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$index10</font> <font color=#1b1baa>$index1</font>] ni <font color=#1b1baa>$adelim</font>} {<b><font color=#ca14ca>return</font></b> no}
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$index2</font> <font color=#1b1baa>$index20</font>] ni <font color=#1b1baa>$adelim</font>} {<b><font color=#ca14ca>return</font></b> no}
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ClearTags'>ClearTags</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears all find tags in a current text, if Find/Replace dialogue was closed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearTags</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_176' href="javascript:toggleSource('176')">Show source</a></p>
<div id='176' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ClearTags {} {

  <i><font color=#4b5d50># Clears all find tags in a current text, if Find/Replace dialogue was closed.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$win</font>]} {
      [alited::main::CurrentWTXT] tag remove fndTag 1.0 end
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::DoFindUnit'>DoFindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs searching units in current text / all texts.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DoFindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_177' href="javascript:toggleSource('177')">Show source</a></p>
<div id='177' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::DoFindUnit {} {

  <i><font color=#4b5d50># Runs searching units in current text / all texts.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> ent [<font color=#1b1baa>$obPav</font> CbxFindSTD]
  <b><font color=#3a6797>set</font></b> what [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$ent</font> get]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$what</font> eq {} || [<b><font color=#3a6797>regexp</font></b> {\s} <font color=#1b1baa>$what</font>]} {
    alited::Message [msgcat::mc {Incorrect name for a unit.}] 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(findunitvals)</font> <font color=#1b1baa>$what</font>]]&gt;=0} {
    <b><font color=#3a6797>set</font></b> al(findunitvals) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(findunitvals)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  }
  <b><font color=#3a6797>set</font></b> al(findunitvals) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$al(findunitvals)</font> 0 <font color=#1b1baa>$what</font>]
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(findunitvals) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(findunitvals)</font> <font color=#1b1baa>$al(FAV,MAXLAST)</font> end]}
  <font color=#1b1baa>$ent</font> configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$al(findunitvals)</font>
  InitShowResults
  <b><font color=#3a6797>set</font></b> n 0
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$alited::main::findunits</font>==1} {
    <b><font color=#3a6797>set</font></b> tabs [SessionList]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> tabs [alited::bar::CurrentTabID]
  }
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    alited::file::ReadFileByTID <font color=#1b1baa>$TID</font>
    <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
      <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$title</font> [<b><font color=#3a6797>string</font></b> last : <font color=#1b1baa>$title</font>]+1 end] ;<i><font color=#4b5d50># pure name, no NS</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#6c3e67>-nocase</font> <font color=#7d1a1a>&quot;*<font color=#1b1baa>$</font>what*&quot;</font> <font color=#1b1baa>$ttl</font>]} {
        <b><font color=#3a6797>set</font></b> fname [alited::bar::BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-text</font>]
        alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>fname:<font color=#1b1baa>$</font>l1: <font color=#1b1baa>$</font>title&quot;</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$l1</font>]
        <b><font color=#3a6797>incr</font></b> n
      }
    }
  }
  alited::info::Clear 0
  ShowResults [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$n</font> %s <font color=#1b1baa>$what</font>] <font color=#1b1baa>$al(MC,frres1)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Find'>Find</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches one string in a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Find</span> <span class='ruff_arg'>?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (1 means &quot;Find&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_178' href="javascript:toggleSource('178')">Show source</a></p>
<div id='178' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Find {{inv -1}} {

  <i><font color=#4b5d50># Searches one string in a current text.</font></i>
  <i><font color=#4b5d50>#   inv - index of a button that was hit (1 means &quot;Find&quot; button)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inv</font>&gt;-1} {<b><font color=#3a6797>set</font></b> data(lastinvoke) <font color=#1b1baa>$inv</font>}  ;<i><font color=#4b5d50># save the hit button's index</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <font color=#1b1baa>$wtxt</font> tag remove sel 1.0 end
  <b><font color=#3a6797>set</font></b> fndlist [Search <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fndlist</font>]} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obFND</font> Cbx1]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> indexprev [<b><font color=#3a6797>set</font></b> indexnext 0]
  <b><font color=#3a6797>set</font></b> index [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>foreach</font></b> idx12 <font color=#1b1baa>$fndlist</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$idx12</font> index1 index2
    <font color=#1b1baa>$wtxt</font> tag add fndTag <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$index1</font> &lt; <font color=#1b1baa>$index</font>]} {
      <b><font color=#3a6797>set</font></b> indexprev <font color=#1b1baa>$index1</font>
      <b><font color=#3a6797>set</font></b> indp2 <font color=#1b1baa>$index2</font>
    }
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$index</font> &lt; <font color=#1b1baa>$index1</font>] && <font color=#1b1baa>$indexnext</font>==0} {
      <b><font color=#3a6797>set</font></b> indexnext <font color=#1b1baa>$index1</font>
      <b><font color=#3a6797>set</font></b> indn2 <font color=#1b1baa>$index2</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(c4)</font> && <font color=#1b1baa>$data(v2)</font>==1}        {  ;<i><font color=#4b5d50># search backward & wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$indexprev</font>} {<b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fndlist</font> end] indexprev indp2}
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexprev</font>
    <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexprev</font> <font color=#1b1baa>$indp2</font>

  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$data(c4)</font> && <font color=#1b1baa>$data(v2)</font>==2}  {  ;<i><font color=#4b5d50># search forward & wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$indexnext</font> || ([<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fndlist</font> end 0]==<font color=#1b1baa>$indexnext</font> && [<font color=#1b1baa>$wtxt</font> compare <font color=#1b1baa>$indexnext</font> == <font color=#1b1baa>$index</font>])} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$fndlist</font> 0] indexnext indn2
    }
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexnext</font>
    <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexnext</font> <font color=#1b1baa>$indn2</font>

  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$data(c4)</font> &&<font color=#1b1baa>$data(v2)</font>==1}  {  ;<i><font color=#4b5d50># search backward & not wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$indexprev</font>} {
      ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexprev</font>
      <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexprev</font> <font color=#1b1baa>$indp2</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>bell</font></b>
    }

  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$data(c4)</font> && <font color=#1b1baa>$data(v2)</font>==2} {  ;<i><font color=#4b5d50># search forward & not wrap around</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$indexnext</font>} {
      ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$indexnext</font>
      <font color=#1b1baa>$wtxt</font> tag add sel <font color=#1b1baa>$indexnext</font> <font color=#1b1baa>$indn2</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>bell</font></b>
    }
  }
  ::alited::main::CursorPos <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inv</font>&gt;-1} alited::main::HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindAll'>FindAll</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindAll</span> <span class='ruff_arg'>wtxt TID ?tagme?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>tagme</code></code></td><td class='ruff_defitem'>if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot; <i>optional, default</i> <code>add</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_179' href="javascript:toggleSource('179')">Show source</a></p>
<div id='179' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindAll {wtxt TID {tagme add}} {

  <i><font color=#4b5d50># Searches all strings in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   tagme - if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot;</font></i>

  <b><font color=#3a6797>set</font></b> fname [alited::bar::BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>set</font></b> l1 -1
  <b><font color=#3a6797>set</font></b> allfnd [Search <font color=#1b1baa>$wtxt</font>]
  <b><font color=#3a6797>foreach</font></b> idx12 <font color=#1b1baa>$allfnd</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$idx12</font> index1 index2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tagme</font> eq {add}} {<font color=#1b1baa>$wtxt</font> tag add fndTag <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>}
    <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$index1</font>)}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l1</font> != <font color=#1b1baa>$l2</font>} {
      <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>index1 linestart&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>index1 lineend&quot;</font>]
      alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>fname:<font color=#1b1baa>$</font>l2: <font color=#1b1baa>[</font>string trim <font color=#1b1baa>$</font>line<font color=#1b1baa>]</font>&quot;</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$l2</font>]
      <b><font color=#3a6797>set</font></b> l1 <font color=#1b1baa>$l2</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$allfnd</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindInSession'>FindInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindInSession</span> <span class='ruff_arg'>?tagme? ?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tagme</code></code></td><td class='ruff_defitem'>if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot; <i>optional, default</i> <code>add</code></td></tr>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (3 means &quot;All in Session&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_180' href="javascript:toggleSource('180')">Show source</a></p>
<div id='180' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindInSession {{tagme add} {inv -1}} {

  <i><font color=#4b5d50># Searches all strings in a session.</font></i>
  <i><font color=#4b5d50>#   tagme - if &quot;add&quot;, means &quot;add find tag to the found strings of the text&quot;</font></i>
  <i><font color=#4b5d50>#   inv - index of a button that was hit (3 means &quot;All in Session&quot; button)</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData find]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inv</font>&gt;-1} {<b><font color=#3a6797>set</font></b> data(lastinvoke) <font color=#1b1baa>$inv</font>}
  InitShowResults
  <b><font color=#3a6797>set</font></b> allfnd [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> data(_ERR_) no
  <b><font color=#3a6797>foreach</font></b> tab [SessionList] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] curfile wtxt
    <b><font color=#3a6797>lappend</font></b> allfnd {<b><font color=#3a6797>*</font></b>}[FindAll <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$tagme</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(_ERR_)</font>} <b><font color=#3a6797>break</font></b>
  }
  alited::info::Clear 0
  ShowResults1 <font color=#1b1baa>$allfnd</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindInText'>FindInText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches all strings in a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindInText</span> <span class='ruff_arg'>?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>index of a button that was hit (2 means &quot;All in Text&quot; button); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_181' href="javascript:toggleSource('181')">Show source</a></p>
<div id='181' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindInText {{inv -1}} {

  <i><font color=#4b5d50># Searches all strings in a current text.</font></i>
  <i><font color=#4b5d50>#   inv - index of a button that was hit (2 means &quot;All in Text&quot; button)</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$inv</font>&gt;-1} {<b><font color=#3a6797>set</font></b> data(lastinvoke) <font color=#1b1baa>$inv</font>}
  alited::info::Clear
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  ShowResults1 [FindAll <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$TID</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindOptions'>FindOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of search, according to the dialogue's fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindOptions</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_182' href="javascript:toggleSource('182')">Show source</a></p>
<div id='182' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindOptions {wtxt} {

  <i><font color=#4b5d50># Gets options of search, according to the dialogue's fields.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <font color=#1b1baa>$wtxt</font> tag remove fndTag 1.0 end  ;<i><font color=#4b5d50># clear the text off the find tag</font></i>
  <b><font color=#3a6797>set</font></b> options [<b><font color=#3a6797>set</font></b> stopidx {}]
  <b><font color=#3a6797>set</font></b> findstr <font color=#1b1baa>$data(en1)</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$data(c2)</font>} {<b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-nocase</font> }}
  <i><font color=#4b5d50># glob search - through its regexp</font></i>
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$data(v1)</font> {
    2 {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }
      <b><font color=#3a6797>set</font></b> findstr [<b><font color=#3a6797>string</font></b> map {<b><font color=#3a6797>*</font></b> .* ? . . \\. \{ \\\{ \} \\\} ( \\( ) \\) ^ \\^ \$ \\\$ - \\- + \\+} <font color=#1b1baa>$findstr</font>]
    }
    3 {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }}
    <b><font color=#3a6797>default</font></b> {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-exact</font> }}
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$findstr</font> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$options</font>] <font color=#1b1baa>$stopidx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindReplStr'>FindReplStr</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares a string to find/replace for messages.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindReplStr</span> <span class='ruff_arg'>str</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>string to prepare</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_183' href="javascript:toggleSource('183')">Show source</a></p>
<div id='183' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindReplStr {str} {

  <i><font color=#4b5d50># Prepares a string to find/replace for messages.</font></i>
  <i><font color=#4b5d50>#   str - string to prepare</font></i>

  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$str</font> 0 50]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne <font color=#1b1baa>$str</font>} {<b><font color=#3a6797>append</font></b> res { ...}}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::FindUnit'>FindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays &quot;Find unit&quot; frame.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_184' href="javascript:toggleSource('184')">Show source</a></p>
<div id='184' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::FindUnit {} {

  <i><font color=#4b5d50># Displays &quot;Find unit&quot; frame.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> ent [<font color=#1b1baa>$obPav</font> CbxFindSTD]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> word [GetWordOfText]] ne {}} {
    <b><font color=#3a6797>set</font></b> alited::al(findunit) <font color=#1b1baa>$word</font>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exist al(isfindunit)] || !<font color=#1b1baa>$al(isfindunit)</font>} {
    <b><font color=#3a6797>set</font></b> al(isfindunit) true
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> FraHead] <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> GutText]
    <b><font color=#3a6797>foreach</font></b> k {f F} {<b><font color=#134070>bind</font></b> <font color=#1b1baa>$ent</font> &lt;Shift-Control-<font color=#1b1baa>$k</font>&gt; {alited::find::DoFindUnit; <b><font color=#3a6797>break</font></b>}}
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$ent</font> &lt;Return&gt; alited::find::DoFindUnit
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$ent</font> &lt;Escape&gt; {::alited::find::HideFindUnit; <b><font color=#3a6797>break</font></b>}
  }
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$ent</font>
  <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>ent selection range 0 end&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetCommandOfLine'>GetCommandOfLine</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a command from a line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCommandOfLine</span> <span class='ruff_arg'>line idx ?delim? ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>a column of the line</td></tr>
<tr><td class='ruff_defitem'><code><code>delim</code></code></td><td class='ruff_defitem'>list of word delimiters; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_185' href="javascript:toggleSource('185')">Show source</a></p>
<div id='185' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetCommandOfLine {line idx {delim {}} {mode {}}} {

  <i><font color=#4b5d50># Gets a command from a line.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>
  <i><font color=#4b5d50>#   idx - a column of the line</font></i>
  <i><font color=#4b5d50>#   delim - list of word delimiters</font></i>
  <i><font color=#4b5d50>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#3a6797>variable</font></b> ldelim
  <b><font color=#3a6797>variable</font></b> rdelim
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$delim</font> ne {}} {
    <b><font color=#3a6797>set</font></b> delim1 <font color=#1b1baa>$delim</font>
    <b><font color=#3a6797>set</font></b> delim2 <font color=#1b1baa>$delim</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> delim1 <font color=#1b1baa>$ldelim</font>
    <b><font color=#3a6797>set</font></b> delim2 <font color=#1b1baa>$rdelim</font>
  }
  <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$idx</font> [<b><font color=#3a6797>string</font></b> first . <font color=#1b1baa>$idx</font>]+1 end]]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$i1</font>} {1} {} {
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>] in <font color=#1b1baa>$delim1</font>} {
      <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]
      <b><font color=#3a6797>break</font></b>
    }
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$i1</font>} {1} {} {
    <b><font color=#3a6797>incr</font></b> i
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>] in <font color=#1b1baa>$delim2</font>} {
      <b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>-1}]
      <b><font color=#3a6797>break</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$mode</font> end] eq <font color=#7d1a1a>&quot;2&quot;</font>} {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$res</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetCommandOfText'>GetCommandOfText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a command of text under the cursor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCommandOfText</span> <span class='ruff_arg'>wtxt ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_186' href="javascript:toggleSource('186')">Show source</a></p>
<div id='186' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetCommandOfText {wtxt {mode {}}} {

  <i><font color=#4b5d50># Gets a command of text under the cursor.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>idx linestart&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>idx lineend&quot;</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> [GetCommandOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font> <font color=#7d1a1a>&quot;&quot;</font> <font color=#1b1baa>$mode</font>] <font color=#1b1baa>$idx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetFindEntry'>GetFindEntry</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a current selection of text to the &quot;Find:&quot; field</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetFindEntry</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_187' href="javascript:toggleSource('187')">Show source</a></p>
<div id='187' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetFindEntry {} {

  <i><font color=#4b5d50># Puts a current selection of text to the &quot;Find:&quot; field</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtxt</font> get sel.first sel.last]}]} {
    <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>idx linestart&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>idx lineend&quot;</font>]
    <b><font color=#3a6797>set</font></b> sel [GetWordOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$sel</font> ne {}} {<b><font color=#3a6797>set</font></b> data(en1) <font color=#1b1baa>$sel</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetWordOfLine'>GetWordOfLine</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a word from a line.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWordOfLine</span> <span class='ruff_arg'>line idx ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>a column of the line</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if it ends with &quot;2&quot;, the result includes a range of found string; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_188' href="javascript:toggleSource('188')">Show source</a></p>
<div id='188' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetWordOfLine {line idx {mode {}}} {

  <i><font color=#4b5d50># Gets a word from a line.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>
  <i><font color=#4b5d50>#   idx - a column of the line</font></i>
  <i><font color=#4b5d50>#   mode - if it ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#3a6797>variable</font></b> adelim
  <b><font color=#ca14ca>return</font></b> [GetCommandOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font> <font color=#1b1baa>$adelim</font> <font color=#1b1baa>$mode</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::GetWordOfText'>GetWordOfText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a word of text under the cursor.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWordOfText</span> <span class='ruff_arg'>?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;select&quot;, try to get the word from a line with a selection; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'mode' ends with &quot;2&quot;, the result includes a range of found string.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_189' href="javascript:toggleSource('189')">Show source</a></p>
<div id='189' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::GetWordOfText {{mode {}}} {

  <i><font color=#4b5d50># Gets a word of text under the cursor.</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;select&quot;, try to get the word from a line with a selection</font></i>
  <i><font color=#4b5d50>#  If 'mode' ends with &quot;2&quot;, the result includes a range of found string.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> in {noselect noselect2} ||  [<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtxt</font> get sel.first sel.last]}]} {
    <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>idx linestart&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>idx lineend&quot;</font>]
    <b><font color=#3a6797>set</font></b> sel [GetWordOfLine <font color=#1b1baa>$line</font> <font color=#1b1baa>$idx</font> <font color=#1b1baa>$mode</font>]
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$mode</font> end] eq <font color=#7d1a1a>&quot;2&quot;</font>} {
    <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$sel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$sel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::HideFindUnit'>HideFindUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Hides &quot;Find unit&quot; frame.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HideFindUnit</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_190' href="javascript:toggleSource('190')">Show source</a></p>
<div id='190' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::HideFindUnit {} {

  <i><font color=#4b5d50># Hides &quot;Find unit&quot; frame.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(isfindunit) no
  <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> FraHead]
  <b><font color=#134070>focus</font></b> [alited::main::CurrentWTXT]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::InitShowResults'>InitShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears the info list before any search.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitShowResults</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_191' href="javascript:toggleSource('191')">Show source</a></p>
<div id='191' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::InitShowResults {} {

  <i><font color=#4b5d50># Clears the info list before any search.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  alited::info::Clear
  alited::info::Put <font color=#1b1baa>$al(MC,wait)</font> {} yes yes
  <b><font color=#3a6797>update</font></b>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::LastInvoke'>LastInvoke</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Invokes last Find button that was pressed. If Ctrl-F is pressed inside Find/Replace dialogue, the last pressed Find button will be invoked.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LastInvoke</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_192' href="javascript:toggleSource('192')">Show source</a></p>
<div id='192' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::LastInvoke {} {

  <i><font color=#4b5d50># Invokes last Find button that was pressed.</font></i>
  <i><font color=#4b5d50># If Ctrl-F is pressed inside Find/Replace dialogue, the last</font></i>
  <i><font color=#4b5d50># pressed Find button will be invoked.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obFND obFND
  <b><font color=#3a6797>variable</font></b> data
  [<font color=#1b1baa>$obFND</font> But<font color=#1b1baa>$data(lastinvoke)</font>] invoke
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Next'>Next</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Generate F3 key pressing event.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Next</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_193' href="javascript:toggleSource('193')">Show source</a></p>
<div id='193' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Next {} {

  <i><font color=#4b5d50># Generate F3 key pressing event.</font></i>

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;[alited::pref::BindKey 12 - F3]&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Replace'>Replace</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces one string and finds next.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Replace</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_194' href="javascript:toggleSource('194')">Show source</a></p>
<div id='194' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Replace {} {

  <i><font color=#4b5d50># Replaces one string and finds next.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData repl]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>set</font></b> isset no
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges sel] idx1 idx2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq <font color=#1b1baa>$idx1</font>} {
    <b><font color=#3a6797>lassign</font></b> [Search1 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>] err fnd
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} <b><font color=#ca14ca>return</font></b>
    <b><font color=#3a6797>foreach</font></b> index1 <font color=#1b1baa>$fnd</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$index1</font> eq <font color=#1b1baa>$pos</font>} {
        <b><font color=#3a6797>set</font></b> isset yes
        <b><font color=#3a6797>break</font></b>
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isset</font>} Find
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges sel] idx1 idx2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx1</font> ne {} && <font color=#1b1baa>$idx2</font> ne {}} {
    <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font> <font color=#1b1baa>$data(en2)</font>
    SetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$idx1</font>
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n 1 %s <font color=#1b1baa>$data(en1)</font> %r <font color=#1b1baa>$data(en2)</font>] <font color=#1b1baa>$alited::al(MC,frres2)</font>]
    ShowResults <font color=#1b1baa>$msg</font>
    alited::main::UpdateTextGutterTree
  }
  Find
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceAll'>ReplaceAll</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces all found strings in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceAll</span> <span class='ruff_arg'>TID wtxt allfnd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>allfnd</code></code></td><td class='ruff_defitem'>list of found strings data (index1, index2)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_195' href="javascript:toggleSource('195')">Show source</a></p>
<div id='195' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ReplaceAll {TID wtxt allfnd} {

  <i><font color=#4b5d50># Replaces all found strings in a text.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   allfnd - list of found strings data (index1, index2)</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> no
  <font color=#1b1baa>$wtxt</font> edit separator
  <b><font color=#3a6797>set</font></b> rn 0
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$allfnd</font>]} {<font color=#1b1baa>$i</font>} {} {
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$rn</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ni [alited::bar::BAR listFlag m]} {
        alited::edit::BackupFile <font color=#1b1baa>$TID</font> orig
      }
    }
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$allfnd</font> <font color=#1b1baa>$i</font>] idx1 idx2
    <font color=#1b1baa>$wtxt</font> replace <font color=#1b1baa>$idx1</font> <font color=#1b1baa>$idx2</font> <font color=#1b1baa>$data(en2)</font>
    <b><font color=#3a6797>incr</font></b> rn
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$rn</font>} {SetCursor <font color=#1b1baa>$wtxt</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$allfnd</font> end 0]}
  <font color=#1b1baa>$wtxt</font> edit separator
  <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> yes
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$rn</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceInSession'>ReplaceInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Replace in Session&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceInSession</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_196' href="javascript:toggleSource('196')">Show source</a></p>
<div id='196' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ReplaceInSession {} {

  <i><font color=#4b5d50># Handles hitting &quot;Replace in Session&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData repl]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %s [FindReplStr <font color=#1b1baa>$data(en1)</font>]  %r [FindReplStr <font color=#1b1baa>$data(en2)</font>]] <font color=#1b1baa>$al(MC,frdoit2)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> NO]} {
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> rn 0
  <b><font color=#3a6797>set</font></b> data(_ERR_) no
  <b><font color=#3a6797>foreach</font></b> tab [SessionList] {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    <b><font color=#3a6797>lassign</font></b> [alited::main::GetText <font color=#1b1baa>$TID</font> no no] curfile wtxt
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> rdone [ReplaceAll <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> [Search <font color=#1b1baa>$wtxt</font>]]]} {
      ShowResults2 <font color=#1b1baa>$rdone</font> <font color=#1b1baa>$alited::al(MC,frres2)</font> <font color=#1b1baa>$TID</font>
      <b><font color=#3a6797>incr</font></b> rn <font color=#1b1baa>$rdone</font>
      alited::bar::BAR markTab <font color=#1b1baa>$TID</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(_ERR_)</font>} <b><font color=#3a6797>break</font></b>
  }
  ShowResults2 <font color=#1b1baa>$rn</font> <font color=#1b1baa>$alited::al(MC,frres3)</font>
  alited::main::UpdateTextGutterTree
  alited::bar::OnTabSelection [alited::bar::CurrentTabID] ;<i><font color=#4b5d50># updates icons</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ReplaceInText'>ReplaceInText</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles hitting &quot;Replace in Text&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReplaceInText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_197' href="javascript:toggleSource('197')">Show source</a></p>
<div id='197' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ReplaceInText {} {

  <i><font color=#4b5d50># Handles hitting &quot;Replace in Text&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>if</font></b> {![CheckData repl]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName]]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font> %s [FindReplStr <font color=#1b1baa>$data(en1)</font>]  %r [FindReplStr <font color=#1b1baa>$data(en2)</font>]] <font color=#1b1baa>$al(MC,frdoit1)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> NO]} {
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> rn [ReplaceAll <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font> [Search <font color=#1b1baa>$wtxt</font>]]
  ShowResults2 <font color=#1b1baa>$rn</font> <font color=#1b1baa>$alited::al(MC,frres2)</font>
  alited::main::UpdateTextGutterTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Search'>Search</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a text for a string to find.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_198' href="javascript:toggleSource('198')">Show source</a></p>
<div id='198' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Search {wtxt} {

  <i><font color=#4b5d50># Searches a text for a string to find.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>variable</font></b> counts
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>set</font></b> idx [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>lassign</font></b> [FindOptions <font color=#1b1baa>$wtxt</font>] findstr options
  <b><font color=#3a6797>if</font></b> {![CheckData find]} {<b><font color=#ca14ca>return</font></b> {}}
  <font color=#1b1baa>$obPav</font> set_HighlightedString <font color=#1b1baa>$findstr</font>
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$obPav</font> csDark]} {
    <b><font color=#3a6797>set</font></b> fg white
    <b><font color=#3a6797>set</font></b> bg #1c1cff
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> fg black
    <b><font color=#3a6797>set</font></b> bg #8fc7ff
  }
  <font color=#1b1baa>$wtxt</font> tag configure fndTag <font color=#6c3e67>-borderwidth</font> 1 <font color=#6c3e67>-relief</font> raised <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-background</font> <font color=#1b1baa>$bg</font>
  <font color=#1b1baa>$wtxt</font> tag lower fndTag
  <b><font color=#3a6797>lassign</font></b> [Search1 <font color=#1b1baa>$wtxt</font> 1.0] err fnd
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$err</font>} {<b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> index1 <font color=#1b1baa>$fnd</font> {
    <b><font color=#3a6797>set</font></b> index2 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>index1 + <font color=#1b1baa>[</font>lindex <font color=#1b1baa>$</font>counts <font color=#1b1baa>$</font>i<font color=#1b1baa>]</font>c&quot;</font>]
    <b><font color=#3a6797>if</font></b> {[CheckWord <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>]} {
      <b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>]
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::Search1'>Search1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a text from a position for a string to find.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search1</span> <span class='ruff_arg'>wtxt pos</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>position to start searching from</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_199' href="javascript:toggleSource('199')">Show source</a></p>
<div id='199' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::Search1 {wtxt pos} {

  <i><font color=#4b5d50># Searches a text from a position for a string to find.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   pos - position to start searching from</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>lassign</font></b> [FindOptions <font color=#1b1baa>$wtxt</font>] findstr options
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> fnd [<font color=#1b1baa>$wtxt</font> search {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$options</font> <font color=#6c3e67>-count</font> alited::find::counts <font color=#6c3e67>-all</font> -- <font color=#1b1baa>$findstr</font> <font color=#1b1baa>$pos</font>]} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font> <font color=#6c3e67>-ontop</font> yes <font color=#6c3e67>-parent</font> <font color=#1b1baa>$win</font>
    <b><font color=#3a6797>set</font></b> data(_ERR_) yes
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> 1 {}]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> 0 <font color=#1b1baa>$fnd</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList'>SearchByList</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches words by list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_200' href="javascript:toggleSource('200')">Show source</a></p>
<div id='200' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchByList {} {

  <i><font color=#4b5d50># Searches words by list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFN2 obFN2
  <b><font color=#3a6797>set</font></b> head [msgcat::mc {\n Enter a list of words divided by spaces: \n}]
  <b><font color=#3a6797>while</font></b> {1} {
    <b><font color=#3a6797>set</font></b> text [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$alited::EOL</font> \n] <font color=#1b1baa>$al(listSBL)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(matchSBL)</font> eq {}} {<b><font color=#3a6797>set</font></b> al(matchSBL) <font color=#1b1baa>$al(MC,frExact)</font>}
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> catch {<b><font color=#3a6797>set</font></b> ::alited::al(FN2WINDOW) <font color=#1b1baa>$::apave::MODALWINDOW</font>}]
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obFN2</font> input {} [msgcat::mc {Find by List}] [<b><font color=#3a6797>list</font></b>  tex <font color=#7d1a1a>&quot;<font color=#1b1baa>{[</font>msgcat::mc List:<font color=#1b1baa>]}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 50 -h 8<font color=#1b1baa>}</font>&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>text&quot;</font>  seh1  {{} {} {}} {}  radA  {<font color=#1b1baa>$::alited::al(MC,frMatch)</font>} {<font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>::alited::al(matchSBL)&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>::alited::al(MC,frExact)&quot;</font> Glob RE}  seh2  {{} {} {}} {}  chb1  {<font color=#1b1baa>$::alited::al(MC,frWord)</font>} {<font color=#1b1baa>$::alited::al(wordonlySBL)</font>}  chb2  {<font color=#1b1baa>$::alited::al(MC,frCase)</font>} {<font color=#1b1baa>$::alited::al(caseSBL)</font>}  ] <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font> <font color=#6c3e67>-weight</font> bold <font color=#6c3e67>-modal</font> no] res list match wordonly case
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
      <b><font color=#3a6797>set</font></b> al(listSBL) <font color=#1b1baa>$list</font>
      <b><font color=#3a6797>set</font></b> al(matchSBL) <font color=#1b1baa>$match</font>
      <b><font color=#3a6797>set</font></b> al(wordonlySBL) <font color=#1b1baa>$wordonly</font>
      <b><font color=#3a6797>set</font></b> al(caseSBL) <font color=#1b1baa>$case</font>
      SearchByList_Do
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>break</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList_Do'>SearchByList_Do</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Does searching words by list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList_Do</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_201' href="javascript:toggleSource('201')">Show source</a></p>
<div id='201' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchByList_Do {} {

  <i><font color=#4b5d50># Does searching words by list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> counts
  <b><font color=#3a6797>set</font></b> found [<b><font color=#3a6797>set</font></b> notfound [<b><font color=#3a6797>list</font></b>]]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> list [<b><font color=#3a6797>string</font></b> map {\n { }} <font color=#1b1baa>$al(listSBL)</font>]
  <b><font color=#3a6797>foreach</font></b> findword [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$list</font>] {
    <b><font color=#3a6797>lassign</font></b> [SearchByList_Options <font color=#1b1baa>$findword</font>] findstr options
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> fnd [<font color=#1b1baa>$wtxt</font> search {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$options</font> <font color=#6c3e67>-count</font> alited::find::counts <font color=#6c3e67>-all</font> -- <font color=#1b1baa>$findstr</font> 1.0]} err]} {
      alited::Message <font color=#1b1baa>$err</font> 4
      <b><font color=#3a6797>break</font></b>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$fnd</font>]} {
      <b><font color=#3a6797>set</font></b> i 0
      <b><font color=#3a6797>foreach</font></b> index1 <font color=#1b1baa>$fnd</font> {
        <b><font color=#3a6797>set</font></b> index2 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>index1 + <font color=#1b1baa>[</font>lindex <font color=#1b1baa>$</font>counts <font color=#1b1baa>$</font>i<font color=#1b1baa>]</font>c&quot;</font>]
        <b><font color=#3a6797>if</font></b> {[CheckWord <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font> <font color=#1b1baa>$al(wordonlySBL)</font>]} {
          <b><font color=#3a6797>set</font></b> word [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$index1</font> <font color=#1b1baa>$index2</font>]
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$found</font> <font color=#1b1baa>$word</font>]==-1} {
            <b><font color=#3a6797>lappend</font></b> found <font color=#1b1baa>$word</font>
          }
        }
        <b><font color=#3a6797>incr</font></b> i
      }
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> notfound <font color=#1b1baa>$findword</font>
    }
  }
  alited::msg ok info <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>msgcat::mc FOUND:<font color=#1b1baa>]</font>\n<font color=#1b1baa>$</font>found\n<font color=#1b1baa>[</font>string repeat _ 50<font color=#1b1baa>]</font> \n\n<font color=#1b1baa>[</font>msgcat::mc <font color=#1b1baa>{</font>NOT FOUND:<font color=#1b1baa>}]</font>\n<font color=#1b1baa>$</font>notfound\n&quot;</font> <font color=#6c3e67>-text</font> 1 <font color=#6c3e67>-w</font> {40 70} <font color=#6c3e67>-h</font> {10 20}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchByList_Options'>SearchByList_Options</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByList_Options</span> <span class='ruff_arg'>findstr</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>findstr</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_202' href="javascript:toggleSource('202')">Show source</a></p>
<div id='202' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchByList_Options {findstr} {

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(caseSBL)</font>} {<b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-nocase</font> }}
  <i><font color=#4b5d50># glob search - through its regexp</font></i>
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$al(matchSBL)</font> {
    Glob {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }
      <b><font color=#3a6797>set</font></b> findstr [<b><font color=#3a6797>string</font></b> map {<b><font color=#3a6797>*</font></b> .* ? . . \\. \{ \\\{ \} \\\} ( \\( ) \\) ^ \\^ \$ \\\$ - \\- + \\+} <font color=#1b1baa>$findstr</font>]
    }
    RE {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-regexp</font> }
    }
    <b><font color=#3a6797>default</font></b> {
      <b><font color=#3a6797>append</font></b> options {<font color=#6c3e67>-exact</font> }}
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$findstr</font> <font color=#1b1baa>$options</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchUnit'>SearchUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and runs searching units in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchUnit</span> <span class='ruff_arg'>?wtxt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_203' href="javascript:toggleSource('203')">Show source</a></p>
<div id='203' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchUnit {{wtxt {}}} {

  <i><font color=#4b5d50># Prepares and runs searching units in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - the text's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># switch to the unit tree: 1st to enable the search, 2nd to show units found & selected</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} alited::tree::SwitchTree
  <b><font color=#3a6797>lassign</font></b> [SearchUnit1 <font color=#1b1baa>$wtxt</font> yes] found TID what
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font> eq {}} {
    <i><font color=#4b5d50># if the qualified not found, try to find the non-qualified (first encountered)</font></i>
    <b><font color=#3a6797>lassign</font></b> [SearchUnit1 <font color=#1b1baa>$wtxt</font> no] found TID
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$found</font> ne {}} {
    alited::main::SaveVisitInfo
    alited::favor::SkipVisited yes
    alited::bar::BAR <font color=#1b1baa>$TID</font> show
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;  alited::main::FocusText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>found.0 ;  alited::tree::NewSelection ;  alited::main::SaveVisitInfo&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %u <font color=#1b1baa>$what</font>] <font color=#1b1baa>$al(MC,notfndunit)</font>]
    alited::Message <font color=#1b1baa>$msg</font> 4
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchUnit1'>SearchUnit1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches units in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchUnit1</span> <span class='ruff_arg'>wtxt isNS</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>isNS</code></code></td><td class='ruff_defitem'>flag &quot;search a qualified unit name&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_204' href="javascript:toggleSource('204')">Show source</a></p>
<div id='204' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchUnit1 {wtxt isNS} {

  <i><font color=#4b5d50># Searches units in a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - the text's path</font></i>
  <i><font color=#4b5d50>#   isNS - flag &quot;search a qualified unit name&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]}
  <b><font color=#3a6797>lassign</font></b> [GetCommandOfText <font color=#1b1baa>$wtxt</font>] com1 idx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$com1</font> eq {}} {bell; <b><font color=#ca14ca>return</font></b> {}}
  <b><font color=#3a6797>set</font></b> com2 <font color=#1b1baa>$com1</font>
  <b><font color=#3a6797>set</font></b> withNS [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> last <font color=#7d1a1a>&quot;:&quot;</font> <font color=#1b1baa>$com1</font>]]&gt;-1}]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isNS</font>} {
    <i><font color=#4b5d50># try to find the pure (not qualified) name</font></i>
    <b><font color=#3a6797>set</font></b> com2 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$com1</font> <font color=#1b1baa>$i</font>+1 end]
  } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$withNS</font>} {
    <i><font color=#4b5d50># try to get the current unit's namespace</font></i>
    <b><font color=#3a6797>set</font></b> curr [<b><font color=#3a6797>lindex</font></b> [alited::tree::CurrentItemByLine <font color=#1b1baa>$idx</font> yes] 4]
    <b><font color=#3a6797>set</font></b> com2 [<b><font color=#3a6797>string</font></b> cat [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$curr</font> 0 [<b><font color=#3a6797>string</font></b> last <font color=#7d1a1a>&quot;:&quot;</font> <font color=#1b1baa>$curr</font>]] <font color=#1b1baa>$com1</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isNS</font>} {
    <b><font color=#3a6797>set</font></b> tabs [SessionList]
    <b><font color=#3a6797>set</font></b> what <font color=#7d1a1a>&quot;*<font color=#1b1baa>$</font>com2&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> what <font color=#7d1a1a>&quot;*::<font color=#1b1baa>$</font>com2&quot;</font>
    <b><font color=#3a6797>set</font></b> tabs [alited::bar::CurrentTabID]  ;<i><font color=#4b5d50># not qualified</font></i>
  }
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
    <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
    alited::file::ReadFileByTID <font color=#1b1baa>$TID</font>
    <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 ttl l1 l2
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$what</font> <font color=#1b1baa>$ttl</font>] || [<b><font color=#3a6797>string</font></b> match <font color=#7d1a1a>&quot;*::<font color=#1b1baa>$</font>ttl&quot;</font> <font color=#1b1baa>$com2</font>] || <font color=#1b1baa>$com2</font> eq <font color=#1b1baa>$ttl</font>} {
        <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$TID</font> <font color=#1b1baa>$what</font>]
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> {} {} [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$what</font> 1 end]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SearchWordInSession'>SearchWordInSession</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchWordInSession</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_205' href="javascript:toggleSource('205')">Show source</a></p>
<div id='205' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SearchWordInSession {} {

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> saven1 <font color=#1b1baa>$data(en1)</font>  ;<i><font color=#4b5d50># field &quot;Find&quot;</font></i>
  <b><font color=#3a6797>set</font></b> savv1 <font color=#1b1baa>$data(v1)</font>    ;<i><font color=#4b5d50># rad &quot;Exact&quot;</font></i>
  <b><font color=#3a6797>set</font></b> savc1 <font color=#1b1baa>$data(c1)</font>    ;<i><font color=#4b5d50># chb &quot;Word only&quot;</font></i>
  <b><font color=#3a6797>set</font></b> savc2 <font color=#1b1baa>$data(c2)</font>    ;<i><font color=#4b5d50># chb &quot;Case Sensitive&quot;</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> data(en1) [GetWordOfText select]] eq <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#134070>bell</font></b>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtxt</font> get sel.first sel.last]}] || <font color=#1b1baa>$sel</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {
      <b><font color=#3a6797>set</font></b> data(c1) 1
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> data(c1) 0  ;<i><font color=#4b5d50># if selected, let it be looked for (at &quot;not word only&quot;)</font></i>
    }
    <b><font color=#3a6797>set</font></b> data(v1) 1
    <b><font color=#3a6797>set</font></b> data(c2) 1
    <b><font color=#3a6797>set</font></b> data(docheck) no  ;<i><font color=#4b5d50># no checks - no usage of the dialogue's widgets</font></i>
    FindInSession notag
    <b><font color=#3a6797>set</font></b> data(docheck) yes
  }
  <b><font color=#3a6797>set</font></b> data(en1) <font color=#1b1baa>$saven1</font>
  <b><font color=#3a6797>set</font></b> data(v1) <font color=#1b1baa>$savv1</font>
  <b><font color=#3a6797>set</font></b> data(c1) <font color=#1b1baa>$savc1</font>
  <b><font color=#3a6797>set</font></b> data(c2) <font color=#1b1baa>$savc2</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SessionButtons'>SessionButtons</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares buttons' label (&quot;in all/selected tabs&quot;).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SessionButtons</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_206' href="javascript:toggleSource('206')">Show source</a></p>
<div id='206' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SessionButtons {} {

  <i><font color=#4b5d50># Prepares buttons' label (&quot;in all/selected tabs&quot;).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obFND obFND
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag s]]]&gt;1} {
    <b><font color=#3a6797>set</font></b> btext [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$llen</font>] [msgcat::mc {All in %n Files}]]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> btext [msgcat::mc {All in Session}]
  }
  [<font color=#1b1baa>$obFND</font> But3] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$btext</font>
  [<font color=#1b1baa>$obFND</font> But6] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$btext</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SessionList'>SessionList</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of all tabs or selected tabs (if set).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SessionList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of all tabs or selected tabs (if set).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_207' href="javascript:toggleSource('207')">Show source</a></p>
<div id='207' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SessionList {} {

  <i><font color=#4b5d50># Returns a list of all tabs or selected tabs (if set).</font></i>

  <b><font color=#3a6797>set</font></b> res [alited::bar::BAR listFlag s]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>]==1} {<b><font color=#3a6797>set</font></b> res [alited::bar::BAR listTab]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::SetCursor'>SetCursor</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the cursor in a text after a replacement made.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetCursor</span> <span class='ruff_arg'>wtxt idx1</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>idx1</code></code></td><td class='ruff_defitem'>starting index of the replacement</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_208' href="javascript:toggleSource('208')">Show source</a></p>
<div id='208' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::SetCursor {wtxt idx1} {

  <i><font color=#4b5d50># Sets the cursor in a text after a replacement made.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   idx1 - starting index of the replacement</font></i>

  <b><font color=#3a6797>variable</font></b> data
  <b><font color=#3a6797>set</font></b> len [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$data(en2)</font>]
  ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>idx1 + <font color=#1b1baa>${</font>len<font color=#1b1baa>}</font>c&quot;</font>]
  ::alited::main::CursorPos <font color=#1b1baa>$wtxt</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults'>ShowResults</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Display a message containing results of a search.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults</span> <span class='ruff_arg'>msg ?mode? ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>mode for alited::Message; <i>optional, default</i> <code>3</code></td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID where the searches were performed in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_209' href="javascript:toggleSource('209')">Show source</a></p>
<div id='209' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ShowResults {msg {mode 3} {TID {}}} {

  <i><font color=#4b5d50># Display a message containing results of a search.</font></i>
  <i><font color=#4b5d50>#   msg - the message</font></i>
  <i><font color=#4b5d50>#   mode - mode for alited::Message</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID where the searches were performed in</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq {}} {<b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]}
  <b><font color=#3a6797>set</font></b> fname [alited::bar::BAR <font color=#1b1baa>$TID</font> cget <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$fname</font>] <font color=#1b1baa>$msg</font>]
  <i><font color=#4b5d50># results in info list:</font></i>
  alited::info::Put <font color=#1b1baa>$msg</font> {} yes
  <i><font color=#4b5d50># results in status bar:</font></i>
  alited::Message <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>msg <font color=#1b1baa>[</font>string repeat <font color=#1b1baa>{</font> <font color=#1b1baa>}</font> 40<font color=#1b1baa>]</font>&quot;</font> <font color=#1b1baa>$mode</font>
  <i><font color=#4b5d50># update line numbers of current file, as they are gone after the search</font></i>
  <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;  alited::main::CursorPos <font color=#1b1baa>[</font>alited::main::CurrentWTXT<font color=#1b1baa>]</font> ;  alited::main::UpdateGutter&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults1'>ShowResults1</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message of all found strings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults1</span> <span class='ruff_arg'>allfnd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>allfnd</code></code></td><td class='ruff_defitem'>list of search results</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_210' href="javascript:toggleSource('210')">Show source</a></p>
<div id='210' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ShowResults1 {allfnd} {

  <i><font color=#4b5d50># Shows a message of all found strings.</font></i>
  <i><font color=#4b5d50>#   allfnd - list of search results</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  ShowResults [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$allfnd</font>] %s <font color=#1b1baa>$data(en1)</font>] <font color=#1b1baa>$alited::al(MC,frres1)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::find::ShowResults2'>ShowResults2</a><span class='ns_scope'> [<a href="alited.html#::alited::find" title="::alited::find" class='ruff_cmd'>::alited::find</a>]</span><span class='tinylink'><a href='alited.html#::alited::find'>find</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a message of number of found strings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowResults2</span> <span class='ruff_arg'>rn msg ?TID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>rn</code></code></td><td class='ruff_defitem'>number of found strings</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>messsage's template</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID where the searches were performed in; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_211' href="javascript:toggleSource('211')">Show source</a></p>
<div id='211' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::find::ShowResults2 {rn msg {TID {}}} {

  <i><font color=#4b5d50># Shows a message of number of found strings.</font></i>
  <i><font color=#4b5d50>#   rn - number of found strings</font></i>
  <i><font color=#4b5d50>#   msg - messsage's template</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID where the searches were performed in</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> data
  ShowResults [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$rn</font> %s <font color=#1b1baa>$data(en1)</font> %r <font color=#1b1baa>$data(en2)</font>] <font color=#1b1baa>$msg</font>] 3 <font color=#1b1baa>$TID</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::img'></a>::alited::img<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><br><h1 class='ruff'><a name='::alited::indent'></a>::alited::indent<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::indent-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::indent'>indent</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::indent::indent'>indent</a><span class='ns_scope'> [<a href="alited.html#::alited::indent" title="::alited::indent" class='ruff_cmd'>::alited::indent</a>]</span><span class='tinylink'><a href='alited.html#::alited::indent'>indent</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Indents Tcl code.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>indent</span> <span class='ruff_arg'>tclcode pad padchar indcnt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tclcode</code></code></td><td class='ruff_defitem'>text of Tcl code</td></tr>
<tr><td class='ruff_defitem'><code><code>pad</code></code></td><td class='ruff_defitem'>number of spaces per 1 indent</td></tr>
<tr><td class='ruff_defitem'><code><code>padchar</code></code></td><td class='ruff_defitem'>indenting character</td></tr>
<tr><td class='ruff_defitem'><code><code>indcnt</code></code></td><td class='ruff_defitem'>initial indent</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_212' href="javascript:toggleSource('212')">Show source</a></p>
<div id='212' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::indent::indent {tclcode pad padchar indcnt} {

  <i><font color=#4b5d50># Indents Tcl code.</font></i>
  <i><font color=#4b5d50>#   tclcode - text of Tcl code</font></i>
  <i><font color=#4b5d50>#   pad - number of spaces per 1 indent</font></i>
  <i><font color=#4b5d50>#   padchar - indenting character</font></i>
  <i><font color=#4b5d50>#   indcnt - initial indent</font></i>

  <b><font color=#3a6797>set</font></b> lines [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tclcode</font> \n]
  <b><font color=#3a6797>set</font></b> out {}
  <b><font color=#3a6797>set</font></b> nquot 0   ;<i><font color=#4b5d50># count of quotes</font></i>
  <b><font color=#3a6797>set</font></b> ncont 0   ;<i><font color=#4b5d50># count of continued strings</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$padchar</font> ne <font color=#7d1a1a>&quot;\t&quot;</font>} {<b><font color=#3a6797>set</font></b> padchar { }}
  <b><font color=#3a6797>set</font></b> padst [<b><font color=#3a6797>string</font></b> repeat <font color=#1b1baa>$padchar</font> <font color=#1b1baa>$pad</font>]
  <b><font color=#3a6797>foreach</font></b> orig <font color=#1b1baa>$lines</font> {
    <b><font color=#3a6797>incr</font></b> lineindex
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lineindex</font>&gt;1} {<b><font color=#3a6797>append</font></b> out \n}
    <b><font color=#3a6797>set</font></b> newline [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$orig</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newline</font> eq {}} <b><font color=#3a6797>continue</font></b>
    <b><font color=#3a6797>set</font></b> is_quoted <font color=#1b1baa>$nquot</font>
    <b><font color=#3a6797>set</font></b> is_continued <font color=#1b1baa>$ncont</font>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$orig</font> end] eq <font color=#7d1a1a>&quot;\\&quot;</font>} {
      <b><font color=#3a6797>incr</font></b> ncont
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> ncont 0
    }
    <b><font color=#3a6797>set</font></b> npad [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$indcnt</font> * <font color=#1b1baa>$pad</font>}]
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> repeat <font color=#1b1baa>$padst</font> <font color=#1b1baa>$indcnt</font>]<font color=#1b1baa>$newline</font>
    <b><font color=#3a6797>set</font></b> ns [<b><font color=#3a6797>set</font></b> nl [<b><font color=#3a6797>set</font></b> nr [<b><font color=#3a6797>set</font></b> body 0]]]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$newline</font> 0] ne {#}} {
      <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0; <b><font color=#3a6797>set</font></b> n [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$newline</font>]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$n</font>} {<b><font color=#3a6797>incr</font></b> i} {
        <b><font color=#3a6797>set</font></b> ch [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$newline</font> <font color=#1b1baa>$i</font>]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font> eq <font color=#7d1a1a>&quot;\\&quot;</font>} {
          <b><font color=#3a6797>set</font></b> ns [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>incr</font></b> ns] % 2}]
        } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$ns</font>} {
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ch</font> eq {&quot;}} {
            <b><font color=#3a6797>set</font></b> nquot [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>incr</font></b> nquot] % 2}]
          } <b><font color=#3a6797>elseif</font></b> {!<font color=#1b1baa>$nquot</font>} {
            <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$ch</font> {
              <font color=#7d1a1a>&quot;\{&quot;</font> {
                <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$newline</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>+2] eq <font color=#7d1a1a>&quot;\{\&quot;\}&quot;</font>} {
                  <i><font color=#4b5d50># quote in braces - correct (though tricky)</font></i>
                  <b><font color=#3a6797>incr</font></b> i 2
                } <b><font color=#3a6797>else</font></b> {
                  <b><font color=#3a6797>incr</font></b> nl
                  <b><font color=#3a6797>set</font></b> body -1
                }
              }
              <font color=#7d1a1a>&quot;\}&quot;</font> {
                <b><font color=#3a6797>incr</font></b> nr
                <b><font color=#3a6797>set</font></b> body 0
              }
            }
          }
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> ns 0
        }
      }
    }
    <b><font color=#3a6797>set</font></b> nbbraces [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$nl</font> - <font color=#1b1baa>$nr</font>}]
    <b><font color=#3a6797>incr</font></b> totalbraces <font color=#1b1baa>$nbbraces</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$totalbraces</font>&lt;0} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc {The line %n: unbalanced brace!}]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$lineindex</font>] <font color=#1b1baa>$msg</font>]
      alited::msg ok err <font color=#1b1baa>$msg</font>
      <b><font color=#ca14ca>return</font></b> {}
    }
    <b><font color=#3a6797>incr</font></b> indcnt <font color=#1b1baa>$nbbraces</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nbbraces</font>==0} { <b><font color=#3a6797>set</font></b> nbbraces <font color=#1b1baa>$body</font> }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$is_quoted</font> || <font color=#1b1baa>$is_continued</font>} {
      <b><font color=#3a6797>set</font></b> line <font color=#1b1baa>$orig</font>     ;<i><font color=#4b5d50># don't touch quoted and continued strings</font></i>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> np [<b><font color=#3a6797>expr</font></b> {- <font color=#1b1baa>$nbbraces</font> * <font color=#1b1baa>$pad</font>}]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$np</font>&gt;<font color=#1b1baa>$npad</font>} { ;<i><font color=#4b5d50># for safety too</font></i>
        <b><font color=#3a6797>set</font></b> np <font color=#1b1baa>$npad</font>
      }
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$np</font> end]
    }
    <b><font color=#3a6797>append</font></b> out <font color=#1b1baa>$line</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$out</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::indent::normalize'>normalize</a><span class='ns_scope'> [<a href="alited.html#::alited::indent" title="::alited::indent" class='ruff_cmd'>::alited::indent</a>]</span><span class='tinylink'><a href='alited.html#::alited::indent'>indent</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Normalizes all indents of the current Tcl text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>normalize</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_213' href="javascript:toggleSource('213')">Show source</a></p>
<div id='213' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::indent::normalize {} {

  <i><font color=#4b5d50># Normalizes all indents of the current Tcl text.</font></i>

  <b><font color=#3a6797>set</font></b> txt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>lassign</font></b> [alited::main::CalcIndentation] pad padchar
  <b><font color=#3a6797>set</font></b> indcnt 0
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pad</font>&lt;1} {
    alited::msg ok err <font color=#7d1a1a>&quot;No indentation set.\nSee 'Setup/Projects/Options'.&quot;</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#7d1a1a>&quot;Correct the indentation of \&quot;%f\&quot;\nwith indenting %i spaces?&quot;</font>]
  <b><font color=#3a6797>set</font></b> ipad <font color=#1b1baa>$pad</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$padchar</font> eq <font color=#7d1a1a>&quot;\t&quot;</font>} {<b><font color=#3a6797>append</font></b> ipad { Tab}}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %i <font color=#1b1baa>$ipad</font>] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName]]] <font color=#1b1baa>$msg</font>]
  <b><font color=#3a6797>if</font></b> {[alited::msg yesno ques <font color=#1b1baa>$msg</font> YES]} {
    ::apave::setTextIndent <font color=#1b1baa>$pad</font> <font color=#1b1baa>$padchar</font>
    <b><font color=#3a6797>set</font></b> contents [<font color=#1b1baa>$txt</font> get 1.0 {end -1 chars}]
    <b><font color=#3a6797>set</font></b> contents [indent <font color=#1b1baa>$contents</font> <font color=#1b1baa>$pad</font> <font color=#1b1baa>$padchar</font> <font color=#1b1baa>$indcnt</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$contents</font> ne {}} {
      <font color=#1b1baa>$txt</font> replace 1.0 end <font color=#1b1baa>$contents</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::info'></a>::alited::info<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::info-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::info::Clear'>Clear</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears the info listbox widget and the related data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Clear</span> <span class='ruff_arg'>?i?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>index of message (if omitted, clears all messages); <i>optional, default</i> <code>-1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_214' href="javascript:toggleSource('214')">Show source</a></p>
<div id='214' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::Clear {{i -1}} {

  <i><font color=#4b5d50># Clears the info listbox widget and the related data.</font></i>
  <i><font color=#4b5d50>#   i - index of message (if omitted, clears all messages)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> list
  <b><font color=#3a6797>variable</font></b> info
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> == -1} {
    <b><font color=#3a6797>set</font></b> list [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>list</font></b>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> csGet] fg
    <b><font color=#3a6797>catch</font></b> {[<font color=#1b1baa>$obPav</font> LbxInfo] itemconfigure <font color=#1b1baa>$i</font> <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fg</font>}
    <b><font color=#3a6797>set</font></b> list [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$list</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$info</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::FocusIn'>FocusIn</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>At focusing in the info listbox, shows its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusIn</span> <span class='ruff_arg'>sbhi lbxi</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sbhi</code></code></td><td class='ruff_defitem'>scrollbar's path</td></tr>
<tr><td class='ruff_defitem'><code><code>lbxi</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_215' href="javascript:toggleSource('215')">Show source</a></p>
<div id='215' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::FocusIn {sbhi lbxi} {

  <i><font color=#4b5d50># At focusing in the info listbox, shows its scrollbar.</font></i>
  <i><font color=#4b5d50>#   sbhi - scrollbar's path</font></i>
  <i><font color=#4b5d50>#   lbxi - listbox's path</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> ismapped <font color=#1b1baa>$sbhi</font>]} {
    <b><font color=#134070>pack</font></b> <font color=#1b1baa>$sbhi</font> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-before</font> <font color=#1b1baa>$lbxi</font> <font color=#6c3e67>-fill</font> both
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::FocusOut'>FocusOut</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>At focusing out of the info listbox, hides its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusOut</span> <span class='ruff_arg'>sbhi</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sbhi</code></code></td><td class='ruff_defitem'>scrollbar's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_216' href="javascript:toggleSource('216')">Show source</a></p>
<div id='216' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::FocusOut {sbhi} {

  <i><font color=#4b5d50># At focusing out of the info listbox, hides its scrollbar.</font></i>
  <i><font color=#4b5d50>#   sbhi - scrollbar's path</font></i>

  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focustext</font>} {
    <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$sbhi</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::Get'>Get</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a message of the info listbox widget by its index.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Get</span> <span class='ruff_arg'>i</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>i</code></code></td><td class='ruff_defitem'>index of message</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_217' href="javascript:toggleSource('217')">Show source</a></p>
<div id='217' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::Get {i} {

  <i><font color=#4b5d50># Gets a message of the info listbox widget by its index.</font></i>
  <i><font color=#4b5d50>#   i - index of message</font></i>

  <b><font color=#3a6797>variable</font></b> list
  <b><font color=#3a6797>variable</font></b> info
  <b><font color=#ca14ca>return</font></b> list [[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$list</font> <font color=#1b1baa>$i</font>] [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$info</font> <font color=#1b1baa>$i</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::ListboxSelect'>ListboxSelect</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection event of the info listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ListboxSelect</span> <span class='ruff_arg'>w ?checkit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
<tr><td class='ruff_defitem'><code><code>checkit</code></code></td><td class='ruff_defitem'>flag to check for the repeated calls of this procedure; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_218' href="javascript:toggleSource('218')">Show source</a></p>
<div id='218' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::ListboxSelect {w {checkit no}} {

  <i><font color=#4b5d50># Handles a selection event of the info listbox.</font></i>
  <i><font color=#4b5d50>#   w - listbox's path</font></i>
  <i><font color=#4b5d50>#   checkit - flag to check for the repeated calls of this procedure</font></i>

  <b><font color=#3a6797>variable</font></b> info
  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>variable</font></b> selectmsec
  <b><font color=#3a6797>variable</font></b> selectafter
  <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
  <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$selectmsec</font>)&lt;500 && <font color=#1b1baa>$checkit</font>} {
    <i><font color=#4b5d50># this disables updating at key pressing, let a user release the key</font></i>
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$selectafter</font>}
    <b><font color=#3a6797>set</font></b> selectafter [<b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;alited::info::ListboxSelect <font color=#1b1baa>$</font>w yes&quot;</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$w</font> curselection] 0]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$sel</font>]} {
      <b><font color=#3a6797>update</font></b>
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$info</font> <font color=#1b1baa>$sel</font>] TID line
      <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> ne [alited::bar::CurrentTabID]} {
          alited::favor::SkipVisited yes
          alited::bar::BAR <font color=#1b1baa>$TID</font> show
        }
        <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;catch <font color=#1b1baa>{</font>  alited::main::FocusText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>line.0 ;  alited::tree::NewSelection <font color=#1b1baa>{}</font> <font color=#1b1baa>$</font>line.0 yes ;  alited::main::HighlightLine<font color=#1b1baa>}</font>&quot;</font>
        <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$focustext</font>} {<b><font color=#3a6797>after</font></b> 100 <font color=#7d1a1a>&quot;focus <font color=#1b1baa>$</font>w&quot;</font>}
      }
    }
  }
  <b><font color=#3a6797>set</font></b> selectmsec <font color=#1b1baa>$msec</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::PopupMenu'>PopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a popup menu on the info listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupMenu</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_219' href="javascript:toggleSource('219')">Show source</a></p>
<div id='219' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::PopupMenu {X Y} {

  <i><font color=#4b5d50># Runs a popup menu on the info listbox.</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of mouse pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$al(WIN)</font>.popupInfo
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focustext</font>} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Don't focus a text after selecting in infobar}]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Focus a text after selecting in infobar}]
  }
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$msg</font> <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;alited::info::SwitchFocustext&quot;</font>
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::Put'>Put</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a message to the info listbox widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Put</span> <span class='ruff_arg'>msg ?inf? ?bold? ?see?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>inf</code></code></td><td class='ruff_defitem'>additional data for the message (1st line of unit etc.); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>bold</code></code></td><td class='ruff_defitem'>if yes, displays the message bolded; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>see</code></code></td><td class='ruff_defitem'>if yes, makes the message seen; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_220' href="javascript:toggleSource('220')">Show source</a></p>
<div id='220' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::Put {msg {inf {}} {bold no} {see no}} {

  <i><font color=#4b5d50># Puts a message to the info listbox widget.</font></i>
  <i><font color=#4b5d50>#   msg - the message</font></i>
  <i><font color=#4b5d50>#   inf - additional data for the message (1st line of unit etc.)</font></i>
  <i><font color=#4b5d50>#   bold - if yes, displays the message bolded</font></i>
  <i><font color=#4b5d50>#   see - if yes, makes the message seen</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>variable</font></b> list
  <b><font color=#3a6797>variable</font></b> info
  <b><font color=#3a6797>lappend</font></b> list <font color=#1b1baa>$msg</font>
  <b><font color=#3a6797>lappend</font></b> info <font color=#1b1baa>$inf</font>
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obPav</font> LbxInfo]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$see</font>} {
    <b><font color=#3a6797>lassign</font></b> [::hl_tcl::addingColors] -&gt; fgbold
    <font color=#1b1baa>$lbx</font> see end
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$bold</font>} {
    <b><font color=#3a6797>lassign</font></b> [alited::FgFgBold] -&gt; fgbold
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#ca14ca>return</font></b>
  }
  <font color=#1b1baa>$lbx</font> itemconfigure end <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgbold</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::info::SwitchFocustext'>SwitchFocustext</a><span class='ns_scope'> [<a href="alited.html#::alited::info" title="::alited::info" class='ruff_cmd'>::alited::info</a>]</span><span class='tinylink'><a href='alited.html#::alited::info'>info</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches a variable of flag &quot;listbox is focused&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchFocustext</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_221' href="javascript:toggleSource('221')">Show source</a></p>
<div id='221' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::info::SwitchFocustext {} {

  <i><font color=#4b5d50># Switches a variable of flag &quot;listbox is focused&quot;.</font></i>

  <b><font color=#3a6797>variable</font></b> focustext
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$focustext</font>} {<b><font color=#3a6797>set</font></b> focustext 0} {<b><font color=#3a6797>set</font></b> focustext 1}
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::ini'></a>::alited::ini<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::ini-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::ini::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes alited app.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_222' href="javascript:toggleSource('222')">Show source</a></p>
<div id='222' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::_init {} {

  <i><font color=#4b5d50># Initializes alited app.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al  obPav obPav obDlg obDlg obDl2 obDl2 obDl3 obDl3 obFND obFND obFN2 obFN2 obCHK obCHK
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num  em_sep em_sep em_ico em_ico em_inf em_inf em_mnu em_mnu

  GetUserDirs
  ReadIni
  InitFonts

  <b><font color=#3a6797>lassign</font></b> [::apave::InitTheme <font color=#1b1baa>$al(THEME)</font> <font color=#1b1baa>$::alited::LIBDIR</font>] theme lbd
  ::apave::initWM <font color=#6c3e67>-cursorwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font> <font color=#6c3e67>-theme</font> <font color=#1b1baa>$theme</font> <font color=#6c3e67>-labelborder</font> <font color=#1b1baa>$lbd</font>
  ::apave::iconImage <font color=#6c3e67>-init</font> <font color=#1b1baa>$al(INI,ICONS)</font>
  <b><font color=#3a6797>set</font></b> ::apave::MC_NS ::alited
  InitGUI
  CheckIni
  GetUserDirs

  <i><font color=#4b5d50># get hotkeys</font></i>
  alited::pref::IniKeys
  alited::pref::RegisterKeys
  alited::pref::KeyAccelerators

  <i><font color=#4b5d50># create main apave objects</font></i>
  ::apave::APaveInput create <font color=#1b1baa>$obPav</font> <font color=#1b1baa>$al(WIN)</font>
  <b><font color=#3a6797>foreach</font></b> ob [::alited::ListPaved] {
    ::apave::APaveInput create [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$ob</font>] <font color=#1b1baa>$al(WIN)</font>
  }

  <i><font color=#4b5d50># here, the order of icons defines their order in the toolbar</font></i>
  <b><font color=#3a6797>set</font></b> listIcons [::apave::iconImage]
  <i><font color=#4b5d50># the below icons' order defines their order in the toolbar</font></i>
  <b><font color=#3a6797>foreach</font></b> {icon} {none gulls heart add change delete up down paste plus minus  retry misc previous next folder file OpenFile SaveFile saveall categories  undo redo replace ok color date help run e_menu other trash actions paste} {
    <b><font color=#3a6797>set</font></b> img [CreateIcon <font color=#1b1baa>$icon</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icon</font> in {<font color=#7d1a1a>&quot;file&quot;</font> OpenFile categories SaveFile saveall help ok color other  replace e_menu run undo redo}} {
      <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot; <font color=#1b1baa>$</font>img-big \{<font color=#1b1baa>{}</font> -tip <font color=#1b1baa>{$</font>alited::al(MC,ico<font color=#1b1baa>$</font>icon)@@ -under 4<font color=#1b1baa>}</font> &quot;</font>
      <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$icon</font> {
        <font color=#7d1a1a>&quot;file&quot;</font> {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::file::NewFile\}&quot;</font>
        }
        OpenFile {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::file::OpenFile\} sev 6&quot;</font>
        }
        SaveFile {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::file::SaveFile -state disabled\}&quot;</font>
        }
        saveall {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::file::SaveAll -state disabled\} sev 6&quot;</font>
        }
        categories {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::project::_run\} sev 6&quot;</font>
        }
        undo {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::tool::Undo -state disabled\}&quot;</font>
        }
        redo {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::tool::Redo -state disabled\} sev 6&quot;</font>
        }
        replace {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::find::_run\}&quot;</font>
        }
        ok {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::CheckRun\}&quot;</font>
        }
        color {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-command alited::tool::ColorPicker\}&quot;</font>
        }
        help {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::tool::Help\} sev 6&quot;</font>
        }
        run {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com alited::tool::_run\}&quot;</font>
        }
        e_menu {
          <b><font color=#134070>image</font></b> create photo <font color=#1b1baa>$img</font>-big <font color=#6c3e67>-data</font> <font color=#1b1baa>$alited::img::_AL_IMG(e_menu)</font>
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com <font color=#1b1baa>{</font>alited::tool::e_menu o=0<font color=#1b1baa>}</font>\}&quot;</font>
        }
        other {
          <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-command alited::tool::tkcon\}&quot;</font>
        }
      }
    }
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> was 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_ico(<font color=#1b1baa>$i</font>)] && (<font color=#1b1baa>$em_ico($i)</font> ni {none {}} || <font color=#1b1baa>$em_sep($i)</font>)} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> was]==1 && !<font color=#1b1baa>$em_sep($i)</font>} {
        <b><font color=#3a6797>append</font></b> al(atools) { sev 6}
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_sep($i)</font>} {
        <b><font color=#3a6797>append</font></b> al(atools) { sev 6}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$em_ico($i)</font>]==1} {
          <b><font color=#3a6797>set</font></b> img _<font color=#1b1baa>$em_ico($i)</font>
          <b><font color=#3a6797>set</font></b> txt <font color=#7d1a1a>&quot;-t <font color=#1b1baa>$</font>em_ico(<font color=#1b1baa>$</font>i)&quot;</font>
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> img [CreateIcon <font color=#1b1baa>$em_ico($i)</font>]-big
          <b><font color=#3a6797>set</font></b> txt {}
        }
        <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> map {% %%} <font color=#1b1baa>$em_mnu($i)</font>]
        <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot; <font color=#1b1baa>$</font>img \{<font color=#1b1baa>{}</font> -tip <font color=#1b1baa>{$</font>tip@@ -under 4 -command <font color=#1b1baa>{</font>alited::ini::ToolbarTip %w <font color=#1b1baa>{</font>%t<font color=#1b1baa>}}}</font> <font color=#1b1baa>$</font>txt &quot;</font>
        <b><font color=#3a6797>append</font></b> al(atools) <font color=#7d1a1a>&quot;-com <font color=#1b1baa>{[</font>alited::tool::EM_command <font color=#1b1baa>$</font>i<font color=#1b1baa>]}</font>\}&quot;</font>
      }
    }
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;8} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#134070>image</font></b> create photo alimg_pro<font color=#1b1baa>$i</font> <font color=#6c3e67>-data</font> [<b><font color=#3a6797>set</font></b> alited::img::_AL_IMG(<font color=#1b1baa>$i</font>)]
  }
  <b><font color=#134070>image</font></b> create photo alimg_tclfile <font color=#6c3e67>-data</font> [<b><font color=#3a6797>set</font></b> alited::img::_AL_IMG(Tcl)]
  <b><font color=#134070>image</font></b> create photo alimg_kbd <font color=#6c3e67>-data</font> [<b><font color=#3a6797>set</font></b> alited::img::_AL_IMG(kbd)]
  <i><font color=#4b5d50># styles & fonts used in &quot;small&quot; dialogues</font></i>
  ::apave::initStylesFS <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>
  <b><font color=#3a6797>lassign</font></b> [::apave::obj create_FontsType small <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>]  al(FONT,defsmall) al(FONT,monosmall)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CheckIni'>CheckIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the configuration directory exists and if not asks for it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_223' href="javascript:toggleSource('223')">Show source</a></p>
<div id='223' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CheckIni {} {

  <i><font color=#4b5d50># Checks if the configuration directory exists and if not asks for it.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$::alited::INIDIR</font>] && [<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$::alited::PRJDIR</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#134070>destroy</font></b> .tex
  ::apave::APaveInput create pobj
  <b><font color=#3a6797>set</font></b> head [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$::alited::USERDIRSTD</font>] <font color=#1b1baa>$al(MC,chini2)</font>]
  <b><font color=#3a6797>set</font></b> res [pobj input info <font color=#1b1baa>$al(MC,chini1)</font> [<b><font color=#3a6797>list</font></b>  dir1 [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$al(MC,chini3)</font> {} [<b><font color=#3a6797>list</font></b> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,chini3)</font> <font color=#6c3e67>-w</font> 50]] <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>::alited::USERDIRSTD<font color=#1b1baa>}</font>&quot;</font>  ] <font color=#6c3e67>-size</font> 14 <font color=#6c3e67>-weight</font> bold <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font>]
  pobj destroy
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$res</font> ok ::alited::USERDIRROOT
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$ok</font>} <b><font color=#3a6797>exit</font></b>
  CreateUserDirs
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreateIcon'>CreateIcon</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Create an icon (of normal and big size).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateIcon</span> <span class='ruff_arg'>icon</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>name of icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_224' href="javascript:toggleSource('224')">Show source</a></p>
<div id='224' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CreateIcon {icon} {

  <i><font color=#4b5d50># Create an icon (of normal and big size).</font></i>
  <i><font color=#4b5d50>#   icon - name of icon</font></i>

  <b><font color=#3a6797>set</font></b> img alimg_<font color=#1b1baa>$icon</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>image</font></b> create photo <font color=#1b1baa>$img</font>-big <font color=#6c3e67>-data</font> [::apave::iconData <font color=#1b1baa>$icon</font>]}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>image</font></b> create photo <font color=#1b1baa>$img</font> <font color=#6c3e67>-data</font> [::apave::iconData <font color=#1b1baa>$icon</font> small]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$img</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::CreateUserDirs'>CreateUserDirs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates main directories for settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateUserDirs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_225' href="javascript:toggleSource('225')">Show source</a></p>
<div id='225' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::CreateUserDirs {} {

  <i><font color=#4b5d50># Creates main directories for settings.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al DATADIR DATADIR USERDIR USERDIR INIDIR INIDIR PRJDIR PRJDIR MNUDIR MNUDIR BAKDIR BAKDIR
  GetUserDirs
  <b><font color=#3a6797>foreach</font></b> dir {USERDIR INIDIR PRJDIR} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$dir</font>]}
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(INI)</font>]} {
    <b><font color=#3a6797>file</font></b> copy [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> user ini alited.ini] <font color=#1b1baa>$al(INI)</font>
    <b><font color=#3a6797>file</font></b> copy [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> user prj default.ale]  [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$PRJDIR</font> default.ale]
    <b><font color=#3a6797>file</font></b> copy [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$DATADIR</font> user notes.txt] [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$USERDIR</font> notes.txt]
    ReadIni
    InitGUI
  }
  <b><font color=#3a6797>set</font></b> emdir [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(EM,menudir)</font>]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$emdir</font>]} {
    <b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$emdir</font>
    <b><font color=#3a6797>file</font></b> copy <font color=#1b1baa>$MNUDIR</font> <font color=#1b1baa>$emdir</font>
    <b><font color=#3a6797>file</font></b> copy [<b><font color=#3a6797>file</font></b> join [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$MNUDIR</font>] em_projects] <font color=#1b1baa>$emdir</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::EditSettings'>EditSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays the settings file, just to look behind the wall.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EditSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_226' href="javascript:toggleSource('226')">Show source</a></p>
<div id='226' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::EditSettings {} {

  <i><font color=#4b5d50># Displays the settings file, just to look behind the wall.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <font color=#1b1baa>$obPav</font> vieweditFile <font color=#1b1baa>$al(INI)</font> {} <font color=#6c3e67>-rotext</font> 1 <font color=#6c3e67>-h</font> 25
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::GetUserDirs'>GetUserDirs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets names of main directories for settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetUserDirs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_227' href="javascript:toggleSource('227')">Show source</a></p>
<div id='227' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::GetUserDirs {} {

  <i><font color=#4b5d50># Gets names of main directories for settings.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> ::alited::USERDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIRROOT</font> alited]
  <b><font color=#3a6797>set</font></b> ::alited::INIDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> ini]
  <b><font color=#3a6797>set</font></b> ::alited::PRJDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> prj]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#3a6797>set</font></b> ::alited::BAKDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> .bak]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> ::alited::BAKDIR [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(prjroot)</font> .bak]
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$::alited::BAKDIR</font>]} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$::alited::BAKDIR</font>}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,menudir)</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#3a6797>set</font></b> al(EM,menudir) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> e_menu menus]
  }
  <b><font color=#3a6797>set</font></b> al(INI) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::INIDIR</font> alited.ini]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitFonts'>InitFonts</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Loads main fonts for alited to use as default and mono.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitFonts</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_228' href="javascript:toggleSource('228')">Show source</a></p>
<div id='228' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::InitFonts {} {

  <i><font color=#4b5d50># Loads main fonts for alited to use as default and mono.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FONT)</font> ne {}} {
    <b><font color=#3a6797>catch</font></b> {
      ::apave::obj basicDefFont [<b><font color=#3a6797>dict</font></b> get <font color=#1b1baa>$al(FONT)</font> <font color=#6c3e67>-family</font>]
    }
    <b><font color=#3a6797>set</font></b> smallfont <font color=#1b1baa>$al(FONT)</font>
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> smallfont [<b><font color=#3a6797>dict</font></b> set smallfont <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>]
    }
    <b><font color=#3a6797>foreach</font></b> font {TkDefaultFont TkMenuFont TkHeadingFont TkCaptionFont} {
      <b><font color=#134070>font</font></b> configure <font color=#1b1baa>$font</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(FONT)</font>
    }
    <b><font color=#3a6797>foreach</font></b> font {TkSmallCaptionFont TkIconFont TkTooltipFont} {
      <b><font color=#134070>font</font></b> configure <font color=#1b1baa>$font</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$smallfont</font>
    }
    ::baltip::configure <font color=#6c3e67>-font</font> <font color=#1b1baa>$smallfont</font>
  }
  <b><font color=#3a6797>set</font></b> statusfont [::apave::obj basicSmallFont]
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> statusfont [<b><font color=#3a6797>dict</font></b> set statusfont <font color=#6c3e67>-size</font> <font color=#1b1baa>$al(FONTSIZE,small)</font>]
  }
  ::apave::obj basicSmallFont <font color=#1b1baa>$statusfont</font>
  ::apave::obj basicFontSize <font color=#1b1baa>$al(FONTSIZE,std)</font>
  <b><font color=#3a6797>set</font></b> gl [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::MSGSDIR</font> <font color=#1b1baa>$al(LOCAL)</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>glob</font></b> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>gl.msg&quot;</font>}]} {<b><font color=#3a6797>set</font></b> al(LOCAL) en}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(LOCAL)</font> ni {en {}}} {
    <i><font color=#4b5d50># load localized messages</font></i>
    msgcat::mcload <font color=#1b1baa>$alited::MSGSDIR</font>
    msgcat::mclocale <font color=#1b1baa>$al(LOCAL)</font>
    alited::msgcatMessages
  } <b><font color=#3a6797>else</font></b> {
    msgcat::mclocale en
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::InitGUI'>InitGUI</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes GUI.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitGUI</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_229' href="javascript:toggleSource('229')">Show source</a></p>
<div id='229' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::InitGUI {} {

  <i><font color=#4b5d50># Initializes GUI.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  ::apave::obj basicFontSize <font color=#1b1baa>$al(FONTSIZE,std)</font>
  ::apave::obj csSet <font color=#1b1baa>$al(INI,CS)</font> . <font color=#6c3e67>-doit</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,HUE)</font>} {::apave::obj csToned <font color=#1b1baa>$al(INI,CS)</font> <font color=#1b1baa>$al(INI,HUE)</font>}
  <b><font color=#3a6797>set</font></b> Dark [::apave::obj csDark]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(ED,clrCOM)] || ![<b><font color=#3a6797>info</font></b> exists al(ED,CclrCOM)] ||  ![<b><font color=#3a6797>info</font></b> exists al(ED,Dark)] || <font color=#1b1baa>$al(ED,Dark)</font> != <font color=#1b1baa>$Dark</font>} {
    alited::pref::Tcl_Default <font color=#1b1baa>$al(syntaxidx)</font> yes
    alited::pref::C_Default <font color=#1b1baa>$al(syntaxidx)</font> yes
  }
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>set</font></b> clrvals [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> clr <font color=#1b1baa>$clrnams</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(ED,<font color=#1b1baa>$clr</font>)]} {
      <b><font color=#3a6797>lappend</font></b> clrvals [<b><font color=#3a6797>set</font></b> al(ED,<font color=#1b1baa>$clr</font>)]
    }
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$clrvals</font>]==[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$clrnams</font>]} {
    ::hl_tcl::hl_colors {<font color=#6c3e67>-AddTags</font>} <font color=#1b1baa>$Dark</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$clrvals</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIni'>ReadIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads alited application's and project's settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIni</span> <span class='ruff_arg'>?projectfile?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>projectfile</code></code></td><td class='ruff_defitem'>project file's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_230' href="javascript:toggleSource('230')">Show source</a></p>
<div id='230' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIni {{projectfile {}}} {

  <i><font color=#4b5d50># Reads alited application's and project's settings.</font></i>
  <i><font color=#4b5d50>#   projectfile - project file's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::project prjlist prjlist prjinfo prjinfo
  alited::pref::Tkcon_Default
  <b><font color=#3a6797>set</font></b> prjlist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(TPL,list) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(KEYS,bind) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(FAV,current) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(FAV,visited) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> em_i 0
  <b><font color=#3a6797>set</font></b> fontsize [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$al(FONTSIZE,std)</font>+1}]
  <b><font color=#3a6797>set</font></b> al(FONT,txt) <font color=#7d1a1a>&quot;-family <font color=#1b1baa>{[</font>::apave::obj basicTextFont<font color=#1b1baa>]}</font> -size <font color=#1b1baa>$</font>fontsize&quot;</font>
  <b><font color=#3a6797>lassign</font></b> <font color=#7d1a1a>&quot;&quot;</font> ::alited::Pan_wh ::alited::PanL_wh ::alited::PanR_wh  ::alited::PanBM_wh ::alited::PanTop_wh ::alited::al(GEOM)
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;alited pwd    : <font color=#1b1baa>[</font>pwd<font color=#1b1baa>]</font>&quot;</font>
    <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;alited reading: <font color=#1b1baa>$</font>al(INI)&quot;</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(ini_file)</font> eq {}} {
      <i><font color=#4b5d50># al(ini_file) may be already filled (see alited.tcl)</font></i>
      <b><font color=#3a6797>set</font></b> al(ini_file) [<b><font color=#3a6797>split</font></b> [::apave::readTextFile <font color=#1b1baa>$::alited::al(INI)</font>] \n]
    }
    <b><font color=#3a6797>set</font></b> mode <font color=#7d1a1a>&quot;&quot;</font>
    <b><font color=#3a6797>foreach</font></b> stini <font color=#1b1baa>$al(ini_file)</font> {
      <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$stini</font> {
        {[Geometry]} - {[Options]} - {[Projects]} - {[Templates]} - {[Keys]} - {[EM]} - {[Tkcon]} - {[Misc]} {
          <b><font color=#3a6797>set</font></b> mode <font color=#1b1baa>$stini</font>
          <b><font color=#3a6797>continue</font></b>
        }
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$stini</font>]]&gt;0} {
        <b><font color=#3a6797>set</font></b> nam [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> 0 <font color=#1b1baa>$i</font>-1]
        <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> <font color=#1b1baa>$i</font>+1 end]
        <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$mode</font> {
          {[Geometry]}  {ReadIniGeometry <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Options]}   {ReadIniOptions <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Templates]} {ReadIniTemplates <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Keys]}      {ReadIniKeys <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[EM]}        {ReadIniEM <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font> em_i}
          {[Tkcon]}     {ReadIniTkcon <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
          {[Misc]}      {ReadIniMisc <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
        }
      }
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$projectfile</font> eq {} && <font color=#1b1baa>$al(prjfile)</font> eq {}} {
    <i><font color=#4b5d50># some options may be active outside of any project; fill them with defaults</font></i>
    <b><font color=#3a6797>foreach</font></b> opt {multiline indent indentAuto EOL trailwhite} {
      <b><font color=#3a6797>set</font></b> al(prj<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$al(DEFAULT,prj$opt)</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$projectfile</font> eq {}} {
      <b><font color=#3a6797>set</font></b> projectfile <font color=#1b1baa>$al(prjfile)</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> al(prjfile) <font color=#1b1baa>$projectfile</font>
    }
    ReadIniOptions project <font color=#1b1baa>$projectfile</font>
  }
  ReadIniPrj
  <b><font color=#3a6797>set</font></b> al(TEXT,opts) <font color=#7d1a1a>&quot;-padx 3 -spacing1 <font color=#1b1baa>$</font>al(ED,sp1) -spacing2 <font color=#1b1baa>$</font>al(ED,sp2) -spacing3 <font color=#1b1baa>$</font>al(ED,sp3)&quot;</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(INI,belltoll)</font>} {
    <b><font color=#ca14ca>proc</font></b> ::bell args {}  ;<i><font color=#4b5d50># no bells</font></i>
  }
  <b><font color=#3a6797>set</font></b> al(ini_file) {}  ;<i><font color=#4b5d50># to reread alited.ini contents, at need in next time</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniEM'>ReadIniEM</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets e_menu options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniEM</span> <span class='ruff_arg'>nam val emiName</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
<tr><td class='ruff_defitem'><code><code>emiName</code></code></td><td class='ruff_defitem'>name of em_i (index in arrays of e_menu data)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_231' href="javascript:toggleSource('231')">Show source</a></p>
<div id='231' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniEM {nam val emiName} {

  <i><font color=#4b5d50># Gets e_menu options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>
  <i><font color=#4b5d50>#   emiName - name of em_i (index in arrays of e_menu data)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num  em_sep em_sep em_ico em_ico em_inf em_inf em_mnu em_mnu
  <b><font color=#3a6797>upvar</font></b> <font color=#1b1baa>$emiName</font> em_i
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$nam</font> {
    emgeometry {<b><font color=#3a6797>set</font></b> al(EM,geometry) <font color=#1b1baa>$val</font>}
    emsave     {<b><font color=#3a6797>set</font></b> al(EM,save) <font color=#1b1baa>$val</font>}
    emPD       {<b><font color=#3a6797>set</font></b> al(EM,PD=) <font color=#1b1baa>$val</font>}
    emTcl      {<b><font color=#3a6797>set</font></b> al(EM,Tcl) <font color=#1b1baa>$val</font>}
    emTclList  {<b><font color=#3a6797>set</font></b> al(EM,TclList) <font color=#1b1baa>$val</font>}
    emh        {<b><font color=#3a6797>set</font></b> al(EM,h=) <font color=#1b1baa>$val</font>}
    emtt       {<b><font color=#3a6797>set</font></b> al(EM,tt=) <font color=#1b1baa>$val</font>}
    emttList   {<b><font color=#3a6797>set</font></b> al(EM,tt=List) <font color=#1b1baa>$val</font>}
    emmenu     {<b><font color=#3a6797>set</font></b> al(EM,menu) <font color=#1b1baa>$val</font>}
    emmenudir  {<b><font color=#3a6797>set</font></b> al(EM,menudir) <font color=#1b1baa>$val</font>}
    emcs       {<b><font color=#3a6797>set</font></b> al(EM,CS) <font color=#1b1baa>$val</font>}
    emowncs    {<b><font color=#3a6797>set</font></b> al(EM,ownCS) <font color=#1b1baa>$val</font>}
    emexec     {<b><font color=#3a6797>set</font></b> al(EM,exec) <font color=#1b1baa>$val</font>}
    emdiff     {<b><font color=#3a6797>set</font></b> al(EM,DiffTool) <font color=#1b1baa>$val</font>}
    em_run {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_i</font> &lt; <font color=#1b1baa>$em_Num</font>} {
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$val</font> \t] em_sep(<font color=#1b1baa>$em_i</font>) em_ico(<font color=#1b1baa>$em_i</font>) em_inf(<font color=#1b1baa>$em_i</font>)
        <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$em_i</font>) [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$em_inf($em_i)</font> end]
      }
      <b><font color=#3a6797>incr</font></b> em_i
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniGeometry'>ReadIniGeometry</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the geometry options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniGeometry</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_232' href="javascript:toggleSource('232')">Show source</a></p>
<div id='232' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniGeometry {nam val} {

  <i><font color=#4b5d50># Gets the geometry options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> -- <font color=#1b1baa>$nam</font> {
    Pan* {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$val</font> x+] w h
      <b><font color=#3a6797>set</font></b> ::alited::<font color=#1b1baa>${nam}</font>_wh <font color=#7d1a1a>&quot;-w <font color=#1b1baa>$</font>w -h <font color=#1b1baa>$</font>h&quot;</font>
    }
    GEOM {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$val</font> x+] - - x y
      <b><font color=#3a6797>set</font></b> ::alited::al(GEOM) <font color=#7d1a1a>&quot;-geometry +<font color=#1b1baa>$</font>x+<font color=#1b1baa>$</font>y&quot;</font>
    }
    geomfind       {<b><font color=#3a6797>set</font></b> ::alited::find::geo <font color=#1b1baa>$val</font>}
    geomproject    {<b><font color=#3a6797>set</font></b> ::alited::project::geo <font color=#1b1baa>$val</font>}
    geompref       {<b><font color=#3a6797>set</font></b> ::alited::pref::geo <font color=#1b1baa>$val</font>}
    dirgeometry    {<b><font color=#3a6797>set</font></b> ::alited::DirGeometry <font color=#1b1baa>$val</font>}
    filgeometry    {<b><font color=#3a6797>set</font></b> ::alited::FilGeometry <font color=#1b1baa>$val</font>}
    treecw0        {<b><font color=#3a6797>set</font></b> al(TREE,cw0) <font color=#1b1baa>$val</font>}
    treecw1        {<b><font color=#3a6797>set</font></b> al(TREE,cw1) <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniKeys'>ReadIniKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets keys options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniKeys</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_233' href="javascript:toggleSource('233')">Show source</a></p>
<div id='233' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniKeys {nam val} {

  <i><font color=#4b5d50># Gets keys options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    key {<b><font color=#3a6797>lappend</font></b> al(KEYS,bind) <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniMisc'>ReadIniMisc</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets miscellaneous options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniMisc</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_234' href="javascript:toggleSource('234')">Show source</a></p>
<div id='234' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniMisc {nam val} {

  <i><font color=#4b5d50># Gets miscellaneous options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    isfavor {<b><font color=#3a6797>set</font></b> al(FAV,IsFavor) <font color=#1b1baa>$val</font>}
    chosencolor {<b><font color=#3a6797>set</font></b> alited::al(chosencolor) <font color=#1b1baa>$val</font>}
    showinfo {<b><font color=#3a6797>set</font></b> alited::al(TREE,showinfo) <font color=#1b1baa>$val</font>}
    listSBL {<b><font color=#3a6797>set</font></b> alited::al(listSBL) <font color=#1b1baa>$val</font>}
    moveall {<b><font color=#3a6797>set</font></b> al(moveall) <font color=#1b1baa>$val</font>}
    tonemoves {<b><font color=#3a6797>set</font></b> al(tonemoves) <font color=#1b1baa>$val</font>}
    checkgeo {<b><font color=#3a6797>set</font></b> al(checkgeo) <font color=#1b1baa>$val</font>}
    HelpedMe {<b><font color=#3a6797>set</font></b> al(HelpedMe) <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniOptions'>ReadIniOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets various options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniOptions</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_235' href="javascript:toggleSource('235')">Show source</a></p>
<div id='235' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniOptions {nam val} {

  <i><font color=#4b5d50># Gets various options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> clrnames [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>foreach</font></b> lng {{} C} {
    <b><font color=#3a6797>set</font></b> nam1 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$nam</font> [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lng</font>] end]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$clrnames</font> <font color=#1b1baa>$nam1</font>]&gt;-1} {
      <b><font color=#3a6797>set</font></b> al(ED,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-glob</font> -- <font color=#1b1baa>$nam</font> {
    comm_port_list {<b><font color=#3a6797>set</font></b> al(comm_port_list) <font color=#1b1baa>$val</font>}
    project {
      <b><font color=#3a6797>set</font></b> al(prjfile) <font color=#1b1baa>$val</font>
      <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>file</font></b> tail [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$val</font>]]
    }
    theme         {<b><font color=#3a6797>set</font></b> al(THEME) <font color=#1b1baa>$val</font>}
    cs            {<b><font color=#3a6797>set</font></b> al(INI,CS) <font color=#1b1baa>$val</font>}
    hue           {<b><font color=#3a6797>set</font></b> al(INI,HUE) <font color=#1b1baa>$val</font>}
    local         {<b><font color=#3a6797>set</font></b> al(LOCAL) <font color=#1b1baa>$val</font>}
    deffont       {<b><font color=#3a6797>set</font></b> al(FONT) <font color=#1b1baa>$val</font>}
    smallfontsize {<b><font color=#3a6797>set</font></b> al(FONTSIZE,small) <font color=#1b1baa>$val</font>}
    stdfontsize   {<b><font color=#3a6797>set</font></b> al(FONTSIZE,std) <font color=#1b1baa>$val</font>}
    txtfont       {<b><font color=#3a6797>set</font></b> al(FONT,txt) <font color=#1b1baa>$val</font>}
    maxfind       {<b><font color=#3a6797>set</font></b> al(INI,maxfind) <font color=#1b1baa>$val</font>}
    confirmexit   {<b><font color=#3a6797>set</font></b> al(INI,confirmexit) <font color=#1b1baa>$val</font>}
    belltoll      {<b><font color=#3a6797>set</font></b> al(INI,belltoll) <font color=#1b1baa>$val</font>}
    spacing1      {<b><font color=#3a6797>set</font></b> al(ED,sp1) <font color=#1b1baa>$val</font>}
    spacing2      {<b><font color=#3a6797>set</font></b> al(ED,sp2) <font color=#1b1baa>$val</font>}
    spacing3      {<b><font color=#3a6797>set</font></b> al(ED,sp3) <font color=#1b1baa>$val</font>}
    TclKeyWords   {<b><font color=#3a6797>set</font></b> al(ED,TclKeyWords) <font color=#1b1baa>$val</font>}
    CKeyWords     {<b><font color=#3a6797>set</font></b> al(ED,CKeyWords) <font color=#1b1baa>$val</font>}
    clrDark       {<b><font color=#3a6797>set</font></b> al(ED,Dark) <font color=#1b1baa>$val</font>}
    save_onadd - save_onclose - save_onsave {<b><font color=#3a6797>set</font></b> al(INI,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>}
    TclExts       {<b><font color=#3a6797>set</font></b> al(TclExtensions) <font color=#1b1baa>$val</font>}
    ClangExts     {<b><font color=#3a6797>set</font></b> al(ClangExtensions) <font color=#1b1baa>$val</font>}
    TextExts      {<b><font color=#3a6797>set</font></b> al(TextExtensions) <font color=#1b1baa>$val</font>}
    REbranch      {<b><font color=#3a6797>set</font></b> al(RE,branch) <font color=#1b1baa>$val</font>}
    REproc        {<b><font color=#3a6797>set</font></b> al(RE,proc) <font color=#1b1baa>$val</font>}
    REproc2       {<b><font color=#3a6797>set</font></b> al(RE,proc2) <font color=#1b1baa>$val</font>}
    REleaf        {<b><font color=#3a6797>set</font></b> al(RE,leaf) <font color=#1b1baa>$val</font>}
    REleaf2       {<b><font color=#3a6797>set</font></b> al(RE,leaf2) <font color=#1b1baa>$val</font>}
    UseLeaf       {<b><font color=#3a6797>set</font></b> al(INI,LEAF) <font color=#1b1baa>$val</font>}
    Lines1        {<b><font color=#3a6797>set</font></b> al(INI,LINES1) <font color=#1b1baa>$val</font>}
    RecentFiles   {<b><font color=#3a6797>set</font></b> al(INI,RECENTFILES) <font color=#1b1baa>$val</font>}
    MaxLast       {<b><font color=#3a6797>set</font></b> al(FAV,MAXLAST) <font color=#1b1baa>$val</font>}
    MaxFiles      {<b><font color=#3a6797>set</font></b> al(MAXFILES) <font color=#1b1baa>$val</font>}
    barlablen     {<b><font color=#3a6797>set</font></b> al(INI,barlablen) <font color=#1b1baa>$val</font>}
    bartiplen     {<b><font color=#3a6797>set</font></b> al(INI,bartiplen) <font color=#1b1baa>$val</font>}
    backup        {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val</font> ne {.bak}} {<b><font color=#3a6797>set</font></b> val {}}
      <b><font color=#3a6797>set</font></b> al(BACKUP) <font color=#1b1baa>$val</font>
    }
    maxbackup     {<b><font color=#3a6797>set</font></b> al(MAXBACKUP) <font color=#1b1baa>$val</font>}
    gutterwidth   {<b><font color=#3a6797>set</font></b> al(ED,gutterwidth) <font color=#1b1baa>$val</font>}
    guttershift   {<b><font color=#3a6797>set</font></b> al(ED,guttershift) <font color=#1b1baa>$val</font>}
    cursorwidth   {<b><font color=#3a6797>set</font></b> al(CURSORWIDTH) <font color=#1b1baa>$val</font>}
    prjdefault    {<b><font color=#3a6797>set</font></b> al(PRJDEFAULT) <font color=#1b1baa>$val</font>}
    DEFAULT,*     {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>}
    findunit      {<b><font color=#3a6797>set</font></b> al(findunitvals) <font color=#1b1baa>$val</font>}
    afterstart    {<b><font color=#3a6797>set</font></b> al(afterstart) <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniPrj'>ReadIniPrj</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a project's settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniPrj</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_236' href="javascript:toggleSource('236')">Show source</a></p>
<div id='236' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniPrj {} {

  <i><font color=#4b5d50># Reads a project's settings.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(tabs) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> al(curtab) 0
  <b><font color=#3a6797>set</font></b> al(_check_menu_state_) 1
  alited::favor_ls::GetIni {}  ;<i><font color=#4b5d50># initializes favorites' lists</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(prjfile)</font>]} {
    <b><font color=#3a6797>set</font></b> al(prjfile) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::PRJDIR</font> default.ale]
  }
  <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>file</font></b> tail [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$al(prjfile)</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;alited project: <font color=#1b1baa>$</font>al(prjfile)&quot;</font>
    <b><font color=#3a6797>set</font></b> chan [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$::alited::al(prjfile)</font> r]
    <b><font color=#3a6797>set</font></b> mode <font color=#7d1a1a>&quot;&quot;</font>
    <b><font color=#3a6797>while</font></b> {![<b><font color=#3a6797>eof</font></b> <font color=#1b1baa>$chan</font>]} {
      <b><font color=#3a6797>set</font></b> stini [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>gets</font></b> <font color=#1b1baa>$chan</font>]]
      <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$stini</font> {
        {[Tabs]} - {[Options]} - {[Favorites]} - {[Misc]} {
          <b><font color=#3a6797>set</font></b> mode <font color=#1b1baa>$stini</font>
          <b><font color=#3a6797>continue</font></b>
        }
      }
      <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$stini</font>]
      <b><font color=#3a6797>set</font></b> nam [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> 0 <font color=#1b1baa>$i</font>-1]
      <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$stini</font> <font color=#1b1baa>$i</font>+1 end]
      <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$mode</font> {
        {[Tabs]} {ReadPrjTabs <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
        {[Options]} {ReadPrjOptions <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
        {[Favorites]} {ReadPrjFavorites <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
        {[Misc]} {ReadPrjMisc <font color=#1b1baa>$nam</font> <font color=#1b1baa>$val</font>}
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> al(prjroot) <font color=#1b1baa>$alited::DIR</font>}
  }]} <b><font color=#3a6797>then</font></b> {
    <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;Not open: <font color=#1b1baa>$</font>al(prjfile)&quot;</font>
    <b><font color=#3a6797>set</font></b> al(prjname) {}
    <b><font color=#3a6797>set</font></b> al(prjfile) {}
    <b><font color=#3a6797>set</font></b> al(prjroot) {}
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>close</font></b> <font color=#1b1baa>$chan</font>}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>cd</font></b> <font color=#1b1baa>$al(prjroot)</font>}
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(curtab)</font>] ||  <font color=#1b1baa>$al(curtab)</font>&lt;0 || <font color=#1b1baa>$al(curtab)</font>&gt;=[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(tabs)</font>]} {
    <b><font color=#3a6797>set</font></b> al(curtab) 0
  }
  ::apave::textEOL <font color=#1b1baa>$al(prjEOL)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniTemplates'>ReadIniTemplates</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets templates options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniTemplates</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_237' href="javascript:toggleSource('237')">Show source</a></p>
<div id='237' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniTemplates {nam val} {

  <i><font color=#4b5d50># Gets templates options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    tpl {
      <b><font color=#3a6797>lappend</font></b> al(TPL,list) <font color=#1b1baa>$val</font>
      <i><font color=#4b5d50># key bindings</font></i>
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$val</font> tplname tplkey
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tplkey</font> ne {}} {
        <b><font color=#3a6797>set</font></b> kbval <font color=#7d1a1a>&quot;template <font color=#1b1baa>{$</font>tplname<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>tplkey <font color=#1b1baa>{[</font>lrange <font color=#1b1baa>$</font>val 2 end<font color=#1b1baa>]}</font>&quot;</font>
        <b><font color=#3a6797>lappend</font></b> al(KEYS,bind) <font color=#1b1baa>$kbval</font>
      }
    }
  }
  <b><font color=#3a6797>foreach</font></b> n {%d %t %u %U %m %w %a} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$n</font> eq <font color=#1b1baa>$nam</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$val</font> ne <font color=#7d1a1a>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> al(TPL,<font color=#1b1baa>$n</font>) <font color=#1b1baa>$val</font>}
      <b><font color=#3a6797>break</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadIniTkcon'>ReadIniTkcon</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tkcon options of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIniTkcon</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_238' href="javascript:toggleSource('238')">Show source</a></p>
<div id='238' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadIniTkcon {nam val} {

  <i><font color=#4b5d50># Gets tkcon options of alited.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(tkcon,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjFavorites'>ReadPrjFavorites</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets favorites of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjFavorites</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_239' href="javascript:toggleSource('239')">Show source</a></p>
<div id='239' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjFavorites {nam val} {

  <i><font color=#4b5d50># Gets favorites of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    current - visited {<b><font color=#3a6797>lappend</font></b> al(FAV,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>}
    saved   {alited::favor_ls::GetIni <font color=#1b1baa>$val</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjMisc'>ReadPrjMisc</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets favorites of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjMisc</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_240' href="javascript:toggleSource('240')">Show source</a></p>
<div id='240' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjMisc {nam val} {

  <i><font color=#4b5d50># Gets favorites of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
    datafind {
      <b><font color=#3a6797>catch</font></b> {
        <i><font color=#4b5d50># lists of find/replace strings to be restored only</font></i>
        <b><font color=#3a6797>set</font></b> ::alited::find::data(en1) {}
        <b><font color=#3a6797>set</font></b> ::alited::find::data(en2) {}
        <b><font color=#3a6797>array</font></b> set data <font color=#1b1baa>$val</font>
        <b><font color=#3a6797>set</font></b> ::alited::find::data(vals1) <font color=#1b1baa>$data(vals1)</font>
        <b><font color=#3a6797>set</font></b> ::alited::find::data(vals2) <font color=#1b1baa>$data(vals2)</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjOptions'>ReadPrjOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjOptions</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_241' href="javascript:toggleSource('241')">Show source</a></p>
<div id='241' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjOptions {nam val} {

  <i><font color=#4b5d50># Gets options of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nam</font> in {{} prjfile prjname}} {
    <b><font color=#ca14ca>return</font></b> ;<i><font color=#4b5d50># to avoid resetting the current project file name</font></i>
  }
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ReadPrjTabs'>ReadPrjTabs</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tabs of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadPrjTabs</span> <span class='ruff_arg'>nam val</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nam</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_242' href="javascript:toggleSource('242')">Show source</a></p>
<div id='242' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ReadPrjTabs {nam val} {

  <i><font color=#4b5d50># Gets tabs of project.</font></i>
  <i><font color=#4b5d50>#   nam - name of option</font></i>
  <i><font color=#4b5d50>#   val - value of option</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$val</font>] ne <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> -- <font color=#1b1baa>$nam</font> {
      tab {<b><font color=#3a6797>lappend</font></b> al(tabs) <font color=#1b1baa>$val</font>}
      recent {alited::file::InsertRecent <font color=#1b1baa>$val</font> end}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveCurrentIni'>SaveCurrentIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a current configuration of alited on various events.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCurrentIni</span> <span class='ruff_arg'>?saveon? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>saveon</code></code></td><td class='ruff_defitem'>flag &quot;save on event&quot; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>serves to run this procedure after idle; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_243' href="javascript:toggleSource('243')">Show source</a></p>
<div id='243' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::SaveCurrentIni {{saveon yes} {doit no}} {

  <i><font color=#4b5d50># Saves a current configuration of alited on various events.</font></i>
  <i><font color=#4b5d50>#   saveon - flag &quot;save on event&quot;</font></i>
  <i><font color=#4b5d50>#   doit - serves to run this procedure after idle</font></i>

  <i><font color=#4b5d50># for sessions to come</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>expr</font></b> <font color=#1b1baa>$saveon</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>variable</font></b> afterID
  <i><font color=#4b5d50># run this code after updating GUI</font></i>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$afterID</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font>} {
    SaveIni
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> afterID [<b><font color=#3a6797>after</font></b> idle ::alited::ini::SaveCurrentIni yes yes]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveIni'>SaveIni</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a current configuration of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIni</span> <span class='ruff_arg'>?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>flag &quot;for a new project&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_244' href="javascript:toggleSource('244')">Show source</a></p>
<div id='244' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::SaveIni {{newproject no}} {

  <i><font color=#4b5d50># Saves a current configuration of alited.</font></i>
  <i><font color=#4b5d50>#   newproject - flag &quot;for a new project&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num em_sep em_sep em_ico em_ico em_inf em_inf
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::project prjlist prjlist prjinfo prjinfo OPTS OPTS
  <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;alited storing: <font color=#1b1baa>$</font>al(INI)&quot;</font>
  <b><font color=#3a6797>set</font></b> chan [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$::alited::al(INI)</font> w]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Options]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;comm_port=<font color=#1b1baa>$</font>al(comm_port)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;comm_port_list=<font color=#1b1baa>$</font>al(comm_port_list)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;project=<font color=#1b1baa>$</font>al(prjfile)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;theme=<font color=#1b1baa>$</font>al(THEME)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;cs=<font color=#1b1baa>$</font>al(INI,CS)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;hue=<font color=#1b1baa>$</font>al(INI,HUE)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;local=<font color=#1b1baa>$</font>al(LOCAL)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;deffont=<font color=#1b1baa>$</font>al(FONT)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;smallfontsize=<font color=#1b1baa>$</font>al(FONTSIZE,small)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;stdfontsize=<font color=#1b1baa>$</font>al(FONTSIZE,std)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;txtfont=<font color=#1b1baa>$</font>al(FONT,txt)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;maxfind=<font color=#1b1baa>$</font>al(INI,maxfind)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;confirmexit=<font color=#1b1baa>$</font>al(INI,confirmexit)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;belltoll=<font color=#1b1baa>$</font>al(INI,belltoll)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;spacing1=<font color=#1b1baa>$</font>al(ED,sp1)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;spacing2=<font color=#1b1baa>$</font>al(ED,sp2)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;spacing3=<font color=#1b1baa>$</font>al(ED,sp3)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;CKeyWords=<font color=#1b1baa>$</font>al(ED,CKeyWords)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;TclKeyWords=<font color=#1b1baa>$</font>al(ED,TclKeyWords)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;cursorwidth=<font color=#1b1baa>$</font>al(CURSORWIDTH)&quot;</font>
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>foreach</font></b> lng {{} C} {
    <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> {<b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>lng<font color=#1b1baa>$</font>nam=<font color=#1b1baa>$</font>al(ED,<font color=#1b1baa>$</font>lng<font color=#1b1baa>$</font>nam)&quot;</font>}
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;clrDark=<font color=#1b1baa>$</font>al(ED,Dark)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;save_onadd=<font color=#1b1baa>$</font>al(INI,save_onadd)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;save_onclose=<font color=#1b1baa>$</font>al(INI,save_onclose)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;save_onsave=<font color=#1b1baa>$</font>al(INI,save_onsave)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;TclExts=<font color=#1b1baa>$</font>al(TclExtensions)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;ClangExts=<font color=#1b1baa>$</font>al(ClangExtensions)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;TextExts=<font color=#1b1baa>$</font>al(TextExtensions)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;REbranch=<font color=#1b1baa>$</font>al(RE,branch)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;REproc=<font color=#1b1baa>$</font>al(RE,proc)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;REproc2=<font color=#1b1baa>$</font>al(RE,proc2)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;REleaf=<font color=#1b1baa>$</font>al(RE,leaf)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;REleaf2=<font color=#1b1baa>$</font>al(RE,leaf2)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;UseLeaf=<font color=#1b1baa>$</font>al(INI,LEAF)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;Lines1=<font color=#1b1baa>$</font>al(INI,LINES1)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;RecentFiles=<font color=#1b1baa>$</font>al(INI,RECENTFILES)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;MaxLast=<font color=#1b1baa>$</font>al(FAV,MAXLAST)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;MaxFiles=<font color=#1b1baa>$</font>al(MAXFILES)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;barlablen=<font color=#1b1baa>$</font>al(INI,barlablen)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;bartiplen=<font color=#1b1baa>$</font>al(INI,bartiplen)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;backup=<font color=#1b1baa>$</font>al(BACKUP)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;maxbackup=<font color=#1b1baa>$</font>al(MAXBACKUP)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;gutterwidth=<font color=#1b1baa>$</font>al(ED,gutterwidth)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;guttershift=<font color=#1b1baa>$</font>al(ED,guttershift)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;prjdefault=<font color=#1b1baa>$</font>al(PRJDEFAULT)&quot;</font>
  <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>array</font></b> names al DEFAULT,*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>k=<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>k)&quot;</font>
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;findunit=<font color=#1b1baa>$</font>al(findunitvals)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;afterstart=<font color=#1b1baa>$</font>al(afterstart)&quot;</font>

  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Templates]}
  <b><font color=#3a6797>foreach</font></b> t <font color=#1b1baa>$al(TPL,list)</font> {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;tpl=<font color=#1b1baa>$</font>t&quot;</font>
  }
  <b><font color=#3a6797>foreach</font></b> n {%d %t %u %U %m %w %a} {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>n=<font color=#1b1baa>$</font>al(TPL,<font color=#1b1baa>$</font>n)&quot;</font>
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Keys]}
  <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$al(KEYS,bind)</font> {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> match template* <font color=#1b1baa>$k</font>] && ![<b><font color=#3a6797>string</font></b> match action* <font color=#1b1baa>$k</font>]} {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;key=<font color=#1b1baa>$</font>k&quot;</font>
    }
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[EM]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emsave=<font color=#1b1baa>$</font>al(EM,save)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emPD=<font color=#1b1baa>$</font>al(EM,PD=)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emTcl=<font color=#1b1baa>$</font>al(EM,Tcl)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emTclList=<font color=#1b1baa>$</font>al(EM,TclList)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emh=<font color=#1b1baa>$</font>al(EM,h=)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emtt=<font color=#1b1baa>$</font>al(EM,tt=)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emttList=<font color=#1b1baa>$</font>al(EM,tt=List)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emmenu=<font color=#1b1baa>$</font>al(EM,menu)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emmenudir=<font color=#1b1baa>$</font>al(EM,menudir)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emcs=<font color=#1b1baa>$</font>al(EM,CS)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emowncs=<font color=#1b1baa>$</font>al(EM,ownCS)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emgeometry=<font color=#1b1baa>$</font>al(EM,geometry)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emexec=<font color=#1b1baa>$</font>al(EM,exec)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;emdiff=<font color=#1b1baa>$</font>al(EM,DiffTool)&quot;</font>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_sep(<font color=#1b1baa>$i</font>)]} {
      <b><font color=#3a6797>set</font></b> em_run <font color=#1b1baa>$em_sep($i)</font>
      <b><font color=#3a6797>append</font></b> em_run \t <font color=#1b1baa>$em_ico($i)</font> \t <font color=#1b1baa>$em_inf($i)</font>
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;em_run=<font color=#1b1baa>$</font>em_run&quot;</font>
    }
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Tkcon]}
  <b><font color=#3a6797>foreach</font></b> k [<b><font color=#3a6797>array</font></b> names al tkcon,*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>k 6 end<font color=#1b1baa>]</font>=<font color=#1b1baa>$</font>al(<font color=#1b1baa>$</font>k)&quot;</font>
  }
  <i><font color=#4b5d50># save the geometry options</font></i>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Geometry]}
  <b><font color=#3a6797>foreach</font></b> v {Pan PanL PanR PanBM PanTop} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(width<font color=#1b1baa>$v</font>)]} {
      <b><font color=#3a6797>set</font></b> w <font color=#1b1baa>$al(width$v)</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> w [<b><font color=#134070>winfo</font></b> geometry [<font color=#1b1baa>$::alited::obPav</font> <font color=#1b1baa>$v</font>]]
    }
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#1b1baa>$v</font>=<font color=#1b1baa>$w</font>
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;GEOM=<font color=#1b1baa>[</font>wm geometry <font color=#1b1baa>$</font>al(WIN)<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;geomfind=<font color=#1b1baa>$</font>::alited::find::geo&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;geomproject=<font color=#1b1baa>$</font>::alited::project::geo&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;geompref=<font color=#1b1baa>$</font>::alited::pref::geo&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;treecw0=<font color=#1b1baa>[[$</font>obPav Tree<font color=#1b1baa>]</font> column #0 -width<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;treecw1=<font color=#1b1baa>[[$</font>obPav Tree<font color=#1b1baa>]</font> column #1 -width<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;dirgeometry=<font color=#1b1baa>$</font>::alited::DirGeometry&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;filgeometry=<font color=#1b1baa>$</font>::alited::FilGeometry&quot;</font>
  <i><font color=#4b5d50># save other options</font></i>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Misc]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;isfavor=<font color=#1b1baa>$</font>al(FAV,IsFavor)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;chosencolor=<font color=#1b1baa>$</font>al(chosencolor)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;showinfo=<font color=#1b1baa>$</font>al(TREE,showinfo)&quot;</font>
  <b><font color=#3a6797>set</font></b> al(listSBL) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n <font color=#1b1baa>$alited::EOL</font>] <font color=#1b1baa>$al(listSBL)</font>]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;listSBL=<font color=#1b1baa>$</font>al(listSBL)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;moveall=<font color=#1b1baa>$</font>al(moveall)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;tonemoves=<font color=#1b1baa>$</font>al(tonemoves)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;checkgeo=<font color=#1b1baa>$</font>al(checkgeo)&quot;</font>
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;HelpedMe=<font color=#1b1baa>$</font>al(HelpedMe)&quot;</font>
  <b><font color=#3a6797>close</font></b> <font color=#1b1baa>$chan</font>
  SaveIniPrj <font color=#1b1baa>$newproject</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::SaveIniPrj'>SaveIniPrj</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves settings of project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIniPrj</span> <span class='ruff_arg'>?newproject?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>newproject</code></code></td><td class='ruff_defitem'>flag &quot;for a new project&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_245' href="javascript:toggleSource('245')">Show source</a></p>
<div id='245' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::SaveIniPrj {{newproject no}} {

  <i><font color=#4b5d50># Saves settings of project.</font></i>
  <i><font color=#4b5d50>#   newproject - flag &quot;for a new project&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> tabs <font color=#1b1baa>$al(tabs)</font>
  <b><font color=#3a6797>set</font></b> al(tabs) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;alited storing: <font color=#1b1baa>$</font>al(prjfile)&quot;</font>
  <b><font color=#3a6797>set</font></b> chan [<b><font color=#3a6797>open</font></b> <font color=#1b1baa>$al(prjfile)</font> w]
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Tabs]}
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetBarState] TIDcur - wtxt
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$newproject</font>} {
    <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
  }
  <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$newproject</font>} {
      <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>set</font></b> tab [alited::bar::FileName <font color=#1b1baa>$TID</font>]
      <b><font color=#3a6797>if</font></b> {[alited::file::IsNoName <font color=#1b1baa>$tab</font>]} <b><font color=#3a6797>continue</font></b>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TID</font> eq <font color=#1b1baa>$TIDcur</font>} {
        <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> pos [alited::bar::GetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-pos</font>]
      }
      <b><font color=#3a6797>append</font></b> tab \t <font color=#1b1baa>$pos</font>
    }
    <b><font color=#3a6797>lappend</font></b> al(tabs) <font color=#1b1baa>$tab</font>
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;tab=<font color=#1b1baa>$</font>tab&quot;</font>
  }
  <b><font color=#3a6797>foreach</font></b> rf <font color=#1b1baa>$al(RECENTFILES)</font> {
    <b><font color=#3a6797>if</font></b> {![alited::file::IsNoName <font color=#1b1baa>$rf</font>]} {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;recent=<font color=#1b1baa>$</font>rf&quot;</font>
    }
  }
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Options]}
  <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;curtab=<font color=#1b1baa>[</font>alited::bar::CurrentTab 3<font color=#1b1baa>]</font>&quot;</font>
  <b><font color=#3a6797>foreach</font></b> {opt val} [<b><font color=#3a6797>array</font></b> get al prj*] {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>opt=<font color=#1b1baa>$</font>val&quot;</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$newproject</font>} {
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Favorites]}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
      <b><font color=#3a6797>set</font></b> favlist [alited::tree::GetTree {} TreeFavor]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> favlist <font color=#1b1baa>$al(FAV,current)</font>
    }
    <b><font color=#3a6797>foreach</font></b> curfav <font color=#1b1baa>$favlist</font> {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;current=<font color=#1b1baa>$</font>curfav&quot;</font>
    }
    <b><font color=#3a6797>foreach</font></b> savfav [::alited::favor_ls::PutIni] {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;saved=<font color=#1b1baa>$</font>savfav&quot;</font>
    }
    <b><font color=#3a6797>foreach</font></b> visited <font color=#1b1baa>$al(FAV,visited)</font> {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;visited=<font color=#1b1baa>$</font>visited&quot;</font>
    }
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {}
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> {[Misc]}
    <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$chan</font> <font color=#7d1a1a>&quot;datafind=<font color=#1b1baa>[</font>array get ::alited::find::data<font color=#1b1baa>]</font>&quot;</font>
  }
  <b><font color=#3a6797>close</font></b> <font color=#1b1baa>$chan</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::ini::ToolbarTip'>ToolbarTip</a><span class='ns_scope'> [<a href="alited.html#::alited::ini" title="::alited::ini" class='ruff_cmd'>::alited::ini</a>]</span><span class='tinylink'><a href='alited.html#::alited::ini'>ini</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip for a toolbar button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolbarTip</span> <span class='ruff_arg'>w tip</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the button's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>original tip</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Maps %f &amp; %D wildcards to the current file &amp; directory names.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_246' href="javascript:toggleSource('246')">Show source</a></p>
<div id='246' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::ini::ToolbarTip {w tip} {

  <i><font color=#4b5d50># Gets a tip for a toolbar button.</font></i>
  <i><font color=#4b5d50>#   w - the button's path</font></i>
  <i><font color=#4b5d50>#   tip - original tip</font></i>
  <i><font color=#4b5d50># Maps %f & %D wildcards to the current file & directory names.</font></i>

  <b><font color=#3a6797>set</font></b> maplist [alited::menu::MapRunItems [alited::bar::FileName]]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$maplist</font> <font color=#1b1baa>$tip</font>]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::keys'></a>::alited::keys<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::keys-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::keys::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds an item to a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> <span class='ruff_arg'>type name keys cont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item</td></tr>
<tr><td class='ruff_defitem'><code><code>keys</code></code></td><td class='ruff_defitem'>key combination</td></tr>
<tr><td class='ruff_defitem'><code><code>cont</code></code></td><td class='ruff_defitem'>contents (data of binding)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_247' href="javascript:toggleSource('247')">Show source</a></p>
<div id='247' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Add {type name keys cont} {

  <i><font color=#4b5d50># Adds an item to a list of keys data.</font></i>
  <i><font color=#4b5d50>#   type - type of key</font></i>
  <i><font color=#4b5d50>#   name - name of item</font></i>
  <i><font color=#4b5d50>#   keys - key combination</font></i>
  <i><font color=#4b5d50>#   cont - contents (data of binding)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$keys</font>] ne {}} {
    <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$type</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$keys</font> <font color=#1b1baa>$cont</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [Search <font color=#1b1baa>$type</font> <font color=#1b1baa>$name</font>]]&gt;-1} {
      <b><font color=#3a6797>set</font></b> al(KEYS,bind) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(KEYS,bind)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$item</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> al(KEYS,bind) <font color=#1b1baa>$item</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::BindKeys'>BindKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds keys to appropriate events of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindKeys</span> <span class='ruff_arg'>wtxt type</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of keys (template etc.)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_248' href="javascript:toggleSource('248')">Show source</a></p>
<div id='248' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::BindKeys {wtxt type} {

  <i><font color=#4b5d50># Binds keys to appropriate events of text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   type - type of keys (template etc.)</font></i>

  <b><font color=#3a6797>foreach</font></b> kb [alited::keys::EngagedList <font color=#1b1baa>$type</font> all] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kb</font> -&gt; tpl keys tpldata
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> last - <font color=#1b1baa>$keys</font>]]&gt;0} {
        <b><font color=#3a6797>set</font></b> lt [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$keys</font> <font color=#1b1baa>$i</font>+1 end]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$lt</font>]==1} {  ;<i><font color=#4b5d50># for lower case of letters</font></i>
          <b><font color=#3a6797>lappend</font></b> keys <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>keys 0 <font color=#1b1baa>$</font>i<font color=#1b1baa>][</font>string tolower <font color=#1b1baa>$</font>lt<font color=#1b1baa>]</font>&quot;</font>
        }
      }
      <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$keys</font> {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$type</font> eq <font color=#7d1a1a>&quot;template&quot;</font>} {
          <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$tpldata</font> tex pos place
          <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$::alited::EOL</font> \n % %%] <font color=#1b1baa>$tex</font>]
          <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#7d1a1a>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> [<b><font color=#3a6797>list</font></b> ::alited::unit::InsertTemplate [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$place</font>]]
        } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$type</font> eq <font color=#7d1a1a>&quot;preference&quot;</font>} {
          <b><font color=#3a6797>set</font></b> tpldata [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %k <font color=#1b1baa>$keys</font>] <font color=#1b1baa>$tpldata</font>]
          {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$tpldata</font>
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#7d1a1a>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#1b1baa>$tpldata</font>
        }
      }
    } err]} <b><font color=#3a6797>then</font></b> {
      <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;Error of binding: <font color=#1b1baa>$</font>tpl &lt;<font color=#1b1baa>$</font>keys&gt; - <font color=#1b1baa>$</font>err&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes an item from a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>type ?name?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_249' href="javascript:toggleSource('249')">Show source</a></p>
<div id='249' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Delete {type {name {}}} {

  <i><font color=#4b5d50># Deletes an item from a list of keys data.</font></i>
  <i><font color=#4b5d50>#   type - type of key</font></i>
  <i><font color=#4b5d50>#   name - name of item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> deleted 0
  <b><font color=#3a6797>while</font></b> {[<b><font color=#3a6797>set</font></b> i [Search <font color=#1b1baa>$type</font> <font color=#1b1baa>$name</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> al(KEYS,bind) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(KEYS,bind)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>incr</font></b> deleted
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$deleted</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::EngagedList'>EngagedList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys engaged by a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EngagedList</span> <span class='ruff_arg'>?type? ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>a type of keys (&quot;template&quot; etc.); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;all&quot;, returns full info of keys; if &quot;keysonly&quot; - only key names; if &quot;keyscont&quot; - only key contents; <i>optional, default</i> <code>keyscont</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys engaged by a user.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_250' href="javascript:toggleSource('250')">Show source</a></p>
<div id='250' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::EngagedList {{type {}} {mode keyscont}} {

  <i><font color=#4b5d50># Returns a list of keys engaged by a user.</font></i>
  <i><font color=#4b5d50>#   type - a type of keys (&quot;template&quot; etc.)</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;all&quot;, returns full info of keys; if &quot;keysonly&quot; - only key names; if &quot;keyscont&quot; - only key contents</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> kb <font color=#1b1baa>$al(KEYS,bind)</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$type</font> eq <font color=#7d1a1a>&quot;&quot;</font> || <font color=#1b1baa>$type</font> eq [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$kb</font> 0]} {
      <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$mode</font> {
        all      {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$kb</font>}
        keysonly {<b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$kb</font> 2]}
        keyscont {<b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>lrange</font></b> <font color=#1b1baa>$kb</font> 2 3]}
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::ReservedAdd'>ReservedAdd</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves reserved (&quot;action&quot;) keys to a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedAdd</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_251' href="javascript:toggleSource('251')">Show source</a></p>
<div id='251' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::ReservedAdd {wtxt} {

  <i><font color=#4b5d50># Saves reserved (&quot;action&quot;) keys to a list of keys data.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  Add action find-replace Control-F {alited::find::_run; <b><font color=#3a6797>break</font></b>}
  Add action find-unit    Shift-Control-F {::alited::find::FindUnit; <b><font color=#3a6797>break</font></b>}
  Add action new-file     Control-N {::alited::file::NewFile; <b><font color=#3a6797>break</font></b>}
  Add action open-file    Control-O {::alited::file::OpenFile; <b><font color=#3a6797>break</font></b>}
  Add action save-all     Shift-Control-S {::alited::file::SaveAll; <b><font color=#3a6797>break</font></b>}
  Add action save-close   Control-W {::alited::file::SaveFileAndClose; <b><font color=#3a6797>break</font></b>}
  Add action help         F1 {alited::tool::Help}
  <i><font color=#4b5d50># other keys are customized in Preferences</font></i>
  Add action save-file    [alited::pref::BindKey 0 - F2] {::alited::file::SaveFile}
  Add action save-as      [alited::pref::BindKey 1 - Control-S] {::alited::file::SaveFileAs; <b><font color=#3a6797>break</font></b>}
  Add action e_menu       [alited::pref::BindKey 2 - F4] {alited::tool::e_menu o=0}
  Add action run          [alited::pref::BindKey 3 - F5] {alited::tool::_run}
  Add action indent       [alited::pref::BindKey 6 - Control-I] {::alited::edit::Indent; <b><font color=#3a6797>break</font></b>}
  Add action unindent     [alited::pref::BindKey 7 - Control-U] {::alited::edit::UnIndent; <b><font color=#3a6797>break</font></b>}
  Add action comment      [alited::pref::BindKey 8 - Control-bracketleft] {::alited::edit::Comment; <b><font color=#3a6797>break</font></b>}
  Add action uncomment    [alited::pref::BindKey 9 - Control-bracketright] {::alited::edit::UnComment; <b><font color=#3a6797>break</font></b>}
  Add action find-next    [alited::pref::BindKey 12 - F3] <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>obPav findInText 1 <font color=#1b1baa>$</font>wtxt&quot;</font>
  Add action look-declaration    [alited::pref::BindKey 13 - Control-L] <font color=#7d1a1a>&quot;::alited::find::SearchUnit ; break&quot;</font>
  Add action look-word    [alited::pref::BindKey 14 - Control-Shift-L] <font color=#7d1a1a>&quot;::alited::find::SearchWordInSession ; break&quot;</font>
  Add action item-up      [alited::pref::BindKey 15 - F11] {+ ::alited::tree::MoveItem up yes}
  Add action item-down    [alited::pref::BindKey 16 - F12] {+ ::alited::tree::MoveItem down yes}
  Add action goto-line    [alited::pref::BindKey 17 - Control-G] {alited::main::GotoLine; <b><font color=#3a6797>break</font></b>}
  Add action insert-line  [alited::pref::BindKey 18 - Control-P] {alited::main::InsertLine; <b><font color=#3a6797>break</font></b>}
  Add action autocomplete [alited::pref::BindKey 19 - Tab] {alited::complete::AutoCompleteCommand; <b><font color=#3a6797>break</font></b>}
  Add action goto-bracket [alited::pref::BindKey 20 - Alt-B] {alited::main::GotoBracket; <b><font color=#3a6797>break</font></b>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::ReservedList'>ReservedList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys reserved by alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys reserved by alited.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_252' href="javascript:toggleSource('252')">Show source</a></p>
<div id='252' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::ReservedList {} {

  <i><font color=#4b5d50># Returns a list of keys reserved by alited.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b>  F1  F10  Control-A  Control-C  Control-F  Control-M  Control-N  Control-O  Control-R  Control-V  Control-W  Control-X  Control-Z  Control-Shift-Z  Control-Shift-F  Alt-Up  Alt-Down  Alt-Left  Alt-Right  Alt-F4
  ]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Search'>Search</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches an item in a list of keys data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Search</span> <span class='ruff_arg'>type name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of key</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_253' href="javascript:toggleSource('253')">Show source</a></p>
<div id='253' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Search {type name} {

  <i><font color=#4b5d50># Searches an item in a list of keys data.</font></i>
  <i><font color=#4b5d50>#   type - type of key</font></i>
  <i><font color=#4b5d50>#   name - name of item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>foreach</font></b> kb <font color=#1b1baa>$al(KEYS,bind)</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kb</font> t n n2
    <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$type</font> eq <font color=#7d1a1a>&quot;&quot;</font> || <font color=#1b1baa>$t</font> eq <font color=#1b1baa>$type</font>) && (<font color=#1b1baa>$name</font> eq <font color=#7d1a1a>&quot;&quot;</font> || <font color=#1b1baa>$name</font> eq <font color=#1b1baa>$n</font> || <font color=#1b1baa>$name</font> eq <font color=#1b1baa>$n2</font>)} {
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$i</font>
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <b><font color=#ca14ca>return</font></b> -1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::Test'>Test</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>It's just for testing keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Test</span> <span class='ruff_arg'>klist</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>klist</code></code></td><td class='ruff_defitem'>list of key combinations</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_254' href="javascript:toggleSource('254')">Show source</a></p>
<div id='254' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::Test {klist} {

  <i><font color=#4b5d50># It's just for testing keys.</font></i>
  <i><font color=#4b5d50>#   klist - list of key combinations</font></i>

  <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$klist</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> . <font color=#7d1a1a>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> <font color=#7d1a1a>&quot;puts <font color=#1b1baa>$</font>k&quot;</font>} err]} {
      <b><font color=#3a6797>puts</font></b> <font color=#1b1baa>$err</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;Valid key combination: <font color=#1b1baa>$</font>k&quot;</font>
    }
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>bind</font></b> . <font color=#7d1a1a>&quot;&lt;<font color=#1b1baa>$</font>k&gt;&quot;</font> {}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::UnBindKeys'>UnBindKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears key bindings of text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnBindKeys</span> <span class='ruff_arg'>wtxt type</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of keys (template etc.)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_255' href="javascript:toggleSource('255')">Show source</a></p>
<div id='255' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::UnBindKeys {wtxt type} {

  <i><font color=#4b5d50># Clears key bindings of text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   type - type of keys (template etc.)</font></i>

  <b><font color=#3a6797>foreach</font></b> kb [alited::keys::EngagedList <font color=#1b1baa>$type</font> all] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kb</font> -&gt; tpl keys tpldata
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> tpldata [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$::alited::EOL</font> \n] <font color=#1b1baa>$tpldata</font>]
      <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> <font color=#7d1a1a>&quot;&lt;<font color=#1b1baa>$</font>keys&gt;&quot;</font> {}
    } err]} <b><font color=#3a6797>then</font></b> {
      <b><font color=#3a6797>puts</font></b> <font color=#7d1a1a>&quot;Error of unbinding: <font color=#1b1baa>$</font>tpl &lt;<font color=#1b1baa>$</font>keys&gt; - <font color=#1b1baa>$</font>err&quot;</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::UserList'>UserList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys avalable to a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UserList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys avalable to a user.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_256' href="javascript:toggleSource('256')">Show source</a></p>
<div id='256' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::UserList {} {

  <i><font color=#4b5d50># Returns a list of keys avalable to a user.</font></i>

  <b><font color=#3a6797>set</font></b> reserved [ReservedList]
  <b><font color=#3a6797>foreach</font></b> mod {<font color=#7d1a1a>&quot;&quot;</font> Control- Alt- Shift- Control-Shift- Control-Alt-} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mod</font> ni {Control- Control-Alt-}} {
      <b><font color=#3a6797>foreach</font></b> k {F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12} {
        <b><font color=#3a6797>set</font></b> key <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>mod<font color=#1b1baa>$</font>k&quot;</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$key</font> ni <font color=#1b1baa>$reserved</font>} {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$key</font>}
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mod</font> ni {<font color=#7d1a1a>&quot;&quot;</font> <font color=#7d1a1a>&quot;Shift-&quot;</font>}} {
      <b><font color=#3a6797>foreach</font></b> k {0 1 2 3 4 5 6 7 8 9 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z} {
        <b><font color=#3a6797>set</font></b> key <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>mod<font color=#1b1baa>$</font>k&quot;</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$key</font> ni <font color=#1b1baa>$reserved</font>} {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$key</font>}
      }
    }
  }
  <b><font color=#3a6797>lappend</font></b> res Control-bracketleft
  <b><font color=#3a6797>lappend</font></b> res Control-bracketright
  <b><font color=#3a6797>lappend</font></b> res Tab
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::keys::VacantList'>VacantList</a><span class='ns_scope'> [<a href="alited.html#::alited::keys" title="::alited::keys" class='ruff_cmd'>::alited::keys</a>]</span><span class='tinylink'><a href='alited.html#::alited::keys'>keys</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of keys not yet engaged.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>VacantList</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of keys not yet engaged.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_257' href="javascript:toggleSource('257')">Show source</a></p>
<div id='257' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::keys::VacantList {} {

  <i><font color=#4b5d50># Returns a list of keys not yet engaged.</font></i>

  <b><font color=#3a6797>set</font></b> userlist [UserList]
  <b><font color=#3a6797>set</font></b> englist [EngagedList {} keysonly]
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> k <font color=#1b1baa>$userlist</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$k</font> ni <font color=#1b1baa>$englist</font>} {<b><font color=#3a6797>lappend</font></b> res <font color=#1b1baa>$k</font>}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::main'></a>::alited::main<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::main-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::main::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main form of the alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_258' href="javascript:toggleSource('258')">Show source</a></p>
<div id='258' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::_create {} {

  <i><font color=#4b5d50># Creates a main form of the alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obPav</font> csGet] - - ::alited::FRABG - - - - - bclr
  <b><font color=#134070>ttk::style</font></b> configure TreeNoHL {<b><font color=#3a6797>*</font></b>}[<b><font color=#134070>ttk::style</font></b> configure Treeview] <font color=#6c3e67>-borderwidth</font> 0
  <b><font color=#134070>ttk::style</font></b> map TreeNoHL {<b><font color=#3a6797>*</font></b>}[<b><font color=#134070>ttk::style</font></b> map Treeview]  <font color=#6c3e67>-bordercolor</font> [<b><font color=#3a6797>list</font></b> focus <font color=#1b1baa>$bclr</font> active <font color=#1b1baa>$bclr</font>]  <font color=#6c3e67>-lightcolor</font> [<b><font color=#3a6797>list</font></b> focus <font color=#1b1baa>$::alited::FRABG</font> active <font color=#1b1baa>$::alited::FRABG</font>]  <font color=#6c3e67>-darkcolor</font> [<b><font color=#3a6797>list</font></b> focus <font color=#1b1baa>$::alited::FRABG</font> active <font color=#1b1baa>$::alited::FRABG</font>]
  <b><font color=#134070>ttk::style</font></b> layout TreeNoHL [<b><font color=#134070>ttk::style</font></b> layout Treeview]
  <font color=#1b1baa>$obPav</font> untouchWidgets *.frAText *.lbxInfo
  <i><font color=#4b5d50># make the main apave object and populate it</font></i>
  <font color=#1b1baa>$obPav</font> makeWindow <font color=#1b1baa>$al(WIN)</font>.fra alited
  <font color=#1b1baa>$obPav</font> paveWindow <font color=#1b1baa>$al(WIN)</font>.fra {
    {Menu - - - - - {<font color=#6c3e67>-array</font> {
      <b><font color=#3a6797>file</font></b> File
      edit Edit
      search Search
      tool Tools
      setup Setup
      help Help
    }} alited::menu::FillMenu}
    {frat - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both}}
    {frat.ToolTop - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-borderwidth</font> 0 <font color=#6c3e67>-array</font> {<font color=#1b1baa>$alited::al(atools)</font>}}}
    {fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-pady</font> 0}}
    {fra.Pan - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-orient</font> horizontal <font color=#1b1baa>$alited::Pan_wh</font>}}
    {fra.pan.PanL - - - - {add} {<font color=#6c3e67>-orient</font> vertical <font color=#1b1baa>$alited::PanL_wh</font>}}
    {.fraBot - - - - {add}}
    {.fraBot.PanBM - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#1b1baa>$alited::PanBM_wh</font>}}
    {.fraBot.panBM.FraTree - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraBot.panBM.fraTree.fra1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x}}
    {.fraBot.panBM.fraTree.fra1.BuTswitch - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_gulls <font color=#6c3e67>-command</font> alited::tree::SwitchTree}}
    {.fraBot.panBM.fraTree.fra1.BuTUpdT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_retry <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,updtree)</font>}
    <font color=#6c3e67>-command</font> alited::main::UpdateAll}}
    {.fraBot.panBM.fraTree.fra1.sev1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraBot.panBM.fraTree.fra1.BuTUp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_up <font color=#6c3e67>-command</font> {alited::tree::MoveItem up}}}
    {.fraBot.panBM.fraTree.fra1.BuTDown - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_down <font color=#6c3e67>-command</font> {alited::tree::MoveItem down}}}
    {.fraBot.panBM.fraTree.fra1.sev2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraBot.panBM.fraTree.fra1.BuTAddT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_add <font color=#6c3e67>-command</font> alited::tree::AddItem}}
    {.fraBot.panBM.fraTree.fra1.BuTRenT - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_change <font color=#6c3e67>-command</font> {::alited::file::RenameFileInTree {<font color=#6c3e67>-geometry</font> pointer+-100+10}}}}
    {.fraBot.panBM.fraTree.fra1.BuTDelT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_delete <font color=#6c3e67>-command</font> alited::tree::DelItem}}
    {.fraBot.panBM.fraTree.fra1.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> center <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraBot.panBM.fraTree.fra1.buTCtr - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_minus <font color=#6c3e67>-command</font> {alited::tree::ExpandContractTree Tree no} <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Contract All&quot;</font>}}
    {.fraBot.panBM.fraTree.fra1.buTExp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_plus <font color=#6c3e67>-command</font> {alited::tree::ExpandContractTree Tree} <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Expand All&quot;</font>}}
    {.fraBot.panBM.fraTree.fra1.sev3 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 0}}
    {.fraBot.panBM.fraTree.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {}}
    {.fraBot.panBM.fraTree.fra.Tree - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}
      {<font color=#6c3e67>-columns</font> {L1 L2 PRL ID LEV LEAF FL1} <font color=#6c3e67>-displaycolumns</font> {L1} <font color=#6c3e67>-columnoptions</font> <font color=#7d1a1a>&quot;#0 <font color=#1b1baa>{</font>-width <font color=#1b1baa>$</font>::alited::al(TREE,cw0)<font color=#1b1baa>}</font> L1 <font color=#1b1baa>{</font>-width <font color=#1b1baa>$</font>::alited::al(TREE,cw1) -anchor e<font color=#1b1baa>}</font>&quot;</font> <font color=#6c3e67>-style</font> TreeNoHL <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-selectmode</font> extended <font color=#6c3e67>-tip</font> {alited::tree::GetTooltip %i %c}}}
    {.fraBot.panBM.fraTree.fra.SbvTree .fraBot.panBM.fraTree.fra.Tree L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> both}}
    {.FraFV - - - - {add}}
    {.fraFV.v_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-h</font> 5}}
    {.fraFV.fra1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x}}
    {.fraFV.fra1.seh - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-pady</font> 0}}
    {.fraFV.fra1.BuTVisitF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_misc <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,lastvisit)</font>} <font color=#6c3e67>-com</font> alited::favor::SwitchFavVisit}}
    {.fraFV.fra1.sev0 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraFV.fra1.BuTListF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_heart <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,FavLists)</font>} <font color=#6c3e67>-com</font> alited::favor::Lists}}
    {.fraFV.fra1.sev1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 5}}
    {.fraFV.fra1.BuTAddF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_add <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,favoradd)</font>} <font color=#6c3e67>-com</font> alited::favor::Add}}
    {.fraFV.fra1.BuTDelF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_delete <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,favordel)</font>} <font color=#6c3e67>-com</font> alited::favor::Delete}}
    {.fraFV.fra1.BuTDelAllF - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-image</font> alimg_trash <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,favordelall)</font>} <font color=#6c3e67>-com</font> alited::favor::DeleteAll}}
    {.fraFV.fra1.h_2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-anchor</font> center <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraFV.fra1.sev2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-padx</font> 0}}
    {.fraFV.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {}}
    {.fraFV.fra.TreeFavor - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-h</font> 5 <font color=#6c3e67>-style</font> TreeNoHL <font color=#6c3e67>-columns</font> {C1 C2 C3 C4} <font color=#6c3e67>-displaycolumns</font> C1 <font color=#6c3e67>-show</font> headings <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-tip</font> {alited::favor::GetTooltip %i}}}
    {.fraFV.fra.SbvFavor .fraFV.fra.TreeFavor L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
    {fra.pan.PanR - - - - {add} {<font color=#6c3e67>-orient</font> vertical <font color=#1b1baa>$alited::PanR_wh</font>}}
    {.fraTop - - - - {add}}
    {.fraTop.PanTop - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#1b1baa>$alited::PanTop_wh</font>}}
    {.fraTop.panTop.BtsBar  - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-pady</font> 3}}
    {.fraTop.panTop.GutText - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 0 <font color=#6c3e67>-fill</font> both}}
    {.fraTop.panTop.FrAText - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-background</font> <font color=#1b1baa>$::alited::FRABG</font>}}
    {.fraTop.panTop.frAText.Text - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-borderwidth</font> 1 <font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 20 <font color=#6c3e67>-gutter</font> GutText <font color=#6c3e67>-gutterwidth</font> <font color=#1b1baa>$::alited::al(ED,gutterwidth)</font> <font color=#6c3e67>-guttershift</font> <font color=#1b1baa>$::alited::al(ED,guttershift)</font> <font color=#1b1baa>$alited::al(TEXT,opts)</font>}}
    {.fraTop.panTop.fraSbv - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> y}}
    {.fraTop.panTop.fraSbv.SbvText .fraTop.panTop.frAText.text L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> y}}
    {.fraTop.FraSbh  - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-fill</font> x}}
    {.fraTop.fraSbh.SbhText .fraTop.panTop.frAText.text T - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x}}
    {.fraTop.FraHead  - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-padding</font> {4 4 4 4} <font color=#6c3e67>-relief</font> groove}}
    {.fraTop.fraHead.labFind - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;    Unit: &quot;</font>}}
    {.fraTop.fraHead.CbxFindSTD - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-tvar</font> alited::al(findunit) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$alited::al(findunitvals)</font>} <font color=#6c3e67>-w</font> 30 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$al(MC,findunit)</font>}}}
    {.fraTop.fraHead.buT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Find: &quot;</font> <font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-com</font> alited::find::DoFindUnit <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-bd</font> 0 <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-w</font> 8 <font color=#6c3e67>-anchor</font> e <font color=#6c3e67>-tip</font> {Find Unit}}}
    {.fraTop.fraHead.rad1 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-var</font> alited::main::findunits <font color=#6c3e67>-t</font> {in all} <font color=#6c3e67>-value</font> 1}}
    {.fraTop.fraHead.rad2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 4} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-var</font> alited::main::findunits <font color=#6c3e67>-t</font> {in current} <font color=#6c3e67>-value</font> 2}}
    {.fraTop.fraHead.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> x <font color=#6c3e67>-expand</font> 1}}
    {.fraTop.fraHead.buTno - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-highlightthickness</font> 0 <font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-command</font> {alited::find::HideFindUnit}}}
    {.fraBot - - - - {add}}
    {.fraBot.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {.fraBot.fra.LbxInfo - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-h</font> 1 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-lvar</font> ::alited::info::list <font color=#6c3e67>-font</font> <font color=#1b1baa>$alited::al(FONT,defsmall)</font> <font color=#6c3e67>-highlightthickness</font> 0}}
    {.fraBot.fra.sbv .fraBot.fra.LbxInfo L - - {<b><font color=#134070>pack</font></b>}}
    {.fraBot.fra.SbhInfo .fraBot.fra.LbxInfo T - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom <font color=#6c3e67>-before</font> %w}}
    {.fraBot.stat - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> bottom} {<font color=#6c3e67>-array</font> {
      {{<font color=#1b1baa>$alited::al(MC,Row:)</font>}} 13
      {{<font color=#1b1baa>$alited::al(MC,Col:)</font>}} 4
      {{} <font color=#6c3e67>-anchor</font> w <font color=#6c3e67>-expand</font> 1} 50
      {{} <font color=#6c3e67>-anchor</font> e} 21
    }}}
  }
  UpdateProjectInfo
  <i><font color=#4b5d50># there should be a pause enough for FillBar got -wbar option normally sized</font></i>
  <b><font color=#3a6797>after</font></b> 500 {<b><font color=#3a6797>after</font></b> idle alited::main::InitActions}
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obPav</font> Pan] &lt;ButtonRelease&gt; ::alited::tree::AdjustWidth
  <b><font color=#3a6797>set</font></b> sbhi [<font color=#1b1baa>$obPav</font> SbhInfo]
  <b><font color=#3a6797>set</font></b> lbxi [<font color=#1b1baa>$obPav</font> LbxInfo]
  <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$sbhi</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;FocusIn&gt; <font color=#7d1a1a>&quot;alited::info::FocusIn <font color=#1b1baa>$</font>sbhi <font color=#1b1baa>$</font>lbxi&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;FocusOut&gt; <font color=#7d1a1a>&quot;alited::info::FocusOut <font color=#1b1baa>$</font>sbhi&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;&lt;ListboxSelect&gt;&gt; {alited::info::ListboxSelect %W}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$lbxi</font> &lt;ButtonPress-3&gt; {alited::info::PopupMenu %X %Y}
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obPav</font> ToolTop] &lt;ButtonPress-3&gt; {::alited::tool::PopupBar %X %Y}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs the alited, displaying its main form with attributes 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons', 'minimal sizes' and 'saved geometry'.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<h5 class='ruff'>Description</h5><p class='ruff'>After closing the alited, saves its settings (geometry etc.).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_259' href="javascript:toggleSource('259')">Show source</a></p>
<div id='259' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::_run {} {

  <i><font color=#4b5d50># Runs the alited, displaying its main form with attributes</font></i>
  <i><font color=#4b5d50># 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons',</font></i>
  <i><font color=#4b5d50># 'minimal sizes' and 'saved geometry'.</font></i>
  <i><font color=#4b5d50>#</font></i>
  <i><font color=#4b5d50># After closing the alited, saves its settings (geometry etc.).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  ::apave::setAppIcon <font color=#1b1baa>$al(WIN)</font> <font color=#1b1baa>$::alited::img::_AL_IMG(ale)</font>
  ::apave::setProperty DirFilGeoVars [<b><font color=#3a6797>list</font></b> ::alited::DirGeometry ::alited::FilGeometry]
  <b><font color=#3a6797>set</font></b> ans [<font color=#1b1baa>$obPav</font> showModal <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-decor</font> 1 <font color=#6c3e67>-minsize</font> {500 500} <font color=#6c3e67>-escape</font> no  <font color=#6c3e67>-onclose</font> alited::Exit {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(GEOM)</font>]
  <i><font color=#4b5d50># ans==2 means 'no saves of settings' (imaginary mode)</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font> ne {2}} {alited::ini::SaveIni}
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$al(WIN)</font>
  <font color=#1b1baa>$obPav</font> destroy
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ans</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::AfterUndoRedo'>AfterUndoRedo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Actions after undo/redo.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterUndoRedo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_260' href="javascript:toggleSource('260')">Show source</a></p>
<div id='260' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::AfterUndoRedo {} {

  <i><font color=#4b5d50># Actions after undo/redo.</font></i>

  HighlightLine
  <b><font color=#3a6797>after</font></b> idle {alited::main::SaveVisitInfo ; alited::main::UpdateUnitTree}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::BindsForText'>BindsForText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets bindings for a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindsForText</span> <span class='ruff_arg'>TID wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_261' href="javascript:toggleSource('261')">Show source</a></p>
<div id='261' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::BindsForText {TID wtxt} {

  <i><font color=#4b5d50># Sets bindings for a text.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;FocusIn&gt; [<b><font color=#3a6797>list</font></b> after 500 <font color=#7d1a1a>&quot;::alited::main::FocusInText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>wtxt&quot;</font>]
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-ButtonRelease-1&gt; <font color=#7d1a1a>&quot;::alited::find::SearchUnit ; break&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-Shift-ButtonRelease-1&gt; {::alited::find::SearchWordInSession ; <b><font color=#3a6797>break</font></b>}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Control-Tab&gt; {::alited::bar::ControlTab}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Alt-BackSpace&gt; {::alited::unit::SwitchUnits ; <b><font color=#3a6797>break</font></b>}
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;ButtonRelease-1&gt; alited::main::SaveVisitInfo <font color=#1b1baa>$wtxt</font>
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;KeyRelease&gt; alited::main::SaveVisitInfo <font color=#1b1baa>$wtxt</font> %K %s
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;&lt;Undo&gt;&gt; alited::main::AfterUndoRedo
  ::apave::bindToEvent <font color=#1b1baa>$wtxt</font> &lt;&lt;Redo&gt;&gt; alited::main::AfterUndoRedo
  alited::keys::ReservedAdd <font color=#1b1baa>$wtxt</font>
  alited::keys::BindKeys <font color=#1b1baa>$wtxt</font> action
  alited::keys::BindKeys <font color=#1b1baa>$wtxt</font> template
  alited::keys::BindKeys <font color=#1b1baa>$wtxt</font> preference
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CalcIndentation'>CalcIndentation</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for &quot;Auto detection of indentation&quot; and calculates it at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CalcIndentation</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_262' href="javascript:toggleSource('262')">Show source</a></p>
<div id='262' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::CalcIndentation {} {

  <i><font color=#4b5d50># Check for &quot;Auto detection of indentation&quot; and calculates it at need.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$al(prjindent)</font> { }]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindentAuto)</font>} {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
      <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get 1.0 end] \n] {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> lsp [::apave::obj leadingSpaces <font color=#1b1baa>$line</font>]]&gt;0} {
          <i><font color=#4b5d50># check if the indentation is homogeneous</font></i>
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first [<b><font color=#3a6797>string</font></b> repeat { } <font color=#1b1baa>$lsp</font>] <font color=#1b1baa>$line</font>]==0} {
            <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lsp</font> { }]
            <b><font color=#3a6797>break</font></b>
          } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> first [<b><font color=#3a6797>string</font></b> repeat \t <font color=#1b1baa>$lsp</font>] <font color=#1b1baa>$line</font>]==0} {
            <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lsp</font> \t]
            <b><font color=#3a6797>break</font></b>
          }
        }
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CurrentWTXT'>CurrentWTXT</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current text widget's path.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentWTXT</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_263' href="javascript:toggleSource('263')">Show source</a></p>
<div id='263' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::CurrentWTXT {} {

  <i><font color=#4b5d50># Gets a current text widget's path.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> [alited::bar::GetBarState] 2]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::CursorPos'>CursorPos</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a current text's row and column in the status bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CursorPos</span> <span class='ruff_arg'>wtxt ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains a cursor position,</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_264' href="javascript:toggleSource('264')">Show source</a></p>
<div id='264' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::CursorPos {wtxt args} {

  <i><font color=#4b5d50># Displays a current text's row and column in the status bar.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   args - contains a cursor position,</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$args</font> eq {}} {<b><font color=#3a6797>set</font></b> args [<font color=#1b1baa>$wtxt</font> index {end -1 char}]}
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> index insert] .] r c
  [<font color=#1b1baa>$obPav</font> Labstat1] configure <font color=#6c3e67>-text</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>r / <font color=#1b1baa>[</font>expr <font color=#1b1baa>{</font>int(<font color=#1b1baa>[</font>lindex <font color=#1b1baa>$</font>args 0<font color=#1b1baa>]</font>)<font color=#1b1baa>}]</font>&quot;</font>
  [<font color=#1b1baa>$obPav</font> Labstat2] configure <font color=#6c3e67>-text</font> [<b><font color=#3a6797>incr</font></b> c]
  alited::tree::SaveCursorPos
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::FocusInText'>FocusInText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes <FocusIn> event on the text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusInText</span> <span class='ruff_arg'>TID wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_265' href="javascript:toggleSource('265')">Show source</a></p>
<div id='265' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::FocusInText {TID wtxt} {

  <i><font color=#4b5d50># Processes &lt;FocusIn&gt; event on the text.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {![alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>catch</font></b> {
    ::alited::main::CursorPos <font color=#1b1baa>$wtxt</font>
    [<font color=#1b1baa>$obPav</font> TreeFavor] selection set {}
    alited::file::OutwardChange <font color=#1b1baa>$TID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::FocusText'>FocusText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a focus on a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FocusText</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains tab's ID and a cursor position.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_266' href="javascript:toggleSource('266')">Show source</a></p>
<div id='266' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::FocusText {args} {

  <i><font color=#4b5d50># Sets a focus on a current text.</font></i>
  <i><font color=#4b5d50>#   args - contains tab's ID and a cursor position.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> TID pos
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {
    <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> wtxt [GetWTXT <font color=#1b1baa>$TID</font>]
  }
  <i><font color=#4b5d50># find a current unit/file in the tree</font></i>
  <b><font color=#3a6797>set</font></b> alited::tree::doFocus no
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      <i><font color=#4b5d50># search the tree for a unit with current line of text</font></i>
      <b><font color=#3a6797>set</font></b> itemID [alited::tree::CurrentItemByLine <font color=#1b1baa>$pos</font>]
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># search the tree for a current file</font></i>
      <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
      <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
      <b><font color=#3a6797>while</font></b> {1} {
        <b><font color=#3a6797>incr</font></b> iit
        <b><font color=#3a6797>set</font></b> ID [alited::tree::NewItemID <font color=#1b1baa>$iit</font>]
        <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>]} <b><font color=#3a6797>break</font></b>
        <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; tip isfile
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tip</font> eq <font color=#1b1baa>$fname</font>} {
          <b><font color=#3a6797>set</font></b> itemID <font color=#1b1baa>$ID</font>
          <b><font color=#3a6797>break</font></b>
        }
      }
    }
  }
  <i><font color=#4b5d50># display a current item of the tree</font></i>
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> ni [<font color=#1b1baa>$wtree</font> selection]} {<font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$itemID</font>}
    <b><font color=#3a6797>after</font></b> 10 alited::tree::SeeSelection
  }
  <i><font color=#4b5d50># focus on the text</font></i>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>focus</font></b> <font color=#6c3e67>-force</font> <font color=#1b1baa>$wtxt</font>}
  <b><font color=#3a6797>catch</font></b> {::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>}
  <b><font color=#3a6797>after</font></b> idle {<b><font color=#3a6797>set</font></b> ::alited::tree::doFocus yes}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GetText'>GetText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates or gets a text widget for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetText</span> <span class='ruff_arg'>TID ?doshow? ?dohighlight?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>doshow</code></code></td><td class='ruff_defitem'>flag &quot;this widget should be displayed&quot; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>dohighlight</code></code></td><td class='ruff_defitem'>flag &quot;this text should be highlighted&quot; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of: curfile (current file name), wtxt (text's path), wsbv (scrollbar's path), pos (cursor's position), doinit (flag &quot;initialized&quot;) dopack (flag &quot;packed&quot;) selrange (selected text's range)</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_267' href="javascript:toggleSource('267')">Show source</a></p>
<div id='267' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GetText {TID {doshow no} {dohighlight yes}} {

  <i><font color=#4b5d50># Creates or gets a text widget for a tab.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   doshow - flag &quot;this widget should be displayed&quot;</font></i>
  <i><font color=#4b5d50>#   dohighlight - flag &quot;this text should be highlighted&quot;</font></i>
  <i><font color=#4b5d50># Returns a list of: curfile (current file name),</font></i>
  <i><font color=#4b5d50># wtxt (text's path), wsbv (scrollbar's path),</font></i>
  <i><font color=#4b5d50># pos (cursor's position), doinit (flag &quot;initialized&quot;)</font></i>
  <i><font color=#4b5d50># dopack (flag &quot;packed&quot;)</font></i>
  <i><font color=#4b5d50># selrange (selected text's range)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> curfile [alited::bar::FileName <font color=#1b1baa>$TID</font>]
  <i><font color=#4b5d50># initial text and its scrollbar:</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obPav</font> Text]
  <b><font color=#3a6797>set</font></b> wsbv [<font color=#1b1baa>$obPav</font> SbvText]
  <i><font color=#4b5d50># get data of the current tab</font></i>
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetBarState] TIDold fileold wold1 wold2
  <b><font color=#3a6797>lassign</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-pos</font> -<font color=#6c3e67>-selection</font>] pos selrange
  <b><font color=#3a6797>set</font></b> doreload no  ;<i><font color=#4b5d50># obsolete</font></i>
  <b><font color=#3a6797>set</font></b> doinit yes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$TIDold</font> eq <font color=#7d1a1a>&quot;-1&quot;</font>} {
    ;<i><font color=#4b5d50># first text to edit in original Text widget: create its scrollbar</font></i>
    BindsForText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
    ::apave::logMessage <font color=#7d1a1a>&quot;first <font color=#1b1baa>$</font>curfile&quot;</font>
  } <b><font color=#3a6797>elseif</font></b> {[GetWTXT <font color=#1b1baa>$TID</font>] ne {}} {
    <i><font color=#4b5d50># edited text: get its widgets' data</font></i>
    <b><font color=#3a6797>lassign</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-wtxt</font> -<font color=#6c3e67>-wsbv</font>] wtxt wsbv
    <b><font color=#3a6797>set</font></b> doinit no
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># till now, not edited text: create its own Text/SbvText widgets</font></i>
    <b><font color=#3a6797>append</font></b> wtxt <font color=#7d1a1a>&quot;_<font color=#1b1baa>$</font>TID&quot;</font>  ;<i><font color=#4b5d50># new text</font></i>
    <b><font color=#3a6797>append</font></b> wsbv <font color=#7d1a1a>&quot;_<font color=#1b1baa>$</font>TID&quot;</font>  ;<i><font color=#4b5d50># new scrollbar</font></i>
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos</font>]} {<b><font color=#3a6797>set</font></b> pos 1.0}
  <i><font color=#4b5d50># check for previous text and hide it, if it's not the selected one</font></i>
  <b><font color=#3a6797>set</font></b> dopack [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$TID</font> ne <font color=#1b1baa>$TIDold</font>}]
  alited::bar::SetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-fname</font> <font color=#1b1baa>$curfile</font> -<font color=#6c3e67>-wtxt</font> <font color=#1b1baa>$wtxt</font> -<font color=#6c3e67>-wsbv</font> <font color=#1b1baa>$wsbv</font>
  <i><font color=#4b5d50># create the text and the scrollbar if new</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$wtxt</font>]} {
    <b><font color=#3a6797>lassign</font></b> [GutterAttrs] canvas width shift
    <b><font color=#3a6797>set</font></b> texopts [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$obPav</font> defaultAttrs tex] 1]
    <b><font color=#3a6797>lassign</font></b> [::apave::extractOptions texopts <font color=#6c3e67>-selborderwidth</font> 1] selbw
    <b><font color=#134070>text</font></b> <font color=#1b1baa>$wtxt</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$texopts</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(TEXT,opts)</font>
    <font color=#1b1baa>$wtxt</font> tag configure sel <font color=#6c3e67>-borderwidth</font> <font color=#1b1baa>$selbw</font>
    <font color=#1b1baa>$obPav</font> themeNonThemed [<b><font color=#134070>winfo</font></b> parent <font color=#1b1baa>$wtxt</font>]
    <b><font color=#3a6797>set</font></b> bind [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$obPav</font> fillGutter <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$canvas</font> <font color=#1b1baa>$width</font> <font color=#1b1baa>$shift</font>]
    <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;Configure&gt; <font color=#1b1baa>$bind</font>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>trace</font></b> info execution <font color=#1b1baa>$wtxt</font>] eq {}} {
      <b><font color=#3a6797>trace</font></b> add execution <font color=#1b1baa>$wtxt</font> leave <font color=#1b1baa>$bind</font>
    }
    <b><font color=#134070>ttk::scrollbar</font></b> <font color=#1b1baa>$wsbv</font> <font color=#6c3e67>-orient</font> vertical <font color=#6c3e67>-takefocus</font> 0
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-yscrollcommand</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>wsbv set&quot;</font>
    <font color=#1b1baa>$wsbv</font> configure <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>wtxt yview&quot;</font>
    BindsForText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtxt</font>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$wold1</font>]} {
    <i><font color=#4b5d50># previous text: save its state</font></i>
    alited::bar::SetTabState <font color=#1b1baa>$TIDold</font> -<font color=#6c3e67>-pos</font> [<font color=#1b1baa>$wold1</font> index insert] -<font color=#6c3e67>-selection</font> [<font color=#1b1baa>$wold1</font> tag ranges sel]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dopack</font> && <font color=#1b1baa>$doshow</font>} {
      <i><font color=#4b5d50># hide both previous</font></i>
      <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$wold1</font>  ;<i><font color=#4b5d50># a text</font></i>
      <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$wold2</font>  ;<i><font color=#4b5d50># a scrollbar</font></i>
      <b><font color=#3a6797>after</font></b> idle update
    }
  }
  <i><font color=#4b5d50># show the selected text</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doshow</font>} {
    alited::bar::SetBarState [alited::bar::CurrentTabID] <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wsbv</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doinit</font>} {
    <i><font color=#4b5d50># if the file isn't read yet, read it and initialize its highlighting</font></i>
    alited::file::DisplayFile <font color=#1b1baa>$TID</font> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$doreload</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doshow</font>} {
      HighlightText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::MakeThemHighlighted <font color=#1b1baa>$TID</font>  ;<i><font color=#4b5d50># postpone the highlighting till a show</font></i>
    }
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$dohighlight</font> && [alited::file::ToBeHighlighted <font color=#1b1baa>$wtxt</font>]} {
    HighlightText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} alited::tree::RecreateTree
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$curfile</font> <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wsbv</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$doinit</font> <font color=#1b1baa>$dopack</font> <font color=#1b1baa>$selrange</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GetWTXT'>GetWTXT</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a text widget's path of a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetWTXT</span> <span class='ruff_arg'>TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>ID of the tab</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_268' href="javascript:toggleSource('268')">Show source</a></p>
<div id='268' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GetWTXT {TID} {

  <i><font color=#4b5d50># Gets a text widget's path of a tab.</font></i>
  <i><font color=#4b5d50>#   TID - ID of the tab</font></i>

  <b><font color=#ca14ca>return</font></b> [alited::bar::GetTabState <font color=#1b1baa>$TID</font> -<font color=#6c3e67>-wtxt</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GotoBracket'>GotoBracket</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GotoBracket</span> <span class='ruff_arg'>?frommenu?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>frommenu</code></code></td><td class='ruff_defitem'>yes, if run from a menu; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_269' href="javascript:toggleSource('269')">Show source</a></p>
<div id='269' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GotoBracket {{frommenu no}} {

  <i><font color=#4b5d50># Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.</font></i>
  <i><font color=#4b5d50>#   frommenu - yes, if run from a menu</font></i>

  <i><font color=#4b5d50># search a pair for a bracket highlighted</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>set</font></b> tagged [<font color=#1b1baa>$wtxt</font> tag ranges tagBRACKET]]]==4} {
    <b><font color=#3a6797>set</font></b> p [<font color=#1b1baa>$wtxt</font> index insert]
    <b><font color=#3a6797>set</font></b> p1 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>p +1c&quot;</font>]
    <b><font color=#3a6797>set</font></b> p2 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>p -1c&quot;</font>]
    <b><font color=#3a6797>foreach</font></b> {pos1 pos2} <font color=#1b1baa>$tagged</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> -]==2 || (<font color=#1b1baa>$pos1</font>!=<font color=#1b1baa>$p</font> && <font color=#1b1baa>$pos1</font>!=<font color=#1b1baa>$p1</font> && <font color=#1b1baa>$pos1</font>!=<font color=#1b1baa>$p2</font>)} {
        alited::main::FocusText [alited::bar::CurrentTabID] <font color=#1b1baa>$pos1</font>
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$frommenu</font>} SaveVisitInfo
        <b><font color=#3a6797>break</font></b>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GotoLine'>GotoLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes Ctrl+G keypressing: &quot;go to a line&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GotoLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_270' href="javascript:toggleSource('270')">Show source</a></p>
<div id='270' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GotoLine {} {

  <i><font color=#4b5d50># Processes Ctrl+G keypressing: &quot;go to a line&quot;.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> head [msgcat::mc {Go to Line}]
  <b><font color=#3a6797>set</font></b> prompt1 [msgcat::mc {Line number:}]
  <b><font color=#3a6797>set</font></b> prompt2 [msgcat::mc {    In unit:}]
  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>set</font></b> ln 1 ;<i><font color=#4b5d50>#[expr {int([$wtxt index insert])}]</font></i>
  <b><font color=#3a6797>set</font></b> lmax [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;end -1c&quot;</font>])}]
  <b><font color=#3a6797>set</font></b> units [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font> && [<b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$title</font>]] ne {}} {
      <b><font color=#3a6797>lappend</font></b> units <font color=#1b1baa>$title</font>
    }
  }
  <b><font color=#3a6797>set</font></b> ::alited::main::gotoline2 [<b><font color=#3a6797>linsert</font></b> [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$units</font>] 0 {}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::alited::main::gotolineTID</font> ne <font color=#1b1baa>$TID</font>} {
    <b><font color=#3a6797>set</font></b> ::alited::main::gotoline1 {}
    <b><font color=#3a6797>set</font></b> ::alited::main::gotolineTID <font color=#1b1baa>$TID</font>
  }
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$head</font> [<b><font color=#3a6797>list</font></b>  spx <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>prompt1<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 6 -justify center -from 1 -to <font color=#1b1baa>$</font>lmax -selected yes<font color=#1b1baa>}</font>&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>ln<font color=#1b1baa>}</font>&quot;</font>  cbx <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>prompt2<font color=#1b1baa>}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-tvar ::alited::main::gotoline1 -state readonly -h 16 -w 20<font color=#1b1baa>}</font>&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>::alited::main::gotoline1<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>::alited::main::gotoline2&quot;</font>  ]] res ln unit
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> ::alited::main::gotoline1 <font color=#1b1baa>$unit</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$unit</font> ne {}} {
      <i><font color=#4b5d50># for a chosen unit - a relative line number</font></i>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 3 <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$unit</font>]] &gt;- 1} {
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$it</font>] lev leaf fl1 title l1 l2
        <b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>
        <b><font color=#3a6797>set</font></b> fst 1
        <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end] \n] {
          <i><font color=#4b5d50># gentlemen, use \ for continuation of long lines & strings!</font></i>
          <b><font color=#3a6797>set</font></b> continued [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> end] eq <font color=#7d1a1a>&quot;\\&quot;</font>}]
          <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$continued</font> || <font color=#1b1baa>$fst</font>} {
            <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fst</font>} {
              <b><font color=#3a6797>set</font></b> l <font color=#1b1baa>$l1</font>
              <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> ln -1]&lt;1} break
            }
            <b><font color=#3a6797>set</font></b> fst [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$continued</font>}]
          }
          <b><font color=#3a6797>incr</font></b> l1
        }
        <b><font color=#3a6797>set</font></b> ln <font color=#1b1baa>$l</font>
      }
    }
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;  alited::main::FocusText <font color=#1b1baa>$</font>TID <font color=#1b1baa>$</font>ln.0 ;  alited::tree::NewSelection <font color=#1b1baa>{}</font> <font color=#1b1baa>$</font>ln.0 yes&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::GutterAttrs'>GutterAttrs</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns list of gutter's data (canvas widget, width, shift)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GutterAttrs</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns list of gutter's data (canvas widget, width, shift)</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_271' href="javascript:toggleSource('271')">Show source</a></p>
<div id='271' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::GutterAttrs {} {

  <i><font color=#4b5d50># Returns list of gutter's data (canvas widget, width, shift)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> [<font color=#1b1baa>$obPav</font> GutText] <font color=#1b1baa>$al(ED,gutterwidth)</font> <font color=#1b1baa>$al(ED,guttershift)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::HighlightLine'>HighlightLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a current line of a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_272' href="javascript:toggleSource('272')">Show source</a></p>
<div id='272' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::HighlightLine {} {

  <i><font color=#4b5d50># Highlights a current line of a current text.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {[alited::file::IsClang [alited::bar::FileName]]} {
    ::hl_c::hl_line <font color=#1b1baa>$wtxt</font>
  } <b><font color=#3a6797>else</font></b> {
    ::hl_tcl::hl_line <font color=#1b1baa>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::HighlightText'>HighlightText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a file's syntax constructs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HighlightText</span> <span class='ruff_arg'>TID curfile wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>curfile</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Depending on a file name, Tcl or C highlighter is called.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_273' href="javascript:toggleSource('273')">Show source</a></p>
<div id='273' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::HighlightText {TID curfile wtxt} {

  <i><font color=#4b5d50># Highlights a file's syntax constructs.</font></i>
  <i><font color=#4b5d50>#   TID - tab's ID</font></i>
  <i><font color=#4b5d50>#   curfile - file name</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50># Depending on a file name, Tcl or C highlighter is called.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># the language (Tcl or C) is defined by the file's extension</font></i>
  <b><font color=#3a6797>set</font></b> ext [<b><font color=#3a6797>string</font></b> tolower [<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$curfile</font>]]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(HL,<font color=#1b1baa>$wtxt</font>)] || <font color=#1b1baa>$al(HL,$wtxt)</font> ne <font color=#1b1baa>$ext</font>} {
    <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
    <b><font color=#3a6797>set</font></b> clrCURL [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$obPav</font> csGet] 16]
    <i><font color=#4b5d50># get a color list for the highlighting Tcl and C</font></i>
    <b><font color=#3a6797>foreach</font></b> lng {{} C} {
      <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> {
        <b><font color=#3a6797>lappend</font></b> <font color=#7d1a1a>&quot;<font color=#1b1baa>${</font>lng<font color=#1b1baa>}</font>colors&quot;</font> <font color=#1b1baa>$al(ED,${lng}$nam)</font>
      }
      <b><font color=#3a6797>lappend</font></b> <font color=#7d1a1a>&quot;<font color=#1b1baa>${</font>lng<font color=#1b1baa>}</font>colors&quot;</font> <font color=#1b1baa>$clrCURL</font>
    }
    <b><font color=#3a6797>if</font></b> {[alited::file::IsClang <font color=#1b1baa>$curfile</font>]} {
      ::hl_c::hl_init <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obPav</font> csDark]  <font color=#6c3e67>-multiline</font> 1 <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$al(ED,CKeyWords)</font>  <font color=#6c3e67>-cmd</font> <font color=#7d1a1a>&quot;::alited::edit::Modified <font color=#1b1baa>$</font>TID&quot;</font>  <font color=#6c3e67>-cmdpos</font> ::alited::main::CursorPos  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-colors</font> <font color=#1b1baa>$Ccolors</font>  <font color=#6c3e67>-insertwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>
    } <b><font color=#3a6797>else</font></b> {
      ::hl_tcl::hl_init <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obPav</font> csDark]  <font color=#6c3e67>-multiline</font> <font color=#1b1baa>$al(prjmultiline)</font> <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$al(ED,TclKeyWords)</font>  <font color=#6c3e67>-cmd</font> <font color=#7d1a1a>&quot;::alited::edit::Modified <font color=#1b1baa>$</font>TID&quot;</font>  <font color=#6c3e67>-cmdpos</font> ::alited::main::CursorPos  <font color=#6c3e67>-plaintext</font> [<b><font color=#3a6797>expr</font></b> {![alited::file::IsTcl <font color=#1b1baa>$curfile</font>]}]  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-colors</font> <font color=#1b1baa>$colors</font>  <font color=#6c3e67>-insertwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>
    }
    UpdateText <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$curfile</font>
  }
  <b><font color=#3a6797>set</font></b> al(HL,<font color=#1b1baa>$wtxt</font>) <font color=#1b1baa>$ext</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::InitActions'>InitActions</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes working with a main form of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitActions</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_274' href="javascript:toggleSource('274')">Show source</a></p>
<div id='274' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::InitActions {} {

  <i><font color=#4b5d50># Initializes working with a main form of alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  alited::bar::FillBar [<font color=#1b1baa>$obPav</font> BtsBar]
  <i><font color=#4b5d50># check for reminders of the past</font></i>
  <b><font color=#3a6797>set</font></b> rems [alited::project::ReadRems <font color=#1b1baa>$al(prjname)</font>]
  <b><font color=#3a6797>lassign</font></b> [alited::project::SortRems <font color=#1b1baa>$rems</font>] dmin
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dmin</font> && <font color=#1b1baa>$dmin</font>&lt;[<b><font color=#3a6797>clock</font></b> seconds]} {
    alited::project::_run
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::InsertLine'>InsertLine</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts a new line into a text, attentive to a previous line's indentation.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertLine</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_275' href="javascript:toggleSource('275')">Show source</a></p>
<div id='275' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::InsertLine {} {

  <i><font color=#4b5d50># Puts a new line into a text, attentive to a previous line's indentation.</font></i>

  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>set</font></b> ln [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ln</font>==1} {
    <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$ln</font>.0 \n
    <b><font color=#3a6797>set</font></b> pos 1.0
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> ln0 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$ln</font>-1}]
    <b><font color=#3a6797>set</font></b> line [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$ln0</font>.0 <font color=#1b1baa>$ln0</font>.end]
    <b><font color=#3a6797>set</font></b> leadsp [::apave::obj leadingSpaces <font color=#1b1baa>$line</font>]
    <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$ln</font>.0 <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>string repeat <font color=#1b1baa>{</font> <font color=#1b1baa>}</font> <font color=#1b1baa>$</font>leadsp<font color=#1b1baa>]</font>\n&quot;</font>
    <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$ln</font>.<font color=#1b1baa>$leadsp</font>
  }
  ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::PackTextWidgets'>PackTextWidgets</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Packs a text and its scrollbar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PackTextWidgets</span> <span class='ruff_arg'>wtxt wsbv</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wsbv</code></code></td><td class='ruff_defitem'>scrollbar widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_276' href="javascript:toggleSource('276')">Show source</a></p>
<div id='276' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::PackTextWidgets {wtxt wsbv} {

  <i><font color=#4b5d50># Packs a text and its scrollbar.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   wsbv - scrollbar widget's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wtxt</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both
  <b><font color=#134070>pack</font></b> <font color=#1b1baa>$wsbv</font> <font color=#6c3e67>-fill</font> y <font color=#6c3e67>-expand</font> 1
  <b><font color=#3a6797>lassign</font></b> [GutterAttrs] canvas width shift
  <i><font color=#4b5d50># widgets created outside apave require the theming:</font></i>
  <font color=#1b1baa>$obPav</font> csSet [<font color=#1b1baa>$obPav</font> csCurrent] <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-doit</font>
  <font color=#1b1baa>$obPav</font> fillGutter <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$canvas</font> <font color=#1b1baa>$width</font> <font color=#1b1baa>$shift</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::SaveVisitInfo'>SaveVisitInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Remembers data about current unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveVisitInfo</span> <span class='ruff_arg'>?wtxt? ?K? ?s?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>K</code></code></td><td class='ruff_defitem'>key pressed (to check keypressings); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>key's state; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_277' href="javascript:toggleSource('277')">Show source</a></p>
<div id='277' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::SaveVisitInfo {{wtxt {}} {K {}} {s 0}} {

  <i><font color=#4b5d50># Remembers data about current unit.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   K - key pressed (to check keypressings)</font></i>
  <i><font color=#4b5d50>#   s - key's state</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <i><font color=#4b5d50># only for unit tree and not navigation key and not Alt/Ctrl pressed</font></i>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font> || (<font color=#1b1baa>$s</font>!=0 && <font color=#1b1baa>$s</font>!=1 && <font color=#1b1baa>$s</font>!=8) ||  (<font color=#1b1baa>$K</font> in {Up Down Left Right Next Prior Home End} && <font color=#1b1baa>$s</font>!=8)} {
    <b><font color=#ca14ca>return</font></b>
  }
  <i><font color=#4b5d50># check for current text and current unit's lines</font></i>
  <b><font color=#3a6797>set</font></b> wcur [CurrentWTXT]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
    <b><font color=#3a6797>set</font></b> wtxt <font color=#1b1baa>$wcur</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$wtxt</font> ne <font color=#1b1baa>$wcur</font>} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine <font color=#1b1baa>$pos</font> 1] itemID - - - name l1
  <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font>]
  <b><font color=#3a6797>set</font></b> gokeys [<b><font color=#3a6797>list</font></b> {}]
  <b><font color=#3a6797>foreach</font></b> gk {F3 AltQ AltW} {
    <b><font color=#3a6797>lappend</font></b> gokeys {<b><font color=#3a6797>*</font></b>}[apave::getTextHotkeys <font color=#1b1baa>$gk</font>]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$K</font> in <font color=#1b1baa>$gokeys</font> || <font color=#1b1baa>$s</font>==8} {
    <b><font color=#3a6797>set</font></b> l1 -1 ;<i><font color=#4b5d50># to avoid a unit's name spawned in last visits at its change</font></i>
  }
  alited::favor::LastVisited [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itemID</font>] <font color=#1b1baa>$header</font> <font color=#1b1baa>$l1</font>
  <b><font color=#3a6797>set</font></b> selID [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selID</font>]&lt;2 && <font color=#1b1baa>$selID</font> ne <font color=#1b1baa>$itemID</font>} {
    <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$itemID</font>
    <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$itemID</font>
    <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
  }
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$name</font> eq [alited::tree::UnitTitle <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]} {
      <b><font color=#3a6797>set</font></b> al(CPOS,<font color=#1b1baa>$TID</font>,<font color=#1b1baa>$header</font>) [alited::p+ <font color=#1b1baa>$pos</font> -<font color=#1b1baa>$l1</font>]
      <b><font color=#3a6797>break</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ShowHeader'>ShowHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a file's name and modification flag (*) in alited's title.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowHeader</span> <span class='ruff_arg'>?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, displays unconditionally; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>doit</em> is <em>no</em>, displays only at changing a file name or a flag.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_278' href="javascript:toggleSource('278')">Show source</a></p>
<div id='278' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::ShowHeader {{doit no}} {

  <i><font color=#4b5d50># Displays a file's name and modification flag (*) in alited's title.</font></i>
  <i><font color=#4b5d50>#   doit - if yes, displays unconditionally.</font></i>
  <i><font color=#4b5d50># If *doit* is *no*, displays only at changing a file name or a flag.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[alited::file::IsModified]} {<b><font color=#3a6797>set</font></b> modif <font color=#7d1a1a>&quot;*&quot;</font>} {<b><font color=#3a6797>set</font></b> modif <font color=#7d1a1a>&quot; &quot;</font>}
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font> || <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>modif<font color=#1b1baa>$</font>TID&quot;</font> ne [alited::bar::BAR cget <font color=#6c3e67>-ALmodif</font>]} {
    alited::bar::BAR configure <font color=#6c3e67>-ALmodif</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>modif<font color=#1b1baa>$</font>TID&quot;</font>
    <b><font color=#3a6797>set</font></b> f [alited::bar::CurrentTab 1]
    <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>file</font></b> normalize [<b><font color=#3a6797>file</font></b> dirname [alited::bar::CurrentTab 2]]]
    <b><font color=#3a6797>set</font></b> ttl [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$f</font> %d <font color=#1b1baa>$d</font> %p <font color=#1b1baa>$al(prjname)</font>] <font color=#1b1baa>$al(TITLE)</font>]
    <b><font color=#134070>wm</font></b> title <font color=#1b1baa>$al(WIN)</font> [<b><font color=#3a6797>string</font></b> trim <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>modif<font color=#1b1baa>$</font>ttl&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::ShowText'>ShowText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowText</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_279' href="javascript:toggleSource('279')">Show source</a></p>
<div id='279' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::ShowText {} {

  <i><font color=#4b5d50># Displays a current text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>lassign</font></b> [GetText <font color=#1b1baa>$TID</font> yes] curfile wtxt wsbv pos doinit dopack selrange
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dopack</font>} {
    PackTextWidgets <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$wsbv</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doinit</font> || <font color=#1b1baa>$dopack</font>} {
    <i><font color=#4b5d50># for newly displayed text: create also its unit tree</font></i>
    <b><font color=#3a6797>set</font></b> al(TREE,units) no
    alited::tree::Create
  }
  FocusText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> itemID [alited::tree::NewSelection]] ne {}} {
    <i><font color=#4b5d50># if a new unit is selected, show it in the unit tree</font></i>
    [<font color=#1b1baa>$obPav</font> Tree] see <font color=#1b1baa>$itemID</font>
  }
  <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtxt</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selrange</font> ne {}} {
    <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtxt</font> tag add sel {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$selrange</font>}
  }
  <i><font color=#4b5d50># update &quot;File&quot; menu and app's header</font></i>
  alited::menu::CheckMenuItems
  ShowHeader
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateAll'>UpdateAll</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates tree, text and gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateAll</span> <span class='ruff_arg'>?headers?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>headers of all selected units; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_280' href="javascript:toggleSource('280')">Show source</a></p>
<div id='280' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateAll {{headers {}}} {

  <i><font color=#4b5d50># Updates tree, text and gutter.</font></i>
  <i><font color=#4b5d50>#   headers - headers of all selected units</font></i>

  alited::tree::RecreateTree {} <font color=#1b1baa>$headers</font>
  UpdateTextGutter
  HighlightLine
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateGutter'>UpdateGutter</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws the gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateGutter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_281' href="javascript:toggleSource('281')">Show source</a></p>
<div id='281' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateGutter {} {

  <i><font color=#4b5d50># Redraws the gutter.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]
  <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after 0 <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>obPav fillGutter <font color=#1b1baa>$</font>wtxt&quot;</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateProjectInfo'>UpdateProjectInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a project settings in the status bar.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateProjectInfo</span> <span class='ruff_arg'>?indent?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>indent</code></code></td><td class='ruff_defitem'>indentation calculated for a text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_282' href="javascript:toggleSource('282')">Show source</a></p>
<div id='282' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateProjectInfo {{indent {}}} {

  <i><font color=#4b5d50># Displays a project settings in the status bar.</font></i>
  <i><font color=#4b5d50>#   indent - indentation calculated for a text</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjroot)</font> ne {}} {<b><font color=#3a6797>set</font></b> stsw normal} {<b><font color=#3a6797>set</font></b> stsw disabled}
  [<font color=#1b1baa>$obPav</font> BuTswitch] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$stsw</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> eol <font color=#1b1baa>$al(prjEOL)</font>] eq {}} {<b><font color=#3a6797>set</font></b> eol auto}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$indent</font> eq {}} {<b><font color=#3a6797>set</font></b> indent [<b><font color=#3a6797>lindex</font></b> [CalcIndentation] 0]}
  <b><font color=#3a6797>set</font></b> info <font color=#7d1a1a>&quot;eol=<font color=#1b1baa>$</font>eol, <font color=#1b1baa>[</font>msgcat::mc ind<font color=#1b1baa>]</font>=<font color=#1b1baa>$</font>indent&quot;</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindentAuto)</font>} {<b><font color=#3a6797>append</font></b> info /auto}
  [<font color=#1b1baa>$obPav</font> Labstat4] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$info</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateText'>UpdateText</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateText</span> <span class='ruff_arg'>?wtxt? ?curfile?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>the text widget's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>curfile</code></code></td><td class='ruff_defitem'>file name of the text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_283' href="javascript:toggleSource('283')">Show source</a></p>
<div id='283' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateText {{wtxt {}} {curfile {}}} {

  <i><font color=#4b5d50># Redraws a text.</font></i>
  <i><font color=#4b5d50>#   wtxt - the text widget's path</font></i>
  <i><font color=#4b5d50>#   curfile - file name of the text</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {<b><font color=#3a6797>set</font></b> wtxt [CurrentWTXT]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curfile</font> eq {}} {<b><font color=#3a6797>set</font></b> curfile [alited::bar::FileName]}
  <b><font color=#3a6797>if</font></b> {[alited::file::IsClang <font color=#1b1baa>$curfile</font>]} {
    ::hl_c::hl_text <font color=#1b1baa>$wtxt</font>
  } <b><font color=#3a6797>else</font></b> {
    ::hl_tcl::hl_text <font color=#1b1baa>$wtxt</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateTextGutter'>UpdateTextGutter</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws both a text and a gutter.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTextGutter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_284' href="javascript:toggleSource('284')">Show source</a></p>
<div id='284' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateTextGutter {} {

  <i><font color=#4b5d50># Redraws both a text and a gutter.</font></i>

  UpdateGutter
  UpdateText
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateTextGutterTree'>UpdateTextGutterTree</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates after replacements: text, gutter, unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTextGutterTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_285' href="javascript:toggleSource('285')">Show source</a></p>
<div id='285' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateTextGutterTree {} {

  <i><font color=#4b5d50># Updates after replacements: text, gutter, unit tree.</font></i>

  UpdateTextGutter
  UpdateUnitTree
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::main::UpdateUnitTree'>UpdateUnitTree</a><span class='ns_scope'> [<a href="alited.html#::alited::main" title="::alited::main" class='ruff_cmd'>::alited::main</a>]</span><span class='tinylink'><a href='alited.html#::alited::main'>main</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redraws unit tree at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateUnitTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_286' href="javascript:toggleSource('286')">Show source</a></p>
<div id='286' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::main::UpdateUnitTree {} {

  <i><font color=#4b5d50># Redraws unit tree at need.</font></i>

  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$alited::al(TREE,isunits)</font> && [alited::file::IsUnitFile <font color=#1b1baa>$fname</font>]} {
    alited::tree::RecreateTree
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::menu'></a>::alited::menu<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::menu-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::menu::CheckMenuItems'>CheckMenuItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Disables/enables &quot;File/Close All...&quot; menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckMenuItems</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_287' href="javascript:toggleSource('287')">Show source</a></p>
<div id='287' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::CheckMenuItems {} {

  <i><font color=#4b5d50># Disables/enables &quot;File/Close All...&quot; menu items.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>foreach</font></b> idx {9 10 11} {
    <b><font color=#3a6797>if</font></b> {[alited::bar::BAR isTab <font color=#1b1baa>$TID</font>]} {
      <b><font color=#3a6797>set</font></b> dsbl [alited::bar::BAR checkDisabledMenu <font color=#1b1baa>$al(BID)</font> <font color=#1b1baa>$TID</font> [<b><font color=#3a6797>incr</font></b> item]]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> dsbl yes
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dsbl</font>} {
      <b><font color=#3a6797>set</font></b> state <font color=#7d1a1a>&quot;-state disabled&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> state <font color=#7d1a1a>&quot;-state normal&quot;</font>
    }
    <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure <font color=#1b1baa>$idx</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$state</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::CheckPrjItems'>CheckPrjItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for states of menu items related to projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckPrjItems</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_288' href="javascript:toggleSource('288')">Show source</a></p>
<div id='288' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::CheckPrjItems {} {

  <i><font color=#4b5d50># Checks for states of menu items related to projects.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(_check_menu_state_)] || <font color=#1b1baa>$al(_check_menu_state_)</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjtrailwhite)</font>} {<b><font color=#3a6797>set</font></b> state disabled} {<b><font color=#3a6797>set</font></b> state normal}
    <font color=#1b1baa>$al(MENUEDIT)</font> entryconfigure 11 <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
    <b><font color=#3a6797>set</font></b> al(_check_menu_state_) 0
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillMenu'>FillMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Populates alited's main menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillMenu</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_289' href="javascript:toggleSource('289')">Show source</a></p>
<div id='289' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FillMenu {} {

    <i><font color=#4b5d50># Populates alited's main menu.</font></i>

    <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
    <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num  em_sep em_sep em_ico em_ico em_inf em_inf em_mnu em_mnu

    <i><font color=#4b5d50>## ________________________ File _________________________ ##</font></i>
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(MENUFILE) <font color=#1b1baa>$al(WIN)</font>.menu.file]
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,new)</font> <font color=#6c3e67>-command</font> alited::file::NewFile <font color=#6c3e67>-accelerator</font> Ctrl+N
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,open...)</font> <font color=#6c3e67>-command</font> alited::file::OpenFile <font color=#6c3e67>-accelerator</font> Ctrl+O
    <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.recentfiles <font color=#6c3e67>-tearoff</font> 0
    <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font>  [msgcat::mc <font color=#7d1a1a>&quot;Recent Files&quot;</font>] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.recentfiles
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,save)</font> <font color=#6c3e67>-command</font> alited::file::SaveFile <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_0)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,saveas...)</font> <font color=#6c3e67>-command</font> alited::file::SaveFileAs <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_1)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,saveall)</font> <font color=#6c3e67>-command</font> alited::file::SaveAll <font color=#6c3e67>-accelerator</font> Ctrl+Shift+S
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,close)</font> <font color=#6c3e67>-command</font> alited::file::CloseFileMenu
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,clall)</font> <font color=#6c3e67>-command</font> {alited::file::CloseAll 1}
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,clallleft)</font> <font color=#6c3e67>-command</font> {alited::file::CloseAll 2}
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,clallright)</font> <font color=#6c3e67>-command</font> {alited::file::CloseAll 3}
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,restart)</font> <font color=#6c3e67>-command</font> {alited::Exit - 1 no}
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,quit)</font> <font color=#6c3e67>-command</font> {alited::Exit - 0 no}

    <i><font color=#4b5d50>## ________________________ Edit _________________________ ##</font></i>
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(MENUEDIT) <font color=#1b1baa>$al(WIN)</font>.menu.edit]
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,moveupU)</font> <font color=#6c3e67>-command</font> {alited::tree::MoveItem up yes} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_15)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,movedownU)</font> <font color=#6c3e67>-command</font> {alited::tree::MoveItem down yes} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_16)</font>
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,indent)</font> <font color=#6c3e67>-command</font> alited::edit::Indent <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_6)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,unindent)</font> <font color=#6c3e67>-command</font> alited::edit::UnIndent <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_7)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Correct Indentation}] <font color=#6c3e67>-command</font> alited::edit::NormIndent
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,comment)</font> <font color=#6c3e67>-command</font> alited::edit::Comment <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_8)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,uncomment)</font> <font color=#6c3e67>-command</font> alited::edit::UnComment <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_9)</font>
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Put New Line}] <font color=#6c3e67>-command</font> alited::main::InsertLine <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_18)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Remove Trailing Whitespaces}] <font color=#6c3e67>-command</font> alited::edit::RemoveTrailWhites

      <i><font color=#4b5d50>### ________________________ Conversions _________________________ ###</font></i>
  <i><font color=#4b5d50>#  $m add separator</font></i>
  <i><font color=#4b5d50>#  menu $m.convert -tearoff 0</font></i>
  <i><font color=#4b5d50>#  $m add cascade -label [msgcat::mc Conversions] -menu $m.convert</font></i>
  <i><font color=#4b5d50>#  $m.convert add command -label [msgcat::mc {Change Encoding...}] -command alited::edit::ChangeEncoding</font></i>
  <i><font color=#4b5d50>#  $m.convert add command -label [msgcat::mc {Change EOL...}] -command alited::edit::ChangeEOL</font></i>

    <i><font color=#4b5d50>## ________________________ Search _________________________ ##</font></i>
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(SEARCH) <font color=#1b1baa>$al(WIN)</font>.menu.search]
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,findreplace)</font> <font color=#6c3e67>-command</font> alited::find::_run <font color=#6c3e67>-accelerator</font> Ctrl+F
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,findnext)</font> <font color=#6c3e67>-command</font> {alited::find::Next ; <b><font color=#3a6797>after</font></b> idle alited::main::SaveVisitInfo} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_12)</font>
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Look for Declaration}] <font color=#6c3e67>-command</font> alited::find::SearchUnit <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_13)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Look for Word}] <font color=#6c3e67>-command</font> alited::find::SearchWordInSession <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_14)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Find Unit}] <font color=#6c3e67>-command</font> alited::find::FindUnit <font color=#6c3e67>-accelerator</font> Ctrl+Shift+F
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Find by List}] <font color=#6c3e67>-command</font> alited::find::SearchByList
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {To Last Visited}] <font color=#6c3e67>-command</font> alited::unit::SwitchUnits <font color=#6c3e67>-accelerator</font> Alt+BackSpace
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {To Matched Bracket}] <font color=#6c3e67>-command</font> {alited::main::GotoBracket yes} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_20)</font>
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Go to Line}] <font color=#6c3e67>-command</font> alited::main::GotoLine <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_17)</font>

    <i><font color=#4b5d50>## ________________________ Tools _________________________ ##</font></i>
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(TOOLS) <font color=#1b1baa>$al(WIN)</font>.menu.tool]
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,run)</font> <font color=#6c3e67>-command</font> alited::tool::_run <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_3)</font>
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> e_menu <font color=#6c3e67>-command</font> {alited::tool::e_menu o=0} <font color=#6c3e67>-accelerator</font> <font color=#1b1baa>$al(acc_2)</font>

      <i><font color=#4b5d50>### ________________________ Runs _________________________ ###</font></i>
    <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> emwas 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_ico(<font color=#1b1baa>$i</font>)] && (<font color=#1b1baa>$em_mnu($i)</font> ne {} || <font color=#1b1baa>$em_sep($i)</font>)} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>incr</font></b> emwas]==1} {
          <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.runs <font color=#6c3e67>-tearoff</font> 0
          <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> bar/menu <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.runs
        }
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_sep($i)</font>} {
          <font color=#1b1baa>$m</font>.runs add separator
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> txt <font color=#1b1baa>$em_mnu($i)</font>
          <font color=#1b1baa>$m</font>.runs add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$txt</font> <font color=#6c3e67>-command</font> [alited::tool::EM_command <font color=#1b1baa>$i</font>]
        }
      }
    }
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> tkcon <font color=#6c3e67>-command</font> alited::tool::tkcon

      <i><font color=#4b5d50>### ________________________ Other tools _________________________ ###</font></i>
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,checktcl)</font> <font color=#6c3e67>-command</font> alited::CheckRun
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,colorpicker)</font> <font color=#6c3e67>-command</font> alited::tool::ColorPicker
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Screen Loupe}] <font color=#6c3e67>-command</font> alited::tool::Loupe
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,datepicker)</font> <font color=#6c3e67>-command</font> alited::tool::DatePicker

    <i><font color=#4b5d50>## ________________________ Setup _________________________ ##</font></i>
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(SETUP) <font color=#1b1baa>$al(WIN)</font>.menu.setup]
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,projects)</font> <font color=#6c3e67>-command</font> alited::project::_run
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,tpllist)</font> <font color=#6c3e67>-command</font> alited::unit::Add
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$alited::al(MC,FavLists)</font> <font color=#6c3e67>-command</font> alited::favor::Lists
    <font color=#1b1baa>$m</font> add separator
    <b><font color=#134070>menu</font></b> <font color=#1b1baa>$m</font>.tint <font color=#6c3e67>-tearoff</font> 0
    <b><font color=#3a6797>if</font></b> {[::apave::obj apaveTheme]} {<b><font color=#3a6797>set</font></b> state normal} {<b><font color=#3a6797>set</font></b> state disabled}
    <font color=#1b1baa>$m</font> add cascade <font color=#6c3e67>-label</font> [msgcat::mc Tint] <font color=#6c3e67>-menu</font> <font color=#1b1baa>$m</font>.tint <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
    <b><font color=#3a6797>foreach</font></b> ti {50 45 40 35 30 25 20 15 10 5 0 -5 -10 -15 -20 -25 -30 -35 -40 -45 -50} {
      <b><font color=#3a6797>set</font></b> ti1 [<b><font color=#3a6797>string</font></b> range <font color=#7d1a1a>&quot;   <font color=#1b1baa>$</font>ti&quot;</font> end-2 end]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ti</font>&lt;0} {
        <b><font color=#3a6797>set</font></b> ti2 <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>msgcat::mc Darker:<font color=#1b1baa>]</font> <font color=#1b1baa>$</font>ti1&quot;</font>
      } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$ti</font>&gt;0} {
        <b><font color=#3a6797>set</font></b> ti2 <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>msgcat::mc Lighter:<font color=#1b1baa>]$</font>ti1&quot;</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> ti3 [::apave::obj csGetName <font color=#1b1baa>$al(INI,CS)</font>]
        <b><font color=#3a6797>set</font></b> ti2 [msgcat::mc {Color scheme:}]
        <b><font color=#3a6797>append</font></b> ti2 { } [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$ti3</font> [<b><font color=#3a6797>string</font></b> first { } <font color=#1b1baa>$ti3</font>] end]
      }
      <font color=#1b1baa>$m</font>.tint add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$ti2</font> <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;alited::menu::SetTint <font color=#1b1baa>$</font>ti&quot;</font>
    }
    <font color=#1b1baa>$m</font> add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc {Wrap Lines}]  <font color=#6c3e67>-variable</font> alited::al(wrapwords) <font color=#6c3e67>-command</font> alited::file::WrapLines
    <font color=#1b1baa>$m</font> add checkbutton <font color=#6c3e67>-label</font> [msgcat::mc {Tip File Info}]  <font color=#6c3e67>-variable</font> alited::al(TREE,showinfo) <font color=#6c3e67>-command</font> alited::file::UpdateFileStat
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {After Start...}] <font color=#6c3e67>-command</font> alited::tool::AfterStartDlg
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Before Run...}] <font color=#6c3e67>-command</font> alited::tool::BeforeRunDlg
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,pref...)</font> <font color=#6c3e67>-command</font> alited::pref::_run

    <i><font color=#4b5d50>## ________________________ Help _________________________ ##</font></i>
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>set</font></b> al(MENUHELP) <font color=#1b1baa>$al(WIN)</font>.menu.help]
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>al(MC,help) Tcl/Tk&quot;</font> <font color=#6c3e67>-command</font> alited::tool::Help <font color=#6c3e67>-accelerator</font> F1
    <font color=#1b1baa>$m</font> add separator
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc <font color=#7d1a1a>&quot;Help of alited&quot;</font>] <font color=#6c3e67>-command</font> alited::HelpAlited
    <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> [msgcat::mc <font color=#7d1a1a>&quot;About...&quot;</font>] <font color=#6c3e67>-command</font> alited::HelpAbout
    FillRecent
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillRecent'>FillRecent</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Recent Files&quot; menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillRecent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_290' href="javascript:toggleSource('290')">Show source</a></p>
<div id='290' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FillRecent {} {

  <i><font color=#4b5d50># Creates &quot;Recent Files&quot; menu items.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> m <font color=#1b1baa>$al(MENUFILE)</font>.recentfiles
  <font color=#1b1baa>$m</font> delete 0 end
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(RECENTFILES)</font>]} {
    <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 2 <font color=#6c3e67>-state</font> normal
    <b><font color=#3a6797>set</font></b> i 0
    <b><font color=#3a6797>foreach</font></b> rf <font color=#1b1baa>$al(RECENTFILES)</font> {
      <font color=#1b1baa>$m</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$rf</font> <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;alited::file::ChooseRecent <font color=#1b1baa>$</font>i&quot;</font>
      <b><font color=#3a6797>incr</font></b> i
    }
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$al(MENUFILE)</font> entryconfigure 2 <font color=#6c3e67>-state</font> disabled
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::FillRunItems'>FillRunItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills Tools/e_menu items, depending on a currently edited file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FillRunItems</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the current file name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Maps %f &amp; %D wildcards to the current file &amp; directory names.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_291' href="javascript:toggleSource('291')">Show source</a></p>
<div id='291' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::FillRunItems {fname} {

  <i><font color=#4b5d50># Fills Tools/e_menu items, depending on a currently edited file.</font></i>
  <i><font color=#4b5d50>#   fname - the current file name</font></i>
  <i><font color=#4b5d50># Maps %f & %D wildcards to the current file & directory names.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_Num em_Num  em_sep em_sep em_ico em_ico em_inf em_inf em_mnu em_mnu
  <b><font color=#3a6797>set</font></b> m <font color=#1b1baa>$al(TOOLS)</font>
  <b><font color=#3a6797>set</font></b> maplist [MapRunItems <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> emwas 0]} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists em_ico(<font color=#1b1baa>$i</font>)] && (<font color=#1b1baa>$em_mnu($i)</font> ne {} || <font color=#1b1baa>$em_sep($i)</font>)} {
      <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$em_sep($i)</font>} {
        <b><font color=#3a6797>set</font></b> txt [<b><font color=#3a6797>string</font></b> map <font color=#1b1baa>$maplist</font> <font color=#1b1baa>$em_mnu($i)</font>]
        <font color=#1b1baa>$m</font>.runs entryconfigure <font color=#1b1baa>$i</font> <font color=#6c3e67>-label</font> <font color=#1b1baa>$txt</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::MapRunItems'>MapRunItems</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a map list to map %f &amp; %D wildcards to the current file &amp; directory names.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MapRunItems</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the current file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_292' href="javascript:toggleSource('292')">Show source</a></p>
<div id='292' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::MapRunItems {fname} {

  <i><font color=#4b5d50># Gets a map list to map %f & %D wildcards to the current file & directory names.</font></i>
  <i><font color=#4b5d50>#  fname - the current file name</font></i>

  <b><font color=#3a6797>set</font></b> ftail [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> %D [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>] %f <font color=#1b1baa>$fname</font> %F <font color=#1b1baa>$ftail</font> \$::FILETAIL <font color=#1b1baa>$ftail</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::menu::SetTint'>SetTint</a><span class='ns_scope'> [<a href="alited.html#::alited::menu" title="::alited::menu" class='ruff_cmd'>::alited::menu</a>]</span><span class='tinylink'><a href='alited.html#::alited::menu'>menu</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a tint of a current color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetTint</span> <span class='ruff_arg'>tint</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tint</code></code></td><td class='ruff_defitem'>value of the tint</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_293' href="javascript:toggleSource('293')">Show source</a></p>
<div id='293' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::menu::SetTint {tint} {

  <i><font color=#4b5d50># Sets a tint of a current color scheme.</font></i>
  <i><font color=#4b5d50>#   tint - value of the tint</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <font color=#1b1baa>$obPav</font> csToned <font color=#1b1baa>$al(INI,CS)</font> <font color=#1b1baa>$tint</font>
  alited::file::MakeThemHighlighted
  alited::main::ShowText
  alited::bar::BAR update
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::pref'></a>::alited::pref<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::pref-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::pref::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> <span class='ruff_arg'>tab</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>a tab to open (saved at previous session) or {}</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_294' href="javascript:toggleSource('294')">Show source</a></p>
<div id='294' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::_create {tab} {

  <i><font color=#4b5d50># Creates &quot;Preferences&quot; dialogue.</font></i>
  <i><font color=#4b5d50>#   tab - a tab to open (saved at previous session) or {}</font></i>

  fetchVars
  InitLocales
  <font color=#1b1baa>$obDl2</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>al(MC,pref) :: <font color=#1b1baa>$</font>::alited::USERDIR&quot;</font>
  <font color=#1b1baa>$obDl2</font> paveWindow  <font color=#1b1baa>$win</font>.fra [MainFrame]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f1 [General_Tab1]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f2 [General_Tab2]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f3 [General_Tab3]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f1 [Edit_Tab1]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f2 [Edit_Tab2]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f3 [Edit_Tab3]  <font color=#1b1baa>$win</font>.fra.fraR.nbk2.f4 [Edit_Tab4]  <font color=#1b1baa>$win</font>.fra.fraR.nbk3.f1 [Units_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk4.f1 [Template_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk5.f1 [Keys_Tab1]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f1 [Common_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f2 [Emenu_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f3 [Runs_Tab]  <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f4 [Tkcon_Tab]
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl2</font> TexNotes]
  <b><font color=#3a6797>set</font></b> fnotes [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::USERDIR</font> notes.txt]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fnotes</font>]} {
    <font color=#1b1baa>$wtxt</font> insert end [::apave::readTextFile <font color=#1b1baa>$fnotes</font>]
  }
  <font color=#1b1baa>$wtxt</font> edit reset; <font color=#1b1baa>$wtxt</font> edit modified no
  [<font color=#1b1baa>$obDl2</font> TexTclKeys] insert end <font color=#1b1baa>$al(ED,TclKeyWords)</font>
  [<font color=#1b1baa>$obDl2</font> TexCKeys] insert end <font color=#1b1baa>$al(ED,CKeyWords)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> ne {}} {
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tab</font> {
      Emenu_Tab {
        <b><font color=#3a6797>set</font></b> nbk nbk6
        <b><font color=#3a6797>set</font></b> nt <font color=#1b1baa>$win</font>.fra.fraR.nbk6.f3
      }
    }
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;::alited::pref::Tab <font color=#1b1baa>$</font>nbk <font color=#1b1baa>$</font>nt yes&quot;</font>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$oldTab</font> ne {}} {
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;::alited::pref::Tab <font color=#1b1baa>$</font>oldTab <font color=#1b1baa>$</font>arrayTab(<font color=#1b1baa>$</font>oldTab) yes&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;::alited::pref::Tab nbk&quot;</font> ;<i><font color=#4b5d50># first entering</font></i>
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;Control-o&gt; alited::ini::EditSettings
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#7d1a1a>&quot;<font color=#1b1baa>[$</font>obDl2 ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl2</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo</font> <font color=#6c3e67>-minsize</font> {600 400}  <font color=#6c3e67>-onclose</font> ::alited::pref::Cancel]
  <b><font color=#3a6797>set</font></b> fcont [<font color=#1b1baa>$wtxt</font> get 1.0 {end -1c}]
  ::apave::writeTextFile <font color=#1b1baa>$fnotes</font> fcont
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>] &lt; 2} {<b><font color=#3a6797>set</font></b> res <font color=#7d1a1a>&quot;&quot;</font>}
  <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>] ;<i><font color=#4b5d50># save the new geometry of the dialogue</font></i>
  <b><font color=#3a6797>set</font></b> oldTab <font color=#1b1baa>$curTab</font>
  <b><font color=#3a6797>set</font></b> arrayTab(<font color=#1b1baa>$curTab</font>) [<font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select]
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::_init'>_init</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_init</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_295' href="javascript:toggleSource('295')">Show source</a></p>
<div id='295' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::_init {} {

  <i><font color=#4b5d50># Initializes &quot;Preferences&quot; dialogue.</font></i>

  fetchVars
  SaveSettings
  <b><font color=#3a6797>set</font></b> curTab <font color=#7d1a1a>&quot;nbk&quot;</font>
  IniKeys
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?tab?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;true&quot;, if settings were saved.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_296' href="javascript:toggleSource('296')">Show source</a></p>
<div id='296' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::_run {{tab {}}} {

  <i><font color=#4b5d50># Runs &quot;Preferences&quot; dialogue.</font></i>
  <i><font color=#4b5d50># Returns &quot;true&quot;, if settings were saved.</font></i>

  <b><font color=#3a6797>update</font></b>  ;<i><font color=#4b5d50># if run from menu: there may be unupdated space under it (in some DE)</font></i>
  _init
  <b><font color=#3a6797>set</font></b> res [_create <font color=#1b1baa>$tab</font>]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::BindKey'>BindKey</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds a key event to a key combination.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BindKey</span> <span class='ruff_arg'>nk ?key? ?defk?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox corresponding to the event</td></tr>
<tr><td class='ruff_defitem'><code><code>key</code></code></td><td class='ruff_defitem'>key combination or &quot;-&quot; (for not engaged keys); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>defk</code></code></td><td class='ruff_defitem'>default key combination; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a bound keys for not engaged keys or {} for others.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_297' href="javascript:toggleSource('297')">Show source</a></p>
<div id='297' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::BindKey {nk {key {}} {defk {}}} {

  <i><font color=#4b5d50># Binds a key event to a key combination.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox corresponding to the event</font></i>
  <i><font color=#4b5d50>#   key - key combination or &quot;-&quot; (for not engaged keys)</font></i>
  <i><font color=#4b5d50>#   defk - default key combination</font></i>
  <i><font color=#4b5d50># Returns a bound keys for not engaged keys or {} for others.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$key</font> eq {-}} {
    <i><font color=#4b5d50># not engaged event: bind to a new combination if defined</font></i>
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists keys(<font color=#1b1baa>$nk</font>)]} {
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$keys($nk)</font>
    }
    <i><font color=#4b5d50># otherwise bind to the default</font></i>
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$defk</font>
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$nk</font> {
    4 { ;<i><font color=#4b5d50># &quot;Double Selection&quot;</font></i>
      ::apave::setTextHotkeys CtrlD <font color=#1b1baa>$keys($nk)</font>
    }
    5 { ;<i><font color=#4b5d50># &quot;Delete Line&quot;</font></i>
      ::apave::setTextHotkeys CtrlY <font color=#1b1baa>$keys($nk)</font>
    }
    10 { ;<i><font color=#4b5d50># &quot;Highlight First&quot;</font></i>
      ::apave::setTextHotkeys AltQ <font color=#1b1baa>$keys($nk)</font>
    }
    11 { ;<i><font color=#4b5d50># &quot;Highlight Last&quot;</font></i>
      ::apave::setTextHotkeys AltW <font color=#1b1baa>$keys($nk)</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::C_Default'>C_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets default colors to highlight C.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>C_Default</span> <span class='ruff_arg'>isyn ?init?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isyn</code></code></td><td class='ruff_defitem'>index of syntax colors</td></tr>
<tr><td class='ruff_defitem'><code><code>init</code></code></td><td class='ruff_defitem'>yes, if only variables should be initialized; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_298' href="javascript:toggleSource('298')">Show source</a></p>
<div id='298' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::C_Default {isyn {init no}} {

  <i><font color=#4b5d50># Sets default colors to highlight C.</font></i>
  <i><font color=#4b5d50>#   isyn - index of syntax colors</font></i>
  <i><font color=#4b5d50>#   init - yes, if only variables should be initialized</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(ClangExtensions) <font color=#1b1baa>$al(ClangExtensionsDef)</font>
  <b><font color=#3a6797>set</font></b> Dark [CsDark]
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>set</font></b> clrvals [::hl_c::hl_colors <font color=#1b1baa>$isyn</font> <font color=#1b1baa>$Dark</font>]
  <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> val <font color=#1b1baa>$clrvals</font> {
    <b><font color=#3a6797>set</font></b> al(ED,C<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
  }
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$init</font>} {UpdateSyntaxTab 2}
  <b><font color=#3a6797>set</font></b> al(syntaxidx) <font color=#1b1baa>$isyn</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handler of &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_299' href="javascript:toggleSource('299')">Show source</a></p>
<div id='299' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Cancel {args} {

  <i><font color=#4b5d50># Handler of &quot;Cancel&quot; button.</font></i>

  fetchVars
  RestoreSettings
  GetEmSave out
  <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CbxBackup'>CbxBackup</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for access to SpxMaxBak field. If CbxBackup is empty (no backup), SpxMaxBak should be disabled.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CbxBackup</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_300' href="javascript:toggleSource('300')">Show source</a></p>
<div id='300' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CbxBackup {} {

  <i><font color=#4b5d50># Check for access to SpxMaxBak field.</font></i>
  <i><font color=#4b5d50># If CbxBackup is empty (no backup), SpxMaxBak should be disabled.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$alited::al(BACKUP)</font> eq {}} {<b><font color=#3a6797>set</font></b> state disabled} {<b><font color=#3a6797>set</font></b> state normal}
  [<font color=#1b1baa>$obDl2</font> SpxMaxBak] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CbxTheme'>CbxTheme</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Check for access to &quot;Tint&quot; field. If CbxTheme is not &quot;clam&quot;, &quot;Tint&quot; should be disabled.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CbxTheme</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_301' href="javascript:toggleSource('301')">Show source</a></p>
<div id='301' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CbxTheme {} {

  <i><font color=#4b5d50># Check for access to &quot;Tint&quot; field.</font></i>
  <i><font color=#4b5d50># If CbxTheme is not &quot;clam&quot;, &quot;Tint&quot; should be disabled.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {[GetCS]&gt;-2 && [::apave::obj apaveTheme <font color=#1b1baa>$opc1</font>]} {
    <b><font color=#3a6797>set</font></b> state normal
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> state disabled
    <b><font color=#3a6797>set</font></b> alited::al(INI,HUE) 0
  }
  [<font color=#1b1baa>$obDl2</font> SpxHue] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckIndent'>CheckIndent</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets &quot;auto indentation&quot;, if indent is 1 (for indentation by Tabs)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckIndent</span> <span class='ruff_arg'>?pre?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pre</code></code></td><td class='ruff_defitem'>prefix: if {}, refers to a project's settings, by default to preferences'; <i>optional, default</i> <code>DEFAULT,</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_302' href="javascript:toggleSource('302')">Show source</a></p>
<div id='302' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckIndent {{pre DEFAULT,}} {

  <i><font color=#4b5d50># Sets &quot;auto indentation&quot;, if indent is 1 (for indentation by Tabs)</font></i>
  <i><font color=#4b5d50>#   pre - prefix: if {}, refers to a project's settings, by default to preferences'</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(${pre}prjindent)</font>&lt;=1} {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>${pre}</font>prjindentAuto) 1}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckUseDef'>CheckUseDef</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enables/disables the project default fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUseDef</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_303' href="javascript:toggleSource('303')">Show source</a></p>
<div id='303' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckUseDef {} {

  <i><font color=#4b5d50># Enables/disables the project default fields.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(PRJDEFAULT)</font>} {
    <b><font color=#3a6797>set</font></b> state normal
    [<font color=#1b1baa>$obDl2</font> CbxEOL] configure <font color=#6c3e67>-state</font> readonly
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> state disabled
    [<font color=#1b1baa>$obDl2</font> CbxEOL] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  }
  <b><font color=#3a6797>foreach</font></b> w {EntIgn SpxIndent SpxRedunit SwiMult ChbIndAuto SwiTrWs} {
    [<font color=#1b1baa>$obDl2</font> <font color=#1b1baa>$w</font>] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CheckUseLeaf'>CheckUseLeaf</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enables/disables the &quot;Regexp of a leaf&quot; field.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckUseLeaf</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_304' href="javascript:toggleSource('304')">Show source</a></p>
<div id='304' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CheckUseLeaf {} {

  <i><font color=#4b5d50># Enables/disables the &quot;Regexp of a leaf&quot; field.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,LEAF)</font>} {<b><font color=#3a6797>set</font></b> state normal} {<b><font color=#3a6797>set</font></b> state disabled}
  [<font color=#1b1baa>$obDl2</font> EntLf] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Common_Tab'>Common_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/Common&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Common_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_305' href="javascript:toggleSource('305')">Show source</a></p>
<div id='305' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Common_Tab {} {

  <i><font color=#4b5d50># Serves to layout &quot;Tools/Common&quot; tab.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(EM,menu) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(EM,menudir)</font> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$al(EM,menu)</font>]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,Tcl)</font> eq {}} {
    <b><font color=#3a6797>set</font></b> al(TCLINIDIR) [<b><font color=#3a6797>info</font></b> nameofexecutable]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(TCLINIDIR) <font color=#1b1baa>$al(EM,Tcl)</font>
  }
  <b><font color=#3a6797>set</font></b> al(TCLINIDIR) [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(TCLINIDIR)</font>]
  <b><font color=#3a6797>set</font></b> al(TCLLIST) [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,TclList)</font> \t]
  <b><font color=#3a6797>set</font></b> al(TTLIST) [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,tt=List)</font> \t]
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> x}}
    {.labTcl - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;tclsh, wish or tclkit:&quot;</font>}}
    {.fiLTcl .labTcl L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(EM,Tcl) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$alited::al(TCLLIST)</font>} <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-initialdir</font> <font color=#1b1baa>$alited::al(TCLINIDIR)</font>}}
    {.labDoc .labTcl T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Path to man/tcl8.6:&quot;</font>}}
    {.dirDoc .labDoc L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(EM,h=) <font color=#6c3e67>-w</font> 48}}
    {.labTT .labDoc T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Linux terminal:&quot;</font>}}
    {.cbxTT .labTT L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(EM,tt=) <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-values</font> {<font color=#1b1baa>$alited::al(TTLIST)</font>}}}
    {.labDF .labTT T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Diff tool:&quot;</font>}}
    {.filDF .labDF L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(EM,DiffTool) <font color=#6c3e67>-w</font> 48}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::CsDark'>CsDark</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a lightness of a color scheme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CsDark</span> <span class='ruff_arg'>?cs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cs</code></code></td><td class='ruff_defitem'>the color scheme's index (if omitted, the chosen one's); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_306' href="javascript:toggleSource('306')">Show source</a></p>
<div id='306' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::CsDark {{cs {}}} {

  <i><font color=#4b5d50># Gets a lightness of a color scheme.</font></i>
  <i><font color=#4b5d50>#   cs - the color scheme's index (if omitted, the chosen one's)</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cs</font> eq {}} {<b><font color=#3a6797>set</font></b> cs [GetCS]}
  <b><font color=#ca14ca>return</font></b> [::apave::obj csDark <font color=#1b1baa>$cs</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab1'>Edit_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Editor&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_307' href="javascript:toggleSource('307')">Show source</a></p>
<div id='307' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab1 {} {

  <i><font color=#4b5d50># Serves to layout &quot;Editor&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labFon - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 8 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Font:&quot;</font>}}
    {.fonTxt .labFon L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(FONT,txt) <font color=#6c3e67>-w</font> 40}}
    {.labSp1 .labFon T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Space above lines:&quot;</font>}}
    {.spxSp1 .labSp1 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,sp1) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 16 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labSp3 .labSp1 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Space below lines:&quot;</font>}}
    {.spxSp3 .labSp3 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,sp3) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 16 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labSp2 .labSp3 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Space between wraps:&quot;</font>}}
    {.spxSp2 .labSp2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,sp2) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 16 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.seh .labSp2 T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {.labLl .seh T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Tab bar label's length:&quot;</font>}}
    {.spxLl .labLl L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(INI,barlablen) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labTl .labLl T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Tab bar tip's length:&quot;</font>}}
    {.spxTl .labTl L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(INI,bartiplen) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.seh2 .labTl T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {.labGW .seh2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Gutter's width:&quot;</font>}}
    {.spxGW .labGW L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,gutterwidth) <font color=#6c3e67>-from</font> 3 <font color=#6c3e67>-to</font> 7 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labGS .labGW T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Gutter's shift from text:&quot;</font>}}
    {.spxGS .labGS L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,guttershift) <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 10 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab2'>Edit_Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tcl syntax&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_308' href="javascript:toggleSource('308')">Show source</a></p>
<div id='308' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab2 {} {

  <i><font color=#4b5d50># Serves to layout &quot;Tcl syntax&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {FraTab2 v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fraTab2.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Tcl files' extensions:&quot;</font>}}
    {.entExt .labExt L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(TclExtensions) <font color=#6c3e67>-w</font> 40}}
    {.labCOM .labExt T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of Tcl commands:&quot;</font>}}
    {.clrCOM .labCOM L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrCOM) <font color=#6c3e67>-w</font> 20}}
    {.labCOMTK .labCOM T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of Tk commands:&quot;</font>}}
    {.clrCOMTK .labCOMTK L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrCOMTK) <font color=#6c3e67>-w</font> 20}}
    {.labSTR .labCOMTK T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of strings:&quot;</font>}}
    {.clrSTR .labSTR L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrSTR) <font color=#6c3e67>-w</font> 20}}
    {.labVAR .labSTR T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of variables:&quot;</font>}}
    {.clrVAR .labVAR L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrVAR) <font color=#6c3e67>-w</font> 20}}
    {.labCMN .labVAR T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of comments:&quot;</font>}}
    {.clrCMN .labCMN L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrCMN) <font color=#6c3e67>-w</font> 20}}
    {.labPROC .labCMN T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of proc/methods:&quot;</font>}}
    {.clrPROC .labPROC L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrPROC) <font color=#6c3e67>-w</font> 20}}
    {.labOPT .labPROC T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of options:&quot;</font>}}
    {.clrOPT .labOPT L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrOPT) <font color=#6c3e67>-w</font> 20}}
    {.labBRA .labOPT T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of brackets:&quot;</font>}}
    {.clrBRA .labBRA L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,clrBRA) <font color=#6c3e67>-w</font> 20}}
    {.seh .labBRA T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {fraTab2.scf.FraDefClr1 .seh T 1 2 {<font color=#6c3e67>-st</font> nsew}}
    {.but - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> {Default} <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 0}}}
    {.but1 .but L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Default 2} <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 1}}}
    {.but2 .but1 L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> {Default 3} <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 2}}}
    {.but3 .but2 L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Default 4} <font color=#6c3e67>-com</font> {alited::pref::Tcl_Default 3}}}
    {fraTab2.scf.fra2 fraTab2.scf.fraDefClr1 T 1 2 {<font color=#6c3e67>-st</font> nsew}}
    {.lab - - 1 1 {<font color=#6c3e67>-st</font> nw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Code snippet:&quot;</font> <font color=#6c3e67>-w</font> 25}}
    {.TexSample .lab L 1 1 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-h</font> 5 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-afteridle</font> alited::pref::UpdateSyntaxTab}}
    {fraTab2.scf.seh3 fraTab2.scf.fra2 T 1 2 {<font color=#6c3e67>-pady</font> 10}}
    {fraTab2.scf.fra3 fraTab2.scf.seh3 T 1 2 {<font color=#6c3e67>-st</font> nsew}}
    {.labAddKeys - - 1 2 {<font color=#6c3e67>-st</font> nw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Your commands:&quot;</font> <font color=#6c3e67>-w</font> 25}}
    {.TexTclKeys .labAddKeys L 1 2 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-h</font> 5 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> <font color=#1b1baa>$alited::pref::win</font>.fraB.butOK}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab3'>Edit_Tab3</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;C/C++ syntax&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_309' href="javascript:toggleSource('309')">Show source</a></p>
<div id='309' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab3 {} {

  <i><font color=#4b5d50># Serves to layout &quot;C/C++ syntax&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {FraTab3 v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fraTab3.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;C/C++ files' extensions:&quot;</font>}}
    {.entExt .labExt L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ClangExtensions) <font color=#6c3e67>-w</font> 40}}
    {.labCOM2 .labExt T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of C key words:&quot;</font>}}
    {.clrCOM2 .labCOM2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrCOM) <font color=#6c3e67>-w</font> 20}}
    {.labCOMTK2 .labCOM2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of C++ key words:&quot;</font>}}
    {.clrCOMTK2 .labCOMTK2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrCOMTK) <font color=#6c3e67>-w</font> 20}}
    {.labSTR2 .labCOMTK2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of strings:&quot;</font>}}
    {.clrSTR2 .labSTR2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrSTR) <font color=#6c3e67>-w</font> 20}}
    {.labVAR2 .labSTR2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of punctuation:&quot;</font>}}
    {.clrVAR2 .labVAR2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrVAR) <font color=#6c3e67>-w</font> 20}}
    {.labCMN2 .labVAR2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of comments:&quot;</font>}}
    {.clrCMN2 .labCMN2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrCMN) <font color=#6c3e67>-w</font> 20}}
    {.labPROC2 .labCMN2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of return/goto:&quot;</font>}}
    {.clrPROC2 .labPROC2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrPROC) <font color=#6c3e67>-w</font> 20}}
    {.labOPT2 .labPROC2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of your key words:&quot;</font>}}
    {.clrOPT2 .labOPT2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrOPT) <font color=#6c3e67>-w</font> 20}}
    {.labBRA2 .labOPT2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color of brackets:&quot;</font>}}
    {.clrBRA2 .labBRA2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(ED,CclrBRA) <font color=#6c3e67>-w</font> 20}}
    {.seh .labBRA2 T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {fraTab3.scf.FraDefClr2 .seh T 1 2 {<font color=#6c3e67>-st</font> nsew}}
    {.but - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> {Default} <font color=#6c3e67>-com</font> {alited::pref::C_Default 0}}}
    {.but1 .but L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Default 2} <font color=#6c3e67>-com</font> {alited::pref::C_Default 1}}}
    {.but2 .but1 L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 0} {<font color=#6c3e67>-t</font> {Default 3} <font color=#6c3e67>-com</font> {alited::pref::C_Default 2}}}
    {.but3 .but2 L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-t</font> {Default 4} <font color=#6c3e67>-com</font> {alited::pref::C_Default 3}}}
    {fraTab3.scf.fra2 fraTab3.scf.fraDefClr2 T 1 2 {<font color=#6c3e67>-st</font> nsew}}
    {.lab - - 1 1 {<font color=#6c3e67>-st</font> nw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Code snippet:&quot;</font> <font color=#6c3e67>-w</font> 25}}
    {.TexCSample .lab L 1 1 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-h</font> 5 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-wrap</font> word}}
    {fraTab3.scf.seh3 fraTab3.scf.fra2 T 1 2 {<font color=#6c3e67>-pady</font> 10}}
    {fraTab3.scf.fra3 fraTab3.scf.seh3 T 1 2 {<font color=#6c3e67>-st</font> nsew}}
    {.lab - - 1 1 {<font color=#6c3e67>-st</font> nw <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Your key words:&quot;</font> <font color=#6c3e67>-w</font> 25}}
    {.TexCKeys .lab L 1 1 {<font color=#6c3e67>-st</font> new} {<font color=#6c3e67>-h</font> 5 <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> <font color=#1b1baa>$alited::pref::win</font>.fraB.butOK}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Edit_Tab4'>Edit_Tab4</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Misc syntax&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Edit_Tab4</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_310' href="javascript:toggleSource('310')">Show source</a></p>
<div id='310' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Edit_Tab4 {} {

  <i><font color=#4b5d50># Serves to layout &quot;Misc syntax&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {FraTab4 v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fraTab4.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labExt - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Plain texts' extensions:&quot;</font>}}
    {.entExt .labExt L 1 1 {<font color=#6c3e67>-st</font> swe <font color=#6c3e67>-pady</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(TextExtensions) <font color=#6c3e67>-w</font> 54}}
    {.seh .labExt T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {.but .seh T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> Default <font color=#6c3e67>-com</font> alited::pref::Text_Default}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::EmAddLine'>EmAddLine</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a new &quot;bar/menu&quot; action before a current one.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EmAddLine</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of a current action</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_311' href="javascript:toggleSource('311')">Show source</a></p>
<div id='311' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::EmAddLine {idx} {

  <i><font color=#4b5d50># Inserts a new &quot;bar/menu&quot; action before a current one.</font></i>
  <i><font color=#4b5d50>#   idx - index of a current action</font></i>

  fetchVars
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$em_Num</font>} {<font color=#1b1baa>$i</font>&gt;<font color=#1b1baa>$idx</font>} {} {
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>==<font color=#1b1baa>$idx</font>} {
      <b><font color=#3a6797>lassign</font></b> {} em_mnu(<font color=#1b1baa>$i</font>) em_ico(<font color=#1b1baa>$i</font>) em_inf(<font color=#1b1baa>$i</font>)
      <b><font color=#3a6797>set</font></b> em_sep(<font color=#1b1baa>$i</font>) 0
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># lower all the rest actions</font></i>
      <b><font color=#3a6797>set</font></b> ip [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>-1}]
      <b><font color=#3a6797>set</font></b> em_sep(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_sep($ip)</font>
      <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_ico($ip)</font>
      <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_mnu($ip)</font>
      <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_inf($ip)</font>
    }
  }
  EmSeparators yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::EmDelLine'>EmDelLine</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a current &quot;bar/menu&quot; action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EmDelLine</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of a current action</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_312' href="javascript:toggleSource('312')">Show source</a></p>
<div id='312' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::EmDelLine {idx} {

  <i><font color=#4b5d50># Deletes a current &quot;bar/menu&quot; action.</font></i>
  <i><font color=#4b5d50>#   idx - index of a current action</font></i>

  fetchVars
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i <font color=#1b1baa>$idx</font>} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>==(<font color=#1b1baa>$em_Num</font>-1)} {
      <b><font color=#3a6797>lassign</font></b> {} em_mnu(<font color=#1b1baa>$i</font>) em_ico(<font color=#1b1baa>$i</font>) em_inf(<font color=#1b1baa>$i</font>)
      <b><font color=#3a6797>set</font></b> em_sep(<font color=#1b1baa>$i</font>) 0
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># make upper all the rest actions</font></i>
      <b><font color=#3a6797>set</font></b> ip [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]
      <b><font color=#3a6797>set</font></b> em_sep(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_sep($ip)</font>
      <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_ico($ip)</font>
      <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_mnu($ip)</font>
      <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_inf($ip)</font>
    }
  }
  EmSeparators yes
  ScrollRuns
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Emenu_Tab'>Emenu_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/e_menu&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Emenu_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_313' href="javascript:toggleSource('313')">Show source</a></p>
<div id='313' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Emenu_Tab {} {

  <i><font color=#4b5d50># Serves to layout &quot;Tools/e_menu&quot; tab.</font></i>

  <b><font color=#3a6797>set</font></b> alited::al(EM,menu) [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$alited::al(EM,menudir)</font>  [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$alited::al(EM,menu)</font>]]
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> x}}
    {.labExe - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Run as external app:&quot;</font>}}
    {.swiExe .labExe L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-var</font> alited::al(EM,exec) <font color=#6c3e67>-onvalue</font> yes <font color=#6c3e67>-offvalue</font> no <font color=#6c3e67>-com</font> alited::pref::OwnCS}}
    {.labCS .labExe T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color scheme:&quot;</font>}}
    {.SwiCS .labCS L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-t</font> {e_menu's own} <font color=#6c3e67>-var</font> alited::al(EM,ownCS) <font color=#6c3e67>-com</font> alited::pref::OwnCS <font color=#6c3e67>-afteridle</font> alited::pref::OwnCS}}
    {.OpcCS .swiCS L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {::alited::pref::opcc2 alited::pref::opcColors {<font color=#6c3e67>-width</font> 16} {alited::pref::opcToolPre %a}}}
    {.labGeo .labCS T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Geometry:&quot;</font>}}
    {.entGeo .labGeo L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(EM,geometry) <font color=#6c3e67>-w</font> 22}}
    {.labDir .labGeo T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Directory of menus:&quot;</font>}}
    {.dirEM .labDir L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(EM,menudir) <font color=#6c3e67>-w</font> 48}}
    {.labMenu .labDir T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Main menu:&quot;</font>}}
    {.filMenu .labMenu L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(EM,menu) <font color=#6c3e67>-w</font> 48 <font color=#6c3e67>-filetypes</font> {{{Menus} .mnu} {{All files} .* }}}}
    {.labPD .labMenu T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Projects (%PD wildcard):&quot;</font>}}
    {.filPD .labPD L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(EM,PD=) <font color=#6c3e67>-w</font> 48}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::EmSeparators'>EmSeparators</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles separators of bar/menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EmSeparators</span> <span class='ruff_arg'>upd</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>upd</code></code></td><td class='ruff_defitem'>if yes, displays the widgets of bar/menu settings.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_314' href="javascript:toggleSource('314')">Show source</a></p>
<div id='314' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::EmSeparators {upd} {

  <i><font color=#4b5d50># Handles separators of bar/menu.</font></i>
  <i><font color=#4b5d50>#   upd - if yes, displays the widgets of bar/menu settings.</font></i>
  fetchVars
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists em_sep(<font color=#1b1baa>$i</font>)]} {
      <b><font color=#3a6797>lassign</font></b> {} em_inf(<font color=#1b1baa>$i</font>) em_mnu(<font color=#1b1baa>$i</font>) em_ico(<font color=#1b1baa>$i</font>) em_sep(<font color=#1b1baa>$i</font>)
    }
    <b><font color=#3a6797>set</font></b> em_sep(<font color=#1b1baa>$i</font>) [<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$em_sep($i)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_sep($i)</font>} {
      <b><font color=#3a6797>lassign</font></b> {} em_inf(<font color=#1b1baa>$i</font>) em_mnu(<font color=#1b1baa>$i</font>) em_ico(<font color=#1b1baa>$i</font>)
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$upd</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$em_sep($i)</font>} {<b><font color=#3a6797>set</font></b> state disabled} {<b><font color=#3a6797>set</font></b> state normal}
      [<font color=#1b1baa>$obDl2</font> ButMnu<font color=#1b1baa>$i</font>] configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$em_mnu($i)</font> <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
      [<font color=#1b1baa>$obDl2</font> OpcIco<font color=#1b1baa>$i</font>] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$state</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$upd</font>} ScrollRuns
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::fetchVars'>fetchVars</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Delivers namespace variables to a caller.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>fetchVars</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_315' href="javascript:toggleSource('315')">Show source</a></p>
<div id='315' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::fetchVars {} {

  <i><font color=#4b5d50># Delivers namespace variables to a caller.</font></i>

  <b><font color=#3a6797>uplevel</font></b> 1 {
    <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
    <b><font color=#3a6797>variable</font></b> win
    <b><font color=#3a6797>variable</font></b> geo
    <b><font color=#3a6797>variable</font></b> data
    <b><font color=#3a6797>variable</font></b> keys
    <b><font color=#3a6797>variable</font></b> prevkeys
    <b><font color=#3a6797>variable</font></b> savekeys
    <b><font color=#3a6797>variable</font></b> arrayTab
    <b><font color=#3a6797>variable</font></b> curTab
    <b><font color=#3a6797>variable</font></b> oldTab
    <b><font color=#3a6797>variable</font></b> opcThemes
    <b><font color=#3a6797>variable</font></b> opc1
    <b><font color=#3a6797>variable</font></b> opcColors
    <b><font color=#3a6797>variable</font></b> opcc
    <b><font color=#3a6797>variable</font></b> opcc2
    <b><font color=#3a6797>variable</font></b> em_Num
    <b><font color=#3a6797>variable</font></b> em_mnu
    <b><font color=#3a6797>variable</font></b> em_ico
    <b><font color=#3a6797>variable</font></b> em_sep
    <b><font color=#3a6797>variable</font></b> em_inf
    <b><font color=#3a6797>variable</font></b> em_Icons
    <b><font color=#3a6797>variable</font></b> listIcons
    <b><font color=#3a6797>variable</font></b> listMenus
    <b><font color=#3a6797>variable</font></b> stdkeys
    <b><font color=#3a6797>variable</font></b> stdkeysSize
    <b><font color=#3a6797>variable</font></b> locales
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::fillCan'>fillCan</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>fillCan</span> <span class='ruff_arg'>w ?selected?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>selected</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_316' href="javascript:toggleSource('316')">Show source</a></p>
<div id='316' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::fillCan {w {selected no}} {

  fetchVars
  <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$w</font> delete <font color=#1b1baa>$data(CANVAS,$w)</font>}
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> csGet] - - - bg selbg - - - - hotbg
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selected</font>} {
    <b><font color=#3a6797>set</font></b> bg <font color=#1b1baa>$hotbg</font>
    <font color=#1b1baa>$w</font> configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$hotbg</font>
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$w</font> configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$bg</font>
  }
  <b><font color=#3a6797>set</font></b> data(CANVAS,<font color=#1b1baa>$w</font>) [<font color=#1b1baa>$w</font> create rectangle {0 0 10 100} <font color=#6c3e67>-fill</font> <font color=#1b1baa>$bg</font> <font color=#6c3e67>-outline</font> <font color=#1b1baa>$selbg</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab1'>General_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_317' href="javascript:toggleSource('317')">Show source</a></p>
<div id='317' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::General_Tab1 {} {

  <i><font color=#4b5d50># Serves to layout &quot;General&quot; tab.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> opcc [<b><font color=#3a6797>set</font></b> opcc2 [msgcat::mc {-2: Default}]]
  <b><font color=#3a6797>set</font></b> opcColors [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>opcc<font color=#1b1baa>}</font>&quot;</font>]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i -1; <b><font color=#3a6797>set</font></b> n [apave::cs_MaxBasic]} {<font color=#1b1baa>$i</font>&lt;=<font color=#1b1baa>$n</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {((<font color=#1b1baa>$i</font>+2) % (<font color=#1b1baa>$n</font>/2+2)) == 0} {<b><font color=#3a6797>lappend</font></b> opcColors |}
    <b><font color=#3a6797>set</font></b> csname [<font color=#1b1baa>$obDl2</font> csGetName <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>lappend</font></b> opcColors [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$csname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> == <font color=#1b1baa>$al(INI,CS)</font>} {<b><font color=#3a6797>set</font></b> opcc <font color=#1b1baa>$csname</font>}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font> == <font color=#1b1baa>$al(EM,CS)</font>} {<b><font color=#3a6797>set</font></b> opcc2 <font color=#1b1baa>$csname</font>}
  }
  <b><font color=#3a6797>set</font></b> lightdark [msgcat::mc {Light / Dark}]
  <b><font color=#3a6797>set</font></b> opcThemes [<b><font color=#3a6797>list</font></b> default clam classic alt -- <font color=#7d1a1a>&quot;<font color=#1b1baa>{$</font>lightdark<font color=#1b1baa>}</font> awlight awdark --  azure-light azure-dark -- forest-light forest-dark -- sun-valley-light sun-valley-dark&quot;</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$alited::al(THEME)</font> <font color=#1b1baa>$opcThemes</font>]&lt;0} {
    <b><font color=#3a6797>set</font></b> opc1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$opcThemes</font> 0]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> opc1 <font color=#1b1baa>$alited::al(THEME)</font>
  }
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra1 v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labTheme - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Ttk theme:&quot;</font>}}
    {.opc1 .labTheme L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {::alited::pref::opc1 alited::pref::opcThemes {<font color=#6c3e67>-width</font> 16 <font color=#6c3e67>-com</font> alited::pref::CbxTheme} {}}}
    {.labCS .labTheme T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Color scheme:&quot;</font>}}
    {.opc2 .labCS L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {::alited::pref::opcc alited::pref::opcColors {<font color=#6c3e67>-width</font> 16 <font color=#6c3e67>-com</font> alited::pref::CbxTheme} {alited::pref::opcToolPre %a}}}
    {.labHue .labCS T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Tint:&quot;</font>}}
    {.SpxHue .labHue L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(INI,HUE) <font color=#6c3e67>-from</font> -50 <font color=#6c3e67>-to</font> 50 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-afteridle</font> alited::pref::CbxTheme <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,hue)</font>}}}
    {seh_ .labHue T 1 2 {<font color=#6c3e67>-pady</font> 4}}
    {fra2 seh_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labLocal - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Preferable locale:&quot;</font> <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,locale)</font>}}}
    {.cbxLocal .labLocal L 1 1 {<font color=#6c3e67>-st</font> sew <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(LOCAL) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$alited::pref::locales</font>} <font color=#6c3e67>-w</font> 4 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,locale)</font>} <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-selcombobox</font> alited::pref::GetLocaleImage <font color=#6c3e67>-afteridle</font> alited::pref::GetLocaleImage}}
    {.LabLocales .cbxLocal L}
    {.labFon .labLocal T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Font:&quot;</font>}}
    {.fonTxt .labFon L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(FONT) <font color=#6c3e67>-w</font> 40}}
    {.labFsz1 .labFon T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Small font size:&quot;</font>}}
    {.spxFsz1 .labFsz1 L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(FONTSIZE,small) <font color=#6c3e67>-from</font> 8 <font color=#6c3e67>-to</font> 72 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labFsz2 .labFsz1 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Middle font size:&quot;</font>}}
    {.spxFsz2 .labFsz2 L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(FONTSIZE,std) <font color=#6c3e67>-from</font> 9 <font color=#6c3e67>-to</font> 72 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labCurw .labFsz2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Cursor width:&quot;</font>}}
    {.spxCurw .labCurw L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(CURSORWIDTH) <font color=#6c3e67>-from</font> 1 <font color=#6c3e67>-to</font> 8 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {seh_2 fra2 T 1 2 {<font color=#6c3e67>-pady</font> 4}}
    {lab seh_2 T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Notes:&quot;</font>}}
    {fra3 lab T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-cw</font> 1}}
    {.TexNotes - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-h</font> 20 <font color=#6c3e67>-w</font> 90 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> <font color=#1b1baa>$alited::pref::win</font>.fra.fraB.butHelp <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$alited::al(MC,notes)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
    {.sbv .TexNotes L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab2'>General_Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General/Saving&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_318' href="javascript:toggleSource('318')">Show source</a></p>
<div id='318' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::General_Tab2 {} {

  <i><font color=#4b5d50># Serves to layout &quot;General/Saving&quot; tab.</font></i>

  GetEmSave in
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {.labport - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Port to listen alited:&quot;</font>}}
    {.cbxport .labport L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(comm_port) <font color=#6c3e67>-values</font> {<font color=#1b1baa>$alited::al(comm_port_list)</font>} <font color=#6c3e67>-w</font> 8 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;The empty value allows\nmultiple alited apps.&quot;</font>}}
    {.labConf .labport T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Confirm exit:&quot;</font>}}
    {.swiConf .labConf L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(INI,confirmexit)}}
    {.seh1 .labConf T 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}}
    {.labS .seh1 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Save configuration on&quot;</font>}}
    {.labSonadd .labS T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;opening a file:&quot;</font>}}
    {.swiOnadd .labSonadd L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(INI,save_onadd)}}
    {.labSonclose .labSonadd T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;closing a file:&quot;</font>}}
    {.swiOnclose .labSonclose L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(INI,save_onclose)}}
    {.labSonsave .labSonclose T 1 1 {<font color=#6c3e67>-st</font> e <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;saving a file:&quot;</font>}}
    {.swiOnsave .labSonsave L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(INI,save_onsave)}}
    {.seh2 .labSonsave T 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}}
    {.labSave .seh2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Save before bar/menu runs:&quot;</font>}}
    {.cbxSave .labSave L 1 2 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-values</font> {<font color=#1b1baa>$alited::al(pref,saveonrun)</font>} <font color=#6c3e67>-tvar</font> alited::al(EM,save) <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-w</font> 20}}
    {.seh3 .labSave T 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}}
    {.labRecnt .seh3 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;'Recent Files' length:&quot;</font>}}
    {.spxRecnt .labRecnt L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(INI,RECENTFILES) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 50 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labMaxLast .labRecnt T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;'Last Visited' length:&quot;</font>}}
    {.spxMaxLast .labMaxLast L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(FAV,MAXLAST) <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.labMaxFiles .labMaxLast T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Maximum of project files:&quot;</font>}}
    {.spxMaxFiles .labMaxFiles L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(MAXFILES) <font color=#6c3e67>-from</font> 1000 <font color=#6c3e67>-to</font> 9999 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9}}
    {.seh4 .labMaxFiles T 1 4 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 5}}
    {.labBackup .seh4 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Back up files to a project's subdirectory:&quot;</font>}}
    {.CbxBackup .labBackup L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(BACKUP) <font color=#6c3e67>-values</font> {{} .bak} <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-w</font> 6 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;A subdirectory of projects where backup copies of files will be saved to.\nSet the field blank to cancel the backup.&quot;</font> <font color=#6c3e67>-afteridle</font> alited::pref::CbxBackup <font color=#6c3e67>-selcombobox</font> alited::pref::CbxBackup}}
    {.labMaxBak .CbxBackup L 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 1} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;  Maximum:&quot;</font>}}
    {.SpxMaxBak .labMaxBak L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(MAXBACKUP) <font color=#6c3e67>-from</font> 1 <font color=#6c3e67>-to</font> 99 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,maxbak)</font>}}}
    {.labBell .labBackup T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Bell at warnings:&quot;</font>}}
    {.swiBell .labBell L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(INI,belltoll)}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::General_Tab3'>General_Tab3</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;General/Defaults&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>General_Tab3</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_319' href="javascript:toggleSource('319')">Show source</a></p>
<div id='319' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::General_Tab3 {} {

    <i><font color=#4b5d50># Serves to layout &quot;General/Defaults&quot; tab.</font></i>

    <b><font color=#ca14ca>return</font></b> {
      {v_ - - 1 10}
      {fra2 v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
      {.labDef - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {Default values for new projects:}}}
      {.swiDef .labDef L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(PRJDEFAULT) <font color=#6c3e67>-com</font> alited::pref::CheckUseDef <font color=#6c3e67>-afteridle</font> alited::pref::CheckUseDef}}
      {.seh .labDef T 1 10 {<font color=#6c3e67>-st</font> ew <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3}}
      {.labIgn .seh T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 8 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,Ign:)</font>}}}
      {.EntIgn .labIgn L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(DEFAULT,prjdirign) <font color=#6c3e67>-w</font> 50}}
      {.labEOL .labIgn T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,EOL:)</font>}}}
      {.CbxEOL .labEOL L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(DEFAULT,prjEOL) <font color=#6c3e67>-values</font> {{} LF CR CRLF} <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-w</font> 9}}
      {.labIndent .labEOL T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,indent:)</font>}}}
      {.SpxIndent .labIndent L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(DEFAULT,prjindent) <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 8 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-com</font> ::alited::pref::CheckIndent}}
      {.ChbIndAuto .SpxIndent L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(DEFAULT,prjindentAuto) <font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,indentAuto)</font>}}}
      {.labRedunit .labIndent T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,redunit)</font>}}}
      {.SpxRedunit .labRedunit L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(DEFAULT,prjredunit) <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100 <font color=#6c3e67>-justify</font> center}}
      {.labMult .labRedunit T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,multiline)</font>} <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,notrecomm)</font>}}}
      {.SwiMult .labMult L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(DEFAULT,prjmultiline) <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,notrecomm)</font>}}}
      {.labTrWs .labMult T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font>
  {<font color=#1b1baa>$alited::al(MC,trailwhite)</font>}}}
      {.SwiTrWs .labTrWs L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-var</font> alited::al(DEFAULT,prjtrailwhite)}}
    }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetCS'>GetCS</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a color scheme's index from <em>opcc</em> / <em>opcc2</em>  variable.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetCS</span> <span class='ruff_arg'>?ncc?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ncc</code></code></td><td class='ruff_defitem'>{} for opcc, {2} for opcc2; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_320' href="javascript:toggleSource('320')">Show source</a></p>
<div id='320' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::GetCS {{ncc {}}} {

  <i><font color=#4b5d50># Gets a color scheme's index from *opcc* / *opcc2*  variable.</font></i>
  <i><font color=#4b5d50>#   ncc - {} for opcc, {2} for opcc2</font></i>

  fetchVars
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>scan</font></b> [<b><font color=#3a6797>set</font></b> opcc<font color=#1b1baa>$ncc</font>] %d:]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetEmSave'>GetEmSave</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a name of setting &quot;Save before run&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetEmSave</span> <span class='ruff_arg'>to</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>if &quot;in&quot;, gets a localized name; if &quot;out&quot;, gets English name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_321' href="javascript:toggleSource('321')">Show source</a></p>
<div id='321' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::GetEmSave {to} {

  <i><font color=#4b5d50># Gets a name of setting &quot;Save before run&quot;.</font></i>
  <i><font color=#4b5d50>#   to - if &quot;in&quot;, gets a localized name; if &quot;out&quot;, gets English name</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> savcur [msgcat::mc {Current file}]
  <b><font color=#3a6797>set</font></b> savall [msgcat::mc {All files}]
  <b><font color=#3a6797>set</font></b> al(pref,saveonrun) [<b><font color=#3a6797>list</font></b> {} <font color=#1b1baa>$savcur</font> <font color=#1b1baa>$savall</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq {in}} {
    <b><font color=#3a6797>switch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(EM,save)</font> {
      Current {<b><font color=#3a6797>set</font></b> al(EM,save) <font color=#1b1baa>$savcur</font>}
      All     {<b><font color=#3a6797>set</font></b> al(EM,save) <font color=#1b1baa>$savall</font>}
    }
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(EM,save)</font> eq <font color=#1b1baa>$savcur</font>} {
    <b><font color=#3a6797>set</font></b> al(EM,save) Current
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(EM,save)</font> eq <font color=#1b1baa>$savall</font>} {
    <b><font color=#3a6797>set</font></b> al(EM,save) All
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetKeyList'>GetKeyList</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a list of available (not engaged) key combinations.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetKeyList</span> <span class='ruff_arg'>nk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox that will get the list as -values option</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_322' href="javascript:toggleSource('322')">Show source</a></p>
<div id='322' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::GetKeyList {nk} {

  <i><font color=#4b5d50># Gets a list of available (not engaged) key combinations.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox that will get the list as -values option</font></i>

  fetchVars
  RegisterKeys
  [<font color=#1b1baa>$obDl2</font> CbxKey<font color=#1b1baa>$nk</font>] configure <font color=#6c3e67>-values</font> [alited::keys::VacantList]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::GetLocaleImage'>GetLocaleImage</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetLocaleImage</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_323' href="javascript:toggleSource('323')">Show source</a></p>
<div id='323' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::GetLocaleImage {} {

  fetchVars
  [<font color=#1b1baa>$obDl2</font> LabLocales] configure <font color=#6c3e67>-image</font> alited::pref::LOC<font color=#1b1baa>$alited::al(LOCAL)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a help on a current tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_324' href="javascript:toggleSource('324')">Show source</a></p>
<div id='324' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Help {} {

  <i><font color=#4b5d50># Shows a help on a current tab.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select] .] end]
  alited::Help <font color=#1b1baa>$win</font> <font color=#7d1a1a>&quot;-<font color=#1b1baa>${</font>curTab<font color=#1b1baa>}</font>-<font color=#1b1baa>$</font>sel&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::IniKeys'>IniKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets key settings at opening &quot;Preferences&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IniKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_325' href="javascript:toggleSource('325')">Show source</a></p>
<div id='325' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::IniKeys {} {

  <i><font color=#4b5d50># Gets key settings at opening &quot;Preferences&quot; dialogue.</font></i>

  fetchVars
  <i><font color=#4b5d50># default settings</font></i>
  <b><font color=#3a6797>dict</font></b> for {k info} <font color=#1b1baa>$stdkeys</font> {
    <b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> prevkeys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> savekeys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$info</font> 1]]]
  }
  <i><font color=#4b5d50># new settings</font></i>
  <b><font color=#3a6797>foreach</font></b> kitem [alited::keys::EngagedList preference] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$kitem</font> key comi
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$comi</font> com k
    <b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> prevkeys(<font color=#1b1baa>$k</font>) [<b><font color=#3a6797>set</font></b> savekeys(<font color=#1b1baa>$k</font>) <font color=#1b1baa>$key</font>]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitLocales'>InitLocales</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates flag images to display at &quot;Preferable locale&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitLocales</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_326' href="javascript:toggleSource('326')">Show source</a></p>
<div id='326' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitLocales {} {

  <i><font color=#4b5d50># Creates flag images to display at &quot;Preferable locale&quot;.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$locales</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> imd [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::DATADIR</font> img]
  <b><font color=#3a6797>set</font></b> locales [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> lm [<b><font color=#3a6797>list</font></b> en {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>glob</font></b> <font color=#6c3e67>-nocomplain</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::MSGSDIR</font> *]]] {
    <b><font color=#3a6797>set</font></b> loc [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$lm</font>]]
    <b><font color=#3a6797>catch</font></b> { ;<i><font color=#4b5d50># no duplicates due to 'catch'</font></i>
      <b><font color=#134070>image</font></b> create photo alited::pref::LOC<font color=#1b1baa>$loc</font> <font color=#6c3e67>-file</font> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$imd</font> <font color=#1b1baa>$loc</font>.png]
      <b><font color=#3a6797>lappend</font></b> locales <font color=#1b1baa>$loc</font>
    }
  }
  <b><font color=#3a6797>set</font></b> locales [<b><font color=#3a6797>lsort</font></b> <font color=#1b1baa>$locales</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitSyntax'>InitSyntax</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates and initializes color fields.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitSyntax</span> <span class='ruff_arg'>lng</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lng</code></code></td><td class='ruff_defitem'>{} for Tcl, {2} for C/C++</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_327' href="javascript:toggleSource('327')">Show source</a></p>
<div id='327' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitSyntax {lng} {

  <i><font color=#4b5d50># Updates and initializes color fields.</font></i>
  <i><font color=#4b5d50>#   lng - {} for Tcl, {2} for C/C++</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> nam {COM COMTK STR VAR CMN PROC OPT BRA} {
    <b><font color=#3a6797>set</font></b> ent [<font color=#1b1baa>$obDl2</font> Entclr<font color=#1b1baa>$nam$lng</font>] ;<i><font color=#4b5d50># method's name, shown by -debug attribute</font></i>
    <b><font color=#3a6797>set</font></b> lab [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> .entclr .labclr] <font color=#1b1baa>$ent</font>]  ;<i><font color=#4b5d50># colored label</font></i>
    <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-background</font> [<font color=#1b1baa>$ent</font> get]
    ::apave::bindToEvent <font color=#1b1baa>$ent</font> &lt;FocusIn&gt; alited::pref::UpdateSyntaxTab <font color=#1b1baa>$lng</font>
    ::apave::bindToEvent <font color=#1b1baa>$ent</font> &lt;FocusOut&gt; alited::pref::UpdateSyntaxTab <font color=#1b1baa>$lng</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitSyntaxC'>InitSyntaxC</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes syntax stuff for C/C++.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitSyntaxC</span> <span class='ruff_arg'>colornames</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>colornames</code></code></td><td class='ruff_defitem'>names of colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_328' href="javascript:toggleSource('328')">Show source</a></p>
<div id='328' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitSyntaxC {colornames} {

    <i><font color=#4b5d50># Initializes syntax stuff for C/C++.</font></i>
    <i><font color=#4b5d50>#    colornames - names of colors</font></i>

    fetchVars
    <b><font color=#3a6797>set</font></b> tex [<font color=#1b1baa>$obDl2</font> TexCSample]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$tex</font> get 1.0 end]] eq {}} {
      <font color=#1b1baa>$obDl2</font> displayText <font color=#1b1baa>$tex</font> {static sample(const char *ptr) {
    /*   C/C++ code to test colors.   */
    char *text, *st;
    <b><font color=#134070>text</font></b> = read_text();
    st   = read_string();
    <b><font color=#3a6797>if</font></b> (strstr(text, st) != text) return FALSE;
    <b><font color=#134070>text</font></b> += strlen(st);
    ptr = strstr(text + 1, <font color=#7d1a1a>&quot;My string&quot;</font>); // error
    <b><font color=#ca14ca>return</font></b> TRUE
  }}}
    <b><font color=#3a6797>set</font></b> wk [<font color=#1b1baa>$obDl2</font> TexCKeys]
    ::apave::bindToEvent <font color=#1b1baa>$wk</font> &lt;FocusOut&gt; alited::pref::UpdateSyntaxTab 2
    <b><font color=#3a6797>set</font></b> keywords [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wk</font> get 1.0 end]]
    ::hl_c::hl_init <font color=#1b1baa>$tex</font> <font color=#6c3e67>-dark</font> [CsDark]  <font color=#6c3e67>-multiline</font> 1 <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$keywords</font>  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-colors</font> <font color=#1b1baa>$colornames</font>  <font color=#6c3e67>-insertwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>
    ::hl_c::hl_text <font color=#1b1baa>$tex</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::InitSyntaxTcl'>InitSyntaxTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes syntax stuff for Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitSyntaxTcl</span> <span class='ruff_arg'>colornames</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>colornames</code></code></td><td class='ruff_defitem'>names of colors</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_329' href="javascript:toggleSource('329')">Show source</a></p>
<div id='329' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::InitSyntaxTcl {colornames} {

    <i><font color=#4b5d50># Initializes syntax stuff for Tcl.</font></i>
    <i><font color=#4b5d50>#    colornames - names of colors</font></i>

    fetchVars
    <b><font color=#3a6797>set</font></b> tex [<font color=#1b1baa>$obDl2</font> TexSample]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$tex</font> get 1.0 end]] eq {}} {
    <font color=#1b1baa>$obDl2</font> displayText <font color=#1b1baa>$tex</font> {<b><font color=#ca14ca>proc</font></b> foo {args} {
    <i><font color=#4b5d50># Tcl code to test colors.</font></i>
    <b><font color=#3a6797>set</font></b> var <font color=#7d1a1a>&quot;(Multiline string)</font>
<font color=#7d1a1a>      Args=<font color=#1b1baa>$</font>args&quot;</font>
    <b><font color=#134070>winfo</font></b> interps <font color=#6c3e67>-displayof</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$args</font> 0]
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$var</font> ;<i><font color=>#! TODO</font></i>
  }}}
    <b><font color=#3a6797>set</font></b> wk [<font color=#1b1baa>$obDl2</font> TexTclKeys]
    ::apave::bindToEvent <font color=#1b1baa>$wk</font> &lt;FocusOut&gt; alited::pref::UpdateSyntaxTab
    <b><font color=#3a6797>set</font></b> keywords [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wk</font> get 1.0 end]]
    ::hl_tcl::hl_init <font color=#1b1baa>$tex</font> <font color=#6c3e67>-dark</font> [CsDark]  <font color=#6c3e67>-multiline</font> 1 <font color=#6c3e67>-keywords</font> <font color=#1b1baa>$keywords</font>  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT,txt)</font> <font color=#6c3e67>-colors</font> <font color=#1b1baa>$colornames</font>  <font color=#6c3e67>-insertwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>
    ::hl_tcl::hl_text <font color=#1b1baa>$tex</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::KeyAccelerator'>KeyAccelerator</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a key accelerator for a combobox of keys, bound to an action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyAccelerator</span> <span class='ruff_arg'>nk defk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox</td></tr>
<tr><td class='ruff_defitem'><code><code>defk</code></code></td><td class='ruff_defitem'>default key combination</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_330' href="javascript:toggleSource('330')">Show source</a></p>
<div id='330' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::KeyAccelerator {nk defk} {

  <i><font color=#4b5d50># Gets a key accelerator for a combobox of keys, bound to an action.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox</font></i>
  <i><font color=#4b5d50>#   defk - default key combination</font></i>

  <b><font color=#3a6797>set</font></b> acc [BindKey <font color=#1b1baa>$nk</font> - <font color=#1b1baa>$defk</font>]
  <b><font color=#ca14ca>return</font></b> [::apave::KeyAccelerator <font color=#1b1baa>$acc</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::KeyAccelerators'>KeyAccelerators</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a full list of key accelerators,</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyAccelerators</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_331' href="javascript:toggleSource('331')">Show source</a></p>
<div id='331' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::KeyAccelerators {} {

  <i><font color=#4b5d50># Gets a full list of key accelerators,</font></i>

  fetchVars
  <b><font color=#3a6797>dict</font></b> for {k info} <font color=#1b1baa>$stdkeys</font> {
    <b><font color=#3a6797>set</font></b> al(acc_<font color=#1b1baa>$k</font>) [KeyAccelerator <font color=#1b1baa>$k</font> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$info</font> 1]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Keys_Tab1'>Keys_Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Keys&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Keys_Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_332' href="javascript:toggleSource('332')">Show source</a></p>
<div id='332' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Keys_Tab1 {} {

  <i><font color=#4b5d50># Serves to layout &quot;Keys&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {tcl {
        <b><font color=#3a6797>set</font></b> pr -
        <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$alited::pref::stdkeysSize</font>} {<b><font color=#3a6797>incr</font></b> i} {
          <b><font color=#3a6797>set</font></b> lab <font color=#7d1a1a>&quot;lab<font color=#1b1baa>$</font>i&quot;</font>
          <b><font color=#3a6797>set</font></b> cbx <font color=#7d1a1a>&quot;CbxKey<font color=#1b1baa>$</font>i&quot;</font>
          <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>dict</font></b> get <font color=#1b1baa>$alited::pref::stdkeys</font> <font color=#1b1baa>$i</font>] text key
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.<font color=#1b1baa>$</font>lab <font color=#1b1baa>$</font>pr T 1 1 <font color=#1b1baa>{</font>-st w -pady 1 -padx 3<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-t \&quot;<font color=#1b1baa>$</font>text\&quot;<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.<font color=#1b1baa>$</font>cbx .<font color=#1b1baa>$</font>lab L 1 1 <font color=#1b1baa>{</font>-st we<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-tvar ::alited::pref::keys(<font color=#1b1baa>$</font>i) -postcommand <font color=#1b1baa>{</font>::alited::pref::GetKeyList <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font> -selcombobox <font color=#1b1baa>{</font>::alited::pref::SelectKey <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font> -state readonly -h 16 -w 20<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> pr .<font color=#1b1baa>$lab</font>
        }
    }}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::MainFrame'>MainFrame</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main frame of the dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MainFrame</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_333' href="javascript:toggleSource('333')">Show source</a></p>
<div id='333' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::MainFrame {} {

  <i><font color=#4b5d50># Creates a main frame of the dialogue.</font></i>

  fetchVars
  <font color=#1b1baa>$obDl2</font> untouchWidgets *.cannbk*
  <b><font color=#ca14ca>return</font></b> {
    {fraL - - 1 1 {<font color=#6c3e67>-st</font> nws <font color=#6c3e67>-rw</font> 2}}
    {.ButHome - - 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;General&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;alited::pref::Tab nbk&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk .butHome L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButChange .butHome T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Editor&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;alited::pref::Tab nbk2&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk2 .butChange L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButCategories .butChange T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Units&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;alited::pref::Tab nbk3&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk3 .butCategories L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButActions .butCategories T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Templates&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;alited::pref::Tab nbk4&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk4 .butActions L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButKeys .butActions T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 0} {<font color=#6c3e67>-image</font> alimg_kbd <font color=#6c3e67>-compound</font> left <font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Keys&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;alited::pref::Tab nbk5&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk5 .butKeys L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.ButTools .butKeys T 1 1 {<font color=#6c3e67>-st</font> we <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Tools&quot;</font> <font color=#6c3e67>-com</font> <font color=#7d1a1a>&quot;alited::pref::Tab nbk6&quot;</font> <font color=#6c3e67>-style</font> TButtonWest}}
    {.Cannbk6 .butTools L 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-w</font> 2 <font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-highlightthickness</font> 1 <font color=#6c3e67>-afteridle</font> {alited::pref::fillCan %w}}}
    {.v_  .butTools T 1 1 {<font color=#6c3e67>-st</font> ns} {<font color=#6c3e67>-h</font> 30}}
    {fraR fraL L 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {fraR.nbk - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {
        f1 {<font color=#6c3e67>-t</font> View}
        f2 {<font color=#6c3e67>-t</font> Saving}
        f3 {<font color=#6c3e67>-t</font> Projects}
    }}
    {fraR.nbk2 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Editor}
        f2 {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Tcl syntax&quot;</font>}
        f3 {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;C/C++ syntax&quot;</font>}
        f4 {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Plain text&quot;</font>}
    }}
    {fraR.nbk3 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Units}
    }}
    {fraR.nbk4 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Templates}
    }}
    {fraR.nbk5 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Keys}
    }}
    {fraR.nbk6 - - - - {<b><font color=#134070>pack</font></b> forget <font color=#6c3e67>-side</font> top} {
        f1 {<font color=#6c3e67>-t</font> Common}
        f2 {<font color=#6c3e67>-t</font> e_menu}
        f3 {<font color=#6c3e67>-t</font> bar/menu}
        f4 {<font color=#6c3e67>-t</font> tkcon}
    }}
    {#LabMess fraL T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-style</font> TLabelFS}}
    {seh fraL T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 2}}
    {fraB seh T 1 2 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-padding</font> {2 2}}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Help&quot;</font> <font color=#6c3e67>-com</font> ::alited::pref::Help}}
    {.LabMess - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-w</font> 50}}
    {.butOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> Save <font color=#6c3e67>-command</font> ::alited::pref::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-command</font> ::alited::pref::Cancel}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handler of &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_334' href="javascript:toggleSource('334')">Show source</a></p>
<div id='334' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Ok {args} {

  <i><font color=#4b5d50># Handler of &quot;OK&quot; button.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> ans [alited::msg yesnocancel info [msgcat::mc <font color=#7d1a1a>&quot;For the settings to be active\nthe application should be restarted.\n\nRestart it just now?&quot;</font>] YES <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font> in {1 2}} {
    GetEmSave out
    <i><font color=#4b5d50># check options that can make alited unusable</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,HUE)</font>&lt;-50 || <font color=#1b1baa>$al(INI,HUE)</font>&gt;50} {<b><font color=#3a6797>set</font></b> al(INI,HUE) 0}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FONTSIZE,small)</font>&lt;8 || <font color=#1b1baa>$al(FONTSIZE,small)</font>&gt;72} {<b><font color=#3a6797>set</font></b> al(FONTSIZE,small) 10}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FONTSIZE,std)</font>&lt;9 || <font color=#1b1baa>$al(FONTSIZE,std)</font>&gt;72} {<b><font color=#3a6797>set</font></b> al(FONTSIZE,std) 11}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,RECENTFILES)</font>&lt;10 || <font color=#1b1baa>$al(INI,RECENTFILES)</font>&gt;50} {<b><font color=#3a6797>set</font></b> al(INI,RECENTFILES) 16}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,MAXLAST)</font>&lt;10 || <font color=#1b1baa>$al(FAV,MAXLAST)</font>&gt;100} {<b><font color=#3a6797>set</font></b> al(FAV,MAXLAST) 100}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(MAXFILES)</font>&lt;1000 || <font color=#1b1baa>$al(MAXFILES)</font>&gt;9999} {<b><font color=#3a6797>set</font></b> al(MAXFILES) 2000}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,barlablen)</font>&lt;10 || <font color=#1b1baa>$al(INI,barlablen)</font>&gt;100} {<b><font color=#3a6797>set</font></b> al(INI,barlablen) 16}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(INI,bartiplen)</font>&lt;10 || <font color=#1b1baa>$al(INI,bartiplen)</font>&gt;100} {<b><font color=#3a6797>set</font></b> al(INI,bartiplen) 32}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(CURSORWIDTH)</font>&lt;1 || <font color=#1b1baa>$al(CURSORWIDTH)</font>&gt;8} {<b><font color=#3a6797>set</font></b> al(CURSORWIDTH) 2}
    <b><font color=#3a6797>set</font></b> al(THEME) <font color=#1b1baa>$opc1</font>
    <b><font color=#3a6797>set</font></b> al(INI,CS) [GetCS]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is integer <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(INI,CS)</font>]} {<b><font color=#3a6797>set</font></b> al(INI,CS) -1}
    <b><font color=#3a6797>set</font></b> al(EM,CS)  [GetCS 2]
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is integer <font color=#6c3e67>-strict</font> <font color=#1b1baa>$al(EM,CS)</font>]} {<b><font color=#3a6797>set</font></b> al(EM,CS) -1}
    <b><font color=#3a6797>set</font></b> al(ED,TclKeyWords) [[<font color=#1b1baa>$obDl2</font> TexTclKeys] get 1.0 {end -1c}]
    <b><font color=#3a6797>set</font></b> al(ED,TclKeyWords) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n { }] <font color=#1b1baa>$al(ED,TclKeyWords)</font>]
    <b><font color=#3a6797>set</font></b> al(ED,CKeyWords) [[<font color=#1b1baa>$obDl2</font> TexCKeys] get 1.0 {end -1c}]
    <b><font color=#3a6797>set</font></b> al(ED,CKeyWords) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n { }] <font color=#1b1baa>$al(ED,CKeyWords)</font>]
    <b><font color=#3a6797>set</font></b> al(BACKUP) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(BACKUP)</font>]
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(TCLLIST) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(TCLLIST)</font> 32 end]}
    <b><font color=#3a6797>set</font></b> al(EM,TclList) <font color=#1b1baa>$al(EM,Tcl)</font>
    <b><font color=#3a6797>foreach</font></b> tcl <font color=#1b1baa>$al(TCLLIST)</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tcl</font> ni [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,TclList)</font> \t]} {<b><font color=#3a6797>append</font></b> al(EM,TclList) \t <font color=#1b1baa>$tcl</font>}
    }
    <b><font color=#3a6797>set</font></b> al(EM,TclList) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(EM,TclList)</font>]
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(TTLIST) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(TTLIST)</font> 32 end]}
    <b><font color=#3a6797>set</font></b> al(EM,tt=List) <font color=#1b1baa>$al(EM,tt=)</font>
    <b><font color=#3a6797>foreach</font></b> tt <font color=#1b1baa>$al(TTLIST)</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tt</font> ni [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$al(EM,tt=List)</font> \t]} {<b><font color=#3a6797>append</font></b> al(EM,tt=List) \t <font color=#1b1baa>$tt</font>}
    }
    <b><font color=#3a6797>set</font></b> al(EM,tt=List) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(EM,tt=List)</font>]
    <b><font color=#3a6797>set</font></b> plst [<b><font color=#3a6797>lsort</font></b> [<b><font color=#3a6797>list</font></b> {} <font color=#1b1baa>$al(comm_port)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$al(comm_port_list)</font>]]
    <b><font color=#3a6797>set</font></b> al(comm_port_list) [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> pt <font color=#1b1baa>$plst</font> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pt</font> ni <font color=#1b1baa>$al(comm_port_list)</font>} {<b><font color=#3a6797>lappend</font></b> al(comm_port_list) <font color=#1b1baa>$pt</font>}
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(comm_port_list)</font>]&gt;32} break
    }
    <b><font color=#3a6797>set</font></b> al(EM,DiffTool) [<b><font color=#3a6797>file</font></b> join {<b><font color=#3a6797>*</font></b>}[<b><font color=#3a6797>file</font></b> split <font color=#1b1baa>$al(EM,DiffTool)</font>]]
    <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 1
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ans</font> == 1} {alited::Exit - 1 no}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::opcIcoPre'>opcIcoPre</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an item for icon list of a bar/menu action.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>opcIcoPre</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>contains a name of current icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_335' href="javascript:toggleSource('335')">Show source</a></p>
<div id='335' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::opcIcoPre {args} {

  <i><font color=#4b5d50># Gets an item for icon list of a bar/menu action.</font></i>
  <i><font color=#4b5d50>#   args - contains a name of current icon</font></i>

  fetchVars
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> a
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$listIcons</font> <font color=#1b1baa>$a</font>]]&gt;-1} {
    <b><font color=#3a6797>set</font></b> img [::apave::iconImage [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$listIcons</font> <font color=#1b1baa>$i</font>]]
    <b><font color=#3a6797>set</font></b> res <font color=#7d1a1a>&quot;-image <font color=#1b1baa>$</font>img&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res <font color=#7d1a1a>&quot;-image alimg_none&quot;</font>
  }
  <b><font color=#3a6797>append</font></b> res <font color=#7d1a1a>&quot; -compound left -label <font color=#1b1baa>$</font>a&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::opcToolPre'>opcToolPre</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets colors for &quot;Color schemes&quot; items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>opcToolPre</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>a color scheme's index and name, separated by &quot;:&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_336' href="javascript:toggleSource('336')">Show source</a></p>
<div id='336' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::opcToolPre {args} {

  <i><font color=#4b5d50># Gets colors for &quot;Color schemes&quot; items.</font></i>
  <i><font color=#4b5d50>#   args - a color scheme's index and name, separated by &quot;:&quot;</font></i>

  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$args</font> a
  <b><font color=#3a6797>set</font></b> a [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$a</font> :]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is integer <font color=#1b1baa>$a</font>]} {
    <b><font color=#3a6797>lassign</font></b> [::apave::obj csGet <font color=#1b1baa>$a</font>] - fg - bg
    <b><font color=#ca14ca>return</font></b> <font color=#7d1a1a>&quot;-background <font color=#1b1baa>$</font>bg -foreground <font color=#1b1baa>$</font>fg&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#ca14ca>return</font></b> {}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::OwnCS'>OwnCS</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Looks for onwCS option.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OwnCS</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_337' href="javascript:toggleSource('337')">Show source</a></p>
<div id='337' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::OwnCS {} {

  <i><font color=#4b5d50># Looks for onwCS option.</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,exec)</font>} {<b><font color=#3a6797>set</font></b> st normal} {<b><font color=#3a6797>set</font></b> st disabled; <b><font color=#3a6797>set</font></b> al(EM,ownCS) no}
  [<font color=#1b1baa>$obDl2</font> SwiCS] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$st</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,ownCS)</font>} {<b><font color=#3a6797>set</font></b> st normal} {<b><font color=#3a6797>set</font></b> st disabled}
  [<font color=#1b1baa>$obDl2</font> OpcCS] configure <font color=#6c3e67>-state</font> <font color=#1b1baa>$st</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::PickMenuItem'>PickMenuItem</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects e_menu's action for a &quot;bar/menu&quot; item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PickMenuItem</span> <span class='ruff_arg'>it</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>it</code></code></td><td class='ruff_defitem'>index of &quot;bar/menu&quot; item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_338' href="javascript:toggleSource('338')">Show source</a></p>
<div id='338' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::PickMenuItem {it} {

  <i><font color=#4b5d50># Selects e_menu's action for a &quot;bar/menu&quot; item.</font></i>
  <i><font color=#4b5d50>#   it - index of &quot;bar/menu&quot; item</font></i>

  fetchVars
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists ::em::geometry]} {
    <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::e_menu_dir</font> e_menu.tcl]
  }
  <b><font color=#3a6797>set</font></b> w [<font color=#1b1baa>$obDl2</font> ButMnu<font color=#1b1baa>$it</font>]
  <b><font color=#3a6797>set</font></b> X [<b><font color=#134070>winfo</font></b> rootx <font color=#1b1baa>$w</font>]
  <b><font color=#3a6797>set</font></b> Y [<b><font color=#134070>winfo</font></b> rooty <font color=#1b1baa>$w</font>]
  <b><font color=#3a6797>set</font></b> res [::em::main <font color=#6c3e67>-prior</font> 1 <font color=#6c3e67>-modal</font> 1 <font color=#6c3e67>-remain</font> 0 <font color=#6c3e67>-noCS</font> 1  {<b><font color=#3a6797>*</font></b>}[alited::tool::EM_Options <font color=#7d1a1a>&quot;pk=yes dk=dock o=-1 t=1 g=+<font color=#1b1baa>[</font>incr X 5<font color=#1b1baa>]</font>+<font color=#1b1baa>[</font>incr Y 25<font color=#1b1baa>]</font>&quot;</font>]]
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$res</font> menu idx item
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {
    <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lindex</font></b> [alited::tool::EM_Structure <font color=#1b1baa>$menu</font>] <font color=#1b1baa>$idx</font>-1 1]
    <b><font color=#3a6797>set</font></b> item2 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$i</font> [<b><font color=#3a6797>string</font></b> first - <font color=#1b1baa>$i</font>]+1 end]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item2</font> ne <font color=#1b1baa>$item</font> && [<b><font color=#3a6797>string</font></b> match *.mnu <font color=#1b1baa>$item2</font>]} {
      <b><font color=#3a6797>append</font></b> item2 <font color=#7d1a1a>&quot;: <font color=#1b1baa>$</font>item&quot;</font>  ;<i><font color=#4b5d50># it's a menu call title</font></i>
      <b><font color=#3a6797>set</font></b> idx - ;<i><font color=#4b5d50># to open the whole menu</font></i>
    }
    <font color=#1b1baa>$w</font> configure <font color=#6c3e67>-text</font> <font color=#1b1baa>$item2</font>
    <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$it</font>) <font color=#1b1baa>$item2</font>
    <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$it</font>) [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$menu</font>] <font color=#1b1baa>$idx</font> <font color=#1b1baa>$item2</font>]
    ScrollRuns
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::RegisterKeys'>RegisterKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds key bindings to keys array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RegisterKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_339' href="javascript:toggleSource('339')">Show source</a></p>
<div id='339' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::RegisterKeys {} {

  <i><font color=#4b5d50># Adds key bindings to keys array.</font></i>

  fetchVars
  alited::keys::Delete preference
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> k 0} {<font color=#1b1baa>$k</font>&lt;<font color=#1b1baa>$stdkeysSize</font>} {<b><font color=#3a6797>incr</font></b> k} {
    alited::keys::Add preference <font color=#1b1baa>$k</font> [<b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>)] <font color=#7d1a1a>&quot;alited::pref::BindKey <font color=#1b1baa>$</font>k <font color=#1b1baa>{</font>%k<font color=#1b1baa>}</font>&quot;</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ReservedIcons'>ReservedIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of icons already engaged by alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReservedIcons</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of icons already engaged by alited.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_340' href="javascript:toggleSource('340')">Show source</a></p>
<div id='340' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::ReservedIcons {} {

  <i><font color=#4b5d50># Returns a list of icons already engaged by alited.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> file OpenFile box SaveFile saveall undo redo help replace run other ok color]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::RestoreSettings'>RestoreSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores original settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_341' href="javascript:toggleSource('341')">Show source</a></p>
<div id='341' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::RestoreSettings {} {

  <i><font color=#4b5d50># Restores original settings.</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> o [SavedOptions] {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$o</font>) <font color=#1b1baa>$data($o)</font>}
  }
  <b><font color=#3a6797>dict</font></b> for {k info} <font color=#1b1baa>$stdkeys</font> {
    <b><font color=#3a6797>set</font></b> keys(<font color=#1b1baa>$k</font>) <font color=#1b1baa>$savekeys($k)</font>
    SelectKey <font color=#1b1baa>$k</font>
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> em_mnu(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$data(em_mnu,$i)</font>
      <b><font color=#3a6797>set</font></b> em_ico(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$data(em_ico,$i)</font>
      <b><font color=#3a6797>set</font></b> em_sep(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$data(em_sep,$i)</font>
      <b><font color=#3a6797>set</font></b> em_inf(<font color=#1b1baa>$i</font>) <font color=#1b1baa>$data(em_inf,$i)</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Runs_Tab'>Runs_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares and layouts &quot;Tools/bar/menu&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Runs_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_342' href="javascript:toggleSource('342')">Show source</a></p>
<div id='342' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Runs_Tab {} {

  <i><font color=#4b5d50># Prepares and layouts &quot;Tools/bar/menu&quot; tab.</font></i>

  fetchVars
  <i><font color=#4b5d50># get a list of all available icons for &quot;bar/menu&quot; actions</font></i>
  <b><font color=#3a6797>set</font></b> listIcons [::apave::iconImage]
  <b><font color=#3a6797>set</font></b> em_Icons [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$listIcons</font>]
  <b><font color=#3a6797>set</font></b> icr 0
  <b><font color=#3a6797>set</font></b> ncr 0
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;(<font color=#1b1baa>$n</font>+43)} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$icr</font> && (<font color=#1b1baa>$icr</font> % 13) == 0} {<b><font color=#3a6797>lappend</font></b> em_Icons |}
    <b><font color=#3a6797>set</font></b> ii [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$icr</font>-<font color=#1b1baa>$ncr</font>}]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$n</font>} {
      <b><font color=#3a6797>set</font></b> ico [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$listIcons</font> <font color=#1b1baa>$i</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ico</font> in [ReservedIcons]} <b><font color=#3a6797>continue</font></b>
      <b><font color=#3a6797>lappend</font></b> em_Icons <font color=#1b1baa>$ico</font>
      <b><font color=#3a6797>incr</font></b> ncr
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$ii</font>&lt;10} {
      <b><font color=#3a6797>lappend</font></b> em_Icons <font color=#1b1baa>$ii</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> em_Icons [<b><font color=#3a6797>string</font></b> index [TextIcons] [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$ii</font> -10}]]
    }
    <b><font color=#3a6797>incr</font></b> icr
  }
  EmSeparators no
  <i><font color=#4b5d50># get a layout of &quot;bar/menu&quot; tab</font></i>
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1} {<font color=#6c3e67>-afteridle</font> {::alited::pref::EmSeparators yes}}}
    {fra.ScfRuns - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1}}
    {tcl {
        <b><font color=#3a6797>set</font></b> prt <font color=#7d1a1a>&quot;- -&quot;</font>
        <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$::alited::pref::em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
          <b><font color=#3a6797>set</font></b> nit [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.buTAdd<font color=#1b1baa>$</font>i <font color=#1b1baa>$</font>prt 1 1 <font color=#1b1baa>{</font>-padx 0<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-tip <font color=#1b1baa>{</font>Inserts a new line.<font color=#1b1baa>}</font> -com <font color=#1b1baa>{</font>::alited::pref::EmAddLine <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font> -takefocus 0 -relief flat -image alimg_add<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.buTDel<font color=#1b1baa>$</font>i .buTAdd<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{</font>-padx 1<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-tip <font color=#1b1baa>{</font>Deletes a line.<font color=#1b1baa>}</font> -com <font color=#1b1baa>{</font>::alited::pref::EmDelLine <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font> -takefocus 0 -relief flat -image alimg_delete<font color=#1b1baa>}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.lab<font color=#1b1baa>$</font>i .buTDel<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{</font>-st w -padx 3<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-t <font color=#1b1baa>{$</font>alited::al(MC,Item)<font color=#1b1baa>$</font>nit<font color=#1b1baa>}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.ChbMT<font color=#1b1baa>$</font>i .lab<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{</font>-padx 10<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-t separator -var ::alited::pref::em_sep(<font color=#1b1baa>$</font>i) -tip <font color=#1b1baa>{</font>If 'yes', means a separator of the toolbar/menu.<font color=#1b1baa>}</font> -com <font color=#1b1baa>{</font>::alited::pref::EmSeparators yes<font color=#1b1baa>}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.OpcIco<font color=#1b1baa>$</font>i .ChbMT<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{</font>-st nsw<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>::alited::pref::em_ico(<font color=#1b1baa>$</font>i) alited::pref::em_Icons <font color=#1b1baa>{</font>-width 10 -tooltip <font color=#1b1baa>{{</font>An icon puts the run into the toolbar.\nBlank or 'none' excludes it from the toolbar.<font color=#1b1baa>}}}</font> <font color=#1b1baa>{</font>alited::pref::opcIcoPre %a<font color=#1b1baa>}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> lwid <font color=#7d1a1a>&quot;.ButMnu<font color=#1b1baa>$</font>i .OpcIco<font color=#1b1baa>$</font>i L 1 1 <font color=#1b1baa>{</font>-st sw -pady 1 -padx 10<font color=#1b1baa>}</font> <font color=#1b1baa>{</font>-t <font color=#1b1baa>{$</font>::alited::pref::em_mnu(<font color=#1b1baa>$</font>i)<font color=#1b1baa>}</font> -com <font color=#1b1baa>{</font>alited::pref::PickMenuItem <font color=#1b1baa>$</font>i<font color=#1b1baa>}</font> -style TButtonWest -tip <font color=#1b1baa>{{</font>The run item for the menu and/or the toolbar.\nSelect it from the e_menu items.<font color=#1b1baa>}}}</font>&quot;</font>
          %C <font color=#1b1baa>$lwid</font>
          <b><font color=#3a6797>set</font></b> prt <font color=#7d1a1a>&quot;.buTAdd<font color=#1b1baa>$</font>i T&quot;</font>
      }}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SavedOptions'>SavedOptions</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of names of main settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SavedOptions</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of names of main settings.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_343' href="javascript:toggleSource('343')">Show source</a></p>
<div id='343' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::SavedOptions {} {

  <i><font color=#4b5d50># Returns a list of names of main settings.</font></i>

  fetchVars
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>array</font></b> name al]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SaveSettings'>SaveSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves original settings.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_344' href="javascript:toggleSource('344')">Show source</a></p>
<div id='344' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::SaveSettings {} {

  <i><font color=#4b5d50># Saves original settings.</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> o [SavedOptions] {
    <b><font color=#3a6797>set</font></b> data(<font color=#1b1baa>$o</font>) <font color=#1b1baa>$al($o)</font>
  }
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;<font color=#1b1baa>$em_Num</font>} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>set</font></b> data(em_mnu,<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_mnu($i)</font>
      <b><font color=#3a6797>set</font></b> data(em_ico,<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_ico($i)</font>
      <b><font color=#3a6797>set</font></b> data(em_sep,<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_sep($i)</font>
      <b><font color=#3a6797>set</font></b> data(em_inf,<font color=#1b1baa>$i</font>) <font color=#1b1baa>$em_inf($i)</font>
    }
  }
  <b><font color=#3a6797>set</font></b> data(INI,CSsaved) <font color=#1b1baa>$data(INI,CS)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::ScrollRuns'>ScrollRuns</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates scrollbars of bar/menu tab because its contents may have various length.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ScrollRuns</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_345' href="javascript:toggleSource('345')">Show source</a></p>
<div id='345' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::ScrollRuns {} {

  <i><font color=#4b5d50># Updates scrollbars of bar/menu tab because its contents may have various length.</font></i>

  fetchVars
  <b><font color=#3a6797>update</font></b>
  ::apave::sframe resize [<font color=#1b1baa>$obDl2</font> ScfRuns]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::SelectKey'>SelectKey</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &lt;<ComboboxSelected>&gt; event on a combobox of keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectKey</span> <span class='ruff_arg'>nk</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nk</code></code></td><td class='ruff_defitem'>index of combobox</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_346' href="javascript:toggleSource('346')">Show source</a></p>
<div id='346' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::SelectKey {nk} {

  <i><font color=#4b5d50># Handles &lt;&lt;ComboboxSelected&gt;&gt; event on a combobox of keys.</font></i>
  <i><font color=#4b5d50>#   nk - index of combobox</font></i>

  fetchVars
  alited::keys::Delete {} <font color=#1b1baa>$prevkeys($nk)</font>
  <b><font color=#3a6797>set</font></b> prevkeys(<font color=#1b1baa>$nk</font>) <font color=#1b1baa>$keys($nk)</font>
  GetKeyList <font color=#1b1baa>$nk</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tab'>Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles changing tabs of notebooks.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab</span> <span class='ruff_arg'>tab ?nt? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tab</code></code></td><td class='ruff_defitem'>name of notebook</td></tr>
<tr><td class='ruff_defitem'><code><code>nt</code></code></td><td class='ruff_defitem'>tab of notebook; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>if yes, forces changing tabs; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>At changing the current notebook: we need to save the old selection in order to restore the selection at returning to the notebook.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_347' href="javascript:toggleSource('347')">Show source</a></p>
<div id='347' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tab {tab {nt {}} {doit no}} {

  <i><font color=#4b5d50># Handles changing tabs of notebooks.</font></i>
  <i><font color=#4b5d50>#   tab - name of notebook</font></i>
  <i><font color=#4b5d50>#   nt - tab of notebook</font></i>
  <i><font color=#4b5d50>#   doit - if yes, forces changing tabs.</font></i>
  <i><font color=#4b5d50># At changing the current notebook: we need to save the old selection</font></i>
  <i><font color=#4b5d50># in order to restore the selection at returning to the notebook.</font></i>
  fetchVars
  <b><font color=#3a6797>foreach</font></b> nbk {nbk nbk2 nbk3 nbk4 nbk5 nbk6} {fillCan [<font color=#1b1baa>$obDl2</font> Can<font color=#1b1baa>$nbk</font>]}
  <b><font color=#3a6797>foreach</font></b> but {Home Change Categories Actions Keys Tools} {
    [<font color=#1b1baa>$obDl2</font> But<font color=#1b1baa>$but</font>] configure <font color=#6c3e67>-style</font> TButtonWest
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$tab</font> {
    nbk  {<b><font color=#3a6797>set</font></b> but Home}
    nbk2 {<b><font color=#3a6797>set</font></b> but Change}
    nbk3 {<b><font color=#3a6797>set</font></b> but Categories}
    nbk4 {<b><font color=#3a6797>set</font></b> but Actions}
    nbk5 {<b><font color=#3a6797>set</font></b> but Keys}
    nbk6 {<b><font color=#3a6797>set</font></b> but Tools}
  }
  [<font color=#1b1baa>$obDl2</font> But<font color=#1b1baa>$but</font>] configure <font color=#6c3e67>-style</font> TButtonWestHL
  fillCan [<font color=#1b1baa>$obDl2</font> Can<font color=#1b1baa>$tab</font>] yes
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> ne <font color=#1b1baa>$curTab</font> || <font color=#1b1baa>$doit</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curTab</font> ne {}} {
      <b><font color=#3a6797>set</font></b> arrayTab(<font color=#1b1baa>$curTab</font>) [<font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select]
      <b><font color=#134070>pack</font></b> forget <font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font>
    }
    <b><font color=#3a6797>set</font></b> curTab <font color=#1b1baa>$tab</font>
    <b><font color=#134070>pack</font></b> <font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> <font color=#6c3e67>-expand</font> yes <font color=#6c3e67>-fill</font> both
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nt</font> eq {}} {<b><font color=#3a6797>set</font></b> nt <font color=#1b1baa>$arrayTab($curTab)</font>}
      <font color=#1b1baa>$win</font>.fra.fraR.<font color=#1b1baa>$curTab</font> select <font color=#1b1baa>$nt</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tab</font> eq {nbk2}} {
    <i><font color=#4b5d50># check if a color scheme is switched light/dark - if yes, disable colors</font></i>
    <b><font color=#3a6797>set</font></b> cs [GetCS]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$data(INI,CSsaved)</font>!=<font color=#1b1baa>$cs</font>} {
      Tcl_Default 0 yes
      C_Default 0 yes
      UpdateSyntaxTab
      UpdateSyntaxTab 2
    }
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> csGet <font color=#1b1baa>$cs</font>] fg - bg
    [<font color=#1b1baa>$obDl2</font> TexSample] configure <font color=#6c3e67>-fg</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-bg</font> <font color=#1b1baa>$bg</font>
    [<font color=#1b1baa>$obDl2</font> TexCSample] configure <font color=#6c3e67>-fg</font> <font color=#1b1baa>$fg</font> <font color=#6c3e67>-bg</font> <font color=#1b1baa>$bg</font>
    <b><font color=#3a6797>set</font></b> data(INI,CSsaved) <font color=#1b1baa>$cs</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tcl_Default'>Tcl_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets default colors to highlight Tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tcl_Default</span> <span class='ruff_arg'>isyn ?init?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isyn</code></code></td><td class='ruff_defitem'>index of syntax colors</td></tr>
<tr><td class='ruff_defitem'><code><code>init</code></code></td><td class='ruff_defitem'>yes, if only variables should be initialized; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_348' href="javascript:toggleSource('348')">Show source</a></p>
<div id='348' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tcl_Default {isyn {init no}} {

  <i><font color=#4b5d50># Sets default colors to highlight Tcl.</font></i>
  <i><font color=#4b5d50>#   isyn - index of syntax colors</font></i>
  <i><font color=#4b5d50>#   init - yes, if only variables should be initialized</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(TclExtensions) <font color=#1b1baa>$al(TclExtensionsDef)</font>
  <b><font color=#3a6797>set</font></b> Dark [CsDark]
  <b><font color=#3a6797>set</font></b> clrnams [::hl_tcl::hl_colorNames]
  <b><font color=#3a6797>set</font></b> clrvals [::hl_tcl::hl_colors <font color=#1b1baa>$isyn</font> <font color=#1b1baa>$Dark</font>]
  <b><font color=#3a6797>foreach</font></b> nam <font color=#1b1baa>$clrnams</font> val <font color=#1b1baa>$clrvals</font> {
    <b><font color=#3a6797>set</font></b> al(ED,<font color=#1b1baa>$nam</font>) <font color=#1b1baa>$val</font>
  }
  <b><font color=#3a6797>set</font></b> al(ED,Dark) <font color=#1b1baa>$Dark</font>
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$init</font>} UpdateSyntaxTab
  <b><font color=#3a6797>set</font></b> al(syntaxidx) <font color=#1b1baa>$isyn</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Template_Tab'>Template_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Template&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Template_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_349' href="javascript:toggleSource('349')">Show source</a></p>
<div id='349' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Template_Tab {} {

  <i><font color=#4b5d50># Serves to layout &quot;Template&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
    {.labH - - 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Enter %U, %u, %m, %w, %d, %t wildcards of templates:&quot;</font>}}
    {.labU .labH T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;User name:&quot;</font>}}
    {.entU .labU L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(TPL,%U) <font color=#6c3e67>-w</font> 40}}
    {.labu .labU T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-anc</font> e <font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Login:&quot;</font>}}
    {.entu .labu L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(TPL,%u) <font color=#6c3e67>-w</font> 30}}
    {.labm .labu T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;E-mail:&quot;</font>}}
    {.entm .labm L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(TPL,%m) <font color=#6c3e67>-w</font> 40}}
    {.labw .labm T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;WWW:&quot;</font>}}
    {.entw .labw L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(TPL,%w) <font color=#6c3e67>-w</font> 40}}
    {.labd .labw T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Date format:&quot;</font>}}
    {.entd .labd L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(TPL,%d) <font color=#6c3e67>-w</font> 30}}
    {.labt .labd T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Time format:&quot;</font>}}
    {.entt .labt L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(TPL,%t) <font color=#6c3e67>-w</font> 30}}
    {.seh .labt T 1 2 {<font color=#6c3e67>-pady</font> 3}}
    {.but .seh T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$::alited::al(MC,tpllist)</font>} <font color=#6c3e67>-com</font> {alited::unit_tpl::_run no <font color=#7d1a1a>&quot;-geometry root=<font color=#1b1baa>$</font>::alited::pref::win&quot;</font>}}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Text_Default'>Text_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets defaults for plain text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_350' href="javascript:toggleSource('350')">Show source</a></p>
<div id='350' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Text_Default {} {

  <i><font color=#4b5d50># Sets defaults for plain text.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(TextExtensions) <font color=#1b1baa>$al(TextExtensionsDef)</font>
  <b><font color=#3a6797>update</font></b>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::TextIcons'>TextIcons</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of letters to be toolbar &quot;icons&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TextIcons</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of letters to be toolbar &quot;icons&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_351' href="javascript:toggleSource('351')">Show source</a></p>
<div id='351' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::TextIcons {} {

  <i><font color=#4b5d50># Returns a list of letters to be toolbar &quot;icons&quot;.</font></i>

  <b><font color=#ca14ca>return</font></b> ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%&*=
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Default'>Tkcon_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets defaults for &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_352' href="javascript:toggleSource('352')">Show source</a></p>
<div id='352' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tkcon_Default {} {

  <i><font color=#4b5d50># Sets defaults for &quot;Tools/Tkcon&quot; tab.</font></i>

  fetchVars
  <b><font color=#3a6797>foreach</font></b> {clr val} {  bg #25292b blink #929281 cursor #FFFFFF disabled #999797 proc #FF6600  var #602B06 prompt #66FF10 stdin #FFFFFF stdout #CECECE stderr #FB44C0} {
    <b><font color=#3a6797>set</font></b> al(tkcon,clr<font color=#1b1baa>$clr</font>) <font color=#1b1baa>$val</font>
  }
  <b><font color=#3a6797>set</font></b> al(tkcon,rows) 20
  <b><font color=#3a6797>set</font></b> al(tkcon,cols) 100
  <b><font color=#3a6797>set</font></b> al(tkcon,fsize) 13
  <b><font color=#3a6797>set</font></b> al(tkcon,geo) +1+1
  <b><font color=#3a6797>set</font></b> al(tkcon,topmost) 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Tkcon_Tab'>Tkcon_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tkcon_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_353' href="javascript:toggleSource('353')">Show source</a></p>
<div id='353' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Tkcon_Tab {} {

  <i><font color=#4b5d50># Serves to layout &quot;Tools/Tkcon&quot; tab.</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists alited::al(tkcon,clrbg)]} Tkcon_Default
  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> y}}
    {fra.scf.lfr - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-t</font> Colors}}
    {.Labbg - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;bg:&quot;</font>}}
    {.clrbg .labbg L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrbg) <font color=#6c3e67>-w</font> 20}}
    {.labblink .labbg T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;blink:&quot;</font>}}
    {.clrblink .labblink L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrblink) <font color=#6c3e67>-w</font> 20}}
    {.labcursor .labblink T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;cursor:&quot;</font>}}
    {.clrcursor .labcursor L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrcursor) <font color=#6c3e67>-w</font> 20}}
    {.labdisabled .labcursor T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;disabled:&quot;</font>}}
    {.clrdisabled .labdisabled L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrdisabled) <font color=#6c3e67>-w</font> 20}}
    {.labproc .labdisabled T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;proc:&quot;</font>}}
    {.clrproc .labproc L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrproc) <font color=#6c3e67>-w</font> 20}}
    {.labvar .labproc T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;var:&quot;</font>}}
    {.clrvar .labvar L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrvar) <font color=#6c3e67>-w</font> 20}}
    {.labprompt .labvar T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;prompt:&quot;</font>}}
    {.clrprompt .labprompt L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrprompt) <font color=#6c3e67>-w</font> 20}}
    {.labstdin .labprompt T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;stdin:&quot;</font>}}
    {.clrstdin .labstdin L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrstdin) <font color=#6c3e67>-w</font> 20}}
    {.labstdout .labstdin T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;stdout:&quot;</font>}}
    {.clrstdout .labstdout L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrstdout) <font color=#6c3e67>-w</font> 20}}
    {.labstderr .labstdout T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;stderr:&quot;</font>}}
    {.clrstderr .labstderr L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,clrstderr) <font color=#6c3e67>-w</font> 20}}
    {fra.scf.v_ fra.scf.lfr T 1 1  {<b><font color=#134070>pack</font></b>} {<font color=#6c3e67>-h</font> 10}}
    {fra.scf.lfr2 fra.scf.v_ T 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x} {<font color=#6c3e67>-t</font> Options}}
    {.labRows - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Rows:&quot;</font>}}
    {.spxRows .labRows L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,rows) <font color=#6c3e67>-from</font> 4 <font color=#6c3e67>-to</font> 40 <font color=#6c3e67>-w</font> 9}}
    {.labCols .labRows T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Columns:&quot;</font>}}
    {.spxCols .labCols L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,cols) <font color=#6c3e67>-from</font> 15 <font color=#6c3e67>-to</font> 150 <font color=#6c3e67>-w</font> 9}}
    {.labFsize .labCols T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Font size:&quot;</font>}}
    {.spxFS .labFsize L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,fsize) <font color=#6c3e67>-from</font> 8 <font color=#6c3e67>-to</font> 20 <font color=#6c3e67>-w</font> 9}}
    {.labGeo .labFsize T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Geometry:&quot;</font>}}
    {.entGeo .labGeo L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(tkcon,geo) <font color=#6c3e67>-w</font> 20}}
    {.labTopmost .labGeo T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Stay on top:&quot;</font>}}
    {.swiTopmost .labTopmost L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-var</font> alited::al(tkcon,topmost)}}
    {fra.scf.but - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-t</font> Default <font color=#6c3e67>-com</font> {alited::pref::Tkcon_Default; alited::pref::UpdateTkconTab} <font color=#6c3e67>-w</font> 20}}
    {fra.scf.but2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 5 <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-t</font> Test <font color=#6c3e67>-com</font> alited::tool::tkcon <font color=#6c3e67>-w</font> 20}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Units_Default'>Units_Default</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the default settings of units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Units_Default</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_354' href="javascript:toggleSource('354')">Show source</a></p>
<div id='354' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Units_Default {} {

  <i><font color=#4b5d50># Sets the default settings of units.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> al(INI,LINES1) 10
  <b><font color=#3a6797>set</font></b> al(INI,LEAF) 0
  <b><font color=#3a6797>set</font></b> al(RE,branch) <font color=#1b1baa>$al(RE,branchDEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,leaf) <font color=#1b1baa>$al(RE,leafDEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,proc) <font color=#1b1baa>$al(RE,procDEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,leaf2) <font color=#1b1baa>$al(RE,leaf2DEF)</font>
  <b><font color=#3a6797>set</font></b> al(RE,proc2) <font color=#1b1baa>$al(RE,proc2DEF)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::Units_Tab'>Units_Tab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Serves to layout &quot;Units&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Units_Tab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_355' href="javascript:toggleSource('355')">Show source</a></p>
<div id='355' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::Units_Tab {} {

  <i><font color=#4b5d50># Serves to layout &quot;Units&quot; tab.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {v_ - - 1 1}
    {fra v_ T 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
    {fra.scf - - 1 1  {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-mode</font> x}}
    {.labBr - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Branch's regexp:&quot;</font>}}
    {.entBr .labBr L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(RE,branch) <font color=#6c3e67>-w</font> 70}}
    {.labPr .labBr T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Proc's regexp:&quot;</font>}}
    {.entPr .labPr L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(RE,proc) <font color=#6c3e67>-w</font> 70}}
    {.seh_0 .labPr T 1 2 {<font color=#6c3e67>-pady</font> 5}}
    {.labLf2 .seh_0 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Check branch's regexp:&quot;</font>}}
    {.entLf2 .labLf2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(RE,leaf2) <font color=#6c3e67>-w</font> 70}}
    {.labPr2 .labLf2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Check proc's regexp:&quot;</font>}}
    {.entPr2 .labPr2 L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(RE,proc2) <font color=#6c3e67>-w</font> 70}}
    {.seh_1 .labPr2 T 1 2 {<font color=#6c3e67>-pady</font> 5}}
    {.labUself .seh_1 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Use leaf's regexp:&quot;</font>}}
    {.swiUself .labUself L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-var</font> alited::al(INI,LEAF) <font color=#6c3e67>-onvalue</font> yes <font color=#6c3e67>-offvalue</font> no <font color=#6c3e67>-com</font> alited::pref::CheckUseLeaf <font color=#6c3e67>-afteridle</font> alited::pref::CheckUseLeaf}}
    {.labLf .labUself T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Leaf's regexp:&quot;</font>}}
    {.EntLf .labLf L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(RE,leaf) <font color=#6c3e67>-w</font> 70}}
    {.seh_2 .labLf T 1 2 {<font color=#6c3e67>-pady</font> 5}}
    {.labUnt .seh_2 T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Untouched top lines:&quot;</font>}}
    {.spxUnt .labUnt L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-tvar</font> alited::al(INI,LINES1) <font color=#6c3e67>-from</font> 2 <font color=#6c3e67>-to</font> 200 <font color=#6c3e67>-w</font> 9}}
    {.seh_3 .labUnt T 1 2 {<font color=#6c3e67>-pady</font> 5}}
    {.but .seh_3 T 1 1 {<font color=#6c3e67>-st</font> w} {<font color=#6c3e67>-t</font> Default <font color=#6c3e67>-com</font> alited::pref::Units_Default}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::UpdateSyntaxTab'>UpdateSyntaxTab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates color labels at clicking &quot;Default&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateSyntaxTab</span> <span class='ruff_arg'>?lng?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lng</code></code></td><td class='ruff_defitem'>{} for Tcl, {2} for C/C++; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_356' href="javascript:toggleSource('356')">Show source</a></p>
<div id='356' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::UpdateSyntaxTab {{lng {}}} {

  <i><font color=#4b5d50># Updates color labels at clicking &quot;Default&quot; button.</font></i>
  <i><font color=#4b5d50>#   lng - {} for Tcl, {2} for C/C++</font></i>

  fetchVars
  <b><font color=#3a6797>catch</font></b> {
    InitSyntax <font color=#1b1baa>$lng</font>
    <b><font color=#3a6797>foreach</font></b> nam [::hl_tcl::hl_colorNames] {
      <b><font color=#3a6797>lappend</font></b> colors <font color=#1b1baa>$al(ED,$nam)</font>
      <b><font color=#3a6797>lappend</font></b> Ccolors <font color=#1b1baa>$al(ED,C$nam)</font>
    }
    <b><font color=#3a6797>lassign</font></b> [::hl_tcl::addingColors [CsDark] {} [GetCS]] clrCURL clrCMN2
    <b><font color=#3a6797>lappend</font></b> colors <font color=#1b1baa>$clrCURL</font> <font color=#1b1baa>$clrCMN2</font>
    <b><font color=#3a6797>lappend</font></b> Ccolors <font color=#1b1baa>$clrCURL</font> <font color=#1b1baa>$clrCMN2</font>
    InitSyntaxTcl <font color=#1b1baa>$colors</font>
    InitSyntaxC <font color=#1b1baa>$Ccolors</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::pref::UpdateTkconTab'>UpdateTkconTab</a><span class='ns_scope'> [<a href="alited.html#::alited::pref" title="::alited::pref" class='ruff_cmd'>::alited::pref</a>]</span><span class='tinylink'><a href='alited.html#::alited::pref'>pref</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates color labels for &quot;Tools/Tkcon&quot; tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTkconTab</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_357' href="javascript:toggleSource('357')">Show source</a></p>
<div id='357' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::pref::UpdateTkconTab {} {

  <i><font color=#4b5d50># Updates color labels for &quot;Tools/Tkcon&quot; tab.</font></i>

  fetchVars
  <b><font color=#3a6797>set</font></b> lab1 [<font color=#1b1baa>$obDl2</font> Labbg]
  <b><font color=#3a6797>foreach</font></b> nam {bg blink cursor disabled proc var prompt stdin stdout stderr} {
    <b><font color=#3a6797>set</font></b> lab [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> labbg labclr<font color=#1b1baa>$nam</font>] <font color=#1b1baa>$lab1</font>]
    <b><font color=#3a6797>set</font></b> ent [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> labbg entclr<font color=#1b1baa>$nam</font>] <font color=#1b1baa>$lab1</font>]
    <font color=#1b1baa>$lab</font> configure <font color=#6c3e67>-background</font> [<font color=#1b1baa>$ent</font> get]
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::project'></a>::alited::project<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::project-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::project::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and opens &quot;Projects&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_358' href="javascript:toggleSource('358')">Show source</a></p>
<div id='358' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::_create {} {

  <i><font color=#4b5d50># Creates and opens &quot;Projects&quot; dialogue.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> geo
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> oldTab
  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>set</font></b> curinfo(_NO2ENT) 0
  <font color=#1b1baa>$obDl2</font> makeWindow <font color=#1b1baa>$win</font>.fra <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>al(MC,projects) :: <font color=#1b1baa>$</font>::alited::PRJDIR&quot;</font>
  <font color=#1b1baa>$obDl2</font> paveWindow  <font color=#1b1baa>$win</font>.fra [MainFrame]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f1 [Tab1]  <font color=#1b1baa>$win</font>.fra.fraR.nbk.f2 [Tab2]
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl2</font> TreePrj]
  <font color=#1b1baa>$tree</font> heading C1 <font color=#6c3e67>-text</font> <font color=#1b1baa>$al(MC,projects)</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldTab</font> ne {}} {
    <font color=#1b1baa>$win</font>.fra.fraR.nbk select <font color=#1b1baa>$oldTab</font>
  }
  UpdateTree
  ::apave::bindToEvent <font color=#1b1baa>$tree</font> &lt;&lt;TreeviewSelect&gt;&gt; ::alited::project::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Delete&gt; ::alited::project::Delete
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Double-Button-1&gt; ::alited::project::ProjectEnter
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Return&gt; ::alited::project::ProjectEnter
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#7d1a1a>&quot;<font color=#1b1baa>[$</font>obDl2 ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#3a6797>foreach</font></b> a {a A} {
    <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obDl2</font> LbxFlist] &lt;Control-<font color=#1b1baa>$a</font>&gt; alited::project::SelectAllFiles
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ilast</font>&gt;-1} {Select <font color=#1b1baa>$ilast</font>}
  <b><font color=#3a6797>after</font></b> 500 ::alited::project::HelpMe ;<i><font color=#4b5d50># show an introduction after a short pause</font></i>
  <b><font color=#3a6797>set</font></b> prjtex [<font color=#1b1baa>$obDl2</font> TexPrj]
  <b><font color=#3a6797>set</font></b> klndtex [<font color=#1b1baa>$obDl2</font> TexKlnd]
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$prjtex</font> &lt;FocusOut&gt; alited::project::SaveNotes
  ::hl_tcl::hl_init <font color=#1b1baa>$prjtex</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obDl2</font> csDark] <font color=#6c3e67>-plaintext</font> 1  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT)</font> <font color=#6c3e67>-insertwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>
  ::hl_tcl::hl_init <font color=#1b1baa>$klndtex</font> <font color=#6c3e67>-dark</font> [<font color=#1b1baa>$obDl2</font> csDark] <font color=#6c3e67>-plaintext</font> 1  <font color=#6c3e67>-cmd</font> ::alited::project::KlndTextModified  <font color=#6c3e67>-font</font> <font color=#1b1baa>$al(FONT)</font> <font color=#6c3e67>-insertwidth</font> <font color=#1b1baa>$al(CURSORWIDTH)</font>
  ::hl_tcl::hl_text <font color=#1b1baa>$prjtex</font>
  ::hl_tcl::hl_text <font color=#1b1baa>$klndtex</font>
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl2</font> showModal <font color=#1b1baa>$win</font>  <font color=#6c3e67>-geometry</font> <font color=#1b1baa>$geo</font> <font color=#6c3e67>-minsize</font> {600 400}  <font color=#6c3e67>-onclose</font> ::alited::project::Cancel <font color=#6c3e67>-focus</font> [<font color=#1b1baa>$obDl2</font> TreePrj]]
  <b><font color=#3a6797>set</font></b> oldTab [<font color=#1b1baa>$win</font>.fra.fraR.nbk select]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>] &lt; 2} {<b><font color=#3a6797>set</font></b> res <font color=#7d1a1a>&quot;&quot;</font>}
  <i><font color=#4b5d50># save the new geometry of the dialogue</font></i>
  <b><font color=#3a6797>set</font></b> geo [<b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$win</font>]
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
  alited::main::ShowHeader yes
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Projects&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_359' href="javascript:toggleSource('359')">Show source</a></p>
<div id='359' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::_run {} {

  <i><font color=#4b5d50># Runs &quot;Projects&quot; dialogue.</font></i>

  <b><font color=#3a6797>update</font></b>  ;<i><font color=#4b5d50># if run from menu: there may be unupdated space under it (in some DE)</font></i>
  SaveSettings
  GetProjects
  <b><font color=#3a6797>set</font></b> res [_create]
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Add project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_360' href="javascript:toggleSource('360')">Show source</a></p>
<div id='360' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Add {} {

  <i><font color=#4b5d50># &quot;Add project&quot; button's handler.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> OPTS
  SaveNotes
  <b><font color=#3a6797>if</font></b> {![ValidProject] || [ExistingProject yes] ne {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> al(tablist) [<b><font color=#3a6797>list</font></b>]
  TabFileInfo
  <b><font color=#3a6797>set</font></b> pname <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> al(prjfile) [ProjectFileName <font color=#1b1baa>$pname</font>]
  <b><font color=#3a6797>set</font></b> al(prjbeforerun) {}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(PRJDEFAULT)</font>} {
    <i><font color=#4b5d50># use project defaults from &quot;Setup/Common/Projects&quot;</font></i>
    <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$al(DEFAULT,$opt)</font>}
    }
  }
  alited::ini::SaveIni yes  ;<i><font color=#4b5d50># to initialize ini-file</font></i>
  <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$al($opt)</font>
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,prjrem) {} ;<i><font color=#4b5d50># reminders</font></i>
  PutProjectOpts <font color=#1b1baa>$al(prjfile)</font> <font color=#1b1baa>$al(prjfile)</font> no
  GetProjects
  UpdateTree
  Select <font color=#1b1baa>$prjinfo($pname,ID)</font>
  alited::Message2 [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$pname</font>] <font color=#1b1baa>$al(MC,prjnew)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Cancel' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>possible arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_361' href="javascript:toggleSource('361')">Show source</a></p>
<div id='361' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Cancel {args} {

  <i><font color=#4b5d50># 'Cancel' button handler.</font></i>
  <i><font color=#4b5d50>#   args - possible arguments</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  SaveData
  SaveNotes
  RestoreSettings
  <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Change project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_362' href="javascript:toggleSource('362')">Show source</a></p>
<div id='362' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Change {} {

  <i><font color=#4b5d50># &quot;Change project&quot; button's handler.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  SaveNotes
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {![ValidProject]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i 0} {<font color=#1b1baa>$i</font>&lt;[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]} {<b><font color=#3a6797>incr</font></b> i} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>!=<font color=#1b1baa>$isel</font> && [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$i</font>] eq <font color=#1b1baa>$al(prjname)</font>} {
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$al(prjname)</font>] <font color=#1b1baa>$al(MC,prjexists)</font>]
      alited::Message2 <font color=#1b1baa>$msg</font> 4
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>set</font></b> oldprj [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> newprj <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$newprj</font>,tablist) <font color=#1b1baa>$prjinfo($oldprj,tablist)</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>unset</font></b> prjinfo(<font color=#1b1baa>$oldprj</font>,tablist)}
  <b><font color=#3a6797>set</font></b> oldname [ProjectFileName <font color=#1b1baa>$oldprj</font>]
  <b><font color=#3a6797>set</font></b> prjlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$newprj</font>]
  <b><font color=#3a6797>set</font></b> fname [ProjectFileName <font color=#1b1baa>$newprj</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$newprj</font> eq <font color=#1b1baa>$curinfo(prjname)</font>} SaveSettings
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldprj</font> eq <font color=#1b1baa>$curinfo(prjname)</font>} {
    <b><font color=#3a6797>set</font></b> curinfo(prjname) <font color=#1b1baa>$newprj</font>
    <b><font color=#3a6797>set</font></b> curinfo(prjfile) <font color=#1b1baa>$fname</font>
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$newprj</font>,prjrem) <font color=#1b1baa>$prjinfo($oldprj,prjrem)</font> ;<i><font color=#4b5d50># reminders</font></i>
  PutProjectOpts <font color=#1b1baa>$fname</font> <font color=#1b1baa>$oldname</font> yes
  GetProjects
  UpdateTree
  Select <font color=#1b1baa>$prjinfo($newprj,ID)</font>
  alited::Message2 [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]] <font color=#1b1baa>$al(MC,prjupd)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckNewDir'>CheckNewDir</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the root directory exists. If no, tries to create it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckNewDir</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if all is OK.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_363' href="javascript:toggleSource('363')">Show source</a></p>
<div id='363' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CheckNewDir {} {

  <i><font color=#4b5d50># Checks if the root directory exists. If no, tries to create it.</font></i>
  <i><font color=#4b5d50># Returns yes, if all is OK.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$al(prjroot)</font>]} {
    <font color=#1b1baa>$win</font>.fra.fraR.nbk select <font color=#1b1baa>$win</font>.fra.fraR.nbk.f1
    <b><font color=#134070>focus</font></b> [::apave::precedeWidgetName [<font color=#1b1baa>$obDl2</font> Dir] ent]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$al(prjroot)</font>] <font color=#1b1baa>$al(makeroot)</font>]
    <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> NO <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font>]} {
      <b><font color=#ca14ca>return</font></b> no
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> mkdir <font color=#1b1baa>$al(prjroot)</font>} err]} {
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc {Error at creating the directory.}]
      alited::msg ok err [<b><font color=#3a6797>append</font></b> msg \n\n <font color=#1b1baa>$err</font>] <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font>
      <b><font color=#ca14ca>return</font></b> no
    }
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CheckProjectName'>CheckProjectName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes spec.characters from a project name (sort of normalizing it).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CheckProjectName</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_364' href="javascript:toggleSource('364')">Show source</a></p>
<div id='364' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CheckProjectName {} {

  <i><font color=#4b5d50># Removes spec.characters from a project name (sort of normalizing it).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> oldname <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b>  * _ ? _ ~ _ . _ / _ \\ _ \{ _ \} _ \[ _ \] _ \t _ \n _ \r _  | _ &lt; _ &gt; _ & _ , _ : _ \; _ \&quot; _ ' _ ` _] <font color=#1b1baa>$al(prjname)</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$oldname</font> eq <font color=#1b1baa>$al(prjname)</font>}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CloseSelFiles'>CloseSelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes selected files of listbox. Files are closed in a currently open project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CloseSelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_365' href="javascript:toggleSource('365')">Show source</a></p>
<div id='365' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CloseSelFiles {} {

  <i><font color=#4b5d50># Closes selected files of listbox.</font></i>
  <i><font color=#4b5d50># Files are closed in a currently open project.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> pname [ExistingProject no]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> prj <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> cprj <font color=#1b1baa>$curinfo(prjname)</font>
  <b><font color=#3a6797>lassign</font></b> [SelFiles] lbx selidx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lbx</font> ne {}} {
    <b><font color=#3a6797>set</font></b> closecurr no
    <b><font color=#3a6797>set</font></b> fnamecurr [alited::bar::FileName]
    <b><font color=#3a6797>foreach</font></b> idx <font color=#1b1baa>$selidx</font> {
      <b><font color=#3a6797>set</font></b> fname [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] ne {}} {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fname</font> eq <font color=#1b1baa>$fnamecurr</font>} {
          <b><font color=#3a6797>set</font></b> closecurr yes
        } <b><font color=#3a6797>else</font></b> {
          alited::bar::BAR <font color=#1b1baa>$TID</font> close no
        }
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> eq <font color=#1b1baa>$cprj</font> &&
      [<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> <font color=#1b1baa>$fname</font>]]&gt;=0} {
        <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$cprj</font>,tablist) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$closecurr</font> && [<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fnamecurr</font>]] ne {}} {
      alited::bar::BAR <font color=#1b1baa>$TID</font> close ;<i><font color=#4b5d50># this should be last to check for &quot;No name&quot; tab</font></i>
    }
    alited::bar::BAR draw
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prj</font> eq <font color=#1b1baa>$cprj</font>} {
      <b><font color=#3a6797>set</font></b> al(tablist) <font color=#1b1baa>$prjinfo($cprj,tablist)</font>
      TabFileInfo
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::CurrProject'>CurrProject</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current project name, from a current item of project list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrProject</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_366' href="javascript:toggleSource('366')">Show source</a></p>
<div id='366' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::CurrProject {} {

  <i><font color=#4b5d50># Gets a current project name, from a current item of project list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>set</font></b> prj {}
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl2</font> TreePrj]
    <b><font color=#3a6797>set</font></b> item [Selected item no]
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$item</font>]
    <b><font color=#3a6797>set</font></b> prj [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$prj</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>&quot;Delete project&quot; button's handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_367' href="javascript:toggleSource('367')">Show source</a></p>
<div id='367' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Delete {} {

  <i><font color=#4b5d50># &quot;Delete project&quot; button's handler.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq <font color=#7d1a1a>&quot;&quot;</font>} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> geo <font color=#7d1a1a>&quot;-geometry root=<font color=#1b1baa>$</font>win&quot;</font>
  <b><font color=#3a6797>set</font></b> nametodel [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$nametodel</font> eq <font color=#1b1baa>$curinfo(prjname)</font>} {
    alited::msg ok err <font color=#1b1baa>$al(MC,prjcantdel)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nametodel</font>] <font color=#1b1baa>$al(MC,prjdelq)</font>]
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> NO {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [ProjectFileName <font color=#1b1baa>$nametodel</font>]} err]} {
    alited::msg ok err <font color=#1b1baa>$err</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [NotesFile <font color=#1b1baa>$nametodel</font>]}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete [RemsFile <font color=#1b1baa>$nametodel</font>]}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]] && <font color=#1b1baa>$isel</font>&gt;=<font color=#1b1baa>$llen</font>} {
    <b><font color=#3a6797>set</font></b> isel [<b><font color=#3a6797>incr</font></b> llen -1]
  }
  GetProjects
  UpdateTree
  Select <font color=#1b1baa>$isel</font>
  alited::Message2 [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nametodel</font>] <font color=#1b1baa>$al(MC,prjdel2)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ExistingProject'>ExistingProject</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a project (of entry field) exists.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExistingProject</span> <span class='ruff_arg'>msgOnExist</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msgOnExist</code></code></td><td class='ruff_defitem'>yes, if message on existing, else on non-existing project</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a project name if it exists or {} otherwise.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_368' href="javascript:toggleSource('368')">Show source</a></p>
<div id='368' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ExistingProject {msgOnExist} {

  <i><font color=#4b5d50># Checks if a project (of entry field) exists.</font></i>
  <i><font color=#4b5d50>#   msgOnExist - yes, if message on existing, else on non-existing project</font></i>
  <i><font color=#4b5d50># Returns a project name if it exists or {} otherwise.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>set</font></b> pname <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$pname</font>]&gt;-1} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$msgOnExist</font>} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> EntName]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$pname</font>] <font color=#1b1baa>$al(MC,prjexists)</font>]
      alited::Message2 <font color=#1b1baa>$msg</font> 4
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$msgOnExist</font>} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> EntName]
      <b><font color=#3a6797>set</font></b> msg [msgcat::mc  <font color=#7d1a1a>&quot;A project \&quot;%n\&quot; doesn't exists. Hit \[+\] button to create it.&quot;</font>]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$pname</font>] <font color=#1b1baa>$msg</font>]
      alited::Message2 <font color=#1b1baa>$msg</font> 4
    }
    <b><font color=#3a6797>set</font></b> pname {}
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetOptVal'>GetOptVal</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a name and a value from a line of form &quot;name=value&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetOptVal</span> <span class='ruff_arg'>line</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_369' href="javascript:toggleSource('369')">Show source</a></p>
<div id='369' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::GetOptVal {line} {

  <i><font color=#4b5d50># Gets a name and a value from a line of form &quot;name=value&quot;.</font></i>
  <i><font color=#4b5d50>#   line - the line</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>string</font></b> first = <font color=#1b1baa>$line</font>]]&gt;-1} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> 0 <font color=#1b1baa>$i</font>-1] [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$i</font>+1 end]]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetProjectOpts'>GetProjectOpts</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a project's settings from a project settings file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetProjectOpts</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the project settings file's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_370' href="javascript:toggleSource('370')">Show source</a></p>
<div id='370' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::GetProjectOpts {fname} {

  <i><font color=#4b5d50># Reads a project's settings from a project settings file.</font></i>
  <i><font color=#4b5d50>#   fname - the project settings file's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> OPTS
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>set</font></b> pname [ProjectName <font color=#1b1baa>$fname</font>]
  <i><font color=#4b5d50># save project names to 'prjlist' variable to display it by treeview widget</font></i>
  <b><font color=#3a6797>lappend</font></b> prjlist <font color=#1b1baa>$pname</font>
  <i><font color=#4b5d50># save project files' settings in prjinfo array</font></i>
  <b><font color=#3a6797>set</font></b> filecont [::apave::readTextFile <font color=#1b1baa>$fname</font>]
  <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$prjinfo(*DEFAULT*,$opt)</font>}  ;<i><font color=#4b5d50>#defaults</font></i>
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,tablist) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> currentprj [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$curinfo(prjname)</font> eq <font color=#1b1baa>$pname</font>}]]} {
    <b><font color=#3a6797>foreach</font></b> tab [alited::bar::BAR listTab] {
      <b><font color=#3a6797>set</font></b> tid [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tab</font> 0]
      <b><font color=#3a6797>lappend</font></b> prjinfo(<font color=#1b1baa>$pname</font>,tablist) [alited::bar::FileName <font color=#1b1baa>$tid</font>]
    }
  }
  <b><font color=#3a6797>foreach</font></b> line [::apave::textsplit <font color=#1b1baa>$filecont</font>] {
    <b><font color=#3a6797>lassign</font></b> [GetOptVal <font color=#1b1baa>$line</font>] opt val
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#1b1baa>$OPTS</font> <font color=#1b1baa>$opt</font>]&gt;-1} {
      <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,<font color=#1b1baa>$opt</font>) [ProcEOL <font color=#1b1baa>$val</font> in]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$opt</font> eq {tab} && !<font color=#1b1baa>$currentprj</font>} {
      <b><font color=#3a6797>lappend</font></b> prjinfo(<font color=#1b1baa>$pname</font>,tablist) <font color=#1b1baa>$val</font>
    }
  }
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,prjfile) <font color=#1b1baa>$fname</font>
  <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$pname</font>,prjname) <font color=#1b1baa>$pname</font>
  <b><font color=#3a6797>set</font></b> al(tablist) <font color=#1b1baa>$prjinfo($pname,tablist)</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pname</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::GetProjects'>GetProjects</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads settings of all projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetProjects</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_371' href="javascript:toggleSource('371')">Show source</a></p>
<div id='371' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::GetProjects {} {

  <i><font color=#4b5d50># Reads settings of all projects.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al PRJEXT PRJEXT
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>set</font></b> prjlist [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> ilast 0]
  <b><font color=#3a6797>foreach</font></b> finfo [alited::tree::GetDirectoryContents <font color=#1b1baa>$::alited::PRJDIR</font>] {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$finfo</font> 2]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> extension <font color=#1b1baa>$fname</font>] eq <font color=#1b1baa>$PRJEXT</font>} {
      <b><font color=#3a6797>if</font></b> {[GetProjectOpts <font color=#1b1baa>$fname</font>] eq <font color=#1b1baa>$al(prjname)</font>} {
        <b><font color=#3a6797>set</font></b> ilast <font color=#1b1baa>$i</font>
      }
      <b><font color=#3a6797>incr</font></b> i
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_372' href="javascript:toggleSource('372')">Show source</a></p>
<div id='372' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Help {} {

  <i><font color=#4b5d50># 'Help' button handler.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match *f1 [<font color=#1b1baa>$win</font>.fra.fraR.nbk select]]} {<b><font color=#3a6797>set</font></b> curTab {}} {<b><font color=#3a6797>set</font></b> curTab 2}
  alited::Help <font color=#1b1baa>$win</font> <font color=#1b1baa>$curTab</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' for start.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_373' href="javascript:toggleSource('373')">Show source</a></p>
<div id='373' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::HelpMe {} {

  <i><font color=#4b5d50># 'Help' for start.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::HelpMe <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_button'>Klnd_button</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fire an event handler (paste/undo/redo) on a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_button</span> <span class='ruff_arg'>ev</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ev</code></code></td><td class='ruff_defitem'>event to fire</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_374' href="javascript:toggleSource('374')">Show source</a></p>
<div id='374' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_button {ev} {

  <i><font color=#4b5d50># Fire an event handler (paste/undo/redo) on a reminder.</font></i>
  <i><font color=#4b5d50>#   ev - event to fire</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  ::apave::eventOnText [<font color=#1b1baa>$obDl2</font> TexKlnd] <font color=#1b1baa>$ev</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_delete'>Klnd_delete</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_375' href="javascript:toggleSource('375')">Show source</a></p>
<div id='375' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_delete {} {

  <i><font color=#4b5d50># Clears a reminder.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  [<font color=#1b1baa>$obDl2</font> TexKlnd] replace 1.0 end {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_paste'>Klnd_paste</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Pastes a text to a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_paste</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_376' href="javascript:toggleSource('376')">Show source</a></p>
<div id='376' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_paste {} {

  <i><font color=#4b5d50># Pastes a text to a reminder.</font></i>

  Klnd_button &lt;&lt;Paste&gt;&gt;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_redo'>Klnd_redo</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Redoes changes of a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_redo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_377' href="javascript:toggleSource('377')">Show source</a></p>
<div id='377' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_redo {} {

  <i><font color=#4b5d50># Redoes changes of a reminder.</font></i>

  Klnd_button &lt;&lt;Redo&gt;&gt;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_save'>Klnd_save</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a reminder on a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_save</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_378' href="javascript:toggleSource('378')">Show source</a></p>
<div id='378' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_save {} {

  <i><font color=#4b5d50># Saves a reminder on a date.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2 al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl2</font> TexKlnd]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> prjname <font color=#1b1baa>$klnddata(SAVEPRJ)</font>] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> text [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get 1.0 end]]
  <b><font color=#3a6797>set</font></b> date <font color=#1b1baa>$klnddata(SAVEDATE)</font>
  <b><font color=#3a6797>set</font></b> info [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$date</font> <font color=#1b1baa>$text</font> <font color=#7d1a1a>&quot;TODO opt.&quot;</font>]  ;<i><font color=#4b5d50># + possible options for future</font></i>
  <b><font color=#3a6797>set</font></b> i [KlndSearch <font color=#1b1baa>$date</font> <font color=#1b1baa>$prjname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$text</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&gt;-1} {
      <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$prjname</font>,prjrem) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjinfo($prjname,prjrem)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$i</font>&gt;-1} {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$prjname</font>,prjrem) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$prjinfo($prjname,prjrem)</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$info</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>lappend</font></b> prjinfo(<font color=#1b1baa>$prjname</font>,prjrem) <font color=#1b1baa>$info</font>
  }
  ::klnd::update {} {} {} <font color=#1b1baa>$prjinfo($prjname,prjrem)</font>
  <b><font color=#3a6797>set</font></b> frems [RemsFile <font color=#1b1baa>$prjname</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$frems</font> ne {}} {
    <b><font color=#3a6797>set</font></b> fcont <font color=#1b1baa>$prjinfo($prjname,prjrem)</font>
    ::apave::writeTextFile <font color=#1b1baa>$frems</font> fcont 0 0
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Klnd_undo'>Klnd_undo</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Undoes changes of a reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Klnd_undo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_379' href="javascript:toggleSource('379')">Show source</a></p>
<div id='379' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Klnd_undo {} {

  <i><font color=#4b5d50># Undoes changes of a reminder.</font></i>

  Klnd_button &lt;&lt;Undo&gt;&gt;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndBorderText'>KlndBorderText</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights/unhighlights a reminder's border.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndBorderText</span> <span class='ruff_arg'>?clr?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>clr</code></code></td><td class='ruff_defitem'>color of border; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_380' href="javascript:toggleSource('380')">Show source</a></p>
<div id='380' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndBorderText {{clr {}}} {

  <i><font color=#4b5d50># Highlights/unhighlights a reminder's border.</font></i>
  <i><font color=#4b5d50>#   clr - color of border</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$clr</font> eq {}} {<b><font color=#3a6797>set</font></b> clr [<b><font color=#3a6797>lindex</font></b> [::apave::obj csGet] 8]} <b><font color=#134070>bell</font></b>
  [<font color=#1b1baa>$obDl2</font> TexKlnd] configure <font color=#6c3e67>-highlightbackground</font> <font color=#1b1baa>$clr</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndClick'>KlndClick</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes a click on a calendar day.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndClick</span> <span class='ruff_arg'>y m d</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>year</td></tr>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month</td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>day</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_381' href="javascript:toggleSource('381')">Show source</a></p>
<div id='381' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndClick {y m d} {

  <i><font color=#4b5d50># Processes a click on a calendar day.</font></i>
  <i><font color=#4b5d50>#   y - year</font></i>
  <i><font color=#4b5d50>#   m - month</font></i>
  <i><font color=#4b5d50>#   d - day</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2 al al
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> klnddata(date) [KlndOutDate <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>]
  <i><font color=#4b5d50># first, save a previous reminder at need</font></i>
  <b><font color=#3a6797>set</font></b> klnddata(SAVEDATE) <font color=#1b1baa>$klnddata(date)</font>
  <b><font color=#3a6797>set</font></b> klnddata(SAVEPRJ) [CurrProject]
  <i><font color=#4b5d50># then display a new reminder's text</font></i>
  <font color=#1b1baa>$obDl2</font> displayText [<font color=#1b1baa>$obDl2</font> TexKlnd] [KlndText <font color=#1b1baa>$klnddata(date)</font>]
  [<font color=#1b1baa>$obDl2</font> LabKlndDate] configure <font color=#6c3e67>-text</font> [KlndDate <font color=#1b1baa>$klnddata(date)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndDate'>KlndDate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats a calendar date by alited's format (Preferences/Templates).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndDate</span> <span class='ruff_arg'>date</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>the date to be formatted</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_382' href="javascript:toggleSource('382')">Show source</a></p>
<div id='382' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndDate {date} {

  <i><font color=#4b5d50># Formats a calendar date by alited's format (Preferences/Templates).</font></i>
  <i><font color=#4b5d50>#   date - the date to be formatted</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> seconds [<b><font color=#3a6797>clock</font></b> scan <font color=#1b1baa>$date</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]
  <b><font color=#ca14ca>return</font></b> [alited::tool::FormatDate <font color=#1b1baa>$seconds</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndDay'>KlndDay</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a date of reminder.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndDay</span> <span class='ruff_arg'>dsec ?doblink?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dsec</code></code></td><td class='ruff_defitem'>date in seconds to select</td></tr>
<tr><td class='ruff_defitem'><code><code>doblink</code></code></td><td class='ruff_defitem'>if yes, make the month blink; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_383' href="javascript:toggleSource('383')">Show source</a></p>
<div id='383' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndDay {dsec {doblink yes}} {

  <i><font color=#4b5d50># Selects a date of reminder.</font></i>
  <i><font color=#4b5d50>#   dsec - date in seconds to select</font></i>
  <i><font color=#4b5d50>#   doblink - if yes, make the month blink</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$dsec</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$d</font> /] y m d
  <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$m</font> { 0}]
  <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$d</font> { 0}]
  ::klnd::selectedDay {} <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font> <font color=#1b1baa>$doblink</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndDayRem'>KlndDayRem</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a date of reminder before a current one.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndDayRem</span> <span class='ruff_arg'>dmin</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dmin</code></code></td><td class='ruff_defitem'>date in seconds to select</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_384' href="javascript:toggleSource('384')">Show source</a></p>
<div id='384' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndDayRem {dmin} {

  <i><font color=#4b5d50># Selects a date of reminder before a current one.</font></i>
  <i><font color=#4b5d50>#   dmin - date in seconds to select</font></i>

  KlndDay <font color=#1b1baa>$dmin</font>
  <b><font color=#3a6797>after</font></b> idle {::alited::project::KlndBorderText red}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndInDate'>KlndInDate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a date in seconds.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndInDate</span> <span class='ruff_arg'>?y? ?m? ?d?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>year; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>day; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>y</em> is omitted or y/m/d not valid, gets a current date in seconds.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_385' href="javascript:toggleSource('385')">Show source</a></p>
<div id='385' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndInDate {{y {}} {m {}} {d {}}} {

  <i><font color=#4b5d50># Gets a date in seconds.</font></i>
  <i><font color=#4b5d50>#   y - year</font></i>
  <i><font color=#4b5d50>#   m - month</font></i>
  <i><font color=#4b5d50>#   d - day</font></i>
  <i><font color=#4b5d50># If *y* is omitted or y/m/d not valid, gets a current date in seconds.</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$y</font> ne {}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> date [<b><font color=#3a6797>clock</font></b> scan <font color=#1b1baa>$y</font>/<font color=#1b1baa>$m</font>/<font color=#1b1baa>$d</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]}]} {
      <b><font color=#3a6797>set</font></b> y {}
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$y</font> eq {}} {<b><font color=#3a6797>set</font></b> date [<b><font color=#3a6797>clock</font></b> seconds]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$date</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndOutDate'>KlndOutDate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a date formatted.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndOutDate</span> <span class='ruff_arg'>?y? ?m? ?d?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>year; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>m</code></code></td><td class='ruff_defitem'>month; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>d</code></code></td><td class='ruff_defitem'>day; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>y</em> is omitted or y/m/d not valid, gets a current date formatted.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_386' href="javascript:toggleSource('386')">Show source</a></p>
<div id='386' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndOutDate {{y {}} {m {}} {d {}}} {

  <i><font color=#4b5d50># Gets a date formatted.</font></i>
  <i><font color=#4b5d50>#   y - year</font></i>
  <i><font color=#4b5d50>#   m - month</font></i>
  <i><font color=#4b5d50>#   d - day</font></i>
  <i><font color=#4b5d50># If *y* is omitted or y/m/d not valid, gets a current date formatted.</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> date [KlndInDate <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$date</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndSearch'>KlndSearch</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Search a date in calendar data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndSearch</span> <span class='ruff_arg'>date prjname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>prjname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns index of found item or -1 if not found.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_387' href="javascript:toggleSource('387')">Show source</a></p>
<div id='387' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndSearch {date prjname} {

  <i><font color=#4b5d50># Search a date in calendar data.</font></i>
  <i><font color=#4b5d50># Returns index of found item or -1 if not found.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> res -1
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjinfo($prjname,prjrem)</font> <font color=#1b1baa>$date</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndText'>KlndText</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a reminder text for a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndText</span> <span class='ruff_arg'>dt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dt</code></code></td><td class='ruff_defitem'>date</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_388' href="javascript:toggleSource('388')">Show source</a></p>
<div id='388' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndText {dt} {

  <i><font color=#4b5d50># Gets a reminder text for a date.</font></i>
  <i><font color=#4b5d50>#   dt - date</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> i [KlndSearch <font color=#1b1baa>$dt</font> <font color=#1b1baa>$al(prjname)</font>]]&gt;-1} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjinfo($al(prjname)</font>,prjrem) <font color=#1b1baa>$i</font> 1]
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndTextModified'>KlndTextModified</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes modifications of calendar text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndTextModified</span> <span class='ruff_arg'>wtxt ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>not used arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_389' href="javascript:toggleSource('389')">Show source</a></p>
<div id='389' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndTextModified {wtxt args} {

  <i><font color=#4b5d50># Processes modifications of calendar text.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   args - not used arguments</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> aft _KLND_TextModified
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al($aft)</font>}
  <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$aft</font>) [<b><font color=#3a6797>after</font></b> idle ::alited::project::Klnd_save]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::KlndUpdate'>KlndUpdate</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates calendar data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KlndUpdate</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_390' href="javascript:toggleSource('390')">Show source</a></p>
<div id='390' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::KlndUpdate {} {

  <i><font color=#4b5d50># Updates calendar data.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists prjinfo(<font color=#1b1baa>$al(prjname)</font>,prjrem)]} {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$al(prjname)</font>,prjrem) {}
  }
  ::klnd::update {} {} {} <font color=#1b1baa>$prjinfo($al(prjname)</font>,prjrem)
  <b><font color=#3a6797>lassign</font></b> [::klnd::selectedDay] y m d
  KlndClick <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::LbxPopup'>LbxPopup</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a popup menu on the project files listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LbxPopup</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of mouse pointer</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of mouse pointer</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_391' href="javascript:toggleSource('391')">Show source</a></p>
<div id='391' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::LbxPopup {X Y} {

  <i><font color=#4b5d50># Runs a popup menu on the project files listbox.</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of mouse pointer</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of mouse pointer</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2 al al
  <b><font color=#3a6797>set</font></b> popm [<font color=#1b1baa>$obDl2</font> LbxFlist].popup
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,openselfile)</font> <font color=#6c3e67>-command</font> alited::project::OpenSelFiles
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Close Selected File(s)}] <font color=#6c3e67>-command</font> alited::project::CloseSelFiles
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Select All}] <font color=#6c3e67>-command</font> alited::project::SelectAllFiles <font color=#6c3e67>-accelerator</font> Ctrl+A
  baltip::sleep 1000
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::MainFrame'>MainFrame</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main frame of &quot;Project&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MainFrame</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_392' href="javascript:toggleSource('392')">Show source</a></p>
<div id='392' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::MainFrame {} {

  <i><font color=#4b5d50># Creates a main frame of &quot;Project&quot; dialogue.</font></i>

  <b><font color=#ca14ca>return</font></b> {
    {fraTreePrj - - 10 1 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-rw</font> 1}}
    {.TreePrj - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-h</font> 16 <font color=#6c3e67>-show</font> headings <font color=#6c3e67>-columns</font> {C1} <font color=#6c3e67>-displaycolumns</font> {C1}}}
    {.sbvPrjs .TreePrj L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both}}
    {fraR fraTreePrj L 10 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-pady</font> 4}}
    {fraR.nbk - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {
      f1 {<font color=#6c3e67>-text</font> {<font color=#1b1baa>$al(MC,info)</font>}}
      f2 {<font color=#6c3e67>-text</font> {<font color=#1b1baa>$al(MC,prjOptions)</font>}}
      <font color=#6c3e67>-traverse</font> yes <font color=#6c3e67>-select</font> f1
    }}
    {fraB1 fraTreePrj T 1 1 {<font color=#6c3e67>-st</font> nsew}}
    {.buTad - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> n} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::project::Add <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,prjadd)</font>} <font color=#6c3e67>-image</font> alimg_add-big}}
    {.buTch - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::project::Change <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,prjchg)</font>} <font color=#6c3e67>-image</font> alimg_change-big}}
    {.buTdel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::project::Delete <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,prjdel1)</font>} <font color=#6c3e67>-image</font> alimg_delete-big}}
    {LabMess fraB1 L 1 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-style</font> TLabelFS}}
    {seh fraB1 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 2}}
    {fraB2 seh T 1 2 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-padding</font> {2 2}}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,help)</font>} <font color=#6c3e67>-command</font> ::alited::project::Help}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 8} {<font color=#6c3e67>-w</font> 50}}
    {.butOK - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,select)</font>} <font color=#6c3e67>-command</font> ::alited::project::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-anchor</font> s} {<font color=#6c3e67>-t</font> Cancel <font color=#6c3e67>-command</font> ::alited::project::Cancel}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::NotesFile'>NotesFile</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name of notes.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NotesFile</span> <span class='ruff_arg'>prj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_393' href="javascript:toggleSource('393')">Show source</a></p>
<div id='393' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::NotesFile {prj} {

  <i><font color=#4b5d50># Gets a file name of notes.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::PRJDIR</font> <font color=#1b1baa>$prj</font>-notes.txt]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'OK' button handler.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>possible arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_394' href="javascript:toggleSource('394')">Show source</a></p>
<div id='394' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Ok {args} {

  <i><font color=#4b5d50># 'OK' button handler.</font></i>
  <i><font color=#4b5d50>#   args - possible arguments</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2 obPav obPav
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$curinfo(_NO2ENT)</font>} {
    <i><font color=#4b5d50># disables entering twice (at multiple double-clicks)</font></i>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {} || ![ValidProject]} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> TreePrj]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {![ValidProject]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> pname [ExistingProject no]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> N [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR listFlag m]]]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#7d1a1a>&quot;All modified files (%n) will be saved.\n\nDo you agree?&quot;</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$N</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> NO <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font>]} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {![alited::file::SaveAll]} {
    <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 0
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> N [<b><font color=#3a6797>llength</font></b> [alited::bar::BAR cget <font color=#6c3e67>-select</font>]]]} {
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc <font color=#7d1a1a>&quot;All selected files (%n) will remain open\nin the project you are switching to.\n\nDo you agree?&quot;</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$N</font>] <font color=#1b1baa>$msg</font>]
    <b><font color=#3a6797>if</font></b> {![alited::msg yesno ques <font color=#1b1baa>$msg</font> NO <font color=#6c3e67>-geometry</font> root=<font color=#1b1baa>$win</font>]} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> curinfo(_NO2ENT) 1
  <b><font color=#3a6797>set</font></b> fname [ProjectFileName <font color=#1b1baa>$pname</font>]
  RestoreSettings
  alited::ini::SaveIni
  alited::file::CloseAll 1 <font color=#6c3e67>-skipsel</font>  ;<i><font color=#4b5d50># the selected tabs aren't closed</font></i>
  <b><font color=#3a6797>set</font></b> selfiles [<b><font color=#3a6797>list</font></b>]                ;<i><font color=#4b5d50># -&gt; get their file names to reopen afterwards</font></i>
  <b><font color=#3a6797>foreach</font></b> tid [alited::bar::BAR listFlag s] {
    <b><font color=#3a6797>lappend</font></b> selfiles [alited::bar::FileName <font color=#1b1baa>$tid</font>]
  }
  alited::file::CloseAll 1           ;<i><font color=#4b5d50># close all tabs</font></i>
  <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$pname</font>
  <b><font color=#3a6797>set</font></b> al(prjfile) <font color=#1b1baa>$fname</font>
  alited::ini::ReadIni <font color=#1b1baa>$fname</font>
  alited::bar::FillBar [<font color=#1b1baa>$obPav</font> BtsBar]
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selfiles</font>]} {<font color=#1b1baa>$i</font>} {} { ;<i><font color=#4b5d50># reopen selected files of previous project</font></i>
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selfiles</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>if</font></b> {[alited::bar::FileTID <font color=#1b1baa>$fname</font>] eq {}} {
      alited::file::OpenFile <font color=#1b1baa>$fname</font> yes
    }
  }
  <b><font color=#3a6797>set</font></b> TID [<b><font color=#3a6797>lindex</font></b> [alited::bar::BAR listTab] <font color=#1b1baa>$al(curtab)</font> 0]
  <b><font color=#3a6797>catch</font></b> {alited::bar::BAR <font color=#1b1baa>$TID</font> show yes no}
  alited::main::UpdateProjectInfo
  alited::ini::GetUserDirs
  alited::file::MakeThemHighlighted
  alited::favor::ShowFavVisit
  [<font color=#1b1baa>$obPav</font> Tree] selection set {}  ;<i><font color=#4b5d50># new project - no group selected</font></i>
  <b><font color=#3a6797>update</font></b>
  alited::main::ShowText
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {<b><font color=#3a6797>after</font></b> idle alited::tree::RecreateTree}
  <font color=#1b1baa>$obDl2</font> res <font color=#1b1baa>$win</font> 1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::OpenSelFiles'>OpenSelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens selected files of listbox. Files are open in a currently open project.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenSelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_395' href="javascript:toggleSource('395')">Show source</a></p>
<div id='395' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::OpenSelFiles {} {

  <i><font color=#4b5d50># Opens selected files of listbox.</font></i>
  <i><font color=#4b5d50># Files are open in a currently open project.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>set</font></b> prj <font color=#1b1baa>$al(prjname)</font>
  <b><font color=#3a6797>set</font></b> cprj <font color=#1b1baa>$curinfo(prjname)</font>
  <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$curinfo(prjname)</font>
  <b><font color=#3a6797>lassign</font></b> [SelFiles] lbx selidx
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lbx</font> ne {}} {
    <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selidx</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$llen</font>] [msgcat::mc {Open files: %n}]]
    alited::Message2 <font color=#1b1baa>$msg</font> 3
    <b><font color=#3a6797>update</font></b>
    <b><font color=#3a6797>foreach</font></b> idx [<b><font color=#3a6797>lreverse</font></b> <font color=#1b1baa>$selidx</font>] {
      <b><font color=#3a6797>set</font></b> fn [<font color=#1b1baa>$lbx</font> get <font color=#1b1baa>$idx</font>]
      <b><font color=#3a6797>lappend</font></b> fnames <font color=#1b1baa>$fn</font>
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-exact</font> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> <font color=#1b1baa>$fn</font>]&lt;0} {
        <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$cprj</font>,tablist) [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$prjinfo($cprj,tablist)</font> 0 <font color=#1b1baa>$fn</font>]
      }
    }
    alited::file::OpenFile <font color=#1b1baa>$fnames</font> yes yes alited::info::Put
  }
  <b><font color=#3a6797>set</font></b> al(prjname) <font color=#1b1baa>$prj</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProcEOL'>ProcEOL</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms \n to &quot;EOL chars&quot; and vise versa.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProcEOL</span> <span class='ruff_arg'>val mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>string to transform</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;in&quot;, gets \n-value; if &quot;out&quot;, gets EOL-value.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_396' href="javascript:toggleSource('396')">Show source</a></p>
<div id='396' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProcEOL {val mode} {

  <i><font color=#4b5d50># Transforms \n to &quot;EOL chars&quot; and vise versa.</font></i>
  <i><font color=#4b5d50>#   val - string to transform</font></i>
  <i><font color=#4b5d50>#   mode - if &quot;in&quot;, gets \n-value; if &quot;out&quot;, gets EOL-value.</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$mode</font> eq {in}} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$::alited::EOL</font> \n] <font color=#1b1baa>$val</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n <font color=#1b1baa>$::alited::EOL</font>] <font color=#1b1baa>$val</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectEnter'>ProjectEnter</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes double-clicking and pressing Enter on the project list. Cancels selecting projects if there are old reminders.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectEnter</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_397' href="javascript:toggleSource('397')">Show source</a></p>
<div id='397' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProjectEnter {} {

  <i><font color=#4b5d50># Processes double-clicking and pressing Enter on the project list.</font></i>
  <i><font color=#4b5d50># Cancels selecting projects if there are old reminders.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>lassign</font></b> [SortRems <font color=#1b1baa>$prjinfo($al(prjname)</font>,prjrem)] dmin
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dmin</font> && <font color=#1b1baa>$dmin</font>&lt;[<b><font color=#3a6797>clock</font></b> seconds]} {
    <b><font color=#3a6797>set</font></b> tab1 <font color=#1b1baa>$win</font>.fra.fraR.nbk.f1
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$win</font>.fra.fraR.nbk select] ne <font color=#1b1baa>$tab1</font>} {
      <font color=#1b1baa>$win</font>.fra.fraR.nbk select <font color=#1b1baa>$tab1</font>
    }
    KlndDayRem <font color=#1b1baa>$dmin</font>
    <b><font color=#3a6797>set</font></b> msg [msgcat::mc {TODO reminders for the past: %d. Delete them or try <font color=#7d1a1a>&quot;Select&quot;</font>.}]
    <b><font color=#3a6797>set</font></b> dmin [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$dmin</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$dmin</font>] <font color=#1b1baa>$msg</font>]
    alited::Message2 <font color=#1b1baa>$msg</font> 4
    <b><font color=#ca14ca>return</font></b>
  }
  Ok
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectFileName'>ProjectFileName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a project file name from a project's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectFileName</span> <span class='ruff_arg'>name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_398' href="javascript:toggleSource('398')">Show source</a></p>
<div id='398' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProjectFileName {name} {

  <i><font color=#4b5d50># Gets a project file name from a project's name.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al PRJDIR PRJDIR PRJEXT PRJEXT
  <b><font color=#3a6797>set</font></b> name [ProjectName [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$name</font>]]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> normalize [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$PRJDIR</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>name<font color=#1b1baa>$</font>PRJEXT&quot;</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ProjectName'>ProjectName</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a project name from its file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_399' href="javascript:toggleSource('399')">Show source</a></p>
<div id='399' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ProjectName {fname} {

  <i><font color=#4b5d50># Gets a project name from its file name.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::PutProjectOpts'>PutProjectOpts</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Writes a project's settings to a project settings file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PutProjectOpts</span> <span class='ruff_arg'>fname oldname dorename</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>the project settings file's name</td></tr>
<tr><td class='ruff_defitem'><code><code>oldname</code></code></td><td class='ruff_defitem'>old name of the project file</td></tr>
<tr><td class='ruff_defitem'><code><code>dorename</code></code></td><td class='ruff_defitem'>yes, if rename of old -notes/-rems</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_400' href="javascript:toggleSource('400')">Show source</a></p>
<div id='400' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::PutProjectOpts {fname oldname dorename} {

  <i><font color=#4b5d50># Writes a project's settings to a project settings file.</font></i>
  <i><font color=#4b5d50>#   fname - the project settings file's name</font></i>
  <i><font color=#4b5d50>#   oldname - old name of the project file</font></i>
  <i><font color=#4b5d50>#   dorename - yes, if rename of old -notes/-rems</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> OPTS
  <b><font color=#3a6797>set</font></b> filecont [::apave::readTextFile <font color=#1b1baa>$oldname</font>]
  <b><font color=#3a6797>set</font></b> newcont {}
  <b><font color=#3a6797>foreach</font></b> line [::apave::textsplit <font color=#1b1baa>$filecont</font>] {
    <b><font color=#3a6797>lassign</font></b> [GetOptVal <font color=#1b1baa>$line</font>] opt val
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$line</font> eq {[Tabs]}} {
      <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$al(tablist)</font> {
        <b><font color=#3a6797>append</font></b> line \n <font color=#7d1a1a>&quot;tab=<font color=#1b1baa>$</font>tab&quot;</font>
      }
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$opt</font> in [<b><font color=#3a6797>list</font></b> tab rem tablist {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$OPTS</font>]} {
      <b><font color=#3a6797>continue</font></b>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$opt</font> in {curtab}} {
      <i><font color=#4b5d50>#</font></i>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$line</font> eq {[Options]}} {
      <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$opt</font> ni {prjname tablist}} {
          <b><font color=#3a6797>set</font></b> val [<b><font color=#3a6797>set</font></b> alited::al(<font color=#1b1baa>$opt</font>)]
          <b><font color=#3a6797>append</font></b> line \n <font color=#1b1baa>$opt</font>= <font color=#1b1baa>$val</font>
          <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$al(prjname)</font>,<font color=#1b1baa>$opt</font>) [ProcEOL <font color=#1b1baa>$val</font> in]
        }
      }
    }
    <b><font color=#3a6797>append</font></b> newcont <font color=#1b1baa>$line</font> \n
  }
  ::apave::writeTextFile <font color=#1b1baa>$fname</font> newcont
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$oldname</font> ne <font color=#1b1baa>$fname</font>} {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> delete <font color=#1b1baa>$oldname</font>}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dorename</font>} {
      <b><font color=#3a6797>foreach</font></b> ftyp {notes rems} {
        <b><font color=#3a6797>set</font></b> oldtyp [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$oldname</font>]-<font color=#1b1baa>$ftyp</font>.txt
        <b><font color=#3a6797>set</font></b> newtyp [<b><font color=#3a6797>file</font></b> rootname <font color=#1b1baa>$fname</font>]-<font color=#1b1baa>$ftyp</font>.txt
        <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>file</font></b> rename <font color=#1b1baa>$oldtyp</font> <font color=#1b1baa>$newtyp</font>}
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ReadRems'>ReadRems</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a file of reminders.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadRems</span> <span class='ruff_arg'>prj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_401' href="javascript:toggleSource('401')">Show source</a></p>
<div id='401' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ReadRems {prj} {

  <i><font color=#4b5d50># Reads a file of reminders.</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> frems [RemsFile <font color=#1b1baa>$prj</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$frems</font>]} {
    <b><font color=#3a6797>set</font></b> res [::apave::readTextFile <font color=#1b1baa>$frems</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::RemsFile'>RemsFile</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a file name of reminders.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RemsFile</span> <span class='ruff_arg'>prj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>prj</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_402' href="javascript:toggleSource('402')">Show source</a></p>
<div id='402' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::RemsFile {prj} {

  <i><font color=#4b5d50># Gets a file name of reminders.</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::PRJDIR</font> <font color=#1b1baa>$prj</font>-rems.txt]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::RestoreSettings'>RestoreSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Restores project settings from curinfo array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RestoreSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_403' href="javascript:toggleSource('403')">Show source</a></p>
<div id='403' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::RestoreSettings {} {

  <i><font color=#4b5d50># Restores project settings from curinfo array.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>variable</font></b> OPTS
  <b><font color=#3a6797>foreach</font></b> v <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$v</font>) <font color=#1b1baa>$curinfo($v)</font>
  }
  <b><font color=#3a6797>set</font></b> al(prjfile) <font color=#1b1baa>$curinfo(prjfile)</font>
  TabFileInfo
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveData'>SaveData</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves some data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveData</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_404' href="javascript:toggleSource('404')">Show source</a></p>
<div id='404' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SaveData {} {

  <i><font color=#4b5d50># Saves some data.</font></i>

  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>set</font></b> ilast [Selected index no]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveNotes'>SaveNotes</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a file of notes, for a current item of project list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveNotes</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_405' href="javascript:toggleSource('405')">Show source</a></p>
<div id='405' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SaveNotes {} {

  <i><font color=#4b5d50># Saves a file of notes, for a current item of project list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> prj <font color=#1b1baa>$klnddata(SAVEPRJ)</font>] ne {}} {
    <b><font color=#3a6797>set</font></b> fnotes [NotesFile <font color=#1b1baa>$prj</font>]
    <b><font color=#3a6797>set</font></b> fcont [[<font color=#1b1baa>$obDl2</font> TexPrj] get 1.0 {end -1c}]
    ::apave::writeTextFile <font color=#1b1baa>$fnotes</font> fcont 0 0
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SaveSettings'>SaveSettings</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves project settings to curinfo array.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveSettings</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_406' href="javascript:toggleSource('406')">Show source</a></p>
<div id='406' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SaveSettings {} {

  <i><font color=#4b5d50># Saves project settings to curinfo array.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>variable</font></b> OPTS
  <b><font color=#3a6797>foreach</font></b> v <font color=#1b1baa>$OPTS</font> {
    <b><font color=#3a6797>set</font></b> curinfo(<font color=#1b1baa>$v</font>) <font color=#1b1baa>$al($v)</font>
  }
  <b><font color=#3a6797>set</font></b> curinfo(prjfile) <font color=#1b1baa>$al(prjfile)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a selection in a list of projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?item?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_407' href="javascript:toggleSource('407')">Show source</a></p>
<div id='407' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Select {{item {}}} {

  <i><font color=#4b5d50># Handles a selection in a list of projects.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>variable</font></b> OPTS
  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>variable</font></b> curinfo
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> eq {}} {<b><font color=#3a6797>set</font></b> item [Selected item no]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {
    <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl2</font> TreePrj]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#1b1baa>$item</font>]} {  ;<i><font color=#4b5d50># the item is an index</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font>&lt;0 || <font color=#1b1baa>$item</font>&gt;=[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]} <b><font color=#ca14ca>return</font></b>
      <b><font color=#3a6797>set</font></b> prj [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$item</font>]
      <b><font color=#3a6797>set</font></b> item <font color=#1b1baa>$prjinfo($prj,ID)</font>
    } <b><font color=#3a6797>elseif</font></b> {![<font color=#1b1baa>$tree</font> exists <font color=#1b1baa>$item</font>]} {
      <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$item</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font>&lt;0 || <font color=#1b1baa>$isel</font>&gt;=[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$prjlist</font>]} <b><font color=#ca14ca>return</font></b>
    <b><font color=#3a6797>set</font></b> prj [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$prjlist</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> fnotes [NotesFile <font color=#1b1baa>$prj</font>]
    <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl2</font> TexPrj]
    <font color=#1b1baa>$wtxt</font> delete 1.0 end
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fnotes</font>]} {
      <font color=#1b1baa>$wtxt</font> insert end [::apave::readTextFile <font color=#1b1baa>$fnotes</font>]
    }
    <font color=#1b1baa>$wtxt</font> edit reset; <font color=#1b1baa>$wtxt</font> edit modified no
    <b><font color=#3a6797>lassign</font></b> [SortRems [ReadRems <font color=#1b1baa>$prj</font>]] dmin prjinfo(<font color=#1b1baa>$prj</font>,prjrem)
    <b><font color=#3a6797>foreach</font></b> opt <font color=#1b1baa>$OPTS</font> {
      <b><font color=#3a6797>set</font></b> al(<font color=#1b1baa>$opt</font>) <font color=#1b1baa>$prjinfo($prj,$opt)</font>
    }
    <b><font color=#3a6797>set</font></b> al(tablist) <font color=#1b1baa>$prjinfo($prj,tablist)</font>
    TabFileInfo
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$tree</font> selection] ne <font color=#1b1baa>$item</font>} {
      <font color=#1b1baa>$tree</font> selection set <font color=#1b1baa>$item</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dmin</font>&gt;0} {
      KlndDayRem <font color=#1b1baa>$dmin</font>
    } <b><font color=#3a6797>else</font></b> {
      KlndDay [<b><font color=#3a6797>clock</font></b> seconds] no
      KlndBorderText
    }
    <font color=#1b1baa>$tree</font> see <font color=#1b1baa>$item</font>
    <font color=#1b1baa>$tree</font> focus <font color=#1b1baa>$item</font>
    alited::Message2 {}
    ::klnd::blinking no
    <b><font color=#3a6797>set</font></b> klnddata(SAVEDATE) {}
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$klnddata(AFTERKLND)</font>}
    <b><font color=#3a6797>set</font></b> klnddata(AFTERKLND) [<b><font color=#3a6797>after</font></b> 200 alited::project::KlndUpdate]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SelectAllFiles'>SelectAllFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects all files of listbox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelectAllFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_408' href="javascript:toggleSource('408')">Show source</a></p>
<div id='408' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SelectAllFiles {} {

  <i><font color=#4b5d50># Selects all files of listbox.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  [<font color=#1b1baa>$obDl2</font> LbxFlist] selection set 0 end
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a currently selected project's index.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> <span class='ruff_arg'>what ?domsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>if &quot;index&quot;, selected item's index is returned</td></tr>
<tr><td class='ruff_defitem'><code><code>domsg</code></code></td><td class='ruff_defitem'>if &quot;no&quot;, no message displayed if there is no selected project; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_409' href="javascript:toggleSource('409')">Show source</a></p>
<div id='409' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Selected {what {domsg yes}} {

  <i><font color=#4b5d50># Gets a currently selected project's index.</font></i>
  <i><font color=#4b5d50>#   what - if &quot;index&quot;, selected item's index is returned</font></i>
  <i><font color=#4b5d50>#   domsg - if &quot;no&quot;, no message displayed if there is no selected project</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl2</font> TreePrj]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> selection]] eq {} && [<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> focus]] eq {} && <font color=#1b1baa>$domsg</font>} {
    alited::Message2 <font color=#1b1baa>$al(MC,prjsel)</font> 4
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> ne {} && <font color=#1b1baa>$what</font> eq {index}} {
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SelFiles'>SelFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks for a selection of file listbox. Returns: list of listbox's path and the selection or {}.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SelFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_410' href="javascript:toggleSource('410')">Show source</a></p>
<div id='410' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SelFiles {} {

    <i><font color=#4b5d50># Checks for a selection of file listbox.</font></i>
    <i><font color=#4b5d50># Returns: list of listbox's path and the selection or {}.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl2 obDl2
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obDl2</font> LbxFlist]
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> [<b><font color=#3a6797>set</font></b> selidx [<font color=#1b1baa>$lbx</font> curselection]]]} {
    alited::Message2 [msgcat::mc {No selected files}] 4
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lbx</font> <font color=#1b1baa>$selidx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::SortRems'>SortRems</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sorts reminders by date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SortRems</span> <span class='ruff_arg'>rems</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>rems</code></code></td><td class='ruff_defitem'>list of reminders</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of a reminder date before a current date and a sorted list.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_411' href="javascript:toggleSource('411')">Show source</a></p>
<div id='411' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::SortRems {rems} {

  <i><font color=#4b5d50># Sorts reminders by date.</font></i>
  <i><font color=#4b5d50>#   rems - list of reminders</font></i>
  <i><font color=#4b5d50># Returns a list of a reminder date before a current date and a sorted list.</font></i>

  <b><font color=#3a6797>variable</font></b> klnddata
  <b><font color=#3a6797>set</font></b> tmp [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> dmin 0
  <b><font color=#3a6797>set</font></b> dcur [KlndInDate]
  <b><font color=#3a6797>foreach</font></b> it <font color=#1b1baa>$rems</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> d text
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$d</font> /] y m d
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> d [KlndInDate <font color=#1b1baa>$y</font> <font color=#1b1baa>$m</font> <font color=#1b1baa>$d</font>]}]} {
      <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>clock</font></b> seconds]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$d</font>&lt;=<font color=#1b1baa>$dcur</font> && (<font color=#1b1baa>$dmin</font>==0 || <font color=#1b1baa>$d</font>&lt;<font color=#1b1baa>$dmin</font>)} {
      <b><font color=#3a6797>set</font></b> dmin <font color=#1b1baa>$d</font>
    }
    <b><font color=#3a6797>lappend</font></b> tmp [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$d</font> <font color=#1b1baa>$text</font>]
  }
  <b><font color=#3a6797>set</font></b> rems [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> it [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$tmp</font>] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$it</font> d text
    <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$d</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$klnddata(dateformat)</font>]
    <b><font color=#3a6797>lappend</font></b> rems [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$d</font> <font color=#1b1baa>$text</font>]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$dmin</font> <font color=#1b1baa>$rems</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab1'>Tab1</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a main tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab1</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_412' href="javascript:toggleSource('412')">Show source</a></p>
<div id='412' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Tab1 {} {

    <i><font color=#4b5d50># Creates a main tab of &quot;Project&quot;.</font></i>

    <b><font color=#3a6797>variable</font></b> klnddata
    <b><font color=#3a6797>set</font></b> klnddata(SAVEDATE) [<b><font color=#3a6797>set</font></b> klnddata(SAVEPRJ) {}]
    <b><font color=#3a6797>set</font></b> klnddata(toobar) <font color=#7d1a1a>&quot;labKlndProm <font color=#1b1baa>{</font>TODO <font color=#1b1baa>}</font> LabKlndDate <font color=#1b1baa>{}</font> sev 6&quot;</font>
    <b><font color=#3a6797>foreach</font></b> img {delete paste undo redo} {
      <i><font color=#4b5d50># -method option for possible disable/enable BuT_alimg_delete etc.</font></i>
      <b><font color=#3a6797>append</font></b> klnddata(toobar) <font color=#7d1a1a>&quot; alimg_<font color=#1b1baa>$</font>img \{<font color=#1b1baa>{}</font>  -tip <font color=#1b1baa>{</font>-BALTIP <font color=#1b1baa>{$</font>alited::al(MC,prjT<font color=#1b1baa>$</font>img)<font color=#1b1baa>}</font> -MAXEXP 1@@ -under 4<font color=#1b1baa>}</font>  -com alited::project::Klnd_<font color=#1b1baa>$</font>img -method yes \}&quot;</font>
    }
    <b><font color=#3a6797>set</font></b> klnddata(vsbltext) yes
    <b><font color=#3a6797>set</font></b> klnddata(date) [KlndOutDate]
    <b><font color=#3a6797>after</font></b> idle alited::project::KlndUpdate
    <b><font color=#ca14ca>return</font></b> {
      {v_ - - 1 1}
      {fra1 v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
      {.labName - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,prjName)</font>}}}
      {.EntName .labName L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5} {<font color=#6c3e67>-tvar</font> alited::al(prjname) <font color=#6c3e67>-w</font> 60}}
      {.labDir .labName T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 8 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Root directory:&quot;</font>}}
      {.Dir .labDir L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(prjroot) <font color=#6c3e67>-w</font> 60}}
      {lab fra1 T 1 2 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 4 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Notes:&quot;</font>}}
      {fra2 lab T 2 1 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-rw</font> 1 <font color=#6c3e67>-cw</font> 99}}
      {.TexPrj - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-h</font> 20 <font color=#6c3e67>-w</font> 40 <font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> <font color=#1b1baa>$alited::project::win</font>.fra.fraB2.butHelp <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$alited::al(MC,notes)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
      {.sbv .TexPrj L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
      {fra3 fra2 L 2 1 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-relief</font> groove <font color=#6c3e67>-borderwidth</font> 2}}
      {.seh - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> x}}
      {.daT - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-tvar</font> alited::project::klnddata(date) <font color=#6c3e67>-com</font> {alited::project::KlndUpdate; alited::project::KlndBorderText} <font color=#6c3e67>-dateformat</font> <font color=#1b1baa>$alited::project::klnddata(dateformat)</font> <font color=#6c3e67>-tip</font> {alited::project::KlndText %D}}}
      {fra3.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {}}
      {.seh2 - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-fill</font> x}}
      {.too - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-relief</font> flat <font color=#6c3e67>-borderwidth</font> 0 <font color=#6c3e67>-array</font> {<font color=#1b1baa>$alited::project::klnddata(toobar)</font>}}}
      {.TexKlnd - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-wrap</font> word <font color=#6c3e67>-tabnext</font> <font color=#1b1baa>$alited::project::win</font>.fra.fraB2.butHelp <font color=#6c3e67>-w</font> 4 <font color=#6c3e67>-h</font> 8 <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$alited::al(MC,prjTtext)</font>} <font color=#6c3e67>-MAXEXP</font> 1}}}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::Tab2'>Tab2</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Options tab of &quot;Project&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Tab2</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_413' href="javascript:toggleSource('413')">Show source</a></p>
<div id='413' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::Tab2 {} {

    <i><font color=#4b5d50># Creates Options tab of &quot;Project&quot;.</font></i>

    <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
    <b><font color=#3a6797>lassign</font></b> [alited::FgFgBold] fg al(FG,DEFopts)
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(PRJDEFAULT)</font>} {
      <b><font color=#3a6797>set</font></b> alited::al(FG,DEFopts) <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>fg -afteridle <font color=#1b1baa>{</font>grid forget %w<font color=#1b1baa>}</font>&quot;</font> ;<i><font color=#4b5d50># no heading message</font></i>
    }
    <b><font color=#ca14ca>return</font></b> {
      {v_ - - 1 10}
      {lab1 v_ T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,DEFopts)</font>} <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$alited::al(FG,DEFopts)</font> <font color=#6c3e67>-font</font> {<font color=#1b1baa>$::apave::FONTMAINBOLD</font>}}}
      {fra2 lab1 T 1 2 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-cw</font> 1}}
      {.labIgn - - 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,Ign:)</font>}}}
      {.entIgn .labIgn L 1 9 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 5 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(prjdirign) <font color=#6c3e67>-w</font> 50}}
      {.labEOL .labIgn T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,EOL:)</font>}}}
      {.cbxEOL .labEOL L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(prjEOL) <font color=#6c3e67>-values</font> {{} LF CR CRLF} <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-state</font> readonly}}
      {.labIndent .labEOL T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,indent:)</font>}}}
      {.spxIndent .labIndent L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(prjindent) <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-from</font> 0 <font color=#6c3e67>-to</font> 8 <font color=#6c3e67>-justify</font> center <font color=#6c3e67>-com</font> {::alited::pref::CheckIndent <font color=#7d1a1a>&quot;&quot;</font>}}}
      {.chbIndAuto .spxIndent L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(prjindentAuto) <font color=#6c3e67>-t</font> {<font color=#1b1baa>$alited::al(MC,indentAuto)</font>}}}
      {.labRedunit .labIndent T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,redunit)</font>}}}
      {.spxRedunit .labRedunit L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-tvar</font> alited::al(prjredunit) <font color=#6c3e67>-w</font> 9 <font color=#6c3e67>-from</font> 10 <font color=#6c3e67>-to</font> 100 <font color=#6c3e67>-justify</font> center}}
      {.labMult .labRedunit T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> {<font color=#1b1baa>$al(MC,multiline)</font>} <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,notrecomm)</font>}}}
      {.swiMult .labMult L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-var</font> alited::al(prjmultiline) <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,notrecomm)</font>}}}
      {.labTrWs .labMult T 1 1 {<font color=#6c3e67>-st</font> w <font color=#6c3e67>-pady</font> 1 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font>
  {<font color=#1b1baa>$alited::al(MC,trailwhite)</font>}}}
      {.swiTrWs .labTrWs L 1 1 {<font color=#6c3e67>-st</font> sw <font color=#6c3e67>-pady</font> 1} {<font color=#6c3e67>-var</font> alited::al(prjtrailwhite)}}
      {.labFlist .labTrWs T 1 1 {<font color=#6c3e67>-pady</font> 3 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;List of files:&quot;</font>}}
      {fraFlist .labFlist T 1 2 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-padx</font> 3 <font color=#6c3e67>-cw</font> 1 <font color=#6c3e67>-rw</font> 1}}
      {.LbxFlist - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-expand</font> 1} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-selectmode</font> multiple <font color=#6c3e67>-tip</font> {<font color=#6c3e67>-BALTIP</font> {<font color=#1b1baa>$alited::al(MC,TipLbx)</font>} <font color=#6c3e67>-MAXEXP</font> 1} <font color=#6c3e67>-popup</font> {::alited::project::LbxPopup %X %Y}}}
      {.sbvFlist .lbxFlist L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left}}
    }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::TabFileInfo'>TabFileInfo</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a listbox with a list of project files.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TabFileInfo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_414' href="javascript:toggleSource('414')">Show source</a></p>
<div id='414' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::TabFileInfo {} {

  <i><font color=#4b5d50># Fills a listbox with a list of project files.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> lbx [<font color=#1b1baa>$obDl2</font> LbxFlist]
  <font color=#1b1baa>$lbx</font> delete 0 end
  <b><font color=#3a6797>foreach</font></b> tab [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$al(tablist)</font>] {
    <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$tab</font> \t] 0]
    <font color=#1b1baa>$lbx</font> insert end <font color=#1b1baa>$fname</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::UpdateTree'>UpdateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a list of projects.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_415' href="javascript:toggleSource('415')">Show source</a></p>
<div id='415' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::UpdateTree {} {

  <i><font color=#4b5d50># Fills a list of projects.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>variable</font></b> prjlist
  <b><font color=#3a6797>variable</font></b> prjinfo
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl2</font> TreePrj]
  <font color=#1b1baa>$tree</font> delete [<font color=#1b1baa>$tree</font> children {}]
  <b><font color=#3a6797>foreach</font></b> prj <font color=#1b1baa>$prjlist</font> {
    <b><font color=#3a6797>set</font></b> prjinfo(<font color=#1b1baa>$prj</font>,ID) [<font color=#1b1baa>$tree</font> insert {} end <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$prj</font>]]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::project::ValidProject'>ValidProject</a><span class='ns_scope'> [<a href="alited.html#::alited::project" title="::alited::project" class='ruff_cmd'>::alited::project</a>]</span><span class='tinylink'><a href='alited.html#::alited::project'>project</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a project's options are valid.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ValidProject</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_416' href="javascript:toggleSource('416')">Show source</a></p>
<div id='416' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::project::ValidProject {} {

  <i><font color=#4b5d50># Checks if a project's options are valid.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> al(prjname) [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$al(prjname)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjname)</font> eq {} || ![CheckProjectName]} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl2</font> EntName]
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>set</font></b> al(prjroot) [<b><font color=#3a6797>file</font></b> nativename <font color=#1b1baa>$al(prjroot)</font>]
  <b><font color=#3a6797>if</font></b> {![CheckNewDir]} {<b><font color=#ca14ca>return</font></b> no}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjindent)</font>&lt;0 || <font color=#1b1baa>$al(prjindent)</font>&gt;8} {<b><font color=#3a6797>set</font></b> al(prjindent) 2}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(prjredunit)</font>&lt;10 || <font color=#1b1baa>$al(prjredunit)</font>&gt;100} {<b><font color=#3a6797>set</font></b> al(prjredunit) 20}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %d <font color=#1b1baa>$al(prjroot)</font>] <font color=#1b1baa>$al(checkroot)</font>]
  alited::Message2 <font color=#1b1baa>$msg</font> 5
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [alited::tree::GetDirectoryContents <font color=#1b1baa>$al(prjroot)</font>]] &gt;= <font color=#1b1baa>$al(MAXFILES)</font>} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$al(MAXFILES)</font>] <font color=#1b1baa>$al(badroot)</font>]
    alited::Message2 <font color=#1b1baa>$msg</font> 4
    <b><font color=#3a6797>set</font></b> res no
  } <b><font color=#3a6797>else</font></b> {
    alited::Message2 {} 5
    <b><font color=#3a6797>set</font></b> res yes
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::tool'></a>::alited::tool<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::tool-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::tool::_close'>_close</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Closes e_menu (being an internal procedure) by force.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_close</span> <span class='ruff_arg'>?fname?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_417' href="javascript:toggleSource('417')">Show source</a></p>
<div id='417' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::_close {{fname {}}} {

  <i><font color=#4b5d50># Closes e_menu (being an internal procedure) by force.</font></i>

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> .em}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu's item of menu.mnu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?what?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>the item (by default, &quot;Run me&quot;); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_418' href="javascript:toggleSource('418')">Show source</a></p>
<div id='418' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::_run {{what {}}} {

  <i><font color=#4b5d50># Runs e_menu's item of menu.mnu.</font></i>
  <i><font color=#4b5d50>#   what - the item (by default, &quot;Run me&quot;)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>winfo</font></b> exists .em] && [<b><font color=#134070>winfo</font></b> ismapped .em]} {
    <b><font color=#134070>bell</font></b>
  }
  <b><font color=#3a6797>set</font></b> opts <font color=#7d1a1a>&quot;EX=<font color=#1b1baa>$</font>what&quot;</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$what</font> eq {}} {
    <i><font color=#4b5d50>#  it is 'Run me' e_menu item</font></i>
    <b><font color=#3a6797>set</font></b> fpid [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(EM,menudir)</font> .pid~]
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$::alited::DEBUG</font> && [<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$fpid</font>]} {
      <b><font color=#3a6797>catch</font></b> {
        <b><font color=#3a6797>set</font></b> pid [::apave::readTextFile <font color=#1b1baa>$fpid</font>]
        <b><font color=#3a6797>exec</font></b> kill <font color=#6c3e67>-s</font> SIGINT <font color=#1b1baa>$pid</font>
      }
    }
    <b><font color=#3a6797>set</font></b> opts {EX=1 PI=1}
    BeforeRun
    <b><font color=#3a6797>if</font></b> {[RunTcl]} <b><font color=#ca14ca>return</font></b>
  }
  e_menu {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::AfterStart'>AfterStart</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs commands after starting alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterStart</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_419' href="javascript:toggleSource('419')">Show source</a></p>
<div id='419' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::AfterStart {} {

  <i><font color=#4b5d50># Runs commands after starting alited.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  Runs <font color=#1b1baa>$al(MC,afterstart)</font> <font color=#1b1baa>$al(afterstart)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::AfterStartDlg'>AfterStartDlg</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Dialogue to enter a command before running &quot;Tools/Run&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AfterStartDlg</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_420' href="javascript:toggleSource('420')">Show source</a></p>
<div id='420' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::AfterStartDlg {} {

  <i><font color=#4b5d50># Dialogue to enter a command before running &quot;Tools/Run&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> head [msgcat::mc <font color=#7d1a1a>&quot;\n Enter commands to be run after starting alited. They can be Tcl or executables, e.g.\n   pwd\n   cd ~\n   after 1000 ::alited::raise_window\n\n It can be necessary for a specific environment.\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> run [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$alited::EOL</font> \n] <font color=#1b1baa>$al(afterstart)</font>]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$al(MC,afterstart)</font> [<b><font color=#3a6797>list</font></b>  tex <font color=#7d1a1a>&quot;<font color=#1b1baa>{[</font>msgcat::mc Commands:<font color=#1b1baa>]}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 80 -h 8<font color=#1b1baa>}</font>&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>run&quot;</font> ] <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font>] res run
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> al(afterstart) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n <font color=#1b1baa>$alited::EOL</font>] [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$run</font>]]
    alited::ini::SaveIni
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::BeforeRun'>BeforeRun</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs commands before running &quot;Tools/Run&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BeforeRun</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_421' href="javascript:toggleSource('421')">Show source</a></p>
<div id='421' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::BeforeRun {} {

  <i><font color=#4b5d50># Runs commands before running &quot;Tools/Run&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  Runs <font color=#1b1baa>$al(MC,beforerun)</font> <font color=#1b1baa>$al(prjbeforerun)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::BeforeRunDlg'>BeforeRunDlg</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Dialogue to enter a command before running &quot;Tools/Run&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BeforeRunDlg</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_422' href="javascript:toggleSource('422')">Show source</a></p>
<div id='422' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::BeforeRunDlg {} {

  <i><font color=#4b5d50># Dialogue to enter a command before running &quot;Tools/Run&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl2 obDl2
  <b><font color=#3a6797>set</font></b> head [msgcat::mc <font color=#7d1a1a>&quot;\n Enter commands to be run before running a current file with \&quot;Tools/Run\&quot;. They can be Tcl or executables, e.g.\n   pwd\n   cd ~\n   after 1000 ::alited::raise_window\n\n It can be necessary for a specific project. Something like an initialization before \&quot;Run\&quot;.\n&quot;</font>]
  <b><font color=#3a6797>set</font></b> run [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$alited::EOL</font> \n] <font color=#1b1baa>$al(prjbeforerun)</font>]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$obDl2</font> input {} <font color=#1b1baa>$al(MC,beforerun)</font> [<b><font color=#3a6797>list</font></b>  tex <font color=#7d1a1a>&quot;<font color=#1b1baa>{[</font>msgcat::mc Commands:<font color=#1b1baa>]}</font> <font color=#1b1baa>{}</font> <font color=#1b1baa>{</font>-w 80 -h 8<font color=#1b1baa>}</font>&quot;</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>run&quot;</font> ] <font color=#6c3e67>-head</font> <font color=#1b1baa>$head</font>] res run
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font>} {
    <b><font color=#3a6797>set</font></b> al(prjbeforerun) [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n <font color=#1b1baa>$alited::EOL</font>] [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$run</font>]]
    alited::ini::SaveIniPrj
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::ColorPicker'>ColorPicker</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a color picker passing to it and getting from it a color.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ColorPicker</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_423' href="javascript:toggleSource('423')">Show source</a></p>
<div id='423' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::ColorPicker {} {

  <i><font color=#4b5d50># Calls a color picker passing to it and getting from it a color.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [alited::find::GetWordOfText 2] color pos1 pos2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$color</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(chosencolor) <font color=#1b1baa>$color</font>
  }
  <b><font color=#3a6797>set</font></b> res [::apave::obj chooser colorChooser alited::al(chosencolor)  <font color=#6c3e67>-moveall</font> <font color=#1b1baa>$al(moveall)</font> <font color=#6c3e67>-tonemoves</font> <font color=#1b1baa>$al(tonemoves)</font> <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(moveall) [::apave::obj paveoptionValue moveall]
    <b><font color=#3a6797>set</font></b> al(tonemoves) [::apave::obj paveoptionValue tonemoves]
    <b><font color=#3a6797>set</font></b> al(chosencolor) <font color=#1b1baa>$res</font>
    InsertInText <font color=#1b1baa>$res</font> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::CtrlC'>CtrlC</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>CtrlC</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_424' href="javascript:toggleSource('424')">Show source</a></p>
<div id='424' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::CtrlC {} {

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Copy&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::CtrlV'>CtrlV</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>CtrlV</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_425' href="javascript:toggleSource('425')">Show source</a></p>
<div id='425' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::CtrlV {} {

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Paste&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::CtrlX'>CtrlX</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>CtrlX</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_426' href="javascript:toggleSource('426')">Show source</a></p>
<div id='426' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::CtrlX {} {

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Cut&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::DatePicker'>DatePicker</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a calendar to pick a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DatePicker</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_427' href="javascript:toggleSource('427')">Show source</a></p>
<div id='427' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::DatePicker {} {

  <i><font color=#4b5d50># Calls a calendar to pick a date.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [alited::find::GetWordOfText 2] date pos1 pos2
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$date</font> ne {}  && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>clock</font></b> scan <font color=#1b1baa>$date</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$al(TPL,%d)</font>}]} {
    <b><font color=#3a6797>set</font></b> al(klnddate) <font color=#1b1baa>$date</font>
  } <b><font color=#3a6797>elseif</font></b> {![<b><font color=#3a6797>info</font></b> exists al(klnddate)]} {
    <b><font color=#3a6797>set</font></b> al(klnddate) [FormatDate]
  }
  <b><font color=#3a6797>set</font></b> res [::apave::obj chooser dateChooser alited::al(klnddate)  <font color=#6c3e67>-parent</font> <font color=#1b1baa>$al(WIN)</font> <font color=#6c3e67>-dateformat</font> <font color=#1b1baa>$al(TPL,%d)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne {}} {
    <b><font color=#3a6797>set</font></b> al(klnddate) <font color=#1b1baa>$res</font>
    InsertInText <font color=#1b1baa>$res</font> <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu'>e_menu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>arguments of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an external application or an internal procedure, depending on e_menu's preferences.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_428' href="javascript:toggleSource('428')">Show source</a></p>
<div id='428' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::e_menu {args} {

  <i><font color=#4b5d50># Runs e_menu.</font></i>
  <i><font color=#4b5d50>#   args - arguments of e_menu</font></i>
  <i><font color=#4b5d50># The e_menu is run as an external application or an internal procedure,</font></i>
  <i><font color=#4b5d50># depending on e_menu's preferences.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {{EX=Help} ni <font color=#1b1baa>$args</font>} {
    EM_SaveFiles
    <b><font color=#3a6797>if</font></b> {![is_submenu <font color=#1b1baa>$args</font>]} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> p [<b><font color=#3a6797>string</font></b> first + <font color=#1b1baa>$al(EM,geometry)</font>]]&gt;-1} {
        <b><font color=#3a6797>set</font></b> g [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$al(EM,geometry)</font> <font color=#1b1baa>$p</font> end]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> g {}
      }
      <b><font color=#3a6797>append</font></b> args <font color=#7d1a1a>&quot; g=<font color=#1b1baa>$</font>g&quot;</font>  ;<i><font color=#4b5d50># should be last, to override previous settings</font></i>
    }
    <b><font color=#3a6797>if</font></b> {{m=grep.mnu} in <font color=#1b1baa>$args</font>} {
      <b><font color=#3a6797>append</font></b> args { NE=1}  ;<i><font color=#4b5d50># let him search till closing the search dialogue</font></i>
    }
  }
  <b><font color=#3a6797>if</font></b> {{m=menu.mnu} in <font color=#1b1baa>$args</font> && {ex=d} in <font color=#1b1baa>$args</font> && <font color=#1b1baa>$al(BACKUP)</font> ne {}} {
    <i><font color=#4b5d50># Differences of a file & its backup: get the backup's name</font></i>
    <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
    <b><font color=#3a6797>lassign</font></b> [alited::edit::BackupDirFileNames <font color=#1b1baa>$TID</font>] dir fname fname2
    <i><font color=#4b5d50>#set fname2 [alited::edit::BackupFileName $fname2 0]</font></i>
    <b><font color=#3a6797>append</font></b> args <font color=#7d1a1a>&quot; \&quot;BF=<font color=#1b1baa>$</font>fname2\&quot;&quot;</font>  ;<i><font color=#4b5d50># version before 1st change</font></i>
  }
  <b><font color=#3a6797>if</font></b> {{EX=1} ni <font color=#1b1baa>$args</font>} {
    <b><font color=#3a6797>append</font></b> args { AL=1}  ;<i><font color=#4b5d50># to read a current file only at &quot;Run me&quot;</font></i>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$alited::al(EM,exec)</font>} {
    e_menu1 <font color=#1b1baa>$args</font>
  } <b><font color=#3a6797>else</font></b> {
    e_menu2 <font color=#1b1baa>$args</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu1'>e_menu1</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu1</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>options of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an external application.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_429' href="javascript:toggleSource('429')">Show source</a></p>
<div id='429' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::e_menu1 {opts} {

  <i><font color=#4b5d50># Runs e_menu.</font></i>
  <i><font color=#4b5d50>#   opts - options of e_menu</font></i>
  <i><font color=#4b5d50># The e_menu is run as an external application.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,ownCS)</font>} {
    <b><font color=#3a6797>set</font></b> cs <font color=#1b1baa>$al(EM,CS)</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> cs [<font color=#1b1baa>$obPav</font> csCurrent]
  }
  alited::Run [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::e_menu_dir</font> e_menu.tcl] {<b><font color=#3a6797>*</font></b>}[EM_Options <font color=#1b1baa>$opts</font>] c=<font color=#1b1baa>$cs</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::e_menu2'>e_menu2</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs e_menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>e_menu2</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>options of e_menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The e_menu is run as an internal procedure.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_430' href="javascript:toggleSource('430')">Show source</a></p>
<div id='430' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::e_menu2 {opts} {

  <i><font color=#4b5d50># Runs e_menu.</font></i>
  <i><font color=#4b5d50>#   opts - options of e_menu</font></i>
  <i><font color=#4b5d50># The e_menu is run as an internal procedure.</font></i>

  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists ::em::geometry]} {
    <b><font color=#3a6797>source</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::e_menu_dir</font> e_menu.tcl]
  }
  ::apave::cs_Active no ;<i><font color=#4b5d50># no CS changes by e_menu</font></i>
  <b><font color=#3a6797>set</font></b> options [EM_Options <font color=#1b1baa>$opts</font>]
  ::em::main <font color=#6c3e67>-prior</font> 1 <font color=#6c3e67>-modal</font> 0 <font color=#6c3e67>-remain</font> 0 <font color=#6c3e67>-noCS</font> 1 {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$options</font>
  <b><font color=#3a6797>if</font></b> {[is_submenu <font color=#1b1baa>$options</font>]} {
    <b><font color=#3a6797>set</font></b> alited::al(EM,geometry) <font color=#1b1baa>$::em::geometry</font>
  }
  ::apave::cs_Active yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_AllStructure'>EM_AllStructure</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets all items of all menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_AllStructure</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>a root menu's file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_431' href="javascript:toggleSource('431')">Show source</a></p>
<div id='431' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_AllStructure {mnu} {

  <i><font color=#4b5d50># Gets all items of all menus.</font></i>
  <i><font color=#4b5d50>#   mnu - a root menu's file name</font></i>

  <b><font color=#3a6797>set</font></b> alited::al(EM_STRUCTURE) [<b><font color=#3a6797>list</font></b>]
  EM_AllStructure1 <font color=#1b1baa>$mnu</font> 0
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$alited::al(EM_STRUCTURE)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_AllStructure1'>EM_AllStructure1</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets recursively all items of all menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_AllStructure1</span> <span class='ruff_arg'>mnu lev</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>a current menu's file name</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>a current level of menu</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_432' href="javascript:toggleSource('432')">Show source</a></p>
<div id='432' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_AllStructure1 {mnu lev} {

  <i><font color=#4b5d50># Gets recursively all items of all menus.</font></i>
  <i><font color=#4b5d50>#   mnu - a current menu's file name</font></i>
  <i><font color=#4b5d50>#   lev - a current level of menu</font></i>

  <b><font color=#3a6797>foreach</font></b> mit [EM_Structure <font color=#1b1baa>$mnu</font>] {
    <b><font color=#3a6797>incr</font></b> i
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$mit</font> mnu item h
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match {M-*} <font color=#1b1baa>$item</font>]} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> end <font color=#1b1baa>$alited::al(EM_STRUCTURE)</font> <font color=#1b1baa>$item</font>]&gt;-1} {
        <b><font color=#3a6797>continue</font></b> ;<i><font color=#4b5d50># to avoid infinite cycle</font></i>
      }
      <b><font color=#3a6797>set</font></b> lev [EM_AllStructure1 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$item</font> 2 end] [<b><font color=#3a6797>incr</font></b> lev]]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>lappend</font></b> alited::al(EM_STRUCTURE) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$mnu</font> <font color=#1b1baa>$h</font>[EM_HotKey <font color=#1b1baa>$i</font>] <font color=#1b1baa>$item</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>incr</font></b> lev -1]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_command'>EM_command</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets e_menu command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_command</span> <span class='ruff_arg'>im</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>im</code></code></td><td class='ruff_defitem'>index of the command in em_inf array</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_433' href="javascript:toggleSource('433')">Show source</a></p>
<div id='433' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_command {im} {

  <i><font color=#4b5d50># Gets e_menu command.</font></i>
  <i><font color=#4b5d50>#   im - index of the command in em_inf array</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited::pref em_inf em_inf
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$em_inf($im)</font> mnu idx item
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font> eq {-} || [<b><font color=#3a6797>regexp</font></b> {^[^[:blank:].]+[.]mnu: } <font color=#1b1baa>$item</font>]} {
    <i><font color=#4b5d50># open a menu</font></i>
    <b><font color=#3a6797>set</font></b> mnu [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$item</font> 0 [<b><font color=#3a6797>string</font></b> first : <font color=#1b1baa>$item</font>]-1]
    <b><font color=#3a6797>set</font></b> ex {ex= o=-1}
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># call a command</font></i>
    <b><font color=#3a6797>set</font></b> ex <font color=#7d1a1a>&quot;ex=<font color=#1b1baa>[</font>alited::tool::EM_HotKey <font color=#1b1baa>$</font>idx<font color=#1b1baa>]</font>&quot;</font>
  }
  <b><font color=#ca14ca>return</font></b> <font color=#7d1a1a>&quot;alited::tool::e_menu \&quot;m=<font color=#1b1baa>$</font>mnu\&quot; <font color=#1b1baa>$</font>ex&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_dir'>EM_dir</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a directory of e_menu's menus.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_dir</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a directory of e_menu's menus.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_434' href="javascript:toggleSource('434')">Show source</a></p>
<div id='434' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_dir {} {

  <i><font color=#4b5d50># Returns a directory of e_menu's menus.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,menudir)</font> eq {}} {
    <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$::e_menu_dir</font>
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$al(EM,menudir)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_HotKey'>EM_HotKey</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns e_menu's hotkeys which numerate menu items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_HotKey</span> <span class='ruff_arg'>idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns e_menu's hotkeys which numerate menu items.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_435' href="javascript:toggleSource('435')">Show source</a></p>
<div id='435' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_HotKey {idx} {

  <i><font color=#4b5d50># Returns e_menu's hotkeys which numerate menu items.</font></i>

  <b><font color=#3a6797>set</font></b> hk {0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,./}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$hk</font> <font color=#1b1baa>$idx</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_Options'>EM_Options</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns e_menu's general options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_Options</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns e_menu's general options.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_436' href="javascript:toggleSource('436')">Show source</a></p>
<div id='436' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_Options {opts} {

  <i><font color=#4b5d50># Returns e_menu's general options.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> sel [alited::find::GetWordOfText]
  <b><font color=#3a6797>set</font></b> sel [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;\&quot;&quot;</font> {} <font color=#7d1a1a>&quot;\{&quot;</font> {} <font color=#7d1a1a>&quot;\}&quot;</font> {} <font color=#7d1a1a>&quot;\\&quot;</font> {}] <font color=#1b1baa>$sel</font>]
  <b><font color=#3a6797>set</font></b> f [alited::bar::FileName]
  <b><font color=#3a6797>set</font></b> d [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$f</font>]
  <i><font color=#4b5d50># get a list of selected tabs (i.e. their file names):</font></i>
  <i><font color=#4b5d50># it's used as %ls wildcard in grep.mnu (&quot;SEARCH EXACT LS=&quot;)</font></i>
  <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listFlag s]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tabs</font>]&gt;1} {
    <b><font color=#3a6797>foreach</font></b> tab <font color=#1b1baa>$tabs</font> {
      <b><font color=#3a6797>append</font></b> ls [alited::bar::FileName <font color=#1b1baa>$tab</font>] <font color=#7d1a1a>&quot; &quot;</font>
    }
    <b><font color=#3a6797>set</font></b> ls <font color=#7d1a1a>&quot;\&quot;ls=<font color=#1b1baa>$</font>ls\&quot;&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> ls <font color=#7d1a1a>&quot;ls=&quot;</font>
  }
  <i><font color=#4b5d50># get file names of left & right tabs (used in utils.mnu by diff items)</font></i>
  <b><font color=#3a6797>set</font></b> z6 {}
  <b><font color=#3a6797>set</font></b> z7 {}
  <b><font color=#3a6797>set</font></b> tabs [alited::bar::BAR listTab]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$TID</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>&gt;=0} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i</font>} {
      <b><font color=#3a6797>append</font></b> z6 z6=[alited::bar::FileName [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$i</font>-1 0]]
    }
    <b><font color=#3a6797>append</font></b> z7 z7=[alited::bar::FileName [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tabs</font> <font color=#1b1baa>$i</font>+1 0]]
  }
  <b><font color=#3a6797>set</font></b> srcdir [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::FILEDIR</font> src]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$srcdir</font> e_menu.png]]} {
    <b><font color=#3a6797>set</font></b> srcdir <font color=#7d1a1a>&quot;\&quot;SD=<font color=#1b1baa>$</font>srcdir\&quot;&quot;</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> srcdir {}
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,DiffTool)</font> ne {}} {<b><font color=#3a6797>append</font></b> ls <font color=#7d1a1a>&quot; DF=<font color=#1b1baa>$</font>al(EM,DiffTool)&quot;</font>}
  <b><font color=#3a6797>set</font></b> l [[alited::main::CurrentWTXT] index insert]
  <b><font color=#3a6797>set</font></b> l [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$l</font>)}]
  <b><font color=#3a6797>set</font></b> dirvar [<b><font color=#3a6797>set</font></b> filvar [<b><font color=#3a6797>set</font></b> tdir {}]]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,exec)</font>} {
    <b><font color=#3a6797>lassign</font></b> [::apave::getProperty DirFilGeoVars] dirvar filvar
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dirvar</font> ne {} && [<b><font color=#3a6797>set</font></b> dirvar [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$dirvar</font>]] ne {}} {
      <b><font color=#3a6797>set</font></b> dirvar <font color=#7d1a1a>&quot;\&quot;g1=<font color=#1b1baa>$</font>dirvar\&quot;&quot;</font>
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$filvar</font> ne {} && [<b><font color=#3a6797>set</font></b> filvar [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$filvar</font>]] ne {}} {
      <b><font color=#3a6797>set</font></b> filvar <font color=#7d1a1a>&quot;\&quot;g2=<font color=#1b1baa>$</font>filvar\&quot;&quot;</font>
    }
    <b><font color=#3a6797>set</font></b> tdir <font color=#1b1baa>$::alited::LIBDIR</font>
  }
  <b><font color=#3a6797>set</font></b> R [<b><font color=#3a6797>list</font></b> <font color=#7d1a1a>&quot;md=<font color=#1b1baa>$</font>al(EM,menudir)&quot;</font> <font color=#7d1a1a>&quot;m=<font color=#1b1baa>$</font>al(EM,menu)&quot;</font> <font color=#7d1a1a>&quot;f=<font color=#1b1baa>$</font>f&quot;</font> <font color=#7d1a1a>&quot;d=<font color=#1b1baa>$</font>d&quot;</font> <font color=#7d1a1a>&quot;l=<font color=#1b1baa>$</font>l&quot;</font>  <font color=#7d1a1a>&quot;PD=<font color=#1b1baa>$</font>al(EM,PD=)&quot;</font> <font color=#7d1a1a>&quot;pd=<font color=#1b1baa>$</font>al(prjroot)&quot;</font> <font color=#7d1a1a>&quot;h=<font color=#1b1baa>$</font>al(EM,h=)&quot;</font> <font color=#7d1a1a>&quot;tt=<font color=#1b1baa>$</font>al(EM,tt=)&quot;</font> <font color=#7d1a1a>&quot;s=<font color=#1b1baa>$</font>sel&quot;</font>  o=-1 g=<font color=#1b1baa>$al(EM,geometry)</font> <font color=#1b1baa>$z6</font> <font color=#1b1baa>$z7</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$ls</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$srcdir</font>  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$dirvar</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$filvar</font> th=<font color=#1b1baa>$al(THEME)</font> td=<font color=#1b1baa>$tdir</font>]
  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>foreach</font></b> r <font color=#1b1baa>$R</font> {<b><font color=#3a6797>append</font></b> res <font color=#7d1a1a>&quot;\&quot;<font color=#1b1baa>$</font>r\&quot; &quot;</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_SaveFiles'>EM_SaveFiles</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_SaveFiles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_437' href="javascript:toggleSource('437')">Show source</a></p>
<div id='437' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_SaveFiles {} {

  <i><font color=#4b5d50># Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.</font></i>
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(EM,save)</font> in {All yes}} {
    alited::file::SaveAll
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$al(EM,save)</font> eq {Current}} {
    <b><font color=#3a6797>if</font></b> {[alited::file::IsModified]} {
      alited::file::SaveFile
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::EM_Structure'>EM_Structure</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a menu's items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>EM_Structure</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>the menu's file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_438' href="javascript:toggleSource('438')">Show source</a></p>
<div id='438' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::EM_Structure {mnu} {

  <i><font color=#4b5d50># Gets a menu's items.</font></i>
  <i><font color=#4b5d50>#   mnu - the menu's file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> mnu [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$mnu</font> <font color=#7d1a1a>&quot;\&quot; &quot;</font>]
  <b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> join [EM_dir] menus [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$mnu</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> fcont [::apave::readTextFile <font color=#1b1baa>$fname</font> {} 1]}]} {
    <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> prname {}
  <b><font color=#3a6797>set</font></b> mmarks [<b><font color=#3a6797>list</font></b> S: R: M: S/ R/ M/ SE: RE: ME: SE/ RE/ ME/ SW: RW: MW: SW/ RW/ MW/ I:]
  <b><font color=#3a6797>set</font></b> ismenu yes
  <b><font color=#3a6797>set</font></b> ishidden [<b><font color=#3a6797>set</font></b> isoptions no]
  <b><font color=#3a6797>foreach</font></b> line [::apave::textsplit <font color=#1b1baa>$fcont</font>] {
    <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trimleft <font color=#1b1baa>$line</font>]
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$line</font> {
      {[MENU]} {
        <b><font color=#3a6797>set</font></b> ismenu yes
        <b><font color=#3a6797>set</font></b> ishidden [<b><font color=#3a6797>set</font></b> isoptions no]
        <b><font color=#3a6797>continue</font></b>
      }
      {[HIDDEN]} {
        <b><font color=#3a6797>set</font></b> ishidden yes
        <b><font color=#3a6797>set</font></b> ismenu [<b><font color=#3a6797>set</font></b> isoptions no]
        <b><font color=#3a6797>continue</font></b>
      }
      {[OPTIONS]} {
        <b><font color=#3a6797>set</font></b> isoptions yes
        <b><font color=#3a6797>set</font></b> ismenu [<b><font color=#3a6797>set</font></b> ishidden no]
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isoptions</font>} <b><font color=#3a6797>continue</font></b>
    <b><font color=#3a6797>foreach</font></b> mark <font color=#1b1baa>$mmarks</font> {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#7d1a1a>&quot;<font color=#1b1baa>${</font>mark<font color=#1b1baa>}</font>*<font color=#1b1baa>${</font>mark<font color=#1b1baa>}</font>*&quot;</font> <font color=#1b1baa>$line</font>]} {
        <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$mark</font>]
        <b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>string</font></b> first <font color=#1b1baa>$mark</font> <font color=#1b1baa>$line</font> 2]
        <b><font color=#3a6797>set</font></b> typ [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$mark</font> 0]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$typ</font> eq {M}} {
          <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$i2</font> end]
          <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> {.+m=([^[:blank:]]+)} <font color=#1b1baa>$line</font>] -&gt; itemname
        } <b><font color=#3a6797>else</font></b> {
          <b><font color=#3a6797>set</font></b> itemname [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font>-1]]
        }
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemname</font> ni {{} -} && <font color=#1b1baa>$itemname</font> ne <font color=#1b1baa>$prname</font>} {
          <b><font color=#3a6797>set</font></b> prname <font color=#1b1baa>$itemname</font>
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ishidden</font>} {<b><font color=#3a6797>set</font></b> h h} {<b><font color=#3a6797>set</font></b> h {}}
          <b><font color=#3a6797>lappend</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$mnu</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>typ-<font color=#1b1baa>$</font>itemname&quot;</font> <font color=#1b1baa>$h</font>]
        }
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::FormatDate'>FormatDate</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Formats a date.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FormatDate</span> <span class='ruff_arg'>?date?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>date</code></code></td><td class='ruff_defitem'>date to be formatted (a current date if omitted); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_439' href="javascript:toggleSource('439')">Show source</a></p>
<div id='439' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::FormatDate {{date {}}} {

  <i><font color=#4b5d50># Formats a date.</font></i>
  <i><font color=#4b5d50>#   date - date to be formatted (a current date if omitted)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$date</font> eq {}} {<b><font color=#3a6797>set</font></b> date [<b><font color=#3a6797>clock</font></b> seconds]}
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$date</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$al(TPL,%d)</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a help on alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_440' href="javascript:toggleSource('440')">Show source</a></p>
<div id='440' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Help {} {

  <i><font color=#4b5d50># Calls a help on alited.</font></i>

  _run Help
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::InsertInText'>InsertInText</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Insert a string into a text possibly instead of its selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertInText</span> <span class='ruff_arg'>str ?pos1? ?pos2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>the string</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position in a current line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>ending position in a current line; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_441' href="javascript:toggleSource('441')">Show source</a></p>
<div id='441' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::InsertInText {str {pos1 {}} {pos2 {}}} {

  <i><font color=#4b5d50># Insert a string into a text possibly instead of its selection.</font></i>
  <i><font color=#4b5d50>#   str - the string</font></i>
  <i><font color=#4b5d50>#   pos1 - starting position in a current line</font></i>
  <i><font color=#4b5d50>#   pos2 - ending position in a current line</font></i>

    <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos1</font> eq {}} {
      <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtxt</font> tag ranges sel] pos1 pos2
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>expr</font></b> {int([<font color=#1b1baa>$wtxt</font> index insert])}]
      <b><font color=#3a6797>set</font></b> prevch [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$line</font>.[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$pos1</font>-1}] <font color=#1b1baa>$line</font>.<font color=#1b1baa>$pos1</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$prevch</font> eq [<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$str</font> 0]} {
        <b><font color=#3a6797>incr</font></b> pos1 -1
      }
      <b><font color=#3a6797>set</font></b> pos1 <font color=#1b1baa>$line</font>.<font color=#1b1baa>$pos1</font>
      <b><font color=#3a6797>set</font></b> pos2 <font color=#1b1baa>$line</font>.[<b><font color=#3a6797>incr</font></b> pos2]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos1</font> ne {}} {
      <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$pos1</font> <font color=#1b1baa>$pos2</font>
    }
    <font color=#1b1baa>$wtxt</font> insert [<font color=#1b1baa>$wtxt</font> index insert] <font color=#1b1baa>$str</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::is_submenu'>is_submenu</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if e_menu's arguments are for submenu</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>is_submenu</span> <span class='ruff_arg'>opts</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>e_menu's arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_442' href="javascript:toggleSource('442')">Show source</a></p>
<div id='442' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::is_submenu {opts} {

  <i><font color=#4b5d50># Checks if e_menu's arguments are for submenu</font></i>
  <i><font color=#4b5d50>#   opts - e_menu's arguments</font></i>

  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-glob</font> <font color=#6c3e67>-nocase</font> <font color=#1b1baa>$opts</font> EX=*] == -1}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Loupe'>Loupe</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a screen loupe.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Loupe</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_443' href="javascript:toggleSource('443')">Show source</a></p>
<div id='443' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Loupe {} {

  <i><font color=#4b5d50># Calls a screen loupe.</font></i>

  <b><font color=#3a6797>set</font></b> loupe [SrcPath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::PAVEDIR</font> pickers color aloupe aloupe.tcl]]
  alited::Run <font color=#1b1baa>$loupe</font> <font color=#6c3e67>-locale</font> <font color=#1b1baa>$alited::al(LOCAL)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::PopupBar'>PopupBar</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a popup menu in the tool bar, to enter e_menu's preferences.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PopupBar</span> <span class='ruff_arg'>X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of clicking on the tool bar</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of clicking on the tool bar</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_444' href="javascript:toggleSource('444')">Show source</a></p>
<div id='444' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::PopupBar {X Y} {

  <i><font color=#4b5d50># Opens a popup menu in the tool bar, to enter e_menu's preferences.</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of clicking on the tool bar</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of clicking on the tool bar</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$al(WIN)</font>.popupBar
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <font color=#1b1baa>$popm</font> add command <font color=#6c3e67>-label</font> [msgcat::mc {Open bar/menu settings}]  <font color=#6c3e67>-command</font> {alited::pref::_run Emenu_Tab}
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Redo'>Redo</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>Redo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_445' href="javascript:toggleSource('445')">Show source</a></p>
<div id='445' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Redo {} {

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Redo&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::RunArgs'>RunArgs</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ARGS/RUNF arguments (similar to ::em::get_AR of e_menu.tcl).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunArgs</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of ARGS and RUNF arguments found in the current file.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_446' href="javascript:toggleSource('446')">Show source</a></p>
<div id='446' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::RunArgs {} {

  <i><font color=#4b5d50># Gets ARGS/RUNF arguments (similar to ::em::get_AR of e_menu.tcl).</font></i>
  <i><font color=#4b5d50># Returns a list of ARGS and RUNF arguments found in the current file.</font></i>

  <b><font color=#3a6797>set</font></b> res {}
  <b><font color=#3a6797>set</font></b> ar {^[[:space:]#/*]*#[ ]?ARGS[0-9]+:[ ]*(.*)}
  <b><font color=#3a6797>set</font></b> rf {^[[:space:]#/*]*#[ ]?RUNF[0-9]+:[ ]*(.*)}
  <b><font color=#3a6797>set</font></b> AR [<b><font color=#3a6797>set</font></b> RF {}]
  <b><font color=#3a6797>set</font></b> filecontent [<b><font color=#3a6797>split</font></b> [[alited::main::CurrentWTXT] get 1.0 end] \n]
  <b><font color=#3a6797>foreach</font></b> st <font color=#1b1baa>$filecontent</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$ar</font> <font color=#1b1baa>$st</font>] && <font color=#1b1baa>$AR</font> eq {}} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$ar</font> <font color=#1b1baa>$st</font>] =&gt; AR
    } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$rf</font> <font color=#1b1baa>$st</font>] && <font color=#1b1baa>$RF</font> eq {}} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>regexp</font></b> <font color=#6c3e67>-inline</font> <font color=#1b1baa>$rf</font> <font color=#1b1baa>$st</font>] =&gt; RF
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$AR</font> ne {} || <font color=#1b1baa>$RF</font> ne {}} {
      <b><font color=#3a6797>if</font></b> {<font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>AR<font color=#1b1baa>$</font>RF&quot;</font> ne {OFF}} {
        <b><font color=#3a6797>set</font></b> res [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$AR</font> <font color=#1b1baa>$RF</font>]
      }
      <b><font color=#3a6797>break</font></b>
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Runs'>Runs</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a list of Tcl/ext commands.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Runs</span> <span class='ruff_arg'>mc runs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mc</code></code></td><td class='ruff_defitem'>message for infobar</td></tr>
<tr><td class='ruff_defitem'><code><code>runs</code></code></td><td class='ruff_defitem'>list of commands</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_447' href="javascript:toggleSource('447')">Show source</a></p>
<div id='447' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Runs {mc runs} {

  <i><font color=#4b5d50># Runs a list of Tcl/ext commands.</font></i>
  <i><font color=#4b5d50>#   mc - message for infobar</font></i>
  <i><font color=#4b5d50>#   runs - list of commands</font></i>

  <b><font color=#3a6797>set</font></b> runs [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$alited::EOL</font> \n] <font color=#1b1baa>$runs</font>]
  <b><font color=#3a6797>foreach</font></b> run [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$runs</font> \n] {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> run [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$run</font>]] ne {} && [<b><font color=#3a6797>string</font></b> first # <font color=#1b1baa>$run</font>]!=0} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>eval</font></b> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$run</font>} e]} {
        <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>exec</font></b> -- {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$run</font>} e
      }
      alited::info::Put <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>mc: \&quot;<font color=#1b1baa>$</font>run\&quot; -&gt; <font color=#1b1baa>$</font>e&quot;</font>
      <b><font color=#3a6797>update</font></b>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::RunTcl'>RunTcl</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Try to run tcl source file by means of tkcon utility.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RunTcl</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes if a tcl file was started.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_448' href="javascript:toggleSource('448')">Show source</a></p>
<div id='448' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::RunTcl {} {

  <i><font color=#4b5d50># Try to run tcl source file by means of tkcon utility.</font></i>
  <i><font color=#4b5d50># Returns yes if a tcl file was started.</font></i>

  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$alited::al(tkcon,topmost)</font>} {
    <b><font color=#3a6797>lassign</font></b> [RunArgs] ar rf
    <b><font color=#3a6797>set</font></b> tclfile {}
    <b><font color=#3a6797>catch</font></b> {  ;<i><font color=#4b5d50># ar & rf can be badly formed =&gt; catch</font></i>
      <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$ar</font>] || (![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$rf</font>] && [alited::file::IsTcl <font color=#1b1baa>$fname</font>])} {
        <b><font color=#3a6797>set</font></b> rf <font color=#1b1baa>$fname</font>
        <b><font color=#3a6797>append</font></b> rf { } <font color=#1b1baa>$ar</font>
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> tclfile [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$rf</font> 0]] ne {}} {
        <b><font color=#3a6797>cd</font></b> [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>]
        <b><font color=#3a6797>set</font></b> tclfile [<b><font color=#3a6797>file</font></b> normalize <font color=#1b1baa>$tclfile</font>]
        <b><font color=#3a6797>set</font></b> rf [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$rf</font> 0 0]
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tclfile</font> ne {} && [<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$tclfile</font>]} {
      <i><font color=#4b5d50># run tkcon with file.tcl & argv</font></i>
      EM_SaveFiles
      tkcon <font color=#1b1baa>$tclfile</font> <font color=#6c3e67>-argv</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$rf</font>
      <b><font color=#ca14ca>return</font></b> yes
    }
  }
  <b><font color=#ca14ca>return</font></b> no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::SrcPath'>SrcPath</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a path to an external tool. This may be useful at calling alited by tclkit: tkcon, aloupe etc. may be located in &quot;src&quot; subdirectory of alited.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SrcPath</span> <span class='ruff_arg'>toolpath</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>toolpath</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_449' href="javascript:toggleSource('449')">Show source</a></p>
<div id='449' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::SrcPath {toolpath} {

  <i><font color=#4b5d50># Gets a path to an external tool.</font></i>
  <i><font color=#4b5d50># This may be useful at calling alited by tclkit:</font></i>
  <i><font color=#4b5d50># tkcon, aloupe etc. may be located in &quot;src&quot; subdirectory of alited.</font></i>

  <b><font color=#3a6797>set</font></b> srcpath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::FILEDIR</font> src [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$toolpath</font>]]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> exists <font color=#1b1baa>$srcpath</font>]} {<b><font color=#3a6797>set</font></b> toolpath <font color=#1b1baa>$srcpath</font>}
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>cd</font></b> [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$toolpath</font>]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$toolpath</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::tkcon'>tkcon</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls Tkcon application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>tkcon</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments for tkcon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_450' href="javascript:toggleSource('450')">Show source</a></p>
<div id='450' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::tkcon {args} {

  <i><font color=#4b5d50># Calls Tkcon application.</font></i>
  <i><font color=#4b5d50>#   args - additional arguments for tkcon</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>foreach</font></b> opt [<b><font color=#3a6797>array</font></b> names al tkcon,clr*] {
    <b><font color=#3a6797>lappend</font></b> opts <font color=#6c3e67>-color-</font>[<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$opt</font> 9 end] <font color=#1b1baa>$al($opt)</font>
  }
  <b><font color=#3a6797>foreach</font></b> opt {rows cols fsize geo topmost} {
    <b><font color=#3a6797>lappend</font></b> opts <font color=#6c3e67>-apl-</font><font color=#1b1baa>$opt</font> <font color=#1b1baa>$al(tkcon,$opt)</font>
  }
  <b><font color=#3a6797>set</font></b> tkcon [SrcPath [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$::alited::LIBDIR</font> util tkcon.tcl]]
  <b><font color=#3a6797>set</font></b> pid [alited::Run <font color=#1b1baa>$tkcon</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$opts</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$args</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$args</font>]} {
    <b><font color=#3a6797>catch</font></b> {::apave::writeTextFile [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$al(EM,menudir)</font> .pid~] pid}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::ToolButName'>ToolButName</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Helper procedure to get a name of toolbar button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ToolButName</span> <span class='ruff_arg'>img</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>img</code></code></td><td class='ruff_defitem'>name of icon</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_451' href="javascript:toggleSource('451')">Show source</a></p>
<div id='451' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::ToolButName {img} {

  <i><font color=#4b5d50># Helper procedure to get a name of toolbar button.</font></i>
  <i><font color=#4b5d50>#   img - name of icon</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#ca14ca>return</font></b> [<font color=#1b1baa>$obPav</font> ToolTop].buT_alimg_<font color=#1b1baa>$img</font>-big
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tool::Undo'>Undo</a><span class='ns_scope'> [<a href="alited.html#::alited::tool" title="::alited::tool" class='ruff_cmd'>::alited::tool</a>]</span><span class='tinylink'><a href='alited.html#::alited::tool'>tool</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>Undo</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_452' href="javascript:toggleSource('452')">Show source</a></p>
<div id='452' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tool::Undo {} {

  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>event</font></b> generate [alited::main::CurrentWTXT] &lt;&lt;Undo&gt;&gt;}
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::tree'></a>::alited::tree<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::tree-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddItem'>AddItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a new item to the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddItem</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>an item's ID where the new item will be added (for the file tree); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_453' href="javascript:toggleSource('453')">Show source</a></p>
<div id='453' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AddItem {{ID {}}} {

  <i><font color=#4b5d50># Adds a new item to the tree.</font></i>
  <i><font color=#4b5d50>#   ID - an item's ID where the new item will be added (for the file tree).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    alited::unit::Add
  } <b><font color=#3a6797>else</font></b> {
    alited::file::Add <font color=#1b1baa>$ID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddTags'>AddTags</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates tags for the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddTags</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_454' href="javascript:toggleSource('454')">Show source</a></p>
<div id='454' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AddTags {wtree} {

  <i><font color=#4b5d50># Creates tags for the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> [::hl_tcl::hl_colors {<font color=#6c3e67>-AddTags</font>} [::apave::obj csDark]] - - fgbr - - fgred
  <b><font color=#3a6797>append</font></b> fontN <font color=#7d1a1a>&quot;-font <font color=#1b1baa>$</font>alited::al(FONT,defsmall)&quot;</font>
  <b><font color=#3a6797>append</font></b> fontS <font color=#1b1baa>$fontN</font> <font color=#7d1a1a>&quot; -foreground <font color=#1b1baa>$</font>fgred&quot;</font>
  <font color=#1b1baa>$wtree</font> tag configure tagNorm {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$fontN</font>
  <font color=#1b1baa>$wtree</font> tag configure tagSel  {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$fontS</font>
  <font color=#1b1baa>$wtree</font> tag configure tagBold <font color=#6c3e67>-foreground</font> magenta
  <font color=#1b1baa>$wtree</font> tag configure tagBranch <font color=#6c3e67>-foreground</font> <font color=#1b1baa>$fgbr</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AddToDirContents'>AddToDirContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds an item to a list of directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AddToDirContents</span> <span class='ruff_arg'>lev isfile fname iroot</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level in the directory hierarchy</td></tr>
<tr><td class='ruff_defitem'><code><code>isfile</code></code></td><td class='ruff_defitem'>a flag &quot;file&quot; (if yes) or &quot;directory&quot; (if no)</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>a file name to be added</td></tr>
<tr><td class='ruff_defitem'><code><code>iroot</code></code></td><td class='ruff_defitem'>index of the directory's parent or -1</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_455' href="javascript:toggleSource('455')">Show source</a></p>
<div id='455' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AddToDirContents {lev isfile fname iroot} {

  <i><font color=#4b5d50># Adds an item to a list of directory's contents.</font></i>
  <i><font color=#4b5d50>#   lev - level in the directory hierarchy</font></i>
  <i><font color=#4b5d50>#   isfile - a flag &quot;file&quot; (if yes) or &quot;directory&quot; (if no)</font></i>
  <i><font color=#4b5d50>#   fname - a file name to be added</font></i>
  <i><font color=#4b5d50>#   iroot - index of the directory's parent or -1</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> dllen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_dirtree)</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dllen</font> &lt; <font color=#1b1baa>$al(MAXFILES)</font>} {
    <b><font color=#3a6797>lappend</font></b> al(_dirtree) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$fname</font> 0 <font color=#1b1baa>$iroot</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iroot</font>&gt;-1} {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_dirtree)</font> <font color=#1b1baa>$iroot</font>] lev isfile fname fcount sroot
      <b><font color=#3a6797>set</font></b> al(_dirtree) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(_dirtree)</font> <font color=#1b1baa>$iroot</font> <font color=#1b1baa>$iroot</font>  [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$fname</font> [<b><font color=#3a6797>incr</font></b> fcount] <font color=#1b1baa>$sroot</font>]]
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$dllen</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::AdjustWidth'>AdjustWidth</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fixes a problem with the tree scrollbar's width at resizing the panes. The problem occurs if Frame's width is less than Tree's + Scrollbar's, as then the scrollbar is squeezed. Thus the Tree's width should be adjusted. The restart of alited will fully repair this.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>AdjustWidth</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_456' href="javascript:toggleSource('456')">Show source</a></p>
<div id='456' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::AdjustWidth {} {

  <i><font color=#4b5d50># Fixes a problem with the tree scrollbar's width at resizing the panes.</font></i>
  <i><font color=#4b5d50># The problem occurs if Frame's width is less than Tree's + Scrollbar's, as</font></i>
  <i><font color=#4b5d50># then the scrollbar is squeezed. Thus the Tree's width should be adjusted.</font></i>
  <i><font color=#4b5d50># The restart of alited will fully repair this.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wpf [<b><font color=#134070>winfo</font></b> width [<font color=#1b1baa>$obPav</font> FraTree]]
  <b><font color=#3a6797>set</font></b> ws1 [<b><font color=#134070>winfo</font></b> width [<font color=#1b1baa>$obPav</font> SbvTree]]
  <b><font color=#3a6797>set</font></b> ws2 [<b><font color=#134070>winfo</font></b> width [<font color=#1b1baa>$obPav</font> SbvFavor]]
  <b><font color=#3a6797>set</font></b> w2 [[<font color=#1b1baa>$obPav</font> Tree] column #1 <font color=#6c3e67>-width</font>]
  [<font color=#1b1baa>$obPav</font> Tree] column #0 <font color=#6c3e67>-width</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$wpf</font>-<font color=#1b1baa>$w2</font>-<font color=#1b1baa>$ws2</font>-4}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonMotion'>ButtonMotion</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Starts moving an item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonMotion</span> <span class='ruff_arg'>but s x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>state (ctrl/alt/shift)</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_457' href="javascript:toggleSource('457')">Show source</a></p>
<div id='457' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ButtonMotion {but s x y X Y} {

  <i><font color=#4b5d50># Starts moving an item of the tree.</font></i>
  <i><font color=#4b5d50>#   but - mouse button</font></i>
  <i><font color=#4b5d50>#   s - state (ctrl/alt/shift)</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - x-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>info</font></b> exists al(movWin)] || <font color=#1b1baa>$al(movWin)</font> eq {}} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$s</font> & 7} {
    <b><font color=#3a6797>set</font></b> al(movWin) {}
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <i><font color=#4b5d50># dragging the tab</font></i>
  <b><font color=#3a6797>if</font></b> {![<b><font color=#134070>winfo</font></b> exists <font color=#1b1baa>$al(movWin)</font>]} {
    <i><font color=#4b5d50># make the tab's replica to be dragged</font></i>
    <b><font color=#134070>toplevel</font></b> <font color=#1b1baa>$al(movWin)</font>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::tcl_platform(platform)</font> eq {windows}} {
      <b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$al(movWin)</font> <font color=#6c3e67>-alpha</font> 0.0
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>wm</font></b> withdraw <font color=#1b1baa>$al(movWin)</font>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>tk</font></b> windowingsystem] eq {aqua}} {
      ::tk::unsupported::MacWindowStyle style <font color=#1b1baa>$al(movWin)</font> help none
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#134070>wm</font></b> overrideredirect <font color=#1b1baa>$al(movWin)</font> 1
    }
    <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> il [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]]&gt;1} {
      <b><font color=#3a6797>set</font></b> al(movID) <font color=#1b1baa>$selection</font>
      <b><font color=#3a6797>set</font></b> text <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>il items&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> text [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$al(movID)</font> <font color=#6c3e67>-text</font>]
    }
    <b><font color=#134070>label</font></b> <font color=#1b1baa>$al(movWin)</font>.label <font color=#6c3e67>-text</font> <font color=#1b1baa>$text</font> <font color=#6c3e67>-relief</font> solid <font color=#6c3e67>-foreground</font> black <font color=#6c3e67>-background</font> #7eeeee
    <b><font color=#134070>pack</font></b> <font color=#1b1baa>$al(movWin)</font>.label <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both <font color=#6c3e67>-ipadx</font> 1
  }
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#134070>wm</font></b> geometry <font color=#1b1baa>$al(movWin)</font> +[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$X</font>+10}]+[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$Y</font>+10}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$::tcl_platform(platform)</font> eq {windows}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$al(movWin)</font> <font color=#6c3e67>-alpha</font>] &lt; 0.1} {<b><font color=#134070>wm</font></b> attributes <font color=#1b1baa>$al(movWin)</font> <font color=#6c3e67>-alpha</font> 1.0}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>wm</font></b> deiconify <font color=#1b1baa>$al(movWin)</font> ; <b><font color=#134070>raise</font></b> <font color=#1b1baa>$al(movWin)</font>}
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonPress'>ButtonPress</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a mouse clicking the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonPress</span> <span class='ruff_arg'>but x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_458' href="javascript:toggleSource('458')">Show source</a></p>
<div id='458' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ButtonPress {but x y X Y} {

  <i><font color=#4b5d50># Handles a mouse clicking the tree.</font></i>
  <i><font color=#4b5d50>#   but - mouse button</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - x-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#3a6797>set</font></b> region [<font color=#1b1baa>$wtree</font> identify region <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  <b><font color=#3a6797>set</font></b> al(movID) [<b><font color=#3a6797>set</font></b> al(movWin) {}]
  <b><font color=#3a6797>if</font></b> {![<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>] || <font color=#1b1baa>$region</font> ni {tree cell}} {
    <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># only tree items are processed</font></i>
  }
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$but</font> {
    {3} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<font color=#1b1baa>$wtree</font> selection]]&lt;2} {
          <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$ID</font>
        }
        ShowPopupMenu <font color=#1b1baa>$ID</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
    }
    {1} {
      <b><font color=#3a6797>set</font></b> al(movID) <font color=#1b1baa>$ID</font>
      <b><font color=#3a6797>set</font></b> al(movWin) .tritem_move
      <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
        NewSelection <font color=#1b1baa>$ID</font>
        alited::main::SaveVisitInfo
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(_MSEC)] && [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$al(_MSEC)</font>)&lt;400}]} {
          OpenFile <font color=#1b1baa>$ID</font>
        }
      }
      <b><font color=#3a6797>set</font></b> al(_MSEC) <font color=#1b1baa>$msec</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ButtonRelease'>ButtonRelease</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles a mouse button releasing on the tree, at moving an item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ButtonRelease</span> <span class='ruff_arg'>but s x y X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>but</code></code></td><td class='ruff_defitem'>mouse button</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>state (ctrl/alt/shift)</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>x-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>y-coordinate to identify an item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_459' href="javascript:toggleSource('459')">Show source</a></p>
<div id='459' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ButtonRelease {but s x y X Y} {

  <i><font color=#4b5d50># Handles a mouse button releasing on the tree, at moving an item.</font></i>
  <i><font color=#4b5d50>#   but - mouse button</font></i>
  <i><font color=#4b5d50>#   s - state (ctrl/alt/shift)</font></i>
  <i><font color=#4b5d50>#   x - x-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   y - y-coordinate to identify an item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - x-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> identify item <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>]
  DestroyMoveWindow no
  <b><font color=#3a6797>set</font></b> msec [<b><font color=#3a6797>clock</font></b> milliseconds]
  <b><font color=#3a6797>if</font></b> {([<b><font color=#3a6797>info</font></b> exists al(_MSEC)] && [<b><font color=#3a6797>expr</font></b> {(<font color=#1b1baa>$msec</font>-<font color=#1b1baa>$al(_MSEC)</font>)&lt;400}])  || (<font color=#1b1baa>$s</font> & 7)} {
    <b><font color=#3a6797>set</font></b> al(movWin) {}
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>] && [<b><font color=#3a6797>info</font></b> exists al(movID)] &&  <font color=#1b1baa>$al(movID)</font> ne {} && <font color=#1b1baa>$ID</font> ne {} && <font color=#1b1baa>$al(movID)</font> ne <font color=#1b1baa>$ID</font> &&  [<font color=#1b1baa>$wtree</font> identify region <font color=#1b1baa>$x</font> <font color=#1b1baa>$y</font>] eq {tree}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      alited::unit::MoveUnits <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$al(movID)</font> <font color=#1b1baa>$ID</font>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::MoveFiles <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$al(movID)</font> <font color=#1b1baa>$ID</font>
    }
  }
  DestroyMoveWindow yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::Create'>Create</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a tree of units/files, at need.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Create</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::CreateFilesTree" title="CreateFilesTree" class='ruff_cmd'>CreateFilesTree</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_460' href="javascript:toggleSource('460')">Show source</a></p>
<div id='460' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::Create {} {

  <i><font color=#4b5d50># Creates a tree of units/files, at need.</font></i>
  <i><font color=#4b5d50># See also: CreateFilesTree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font> && <font color=#1b1baa>$al(TREE,units)</font>  || !<font color=#1b1baa>$al(TREE,isunits)</font> && <font color=#1b1baa>$al(TREE,files)</font>} <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># no need</font></i>
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#134070>pack</font></b> [<font color=#1b1baa>$obPav</font> BuTRenT] <font color=#6c3e67>-side</font> left <font color=#6c3e67>-after</font> [<font color=#1b1baa>$obPav</font> BuTAddT]  ;<i><font color=#4b5d50># display 'Rename' button</font></i>
    <i><font color=#4b5d50># for file tree: get its current &quot;open branch&quot; flags</font></i>
    <i><font color=#4b5d50># in order to check them in CreateFilesTree</font></i>
    <b><font color=#3a6797>set</font></b> al(SAVED_FILE_TREE) [<b><font color=#3a6797>list</font></b>]
    <b><font color=#3a6797>foreach</font></b> item [GetTree] {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> - - ID - values
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> -&gt; fname isfile
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is false <font color=#6c3e67>-strict</font> <font color=#1b1baa>$isfile</font>]} {
        <b><font color=#3a6797>lappend</font></b> al(SAVED_FILE_TREE) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-open</font>]]
      }
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#134070>pack</font></b> forget [<font color=#1b1baa>$obPav</font> BuTRenT] ;<i><font color=#4b5d50># hide 'Rename' button</font></i>
  }
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  Delete <font color=#1b1baa>$wtree</font> {} <font color=#1b1baa>$TID</font>
  AddTags <font color=#1b1baa>$wtree</font>
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonPress&gt; {<b><font color=#3a6797>after</font></b> idle {alited::tree::ButtonPress %b %x %y %X %Y}}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;ButtonRelease&gt; {<b><font color=#3a6797>after</font></b> idle {alited::tree::ButtonRelease %b %s %x %y %X %Y}}
  <font color=#1b1baa>$wtree</font> tag bind tagNorm &lt;Motion&gt; {<b><font color=#3a6797>after</font></b> idle {alited::tree::ButtonMotion %b %s %x %y %X %Y}}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;ButtonRelease&gt; {alited::tree::DestroyMoveWindow no}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;Leave&gt; {alited::tree::DestroyMoveWindow yes}
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;F2&gt; {alited::file::RenameFileInTree}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    CreateUnitsTree <font color=#1b1baa>$TID</font> <font color=#1b1baa>$wtree</font>
  } <b><font color=#3a6797>else</font></b> {
    CreateFilesTree <font color=#1b1baa>$wtree</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CreateFilesTree'>CreateFilesTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a file tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateFilesTree</span> <span class='ruff_arg'>wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_461' href="javascript:toggleSource('461')">Show source</a></p>
<div id='461' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CreateFilesTree {wtree} {

  <i><font color=#4b5d50># Creates a file tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(TREE,files) yes
  [<font color=#1b1baa>$obPav</font> BuTswitch] configure <font color=#6c3e67>-image</font> alimg_gulls
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTswitch] <font color=#1b1baa>$al(MC,swfiles)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTAddT] <font color=#1b1baa>$al(MC,filesadd)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTDelT] <font color=#1b1baa>$al(MC,filesdel)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTUp] <font color=#1b1baa>$al(MC,moveupF)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTDown] <font color=#1b1baa>$al(MC,movedownF)</font>
  <font color=#1b1baa>$al(MENUEDIT)</font> entryconfigure 0 <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,moveupF)</font>
  <font color=#1b1baa>$al(MENUEDIT)</font> entryconfigure 1 <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,movedownF)</font>
  <font color=#1b1baa>$wtree</font> heading #0 <font color=#6c3e67>-text</font> <font color=#7d1a1a>&quot;:: <font color=#1b1baa>[</font>file tail <font color=#1b1baa>$</font>al(prjroot)<font color=#1b1baa>]</font> ::&quot;</font>
  <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> <font color=#1b1baa>$al(MC,files)</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtree</font> &lt;Return&gt; {::alited::tree::OpenFile}
  <b><font color=#3a6797>set</font></b> selID <font color=#7d1a1a>&quot;&quot;</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> selfile [alited::bar::FileName]}]} {
    <b><font color=#3a6797>set</font></b> selfile {} ;<i><font color=#4b5d50># at closing by Ctrl+W with file tree open: no current file</font></i>
  }
  <b><font color=#3a6797>foreach</font></b> item [GetDirectoryContents <font color=#1b1baa>$al(prjroot)</font>] {
    <b><font color=#3a6797>set</font></b> itemID  [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev isfile fname fcount iroot
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selfile</font> eq <font color=#1b1baa>$fname</font>} {<b><font color=#3a6797>set</font></b> selID <font color=#1b1baa>$itemID</font>}
    <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$iroot</font>&lt;0} {
      <b><font color=#3a6797>set</font></b> parent {}
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> parent [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iroot]]
    }
    <b><font color=#3a6797>set</font></b> isopen no
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>if</font></b> {[alited::file::IsTcl <font color=#1b1baa>$fname</font>]} {
        <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_tclfile}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_file}
      }
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> imgopt {<font color=#6c3e67>-image</font> alimg_folder}
      <i><font color=#4b5d50># get the directory's flag of expanded branch (in the file tree)</font></i>
      <b><font color=#3a6797>set</font></b> idx [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-index</font> 0 <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(SAVED_FILE_TREE)</font> <font color=#1b1baa>$fname</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$idx</font>&gt;-1} {
        <b><font color=#3a6797>set</font></b> isopen [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(SAVED_FILE_TREE)</font> <font color=#1b1baa>$idx</font> 1]
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fcount</font>} {<b><font color=#3a6797>set</font></b> fc <font color=#1b1baa>$fcount</font>} {<b><font color=#3a6797>set</font></b> fc {}}
    <font color=#1b1baa>$wtree</font> insert <font color=#1b1baa>$parent</font> end <font color=#6c3e67>-id</font> <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-text</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>title&quot;</font>  <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fc</font> <font color=#1b1baa>$fname</font> <font color=#1b1baa>$isfile</font> <font color=#1b1baa>$itemID</font>] <font color=#6c3e67>-open</font> <font color=#1b1baa>$isopen</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$imgopt</font>
    <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$itemID</font>
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$isfile</font>} {
      <font color=#1b1baa>$wtree</font> tag add tagBranch <font color=#1b1baa>$itemID</font>
    } <b><font color=#3a6797>elseif</font></b> {[alited::bar::FileTID <font color=#1b1baa>$fname</font>] ne <font color=#7d1a1a>&quot;&quot;</font>} {
      <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$selID</font> ne {}} {
    <font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$selID</font>
    <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$selID</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CreateUnitsTree'>CreateUnitsTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a unit tree for a tab.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateUnitsTree</span> <span class='ruff_arg'>TID wtree</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>a current tab's ID</td></tr>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_462' href="javascript:toggleSource('462')">Show source</a></p>
<div id='462' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CreateUnitsTree {TID wtree} {

  <i><font color=#4b5d50># Creates a unit tree for a tab.</font></i>
  <i><font color=#4b5d50>#   TID - a current tab's ID</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> al(TREE,units) yes
  [<font color=#1b1baa>$obPav</font> BuTswitch] configure <font color=#6c3e67>-image</font> alimg_folder
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTswitch] <font color=#1b1baa>$al(MC,swunits)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTAddT] <font color=#1b1baa>$al(MC,tpllist)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTDelT] <font color=#1b1baa>$al(MC,unitsdel)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTUp] <font color=#1b1baa>$al(MC,moveupU)</font>
  baltip::tip [<font color=#1b1baa>$obPav</font> BuTDown] <font color=#1b1baa>$al(MC,movedownU)</font>
  <font color=#1b1baa>$al(MENUEDIT)</font> entryconfigure 0 <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,moveupU)</font>
  <font color=#1b1baa>$al(MENUEDIT)</font> entryconfigure 1 <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,movedownU)</font>
  <font color=#1b1baa>$wtree</font> heading #0 <font color=#6c3e67>-text</font> [alited::bar::CurrentTab 1]
  <font color=#1b1baa>$wtree</font> heading #1 <font color=#6c3e67>-text</font> [msgcat::mc Row]
  <b><font color=#3a6797>set</font></b> ctab [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> parents [<b><font color=#3a6797>list</font></b> {}]
  <b><font color=#3a6797>set</font></b> parent {}
  <b><font color=#3a6797>set</font></b> levprev -1
  <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$al(_unittree,$TID)</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]&lt;3} continue
    <b><font color=#3a6797>set</font></b> itemID  [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev leaf fl1 title l1 l2
    <b><font color=#3a6797>set</font></b> title [UnitTitle <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
    <b><font color=#3a6797>set</font></b> lev [<b><font color=#3a6797>expr</font></b> {min(<font color=#1b1baa>$lev</font>,[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$parents</font>])}]
    <b><font color=#3a6797>set</font></b> parent [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$parents</font> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>-1}]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font>} {
      <b><font color=#3a6797>set</font></b> title <font color=#7d1a1a>&quot; <font color=#1b1baa>$</font>title&quot;</font>
      <b><font color=#3a6797>set</font></b> pr [<b><font color=#3a6797>expr</font></b> {max(0,min(7,(<font color=#1b1baa>$l2</font>-<font color=#1b1baa>$l1</font>)/<font color=#1b1baa>$al(prjredunit)</font>))}]
      <b><font color=#3a6797>set</font></b> imgopt <font color=#7d1a1a>&quot;-image alimg_pro<font color=#1b1baa>$</font>pr&quot;</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> imgopt <font color=#7d1a1a>&quot;-image alimg_gulls&quot;</font>
    }
    <font color=#1b1baa>$wtree</font> insert <font color=#1b1baa>$parent</font> end <font color=#6c3e67>-id</font> <font color=#1b1baa>$itemID</font> <font color=#6c3e67>-text</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>title&quot;</font>  <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font> {} <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$leaf</font> <font color=#1b1baa>$fl1</font>] <font color=#6c3e67>-open</font> yes {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$imgopt</font>
    <font color=#1b1baa>$wtree</font> tag add tagNorm <font color=#1b1baa>$itemID</font>
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font> &&  [<b><font color=#3a6797>info</font></b> exists al(CPOS,<font color=#1b1baa>$ctab</font>,[alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemID</font>])]} {
        <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
      }
    }
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$leaf</font>} {
      <font color=#1b1baa>$wtree</font> tag add tagBranch <font color=#1b1baa>$itemID</font>
      <b><font color=#3a6797>set</font></b> parent <font color=#1b1baa>$itemID</font>
      <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> parents [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$parents</font> <font color=#1b1baa>$lev</font> end <font color=#1b1baa>$parent</font>]}
    }
    <b><font color=#3a6797>set</font></b> levprev <font color=#1b1baa>$lev</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CurrentItem'>CurrentItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID of selected item of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentItem</span> <span class='ruff_arg'>?Tree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>the tree widget's name; <i>optional, default</i> <code>Tree</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_463' href="javascript:toggleSource('463')">Show source</a></p>
<div id='463' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CurrentItem {{Tree Tree}} {

  <i><font color=#4b5d50># Gets ID of selected item of the tree.</font></i>
  <i><font color=#4b5d50>#   Tree - the tree widget's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$Tree</font>]
  <b><font color=#3a6797>set</font></b> it [<font color=#1b1baa>$wtree</font> focus]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$it</font> eq {}} {<b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$wtree</font> selection] 0]}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$it</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::CurrentItemByLine'>CurrentItemByLine</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets item ID of unit tree for a current text position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CurrentItemByLine</span> <span class='ruff_arg'>?pos? ?fullinfo?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>the current text position; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fullinfo</code></code></td><td class='ruff_defitem'>if yes, returns a full info for the found ID; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_464' href="javascript:toggleSource('464')">Show source</a></p>
<div id='464' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::CurrentItemByLine {{pos {}} {fullinfo no}} {

  <i><font color=#4b5d50># Gets item ID of unit tree for a current text position.</font></i>
  <i><font color=#4b5d50>#   pos - the current text position</font></i>
  <i><font color=#4b5d50>#  fullinfo - if yes, returns a full info for the found ID.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font> eq {}} {
    <b><font color=#3a6797>set</font></b> pos [[alited::main::CurrentWTXT] index insert]
  }
  <b><font color=#3a6797>set</font></b> l [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}]
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> L 0
  <b><font color=#3a6797>set</font></b> R [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font>]
  <b><font color=#3a6797>while</font></b> {<font color=#1b1baa>$L</font>&lt;<font color=#1b1baa>$R</font>} {
    <b><font color=#3a6797>set</font></b> m [<b><font color=#3a6797>expr</font></b> {int((<font color=#1b1baa>$L</font>+<font color=#1b1baa>$R</font>)/2)}]
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$m</font>] lev leaf fl1 title l1 l2 ID
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l2</font>&lt;<font color=#1b1baa>$l</font>} {
      <b><font color=#3a6797>set</font></b> L [<b><font color=#3a6797>incr</font></b> m]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$l1</font>&gt;<font color=#1b1baa>$l</font>} {
      <b><font color=#3a6797>set</font></b> R <font color=#1b1baa>$m</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fullinfo</font>} {
        <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$ID</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$leaf</font> <font color=#1b1baa>$fl1</font> <font color=#1b1baa>$title</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
      }
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ID</font>
    }
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes recursively an item and its children from the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>wtree item TID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>ID of the item to be deleted.</td></tr>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_465' href="javascript:toggleSource('465')">Show source</a></p>
<div id='465' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::Delete {wtree item TID} {

  <i><font color=#4b5d50># Removes recursively an item and its children from the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree widget's path</font></i>
  <i><font color=#4b5d50>#   item - ID of the item to be deleted.</font></i>

  <b><font color=#3a6797>foreach</font></b> child [<font color=#1b1baa>$wtree</font> children <font color=#1b1baa>$item</font>] {
    alited::tree::Delete <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$child</font> <font color=#1b1baa>$TID</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {<font color=#1b1baa>$wtree</font> delete <font color=#1b1baa>$item</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DelItem'>DelItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes an item from the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DelItem</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>an item's ID to be deleted; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_466' href="javascript:toggleSource('466')">Show source</a></p>
<div id='466' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DelItem {{ID {}}} {

  <i><font color=#4b5d50># Removes an item from the tree.</font></i>
  <i><font color=#4b5d50>#   ID - an item's ID to be deleted.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq {} && [<b><font color=#3a6797>set</font></b> ID [alited::tree::CurrentItem]] eq {}} {
    <b><font color=#134070>bell</font></b>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    alited::unit::Delete <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$fname</font>
  } <b><font color=#3a6797>else</font></b> {
    alited::file::Delete <font color=#1b1baa>$ID</font> <font color=#1b1baa>$wtree</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DestroyMoveWindow'>DestroyMoveWindow</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys an item moving window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DestroyMoveWindow</span> <span class='ruff_arg'>cancel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cancel</code></code></td><td class='ruff_defitem'>if yes, clears also the related variables.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_467' href="javascript:toggleSource('467')">Show source</a></p>
<div id='467' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DestroyMoveWindow {cancel} {

  <i><font color=#4b5d50># Destroys an item moving window.</font></i>
  <i><font color=#4b5d50>#   cancel - if yes, clears also the related variables.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$al(movWin)</font>}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cancel</font>} {<b><font color=#3a6797>lassign</font></b> {} al(movWin) al(movID)}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DirContents'>DirContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DirContents</span> <span class='ruff_arg'>dirname ?lev? ?iroot? ?globs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirname</code></code></td><td class='ruff_defitem'>a dirtectory's name</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level in the directory hierarchy; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>iroot</code></code></td><td class='ruff_defitem'>index of the directory's parent or -1; <i>optional, default</i> <code>-1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>globs</code></code></td><td class='ruff_defitem'>list of globs to filter files; <i>optional, default</i> <code>*</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::GetDirectoryContents" title="GetDirectoryContents" class='ruff_cmd'>GetDirectoryContents</a>, <a href="alited.html#::alited::tree::AddToDirContents" title="AddToDirContents" class='ruff_cmd'>AddToDirContents</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_468' href="javascript:toggleSource('468')">Show source</a></p>
<div id='468' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DirContents {dirname {lev 0} {iroot -1} {globs *}} {

  <i><font color=#4b5d50># Reads a directory's contents.</font></i>
  <i><font color=#4b5d50>#   dirname - a dirtectory's name</font></i>
  <i><font color=#4b5d50>#   lev - level in the directory hierarchy</font></i>
  <i><font color=#4b5d50>#   iroot - index of the directory's parent or -1</font></i>
  <i><font color=#4b5d50>#   globs - list of globs to filter files.</font></i>
  <i><font color=#4b5d50># See also:</font></i>
  <i><font color=#4b5d50>#   GetDirectoryContents</font></i>
  <i><font color=#4b5d50>#   AddToDirContents</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>incr</font></b> lev
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-dictionary</font> [<b><font color=#3a6797>glob</font></b> [<b><font color=#3a6797>file</font></b> join <font color=#1b1baa>$dirname</font> *]]]}]} {
    <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>list</font></b>]
  }
  <i><font color=#4b5d50># firstly directories:</font></i>
  <i><font color=#4b5d50># 1. skip the ignored ones</font></i>
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$dcont</font>]} {<font color=#1b1baa>$i</font>} {} {
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>if</font></b> {[IgnoredDir [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font>]]} {
      <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font>]
    }
  }
  <i><font color=#4b5d50># 2. put the directories to the beginning of the file list</font></i>
  <b><font color=#3a6797>set</font></b> i 0
  <b><font color=#3a6797>foreach</font></b> fname <font color=#1b1baa>$dcont</font> {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>file</font></b> isdirectory <font color=#1b1baa>$fname</font>]} {
      <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font> <font color=#7d1a1a>&quot;y&quot;</font>]]
      <b><font color=#3a6797>set</font></b> nroot [AddToDirContents <font color=#1b1baa>$lev</font> 0 <font color=#1b1baa>$fname</font> <font color=#1b1baa>$iroot</font>]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_dirtree)</font>] &lt; <font color=#1b1baa>$al(MAXFILES)</font>} {
        DirContents <font color=#1b1baa>$fname</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$nroot</font> <font color=#1b1baa>$globs</font>
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>break</font></b>
      }
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> dcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$dcont</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$i</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$fname</font>]]
    }
    <b><font color=#3a6797>incr</font></b> i
  }
  <i><font color=#4b5d50># then files</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(_dirtree)</font>] &lt; <font color=#1b1baa>$al(MAXFILES)</font>} {
    <b><font color=#3a6797>foreach</font></b> fname <font color=#1b1baa>$dcont</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$fname</font> fname d
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$d</font> ne <font color=#7d1a1a>&quot;y&quot;</font>} {
        <b><font color=#3a6797>foreach</font></b> gl [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$globs</font> <font color=#7d1a1a>&quot;,&quot;</font>] {
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#1b1baa>$gl</font> <font color=#1b1baa>$fname</font>]} {
            AddToDirContents <font color=#1b1baa>$lev</font> 1 <font color=#1b1baa>$fname</font> <font color=#1b1baa>$iroot</font>
            <b><font color=#3a6797>break</font></b>
          }
        }
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::DropItems'>DropItems</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Drops (moves) selected items to a current position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropItems</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of an item to be clicked</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_469' href="javascript:toggleSource('469')">Show source</a></p>
<div id='469' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::DropItems {ID} {

  <i><font color=#4b5d50># Drops (moves) selected items to a current position.</font></i>
  <i><font color=#4b5d50>#   ID - ID of an item to be clicked</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtree</font> exists <font color=#1b1baa>$ID</font>] && <font color=#1b1baa>$selection</font> ne {} && <font color=#1b1baa>$ID</font> ne {} && <font color=#1b1baa>$selection</font> ne <font color=#1b1baa>$ID</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      alited::unit::MoveUnits <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$selection</font> <font color=#1b1baa>$ID</font>
    } <b><font color=#3a6797>else</font></b> {
      alited::file::MoveFiles <font color=#1b1baa>$wtree</font> move <font color=#1b1baa>$selection</font> <font color=#1b1baa>$ID</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ExpandContractTree'>ExpandContractTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Expands or contracts the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ExpandContractTree</span> <span class='ruff_arg'>Tree ?isexp?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>the tree's name</td></tr>
<tr><td class='ruff_defitem'><code><code>isexp</code></code></td><td class='ruff_defitem'>yes, if to expand; no, if to contract; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_470' href="javascript:toggleSource('470')">Show source</a></p>
<div id='470' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ExpandContractTree {Tree {isexp yes}} {

  <i><font color=#4b5d50># Expands or contracts the tree.</font></i>
  <i><font color=#4b5d50>#   Tree - the tree's name</font></i>
  <i><font color=#4b5d50>#   isexp - yes, if to expand; no, if to contract</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$Tree</font>]
  <b><font color=#3a6797>foreach</font></b> item [GetTree {} <font color=#1b1baa>$Tree</font>] {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt ID
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<font color=#1b1baa>$wtree</font> children <font color=#1b1baa>$ID</font>]]} {
      <font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-open</font> <font color=#1b1baa>$isexp</font>
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ForEach'>ForEach</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Scans all items of the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ForEach</span> <span class='ruff_arg'>wtree aproc ?lev? ?branch?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>aproc</code></code></td><td class='ruff_defitem'>a procedure to run at scanning</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>level of the tree; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>branch</code></code></td><td class='ruff_defitem'>ID of the branch to be scanned; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The 'aproc' argument can include wildcards to be replaced appropriate data:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>%level</code></td><td class='ruff_defitem'>current tree level</td></tr>
<tr><td class='ruff_defitem'><code>%children</code></td><td class='ruff_defitem'>children of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%item</code></td><td class='ruff_defitem'>ID of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%text</code></td><td class='ruff_defitem'>text of a current item</td></tr>
<tr><td class='ruff_defitem'><code>%values</code></td><td class='ruff_defitem'>values of a current item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_471' href="javascript:toggleSource('471')">Show source</a></p>
<div id='471' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ForEach {wtree aproc {lev 0} {branch {}}} {

  <i><font color=#4b5d50># Scans all items of the tree.</font></i>
  <i><font color=#4b5d50>#   wtree - the tree's path</font></i>
  <i><font color=#4b5d50>#   aproc - a procedure to run at scanning</font></i>
  <i><font color=#4b5d50>#   lev - level of the tree</font></i>
  <i><font color=#4b5d50>#   branch - ID of the branch to be scanned</font></i>
  <i><font color=#4b5d50># The 'aproc' argument can include wildcards to be replaced</font></i>
  <i><font color=#4b5d50># appropriate data:</font></i>
  <i><font color=#4b5d50>#    %level - current tree level</font></i>
  <i><font color=#4b5d50>#    %children - children of a current item</font></i>
  <i><font color=#4b5d50>#    %item - ID of a current item</font></i>
  <i><font color=#4b5d50>#    %text - text of a current item</font></i>
  <i><font color=#4b5d50>#    %values - values of a current item</font></i>

  <b><font color=#3a6797>set</font></b> children [<font color=#1b1baa>$wtree</font> children <font color=#1b1baa>$branch</font>]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lev</font>} {
    <b><font color=#3a6797>set</font></b> proc [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b>  %level <font color=#1b1baa>$lev</font>  %children [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$children</font>]  %item <font color=#1b1baa>$branch</font>  %text [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$branch</font> <font color=#6c3e67>-text</font>]  %values [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$branch</font> <font color=#6c3e67>-values</font>]]  <font color=#1b1baa>$aproc</font>]
    <b><font color=#3a6797>uplevel</font></b> [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>+1}] <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>proc&quot;</font>
  }
  <b><font color=#3a6797>incr</font></b> lev
  <b><font color=#3a6797>foreach</font></b> child <font color=#1b1baa>$children</font> {
    ForEach <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$aproc</font> <font color=#1b1baa>$lev</font> <font color=#1b1baa>$child</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetDirectoryContents'>GetDirectoryContents</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a directory's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetDirectoryContents</span> <span class='ruff_arg'>dirname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirname</code></code></td><td class='ruff_defitem'>the directory's name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list containing the directory's contents.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::DirContents" title="DirContents" class='ruff_cmd'>DirContents</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_472' href="javascript:toggleSource('472')">Show source</a></p>
<div id='472' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::GetDirectoryContents {dirname} {

  <i><font color=#4b5d50># Gets a directory's contents.</font></i>
  <i><font color=#4b5d50>#   dirname - the directory's name</font></i>
  <i><font color=#4b5d50># Returns a list containing the directory's contents.</font></i>
  <i><font color=#4b5d50># See also:</font></i>
  <i><font color=#4b5d50>#   DirContents</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> al(_dirtree) [<b><font color=#3a6797>set</font></b> al(_dirignore) [<b><font color=#3a6797>list</font></b>]]
  <b><font color=#3a6797>catch</font></b> {    ;<i><font color=#4b5d50># there might be an incorrect list -&gt; catch it</font></i>
    <b><font color=#3a6797>foreach</font></b> d <font color=#1b1baa>$al(prjdirign)</font> {
      <b><font color=#3a6797>lappend</font></b> al(_dirignore) [<b><font color=#3a6797>string</font></b> toupper [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$d</font> \&quot;]]
    }
  }
  <b><font color=#3a6797>lappend</font></b> al(_dirignore) [<b><font color=#3a6797>string</font></b> toupper [<b><font color=#3a6797>file</font></b> tail [alited::Tclexe]]]
  DirContents <font color=#1b1baa>$dirname</font>
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$al(_dirtree)</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetTooltip'>GetTooltip</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tip for unit / file tree's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTooltip</span> <span class='ruff_arg'>ID NC</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of treeview item</td></tr>
<tr><td class='ruff_defitem'><code><code>NC</code></code></td><td class='ruff_defitem'>column of treeview item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_473' href="javascript:toggleSource('473')">Show source</a></p>
<div id='473' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::GetTooltip {ID NC} {

  <i><font color=#4b5d50># Gets a tip for unit / file tree's item.</font></i>
  <i><font color=#4b5d50>#   ID - ID of treeview item</font></i>
  <i><font color=#4b5d50>#   NC - column of treeview item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(movWin)] && <font color=#1b1baa>$al(movWin)</font> ne {}} {
    <i><font color=#4b5d50># no tips while drag-n-dropping</font></i>
    <b><font color=#ca14ca>return</font></b> {}
  }
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <i><font color=#4b5d50># for units</font></i>
    <b><font color=#3a6797>set</font></b> tip [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font> <font color=#1b1baa>$NC</font>]
  } <b><font color=#3a6797>else</font></b> {
    <i><font color=#4b5d50># for files</font></i>
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; tip isfile
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,showinfo)</font>} {
        <b><font color=#3a6797>set</font></b> tip [alited::file::FileStat <font color=#1b1baa>$tip</font>]
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> tip {}
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::GetTree'>GetTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tree or its branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetTree</span> <span class='ruff_arg'>?parent? ?Tree?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>parent</code></code></td><td class='ruff_defitem'>ID of the branch; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>Tree</code></code></td><td class='ruff_defitem'>name of the tree widget; <i>optional, default</i> <code>Tree</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_474' href="javascript:toggleSource('474')">Show source</a></p>
<div id='474' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::GetTree {{parent {}} {Tree Tree}} {

  <i><font color=#4b5d50># Gets a tree or its branch.</font></i>
  <i><font color=#4b5d50>#   parent - ID of the branch</font></i>
  <i><font color=#4b5d50>#   Tree - name of the tree widget</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> <font color=#1b1baa>$Tree</font>]
  <b><font color=#3a6797>set</font></b> tree [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> levp -1
  ForEach <font color=#1b1baa>$wtree</font> {
    <b><font color=#3a6797>set</font></b> item <font color=#7d1a1a>&quot;%item&quot;</font>
    <b><font color=#3a6797>set</font></b> lev %level
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$levp</font>&gt;-1 || <font color=#1b1baa>$item</font> eq <font color=#1b1baa>$parent</font>} {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$lev</font>&lt;=<font color=#1b1baa>$levp</font>} {<b><font color=#ca14ca>return</font></b> <font color=#6c3e67>-code</font> break}  ;<i><font color=#4b5d50># all of branch fetched</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> eq <font color=#1b1baa>$parent</font>} {<b><font color=#3a6797>set</font></b> levp <font color=#1b1baa>$lev</font>}
    }
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$parent</font> eq {} || <font color=#1b1baa>$levp</font>&gt;-1} {
        <b><font color=#3a6797>lappend</font></b> tree [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> %children <font color=#1b1baa>$item</font> {%text} {%values}]
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tree</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::IgnoredDir'>IgnoredDir</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a directory is in the list of the ignored ones.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IgnoredDir</span> <span class='ruff_arg'>dir</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dir</code></code></td><td class='ruff_defitem'>the directory's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_475' href="javascript:toggleSource('475')">Show source</a></p>
<div id='475' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::IgnoredDir {dir} {

  <i><font color=#4b5d50># Checks if a directory is in the list of the ignored ones.</font></i>
  <i><font color=#4b5d50>#   dir - the directory's name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> dir [<b><font color=#3a6797>string</font></b> toupper [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$dir</font>]]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$al(_dirignore)</font> <font color=#1b1baa>$dir</font>]&gt;-1}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::MoveItem'>MoveItem</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves items of the tree (units or files)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveItem</span> <span class='ruff_arg'>to ?f1112?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (&quot;up&quot; or &quot;down&quot;)</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>true, if started by keypressing (false, if by mouse); <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_476' href="javascript:toggleSource('476')">Show source</a></p>
<div id='476' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::MoveItem {to {f1112 no}} {

  <i><font color=#4b5d50># Moves items of the tree (units or files)</font></i>
  <i><font color=#4b5d50>#   to - direction (&quot;up&quot; or &quot;down&quot;)</font></i>
  <i><font color=#4b5d50>#   f1112 - true, if started by keypressing (false, if by mouse)</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font> && [alited::file::MoveExternal <font color=#1b1baa>$f1112</font>]} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> eq {}} {
    <b><font color=#3a6797>set</font></b> itemID [<font color=#1b1baa>$wtree</font> focus]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itemID</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$f1112</font>} {<b><font color=#3a6797>set</font></b> geo {}} {<b><font color=#3a6797>set</font></b> geo {<font color=#6c3e67>-geometry</font> pointer+10+10}}
    alited::Message {No item selected.} 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    alited::unit::MoveUnits <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$to</font> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$f1112</font>
  } <b><font color=#3a6797>else</font></b> {
    alited::file::MoveFiles <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$to</font> <font color=#1b1baa>$itemID</font> <font color=#1b1baa>$f1112</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::NewItemID'>NewItemID</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a new ID for the tree item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewItemID</span> <span class='ruff_arg'>iit</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>iit</code></code></td><td class='ruff_defitem'>index of the new item.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_477' href="javascript:toggleSource('477')">Show source</a></p>
<div id='477' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::NewItemID {iit} {

  <i><font color=#4b5d50># Gets a new ID for the tree item.</font></i>
  <i><font color=#4b5d50>#   iit - index of the new item.</font></i>

  <b><font color=#ca14ca>return</font></b> <font color=#7d1a1a>&quot;al<font color=#1b1baa>$</font>iit&quot;</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::NewSelection'>NewSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a new item of the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>NewSelection</span> <span class='ruff_arg'>?itnew? ?line? ?topos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>itnew</code></code></td><td class='ruff_defitem'>ID of the new selected item; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>a relative line number inside the item or an absolute position in the text; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>topos</code></code></td><td class='ruff_defitem'>if yes, 'line' is an absolute position in the text; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns ID of the newly selected item.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_478' href="javascript:toggleSource('478')">Show source</a></p>
<div id='478' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::NewSelection {{itnew {}} {line 0} {topos no}} {

  <i><font color=#4b5d50># Selects a new item of the unit tree.</font></i>
  <i><font color=#4b5d50>#   itnew - ID of the new selected item</font></i>
  <i><font color=#4b5d50>#   line - a relative line number inside the item or an absolute position in the text</font></i>
  <i><font color=#4b5d50>#   topos - if yes, 'line' is an absolute position in the text</font></i>
  <i><font color=#4b5d50># Returns ID of the newly selected item.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>variable</font></b> doFocus
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> ctab [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <i><font color=#4b5d50># newly selected item</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itnew</font> eq {}} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$topos</font>} {
      <b><font color=#3a6797>set</font></b> itnew [CurrentItemByLine <font color=#1b1baa>$line</font>]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> itnew [CurrentItem]
    }
  }
  <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itnew</font>]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itnew</font> <font color=#6c3e67>-values</font>] l1 l2 - - - leaf
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is true <font color=#6c3e67>-strict</font> <font color=#1b1baa>$leaf</font>]} {
    <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itnew</font>
  }
  <i><font color=#4b5d50># get saved pos</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>info</font></b> exists al(CPOS,<font color=#1b1baa>$ctab</font>,<font color=#1b1baa>$header</font>)]} {
    <b><font color=#3a6797>set</font></b> pos [alited::p+ <font color=#1b1baa>$l1</font> <font color=#1b1baa>$al(CPOS,$ctab,$header)</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$topos</font>} {
    <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$line</font>
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$l1</font>] && [<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$l2</font>]} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$line</font>] && <font color=#1b1baa>$line</font> != 0 &&  <font color=#1b1baa>$l1</font>&lt;(<font color=#1b1baa>$l1</font>+<font color=#1b1baa>$line</font>) && (<font color=#1b1baa>$l1</font>+<font color=#1b1baa>$line</font>)&lt;(<font color=#1b1baa>$l2</font>+1)} {
      <i><font color=#4b5d50># it's coming from a saved favorite item</font></i>
      <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l1</font>+<font color=#1b1baa>$line</font>}]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$pos</font>&lt;<font color=#1b1baa>$l1</font> || <font color=#1b1baa>$pos</font>&gt;=(<font color=#1b1baa>$l2</font>+1)} {
        <i><font color=#4b5d50># if not saved, get it from 1st line</font></i>
        <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$l1</font>.0
      }
    }
  }
  <i><font color=#4b5d50># previously selected item</font></i>
  <b><font color=#3a6797>lassign</font></b> [alited::bar::BAR cget -<font color=#6c3e67>-currSelTab</font> -<font color=#6c3e67>-currSelItem</font>] otab itold
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$itold</font> ne <font color=#7d1a1a>&quot;&quot;</font> && ![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itold</font> <font color=#6c3e67>-values</font>] o1 o2}]} {
    <i><font color=#4b5d50># if there was the previously selected item, save its cursor position</font></i>
    <b><font color=#3a6797>catch</font></b> {
      <i><font color=#4b5d50># -values at files' tree is invalid for this =&gt; 'catch'</font></i>
      <i><font color=#4b5d50># (then pos=saved position for the whole file, got from --pos)</font></i>
      <b><font color=#3a6797>set</font></b> opos [<font color=#1b1baa>$wtxt</font> index insert]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$o1</font>&lt;=<font color=#1b1baa>$opos</font> && <font color=#1b1baa>$opos</font>&lt;(<font color=#1b1baa>$o2</font>+1)} {
        <b><font color=#3a6797>set</font></b> ohead [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itold</font>]
        <b><font color=#3a6797>set</font></b> al(CPOS,<font color=#1b1baa>$otab</font>,<font color=#1b1baa>$ohead</font>) [alited::p+ <font color=#1b1baa>$opos</font> -<font color=#1b1baa>$o1</font>]
      }
    }
  }
  alited::bar::BAR configure -<font color=#6c3e67>-currSelTab</font> <font color=#1b1baa>$ctab</font> -<font color=#6c3e67>-currSelItem</font> <font color=#1b1baa>$itnew</font>
  <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> al(CPOS,<font color=#1b1baa>$ctab</font>,<font color=#1b1baa>$header</font>) [alited::p+ <font color=#1b1baa>$pos</font> -<font color=#1b1baa>$l1</font>]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doFocus</font>} {
    alited::main::FocusText <font color=#1b1baa>$TID</font> <font color=#1b1baa>$pos</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font> && <font color=#1b1baa>$al(dolastvisited)</font>} {
    alited::favor::LastVisited [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$itnew</font>] <font color=#1b1baa>$header</font>
  }
  alited::main::UpdateGutter
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$itnew</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::OpenFile'>OpenFile</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens file at clicking a file tree's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OpenFile</span> <span class='ruff_arg'>?ID?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_479' href="javascript:toggleSource('479')">Show source</a></p>
<div id='479' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::OpenFile {{ID {}}} {

  <i><font color=#4b5d50># Opens file at clicking a file tree's item.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ID</font> eq {}} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ID [<font color=#1b1baa>$wtree</font> selection]] eq {}} <b><font color=#ca14ca>return</font></b>
    }
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; fname isfile
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::bar::FileTID <font color=#1b1baa>$fname</font>]] eq {}} {
        alited::file::OpenFile <font color=#1b1baa>$fname</font>
      } <b><font color=#3a6797>else</font></b> {
        alited::bar::BAR <font color=#1b1baa>$TID</font> show
      }
      alited::bar::BAR draw
      alited::tree::UpdateFileTree
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::RecreateTree'>RecreateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Recreates the tree and restores its selections.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RecreateTree</span> <span class='ruff_arg'>?wtree? ?headers?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>the tree's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>a list of selected items; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_480' href="javascript:toggleSource('480')">Show source</a></p>
<div id='480' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::RecreateTree {{wtree {}} {headers {}}} {

    <i><font color=#4b5d50># Recreates the tree and restores its selections.</font></i>
    <i><font color=#4b5d50>#   wtree - the tree's path</font></i>
    <i><font color=#4b5d50>#   headers - a list of selected items</font></i>

    <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> eq {}} {<b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]}
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]}]} {<b><font color=#3a6797>set</font></b> selection [<b><font color=#3a6797>list</font></b>]}
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
      <b><font color=#3a6797>set</font></b> al(TREE,units) no
      <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
      <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
      <b><font color=#3a6797>set</font></b> al(_unittree,<font color=#1b1baa>$TID</font>) [alited::unit::GetUnits <font color=#1b1baa>$TID</font> [<font color=#1b1baa>$wtxt</font> get 1.0 {end -1 char}]]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> al(TREE,files) no
    }
    Create
    <i><font color=#4b5d50># restore selections</font></i>
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$headers</font> ne {}} {
      <b><font color=#3a6797>set</font></b> selection [<b><font color=#3a6797>list</font></b>]
      <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree] {
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt ID
        <b><font color=#3a6797>foreach</font></b> hd <font color=#1b1baa>$headers</font> {
          <b><font color=#3a6797>if</font></b> {[alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>] eq <font color=#1b1baa>$hd</font>} {
            <b><font color=#3a6797>lappend</font></b> selection <font color=#1b1baa>$ID</font>
            <b><font color=#3a6797>break</font></b>
          }
        }
      }
      <font color=#1b1baa>$wtree</font> selection set <font color=#1b1baa>$selection</font>
    } <b><font color=#3a6797>else</font></b> {
      <i><font color=#4b5d50># try to restore selections</font></i>
      <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$selection</font> {
        <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> selection add <font color=#1b1baa>$item</font>}
      }
    }
    <b><font color=#3a6797>catch</font></b> {<font color=#1b1baa>$wtree</font> see [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selection</font> 0]}
  <i><font color=#4b5d50>#  alited::main::SaveVisitInfo</font></i>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SaveCursorPos'>SaveCursorPos</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves current unit's cursor position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveCursorPos</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::favor::GoToUnit" title="favor::GoToUnit" class='ruff_cmd'>favor::GoToUnit</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_481' href="javascript:toggleSource('481')">Show source</a></p>
<div id='481' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SaveCursorPos {} {

  <i><font color=#4b5d50># Saves current unit's cursor position.</font></i>
  <i><font color=#4b5d50># See also: favor::GoToUnit</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> TID [alited::bar::CurrentTabID]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> pos [<font color=#1b1baa>$wtxt</font> index insert]
  <i><font color=#4b5d50># catch is needed at creating text, as the tree doesn't exist</font></i>
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> itnew [CurrentItemByLine <font color=#1b1baa>$pos</font>]
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
    <b><font color=#3a6797>set</font></b> header [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itnew</font>]
    <i><font color=#4b5d50># save the position to unit tree list, to restore it in favor::GoToUnit</font></i>
    <b><font color=#3a6797>set</font></b> it [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 6 <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$itnew</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$it</font>&gt;-1} {
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$it</font>]
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$item</font> 7 7 <font color=#1b1baa>$pos</font>]
      <b><font color=#3a6797>set</font></b> al(_unittree,<font color=#1b1baa>$TID</font>) [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$al(_unittree,$TID)</font> <font color=#1b1baa>$it</font> <font color=#1b1baa>$it</font> <font color=#1b1baa>$item</font>]
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SeeSelection'>SeeSelection</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sees (makes visible) a current selected item in the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SeeSelection</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_482' href="javascript:toggleSource('482')">Show source</a></p>
<div id='482' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SeeSelection {} {

  <i><font color=#4b5d50># Sees (makes visible) a current selected item in the tree.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]==1} {<font color=#1b1baa>$wtree</font> see <font color=#1b1baa>$selection</font>}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::ShowPopupMenu'>ShowPopupMenu</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and opens a popup menu at right clicking the tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ShowPopupMenu</span> <span class='ruff_arg'>ID X Y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of clicked item</td></tr>
<tr><td class='ruff_defitem'><code><code>X</code></code></td><td class='ruff_defitem'>x-coordinate of the click</td></tr>
<tr><td class='ruff_defitem'><code><code>Y</code></code></td><td class='ruff_defitem'>y-coordinate of the click</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_483' href="javascript:toggleSource('483')">Show source</a></p>
<div id='483' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::ShowPopupMenu {ID X Y} {

  <i><font color=#4b5d50># Creates and opens a popup menu at right clicking the tree.</font></i>
  <i><font color=#4b5d50>#   ID - ID of clicked item</font></i>
  <i><font color=#4b5d50>#   X - x-coordinate of the click</font></i>
  <i><font color=#4b5d50>#   Y - y-coordinate of the click</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  ::baltip sleep 1000
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>set</font></b> popm <font color=#1b1baa>$wtree</font>.popup
  <b><font color=#3a6797>catch</font></b> {<b><font color=#134070>destroy</font></b> <font color=#1b1baa>$popm</font>}
  <b><font color=#134070>menu</font></b> <font color=#1b1baa>$popm</font> <font color=#6c3e67>-tearoff</font> 0
  <b><font color=#3a6797>set</font></b> header [<b><font color=#3a6797>lindex</font></b> [<b><font color=#3a6797>split</font></b> [alited::unit::GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>] \n] 0]
  <b><font color=#3a6797>set</font></b> sname [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
  <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] -&gt; fname isfile - - isunit
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>set</font></b> img alimg_folder
    <b><font color=#3a6797>set</font></b> m1 <font color=#1b1baa>$al(MC,swunits)</font>
    <b><font color=#3a6797>set</font></b> m2 <font color=#1b1baa>$al(MC,tpllist)</font>
    <b><font color=#3a6797>set</font></b> m3 <font color=#1b1baa>$al(MC,unitsdel)</font>
    <b><font color=#3a6797>set</font></b> moveup <font color=#1b1baa>$al(MC,moveupU)</font>
    <b><font color=#3a6797>set</font></b> movedown <font color=#1b1baa>$al(MC,movedownU)</font>
    <b><font color=#3a6797>set</font></b> dropitem [msgcat::mc {Drop Selected Units Here}]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> img alimg_gulls
    <b><font color=#3a6797>set</font></b> m1 <font color=#1b1baa>$al(MC,swfiles)</font>
    <b><font color=#3a6797>set</font></b> m2 <font color=#1b1baa>$al(MC,filesadd)</font>
    <b><font color=#3a6797>set</font></b> m3 <font color=#1b1baa>$al(MC,filesdel)</font>
    <b><font color=#3a6797>set</font></b> moveup <font color=#1b1baa>$al(MC,moveupF)</font>
    <b><font color=#3a6797>set</font></b> movedown <font color=#1b1baa>$al(MC,movedownF)</font>
    <b><font color=#3a6797>set</font></b> dropitem [msgcat::mc {Drop Selected Files Here}]
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$sname</font>]&gt;25} {<b><font color=#3a6797>set</font></b> sname <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>string range <font color=#1b1baa>$</font>sname 0 21<font color=#1b1baa>]</font>...&quot;</font>}
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$m1</font>  <font color=#6c3e67>-command</font> ::alited::tree::SwitchTree <font color=#6c3e67>-image</font> <font color=#1b1baa>$img</font>
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,updtree)</font>  <font color=#6c3e67>-command</font> alited::tree::RecreateTree <font color=#6c3e67>-image</font> alimg_retry
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$moveup</font>  <font color=#6c3e67>-accelerator</font> F11 <font color=#6c3e67>-command</font> {::alited::tree::MoveItem up} <font color=#6c3e67>-image</font> alimg_up
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$movedown</font>  <font color=#6c3e67>-accelerator</font> F12 <font color=#6c3e67>-command</font> {::alited::tree::MoveItem down} <font color=#6c3e67>-image</font> alimg_down
  <font color=#1b1baa>$popm</font> add separator
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$m2</font>  <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;::alited::tree::AddItem <font color=#1b1baa>$</font>ID&quot;</font> <font color=#6c3e67>-image</font> alimg_add
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA change]  <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,renamefile)</font> <font color=#6c3e67>-accelerator</font> F2  <font color=#6c3e67>-command</font> {::alited::file::RenameFileInTree {<font color=#6c3e67>-geometry</font> pointer+-100+-100}}
  }
  <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$m3</font>  <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;::alited::tree::DelItem <font color=#1b1baa>$</font>ID&quot;</font> <font color=#6c3e67>-image</font> alimg_delete
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(FAV,IsFavor)</font>} {
      <font color=#1b1baa>$popm</font> add separator
      <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA heart] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,favoradd)</font>  <font color=#6c3e67>-command</font> ::alited::favor::AddFromTree
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isunit</font>} {
      <font color=#1b1baa>$popm</font> add separator
      <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,copydecl)</font>  <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;clipboard clear ; clipboard append <font color=#1b1baa>{$</font>header<font color=#1b1baa>}</font>&quot;</font>
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isfile</font>} {<b><font color=#3a6797>set</font></b> fname [<b><font color=#3a6797>file</font></b> dirname <font color=#1b1baa>$fname</font>]}
    <b><font color=#3a6797>set</font></b> sname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]
    <font color=#1b1baa>$popm</font> add separator
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA OpenFile] <font color=#6c3e67>-label</font> <font color=#1b1baa>$al(MC,openselfile)</font>  <font color=#6c3e67>-command</font> ::alited::file::OpenFiles
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$sname</font>] <font color=#1b1baa>$al(MC,openofdir)</font>]
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$msg</font>  <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;::alited::file::OpenOfDir <font color=#1b1baa>{$</font>fname<font color=#1b1baa>}</font>&quot;</font>
  }
  <b><font color=#3a6797>set</font></b> addsel {}
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> [<font color=#1b1baa>$wtree</font> selection]]&gt;1} {
    <font color=#1b1baa>$popm</font> add separator
    <font color=#1b1baa>$popm</font> add command {<b><font color=#3a6797>*</font></b>}[<font color=#1b1baa>$obPav</font> iconA none] <font color=#6c3e67>-label</font> <font color=#1b1baa>$dropitem</font>  <font color=#6c3e67>-command</font> <font color=#7d1a1a>&quot;::alited::tree::DropItems <font color=#1b1baa>$</font>ID&quot;</font> <font color=#6c3e67>-image</font> alimg_paste
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$wtree</font> tag has tagSel <font color=#1b1baa>$ID</font>]} {
      <i><font color=#4b5d50># the added tagSel tag should be overrided</font></i>
      <font color=#1b1baa>$wtree</font> tag remove tagSel <font color=#1b1baa>$ID</font>
      <b><font color=#3a6797>set</font></b> addsel <font color=#7d1a1a>&quot;; <font color=#1b1baa>$</font>wtree tag add tagSel <font color=#1b1baa>$</font>ID&quot;</font>
    }
  }
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$popm</font> &lt;FocusIn&gt; <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>wtree tag add tagBold <font color=#1b1baa>$</font>ID&quot;</font>
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$popm</font> &lt;FocusOut&gt; <font color=#7d1a1a>&quot;catch <font color=#1b1baa>{$</font>wtree tag remove tagBold <font color=#1b1baa>$</font>ID; <font color=#1b1baa>$</font>addsel<font color=#1b1baa>}</font>&quot;</font>
  <font color=#1b1baa>$obPav</font> themePopup <font color=#1b1baa>$popm</font>
  <b><font color=#134070>tk_popup</font></b> <font color=#1b1baa>$popm</font> <font color=#1b1baa>$X</font> <font color=#1b1baa>$Y</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::SwitchTree'>SwitchTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchTree</span> </div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>Switches trees</code></code></td><td class='ruff_defitem'>units to files and vice versa.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_484' href="javascript:toggleSource('484')">Show source</a></p>
<div id='484' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::SwitchTree {} {

  <i><font color=#4b5d50># Switches trees - units to files and vice versa.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> al(TREE,isunits) [<b><font color=#3a6797>expr</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>}]]} {
    <b><font color=#3a6797>unset</font></b> al(widthPanBM)  ;<i><font color=#4b5d50># the variable used to save the panel's size</font></i>
    [<font color=#1b1baa>$obPav</font> PanL] add [<font color=#1b1baa>$obPav</font> FraFV]
    RecreateTree
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> al(widthPanBM) [<b><font color=#134070>winfo</font></b> geometry [<font color=#1b1baa>$::alited::obPav</font> PanBM]]
    [<font color=#1b1baa>$obPav</font> PanL] forget [<font color=#1b1baa>$obPav</font> FraFV]
    <b><font color=#3a6797>set</font></b> al(TREE,files) no
    Create
  }
  alited::main::FocusText
  <b><font color=#3a6797>update</font></b> idletasks
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::UnitTitle'>UnitTitle</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a title of a unit (checking for empty string).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UnitTitle</span> <span class='ruff_arg'>title l1 l2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>title</code></code></td><td class='ruff_defitem'>original title</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>first line of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>latst line of the unit</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_485' href="javascript:toggleSource('485')">Show source</a></p>
<div id='485' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::UnitTitle {title l1 l2} {

  <i><font color=#4b5d50># Gets a title of a unit (checking for empty string).</font></i>
  <i><font color=#4b5d50>#   title - original title</font></i>
  <i><font color=#4b5d50>#   l1 - first line of the unit</font></i>
  <i><font color=#4b5d50>#   l2 - latst line of the unit</font></i>

  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$title</font> eq {}} {<b><font color=#3a6797>set</font></b> title <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>alited::al(MC,lines) <font color=#1b1baa>$</font>l1-<font color=#1b1baa>$</font>l2&quot;</font>}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$title</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::tree::UpdateFileTree'>UpdateFileTree</a><span class='ns_scope'> [<a href="alited.html#::alited::tree" title="::alited::tree" class='ruff_cmd'>::alited::tree</a>]</span><span class='tinylink'><a href='alited.html#::alited::tree'>tree</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the file tree (colors of files).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateFileTree</span> <span class='ruff_arg'>?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>yes, if run after idle; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="alited.html#::alited::tree::CreateFilesTree" title="CreateFilesTree" class='ruff_cmd'>CreateFilesTree</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_486' href="javascript:toggleSource('486')">Show source</a></p>
<div id='486' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::tree::UpdateFileTree {{doit no}} {

  <i><font color=#4b5d50># Updates the file tree (colors of files).</font></i>
  <i><font color=#4b5d50>#   doit - yes, if run after idle</font></i>
  <i><font color=#4b5d50># See also: CreateFilesTree</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obPav obPav
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$al(TREE,isunits)</font>} <b><font color=#ca14ca>return</font></b>  ;<i><font color=#4b5d50># no need</font></i>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$doit</font>} {
    <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
    <b><font color=#3a6797>foreach</font></b> item [GetTree {} Tree] {
      <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 4] - fname leaf itemID
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$leaf</font>} {
        <b><font color=#3a6797>if</font></b> {[alited::bar::FileTID <font color=#1b1baa>$fname</font>] ne {}} {
          <font color=#1b1baa>$wtree</font> tag add tagSel <font color=#1b1baa>$itemID</font>
        } <b><font color=#3a6797>else</font></b> {
          <font color=#1b1baa>$wtree</font> tag remove tagSel <font color=#1b1baa>$itemID</font>
        }
      }
    }
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>after</font></b> cancel <font color=#1b1baa>$al(_UPDATEFILETREE_)</font>}
    <b><font color=#3a6797>set</font></b> al(_UPDATEFILETREE_) [<b><font color=#3a6797>after</font></b> idle {alited::tree::UpdateFileTree yes}]
  }
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::unit'></a>::alited::unit<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::unit-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::unit::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_487' href="javascript:toggleSource('487')">Show source</a></p>
<div id='487' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::Add {} {

  <i><font color=#4b5d50># Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.</font></i>

  <b><font color=#3a6797>set</font></b> res [::alited::unit_tpl::_run]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$res</font> ne <font color=#7d1a1a>&quot;&quot;</font>} {
    InsertTemplate <font color=#1b1baa>$res</font>
  }
  alited::keys::BindKeys [alited::main::CurrentWTXT] template
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::BranchLines'>BranchLines</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a line range of a branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>BranchLines</span> <span class='ruff_arg'>ID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of the branch</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_488' href="javascript:toggleSource('488')">Show source</a></p>
<div id='488' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::BranchLines {ID} {

  <i><font color=#4b5d50># Gets a line range of a branch.</font></i>
  <i><font color=#4b5d50>#   ID - ID of the branch</font></i>

  <b><font color=#3a6797>set</font></b> branch [alited::tree::GetTree <font color=#1b1baa>$ID</font>]
  <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$branch</font> 0 4 0]
  <b><font color=#3a6797>set</font></b> l2 [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$branch</font> end 4 1]
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$l2</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a unit from a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> <span class='ruff_arg'>wtree fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_489' href="javascript:toggleSource('489')">Show source</a></p>
<div id='489' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::Delete {wtree fname} {

  <i><font color=#4b5d50># Deletes a unit from a text.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   fname - file name</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> selection [<font color=#1b1baa>$wtree</font> selection]
  <b><font color=#3a6797>set</font></b> wasdel no
  <b><font color=#3a6797>for</font></b> {<b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$selection</font>]} {<font color=#1b1baa>$i</font>} {} {
    <i><font color=#4b5d50># delete units from the text's bottom (text selection is sorted by items)</font></i>
    <b><font color=#3a6797>incr</font></b> i -1
    <b><font color=#3a6797>set</font></b> ID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$selection</font> <font color=#1b1baa>$i</font>]
    <b><font color=#3a6797>set</font></b> name [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$name</font> %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]] <font color=#1b1baa>$al(MC,delitem)</font>]
    <b><font color=#3a6797>set</font></b> ans [alited::msg yesnocancel ques <font color=#1b1baa>$msg</font> NO]
    <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$ans</font> {
      0 break
      2 {}
      1 {
        <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2
        <b><font color=#3a6797>set</font></b> ind2 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>l2.end +1 char&quot;</font>]
        <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$ind2</font>
        <b><font color=#3a6797>set</font></b> wasdel yes
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::DropUnits'>DropUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves unit(s) from one location in the unit tree to other.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>DropUnits</span> <span class='ruff_arg'>wtree fromIDs toID</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fromIDs</code></code></td><td class='ruff_defitem'>IDs of tree item &quot;to move from&quot;</td></tr>
<tr><td class='ruff_defitem'><code><code>toID</code></code></td><td class='ruff_defitem'>ID of tree item &quot;to move to&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_490' href="javascript:toggleSource('490')">Show source</a></p>
<div id='490' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::DropUnits {wtree fromIDs toID} {

  <i><font color=#4b5d50># Moves unit(s) from one location in the unit tree to other.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   fromIDs - IDs of tree item &quot;to move from&quot;</font></i>
  <i><font color=#4b5d50>#   toID - ID of tree item &quot;to move to&quot;</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> no
  <font color=#1b1baa>$wtxt</font> edit separator
  <i><font color=#4b5d50># firstly, cut all moved lines</font></i>
  <b><font color=#3a6797>set</font></b> ijust 0
  <b><font color=#3a6797>set</font></b> movedlines [<b><font color=#3a6797>list</font></b>]
  <i><font color=#4b5d50># we must cut from below, so sort units reversely:</font></i>
  <b><font color=#3a6797>set</font></b> fromIDs [<b><font color=#3a6797>lsort</font></b> <font color=#6c3e67>-decreasing</font> <font color=#6c3e67>-dictionary</font> <font color=#1b1baa>$fromIDs</font>]
  <b><font color=#3a6797>set</font></b> headers [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> fromID <font color=#1b1baa>$fromIDs</font> {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$fromID</font> eq <font color=#1b1baa>$toID</font>} <b><font color=#3a6797>continue</font></b>
    <i><font color=#4b5d50># simply for each unit: find its moved lines and a destination line</font></i>
    <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>set</font></b> io 0]]
    <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$tree</font> {
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt id title values
      <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> l1 l2 prl id lev leaf fl1
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$id</font> eq <font color=#1b1baa>$fromID</font>} {
        <b><font color=#3a6797>set</font></b> i1 <font color=#1b1baa>$l1</font>
        <b><font color=#3a6797>set</font></b> i2 <font color=#1b1baa>$l2</font>
      } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$id</font> eq <font color=#1b1baa>$toID</font>} {
        <b><font color=#3a6797>set</font></b> io <font color=#1b1baa>$l1</font>
      }
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i1</font> && <font color=#1b1baa>$i2</font> && <font color=#1b1baa>$io</font>} {
      <b><font color=#3a6797>lappend</font></b> headers [GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$fromID</font>]
      <i><font color=#4b5d50># if the unit is above the destination, the destination should be adjusted</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$i2</font>&lt;<font color=#1b1baa>$io</font>} {<b><font color=#3a6797>set</font></b> ijust [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$ijust</font>-<font color=#1b1baa>$i2</font>+<font color=#1b1baa>$i1</font>-1}]}
      <b><font color=#3a6797>set</font></b> ind2 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>i2.end +1 char&quot;</font>]
      <b><font color=#3a6797>set</font></b> lines [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>]
      <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>
      <i><font color=#4b5d50># the cut lines are saved, to paste them afterwards</font></i>
      <b><font color=#3a6797>lappend</font></b> movedlines <font color=#1b1baa>$lines</font>
    }
  }
  <i><font color=#4b5d50># secondly, paste all moved lines</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$movedlines</font>]} {
    <b><font color=#3a6797>incr</font></b> io <font color=#1b1baa>$ijust</font>
    <b><font color=#3a6797>foreach</font></b> lines <font color=#1b1baa>$movedlines</font> {
      <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$io</font>.0 <font color=#1b1baa>$lines</font>
    }
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$io</font>.0
    alited::main::UpdateAll <font color=#1b1baa>$headers</font>
    alited::main::FocusText
  }
  <font color=#1b1baa>$wtxt</font> edit separator
  <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::GetHeader'>GetHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a header of unit: declaration + initial comments.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetHeader</span> <span class='ruff_arg'>wtree ID ?NC? ?wtxt? ?tip? ?l1? ?l2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree widget</td></tr>
<tr><td class='ruff_defitem'><code><code>ID</code></code></td><td class='ruff_defitem'>ID of item in the unit tree</td></tr>
<tr><td class='ruff_defitem'><code><code>NC</code></code></td><td class='ruff_defitem'>index of column of the unit tree; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>unit's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of unit; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>l2</code></code></td><td class='ruff_defitem'>last line of unit; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_491' href="javascript:toggleSource('491')">Show source</a></p>
<div id='491' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::GetHeader {wtree ID {NC {}} {wtxt {}} {tip {}} {l1 0} {l2 0}} {

  <i><font color=#4b5d50># Gets a header of unit: declaration + initial comments.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree widget</font></i>
  <i><font color=#4b5d50>#   ID - ID of item in the unit tree</font></i>
  <i><font color=#4b5d50>#   NC - index of column of the unit tree</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget</font></i>
  <i><font color=#4b5d50>#   tip - unit's name</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line of unit</font></i>
  <i><font color=#4b5d50>#   l2 - last line of unit</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtree</font> ne {}} {
    <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]]
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2 - id
    <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$al(TREE,isunits)</font>} {
      <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$l2</font>  ;<i><font color=#4b5d50># for file tree, it's a full file name</font></i>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$NC</font> eq {#1}} {
    <b><font color=#3a6797>set</font></b> tip <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>string map <font color=#1b1baa>{</font>al #<font color=#1b1baa>}</font> <font color=#1b1baa>$</font>id<font color=#1b1baa>]</font>\n<font color=#1b1baa>$</font>l1 - <font color=#1b1baa>[</font>expr <font color=#1b1baa>{</font>max(<font color=#1b1baa>$</font>l1,<font color=#1b1baa>$</font>l2)<font color=#1b1baa>}]</font>&quot;</font>
    <b><font color=#3a6797>set</font></b> ID {}
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>catch</font></b> {
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq {}} {
        <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
      }
      <b><font color=#3a6797>set</font></b> tip2 [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]]
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match <font color=#7d1a1a>&quot;*\{&quot;</font> <font color=#1b1baa>$tip2</font>]} {
        <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$tip2</font> <font color=#7d1a1a>&quot; \{&quot;</font>]
      }
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$NC</font> eq {}} {
        <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>  ;<i><font color=#4b5d50># returns a declaration only</font></i>
      }
      <i><font color=#4b5d50># find first commented line, after the proc/method declaration</font></i>
      <b><font color=#3a6797>for</font></b> {} {<font color=#1b1baa>$l1</font>&lt;<font color=#1b1baa>$l2</font>} {} {
        <b><font color=#3a6797>incr</font></b> l1
        <b><font color=#3a6797>set</font></b> line [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$line</font> end] ni [<b><font color=#3a6797>list</font></b> \\ \{] &&  <font color=#1b1baa>$line</font> ni {{} # //} && ![<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$line</font>]} {
          <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> match #* <font color=#1b1baa>$line</font>]} {
            <b><font color=#3a6797>append</font></b> tip \n [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> 1 end]]
          } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> match //* <font color=#1b1baa>$line</font>]} {
            <b><font color=#3a6797>append</font></b> tip \n [<b><font color=#3a6797>string</font></b> trim [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$line</font> 2 end]]
          }
          <b><font color=#3a6797>break</font></b>
        }
      }
    }
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$tip</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::GetUnits'>GetUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a unit structure from a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetUnits</span> <span class='ruff_arg'>TID textcont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>TID</code></code></td><td class='ruff_defitem'>tab ID of the text</td></tr>
<tr><td class='ruff_defitem'><code><code>textcont</code></code></td><td class='ruff_defitem'>contents of the text</td></tr>
</table>
<h5 class='ruff'>Description</h5><ul class='ruff'>
<li>level</li>
<li>0 (branch) or 1 (INI,LEAF)</li>
<li>title</li>
<li>line1 - first text line for the item</li>
<li>line2 - last text line for the item</li>
</ul>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of unit items. An item contains:</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_492' href="javascript:toggleSource('492')">Show source</a></p>
<div id='492' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::GetUnits {TID textcont} {

  <i><font color=#4b5d50># Gets a unit structure from a text.</font></i>
  <i><font color=#4b5d50>#   TID - tab ID of the text</font></i>
  <i><font color=#4b5d50>#   textcont - contents of the text</font></i>
  <i><font color=#4b5d50># Returns a list of unit items.</font></i>
  <i><font color=#4b5d50># An item contains:</font></i>
  <i><font color=#4b5d50>#   - level</font></i>
  <i><font color=#4b5d50>#   - 0 (branch) or 1 (INI,LEAF)</font></i>
  <i><font color=#4b5d50>#   - title</font></i>
  <i><font color=#4b5d50>#   - line1 - first text line for the item</font></i>
  <i><font color=#4b5d50>#   - line2 - last text line for the item</font></i>

  <i><font color=#4b5d50># The procedure searhes &quot;branch&quot; units in commented lines, e.g. for:</font></i>
  <i><font color=#4b5d50>#   # ___ level 1 _____ #</font></i>
  <i><font color=#4b5d50>#   ## ___ level 2 _____ ##</font></i>
  <i><font color=#4b5d50>#   ### ___ level 3 _____ ###</font></i>
  <i><font color=#4b5d50># using regexp {^\s*(#+) [_]+([^_]+)[_]+ (#+)} $line -&gt; cmn1 title cmn2</font></i>
  <i><font color=#4b5d50># it extracts two comment marks (#, ## or ###) and a title (level 1/2/3).</font></i>
  <i><font color=#4b5d50>#</font></i>
  <i><font color=#4b5d50># To search &quot;leaf&quot; units (containing procs and methods), another `regexp`</font></i>
  <i><font color=#4b5d50># is used, e.g. for:</font></i>
  <i><font color=#4b5d50>#   # _____</font></i>
  <i><font color=#4b5d50>#   # _____ my leaf 1</font></i>
  <i><font color=#4b5d50># regexp {^\s*# [_]+([^_]*)$} $line -&gt; title</font></i>
  <i><font color=#4b5d50># extracts a title (my leaf 1).</font></i>
  <i><font color=#4b5d50>#</font></i>
  <i><font color=#4b5d50># If &quot;leaf&quot; title is empty, it's taken from the proc/method name, e.g. for</font></i>
  <i><font color=#4b5d50>#   proc unit::SelectUnit {} {...}</font></i>
  <i><font color=#4b5d50>#   method unit::SelectUnit {} {...}</font></i>
  <i><font color=#4b5d50># regexp {^\s*(proc|method)\s+([[:alnum:]_:]+)\s.+} $line -&gt; type title</font></i>
  <i><font color=#4b5d50># extracts a type (proc/method) and a title (unit::SelectUnit).</font></i>
  <i><font color=#4b5d50># The last non-empty group is taken for the title.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> retlist [<b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>list</font></b>]]]
  <b><font color=#3a6797>set</font></b> textcont [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$textcont</font> \n]
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$textcont</font>]
  <b><font color=#3a6797>lappend</font></b> textcont <font color=#7d1a1a>&quot;&quot;</font>  ;<i><font color=#4b5d50># to save a last unit to the retlist</font></i>
  <b><font color=#3a6797>set</font></b> isLeaf [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$al(INI,LEAF)</font> && <font color=#1b1baa>$al(RE,leaf)</font> ne {}}]
  <b><font color=#3a6797>set</font></b> isProc [<b><font color=#3a6797>expr</font></b> {(!<font color=#1b1baa>$al(INI,LEAF)</font> ||  [alited::file::IsTcl [alited::bar::FileName <font color=#1b1baa>$TID</font>]]) && <font color=#1b1baa>$al(RE,proc)</font> ne {}}]
  <b><font color=#3a6797>set</font></b> i [<b><font color=#3a6797>set</font></b> lev [<b><font color=#3a6797>set</font></b> leaf [<b><font color=#3a6797>set</font></b> icomleaf -1]]]
  <b><font color=#3a6797>foreach</font></b> line <font color=#1b1baa>$textcont</font> {
    <b><font color=#3a6797>incr</font></b> i
    <b><font color=#3a6797>set</font></b> flag1 0
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> flag [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,branch)</font> <font color=#1b1baa>$line</font> -&gt; cmn1 title]]} {
      <i><font color=#4b5d50># a branch</font></i>
      <b><font color=#3a6797>set</font></b> leaf [<b><font color=#3a6797>set</font></b> icomleaf 0]
      <b><font color=#3a6797>set</font></b> lev [<b><font color=#3a6797>expr</font></b> {max(0,[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$cmn1</font>]-1)}]
    } <b><font color=#3a6797>elseif</font></b> {  <font color=#1b1baa>$isLeaf</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,leaf)</font> <font color=#1b1baa>$line</font> -&gt; t1 t2 t3 t4 t5 t6 t7] ||  <font color=#1b1baa>$isProc</font> && [<b><font color=#3a6797>regexp</font></b> <font color=#1b1baa>$al(RE,proc)</font> <font color=#1b1baa>$line</font> -&gt; t1 t2 t3 t4 t5 t6 t7]} {
      <b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$t1</font>  ;<i><font color=#4b5d50># default title: just after found string</font></i>
      <b><font color=#3a6797>foreach</font></b> t {t7 t6 t5 t4 t3 t2} {
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> _ [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$t</font>]] ne <font color=#7d1a1a>&quot;&quot;</font>} {
          <b><font color=#3a6797>set</font></b> title <font color=#1b1baa>$_</font>  ;<i><font color=#4b5d50># last non-empty group of others is a real title</font></i>
          <b><font color=#3a6797>break</font></b>
        }
      }
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> cl [<b><font color=#3a6797>string</font></b> last :: <font color=#1b1baa>$title</font>]]&gt;-1 && [<b><font color=#3a6797>set</font></b> cl [<b><font color=#3a6797>string</font></b> last :: <font color=#1b1baa>$title</font> <font color=#1b1baa>$cl</font>]]&gt;-1} {
        <i><font color=#4b5d50># let only a last namespace be present in the titles</font></i>
        <b><font color=#3a6797>set</font></b> title [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$title</font> <font color=#1b1baa>$cl</font>+2 end]
      }
      <b><font color=#3a6797>set</font></b> flag1 <font color=#1b1baa>$al(INI,LEAF)</font>
      <b><font color=#3a6797>set</font></b> flag [<b><font color=#3a6797>set</font></b> leaf 1]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> flag [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>&gt;=<font color=#1b1baa>$llen</font>}]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$flag</font>} {
      <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$item</font>]} {
        <b><font color=#3a6797>set</font></b> l1 [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 4]-1}]
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l1</font>&gt;0 && ![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$retlist</font>]} {
          <i><font color=#4b5d50># first found at line&gt;1 =&gt; create a starting leaf</font></i>
          <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
          <b><font color=#3a6797>lappend</font></b> retlist [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$lev</font> 1 <font color=#1b1baa>$al(INI,LEAF)</font> <font color=#7d1a1a>&quot;&quot;</font> 1 <font color=#1b1baa>$l1</font> <font color=#1b1baa>$treeID</font>]
        }
        <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$retlist</font> end] levE leafE flE namE l1E - treeIDE
        <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> levC leafC flC namC l1C
        <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$flE</font> eq <font color=#7d1a1a>&quot;1&quot;</font> && <font color=#1b1baa>$flC</font> eq <font color=#7d1a1a>&quot;0&quot;</font> && <font color=#1b1baa>$levE</font>==<font color=#1b1baa>$levC</font> && <font color=#1b1baa>$leafE</font>==<font color=#1b1baa>$leafC</font>} {
          <i><font color=#4b5d50># found a named previous leaf</font></i>
          <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$namE</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> namE <font color=#1b1baa>$namC</font>}
          <i><font color=#4b5d50># update the named leaf</font></i>
          <b><font color=#3a6797>set</font></b> retlist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$retlist</font> end end  [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$levE</font> <font color=#1b1baa>$leafE</font> <font color=#1b1baa>$flE</font> <font color=#1b1baa>$namE</font> <font color=#1b1baa>$l1E</font> <font color=#1b1baa>$i</font> <font color=#1b1baa>$treeIDE</font>]]
        } <b><font color=#3a6797>else</font></b> {
          <i><font color=#4b5d50># add l2 (last line of unit), ID of unit</font></i>
          <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
          <b><font color=#3a6797>lappend</font></b> retlist [<b><font color=#3a6797>lappend</font></b> item <font color=#1b1baa>$i</font> <font color=#1b1baa>$treeID</font>]
        }
      }
      <i><font color=#4b5d50># prepare an item for saving</font></i>
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>list</font></b>  [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$lev</font>+<font color=#1b1baa>$leaf</font>}] <font color=#1b1baa>$leaf</font> <font color=#1b1baa>$flag1</font> [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$title</font> <font color=#7d1a1a>&quot; #&quot;</font>] [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$i</font>+1}]]
    }
  }
  <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$retlist</font>]} {
    <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>file</font></b> tail [alited::bar::FileName <font color=#1b1baa>$TID</font>]]
    <b><font color=#3a6797>set</font></b> name [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %f <font color=#1b1baa>$name</font>] <font color=#1b1baa>$al(MC,alloffile)</font>]
    <b><font color=#3a6797>set</font></b> treeID [alited::tree::NewItemID [<b><font color=#3a6797>incr</font></b> iit]]
    <b><font color=#3a6797>lappend</font></b> retlist [<b><font color=#3a6797>list</font></b> 1 1 1 <font color=#1b1baa>$name</font> 1 <font color=#1b1baa>$llen</font> <font color=#1b1baa>$treeID</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$retlist</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::InsertTemplate'>InsertTemplate</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts a template into a current text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertTemplate</span> <span class='ruff_arg'>tpldata</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tpldata</code></code></td><td class='ruff_defitem'>template</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_493' href="javascript:toggleSource('493')">Show source</a></p>
<div id='493' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::InsertTemplate {tpldata} {

  <i><font color=#4b5d50># Inserts a template into a current text.</font></i>
  <i><font color=#4b5d50>#   tpldata - template</font></i>

  <i><font color=#4b5d50># for noname file - save it beforehand, as templates refer to a file name</font></i>
  <b><font color=#3a6797>if</font></b> {[alited::file::IsNoName [alited::bar::FileName]]} {
    <b><font color=#3a6797>if</font></b> {![alited::file::SaveFile]} <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>lassign</font></b> [alited::tree::CurrentItemByLine <font color=#7d1a1a>&quot;&quot;</font> 1] itemID - - - - l1 l2
  <b><font color=#3a6797>lassign</font></b> [TemplateData <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$l1</font> <font color=#1b1baa>$tpldata</font>] tex pos place
  <b><font color=#3a6797>set</font></b> col0 [<b><font color=#3a6797>string</font></b> range <font color=#1b1baa>$pos</font> [<b><font color=#3a6797>string</font></b> first . <font color=#1b1baa>$pos</font>] end]
  <b><font color=#3a6797>switch</font></b> <font color=#1b1baa>$place</font> {
    0 { ;<i><font color=#4b5d50># returned by TemplateData: after a declaration</font></i>
      <b><font color=#3a6797>set</font></b> pos0 [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l1</font>+1}].0
    }
    4 { ;<i><font color=#4b5d50># after 1st line</font></i>
      <b><font color=#3a6797>set</font></b> pos0 1.0
    }
    3 { ;<i><font color=#4b5d50># after cursor</font></i>
      <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> index insert]
    }
    2 { ;<i><font color=#4b5d50># after unit</font></i>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$l2</font> ne <font color=#7d1a1a>&quot;&quot;</font>} {
        <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>l2.0 +1 line linestart&quot;</font>]
        <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$tex</font> end] ne <font color=#7d1a1a>&quot;\n&quot;</font>} {<b><font color=#3a6797>append</font></b> tex \n}
      } <b><font color=#3a6797>else</font></b> {
        <b><font color=#3a6797>set</font></b> place 1
      }
    }
    <b><font color=#3a6797>default</font></b> { ;<i><font color=#4b5d50># after line</font></i>
      <b><font color=#3a6797>set</font></b> place 1
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$place</font> == 1} {
    <b><font color=#3a6797>set</font></b> pos0 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;insert +1 line linestart&quot;</font>]
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> index <font color=#1b1baa>$tex</font> end] ne <font color=#7d1a1a>&quot;\n&quot;</font>} {<b><font color=#3a6797>append</font></b> tex \n}
  }
  <b><font color=#3a6797>set</font></b> pos <font color=#7d1a1a>&quot;<font color=#1b1baa>[</font>expr <font color=#1b1baa>{</font>int(<font color=#1b1baa>$</font>pos)-1<font color=#1b1baa>}]$</font>col0&quot;</font>
  <b><font color=#3a6797>set</font></b> pos [alited::p+ <font color=#1b1baa>$pos0</font> <font color=#1b1baa>$pos</font>]
  <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$pos0</font> <font color=#1b1baa>$tex</font>
  ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveL1L2'>MoveL1L2</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a text lines to other location.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveL1L2</span> <span class='ruff_arg'>wtxt i1 i2 io ?dosep?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>i1</code></code></td><td class='ruff_defitem'>first line to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>i2</code></code></td><td class='ruff_defitem'>last line to be moved</td></tr>
<tr><td class='ruff_defitem'><code><code>io</code></code></td><td class='ruff_defitem'>destination line (to insert the moved lines before)</td></tr>
<tr><td class='ruff_defitem'><code><code>dosep</code></code></td><td class='ruff_defitem'>yes, if &quot;edit separator&quot; is required; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a position of destination line, if the moving was successful.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_494' href="javascript:toggleSource('494')">Show source</a></p>
<div id='494' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::MoveL1L2 {wtxt i1 i2 io {dosep yes}} {

  <i><font color=#4b5d50># Moves a text lines to other location.</font></i>
  <i><font color=#4b5d50>#   wtxt - text widget's path</font></i>
  <i><font color=#4b5d50>#   i1 - first line to be moved</font></i>
  <i><font color=#4b5d50>#   i2 - last line to be moved</font></i>
  <i><font color=#4b5d50>#   io - destination line (to insert the moved lines before)</font></i>
  <i><font color=#4b5d50>#   dosep - yes, if &quot;edit separator&quot; is required</font></i>
  <i><font color=#4b5d50># Returns a position of destination line, if the moving was successful.</font></i>

  <b><font color=#3a6797>set</font></b> ind2 [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>i2.end +1 char&quot;</font>]
  <b><font color=#3a6797>if</font></b> {(<font color=#1b1baa>$i1</font>&lt;=<font color=#1b1baa>$io</font> && <font color=#1b1baa>$io</font>&lt;=<font color=#1b1baa>$i2</font>) || <font color=#1b1baa>$io</font>&lt;1 || <font color=#1b1baa>$i1</font>&lt;1 || <font color=#1b1baa>$i2</font>&lt;1 ||  [<b><font color=#3a6797>set</font></b> linesmoved [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>]] eq <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#ca14ca>return</font></b> <font color=#7d1a1a>&quot;&quot;</font> ;<i><font color=#4b5d50># nothing to do</font></i>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosep</font>} {
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> no
    <font color=#1b1baa>$wtxt</font> edit separator
  }
  <font color=#1b1baa>$wtxt</font> delete <font color=#1b1baa>$i1</font>.0 <font color=#1b1baa>$ind2</font>
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$io</font>&gt;<font color=#1b1baa>$i2</font>} {
    <i><font color=#4b5d50># 3. i1    if moved below, the moved (deleted) lines change 'io', so</font></i>
    <i><font color=#4b5d50># 4. i2    'io' is shifted up (by range of moved lines i.e. i1-i2-1)</font></i>
    <i><font color=#4b5d50># 5.</font></i>
    <i><font color=#4b5d50># 6. io    resulting io = io-(i2-i1+1) = io+i1-i2-1 (6+3-4-1=4)</font></i>
    <b><font color=#3a6797>set</font></b> io [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$io</font>+<font color=#1b1baa>$i1</font>-<font color=#1b1baa>$i2</font>-1}]
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$io</font> == int([<font color=#1b1baa>$wtxt</font> index end])} {
    <i><font color=#4b5d50># &quot;If index refers to the end of the text (the character after the last newline) then the new text is inserted just before the last newline instead.&quot; (The text manual page)</font></i>
    <font color=#1b1baa>$wtxt</font> insert <font color=#7d1a1a>&quot;end&quot;</font> \n<font color=#1b1baa>$linesmoved</font>
    <font color=#1b1baa>$wtxt</font> delete [<font color=#1b1baa>$wtxt</font> index <font color=#7d1a1a>&quot;end -1 char&quot;</font>] end
  } <b><font color=#3a6797>else</font></b> {
    <font color=#1b1baa>$wtxt</font> insert <font color=#1b1baa>$io</font>.0 <font color=#1b1baa>$linesmoved</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosep</font>} {
    <font color=#1b1baa>$wtxt</font> edit separator
    <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> yes
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$io</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveUnit'>MoveUnit</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a unit up/down the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveUnit</span> <span class='ruff_arg'>wtree to hd headers f1112 ?dosep?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (up/down)</td></tr>
<tr><td class='ruff_defitem'><code><code>hd</code></code></td><td class='ruff_defitem'>header of the moved unit</td></tr>
<tr><td class='ruff_defitem'><code><code>headers</code></code></td><td class='ruff_defitem'>headers of all selected units</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
<tr><td class='ruff_defitem'><code><code>dosep</code></code></td><td class='ruff_defitem'>yes, if &quot;edit separator&quot; is required; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_495' href="javascript:toggleSource('495')">Show source</a></p>
<div id='495' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::MoveUnit {wtree to hd headers f1112 {dosep yes}} {

  <i><font color=#4b5d50># Moves a unit up/down the unit tree.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   to - direction (up/down)</font></i>
  <i><font color=#4b5d50>#   hd - header of the moved unit</font></i>
  <i><font color=#4b5d50>#   headers - headers of all selected units</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by F11/F12 keys</font></i>
  <i><font color=#4b5d50>#   dosep - yes, if &quot;edit separator&quot; is required</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>set</font></b> tree [alited::tree::GetTree]
  <b><font color=#3a6797>set</font></b> itemID [SearchByHeader <font color=#1b1baa>$hd</font>]
  <b><font color=#3a6797>set</font></b> newparent [<b><font color=#3a6797>set</font></b> oldparent {}]
  <b><font color=#3a6797>set</font></b> newlev [<b><font color=#3a6797>set</font></b> oldlev [<b><font color=#3a6797>set</font></b> iold -1]]
  <b><font color=#3a6797>set</font></b> i1 [<b><font color=#3a6797>set</font></b> i2 [<b><font color=#3a6797>set</font></b> io 0]]
  <b><font color=#3a6797>foreach</font></b> item <font color=#1b1baa>$tree</font> {
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$item</font> lev cnt id title values
    <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$values</font> l1 l2 prl id lev leaf fl1
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$id</font> eq <font color=#1b1baa>$itemID</font>} {
      <b><font color=#3a6797>set</font></b> oldlev <font color=#1b1baa>$lev</font>
      <b><font color=#3a6797>set</font></b> i1 <font color=#1b1baa>$l1</font>
      <b><font color=#3a6797>set</font></b> i2 <font color=#1b1baa>$l2</font>
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq <font color=#7d1a1a>&quot;up&quot;</font>} <b><font color=#3a6797>break</font></b>
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$to</font> ne <font color=#7d1a1a>&quot;up&quot;</font> && <font color=#1b1baa>$oldlev</font>&gt;-1} {
      <b><font color=#3a6797>set</font></b> io [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$l2</font>+1}]
      <b><font color=#3a6797>break</font></b>
    }
    <b><font color=#3a6797>set</font></b> io <font color=#1b1baa>$l1</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$io</font>&lt;<font color=#1b1baa>$al(INI,LINES1)</font>} {
    <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$al(INI,LINES1)</font>] <font color=#1b1baa>$al(MC,introln2)</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$f1112</font>} {<b><font color=#3a6797>set</font></b> geo <font color=#7d1a1a>&quot;&quot;</font>} <b><font color=#3a6797>else</font></b> {<b><font color=#3a6797>set</font></b> geo <font color=#7d1a1a>&quot;-geometry pointer+10+10&quot;</font>}
    alited::msg ok err <font color=#1b1baa>$msg</font> <font color=#6c3e67>-title</font> <font color=#1b1baa>$al(MC,introln1)</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> pos [MoveL1L2 <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$i1</font> <font color=#1b1baa>$i2</font> <font color=#1b1baa>$io</font> <font color=#1b1baa>$dosep</font>]] ne {}} {
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> [<b><font color=#3a6797>expr</font></b> {int(<font color=#1b1baa>$pos</font>)}].0
    alited::tree::RecreateTree <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$headers</font>
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#ca14ca>return</font></b> no
  }
  <b><font color=#ca14ca>return</font></b> yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::MoveUnits'>MoveUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves selected units up/down the unit tree.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>MoveUnits</span> <span class='ruff_arg'>wtree to itemIDs f1112</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtree</code></code></td><td class='ruff_defitem'>unit tree's path</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (up/down)</td></tr>
<tr><td class='ruff_defitem'><code><code>itemIDs</code></code></td><td class='ruff_defitem'>tree item IDs of selected units</td></tr>
<tr><td class='ruff_defitem'><code><code>f1112</code></code></td><td class='ruff_defitem'>yes, if run by F11/F12 keys</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_496' href="javascript:toggleSource('496')">Show source</a></p>
<div id='496' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::MoveUnits {wtree to itemIDs f1112} {

  <i><font color=#4b5d50># Moves selected units up/down the unit tree.</font></i>
  <i><font color=#4b5d50>#   wtree - unit tree's path</font></i>
  <i><font color=#4b5d50>#   to - direction (up/down)</font></i>
  <i><font color=#4b5d50>#   itemIDs - tree item IDs of selected units</font></i>
  <i><font color=#4b5d50>#   f1112 - yes, if run by F11/F12 keys</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <i><font color=#4b5d50># update the unit tree, to act for sure</font></i>
  alited::tree::RecreateTree
  <i><font color=#4b5d50># check the moved units for the consistency of braces</font></i>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$itemIDs</font> {
    <b><font color=#3a6797>lassign</font></b> [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-values</font>] l1 l2 - id
    <b><font color=#3a6797>set</font></b> cc1 [<b><font color=#3a6797>set</font></b> cc2 0]
    <b><font color=#3a6797>foreach</font></b> line [<b><font color=#3a6797>split</font></b> [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l2</font>.end] \n] {
      <b><font color=#3a6797>incr</font></b> cc1 [::apave::countChar <font color=#1b1baa>$line</font> \{]
      <b><font color=#3a6797>incr</font></b> cc2 [::apave::countChar <font color=#1b1baa>$line</font> \}]
    }
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$cc1</font>!=<font color=#1b1baa>$cc2</font>} {
      <b><font color=#3a6797>set</font></b> tip [<b><font color=#3a6797>string</font></b> trim [<font color=#1b1baa>$wtree</font> item <font color=#1b1baa>$ID</font> <font color=#6c3e67>-text</font>]]
      <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$tip</font> %1 <font color=#1b1baa>$cc1</font> %2 <font color=#1b1baa>$cc2</font>] <font color=#1b1baa>$al(MC,errmove)</font>]
      alited::Message <font color=#1b1baa>$msg</font> 4
      <b><font color=#ca14ca>return</font></b>
    }
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq <font color=#7d1a1a>&quot;move&quot;</font>} {
    DropUnits <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$itemIDs</font> <font color=#1b1baa>$f1112</font>
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> al(RECREATE) 0
  <b><font color=#3a6797>set</font></b> headers [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> ID <font color=#1b1baa>$itemIDs</font> {
    <b><font color=#3a6797>set</font></b> hd [GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$to</font> eq <font color=#7d1a1a>&quot;up&quot;</font>} {
      <b><font color=#3a6797>lappend</font></b> headers <font color=#1b1baa>$hd</font>
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> headers [<b><font color=#3a6797>linsert</font></b> <font color=#1b1baa>$headers</font> 0 <font color=#1b1baa>$hd</font>]
    }
  }
  <i><font color=#4b5d50># move items one by one, by their headers</font></i>
  <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> no
  <font color=#1b1baa>$wtxt</font> edit separator
  <b><font color=#3a6797>foreach</font></b> hd <font color=#1b1baa>$headers</font> {
    <b><font color=#3a6797>if</font></b> {![MoveUnit <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$to</font> <font color=#1b1baa>$hd</font> <font color=#1b1baa>$headers</font> <font color=#1b1baa>$f1112</font> no]} {
      <b><font color=#3a6797>break</font></b>
    }
  }
  <font color=#1b1baa>$wtxt</font> edit separator
  <font color=#1b1baa>$wtxt</font> configure <font color=#6c3e67>-autoseparators</font> yes
  <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;set alited::al(RECREATE) 1 ; alited::tree::RecreateTree&quot;</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> sel [<font color=#1b1baa>$wtree</font> selection]] ne <font color=#7d1a1a>&quot;&quot;</font>} {
    <b><font color=#3a6797>after</font></b> idle [<b><font color=#3a6797>list</font></b> after 10 <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>wtree selection set <font color=#1b1baa>{$</font>sel<font color=#1b1baa>}</font>&quot;</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SearchByHeader'>SearchByHeader</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets tree item ID of a units by its header (declaration+initial comment).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchByHeader</span> <span class='ruff_arg'>header</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>header</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_497' href="javascript:toggleSource('497')">Show source</a></p>
<div id='497' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::SearchByHeader {header} {

  <i><font color=#4b5d50># Gets tree item ID of a units by its header (declaration+initial comment).</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obPav obPav
  <b><font color=#3a6797>set</font></b> wtree [<font color=#1b1baa>$obPav</font> Tree]
  <b><font color=#3a6797>foreach</font></b> item [alited::tree::GetTree] {
    <b><font color=#3a6797>set</font></b> ID [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$item</font> 2]
    <b><font color=#3a6797>set</font></b> header2 [GetHeader <font color=#1b1baa>$wtree</font> <font color=#1b1baa>$ID</font>]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$header</font> eq <font color=#1b1baa>$header2</font>} {<b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$ID</font>}
  }
  <b><font color=#ca14ca>return</font></b> {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SearchInBranch'>SearchInBranch</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks whether a unit is in a branch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SearchInBranch</span> <span class='ruff_arg'>unit ?branch?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>unit</code></code></td><td class='ruff_defitem'>ID of the unit</td></tr>
<tr><td class='ruff_defitem'><code><code>branch</code></code></td><td class='ruff_defitem'>the branch or its ID; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>branch</em> is omitted, searches in all of the tree. If <em>branch</em> is set as ID, the branch is fetched from this ID.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the unit's index in the branch or -1 if not found.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_498' href="javascript:toggleSource('498')">Show source</a></p>
<div id='498' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::SearchInBranch {unit {branch {}}} {

  <i><font color=#4b5d50># Checks whether a unit is in a branch.</font></i>
  <i><font color=#4b5d50>#   unit - ID of the unit</font></i>
  <i><font color=#4b5d50>#   branch - the branch or its ID</font></i>
  <i><font color=#4b5d50># If *branch* is omitted, searches in all of the tree.</font></i>
  <i><font color=#4b5d50># If *branch* is set as ID, the branch is fetched from this ID.</font></i>
  <i><font color=#4b5d50># Returns the unit's index in the branch or -1 if not found.</font></i>

  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$branch</font>]&lt;2} {
    <b><font color=#3a6797>set</font></b> branch [alited::tree::GetTree <font color=#1b1baa>$branch</font>]
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#6c3e67>-index</font> 2 <font color=#1b1baa>$branch</font> <font color=#1b1baa>$unit</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::SwitchUnits'>SwitchUnits</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches between last two active units.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SwitchUnits</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_499' href="javascript:toggleSource('499')">Show source</a></p>
<div id='499' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::SwitchUnits {} {

  <i><font color=#4b5d50># Switches between last two active units.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$al(FAV,visited)</font>]&lt;2} return
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$al(FAV,visited)</font> 1 4] name fname header
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> TID [alited::favor::OpenSelectedFile <font color=#1b1baa>$fname</font>]] eq {}} <b><font color=#ca14ca>return</font></b>
  alited::favor::GoToUnit <font color=#1b1baa>$TID</font> <font color=#1b1baa>$name</font> <font color=#1b1baa>$header</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit::TemplateData'>TemplateData</a><span class='ns_scope'> [<a href="alited.html#::alited::unit" title="::alited::unit" class='ruff_cmd'>::alited::unit</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit'>unit</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces the template wildcards with data of current text and unit.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TemplateData</span> <span class='ruff_arg'>wtxt l1 tpldata</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>l1</code></code></td><td class='ruff_defitem'>1st line of current unit</td></tr>
<tr><td class='ruff_defitem'><code><code>tpldata</code></code></td><td class='ruff_defitem'>template</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_500' href="javascript:toggleSource('500')">Show source</a></p>
<div id='500' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit::TemplateData {wtxt l1 tpldata} {

  <i><font color=#4b5d50># Replaces the template wildcards with data of current text and unit.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>
  <i><font color=#4b5d50>#   l1 - 1st line of current unit</font></i>
  <i><font color=#4b5d50>#   tpldata - template</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$tpldata</font> tex pos place
  <b><font color=#3a6797>set</font></b> sec [<b><font color=#3a6797>clock</font></b> seconds]
  <b><font color=#3a6797>set</font></b> fname [alited::bar::FileName]
  <i><font color=#4b5d50># fill the common wildcards</font></i>
  <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b>  %d [alited::tool::FormatDate <font color=#1b1baa>$sec</font>]  %t [<b><font color=#3a6797>clock</font></b> format <font color=#1b1baa>$sec</font> <font color=#6c3e67>-format</font> <font color=#1b1baa>$al(TPL,%t)</font>]  %u <font color=#1b1baa>$al(TPL,%u)</font>  %U <font color=#1b1baa>$al(TPL,%U)</font>  %m <font color=#1b1baa>$al(TPL,%m)</font>  %w <font color=#1b1baa>$al(TPL,%w)</font>  %F <font color=#1b1baa>$fname</font>  %f [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]  %n [<b><font color=#3a6797>file</font></b> rootname [<b><font color=#3a6797>file</font></b> tail <font color=#1b1baa>$fname</font>]]  ] <font color=#1b1baa>$tex</font>]
  <i><font color=#4b5d50># get a list of proc/method's arguments:</font></i>
  <i><font color=#4b5d50># from &quot;proc pr {ar1 ar2 ar3} &quot; and a template &quot;  # %a -\n&quot;</font></i>
  <i><font color=#4b5d50># to get</font></i>
  <i><font color=#4b5d50>#   # ar1 -</font></i>
  <i><font color=#4b5d50>#   # ar2 -</font></i>
  <i><font color=#4b5d50>#   # ar3 -</font></i>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>set</font></b> textcont [<font color=#1b1baa>$wtxt</font> get <font color=#1b1baa>$l1</font>.0 <font color=#1b1baa>$l1</font>.end]}]} {<b><font color=#3a6797>set</font></b> textcont <font color=#7d1a1a>&quot;&quot;</font>}
  <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$textcont</font> <font color=#7d1a1a>&quot;\{\}&quot;</font>] proc iarg
  <b><font color=#3a6797>catch</font></b> {
    <b><font color=#3a6797>set</font></b> tpla [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\n \n] <font color=#1b1baa>$al(TPL,%a)</font>]
    <b><font color=#3a6797>set</font></b> oarg [<b><font color=#3a6797>set</font></b> st1 <font color=#7d1a1a>&quot;&quot;</font>]
    <b><font color=#3a6797>foreach</font></b> a <font color=#1b1baa>$iarg</font> {
      <b><font color=#3a6797>set</font></b> st [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %a <font color=#1b1baa>$a</font>] <font color=#1b1baa>$tpla</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$st1</font> eq <font color=#7d1a1a>&quot;&quot;</font>} {<b><font color=#3a6797>set</font></b> st1 <font color=#1b1baa>$st</font>}
      <b><font color=#3a6797>append</font></b> oarg <font color=#1b1baa>$st</font>
    }
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> first %a <font color=#1b1baa>$tex</font>]&gt;-1} {
      <b><font color=#3a6797>set</font></b> place 0
      <b><font color=#3a6797>set</font></b> pos 1.[<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$st1</font>]
    }
    <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \\n \n %a <font color=#1b1baa>$oarg</font>] <font color=#1b1baa>$tex</font>]
  }
  <b><font color=#3a6797>set</font></b> ll1 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tex</font>]
  <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %p [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$proc</font> 1]] <font color=#1b1baa>$tex</font>]
  <b><font color=#3a6797>set</font></b> ll2 [<b><font color=#3a6797>string</font></b> length <font color=#1b1baa>$tex</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> ll [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$ll2</font>-<font color=#1b1baa>$ll1</font>}]]} {
    <b><font color=#3a6797>lassign</font></b> [<b><font color=#3a6797>split</font></b> <font color=#1b1baa>$pos</font> .] r c
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#6c3e67>-strict</font> <font color=#1b1baa>$c</font>]} {
      <b><font color=#3a6797>set</font></b> pos <font color=#1b1baa>$r</font>.[<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$c</font>+<font color=#1b1baa>$ll</font>}]
    }
  }
  <b><font color=#ca14ca>return</font></b> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$place</font>]
}<br><br></code></pre></div>
</div><br><br><h1 class='ruff'><a name='::alited::unit_tpl'></a>::alited::unit_tpl<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<br><h2 class='ruff'><a name='::alited::unit_tpl-Commands'></a>Commands<span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::_create'>_create</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates &quot;Templates&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_create</span> <span class='ruff_arg'>?geom?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>geom</code></code></td><td class='ruff_defitem'>&quot;-geometry&quot; option for showModal; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_501' href="javascript:toggleSource('501')">Show source</a></p>
<div id='501' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::_create {{geom {}}} {

  <i><font color=#4b5d50># Creates &quot;Templates&quot; dialogue.</font></i>
  <i><font color=#4b5d50>#   geom - &quot;-geometry&quot; option for showModal</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> dosel
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$dosel</font>} {
    <b><font color=#3a6797>set</font></b> ::alited::unit_tpl::PACKOK {}
    <b><font color=#3a6797>set</font></b> ::alited::unit_tpl::BUTEXIT Cancel
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> ::alited::unit_tpl::PACKOK forget
    <b><font color=#3a6797>set</font></b> ::alited::unit_tpl::BUTEXIT Close
  }
  <font color=#1b1baa>$obDl3</font> makeWindow <font color=#1b1baa>$win</font> <font color=#1b1baa>$al(MC,tpllist)</font>
  <font color=#1b1baa>$obDl3</font> paveWindow <font color=#1b1baa>$win</font> {
    {fraTreeTpl - - 10 10 {<font color=#6c3e67>-st</font> nswe <font color=#6c3e67>-pady</font> 8} {}}
    {.fra - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> right <font color=#6c3e67>-fill</font> both} {}}
    {.fra.buTAd - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top <font color=#6c3e67>-anchor</font> n} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::unit_tpl::Add <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Add a template&quot;</font> <font color=#6c3e67>-image</font> alimg_add-big}}
    {.fra.buTChg - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::unit_tpl::Change <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Change a template&quot;</font> <font color=#6c3e67>-image</font> alimg_change-big}}
    {.fra.buTDel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> top} {<font color=#6c3e67>-takefocus</font> 0 <font color=#6c3e67>-com</font> ::alited::unit_tpl::Delete <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Delete a template&quot;</font> <font color=#6c3e67>-image</font> alimg_delete-big}}
    {.TreeTpl - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-h</font> 7 <font color=#6c3e67>-show</font> headings <font color=#6c3e67>-columns</font> {C1 C2} <font color=#6c3e67>-displaycolumns</font> {C1 C2} <font color=#6c3e67>-columnoptions</font> <font color=#7d1a1a>&quot;C2 <font color=#1b1baa>{</font>-stretch 0<font color=#1b1baa>}</font>&quot;</font>}}
    {.sbvTpls fraTreeTpl.TreeTpl L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both}}
    {fra1 fraTreeTpl T 10 10 {<font color=#6c3e67>-st</font> nsew}}
    {.labTpl - - 1 1 {<font color=#6c3e67>-st</font> we} {<font color=#6c3e67>-anchor</font> center <font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Current template:&quot;</font>}}
    {.EntTpl .labTpl L 1 8 {<font color=#6c3e67>-st</font> we} {<font color=#6c3e67>-tvar</font> ::alited::unit_tpl::tpl <font color=#6c3e67>-w</font> 50 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,tplent1)</font>}}}
    {.CbxKey .EntTpl L 1 1 {<font color=#6c3e67>-st</font> we} {<font color=#6c3e67>-tvar</font> ::alited::unit_tpl::tplkey <font color=#6c3e67>-postcommand</font> ::alited::unit_tpl::GetKeyList <font color=#6c3e67>-state</font> readonly <font color=#6c3e67>-h</font> 16 <font color=#6c3e67>-w</font> 16 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Choose a hot key combination\nfor the template insertion.&quot;</font>}}
    {fra1.fratex fra1.labTpl T 10 10 {<font color=#6c3e67>-st</font> nsew} {}}
    {.TexTpl - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both} {<font color=#6c3e67>-h</font> 10 <font color=#6c3e67>-w</font> 80 <font color=#6c3e67>-tip</font> {<font color=#1b1baa>$alited::al(MC,tplent2)</font>}}}
    {.sbvTpl .TexTpl L - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-fill</font> both} {}}
    {fra2 fra1 T 1 10 {<font color=#6c3e67>-st</font> nsew} {<font color=#6c3e67>-padding</font> {5 5 5 5} <font color=#6c3e67>-relief</font> groove}}
    {.labBA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;Place after:&quot;</font>}}
    {.radA - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;line&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 1 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Inserts a template\nbelow a current line&quot;</font>}}
    {.radB - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;unit&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 2 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Inserts a template\nbelow a current unit&quot;</font>}}
    {.radC - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;cursor&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 3 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Inserts a template at the cursor\n(good for one-liners)&quot;</font>}}
    {.radD - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 8}  {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;file's beginning&quot;</font> <font color=#6c3e67>-var</font> ::alited::unit_tpl::place <font color=#6c3e67>-value</font> 4 <font color=#6c3e67>-tip</font> <font color=#7d1a1a>&quot;Inserts a template after 1st line of a file\n(License, Introduction etc.)&quot;</font>}}
    {LabMess fra2 T 1 10 {<font color=#6c3e67>-st</font> nsew <font color=#6c3e67>-pady</font> 0 <font color=#6c3e67>-padx</font> 3} {<font color=#6c3e67>-style</font> TLabelFS}}
    {fra3 labMess T 1 10 {<font color=#6c3e67>-st</font> nsew}}
    {.ButHelp - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>alited::al(MC,help)&quot;</font> <font color=#6c3e67>-command</font> ::alited::unit_tpl::Help}}
    {.h_ - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-expand</font> 1 <font color=#6c3e67>-fill</font> both}}
    {.butOK - - - - {<b><font color=#134070>pack</font></b> <font color=#1b1baa>$::alited::unit_tpl::PACKOK</font> <font color=#6c3e67>-side</font> left <font color=#6c3e67>-padx</font> 2} {<font color=#6c3e67>-t</font> <font color=#7d1a1a>&quot;<font color=#1b1baa>$</font>alited::al(MC,select)&quot;</font> <font color=#6c3e67>-command</font> ::alited::unit_tpl::Ok}}
    {.butCancel - - - - {<b><font color=#134070>pack</font></b> <font color=#6c3e67>-side</font> left} {<font color=#6c3e67>-t</font> <font color=#1b1baa>$::alited::unit_tpl::BUTEXIT</font> <font color=#6c3e67>-command</font> ::alited::unit_tpl::Cancel}}
  }
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl3</font> TreeTpl]
  <font color=#1b1baa>$tree</font> heading C1 <font color=#6c3e67>-text</font> [msgcat::mc Template]
  <font color=#1b1baa>$tree</font> heading C2 <font color=#6c3e67>-text</font> [msgcat::mc {Hot keys}]
  UpdateTree
  Select
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl3</font> TexTpl]
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;&lt;TreeviewSelect&gt;&gt; ::alited::unit_tpl::Select
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Delete&gt; ::alited::unit_tpl::Delete
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Double-Button-1&gt; ::alited::unit_tpl::Ok
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$tree</font> &lt;Return&gt; ::alited::unit_tpl::Ok
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$wtxt</font> &lt;FocusIn&gt; <font color=#7d1a1a>&quot;::alited::unit_tpl::InText <font color=#1b1baa>$</font>wtxt&quot;</font>
  <b><font color=#134070>bind</font></b> [<font color=#1b1baa>$obDl3</font> CbxKey] &lt;FocusOut&gt; ::alited::unit_tpl::ClearCbx
  <b><font color=#134070>bind</font></b> <font color=#1b1baa>$win</font> &lt;F1&gt; <font color=#7d1a1a>&quot;<font color=#1b1baa>[$</font>obDl3 ButHelp<font color=#1b1baa>]</font> invoke&quot;</font>
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tpllist</font>]} {<b><font color=#3a6797>set</font></b> foc <font color=#1b1baa>$tree</font>} {<b><font color=#3a6797>set</font></b> foc [<font color=#1b1baa>$obDl3</font> EntTpl]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$ilast</font>&gt;-1} {
    Select <font color=#1b1baa>$ilast</font>
    <b><font color=#3a6797>after</font></b> idle <font color=#7d1a1a>&quot;alited::unit_tpl::Select <font color=#1b1baa>$</font>ilast&quot;</font>  ;<i><font color=#4b5d50># just to highlight</font></i>
  }
  <b><font color=#3a6797>after</font></b> 500 ::alited::unit_tpl::HelpMe ;<i><font color=#4b5d50># show an introduction after a short pause</font></i>
  <b><font color=#3a6797>set</font></b> res [<font color=#1b1baa>$obDl3</font> showModal <font color=#1b1baa>$win</font> <font color=#6c3e67>-resizable</font> {0 0}  <font color=#6c3e67>-onclose</font> ::alited::unit_tpl::Cancel <font color=#6c3e67>-focus</font> <font color=#1b1baa>$foc</font> {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geom</font>]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$res</font>] &lt; 2} {<b><font color=#3a6797>set</font></b> res {}}
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::_run'>_run</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Runs &quot;Templates&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>_run</span> <span class='ruff_arg'>?doselect? ?geom?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>doselect</code></code></td><td class='ruff_defitem'>if yes, enables &quot;Select&quot; action; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>geom</code></code></td><td class='ruff_defitem'>&quot;-geometry&quot; option for showModal; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_502' href="javascript:toggleSource('502')">Show source</a></p>
<div id='502' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::_run {{doselect yes} {geom {}}} {

  <i><font color=#4b5d50># Runs &quot;Templates&quot; dialogue.</font></i>
  <i><font color=#4b5d50>#   doselect - if yes, enables &quot;Select&quot; action</font></i>
  <i><font color=#4b5d50>#   geom - &quot;-geometry&quot; option for showModal</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> dosel
  <b><font color=#3a6797>set</font></b> dosel <font color=#1b1baa>$doselect</font>
  <b><font color=#3a6797>set</font></b> wtxt [alited::main::CurrentWTXT]
  alited::keys::UnBindKeys <font color=#1b1baa>$wtxt</font> template
  ReadIni
  <b><font color=#3a6797>set</font></b> res [_create <font color=#1b1baa>$geom</font>]
  <b><font color=#134070>destroy</font></b> <font color=#1b1baa>$win</font>
  alited::keys::BindKeys <font color=#1b1baa>$wtxt</font> template
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$res</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Add'>Add</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Add template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Add</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_503' href="javascript:toggleSource('503')">Show source</a></p>
<div id='503' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Add {} {

  <i><font color=#4b5d50># Handles &quot;Add template&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tpl
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> txt [Text]
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl3</font> TreeTpl]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tplkey</font> ne {}} {
    <b><font color=#3a6797>set</font></b> isel2 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tplkeys</font> <font color=#1b1baa>$tplkey</font>]
  } <b><font color=#3a6797>else</font></b> {
    <b><font color=#3a6797>set</font></b> isel2 -1
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tpl</font> ne {} && <font color=#1b1baa>$txt</font> ne {} && (  [<b><font color=#3a6797>set</font></b> isel1 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tpllist</font> <font color=#1b1baa>$tpl</font>]]&gt;-1 || <font color=#1b1baa>$isel2</font>&gt;-1 ||
  [<b><font color=#3a6797>set</font></b> isel3 [<b><font color=#3a6797>lsearch</font></b> <font color=#6c3e67>-exact</font> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$txt</font>]]&gt;-1 )} {
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel1</font>&gt;-1} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl3</font> EntTpl]
    } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$isel2</font>&gt;-1} {
      <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl3</font> CbxKey]
    } <b><font color=#3a6797>else</font></b> {
      <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl3</font> TexTpl]
      <b><font color=#134070>focus</font></b> <font color=#1b1baa>$wtxt</font>
      <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel3</font>]
      ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
    }
    alited::Message3 <font color=#1b1baa>$al(MC,tplexists)</font> 4
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {<font color=#1b1baa>$tpl</font> eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl3</font> EntTpl]
    alited::Message3 <font color=#1b1baa>$al(MC,tplent1)</font> 4
    <b><font color=#ca14ca>return</font></b>
  } <b><font color=#3a6797>elseif</font></b> {[<b><font color=#3a6797>string</font></b> trim <font color=#1b1baa>$txt</font>] eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl3</font> TexTpl]
    alited::Message3 <font color=#1b1baa>$al(MC,tplent2)</font> 4
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>lappend</font></b> tpllist <font color=#1b1baa>$tpl</font>
  <b><font color=#3a6797>lappend</font></b> tplcont <font color=#1b1baa>$txt</font>
  <b><font color=#3a6797>lappend</font></b> tplpos [Pos]
  <b><font color=#3a6797>lappend</font></b> tplpla <font color=#1b1baa>$place</font>
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tpllist</font>]] <font color=#1b1baa>$al(MC,tplnew)</font>]
  <b><font color=#3a6797>set</font></b> item [<font color=#1b1baa>$tree</font> insert {} end <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$tplkey</font>]]
  <b><font color=#3a6797>lappend</font></b> tplkeys <font color=#1b1baa>$tplkey</font>
  UpdateTree
  <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lindex</font></b> [<font color=#1b1baa>$tree</font> children {}] end]
  <b><font color=#3a6797>lappend</font></b> tplid <font color=#1b1baa>$item</font>
  Select [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tplid</font>]-1}]
  alited::Message3 <font color=#1b1baa>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Cancel'>Cancel</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Cancel&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Cancel</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_504' href="javascript:toggleSource('504')">Show source</a></p>
<div id='504' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Cancel {args} {

  <i><font color=#4b5d50># Handles &quot;Cancel&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  SaveIni
  <font color=#1b1baa>$obDl3</font> res <font color=#1b1baa>$win</font> 0
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Change'>Change</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Change template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Change</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_505' href="javascript:toggleSource('505')">Show source</a></p>
<div id='505' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Change {} {

  <i><font color=#4b5d50># Handles &quot;Change template&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> tpl
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> tpllist [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tpllist</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$tpl</font>]
  <b><font color=#3a6797>set</font></b> tplcont [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> [Text]]
  <b><font color=#3a6797>set</font></b> tplpos [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> [Pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font>]]]
  <b><font color=#3a6797>set</font></b> tplpla [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplpla</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$place</font>]
  <b><font color=#3a6797>set</font></b> tplkeys [<b><font color=#3a6797>lreplace</font></b> <font color=#1b1baa>$tplkeys</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font> <font color=#1b1baa>$tplkey</font>]
  UpdateTree
  Select <font color=#1b1baa>$isel</font>
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n [<b><font color=#3a6797>incr</font></b> isel]] <font color=#1b1baa>$al(MC,tplupd)</font>]
  alited::Message3 <font color=#1b1baa>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::ClearCbx'>ClearCbx</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Helper to clear the combobox's selection.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ClearCbx</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_506' href="javascript:toggleSource('506')">Show source</a></p>
<div id='506' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::ClearCbx {} {

  <i><font color=#4b5d50># Helper to clear the combobox's selection.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  [<font color=#1b1baa>$obDl3</font> CbxKey] selection clear
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Delete'>Delete</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Delete template&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Delete</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_507' href="javascript:toggleSource('507')">Show source</a></p>
<div id='507' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Delete {} {

  <i><font color=#4b5d50># Handles &quot;Delete template&quot; button.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} <b><font color=#ca14ca>return</font></b>
  <b><font color=#3a6797>set</font></b> nsel [<b><font color=#3a6797>expr</font></b> {<font color=#1b1baa>$isel</font>+1}]
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,tpldelq)</font>]
  <b><font color=#3a6797>set</font></b> geo <font color=#7d1a1a>&quot;-geometry root=<font color=#1b1baa>$</font>win&quot;</font>
  <b><font color=#3a6797>if</font></b> {![alited::msg yesno warn <font color=#1b1baa>$msg</font> NO {<b><font color=#3a6797>*</font></b>}<font color=#1b1baa>$geo</font>]} {
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>foreach</font></b> tl {tpllist tplcont tplpos tplpla tplid tplkeys} {
    <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$tl</font> [<b><font color=#3a6797>lreplace</font></b> [<b><font color=#3a6797>set</font></b> <font color=#1b1baa>$tl</font>] <font color=#1b1baa>$isel</font> <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#3a6797>set</font></b> llen [<b><font color=#3a6797>expr</font></b> {[<b><font color=#3a6797>llength</font></b> <font color=#1b1baa>$tpllist</font>]-1}]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font>&gt;<font color=#1b1baa>$llen</font>} {<b><font color=#3a6797>set</font></b> isel <font color=#1b1baa>$llen</font>}
  UpdateTree
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$llen</font>&gt;=0} {Select <font color=#1b1baa>$isel</font>}
  <b><font color=#3a6797>set</font></b> msg [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> %n <font color=#1b1baa>$nsel</font>] <font color=#1b1baa>$al(MC,tplrem)</font>]
  alited::Message3 <font color=#1b1baa>$msg</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Focus'>Focus</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the focus on the template list's item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Focus</span> <span class='ruff_arg'>isel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>isel</code></code></td><td class='ruff_defitem'>index of item</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_508' href="javascript:toggleSource('508')">Show source</a></p>
<div id='508' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Focus {isel} {

  <i><font color=#4b5d50># Sets the focus on the template list's item.</font></i>
  <i><font color=#4b5d50>#   isel - index of item</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl3</font> TreeTpl]
  <font color=#1b1baa>$tree</font> selection set <font color=#1b1baa>$isel</font>
  <font color=#1b1baa>$tree</font> see <font color=#1b1baa>$isel</font>
  <font color=#1b1baa>$tree</font> focus <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::GetKeyList'>GetKeyList</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a key list for &quot;Keys&quot; combobox.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetKeyList</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_509' href="javascript:toggleSource('509')">Show source</a></p>
<div id='509' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::GetKeyList {} {

  <i><font color=#4b5d50># Creates a key list for &quot;Keys&quot; combobox.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  RegisterKeys
  <b><font color=#3a6797>set</font></b> keys [<b><font color=#3a6797>linsert</font></b> [alited::keys::VacantList] 0 <font color=#7d1a1a>&quot;&quot;</font>]
  [<font color=#1b1baa>$obDl3</font> CbxKey] configure <font color=#6c3e67>-values</font> <font color=#1b1baa>$keys</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Help'>Help</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;Help&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Help</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_510' href="javascript:toggleSource('510')">Show source</a></p>
<div id='510' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Help {args} {

  <i><font color=#4b5d50># Handles &quot;Help&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::Help <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::HelpMe'>HelpMe</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>'Help' for start.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>HelpMe</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_511' href="javascript:toggleSource('511')">Show source</a></p>
<div id='511' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::HelpMe {args} {

  <i><font color=#4b5d50># 'Help' for start.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  alited::HelpMe <font color=#1b1baa>$win</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::InText'>InText</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Goes into the template's text and sets the cursor on it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InText</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_512' href="javascript:toggleSource('512')">Show source</a></p>
<div id='512' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::InText {wtxt} {

  <i><font color=#4b5d50># Goes into the template's text and sets the cursor on it.</font></i>
  <i><font color=#4b5d50>#   wtxt - text's path</font></i>

  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [Selected index no]] ne {}} {
    <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font>]
    ::tk::TextSetCursor <font color=#1b1baa>$wtxt</font> <font color=#1b1baa>$pos</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Ok'>Ok</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Handles &quot;OK&quot; button.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Ok</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_513' href="javascript:toggleSource('513')">Show source</a></p>
<div id='513' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Ok {args} {

  <i><font color=#4b5d50># Handles &quot;OK&quot; button.</font></i>

  <b><font color=#3a6797>variable</font></b> win
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> dosel
  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#3a6797>if</font></b> {!<font color=#1b1baa>$dosel</font> || [<b><font color=#3a6797>set</font></b> isel [Selected index]] eq {}} {
    <b><font color=#134070>focus</font></b> [<font color=#1b1baa>$obDl3</font> TreeTpl]
    <b><font color=#ca14ca>return</font></b>
  }
  <b><font color=#3a6797>set</font></b> tex [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> pos [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpos</font> <font color=#1b1baa>$isel</font>]
  <b><font color=#3a6797>set</font></b> pla [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpla</font> <font color=#1b1baa>$isel</font>]
  SaveIni
  <font color=#1b1baa>$obDl3</font> res <font color=#1b1baa>$win</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tex</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pla</font>]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Pos'>Pos</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a cursor position in the template's text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Pos</span> <span class='ruff_arg'>?pos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>if not &quot;&quot;, it's a position to be returned by default; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a cursor position in the template's text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_514' href="javascript:toggleSource('514')">Show source</a></p>
<div id='514' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Pos {{pos {}}} {

  <i><font color=#4b5d50># Returns a cursor position in the template's text.</font></i>
  <i><font color=#4b5d50>#   pos - if not &quot;&quot;, it's a position to be returned by default</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl3</font> TexTpl]
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$wtxt</font> eq [<b><font color=#134070>focus</font></b>] || <font color=#1b1baa>$pos</font> eq {}} {
    <b><font color=#ca14ca>return</font></b> [<font color=#1b1baa>$wtxt</font> index insert]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$pos</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::ReadIni'>ReadIni</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets templates' data from al(TPL,list) saved in alited.ini.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ReadIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_515' href="javascript:toggleSource('515')">Show source</a></p>
<div id='515' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::ReadIni {} {

  <i><font color=#4b5d50># Gets templates' data from al(TPL,list) saved in alited.ini.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>foreach</font></b> tv {tpllist tplcont tplkeys tplpos tplpla} {
    <b><font color=#3a6797>variable</font></b> <font color=#1b1baa>$tv</font>
    <b><font color=#3a6797>set</font></b> <font color=#1b1baa>$tv</font> [<b><font color=#3a6797>list</font></b>]
  }
  <b><font color=#3a6797>foreach</font></b> lst <font color=#1b1baa>$al(TPL,list)</font> {
    <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>catch</font></b> {<b><font color=#3a6797>lassign</font></b> <font color=#1b1baa>$lst</font> tpl key cont pos pla}]} {
      <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$::alited::EOL</font> \n] <font color=#1b1baa>$cont</font>]
      <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$tpl</font> ne {} && <font color=#1b1baa>$cont</font> ne {} && <font color=#1b1baa>$pos</font> ne {}} {
        <b><font color=#3a6797>if</font></b> {![<b><font color=#3a6797>string</font></b> is double <font color=#6c3e67>-strict</font> <font color=#1b1baa>$pos</font>]} {<b><font color=#3a6797>set</font></b> pos 1.0}
        <b><font color=#3a6797>lappend</font></b> tpllist <font color=#1b1baa>$tpl</font>
        <b><font color=#3a6797>lappend</font></b> tplcont <font color=#1b1baa>$cont</font>
        <b><font color=#3a6797>lappend</font></b> tplkeys <font color=#1b1baa>$key</font>
        <b><font color=#3a6797>lappend</font></b> tplpos <font color=#1b1baa>$pos</font>
        <b><font color=#3a6797>lappend</font></b> tplpla <font color=#1b1baa>$pla</font>
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::RegisterKeys'>RegisterKeys</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Registers key bindings of templates, to save them to alited.ini afterwards.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RegisterKeys</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_516' href="javascript:toggleSource('516')">Show source</a></p>
<div id='516' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::RegisterKeys {} {

  <i><font color=#4b5d50># Registers key bindings of templates, to save them to alited.ini afterwards.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplpos
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> ilast
  alited::keys::Delete template
  <b><font color=#3a6797>set</font></b> al(TPL,list) [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>foreach</font></b> tpl <font color=#1b1baa>$tpllist</font> key <font color=#1b1baa>$tplkeys</font> cont <font color=#1b1baa>$tplcont</font> pos <font color=#1b1baa>$tplpos</font> pla <font color=#1b1baa>$tplpla</font> {
    <b><font color=#3a6797>set</font></b> cont [<b><font color=#3a6797>string</font></b> map [<b><font color=#3a6797>list</font></b> \n <font color=#1b1baa>$::alited::EOL</font>] <font color=#1b1baa>$cont</font>]
    <b><font color=#3a6797>lappend</font></b> al(TPL,list) [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$key</font> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pla</font>]
    alited::keys::Add template <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$key</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$cont</font> <font color=#1b1baa>$pos</font> <font color=#1b1baa>$pla</font>]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::SaveIni'>SaveIni</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Puts templates' data to al(TPL,list) to save in alited.ini.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SaveIni</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_517' href="javascript:toggleSource('517')">Show source</a></p>
<div id='517' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::SaveIni {} {

  <i><font color=#4b5d50># Puts templates' data to al(TPL,list) to save in alited.ini.</font></i>

  <b><font color=#3a6797>variable</font></b> ilast
  RegisterKeys
  <b><font color=#3a6797>set</font></b> ilast [Selected index no]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Select'>Select</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects an item of the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Select</span> <span class='ruff_arg'>?item?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>item</code></code></td><td class='ruff_defitem'>index (ID) of template list; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_518' href="javascript:toggleSource('518')">Show source</a></p>
<div id='518' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Select {{item {}}} {

  <i><font color=#4b5d50># Selects an item of the template list.</font></i>
  <i><font color=#4b5d50>#   item - index (ID) of template list</font></i>

  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplkey
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplcont
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>variable</font></b> tplpla
  <b><font color=#3a6797>variable</font></b> tpl
  <b><font color=#3a6797>variable</font></b> place
  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> eq {}} {<b><font color=#3a6797>set</font></b> item [Selected item no]}
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item</font> ne {}} {
    <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>string</font></b> is digit <font color=#1b1baa>$item</font>]} {  ;<i><font color=#4b5d50># the item is an index</font></i>
      <b><font color=#3a6797>set</font></b> item [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplid</font> <font color=#1b1baa>$item</font>]
    }
    <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl3</font> TreeTpl]
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$item</font>]
    <b><font color=#3a6797>set</font></b> tpl [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tpllist</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> tplkey [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplkeys</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> place [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplpla</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>set</font></b> wtxt [<font color=#1b1baa>$obDl3</font> TexTpl]
    <font color=#1b1baa>$wtxt</font> delete 1.0 end
    <font color=#1b1baa>$wtxt</font> insert end [<b><font color=#3a6797>lindex</font></b> <font color=#1b1baa>$tplcont</font> <font color=#1b1baa>$isel</font>]
    <b><font color=#3a6797>if</font></b> {[<font color=#1b1baa>$tree</font> selection] ne <font color=#1b1baa>$item</font>} {
      <font color=#1b1baa>$tree</font> selection set <font color=#1b1baa>$item</font>
    }
    <font color=#1b1baa>$tree</font> see <font color=#1b1baa>$item</font>
    <font color=#1b1baa>$tree</font> focus <font color=#1b1baa>$item</font>
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Selected'>Selected</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets ID or index of currently selected item of the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Selected</span> <span class='ruff_arg'>what ?domsg?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>what</code></code></td><td class='ruff_defitem'>if &quot;index&quot;, gets a current item's index</td></tr>
<tr><td class='ruff_defitem'><code><code>domsg</code></code></td><td class='ruff_defitem'>if yes, shows a message about the selection; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_519' href="javascript:toggleSource('519')">Show source</a></p>
<div id='519' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Selected {what {domsg yes}} {

  <i><font color=#4b5d50># Gets ID or index of currently selected item of the template list.</font></i>
  <i><font color=#4b5d50>#   what - if &quot;index&quot;, gets a current item's index</font></i>
  <i><font color=#4b5d50>#   domsg - if yes, shows a message about the selection</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl3</font> TreeTpl]
  <b><font color=#3a6797>if</font></b> {[<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> selection]] eq {} && [<b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> focus]] eq {} && <font color=#1b1baa>$domsg</font>} {
    alited::Message3 <font color=#1b1baa>$al(MC,tplsel)</font> 4
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$isel</font> ne {} && <font color=#1b1baa>$what</font> eq {index}} {
    <b><font color=#3a6797>set</font></b> isel [<font color=#1b1baa>$tree</font> index <font color=#1b1baa>$isel</font>]
  }
  <b><font color=#ca14ca>return</font></b> <font color=#1b1baa>$isel</font>
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::Text'>Text</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the contents of the template's text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Text</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the contents of the template's text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_520' href="javascript:toggleSource('520')">Show source</a></p>
<div id='520' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::Text {} {

  <i><font color=#4b5d50># Returns the contents of the template's text.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited obDl3 obDl3
  <b><font color=#ca14ca>return</font></b> [[<font color=#1b1baa>$obDl3</font> TexTpl] get 1.0 {end -1 char}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::alited::unit_tpl::UpdateTree'>UpdateTree</a><span class='ns_scope'> [<a href="alited.html#::alited::unit_tpl" title="::alited::unit_tpl" class='ruff_cmd'>::alited::unit_tpl</a>]</span><span class='tinylink'><a href='alited.html#::alited::unit_tpl'>unit_tpl</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the template list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>UpdateTree</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_521' href="javascript:toggleSource('521')">Show source</a></p>
<div id='521' class='ruff_dyn_src'><pre><br><code class="tcl"><b><font color=#ca14ca>proc</font></b> ::alited::unit_tpl::UpdateTree {} {

  <i><font color=#4b5d50># Updates the template list.</font></i>

  <b><font color=#3a6797>namespace</font></b> upvar ::alited al al obDl3 obDl3
  <b><font color=#3a6797>variable</font></b> tpllist
  <b><font color=#3a6797>variable</font></b> tplkeys
  <b><font color=#3a6797>variable</font></b> tplid
  <b><font color=#3a6797>variable</font></b> ilast
  <b><font color=#3a6797>set</font></b> tree [<font color=#1b1baa>$obDl3</font> TreeTpl]
  <font color=#1b1baa>$tree</font> delete [<font color=#1b1baa>$tree</font> children {}]
  <b><font color=#3a6797>set</font></b> tplid [<b><font color=#3a6797>list</font></b>]
  <b><font color=#3a6797>set</font></b> item0 {}
  <b><font color=#3a6797>foreach</font></b> tpl <font color=#1b1baa>$tpllist</font> tplkey <font color=#1b1baa>$tplkeys</font> {
    <b><font color=#3a6797>set</font></b> item [<font color=#1b1baa>$tree</font> insert {} end <font color=#6c3e67>-values</font> [<b><font color=#3a6797>list</font></b> <font color=#1b1baa>$tpl</font> <font color=#1b1baa>$tplkey</font>]]
    <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item0</font> eq {}} {<b><font color=#3a6797>set</font></b> item0 <font color=#1b1baa>$item</font>}
    <b><font color=#3a6797>lappend</font></b> tplid <font color=#1b1baa>$item</font>
  }
  <b><font color=#3a6797>if</font></b> {<font color=#1b1baa>$item0</font> ne {} && <font color=#1b1baa>$ilast</font>&lt;0} {Focus <font color=#1b1baa>$item0</font>}
  ClearCbx
}<br><br></code></pre></div>
</div></div></div><div class='yui-b navbox' ><h1><a href='#::alited'>alited</a></h1><h2><a href='#::alited-What's that'>What's that</a></h2><h2><a href='#::alited-Links'>Links</a></h2><h2><a href='#::alited-Inevitable blah-blah'>Inevitable blah-blah</a></h2><h2><a href='#::alited-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::CheckRun'>CheckRun</a><span class='tooltiptext'>Runs &quot;Check Tcl&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Exit'>Exit</a><span class='tooltiptext'>Closes alited application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::FgFgBold'>FgFgBold</a><span class='tooltiptext'>Gets foregrounds of normal and colored text of current color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Help'>Help</a><span class='tooltiptext'>Shows a help file for a procedure.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpAbout'>HelpAbout</a><span class='tooltiptext'>Shows &quot;About...&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpAlited'>HelpAlited</a><span class='tooltiptext'>Shows a main help of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpFile'>HelpFile</a><span class='tooltiptext'>Reads and shows a help file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpFname'>HelpFname</a><span class='tooltiptext'>Gets a help file's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::HelpMe'>HelpMe</a><span class='tooltiptext'>Shows a help file for a procedure with &quot;Don't show again&quot; checkbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ListPaved'>ListPaved</a><span class='tooltiptext'>Return a list of apave objects for dialogues.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Message'>Message</a><span class='tooltiptext'>Displays a message in statusbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Message2'>Message2</a><span class='tooltiptext'>Displays a message in statusbar of secondary dialogue (<code>$obDl2</code>).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Message3'>Message3</a><span class='tooltiptext'>Displays a message in statusbar of tertiary dialogue (<code>$obDl3</code>).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::msg'>msg</a><span class='tooltiptext'>Shows a message and asks for an answer.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::msgcatMessages'>msgcatMessages</a><span class='tooltiptext'>Sets common localized messages.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::open_files_and_raise'>open_files_and_raise</a><span class='tooltiptext'>Opens files of CLI.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::p+'>p+</a><span class='tooltiptext'>Sums two text positions straightforward: lines &amp; columns separately.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::raise_window'>raise_window</a><span class='tooltiptext'>Raises the app's window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Run'>Run</a><span class='tooltiptext'>Runs Tcl/Tk script.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::run_remote'>run_remote</a><span class='tooltiptext'>Runs a command that was started by another process.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::Tclexe'>Tclexe</a><span class='tooltiptext'>Gets Tcl's executable file.
</span></h4><h1><a href='#::alited::about'>alited::about</a></h1><h2><a href='#::alited::about-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::about::About'>About</a><span class='tooltiptext'>Shows &quot;About&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::about::textImaged'>textImaged</a><span class='tooltiptext'>Makes the feather blink.
</span></h4><h1><a href='#::alited::bar'>alited::bar</a></h1><h2><a href='#::alited::bar-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::bar::BAR'>BAR</a><span class='tooltiptext'>Runs the tab bar's method.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::ColorBar'>ColorBar</a><span class='tooltiptext'>Makes the bar of tabs to have a &quot;marked tab&quot; color consistent with current color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::ControlTab'>ControlTab</a><span class='tooltiptext'>Switches between last two active tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentControlTab'>CurrentControlTab</a><span class='tooltiptext'>Keeps a list of last switched files, to switch between last two.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentTab'>CurrentTab</a><span class='tooltiptext'>Gets an attribute of the current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::CurrentTabID'>CurrentTabID</a><span class='tooltiptext'>Gets ID of the current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::DisableTabLeft'>DisableTabLeft</a><span class='tooltiptext'>Checks for left tabs to disable &quot;select all at left&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::DisableTabRight'>DisableTabRight</a><span class='tooltiptext'>Checks for right tabs to disable &quot;select all at right&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FileName'>FileName</a><span class='tooltiptext'>Gets a file name of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FileTID'>FileTID</a><span class='tooltiptext'>Gets a tab's ID of a file name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::FillBar'>FillBar</a><span class='tooltiptext'>Fills the bar of tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::GetBarState'>GetBarState</a><span class='tooltiptext'>Gets attributes of a tab that are specific for alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::GetTabState'>GetTabState</a><span class='tooltiptext'>Gets attributes of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::InsertTab'>InsertTab</a><span class='tooltiptext'>Inserts a new tab into the beginning of bar of tabs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnTabMove'>OnTabMove</a><span class='tooltiptext'>Handles moving a tab in the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::OnTabSelection'>OnTabSelection</a><span class='tooltiptext'>Handles selecting a tab in the bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::PopupTip'>PopupTip</a><span class='tooltiptext'>Makes tooltips (full file names) for popup menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTab'>SelTab</a><span class='tooltiptext'>Makes a tab selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabAll'>SelTabAll</a><span class='tooltiptext'>Makes all tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabLeft'>SelTabLeft</a><span class='tooltiptext'>Makes all left tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabRight'>SelTabRight</a><span class='tooltiptext'>Makes all right tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SelTabVis'>SelTabVis</a><span class='tooltiptext'>Makes visible tabs selected / unselected.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SetBarState'>SetBarState</a><span class='tooltiptext'>Sets attributes of the tab bar that are specific for alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::SetTabState'>SetTabState</a><span class='tooltiptext'>Sets attributes of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::UniqueListTab'>UniqueListTab</a><span class='tooltiptext'>Returns a unique tab name for a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::bar::UniqueTab'>UniqueTab</a><span class='tooltiptext'>Returns a unique name for a tab.
</span></h4><h1><a href='#::alited::check'>alited::check</a></h1><h2><a href='#::alited::check-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::check::_create'>_create</a><span class='tooltiptext'>Creates &quot;Checking&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::_run'>_run</a><span class='tooltiptext'>Runs &quot;Checking&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Cancel'>Cancel</a><span class='tooltiptext'>Handles hitting &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Check'>Check</a><span class='tooltiptext'>Runs checking.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckAll'>CheckAll</a><span class='tooltiptext'>Checks all files of session.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckFile'>CheckFile</a><span class='tooltiptext'>Checks a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::CheckUnit'>CheckUnit</a><span class='tooltiptext'>Checks a unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Help'>Help</a><span class='tooltiptext'>Handles hitting &quot;Help&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::Ok'>Ok</a><span class='tooltiptext'>Handles hitting &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::PosInfo'>PosInfo</a><span class='tooltiptext'>Gets an info on a unit's position (for Put procedure).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::check::ShowResults'>ShowResults</a><span class='tooltiptext'>Displays results of checking.
</span></h4><h1><a href='#::alited::complete'>alited::complete</a></h1><h2><a href='#::alited::complete-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::complete::AllSessionCommands'>AllSessionCommands</a><span class='tooltiptext'>Gets all commands available in Tcl/Tk and in session files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::AutoCompleteCommand'>AutoCompleteCommand</a><span class='tooltiptext'>Runs auto completion of commands.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::MatchedCommands'>MatchedCommands</a><span class='tooltiptext'>Gets commands that are matched to a current (under cursor) word.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::PickCommand'>PickCommand</a><span class='tooltiptext'>Shows a frame of commands for auto completion, allowing a user to select from it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::SelectCommand'>SelectCommand</a><span class='tooltiptext'>Handles a selection of command for auto completion.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::complete::TextCursorCoordinates'>TextCursorCoordinates</a><span class='tooltiptext'>Gets screen coordinates (X, Y) under cursor in a text.
</span></h4><h1><a href='#::alited::edit'>alited::edit</a></h1><h2><a href='#::alited::edit-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupDirFileNames'>BackupDirFileNames</a><span class='tooltiptext'>Gets directory and file names for backuping.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupFile'>BackupFile</a><span class='tooltiptext'>Makes a backup copy of a file after the first modification of it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::BackupFileName'>BackupFileName</a><span class='tooltiptext'>Gets a backup name for a file (checking for backup's maximum).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ChangeEncoding'>ChangeEncoding</a><span class='tooltiptext'>Changes encoding of file(s).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::ChangeEOL'>ChangeEOL</a><span class='tooltiptext'>Changes EOL of file(s).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CheckSaveIcons'>CheckSaveIcons</a><span class='tooltiptext'>Checks for states of save buttons at modifications of files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CheckUndoRedoIcons'>CheckUndoRedoIcons</a><span class='tooltiptext'>Checks for states of undo/redo button for a file being modified.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Comment'>Comment</a><span class='tooltiptext'>Comments selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::CommentChar'>CommentChar</a><span class='tooltiptext'>Returns the commenting chars for a current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Indent'>Indent</a><span class='tooltiptext'>Indent selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::Modified'>Modified</a><span class='tooltiptext'>Handles a modification of file, recreating the unit tree at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::NormIndent'>NormIndent</a><span class='tooltiptext'>Normalizes a current text's indenting.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::RemoveTrailWhites'>RemoveTrailWhites</a><span class='tooltiptext'>Removes trailing spaces of lines - all of lines or a selection of lines.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::SelectedLines'>SelectedLines</a><span class='tooltiptext'>Gets a range of lines of text that are selected at least partly.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::UnComment'>UnComment</a><span class='tooltiptext'>Uncomments selected lines of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::edit::UnIndent'>UnIndent</a><span class='tooltiptext'>Unindent selected lines of text.
</span></h4><h1><a href='#::alited::favor'>alited::favor</a></h1><h2><a href='#::alited::favor-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::favor::_init'>_init</a><span class='tooltiptext'>Initializes and shows favorite / last visited units' view.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Add'>Add</a><span class='tooltiptext'>Adds a unit to favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::AddFromTree'>AddFromTree</a><span class='tooltiptext'>Adds a list of selected items of the tree to Favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::CopyDeclaration'>CopyDeclaration</a><span class='tooltiptext'>Copies a current unit's declaration to the clipboard.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::CurrentName'>CurrentName</a><span class='tooltiptext'>Gets data of a current unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Delete'>Delete</a><span class='tooltiptext'>Deletes an item from favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::DeleteAll'>DeleteAll</a><span class='tooltiptext'>Deletes all items from favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::GetTooltip'>GetTooltip</a><span class='tooltiptext'>Gets a tip of favorite / last visited unit's declaration.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::GoToUnit'>GoToUnit</a><span class='tooltiptext'>Enters a unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::IsSelected'>IsSelected</a><span class='tooltiptext'>Gets data of currently selected item of favorites.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::LastVisited'>LastVisited</a><span class='tooltiptext'>Puts an item to &quot;Last visited&quot; list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Lists'>Lists</a><span class='tooltiptext'>Runs &quot;Lists of Favorites&quot; dialogue, sets a list of favorites at a choice.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::OpenSelectedFile'>OpenSelectedFile</a><span class='tooltiptext'>Opens a file from a selected item of favorites/last visited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::PopupMenu'>PopupMenu</a><span class='tooltiptext'>Prepares and runs a popup menu at clicking Favorites / last visited list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Select'>Select</a><span class='tooltiptext'>Handles selecting an item of &quot;Favorites / Last visited&quot; treeview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SetAndClose'>SetAndClose</a><span class='tooltiptext'>Sets favorites list, opens files from favorites list, closes other files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SetFavorites'>SetFavorites</a><span class='tooltiptext'>Sets favorites/last visited list in the treeview.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::Show'>Show</a><span class='tooltiptext'>Shows a list of favorites / last visited units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::ShowFavVisit'>ShowFavVisit</a><span class='tooltiptext'>Show favorites/last visits, depending on the mode.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::ShowPopupMenu'>ShowPopupMenu</a><span class='tooltiptext'>Displays a popup menu at clicking Favorites / last visited list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SkipVisited'>SkipVisited</a><span class='tooltiptext'>Sets/gets a flag to skip remembering a last visit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor::SwitchFavVisit'>SwitchFavVisit</a><span class='tooltiptext'>Switches favorites / last visited units' view.
</span></h4><h1><a href='#::alited::favor_ls'>alited::favor_ls</a></h1><h2><a href='#::alited::favor_ls-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::_create'>_create</a><span class='tooltiptext'>Creates &quot;Favorites lists&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::_run'>_run</a><span class='tooltiptext'>Runs &quot;Favorites lists&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Add'>Add</a><span class='tooltiptext'>Handles hitting &quot;Add favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Cancel'>Cancel</a><span class='tooltiptext'>Handles hitting Cancel button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Change'>Change</a><span class='tooltiptext'>Handles hitting &quot;Change favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Delete'>Delete</a><span class='tooltiptext'>Handles hitting &quot;Delete favorites' list&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Focus'>Focus</a><span class='tooltiptext'>Focuses on an item of the list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::GetCurrentList'>GetCurrentList</a><span class='tooltiptext'>Gets a current list of favorites from alited's main form.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::GetIni'>GetIni</a><span class='tooltiptext'>Reads favorites' lists data, stored in the ini file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Help'>Help</a><span class='tooltiptext'>Handles hitting Help button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::HelpMe'>HelpMe</a><span class='tooltiptext'>'Help' for start.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::IniFile'>IniFile</a><span class='tooltiptext'>Returns the ini file's name to store favorites' lists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Ok'>Ok</a><span class='tooltiptext'>Handles hitting OK button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::PutIni'>PutIni</a><span class='tooltiptext'>Makes favorites' lists data to store to the ini file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Restore_favlist'>Restore_favlist</a><span class='tooltiptext'>Restores favorites' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Save_favlist'>Save_favlist</a><span class='tooltiptext'>Saves favorites' list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Select'>Select</a><span class='tooltiptext'>Handles a selection in the list of favorites' lists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Selected'>Selected</a><span class='tooltiptext'>Gets a selected item of favorites list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Split'>Split</a><span class='tooltiptext'>Splits a saved list by the list's dividers.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::favor_ls::Text'>Text</a><span class='tooltiptext'>Gets a text with a list of favorites.
</span></h4><h1><a href='#::alited::file'>alited::file</a></h1><h2><a href='#::alited::file-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::file::Add'>Add</a><span class='tooltiptext'>Creates a file at the file tree.
</span></h4><h4><a href='alited.html#::alited::file::AddRecent'>AddRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::AllSaved'>AllSaved</a><span class='tooltiptext'>Checks whether all files are saved. Saves them if not.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CheckForNew'>CheckForNew</a><span class='tooltiptext'>Checks if there is a file in bar of tabs and creates &quot;No name&quot; tab, if no tab exists.
</span></h4><h4><a href='alited.html#::alited::file::ChooseRecent'>ChooseRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseAll'>CloseAll</a><span class='tooltiptext'>Closes files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseFile'>CloseFile</a><span class='tooltiptext'>Closes a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::CloseFileMenu'>CloseFileMenu</a><span class='tooltiptext'>Closes the current file from the menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::Delete'>Delete</a><span class='tooltiptext'>Deletes a file at the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DisplayFile'>DisplayFile</a><span class='tooltiptext'>Displays a file's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DoMoveFile'>DoMoveFile</a><span class='tooltiptext'>Asks and moves a file to a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DoRenameFileInTree'>DoRenameFileInTree</a><span class='tooltiptext'>Performs renaming a current file in a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::DropFiles'>DropFiles</a><span class='tooltiptext'>Moves a group of selected files to other tree position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileAttrs'>FileAttrs</a><span class='tooltiptext'>Returns a file attributes: name &amp; time.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileSize'>FileSize</a><span class='tooltiptext'>Formats a file's size.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::FileStat'>FileStat</a><span class='tooltiptext'>Gets a file's attributes: times &amp; size.
</span></h4><h4><a href='alited.html#::alited::file::InsertRecent'>InsertRecent</a></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsClang'>IsClang</a><span class='tooltiptext'>Checks if a file is of C/C++.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsModified'>IsModified</a><span class='tooltiptext'>Checks if a text of tab is modified.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsNoName'>IsNoName</a><span class='tooltiptext'>Checks if a file name is &quot;No name&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsSaved'>IsSaved</a><span class='tooltiptext'>Checks if a file is modified and if yes, offers to save it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsTcl'>IsTcl</a><span class='tooltiptext'>Checks if a file is of Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::IsUnitFile'>IsUnitFile</a><span class='tooltiptext'>Checks if a file has a unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MakeThemHighlighted'>MakeThemHighlighted</a><span class='tooltiptext'>Sets flag &quot;highlight file(s) anyway&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MoveExternal'>MoveExternal</a><span class='tooltiptext'>Moves an external file to a project's directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::MoveFiles'>MoveFiles</a><span class='tooltiptext'>Moves  file(s).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::NewFile'>NewFile</a><span class='tooltiptext'>Handles &quot;New file&quot; menu item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenFile'>OpenFile</a><span class='tooltiptext'>Handles &quot;Open file&quot; menu item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenFiles'>OpenFiles</a><span class='tooltiptext'>Opens files selected in the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OpenOfDir'>OpenOfDir</a><span class='tooltiptext'>Opens all Tcl files of a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::OutwardChange'>OutwardChange</a><span class='tooltiptext'>Checks for change of file by an external application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ReadFile'>ReadFile</a><span class='tooltiptext'>Reads a file, creates its unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ReadFileByTID'>ReadFileByTID</a><span class='tooltiptext'>Reads a file of tab, if needed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RecreateFileTree'>RecreateFileTree</a><span class='tooltiptext'>Creates the file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RemoveFile'>RemoveFile</a><span class='tooltiptext'>Removes or backups a file, trying to save it in a directory.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RenameFile'>RenameFile</a><span class='tooltiptext'>Renames a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::RenameFileInTree'>RenameFileInTree</a><span class='tooltiptext'>Renames a current file in a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveAll'>SaveAll</a><span class='tooltiptext'>Saves all files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFile'>SaveFile</a><span class='tooltiptext'>Saves the current file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileAndClose'>SaveFileAndClose</a><span class='tooltiptext'>Saves and closes the current file. This handles pressing Ctrl+W.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileAs'>SaveFileAs</a><span class='tooltiptext'>Saves the current file &quot;as&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SaveFileByName'>SaveFileByName</a><span class='tooltiptext'>Saves a file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::SbhText'>SbhText</a><span class='tooltiptext'>Shows/hides the horizontal scrollbar of the text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::ToBeHighlighted'>ToBeHighlighted</a><span class='tooltiptext'>Checks flag &quot;highlight text anyway&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::UpdateFileStat'>UpdateFileStat</a><span class='tooltiptext'>Updates tips in tab bar (file info).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::file::WrapLines'>WrapLines</a><span class='tooltiptext'>Switches wrap word mode for a current text.
</span></h4><h1><a href='#::alited::find'>alited::find</a></h1><h2><a href='#::alited::find-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::find::_close'>_close</a><span class='tooltiptext'>Closes Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::_create'>_create</a><span class='tooltiptext'>$ Creates Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::_run'>_run</a><span class='tooltiptext'>Runs Find/Replace dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CheckData'>CheckData</a><span class='tooltiptext'>Checks if the find/replace data are valid.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::CheckWord'>CheckWord</a><span class='tooltiptext'>Check if the found string is a word, at searching by words,
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ClearTags'>ClearTags</a><span class='tooltiptext'>Clears all find tags in a current text, if Find/Replace dialogue was closed.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::DoFindUnit'>DoFindUnit</a><span class='tooltiptext'>Runs searching units in current text / all texts.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Find'>Find</a><span class='tooltiptext'>Searches one string in a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindAll'>FindAll</a><span class='tooltiptext'>Searches all strings in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindInSession'>FindInSession</a><span class='tooltiptext'>Searches all strings in a session.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindInText'>FindInText</a><span class='tooltiptext'>Searches all strings in a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindOptions'>FindOptions</a><span class='tooltiptext'>Gets options of search, according to the dialogue's fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindReplStr'>FindReplStr</a><span class='tooltiptext'>Prepares a string to find/replace for messages.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::FindUnit'>FindUnit</a><span class='tooltiptext'>Displays &quot;Find unit&quot; frame.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetCommandOfLine'>GetCommandOfLine</a><span class='tooltiptext'>Gets a command from a line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetCommandOfText'>GetCommandOfText</a><span class='tooltiptext'>Gets a command of text under the cursor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetFindEntry'>GetFindEntry</a><span class='tooltiptext'>Puts a current selection of text to the &quot;Find:&quot; field
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetWordOfLine'>GetWordOfLine</a><span class='tooltiptext'>Gets a word from a line.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::GetWordOfText'>GetWordOfText</a><span class='tooltiptext'>Gets a word of text under the cursor.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::HideFindUnit'>HideFindUnit</a><span class='tooltiptext'>Hides &quot;Find unit&quot; frame.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::InitShowResults'>InitShowResults</a><span class='tooltiptext'>Clears the info list before any search.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::LastInvoke'>LastInvoke</a><span class='tooltiptext'>Invokes last Find button that was pressed. If Ctrl-F is pressed inside Find/Replace dialogue, the last pressed Find button will be invoked.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Next'>Next</a><span class='tooltiptext'>Generate F3 key pressing event.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Replace'>Replace</a><span class='tooltiptext'>Replaces one string and finds next.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceAll'>ReplaceAll</a><span class='tooltiptext'>Replaces all found strings in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceInSession'>ReplaceInSession</a><span class='tooltiptext'>Handles hitting &quot;Replace in Session&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ReplaceInText'>ReplaceInText</a><span class='tooltiptext'>Handles hitting &quot;Replace in Text&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Search'>Search</a><span class='tooltiptext'>Searches a text for a string to find.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::Search1'>Search1</a><span class='tooltiptext'>Searches a text from a position for a string to find.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchByList'>SearchByList</a><span class='tooltiptext'>Searches words by list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchByList_Do'>SearchByList_Do</a><span class='tooltiptext'>Does searching words by list.
</span></h4><h4><a href='alited.html#::alited::find::SearchByList_Options'>SearchByList_Options</a></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchUnit'>SearchUnit</a><span class='tooltiptext'>Prepares and runs searching units in a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SearchUnit1'>SearchUnit1</a><span class='tooltiptext'>Searches units in a text.
</span></h4><h4><a href='alited.html#::alited::find::SearchWordInSession'>SearchWordInSession</a></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SessionButtons'>SessionButtons</a><span class='tooltiptext'>Prepares buttons' label (&quot;in all/selected tabs&quot;).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SessionList'>SessionList</a><span class='tooltiptext'>Returns a list of all tabs or selected tabs (if set).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::SetCursor'>SetCursor</a><span class='tooltiptext'>Sets the cursor in a text after a replacement made.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults'>ShowResults</a><span class='tooltiptext'>Display a message containing results of a search.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults1'>ShowResults1</a><span class='tooltiptext'>Shows a message of all found strings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::find::ShowResults2'>ShowResults2</a><span class='tooltiptext'>Shows a message of number of found strings.
</span></h4><h1><a href='#::alited::img'>alited::img</a></h1><h1><a href='#::alited::indent'>alited::indent</a></h1><h2><a href='#::alited::indent-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::indent::indent'>indent</a><span class='tooltiptext'>Indents Tcl code.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::indent::normalize'>normalize</a><span class='tooltiptext'>Normalizes all indents of the current Tcl text.
</span></h4><h1><a href='#::alited::info'>alited::info</a></h1><h2><a href='#::alited::info-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::info::Clear'>Clear</a><span class='tooltiptext'>Clears the info listbox widget and the related data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::FocusIn'>FocusIn</a><span class='tooltiptext'>At focusing in the info listbox, shows its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::FocusOut'>FocusOut</a><span class='tooltiptext'>At focusing out of the info listbox, hides its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::Get'>Get</a><span class='tooltiptext'>Gets a message of the info listbox widget by its index.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::ListboxSelect'>ListboxSelect</a><span class='tooltiptext'>Handles a selection event of the info listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::PopupMenu'>PopupMenu</a><span class='tooltiptext'>Runs a popup menu on the info listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::Put'>Put</a><span class='tooltiptext'>Puts a message to the info listbox widget.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::info::SwitchFocustext'>SwitchFocustext</a><span class='tooltiptext'>Switches a variable of flag &quot;listbox is focused&quot;.
</span></h4><h1><a href='#::alited::ini'>alited::ini</a></h1><h2><a href='#::alited::ini-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::ini::_init'>_init</a><span class='tooltiptext'>Initializes alited app.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CheckIni'>CheckIni</a><span class='tooltiptext'>Checks if the configuration directory exists and if not asks for it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreateIcon'>CreateIcon</a><span class='tooltiptext'>Create an icon (of normal and big size).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::CreateUserDirs'>CreateUserDirs</a><span class='tooltiptext'>Creates main directories for settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::EditSettings'>EditSettings</a><span class='tooltiptext'>Displays the settings file, just to look behind the wall.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::GetUserDirs'>GetUserDirs</a><span class='tooltiptext'>Gets names of main directories for settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitFonts'>InitFonts</a><span class='tooltiptext'>Loads main fonts for alited to use as default and mono.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::InitGUI'>InitGUI</a><span class='tooltiptext'>Initializes GUI.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIni'>ReadIni</a><span class='tooltiptext'>Reads alited application's and project's settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniEM'>ReadIniEM</a><span class='tooltiptext'>Gets e_menu options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniGeometry'>ReadIniGeometry</a><span class='tooltiptext'>Gets the geometry options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniKeys'>ReadIniKeys</a><span class='tooltiptext'>Gets keys options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniMisc'>ReadIniMisc</a><span class='tooltiptext'>Gets miscellaneous options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniOptions'>ReadIniOptions</a><span class='tooltiptext'>Gets various options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniPrj'>ReadIniPrj</a><span class='tooltiptext'>Reads a project's settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniTemplates'>ReadIniTemplates</a><span class='tooltiptext'>Gets templates options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadIniTkcon'>ReadIniTkcon</a><span class='tooltiptext'>Gets tkcon options of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjFavorites'>ReadPrjFavorites</a><span class='tooltiptext'>Gets favorites of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjMisc'>ReadPrjMisc</a><span class='tooltiptext'>Gets favorites of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjOptions'>ReadPrjOptions</a><span class='tooltiptext'>Gets options of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ReadPrjTabs'>ReadPrjTabs</a><span class='tooltiptext'>Gets tabs of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveCurrentIni'>SaveCurrentIni</a><span class='tooltiptext'>Saves a current configuration of alited on various events.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveIni'>SaveIni</a><span class='tooltiptext'>Saves a current configuration of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::SaveIniPrj'>SaveIniPrj</a><span class='tooltiptext'>Saves settings of project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::ini::ToolbarTip'>ToolbarTip</a><span class='tooltiptext'>Gets a tip for a toolbar button.
</span></h4><h1><a href='#::alited::keys'>alited::keys</a></h1><h2><a href='#::alited::keys-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::keys::Add'>Add</a><span class='tooltiptext'>Adds an item to a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::BindKeys'>BindKeys</a><span class='tooltiptext'>Binds keys to appropriate events of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Delete'>Delete</a><span class='tooltiptext'>Deletes an item from a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::EngagedList'>EngagedList</a><span class='tooltiptext'>Returns a list of keys engaged by a user.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::ReservedAdd'>ReservedAdd</a><span class='tooltiptext'>Saves reserved (&quot;action&quot;) keys to a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::ReservedList'>ReservedList</a><span class='tooltiptext'>Returns a list of keys reserved by alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Search'>Search</a><span class='tooltiptext'>Searches an item in a list of keys data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::Test'>Test</a><span class='tooltiptext'>It's just for testing keys.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::UnBindKeys'>UnBindKeys</a><span class='tooltiptext'>Clears key bindings of text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::UserList'>UserList</a><span class='tooltiptext'>Returns a list of keys avalable to a user.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::keys::VacantList'>VacantList</a><span class='tooltiptext'>Returns a list of keys not yet engaged.
</span></h4><h1><a href='#::alited::main'>alited::main</a></h1><h2><a href='#::alited::main-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::main::_create'>_create</a><span class='tooltiptext'>Creates a main form of the alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::_run'>_run</a><span class='tooltiptext'>Runs the alited, displaying its main form with attributes 'modal', 'not closed by Esc', 'decorated with Contract/Expand buttons', 'minimal sizes' and 'saved geometry'.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::AfterUndoRedo'>AfterUndoRedo</a><span class='tooltiptext'>Actions after undo/redo.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::BindsForText'>BindsForText</a><span class='tooltiptext'>Sets bindings for a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CalcIndentation'>CalcIndentation</a><span class='tooltiptext'>Check for &quot;Auto detection of indentation&quot; and calculates it at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CurrentWTXT'>CurrentWTXT</a><span class='tooltiptext'>Gets a current text widget's path.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::CursorPos'>CursorPos</a><span class='tooltiptext'>Displays a current text's row and column in the status bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::FocusInText'>FocusInText</a><span class='tooltiptext'>Processes <FocusIn> event on the text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::FocusText'>FocusText</a><span class='tooltiptext'>Sets a focus on a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GetText'>GetText</a><span class='tooltiptext'>Creates or gets a text widget for a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GetWTXT'>GetWTXT</a><span class='tooltiptext'>Gets a text widget's path of a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GotoBracket'>GotoBracket</a><span class='tooltiptext'>Processes Alt+B keypressing: &quot;go to a matched bracket&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GotoLine'>GotoLine</a><span class='tooltiptext'>Processes Ctrl+G keypressing: &quot;go to a line&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::GutterAttrs'>GutterAttrs</a><span class='tooltiptext'>Returns list of gutter's data (canvas widget, width, shift)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::HighlightLine'>HighlightLine</a><span class='tooltiptext'>Highlights a current line of a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::HighlightText'>HighlightText</a><span class='tooltiptext'>Highlights a file's syntax constructs.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::InitActions'>InitActions</a><span class='tooltiptext'>Initializes working with a main form of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::InsertLine'>InsertLine</a><span class='tooltiptext'>Puts a new line into a text, attentive to a previous line's indentation.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::PackTextWidgets'>PackTextWidgets</a><span class='tooltiptext'>Packs a text and its scrollbar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::SaveVisitInfo'>SaveVisitInfo</a><span class='tooltiptext'>Remembers data about current unit.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ShowHeader'>ShowHeader</a><span class='tooltiptext'>Displays a file's name and modification flag (*) in alited's title.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::ShowText'>ShowText</a><span class='tooltiptext'>Displays a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateAll'>UpdateAll</a><span class='tooltiptext'>Updates tree, text and gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateGutter'>UpdateGutter</a><span class='tooltiptext'>Redraws the gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateProjectInfo'>UpdateProjectInfo</a><span class='tooltiptext'>Displays a project settings in the status bar.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateText'>UpdateText</a><span class='tooltiptext'>Redraws a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateTextGutter'>UpdateTextGutter</a><span class='tooltiptext'>Redraws both a text and a gutter.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateTextGutterTree'>UpdateTextGutterTree</a><span class='tooltiptext'>Updates after replacements: text, gutter, unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::main::UpdateUnitTree'>UpdateUnitTree</a><span class='tooltiptext'>Redraws unit tree at need.
</span></h4><h1><a href='#::alited::menu'>alited::menu</a></h1><h2><a href='#::alited::menu-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::menu::CheckMenuItems'>CheckMenuItems</a><span class='tooltiptext'>Disables/enables &quot;File/Close All...&quot; menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::CheckPrjItems'>CheckPrjItems</a><span class='tooltiptext'>Checks for states of menu items related to projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillMenu'>FillMenu</a><span class='tooltiptext'>Populates alited's main menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillRecent'>FillRecent</a><span class='tooltiptext'>Creates &quot;Recent Files&quot; menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::FillRunItems'>FillRunItems</a><span class='tooltiptext'>Fills Tools/e_menu items, depending on a currently edited file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::MapRunItems'>MapRunItems</a><span class='tooltiptext'>Gets a map list to map %f &amp; %D wildcards to the current file &amp; directory names.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::menu::SetTint'>SetTint</a><span class='tooltiptext'>Sets a tint of a current color scheme.
</span></h4><h1><a href='#::alited::pref'>alited::pref</a></h1><h2><a href='#::alited::pref-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::pref::_create'>_create</a><span class='tooltiptext'>Creates &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::_init'>_init</a><span class='tooltiptext'>Initializes &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::_run'>_run</a><span class='tooltiptext'>Runs &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::BindKey'>BindKey</a><span class='tooltiptext'>Binds a key event to a key combination.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::C_Default'>C_Default</a><span class='tooltiptext'>Sets default colors to highlight C.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Cancel'>Cancel</a><span class='tooltiptext'>Handler of &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CbxBackup'>CbxBackup</a><span class='tooltiptext'>Check for access to SpxMaxBak field. If CbxBackup is empty (no backup), SpxMaxBak should be disabled.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CbxTheme'>CbxTheme</a><span class='tooltiptext'>Check for access to &quot;Tint&quot; field. If CbxTheme is not &quot;clam&quot;, &quot;Tint&quot; should be disabled.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckIndent'>CheckIndent</a><span class='tooltiptext'>Sets &quot;auto indentation&quot;, if indent is 1 (for indentation by Tabs)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckUseDef'>CheckUseDef</a><span class='tooltiptext'>Enables/disables the project default fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CheckUseLeaf'>CheckUseLeaf</a><span class='tooltiptext'>Enables/disables the &quot;Regexp of a leaf&quot; field.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Common_Tab'>Common_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/Common&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::CsDark'>CsDark</a><span class='tooltiptext'>Gets a lightness of a color scheme.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab1'>Edit_Tab1</a><span class='tooltiptext'>Serves to layout &quot;Editor&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab2'>Edit_Tab2</a><span class='tooltiptext'>Serves to layout &quot;Tcl syntax&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab3'>Edit_Tab3</a><span class='tooltiptext'>Serves to layout &quot;C/C++ syntax&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Edit_Tab4'>Edit_Tab4</a><span class='tooltiptext'>Serves to layout &quot;Misc syntax&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::EmAddLine'>EmAddLine</a><span class='tooltiptext'>Inserts a new &quot;bar/menu&quot; action before a current one.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::EmDelLine'>EmDelLine</a><span class='tooltiptext'>Deletes a current &quot;bar/menu&quot; action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Emenu_Tab'>Emenu_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/e_menu&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::EmSeparators'>EmSeparators</a><span class='tooltiptext'>Handles separators of bar/menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::fetchVars'>fetchVars</a><span class='tooltiptext'>Delivers namespace variables to a caller.
</span></h4><h4><a href='alited.html#::alited::pref::fillCan'>fillCan</a></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab1'>General_Tab1</a><span class='tooltiptext'>Serves to layout &quot;General&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab2'>General_Tab2</a><span class='tooltiptext'>Serves to layout &quot;General/Saving&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::General_Tab3'>General_Tab3</a><span class='tooltiptext'>Serves to layout &quot;General/Defaults&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetCS'>GetCS</a><span class='tooltiptext'>Gets a color scheme's index from <em>opcc</em> / <em>opcc2</em>  variable.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetEmSave'>GetEmSave</a><span class='tooltiptext'>Gets a name of setting &quot;Save before run&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::GetKeyList'>GetKeyList</a><span class='tooltiptext'>Gets a list of available (not engaged) key combinations.
</span></h4><h4><a href='alited.html#::alited::pref::GetLocaleImage'>GetLocaleImage</a></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Help'>Help</a><span class='tooltiptext'>Shows a help on a current tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::IniKeys'>IniKeys</a><span class='tooltiptext'>Gets key settings at opening &quot;Preferences&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitLocales'>InitLocales</a><span class='tooltiptext'>Creates flag images to display at &quot;Preferable locale&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitSyntax'>InitSyntax</a><span class='tooltiptext'>Updates and initializes color fields.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitSyntaxC'>InitSyntaxC</a><span class='tooltiptext'>Initializes syntax stuff for C/C++.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::InitSyntaxTcl'>InitSyntaxTcl</a><span class='tooltiptext'>Initializes syntax stuff for Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::KeyAccelerator'>KeyAccelerator</a><span class='tooltiptext'>Gets a key accelerator for a combobox of keys, bound to an action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::KeyAccelerators'>KeyAccelerators</a><span class='tooltiptext'>Gets a full list of key accelerators,
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Keys_Tab1'>Keys_Tab1</a><span class='tooltiptext'>Serves to layout &quot;Keys&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::MainFrame'>MainFrame</a><span class='tooltiptext'>Creates a main frame of the dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Ok'>Ok</a><span class='tooltiptext'>Handler of &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::opcIcoPre'>opcIcoPre</a><span class='tooltiptext'>Gets an item for icon list of a bar/menu action.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::opcToolPre'>opcToolPre</a><span class='tooltiptext'>Gets colors for &quot;Color schemes&quot; items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::OwnCS'>OwnCS</a><span class='tooltiptext'>Looks for onwCS option.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::PickMenuItem'>PickMenuItem</a><span class='tooltiptext'>Selects e_menu's action for a &quot;bar/menu&quot; item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::RegisterKeys'>RegisterKeys</a><span class='tooltiptext'>Adds key bindings to keys array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ReservedIcons'>ReservedIcons</a><span class='tooltiptext'>Returns a list of icons already engaged by alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::RestoreSettings'>RestoreSettings</a><span class='tooltiptext'>Restores original settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Runs_Tab'>Runs_Tab</a><span class='tooltiptext'>Prepares and layouts &quot;Tools/bar/menu&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SavedOptions'>SavedOptions</a><span class='tooltiptext'>Returns a list of names of main settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SaveSettings'>SaveSettings</a><span class='tooltiptext'>Saves original settings.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::ScrollRuns'>ScrollRuns</a><span class='tooltiptext'>Updates scrollbars of bar/menu tab because its contents may have various length.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::SelectKey'>SelectKey</a><span class='tooltiptext'>Handles &lt;<ComboboxSelected>&gt; event on a combobox of keys.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tab'>Tab</a><span class='tooltiptext'>Handles changing tabs of notebooks.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tcl_Default'>Tcl_Default</a><span class='tooltiptext'>Sets default colors to highlight Tcl.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Template_Tab'>Template_Tab</a><span class='tooltiptext'>Serves to layout &quot;Template&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Text_Default'>Text_Default</a><span class='tooltiptext'>Sets defaults for plain text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::TextIcons'>TextIcons</a><span class='tooltiptext'>Returns a list of letters to be toolbar &quot;icons&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Default'>Tkcon_Default</a><span class='tooltiptext'>Sets defaults for &quot;Tools/Tkcon&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Tkcon_Tab'>Tkcon_Tab</a><span class='tooltiptext'>Serves to layout &quot;Tools/Tkcon&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Units_Default'>Units_Default</a><span class='tooltiptext'>Sets the default settings of units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::Units_Tab'>Units_Tab</a><span class='tooltiptext'>Serves to layout &quot;Units&quot; tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::UpdateSyntaxTab'>UpdateSyntaxTab</a><span class='tooltiptext'>Updates color labels at clicking &quot;Default&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::pref::UpdateTkconTab'>UpdateTkconTab</a><span class='tooltiptext'>Updates color labels for &quot;Tools/Tkcon&quot; tab.
</span></h4><h1><a href='#::alited::project'>alited::project</a></h1><h2><a href='#::alited::project-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::project::_create'>_create</a><span class='tooltiptext'>Creates and opens &quot;Projects&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::_run'>_run</a><span class='tooltiptext'>Runs &quot;Projects&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Add'>Add</a><span class='tooltiptext'>&quot;Add project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Cancel'>Cancel</a><span class='tooltiptext'>'Cancel' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Change'>Change</a><span class='tooltiptext'>&quot;Change project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckNewDir'>CheckNewDir</a><span class='tooltiptext'>Checks if the root directory exists. If no, tries to create it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CheckProjectName'>CheckProjectName</a><span class='tooltiptext'>Removes spec.characters from a project name (sort of normalizing it).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CloseSelFiles'>CloseSelFiles</a><span class='tooltiptext'>Closes selected files of listbox. Files are closed in a currently open project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::CurrProject'>CurrProject</a><span class='tooltiptext'>Gets a current project name, from a current item of project list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Delete'>Delete</a><span class='tooltiptext'>&quot;Delete project&quot; button's handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ExistingProject'>ExistingProject</a><span class='tooltiptext'>Checks if a project (of entry field) exists.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetOptVal'>GetOptVal</a><span class='tooltiptext'>Gets a name and a value from a line of form &quot;name=value&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetProjectOpts'>GetProjectOpts</a><span class='tooltiptext'>Reads a project's settings from a project settings file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::GetProjects'>GetProjects</a><span class='tooltiptext'>Reads settings of all projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Help'>Help</a><span class='tooltiptext'>'Help' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::HelpMe'>HelpMe</a><span class='tooltiptext'>'Help' for start.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_button'>Klnd_button</a><span class='tooltiptext'>Fire an event handler (paste/undo/redo) on a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_delete'>Klnd_delete</a><span class='tooltiptext'>Clears a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_paste'>Klnd_paste</a><span class='tooltiptext'>Pastes a text to a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_redo'>Klnd_redo</a><span class='tooltiptext'>Redoes changes of a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_save'>Klnd_save</a><span class='tooltiptext'>Saves a reminder on a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Klnd_undo'>Klnd_undo</a><span class='tooltiptext'>Undoes changes of a reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndBorderText'>KlndBorderText</a><span class='tooltiptext'>Highlights/unhighlights a reminder's border.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndClick'>KlndClick</a><span class='tooltiptext'>Processes a click on a calendar day.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndDate'>KlndDate</a><span class='tooltiptext'>Formats a calendar date by alited's format (Preferences/Templates).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndDay'>KlndDay</a><span class='tooltiptext'>Selects a date of reminder.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndDayRem'>KlndDayRem</a><span class='tooltiptext'>Selects a date of reminder before a current one.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndInDate'>KlndInDate</a><span class='tooltiptext'>Gets a date in seconds.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndOutDate'>KlndOutDate</a><span class='tooltiptext'>Gets a date formatted.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndSearch'>KlndSearch</a><span class='tooltiptext'>Search a date in calendar data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndText'>KlndText</a><span class='tooltiptext'>Gets a reminder text for a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndTextModified'>KlndTextModified</a><span class='tooltiptext'>Processes modifications of calendar text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::KlndUpdate'>KlndUpdate</a><span class='tooltiptext'>Updates calendar data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::LbxPopup'>LbxPopup</a><span class='tooltiptext'>Runs a popup menu on the project files listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::MainFrame'>MainFrame</a><span class='tooltiptext'>Creates a main frame of &quot;Project&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::NotesFile'>NotesFile</a><span class='tooltiptext'>Gets a file name of notes.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Ok'>Ok</a><span class='tooltiptext'>'OK' button handler.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::OpenSelFiles'>OpenSelFiles</a><span class='tooltiptext'>Opens selected files of listbox. Files are open in a currently open project.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProcEOL'>ProcEOL</a><span class='tooltiptext'>Transforms \n to &quot;EOL chars&quot; and vise versa.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectEnter'>ProjectEnter</a><span class='tooltiptext'>Processes double-clicking and pressing Enter on the project list. Cancels selecting projects if there are old reminders.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectFileName'>ProjectFileName</a><span class='tooltiptext'>Gets a project file name from a project's name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ProjectName'>ProjectName</a><span class='tooltiptext'>Gets a project name from its file name.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::PutProjectOpts'>PutProjectOpts</a><span class='tooltiptext'>Writes a project's settings to a project settings file.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ReadRems'>ReadRems</a><span class='tooltiptext'>Reads a file of reminders.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::RemsFile'>RemsFile</a><span class='tooltiptext'>Gets a file name of reminders.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::RestoreSettings'>RestoreSettings</a><span class='tooltiptext'>Restores project settings from curinfo array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveData'>SaveData</a><span class='tooltiptext'>Saves some data.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveNotes'>SaveNotes</a><span class='tooltiptext'>Saves a file of notes, for a current item of project list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SaveSettings'>SaveSettings</a><span class='tooltiptext'>Saves project settings to curinfo array.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Select'>Select</a><span class='tooltiptext'>Handles a selection in a list of projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SelectAllFiles'>SelectAllFiles</a><span class='tooltiptext'>Selects all files of listbox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Selected'>Selected</a><span class='tooltiptext'>Gets a currently selected project's index.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SelFiles'>SelFiles</a><span class='tooltiptext'>Checks for a selection of file listbox. Returns: list of listbox's path and the selection or {}.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::SortRems'>SortRems</a><span class='tooltiptext'>Sorts reminders by date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab1'>Tab1</a><span class='tooltiptext'>Creates a main tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::Tab2'>Tab2</a><span class='tooltiptext'>Creates Options tab of &quot;Project&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::TabFileInfo'>TabFileInfo</a><span class='tooltiptext'>Fills a listbox with a list of project files.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::UpdateTree'>UpdateTree</a><span class='tooltiptext'>Fills a list of projects.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::project::ValidProject'>ValidProject</a><span class='tooltiptext'>Checks if a project's options are valid.
</span></h4><h1><a href='#::alited::tool'>alited::tool</a></h1><h2><a href='#::alited::tool-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::tool::_close'>_close</a><span class='tooltiptext'>Closes e_menu (being an internal procedure) by force.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::_run'>_run</a><span class='tooltiptext'>Runs e_menu's item of menu.mnu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::AfterStart'>AfterStart</a><span class='tooltiptext'>Runs commands after starting alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::AfterStartDlg'>AfterStartDlg</a><span class='tooltiptext'>Dialogue to enter a command before running &quot;Tools/Run&quot;
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::BeforeRun'>BeforeRun</a><span class='tooltiptext'>Runs commands before running &quot;Tools/Run&quot;
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::BeforeRunDlg'>BeforeRunDlg</a><span class='tooltiptext'>Dialogue to enter a command before running &quot;Tools/Run&quot;
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::ColorPicker'>ColorPicker</a><span class='tooltiptext'>Calls a color picker passing to it and getting from it a color.
</span></h4><h4><a href='alited.html#::alited::tool::CtrlC'>CtrlC</a></h4><h4><a href='alited.html#::alited::tool::CtrlV'>CtrlV</a></h4><h4><a href='alited.html#::alited::tool::CtrlX'>CtrlX</a></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::DatePicker'>DatePicker</a><span class='tooltiptext'>Calls a calendar to pick a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu'>e_menu</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu1'>e_menu1</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::e_menu2'>e_menu2</a><span class='tooltiptext'>Runs e_menu.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_AllStructure'>EM_AllStructure</a><span class='tooltiptext'>Gets all items of all menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_AllStructure1'>EM_AllStructure1</a><span class='tooltiptext'>Gets recursively all items of all menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_command'>EM_command</a><span class='tooltiptext'>Gets e_menu command.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_dir'>EM_dir</a><span class='tooltiptext'>Returns a directory of e_menu's menus.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_HotKey'>EM_HotKey</a><span class='tooltiptext'>Returns e_menu's hotkeys which numerate menu items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_Options'>EM_Options</a><span class='tooltiptext'>Returns e_menu's general options.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_SaveFiles'>EM_SaveFiles</a><span class='tooltiptext'>Saves all files before running e_menu, if this mode is set in &quot;Preferences&quot;.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::EM_Structure'>EM_Structure</a><span class='tooltiptext'>Gets a menu's items.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::FormatDate'>FormatDate</a><span class='tooltiptext'>Formats a date.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Help'>Help</a><span class='tooltiptext'>Calls a help on alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::InsertInText'>InsertInText</a><span class='tooltiptext'>Insert a string into a text possibly instead of its selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::is_submenu'>is_submenu</a><span class='tooltiptext'>Checks if e_menu's arguments are for submenu
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Loupe'>Loupe</a><span class='tooltiptext'>Calls a screen loupe.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::PopupBar'>PopupBar</a><span class='tooltiptext'>Opens a popup menu in the tool bar, to enter e_menu's preferences.
</span></h4><h4><a href='alited.html#::alited::tool::Redo'>Redo</a></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::RunArgs'>RunArgs</a><span class='tooltiptext'>Gets ARGS/RUNF arguments (similar to ::em::get_AR of e_menu.tcl).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::Runs'>Runs</a><span class='tooltiptext'>Runs a list of Tcl/ext commands.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::RunTcl'>RunTcl</a><span class='tooltiptext'>Try to run tcl source file by means of tkcon utility.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::SrcPath'>SrcPath</a><span class='tooltiptext'>Gets a path to an external tool. This may be useful at calling alited by tclkit: tkcon, aloupe etc. may be located in &quot;src&quot; subdirectory of alited.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::tkcon'>tkcon</a><span class='tooltiptext'>Calls Tkcon application.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tool::ToolButName'>ToolButName</a><span class='tooltiptext'>Helper procedure to get a name of toolbar button.
</span></h4><h4><a href='alited.html#::alited::tool::Undo'>Undo</a></h4><h1><a href='#::alited::tree'>alited::tree</a></h1><h2><a href='#::alited::tree-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::tree::AddItem'>AddItem</a><span class='tooltiptext'>Adds a new item to the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AddTags'>AddTags</a><span class='tooltiptext'>Creates tags for the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AddToDirContents'>AddToDirContents</a><span class='tooltiptext'>Adds an item to a list of directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::AdjustWidth'>AdjustWidth</a><span class='tooltiptext'>Fixes a problem with the tree scrollbar's width at resizing the panes. The problem occurs if Frame's width is less than Tree's + Scrollbar's, as then the scrollbar is squeezed. Thus the Tree's width should be adjusted. The restart of alited will fully repair this.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonMotion'>ButtonMotion</a><span class='tooltiptext'>Starts moving an item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonPress'>ButtonPress</a><span class='tooltiptext'>Handles a mouse clicking the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ButtonRelease'>ButtonRelease</a><span class='tooltiptext'>Handles a mouse button releasing on the tree, at moving an item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::Create'>Create</a><span class='tooltiptext'>Creates a tree of units/files, at need.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CreateFilesTree'>CreateFilesTree</a><span class='tooltiptext'>Creates a file tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CreateUnitsTree'>CreateUnitsTree</a><span class='tooltiptext'>Creates a unit tree for a tab.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CurrentItem'>CurrentItem</a><span class='tooltiptext'>Gets ID of selected item of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::CurrentItemByLine'>CurrentItemByLine</a><span class='tooltiptext'>Gets item ID of unit tree for a current text position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::Delete'>Delete</a><span class='tooltiptext'>Removes recursively an item and its children from the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DelItem'>DelItem</a><span class='tooltiptext'>Removes an item from the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DestroyMoveWindow'>DestroyMoveWindow</a><span class='tooltiptext'>Destroys an item moving window.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DirContents'>DirContents</a><span class='tooltiptext'>Reads a directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::DropItems'>DropItems</a><span class='tooltiptext'>Drops (moves) selected items to a current position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ExpandContractTree'>ExpandContractTree</a><span class='tooltiptext'>Expands or contracts the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ForEach'>ForEach</a><span class='tooltiptext'>Scans all items of the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetDirectoryContents'>GetDirectoryContents</a><span class='tooltiptext'>Gets a directory's contents.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetTooltip'>GetTooltip</a><span class='tooltiptext'>Gets a tip for unit / file tree's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::GetTree'>GetTree</a><span class='tooltiptext'>Gets a tree or its branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::IgnoredDir'>IgnoredDir</a><span class='tooltiptext'>Checks if a directory is in the list of the ignored ones.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::MoveItem'>MoveItem</a><span class='tooltiptext'>Moves items of the tree (units or files)
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::NewItemID'>NewItemID</a><span class='tooltiptext'>Gets a new ID for the tree item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::NewSelection'>NewSelection</a><span class='tooltiptext'>Selects a new item of the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::OpenFile'>OpenFile</a><span class='tooltiptext'>Opens file at clicking a file tree's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::RecreateTree'>RecreateTree</a><span class='tooltiptext'>Recreates the tree and restores its selections.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SaveCursorPos'>SaveCursorPos</a><span class='tooltiptext'>Saves current unit's cursor position.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::SeeSelection'>SeeSelection</a><span class='tooltiptext'>Sees (makes visible) a current selected item in the tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::ShowPopupMenu'>ShowPopupMenu</a><span class='tooltiptext'>Creates and opens a popup menu at right clicking the tree.
</span></h4><h4><a href='alited.html#::alited::tree::SwitchTree'>SwitchTree</a></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::UnitTitle'>UnitTitle</a><span class='tooltiptext'>Gets a title of a unit (checking for empty string).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::tree::UpdateFileTree'>UpdateFileTree</a><span class='tooltiptext'>Updates the file tree (colors of files).
</span></h4><h1><a href='#::alited::unit'>alited::unit</a></h1><h2><a href='#::alited::unit-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::unit::Add'>Add</a><span class='tooltiptext'>Runs a dialog &quot;Add Template&quot; and adds a chosen template to a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::BranchLines'>BranchLines</a><span class='tooltiptext'>Gets a line range of a branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::Delete'>Delete</a><span class='tooltiptext'>Deletes a unit from a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::DropUnits'>DropUnits</a><span class='tooltiptext'>Moves unit(s) from one location in the unit tree to other.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::GetHeader'>GetHeader</a><span class='tooltiptext'>Gets a header of unit: declaration + initial comments.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::GetUnits'>GetUnits</a><span class='tooltiptext'>Gets a unit structure from a text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::InsertTemplate'>InsertTemplate</a><span class='tooltiptext'>Inserts a template into a current text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveL1L2'>MoveL1L2</a><span class='tooltiptext'>Moves a text lines to other location.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveUnit'>MoveUnit</a><span class='tooltiptext'>Moves a unit up/down the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::MoveUnits'>MoveUnits</a><span class='tooltiptext'>Moves selected units up/down the unit tree.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SearchByHeader'>SearchByHeader</a><span class='tooltiptext'>Gets tree item ID of a units by its header (declaration+initial comment).
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SearchInBranch'>SearchInBranch</a><span class='tooltiptext'>Checks whether a unit is in a branch.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::SwitchUnits'>SwitchUnits</a><span class='tooltiptext'>Switches between last two active units.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit::TemplateData'>TemplateData</a><span class='tooltiptext'>Replaces the template wildcards with data of current text and unit.
</span></h4><h1><a href='#::alited::unit_tpl'>alited::unit_tpl</a></h1><h2><a href='#::alited::unit_tpl-Commands'>Commands</a></h2><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::_create'>_create</a><span class='tooltiptext'>Creates &quot;Templates&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::_run'>_run</a><span class='tooltiptext'>Runs &quot;Templates&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Add'>Add</a><span class='tooltiptext'>Handles &quot;Add template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Cancel'>Cancel</a><span class='tooltiptext'>Handles &quot;Cancel&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Change'>Change</a><span class='tooltiptext'>Handles &quot;Change template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::ClearCbx'>ClearCbx</a><span class='tooltiptext'>Helper to clear the combobox's selection.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Delete'>Delete</a><span class='tooltiptext'>Handles &quot;Delete template&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Focus'>Focus</a><span class='tooltiptext'>Sets the focus on the template list's item.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::GetKeyList'>GetKeyList</a><span class='tooltiptext'>Creates a key list for &quot;Keys&quot; combobox.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Help'>Help</a><span class='tooltiptext'>Handles &quot;Help&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::HelpMe'>HelpMe</a><span class='tooltiptext'>'Help' for start.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::InText'>InText</a><span class='tooltiptext'>Goes into the template's text and sets the cursor on it.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Ok'>Ok</a><span class='tooltiptext'>Handles &quot;OK&quot; button.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Pos'>Pos</a><span class='tooltiptext'>Returns a cursor position in the template's text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::ReadIni'>ReadIni</a><span class='tooltiptext'>Gets templates' data from al(TPL,list) saved in alited.ini.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::RegisterKeys'>RegisterKeys</a><span class='tooltiptext'>Registers key bindings of templates, to save them to alited.ini afterwards.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::SaveIni'>SaveIni</a><span class='tooltiptext'>Puts templates' data to al(TPL,list) to save in alited.ini.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Select'>Select</a><span class='tooltiptext'>Selects an item of the template list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Selected'>Selected</a><span class='tooltiptext'>Gets ID or index of currently selected item of the template list.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::Text'>Text</a><span class='tooltiptext'>Returns the contents of the template's text.
</span></h4><h4 class='tooltip'><a href='alited.html#::alited::unit_tpl::UpdateTree'>UpdateTree</a><span class='tooltiptext'>Updates the template list.
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
